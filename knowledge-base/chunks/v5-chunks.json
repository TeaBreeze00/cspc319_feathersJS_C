[
  {
    "id": "v5-application-0",
    "content": "# Application\nBreadcrumb: Application\nCovers: .use(path, service [, options]) | path | options | .unuse(path) | .service(path) | .lookup(path) | .hooks(hooks) | .publish([event, ] publisher) | .configure(callback) | .setup([server]) | .teardown([server]) | .listen(port) | .set(name, value) | .get(name) | .on(eventname, listener) | .emit(eventname, data) | .removeListener(eventname) | .mixins | .services | .defaultService\nTopics: hooks, services, application, context, params, provider, hook context, find, get, create, update, patch, remove, setup, teardown, database, adapter, memory, channels, events, publish, rest, http, transport, client, configuration, types, cli, test, mixins, login, custom service, custom events\n\n## .use(path, service [, options])\n\n`app.use(path, service [, options]) -> app` allows registering a [service object](./services.md) on a given `path`.\n\n```ts\nimport { feathers, type Id } from '@feathersjs/feathers'\n\nclass MessageService {\n  async get(id: Id) {\n    return {\n      id,\n      text: `This is the ${id} message!`\n    }\n  }\n}\n\ntype ServiceTypes = {\n  // Add services path to type mapping here\n  messages: MessageService\n}\n\nconst app = feathers<ServiceTypes>()\n\n// Register a service instance on the app\napp.use('messages', new MessageService())\n\n// Get the service and call the service method with the correct types\nconst message = await app.service('messages').get('test')\n```\n\n### path\n\nThe `path` is a string that should be URL friendly and may contain `/` as a separator. `path` can also be `/` to register a service at the root level. A path may contain placeholders in the form of `:userId/messages` which will be included in `params.route` by a transport.\n\n### options\n\nThe following options are available:\n\n- `methods` (default: `['find', 'get', 'create', 'patch', 'update','remove']`) - A list of official and [custom service methods](services.md#custom-methods) that should be available to clients. When using this option **all** method names that should be available externally must be passed. Those methods will automatically be available for use with [hooks](./hooks).\n- `events` - A list of [public custom events sent by this service](./events.md#custom-events)\n\n```ts\nimport { EventEmitter } from 'events'\nimport { feathers, type Id } from '@feathersjs/feathers'\n\n// Feathers services will always be event emitters\n// but we can also extend it for better type consistency\nclass MessageService extends EventEmitter {\n  async doSomething(data: { message: string }, params: Params) {\n    this.emit('something', 'I did something')\n    return data\n  }\n\n  async get(id: Id) {\n    return {\n      id,\n      text: `This is the ${id} message!`\n    }\n  }\n}\n\ntype ServiceTypes = {\n  // Add services path to type mapping here\n  messages: MessageService\n}\n\nconst app = feathers<ServiceTypes>()\n\n// Register a service with options\napp.use('messages', new MessageService(), {\n  methods: ['get', 'doSomething'],\n  events: ['something']\n})\n```\n\n> **Important:**\n> \n> If the `methods` property is `undefined`, all standard methods will be enabled and accessible externally.\n>\n\n## .unuse(path)\n\n`app.unuse(path)` unregisters an existing service on `path` and calls the services [.teardown method](./services.md#teardownapp-path) if it is implemented.\n\n## .service(path)\n\n`app.service(path) -> service` returns the [service object](./services.md) for the given path. Feathers internally creates a new object from each registered service. This means that the object returned by `app.service(path)` will provide the same methods and functionality as your original service object but also functionality added by Feathers and its plugins like [service events](./events.md) and [additional methods](./services.md#feathers-functionality).\n\n```ts\nconst messageService = app.service('messages')\n\nconst message = await messageService.get('test')\n\nconsole.log(message)\n\nmessageService.on('created', (message: Message) => {\n  console.log('Created a todo')\n})\n```\n\n> **Note:**\n> \n> Note that a server side `app.service(path)` only allows the original service name (e.g. `app.service(':userId/messages')`) and does not parse placeholders. To get a service with route paramters use [.lookup](#lookuppath)\n>\n\n## .lookup(path)\n\n`app.lookup(path)` allows to look up a full path and will return the `data` (route parameters) and `service` **on the server**.\n\n```ts\nconst lookup = app.lookup('messages/4321')\n\n// lookup.service -> app.service('messages')\n// lookup.data -> { __id: '4321' }\n\n// `lookup.dta` needs to be passed as `params.route`\nlookup.service.find({\n  route: lookup.data\n})\n```\n\nCase insensitive lookups can be enabled in the `app` file like this:\n\n```ts\napp.routes.caseSensitive = false\n```\n\n## .hooks(hooks)\n\n`app.hooks(hooks) -> app` allows registration of application-level hooks. For more information see the [application hooks section in the hooks chapter](./hooks.md#application-hooks).\n\n## .publish([event, ] publisher)\n\n`app.publish([event, ] publisher) -> app` registers a global event publisher. For more information see the [channels publishing](./channels.md#publishing) chapter.\n\n## .configure(callback)\n\n`app.configure(callback) -> app` runs a `callback` function that gets passed the application object. It is used to initialize plugins and can be used to separate your application into different files.\n\n```ts\nconst setupService = (app: Application) => {\n  app.use('/todos', todoService)\n}\n\napp.configure(setupService)\n```\n\n## .setup([server])\n\n`app.setup([server]) -> Promise<app>` is used to initialize all services by calling each [services .setup(app, path)](services.md#setupapp-path) method (if available).\nIt will also use the `server` instance passed (e.g. through `http.createServer`) to set up SocketIO (if enabled) and any other provider that might require the server instance. You can register [application setup hooks](./hooks.md#setup-and-teardown) to e.g. set up database connections and other things required to be initialized on startup in a certain order.\n\nNormally `app.setup` will be called automatically when starting the application via [app.listen([port])](#listen-port) but there are cases (like in tests) when it can be called explicitly.\n\n## .teardown([server])\n\n`app.teardown([server]) -> Promise<app>` can be called to gracefully shut down the application. When the app has been set up with a server (e.g. by calling `app.listen()`) the server will be closed automatically when calling `app.teardown()`. You can also register [application hooks](./hooks.md#setup-and-teardown) on teardown to e.g. close database connection etc.\n\n## .listen(port)\n\n`app.listen([port]) -> Promise<HTTPServer>` starts the application on the given port. It will set up all configured transports (if any) and then run [app.setup(server)](#setup-server) with the server object and then return the server object.\n\n`listen` will only be available if a server side transport (REST or websocket) has been configured.\n\n## .set(name, value)\n\n`app.set(name, value) -> app` assigns setting `name` to `value`.\n\n> **danger:**\n> \n> `app.set` is global to the application. It is used for storing application wide information like database connection strings etc. **Do not use it for storing request or service specific data.** This can be done by adding data to the [hook context](./hooks.md#hook-context).\n> \n\n```ts\nimport { feathers } from '@feathersjs/feathers'\n\ntype ServiceTypes = {\n  // Add services path to type mapping here\n}\n\n// app.get and app.set can be typed when initializing the app\ntype Configuration = {\n  port: number\n}\n\nconst app = feathers<ServiceTypes, Configuration>()\n\napp.set('port', 3030)\n\napp.listen(app.get('port'))\n```\n\n> **Note:**\n> \n> On the server, settings are usually initialized using [Feathers configuration](configuration.md).\n>\n\n## .get(name)\n\n`app.get(name) -> value` retrieves the setting `name`.\n\n## .on(eventname, listener)\n\nProvided by the core [NodeJS EventEmitter .on](https://nodejs.org/api/events.html#events_emitter_on_eventname_listener). Registers a `listener` method (`function(data) {}`) for the given `eventname`.\n\n```js\napp.on('login', (user) => console.log('Logged in', user))\n```\n\n## .emit(eventname, data)\n\nProvided by the core [NodeJS EventEmitter .emit](https://nodejs.org/api/events.html#events_emitter_emit_eventname_args).\n\n```ts\ntype MyEventData = { message: string }\n\napp.emit('myevent', {\n  message: 'Something happened'\n})\n\napp.on('myevent', (data: MyEventData) => console.log('myevent happened', data))\n```\n\n> **Important:**\n> \n> `app` can not receive or send events to or from clients. A [custom service](./services.md) should be used for that.\n>\n\n## .removeListener(eventname)\n\nProvided by the core [NodeJS EventEmitter .removeListener](https://nodejs.org/api/events.html#events_emitter_removelistener_eventname_listener). Removes all or the given listener for `eventname`.\n\n## .mixins\n\n`app.mixins` contains a list of service mixins. A mixin is a callback (`(service, path, options) => {}`) that gets run for every service that is being registered. Adding your own mixins allows to add functionality to every registered service.\n\n```ts\nimport type { Id } from '@feathersjs/feathers'\n\n// Mixins have to be added before registering any services\napp.mixins.push((service: any, path: string) => {\n  service.sayHello = function () {\n    return `Hello from service at '${path}'`\n  }\n})\n\napp.use('/todos', {\n  async get(id: Id) {\n    return { id }\n  }\n})\n\napp.service('todos').sayHello()\n// -> Hello from service at 'todos'\n```\n\n## .services\n\n`app.services` contains an object of all [services](./services.md) keyed by the path they have been registered via `app.use(path, service)`. This allows to return a list of all available service names:\n\n```ts\nconst servicePaths = Object.keys(app.services)\n\nservicePaths.forEach((path) => {\n  const service = app.service(path)\n})\n```\n\n> **danger:**\n> \n> To retrieve services use [app.service(path)](#service-path), not `app.services[path]` directly.\n> \n\nA Feathers [client](client.md) does not know anything about the server it is connected to. This means that `app.services` will _not_ automatically contain all services available on the server. Instead, the server has to provide the list of its services, e.g. through a [custom service](./services.md):\n\n```ts\nclass InfoService {\n  constructor(public app: Application) {}\n\n  async find() {\n    return {\n      service: Object.keys(this.app.services)\n    }\n  }\n}\n\napp.use('info', new InfoService(app))\n```\n\n## .defaultService\n\n`app.defaultService` can be a function that returns an instance of a new standard service for `app.service(path)` if there isn't one registered yet. By default it throws a `NotFound` error when you are trying to access a service that doesn't exist.\n\n```ts\nimport { MemoryService } from '@feathersjs/memory'\n\n// For every `path` that doesn't have a service\n// Automatically return a new in-memory service\napp.defaultService = function (path: string) {\n  return new MemoryService()\n}\n```\n\nThis is used by the [client transport adapters](./client.md) to automatically register client side services that talk to a Feathers server.",
    "rawContent": "## .use(path, service [, options])\n\n`app.use(path, service [, options]) -> app` allows registering a [service object](./services.md) on a given `path`.\n\n```ts\nimport { feathers, type Id } from '@feathersjs/feathers'\n\nclass MessageService {\n  async get(id: Id) {\n    return {\n      id,\n      text: `This is the ${id} message!`\n    }\n  }\n}\n\ntype ServiceTypes = {\n  // Add services path to type mapping here\n  messages: MessageService\n}\n\nconst app = feathers<ServiceTypes>()\n\n// Register a service instance on the app\napp.use('messages', new MessageService())\n\n// Get the service and call the service method with the correct types\nconst message = await app.service('messages').get('test')\n```\n\n### path\n\nThe `path` is a string that should be URL friendly and may contain `/` as a separator. `path` can also be `/` to register a service at the root level. A path may contain placeholders in the form of `:userId/messages` which will be included in `params.route` by a transport.\n\n### options\n\nThe following options are available:\n\n- `methods` (default: `['find', 'get', 'create', 'patch', 'update','remove']`) - A list of official and [custom service methods](services.md#custom-methods) that should be available to clients. When using this option **all** method names that should be available externally must be passed. Those methods will automatically be available for use with [hooks](./hooks).\n- `events` - A list of [public custom events sent by this service](./events.md#custom-events)\n\n```ts\nimport { EventEmitter } from 'events'\nimport { feathers, type Id } from '@feathersjs/feathers'\n\n// Feathers services will always be event emitters\n// but we can also extend it for better type consistency\nclass MessageService extends EventEmitter {\n  async doSomething(data: { message: string }, params: Params) {\n    this.emit('something', 'I did something')\n    return data\n  }\n\n  async get(id: Id) {\n    return {\n      id,\n      text: `This is the ${id} message!`\n    }\n  }\n}\n\ntype ServiceTypes = {\n  // Add services path to type mapping here\n  messages: MessageService\n}\n\nconst app = feathers<ServiceTypes>()\n\n// Register a service with options\napp.use('messages', new MessageService(), {\n  methods: ['get', 'doSomething'],\n  events: ['something']\n})\n```\n\n> **Important:**\n> \n> If the `methods` property is `undefined`, all standard methods will be enabled and accessible externally.\n>\n\n## .unuse(path)\n\n`app.unuse(path)` unregisters an existing service on `path` and calls the services [.teardown method](./services.md#teardownapp-path) if it is implemented.\n\n## .service(path)\n\n`app.service(path) -> service` returns the [service object](./services.md) for the given path. Feathers internally creates a new object from each registered service. This means that the object returned by `app.service(path)` will provide the same methods and functionality as your original service object but also functionality added by Feathers and its plugins like [service events](./events.md) and [additional methods](./services.md#feathers-functionality).\n\n```ts\nconst messageService = app.service('messages')\n\nconst message = await messageService.get('test')\n\nconsole.log(message)\n\nmessageService.on('created', (message: Message) => {\n  console.log('Created a todo')\n})\n```\n\n> **Note:**\n> \n> Note that a server side `app.service(path)` only allows the original service name (e.g. `app.service(':userId/messages')`) and does not parse placeholders. To get a service with route paramters use [.lookup](#lookuppath)\n>\n\n## .lookup(path)\n\n`app.lookup(path)` allows to look up a full path and will return the `data` (route parameters) and `service` **on the server**.\n\n```ts\nconst lookup = app.lookup('messages/4321')\n\n// lookup.service -> app.service('messages')\n// lookup.data -> { __id: '4321' }\n\n// `lookup.dta` needs to be passed as `params.route`\nlookup.service.find({\n  route: lookup.data\n})\n```\n\nCase insensitive lookups can be enabled in the `app` file like this:\n\n```ts\napp.routes.caseSensitive = false\n```\n\n## .hooks(hooks)\n\n`app.hooks(hooks) -> app` allows registration of application-level hooks. For more information see the [application hooks section in the hooks chapter](./hooks.md#application-hooks).\n\n## .publish([event, ] publisher)\n\n`app.publish([event, ] publisher) -> app` registers a global event publisher. For more information see the [channels publishing](./channels.md#publishing) chapter.\n\n## .configure(callback)\n\n`app.configure(callback) -> app` runs a `callback` function that gets passed the application object. It is used to initialize plugins and can be used to separate your application into different files.\n\n```ts\nconst setupService = (app: Application) => {\n  app.use('/todos', todoService)\n}\n\napp.configure(setupService)\n```\n\n## .setup([server])\n\n`app.setup([server]) -> Promise<app>` is used to initialize all services by calling each [services .setup(app, path)](services.md#setupapp-path) method (if available).\nIt will also use the `server` instance passed (e.g. through `http.createServer`) to set up SocketIO (if enabled) and any other provider that might require the server instance. You can register [application setup hooks](./hooks.md#setup-and-teardown) to e.g. set up database connections and other things required to be initialized on startup in a certain order.\n\nNormally `app.setup` will be called automatically when starting the application via [app.listen([port])](#listen-port) but there are cases (like in tests) when it can be called explicitly.\n\n## .teardown([server])\n\n`app.teardown([server]) -> Promise<app>` can be called to gracefully shut down the application. When the app has been set up with a server (e.g. by calling `app.listen()`) the server will be closed automatically when calling `app.teardown()`. You can also register [application hooks](./hooks.md#setup-and-teardown) on teardown to e.g. close database connection etc.\n\n## .listen(port)\n\n`app.listen([port]) -> Promise<HTTPServer>` starts the application on the given port. It will set up all configured transports (if any) and then run [app.setup(server)](#setup-server) with the server object and then return the server object.\n\n`listen` will only be available if a server side transport (REST or websocket) has been configured.\n\n## .set(name, value)\n\n`app.set(name, value) -> app` assigns setting `name` to `value`.\n\n> **danger:**\n> \n> `app.set` is global to the application. It is used for storing application wide information like database connection strings etc. **Do not use it for storing request or service specific data.** This can be done by adding data to the [hook context](./hooks.md#hook-context).\n> \n\n```ts\nimport { feathers } from '@feathersjs/feathers'\n\ntype ServiceTypes = {\n  // Add services path to type mapping here\n}\n\n// app.get and app.set can be typed when initializing the app\ntype Configuration = {\n  port: number\n}\n\nconst app = feathers<ServiceTypes, Configuration>()\n\napp.set('port', 3030)\n\napp.listen(app.get('port'))\n```\n\n> **Note:**\n> \n> On the server, settings are usually initialized using [Feathers configuration](configuration.md).\n>\n\n## .get(name)\n\n`app.get(name) -> value` retrieves the setting `name`.\n\n## .on(eventname, listener)\n\nProvided by the core [NodeJS EventEmitter .on](https://nodejs.org/api/events.html#events_emitter_on_eventname_listener). Registers a `listener` method (`function(data) {}`) for the given `eventname`.\n\n```js\napp.on('login', (user) => console.log('Logged in', user))\n```\n\n## .emit(eventname, data)\n\nProvided by the core [NodeJS EventEmitter .emit](https://nodejs.org/api/events.html#events_emitter_emit_eventname_args).\n\n```ts\ntype MyEventData = { message: string }\n\napp.emit('myevent', {\n  message: 'Something happened'\n})\n\napp.on('myevent', (data: MyEventData) => console.log('myevent happened', data))\n```\n\n> **Important:**\n> \n> `app` can not receive or send events to or from clients. A [custom service](./services.md) should be used for that.\n>\n\n## .removeListener(eventname)\n\nProvided by the core [NodeJS EventEmitter .removeListener](https://nodejs.org/api/events.html#events_emitter_removelistener_eventname_listener). Removes all or the given listener for `eventname`.\n\n## .mixins\n\n`app.mixins` contains a list of service mixins. A mixin is a callback (`(service, path, options) => {}`) that gets run for every service that is being registered. Adding your own mixins allows to add functionality to every registered service.\n\n```ts\nimport type { Id } from '@feathersjs/feathers'\n\n// Mixins have to be added before registering any services\napp.mixins.push((service: any, path: string) => {\n  service.sayHello = function () {\n    return `Hello from service at '${path}'`\n  }\n})\n\napp.use('/todos', {\n  async get(id: Id) {\n    return { id }\n  }\n})\n\napp.service('todos').sayHello()\n// -> Hello from service at 'todos'\n```\n\n## .services\n\n`app.services` contains an object of all [services](./services.md) keyed by the path they have been registered via `app.use(path, service)`. This allows to return a list of all available service names:\n\n```ts\nconst servicePaths = Object.keys(app.services)\n\nservicePaths.forEach((path) => {\n  const service = app.service(path)\n})\n```\n\n> **danger:**\n> \n> To retrieve services use [app.service(path)](#service-path), not `app.services[path]` directly.\n> \n\nA Feathers [client](client.md) does not know anything about the server it is connected to. This means that `app.services` will _not_ automatically contain all services available on the server. Instead, the server has to provide the list of its services, e.g. through a [custom service](./services.md):\n\n```ts\nclass InfoService {\n  constructor(public app: Application) {}\n\n  async find() {\n    return {\n      service: Object.keys(this.app.services)\n    }\n  }\n}\n\napp.use('info', new InfoService(app))\n```\n\n## .defaultService\n\n`app.defaultService` can be a function that returns an instance of a new standard service for `app.service(path)` if there isn't one registered yet. By default it throws a `NotFound` error when you are trying to access a service that doesn't exist.\n\n```ts\nimport { MemoryService } from '@feathersjs/memory'\n\n// For every `path` that doesn't have a service\n// Automatically return a new in-memory service\napp.defaultService = function (path: string) {\n  return new MemoryService()\n}\n```\n\nThis is used by the [client transport adapters](./client.md) to automatically register client side services that talk to a Feathers server.",
    "breadcrumb": "Application",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/application.md",
    "heading": "Application",
    "subHeadings": [
      ".use(path, service [, options])",
      "path",
      "options",
      ".unuse(path)",
      ".service(path)",
      ".lookup(path)",
      ".hooks(hooks)",
      ".publish([event, ] publisher)",
      ".configure(callback)",
      ".setup([server])",
      ".teardown([server])",
      ".listen(port)",
      ".set(name, value)",
      ".get(name)",
      ".on(eventname, listener)",
      ".emit(eventname, data)",
      ".removeListener(eventname)",
      ".mixins",
      ".services",
      ".defaultService"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 2605,
    "category": "application",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "provider",
      "hook context",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "setup",
      "teardown",
      "database",
      "adapter",
      "memory",
      "channels",
      "events",
      "publish",
      "rest",
      "http",
      "transport",
      "client",
      "configuration",
      "types",
      "cli",
      "test",
      "mixins",
      "login",
      "custom service",
      "custom events"
    ],
    "embedding": [
      -0.001397,
      0.014866,
      -0.04664,
      0.018211,
      -0.004983,
      -0.037307,
      0.006763,
      0.029135,
      -0.020561,
      0.020278,
      -0.013969,
      0.012206,
      -0.007462,
      -0.002529,
      0.011034,
      -0.022265,
      -0.007338,
      -0.017326,
      0.043075,
      -0.032026,
      -0.043203,
      0.034178,
      0.008624,
      0.029578,
      0.044008,
      0.012979,
      -0.02288,
      -0.034646,
      -0.013753,
      -0.006087,
      0.026514,
      0.018092,
      -0.050876,
      -0.001063,
      -0.049275,
      -0.031984,
      -0.028253,
      0.036778,
      -0.037867,
      0.016739,
      -0.009847,
      -0.002186,
      -0.008849,
      -0.0181,
      0.016671,
      -0.039825,
      0.007354,
      -0.003709,
      -0.013411,
      -0.02485,
      -0.034707,
      0.022432,
      0.014439,
      -0.055539,
      0.049565,
      0.046173,
      -0.050803,
      0.012394,
      -0.058863,
      0.03011,
      -0.025124,
      0.004484,
      -0.020476,
      0.00009,
      0.012036,
      0.042701,
      -0.038115,
      -0.004948,
      -0.023068,
      -0.010147,
      -0.002376,
      -0.010546,
      -0.014997,
      -0.01071,
      -0.056314,
      0.022867,
      0.026849,
      -0.006025,
      -0.027368,
      0.029323,
      -0.033425,
      -0.036093,
      0.006134,
      0.004067,
      0.013242,
      -0.005951,
      -0.029629,
      0.058252,
      0.035751,
      -0.007447,
      0.019181,
      -0.052225,
      0.059767,
      -0.04956,
      -0.006334,
      -0.015583,
      -0.038215,
      -0.024371,
      0.021796,
      0.018826,
      -0.007665,
      0.020192,
      0.005069,
      -0.03873,
      0.028916,
      0.038235,
      0.003837,
      0.019246,
      0.006371,
      -0.025606,
      0.005817,
      -0.014899,
      0.004971,
      0.009976,
      -0.026764,
      -0.020455,
      0.011234,
      -0.014237,
      -0.011278,
      -0.006487,
      0.02516,
      0.043097,
      0.02862,
      0.001578,
      -0.042984,
      0.028254,
      -0.025806,
      0.058237,
      0.019217,
      -0.006095,
      0.04297,
      -0.040239,
      -0.012644,
      -0.001203,
      -0.045713,
      0.015725,
      0.031185,
      -0.01999,
      -0.020703,
      -0.032733,
      0.009205,
      0.001682,
      -0.024174,
      -0.035044,
      0.032571,
      -0.074051,
      0.077894,
      0.007608,
      -0.013902,
      -0.002152,
      0.013622,
      0.019178,
      0.005978,
      -0.050174,
      -0.006429,
      -0.071667,
      0.012513,
      0.013039,
      0.057196,
      -0.022515,
      -0.002712,
      0.024804,
      -0.048435,
      0.020388,
      0.040731,
      -0.006527,
      0.027073,
      -0.046657,
      0.003433,
      -0.035491,
      0.020994,
      -0.002825,
      0.012688,
      -0.003966,
      0.017928,
      0.020349,
      0.088882,
      0.033039,
      0.002767,
      -0.031921,
      -0.051319,
      0.022041,
      -0.019238,
      -0.054931,
      -0.008315,
      -0.005485,
      -0.018041,
      -0.04012,
      -0.033437,
      0.025569,
      -0.032171,
      -0.026009,
      0.059589,
      0.042915,
      -0.020462,
      0.023004,
      0.024551,
      0.031723,
      0.032085,
      0.035921,
      0.042242,
      0.028318,
      0.062778,
      0.026466,
      -0.02883,
      -0.041195,
      -0.008264,
      -0.025118,
      0.008586,
      -0.037813,
      0.009603,
      -0.01761,
      -0.021213,
      -0.048069,
      -0.018963,
      0.014158,
      -0.000393,
      0.013272,
      -0.011352,
      -0.037929,
      0.010711,
      0.020442,
      0.014015,
      -0.010881,
      0.013582,
      -0.011693,
      0.027637,
      0.006976,
      -0.008461,
      -0.009433,
      -0.04167,
      0.052509,
      0.014407,
      -0.030096,
      0.031353,
      -0.02364,
      -0.027467,
      0.026331,
      0.013236,
      0.03059,
      -0.026672,
      -0.037329,
      0.000119,
      0.005626,
      -0.031484,
      -0.001798,
      0.077207,
      0.015024,
      -0.023202,
      -0.032742,
      -0.008153,
      0.00983,
      0.011646,
      -0.010582,
      0.025046,
      0.002597,
      0.050247,
      -0.010242,
      -0.004761,
      -0.044692,
      -0.014368,
      0.023764,
      -0.009422,
      0.002877,
      0.035346,
      -0.005011,
      -0.05797,
      -0.054206,
      0.00934,
      0.010716,
      0.017935,
      -0.007887,
      0.038481,
      -0.005614,
      -0.022702,
      -0.015392,
      0.007993,
      -0.042988,
      0.094209,
      0.024989,
      0.004191,
      0.041164,
      0.048009,
      0.06093,
      0.00586,
      0.006253,
      -0.006526,
      -0.015633,
      0.03216,
      -0.025984,
      0.005767,
      -0.017627,
      0.075955,
      0.004474,
      -0.040589,
      0.039745,
      0.010299,
      -0.135638,
      -0.02968,
      0.030434,
      0.033604,
      0.011136,
      0.010374,
      -0.054931,
      -0.002281,
      -0.062956,
      0.036241,
      -0.006413,
      -0.062925,
      -0.019362,
      -0.004921,
      0.019375,
      -0.01739,
      -0.005632,
      0.010103,
      0.01799,
      -0.045924,
      -0.025664,
      -0.015324,
      0.027851,
      0.018891,
      -0.016469,
      -0.002741,
      -0.009746,
      0.010327,
      -0.040646,
      0.00247,
      -0.007018,
      0.033925,
      0.005628,
      0.01557,
      -0.005038,
      -0.026139,
      0.026701,
      0.0376,
      -0.029034,
      -0.026106,
      0.002862,
      0.05143,
      -0.000393,
      -0.009103,
      -0.004984,
      -0.034139,
      0.039795,
      0.021243,
      -0.028722,
      -0.018046,
      0.003153,
      -0.021723,
      -0.000199,
      -0.003328,
      -0.058688,
      -0.009889,
      0.045519,
      0.062915,
      0.02307,
      -0.021398,
      -0.052784,
      0.003267,
      0.055311,
      -0.01994,
      -0.001076,
      -0.00167,
      0.003193,
      0.032007,
      0.026707,
      -0.046321,
      0.028193,
      -0.062387,
      0.011222,
      0.006915,
      -0.046447,
      -0.003372,
      0.029316,
      -0.038311,
      -0.024147,
      -0.1119,
      -0.002246,
      0.011314,
      0.002568,
      0.011402,
      -0.034226,
      -0.017862,
      -0.026608,
      -0.009431,
      0.026466,
      0.265782,
      0.000387,
      -0.005967,
      0.024211,
      0.08094,
      -0.05144,
      0.024964,
      0.08174,
      0.011906,
      -0.016415,
      0.009556,
      0.026959,
      -0.00108,
      -0.008999,
      -0.037841,
      0.008035,
      -0.056284,
      0.024971,
      0.064152,
      -0.020722,
      0.00695,
      -0.033459,
      -0.0078,
      0.023482,
      -0.065189,
      -0.029646,
      0.007246,
      0.019429,
      -0.024145,
      0.003245,
      -0.001239,
      -0.006333,
      0.03182,
      -0.059056,
      -0.063673,
      -0.026303,
      -0.024746,
      -0.020045,
      -0.021031,
      0.001743,
      -0.011742,
      0.001806,
      0.05286,
      0.005926,
      -0.005903,
      -0.004161,
      -0.013595,
      -0.018211,
      -0.069391,
      -0.050253,
      -0.001793,
      -0.004333,
      -0.01191,
      -0.012516,
      -0.017628,
      -0.007541,
      -0.008619,
      -0.010145,
      -0.006766,
      -0.028282,
      0.039532,
      0.01056,
      -0.078363,
      0.053331,
      0.008573,
      0.026827,
      0.016171,
      -0.02899,
      0.001838,
      0.055865,
      -0.013342,
      0.028968,
      0.038566,
      0.008792,
      -0.010117,
      0.001344,
      0.034848,
      0.019214,
      -0.012841,
      0.042205,
      -0.022384,
      -0.003189,
      -0.028335,
      0.045554,
      0.0199,
      0.024948,
      -0.001133,
      0.04923,
      0.015226,
      -0.031731,
      0.009531,
      0.00693,
      -0.006056,
      0.061326,
      0.015951,
      0.022967,
      0.01815,
      0.002506,
      0.01095,
      -0.037156,
      0.03595,
      0.0101,
      0.027886,
      -0.016888,
      0.063605,
      0.007369,
      -0.011904,
      0.009361,
      0.007373,
      -0.013862,
      -0.03045,
      0.010213,
      0.039596,
      -0.02284,
      0.01046,
      0.014704,
      0.047312,
      0.005948,
      0.041364,
      0.000676,
      -0.042731,
      0.03547,
      0.004239,
      0.008509,
      0.008884,
      -0.073544,
      -0.020963,
      -0.007471,
      -0.016843,
      0.062903,
      0.037375,
      -0.039404,
      -0.003533,
      0.068029,
      0.053683,
      0.021211,
      0.032738,
      0.016263,
      0.011746,
      0.002056,
      -0.00155,
      -0.008617,
      -0.016433,
      -0.013203,
      -0.006063,
      0.057291,
      -0.029397,
      0.00998,
      -0.032081,
      0.006304,
      0.042221,
      0.05048,
      0.0475,
      -0.041368,
      -0.02764,
      -0.019798,
      0.002166,
      0.017624,
      0.024639,
      -0.018311,
      -0.022194,
      -0.007269,
      0.010129,
      0.035673,
      0.016904,
      -0.042653,
      0.045512,
      0.00944,
      0.006991,
      -0.017835,
      -0.021876,
      -0.06256,
      -0.033796,
      0.059558,
      -0.034997,
      -0.012463,
      -0.0394,
      -0.008178,
      0.005573,
      -0.022035,
      -0.008191,
      -0.000378,
      -0.01624,
      -0.027627,
      -0.003748,
      0.010197,
      -0.015112,
      -0.007044,
      0.020562,
      -0.030126,
      -0.026728,
      0.114469,
      0.02021,
      0.010468,
      0.053899,
      -0.026064,
      0.046092,
      0.027823,
      0.005477,
      -0.00698,
      -0.009125,
      0.007472,
      -0.012551,
      0.019024,
      -0.02046,
      -0.008492,
      0.003308,
      0.040407,
      -0.063974,
      0.035753,
      0.026678,
      0.021147,
      -0.019906,
      -0.00557,
      -0.001228,
      -0.035925,
      0.064897,
      0.067069,
      0.031886,
      -0.00541,
      -0.041613,
      -0.019324,
      -0.013364,
      -0.019824,
      0.030153,
      0.00755,
      0.03622,
      -0.011325,
      -0.028589,
      -0.003724,
      -0.008384,
      0.034389,
      0.033796,
      -0.049872,
      0.010128,
      -0.035503,
      0.030373,
      0.003918,
      0.011112,
      -0.01257,
      0.030742,
      0.030051,
      0.045407,
      0.034296,
      -0.004533,
      0.006601,
      -0.023696,
      -0.056787,
      -0.058426,
      0.015538,
      -0.006366,
      -0.03395,
      -0.003026,
      -0.039679,
      0.014054,
      0.030977,
      0.05279,
      -0.022314,
      -0.043806,
      -0.005406,
      0.006026,
      0.021029,
      -0.013415,
      -0.016175,
      0.005624,
      -0.035109,
      0.005266,
      -0.032436,
      -0.027968,
      -0.000448,
      -0.038429,
      -0.013905,
      -0.020054,
      -0.074812,
      0.018653,
      0.030946,
      -0.00709,
      -0.025658,
      0.027825,
      -0.001128,
      -0.060095,
      0.004792,
      0.032086,
      0.016764,
      0.014007,
      0.02882,
      0.00529,
      -0.002306,
      0.027247,
      -0.049817,
      0.012494,
      0.013568,
      -0.002452,
      0.03156,
      -0.014138,
      -0.014403,
      -0.029438,
      0.030349,
      -0.014427,
      -0.022645,
      -0.015912,
      -0.001034,
      0.000903,
      -0.041889,
      -0.008554,
      0.028366,
      -0.002043,
      -0.049754,
      0.020873,
      0.026401,
      -0.005841,
      -0.046337,
      0.009541,
      0.014287,
      0.030522,
      -0.043005,
      0.06645,
      -0.013079,
      -0.013092,
      -0.057196,
      0.005968,
      0.006243,
      0.000601,
      -0.01948,
      0.005931,
      -0.008812,
      0.034763,
      -0.038388,
      -0.037559,
      0.008628,
      -0.055516,
      0.004885,
      -0.008868,
      -0.00533,
      -0.02057,
      0.033666,
      0.048874,
      -0.018542,
      -0.020039,
      -0.044204,
      0.007482,
      0.022635,
      0.053284,
      -0.024328,
      0.049467,
      -0.052613,
      -0.00301,
      0.003514,
      0.002345,
      0.01564,
      -0.029475,
      -0.04699,
      -0.015981,
      -0.02921,
      0.020081,
      -0.021595,
      -0.050508,
      -0.011603,
      -0.019002,
      -0.015815,
      -0.021099,
      0.078559,
      -0.01509,
      -0.028419,
      0.012524,
      0.011457,
      0.0186,
      -0.059827,
      0.00784,
      -0.012334,
      -0.026598,
      0.006008,
      -0.016772,
      0.022638,
      -0.027648,
      0.010135,
      -0.009263,
      0.022578,
      0.010743,
      -0.018901,
      -0.02998,
      -0.030971,
      -0.040995,
      0.011486,
      -0.033462,
      -0.015022,
      -0.012067,
      0.029306,
      0.016609,
      0.033316,
      -0.006343,
      0.004198,
      -0.007521,
      -0.004762,
      -0.1347,
      0.032043,
      0.029963,
      -0.007609,
      -0.006668,
      0.027241,
      -0.009754,
      -0.021239,
      0.013521,
      -0.022481,
      -0.021032,
      0.005208,
      0.049686,
      -0.045505,
      -0.013684,
      0.039169,
      0.015741,
      -0.024065,
      0.007628,
      -0.029372,
      0.014119,
      -0.009398,
      0.041467,
      -0.013333,
      0.014244,
      -0.000422,
      -0.058156,
      -0.017014,
      -0.019853,
      0.009625,
      -0.01255,
      0.009246,
      0.001221,
      0.006579,
      0.009201,
      0.011596,
      0.003706,
      0.018409,
      0.000343,
      0.015245,
      -0.015542,
      0.019148,
      -0.068739,
      0.036717,
      0.015852,
      0.058744,
      -0.023679,
      -0.063947,
      -0.036993,
      0.009889,
      -0.00889,
      0.038295,
      0.016773,
      0.040239,
      -0.019652,
      0.007059,
      -0.038558,
      0.005459,
      -0.057518,
      0.036521,
      -0.059822,
      0.042218,
      -0.015897,
      -0.029928,
      -0.002162,
      0.016121,
      -0.032407,
      0.039585,
      0.007905,
      0.002531,
      0.029126,
      -0.021789,
      -0.054341,
      -0.019007,
      0.035787,
      -0.009713,
      0.051698,
      0.010124,
      -0.030471,
      -0.009342,
      -0.021882,
      -0.025876,
      -0.070495,
      0.061564,
      0.036374,
      0.004031,
      0.02798,
      0.022273,
      -0.029179,
      -0.01056,
      -0.007608,
      -0.045174,
      0.017164,
      0.048617,
      -0.018118,
      0.035525,
      0.012626,
      0.007479,
      -0.001211,
      -0.007622,
      -0.025937,
      -0.001268,
      0.029918,
      -0.011696,
      -0.035919,
      0.001095,
      0.019318,
      0.007067,
      -0.029173,
      -0.015016,
      -0.031088,
      0.013709,
      -0.007882,
      0.009104,
      -0.040612,
      -0.002882,
      -0.002057,
      0.051177,
      -0.017663,
      0.008853,
      -0.007574,
      -0.003839,
      0.017462,
      -0.024864,
      0.019742,
      0.037867,
      0.031329,
      0.00465,
      0.037616,
      0.000021,
      0.028172,
      -0.038032,
      -0.023981,
      -0.007773,
      0.041474,
      -0.057582,
      -0.077671,
      0.055229,
      -0.018115,
      -0.04446,
      -0.053864,
      -0.012239,
      -0.005916,
      -0.0232,
      -0.002202,
      -0.046628,
      -0.01188,
      0.022126,
      -0.008009,
      -0.015207,
      -0.003703,
      0.026861,
      -0.022398,
      0.044004,
      0.009515,
      0.038258,
      -0.008314,
      0.002428,
      -0.024746,
      0.051031,
      -0.001191,
      -0.028976,
      -0.018748,
      -0.024028,
      -0.003472,
      0.011188,
      -0.007624,
      -0.008383,
      -0.021348,
      0.020303,
      -0.015137,
      0.063334,
      0.000966,
      -0.020154,
      0.005944,
      -0.002965,
      0.013909,
      -0.003962,
      0.019106,
      -0.04546,
      0.00705,
      0.018243,
      0.058929,
      0.007426,
      0.030491,
      0.012961,
      0.008486,
      0.005894,
      0.039914,
      -0.007093,
      -0.034327,
      -0.003797,
      0.003479,
      0.005766,
      0.02924,
      0.000317,
      0.023299,
      -0.02253,
      -0.008809,
      0.055972,
      0.013197,
      -0.032981,
      -0.024036,
      -0.00594,
      0.012448,
      0.012392,
      -0.037093,
      -0.014164,
      -0.000103,
      0.035054,
      -0.034955,
      -0.002952,
      -0.003101,
      -0.000215,
      0.011283,
      0.030044,
      0.030801,
      0.017333,
      0.003311,
      -0.045751,
      0.024604,
      0.016042,
      -0.006738,
      -0.065629,
      -0.047311,
      -0.029022,
      0.00826,
      0.010917,
      -0.038035,
      -0.000556,
      -0.011918,
      -0.034938,
      -0.003287,
      0.035348,
      -0.031863,
      -0.015347,
      0.013474,
      0.044886,
      -0.012424,
      -0.005538,
      0.05238,
      0.00298,
      -0.004205,
      0.007797
    ]
  },
  {
    "id": "v5-client-0",
    "content": "# Authentication Client\nBreadcrumb: Authentication Client\nCovers: Usage | Options | app.reAuthenticate([force]) | app.authenticate(data) | app.logout() | app.get('authentication') | app.authentication | AuthenticationClient | service | storage | handleSocket(socket) | getFromLocation(location) | setAccessToken(token) | getAccessToken() | removeAccessToken() | reset() | handleError() | reAuthenticate(force, strategy?) | authenticate() | logout() | Customization | Hooks | authentication | populateHeader\nTopics: hooks, application, params, get, remove, setup, authentication, authorization, jwt, oauth, memory, real-time, socket.io, rest, http, transport, client, errors, cli, logging, login\n\n## Usage\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\nimport authentication from '@feathersjs/authentication-client'\n\nconst socket = io('http://api.feathersjs.com')\nconst app = feathers()\n\n// Setup the transport (Rest, Socket, etc.) here\napp.configure(socketio(socket))\n\n// Available options are listed in the \"Options\" section\napp.configure(authentication())\n```\n\n## Options\n\nThe following options are available for `app.configure(authentication(options))`:\n\n- `storage` (default: `localStorage` if available, `MemoryStorage` otherwise) - The storage to store the access token. For React Native use `import { AsyncStorage } from 'react-native'`\n- `path` (default: '/authentication') - The path of the authentication service\n- `locationKey` (default: `'access_token'`) - The name of the window hash parameter to parse for an access token from the `window.location`. Usually used by the OAuth flow.\n- `locationErrorKey` (default: `'error') - The name of the window hash parameter to parse for authentication errors. Usually used by the OAuth flow.\n- `jwtStrategy` (default: `'jwt'`) - The access token authentication strategy\n- `storageKey` (default: `'feathers-jwt'`) - Key for storing the token in `storage`\n- `header` (default: `'Authorization'`) - Name of the accessToken header\n- `scheme` (default: `'Bearer'`) - The HTTP header scheme\n- Authentication (default: `AuthenticationClient`) - Allows to provide a [customized authentication client class](#customization)\n\n> **info:**\n> \n> Verifying or parsing the token on the client usually isn't necessary since the server does that on JWT authentication and returns with the token information but it can still be done manually with the [jwt-decode](https://www.npmjs.com/package/jwt-decode) package.\n>\n\n## app.reAuthenticate([force])\n\n`app.reAuthenticate() -> Promise` will try to authenticate using the access token from the storage or the window location (e.g. after a successful [OAuth](./oauth.md) login). This is normally called to either show your application (when successful) or showing a login page or redirecting to the appropriate OAuth link.\n\n```js\ntry {\n  await app.reAuthenticate()\n  showDashboard()\n} catch (error) {\n  showLoginPage()\n}\n```\n\n> **danger:**\n> \n> `app.reAuthenticate()` has to be called when you want to use the token from storage. **There is no need to call it more than once**, so youâ€™d typically only do it once when the application initializes. When successful, all subsequent requests will send their authentication information automatically.\n> \n\nIn some rare cases, for example making sure the user object returned by `app.get('authentication')` is up-to-date after it was changed on the server, you may force reauthentication via `app.reAuthenticate(true)`.\n\n## app.authenticate(data)\n\n`app.authenticate(data) -> Promise` will try to authenticate with a Feathers server by passing a `strategy` and other properties as credentials.\n\n```ts\ntry {\n  // Authenticate with the local email/password strategy\n  await app.authenticate({\n    strategy: 'local',\n    email: 'my@email.com',\n    password: 'my-password'\n  })\n  // Show e.g. logged in dashboard page\n} catch (error: any) {\n  // Show login page (potentially with `e.message`)\n  console.error('Authentication error', e)\n}\n```\n\n- `data {Object}` - of the format `{strategy [, ...otherProps]}`\n  - `strategy {String}` - the name of the strategy to be used to authenticate. Required.\n  - `...otherProps {Properties} ` vary depending on the chosen strategy. Above is an example of using the `local` strategy.\n\n## app.logout()\n\nRemoves the access token from storage on the client. It also calls the `remove` method of the [authentication service](./service.md).\n\n## app.get('authentication')\n\n`app.get('authentication') -> Promise` is a Promise that resolves with the current authentication information. For most strategies this is the best place to **get the currently authenticated user**:\n\n```js\n// Returns the authenticated user\nconst { user } = await app.get('authentication')\n// Gets the authenticated accessToken (JWT)\nconst { accessToken } = await app.get('authentication')\n```\n\n## app.authentication\n\nReturns the instance of the [AuthenticationClient](#authenticationclient).\n\n## AuthenticationClient\n\n\n\n### service\n\n`app.authentication.service` returns an instance of the authentication client service, normally `app.service('authentication')`.\n\n### storage\n\n`app.authentication.storage` returns the storage instance (e.g. window.LocalStorage, React Native AsyncStorage or an in-memory store).\n\n### handleSocket(socket)\n\n`app.authentication.handleSocket(socket) -> void` makes sure that a websocket real-time connection is always re-authenticated before making any other request.\n\n### getFromLocation(location)\n\n`app.authentication.getFromLocation(location) -> Promise` tries to retrieve an access token from `window.location`. This usually means the `access_token` in the hash set by the [OAuth authentication strategy](./oauth.md).\n\n### setAccessToken(token)\n\n`app.authentication.setAccessToken(token) -> Promise` sets the access token in the storage (normally `feathers-jwt` in `window.localStorage`).\n\n### getAccessToken()\n\n`app.authentication.getAccessToken() -> Promise` returns the access token from `storage`. If not found it will try to get the access token via [getFromLocation()]() or return `null` if neither was successful.\n\n### removeAccessToken()\n\n`app.authentication.removeAccessToken() -> Promise` removes the access token from the storage.\n\n### reset()\n\n`app.authentication.reset()` resets the authentication state without explicitly logging out. Should not be called directly.\n\n### handleError()\n\n`app.authentication.handleError(error, type: 'authenticate'|'logout') -> Promise` handles any error happening in the `authenticate` or `logout` method. By default it removes the access token if the error is a `NotAuthenticate` error. Otherwise it does nothing.\n\n### reAuthenticate(force, strategy?)\n\n`app.authentication.reAuthenticate(force = false, strategy) -> Promise` will re-authenticate with the current access token from [app.authentication.getAccessToken()](). If `force` is set to `true` it will always re-authenticate, with the default `false` only when not already authenticated.\n\n`strategy` is an optional parameter which defaults to the configured `jwtStrategy`.\n\n### authenticate()\n\nThe internal method called when using [app.authenticate()](#app-authenticate-data).\n\n### logout()\n\nThe internal method called when using [app.logout()](#app-logout).\n\n## Customization\n\nThe [AuthenticationClient]() can be extended to provide custom functionality and then passed during initialization:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\nimport authentication, { AuthenticationClient } from '@feathersjs/authentication-client'\n\nconst socket = io('http://api.feathersjs.com')\nconst app = feathers()\n\nclass MyAuthenticationClient extends AuthenticationClient {\n  getFromLocation(location) {\n    // Do custom location things here\n    return super.getFromLocation(location)\n  }\n}\n\n// Setup the transport (Rest, Socket, etc.) here\napp.configure(socketio(socket))\n\n// Pass the custom authentication client class as the `Authentication` option\napp.configure(\n  authentication({\n    Authentication: MyAuthenticationClient\n  })\n)\n```\n\n## Hooks\n\nThe following hooks are added to the client side application automatically (when calling `app.configure(authentication())`).\n\n### authentication\n\nHook that ensures for every request that authentication is completed and successful. It also makes the authentication information available in the client side `params` (e.g. `params.user`).\n\n### populateHeader\n\nAdds the appropriate `Authorization` header for any REST request.",
    "rawContent": "## Usage\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\nimport authentication from '@feathersjs/authentication-client'\n\nconst socket = io('http://api.feathersjs.com')\nconst app = feathers()\n\n// Setup the transport (Rest, Socket, etc.) here\napp.configure(socketio(socket))\n\n// Available options are listed in the \"Options\" section\napp.configure(authentication())\n```\n\n## Options\n\nThe following options are available for `app.configure(authentication(options))`:\n\n- `storage` (default: `localStorage` if available, `MemoryStorage` otherwise) - The storage to store the access token. For React Native use `import { AsyncStorage } from 'react-native'`\n- `path` (default: '/authentication') - The path of the authentication service\n- `locationKey` (default: `'access_token'`) - The name of the window hash parameter to parse for an access token from the `window.location`. Usually used by the OAuth flow.\n- `locationErrorKey` (default: `'error') - The name of the window hash parameter to parse for authentication errors. Usually used by the OAuth flow.\n- `jwtStrategy` (default: `'jwt'`) - The access token authentication strategy\n- `storageKey` (default: `'feathers-jwt'`) - Key for storing the token in `storage`\n- `header` (default: `'Authorization'`) - Name of the accessToken header\n- `scheme` (default: `'Bearer'`) - The HTTP header scheme\n- Authentication (default: `AuthenticationClient`) - Allows to provide a [customized authentication client class](#customization)\n\n> **info:**\n> \n> Verifying or parsing the token on the client usually isn't necessary since the server does that on JWT authentication and returns with the token information but it can still be done manually with the [jwt-decode](https://www.npmjs.com/package/jwt-decode) package.\n>\n\n## app.reAuthenticate([force])\n\n`app.reAuthenticate() -> Promise` will try to authenticate using the access token from the storage or the window location (e.g. after a successful [OAuth](./oauth.md) login). This is normally called to either show your application (when successful) or showing a login page or redirecting to the appropriate OAuth link.\n\n```js\ntry {\n  await app.reAuthenticate()\n  showDashboard()\n} catch (error) {\n  showLoginPage()\n}\n```\n\n> **danger:**\n> \n> `app.reAuthenticate()` has to be called when you want to use the token from storage. **There is no need to call it more than once**, so youâ€™d typically only do it once when the application initializes. When successful, all subsequent requests will send their authentication information automatically.\n> \n\nIn some rare cases, for example making sure the user object returned by `app.get('authentication')` is up-to-date after it was changed on the server, you may force reauthentication via `app.reAuthenticate(true)`.\n\n## app.authenticate(data)\n\n`app.authenticate(data) -> Promise` will try to authenticate with a Feathers server by passing a `strategy` and other properties as credentials.\n\n```ts\ntry {\n  // Authenticate with the local email/password strategy\n  await app.authenticate({\n    strategy: 'local',\n    email: 'my@email.com',\n    password: 'my-password'\n  })\n  // Show e.g. logged in dashboard page\n} catch (error: any) {\n  // Show login page (potentially with `e.message`)\n  console.error('Authentication error', e)\n}\n```\n\n- `data {Object}` - of the format `{strategy [, ...otherProps]}`\n  - `strategy {String}` - the name of the strategy to be used to authenticate. Required.\n  - `...otherProps {Properties} ` vary depending on the chosen strategy. Above is an example of using the `local` strategy.\n\n## app.logout()\n\nRemoves the access token from storage on the client. It also calls the `remove` method of the [authentication service](./service.md).\n\n## app.get('authentication')\n\n`app.get('authentication') -> Promise` is a Promise that resolves with the current authentication information. For most strategies this is the best place to **get the currently authenticated user**:\n\n```js\n// Returns the authenticated user\nconst { user } = await app.get('authentication')\n// Gets the authenticated accessToken (JWT)\nconst { accessToken } = await app.get('authentication')\n```\n\n## app.authentication\n\nReturns the instance of the [AuthenticationClient](#authenticationclient).\n\n## AuthenticationClient\n\n\n\n### service\n\n`app.authentication.service` returns an instance of the authentication client service, normally `app.service('authentication')`.\n\n### storage\n\n`app.authentication.storage` returns the storage instance (e.g. window.LocalStorage, React Native AsyncStorage or an in-memory store).\n\n### handleSocket(socket)\n\n`app.authentication.handleSocket(socket) -> void` makes sure that a websocket real-time connection is always re-authenticated before making any other request.\n\n### getFromLocation(location)\n\n`app.authentication.getFromLocation(location) -> Promise` tries to retrieve an access token from `window.location`. This usually means the `access_token` in the hash set by the [OAuth authentication strategy](./oauth.md).\n\n### setAccessToken(token)\n\n`app.authentication.setAccessToken(token) -> Promise` sets the access token in the storage (normally `feathers-jwt` in `window.localStorage`).\n\n### getAccessToken()\n\n`app.authentication.getAccessToken() -> Promise` returns the access token from `storage`. If not found it will try to get the access token via [getFromLocation()]() or return `null` if neither was successful.\n\n### removeAccessToken()\n\n`app.authentication.removeAccessToken() -> Promise` removes the access token from the storage.\n\n### reset()\n\n`app.authentication.reset()` resets the authentication state without explicitly logging out. Should not be called directly.\n\n### handleError()\n\n`app.authentication.handleError(error, type: 'authenticate'|'logout') -> Promise` handles any error happening in the `authenticate` or `logout` method. By default it removes the access token if the error is a `NotAuthenticate` error. Otherwise it does nothing.\n\n### reAuthenticate(force, strategy?)\n\n`app.authentication.reAuthenticate(force = false, strategy) -> Promise` will re-authenticate with the current access token from [app.authentication.getAccessToken()](). If `force` is set to `true` it will always re-authenticate, with the default `false` only when not already authenticated.\n\n`strategy` is an optional parameter which defaults to the configured `jwtStrategy`.\n\n### authenticate()\n\nThe internal method called when using [app.authenticate()](#app-authenticate-data).\n\n### logout()\n\nThe internal method called when using [app.logout()](#app-logout).\n\n## Customization\n\nThe [AuthenticationClient]() can be extended to provide custom functionality and then passed during initialization:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\nimport authentication, { AuthenticationClient } from '@feathersjs/authentication-client'\n\nconst socket = io('http://api.feathersjs.com')\nconst app = feathers()\n\nclass MyAuthenticationClient extends AuthenticationClient {\n  getFromLocation(location) {\n    // Do custom location things here\n    return super.getFromLocation(location)\n  }\n}\n\n// Setup the transport (Rest, Socket, etc.) here\napp.configure(socketio(socket))\n\n// Pass the custom authentication client class as the `Authentication` option\napp.configure(\n  authentication({\n    Authentication: MyAuthenticationClient\n  })\n)\n```\n\n## Hooks\n\nThe following hooks are added to the client side application automatically (when calling `app.configure(authentication())`).\n\n### authentication\n\nHook that ensures for every request that authentication is completed and successful. It also makes the authentication information available in the client side `params` (e.g. `params.user`).\n\n### populateHeader\n\nAdds the appropriate `Authorization` header for any REST request.",
    "breadcrumb": "Authentication Client",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/authentication/client.md",
    "heading": "Authentication Client",
    "subHeadings": [
      "Usage",
      "Options",
      "app.reAuthenticate([force])",
      "app.authenticate(data)",
      "app.logout()",
      "app.get('authentication')",
      "app.authentication",
      "AuthenticationClient",
      "service",
      "storage",
      "handleSocket(socket)",
      "getFromLocation(location)",
      "setAccessToken(token)",
      "getAccessToken()",
      "removeAccessToken()",
      "reset()",
      "handleError()",
      "reAuthenticate(force, strategy?)",
      "authenticate()",
      "logout()",
      "Customization",
      "Hooks",
      "authentication",
      "populateHeader"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 1978,
    "category": "authentication",
    "tags": [
      "hooks",
      "application",
      "params",
      "get",
      "remove",
      "setup",
      "authentication",
      "authorization",
      "jwt",
      "oauth",
      "memory",
      "real-time",
      "socket.io",
      "rest",
      "http",
      "transport",
      "client",
      "errors",
      "cli",
      "logging",
      "login"
    ],
    "embedding": [
      0.003276,
      0.032319,
      -0.053027,
      0.017336,
      -0.007683,
      -0.029556,
      0.001045,
      0.013534,
      -0.013019,
      0.020459,
      -0.00363,
      -0.013708,
      -0.008638,
      0.007366,
      0.024006,
      0.006082,
      -0.020441,
      -0.011988,
      0.019664,
      -0.010829,
      -0.038573,
      -0.005718,
      0.004998,
      -0.006631,
      0.005606,
      0.018566,
      -0.003174,
      -0.033417,
      0.001738,
      -0.000207,
      0.036992,
      0.024564,
      -0.039395,
      -0.007674,
      -0.026267,
      -0.000121,
      0.007318,
      0.022065,
      -0.041984,
      0.03862,
      -0.019044,
      -0.016276,
      0.007388,
      -0.000046,
      0.003027,
      -0.05137,
      0.019537,
      -0.002587,
      0.01373,
      -0.022876,
      -0.03599,
      -0.013679,
      0.030422,
      -0.040652,
      0.050109,
      0.023014,
      0.008531,
      -0.018195,
      -0.060883,
      0.017608,
      0.01042,
      0.005021,
      -0.037365,
      -0.000953,
      -0.027548,
      0.021554,
      -0.02356,
      0.015553,
      -0.018221,
      -0.047909,
      0.021711,
      0.037829,
      -0.043272,
      0.002989,
      -0.066753,
      0.011435,
      0.040548,
      0.032117,
      -0.01007,
      0.030688,
      -0.025698,
      0.005696,
      0.01261,
      -0.013246,
      -0.007915,
      -0.022846,
      -0.010394,
      0.033055,
      0.045291,
      -0.008262,
      0.014714,
      -0.047864,
      0.084639,
      -0.058362,
      -0.008803,
      0.006221,
      -0.027373,
      -0.032281,
      0.023066,
      0.045235,
      0.006868,
      -0.003626,
      -0.020478,
      -0.033856,
      0.010965,
      0.05307,
      0.039528,
      0.003983,
      0.001212,
      -0.034723,
      -0.01519,
      0.001199,
      0.029612,
      0.00405,
      -0.03914,
      0.002237,
      0.019372,
      -0.024558,
      -0.000722,
      0.008003,
      -0.019706,
      0.027704,
      0.008257,
      -0.012026,
      -0.002645,
      -0.009409,
      -0.009875,
      0.022669,
      0.028522,
      0.001428,
      0.042533,
      -0.060734,
      -0.034343,
      -0.011197,
      -0.087646,
      0.024094,
      0.026799,
      0.026664,
      -0.023148,
      -0.048391,
      0.011966,
      0.01047,
      0.002761,
      0.00452,
      0.050616,
      -0.018471,
      0.073927,
      0.018909,
      -0.018122,
      0.0005,
      -0.002211,
      -0.018696,
      0.014314,
      -0.053979,
      0.003388,
      -0.05713,
      0.013343,
      0.037752,
      0.026938,
      -0.031152,
      -0.011135,
      0.009936,
      -0.04472,
      0.001761,
      0.031712,
      -0.025671,
      0.018924,
      -0.048594,
      -0.002514,
      -0.029049,
      0.019646,
      -0.028916,
      -0.030803,
      -0.016205,
      0.009902,
      0.026615,
      0.080863,
      0.027676,
      0.004652,
      -0.037844,
      -0.055873,
      -0.001782,
      0.018293,
      -0.043448,
      0.00272,
      -0.035863,
      -0.001997,
      -0.012511,
      -0.014632,
      0.039525,
      -0.01958,
      -0.007013,
      0.013105,
      0.008703,
      -0.003886,
      -0.014218,
      0.001971,
      0.015717,
      0.021645,
      0.014669,
      0.003292,
      0.022608,
      0.042135,
      0.009633,
      -0.033414,
      -0.012342,
      0.029305,
      -0.018359,
      0.009012,
      -0.067348,
      -0.001588,
      0.009572,
      0.021448,
      -0.016622,
      -0.051711,
      0.025983,
      0.005262,
      0.025713,
      -0.025417,
      -0.006032,
      0.001632,
      -0.00795,
      -0.00966,
      -0.023255,
      0.04826,
      0.006073,
      0.029111,
      -0.017924,
      -0.002916,
      -0.0325,
      -0.012838,
      0.025659,
      0.033826,
      -0.047234,
      0.03022,
      -0.020562,
      -0.053594,
      -0.025764,
      -0.000776,
      -0.024053,
      0.015483,
      -0.048414,
      0.015514,
      -0.015543,
      -0.034832,
      0.003854,
      -0.010549,
      0.030331,
      -0.023355,
      -0.030402,
      -0.039475,
      0.015529,
      -0.003658,
      0.005735,
      0.029564,
      0.012506,
      0.039427,
      -0.00684,
      -0.036635,
      -0.037748,
      -0.005051,
      0.0108,
      -0.009454,
      0.010573,
      0.009532,
      -0.004098,
      -0.056345,
      -0.055728,
      0.020992,
      0.019609,
      -0.05295,
      0.029147,
      0.038213,
      0.001122,
      -0.009006,
      0.01422,
      0.024816,
      -0.04108,
      0.096271,
      0.037351,
      -0.009012,
      0.011028,
      0.02361,
      0.042298,
      0.017462,
      0.018448,
      -0.003505,
      0.000167,
      0.02355,
      -0.05655,
      -0.001182,
      0.01872,
      0.077667,
      0.008784,
      -0.00203,
      0.007519,
      -0.004947,
      -0.128972,
      -0.003603,
      0.041273,
      0.013896,
      -0.001637,
      0.018916,
      -0.063627,
      -0.012473,
      -0.051993,
      0.027786,
      -0.020816,
      -0.055877,
      -0.015948,
      -0.009193,
      0.045316,
      -0.006771,
      -0.004328,
      0.020932,
      0.042932,
      -0.039953,
      -0.017783,
      -0.045562,
      0.051276,
      -0.002931,
      0.040173,
      0.007328,
      0.017575,
      0.001752,
      -0.044855,
      0.000631,
      0.00113,
      0.019483,
      -0.000014,
      0.005189,
      -0.009392,
      0.008642,
      -0.000332,
      -0.000518,
      0.027465,
      -0.025623,
      0.031899,
      0.008774,
      -0.010045,
      -0.012216,
      0.040231,
      -0.06203,
      0.039527,
      0.014821,
      -0.016197,
      -0.013159,
      0.026793,
      -0.019471,
      0.005278,
      -0.012771,
      -0.032334,
      0.002271,
      0.050089,
      0.059764,
      0.010138,
      -0.004828,
      0.0196,
      0.000623,
      0.047331,
      -0.01366,
      -0.021464,
      -0.012522,
      0.002571,
      0.013589,
      -0.00584,
      -0.045494,
      0.049448,
      -0.049959,
      0.012338,
      0.000138,
      0.00282,
      0.022938,
      0.027829,
      -0.021982,
      -0.020398,
      -0.090561,
      0.021607,
      0.005656,
      -0.018856,
      0.021804,
      -0.045816,
      -0.057089,
      -0.010022,
      0.009286,
      0.02378,
      0.235463,
      0.021376,
      -0.011946,
      0.020197,
      0.06097,
      -0.011463,
      -0.002388,
      0.050535,
      0.013915,
      -0.03223,
      -0.005131,
      0.036374,
      0.011173,
      -0.017032,
      -0.023647,
      0.017486,
      -0.082787,
      0.052115,
      0.053385,
      -0.01725,
      0.032656,
      -0.01531,
      0.031849,
      0.017483,
      -0.075116,
      -0.035305,
      -0.027447,
      0.036519,
      -0.045592,
      0.011546,
      -0.040979,
      0.025691,
      0.031854,
      -0.040041,
      -0.061366,
      -0.003798,
      -0.05445,
      -0.011725,
      -0.04057,
      0.00315,
      -0.018971,
      -0.028972,
      0.013572,
      -0.02497,
      0.003173,
      0.02769,
      -0.020797,
      0.002991,
      -0.015289,
      -0.024932,
      -0.059865,
      -0.021816,
      -0.025331,
      -0.006445,
      0.01072,
      -0.022517,
      -0.00819,
      -0.002136,
      0.007791,
      0.0139,
      0.037487,
      0.012642,
      -0.094422,
      0.054433,
      -0.002785,
      0.01626,
      0.040229,
      -0.010032,
      0.006297,
      0.081404,
      -0.010309,
      0.019348,
      0.020853,
      0.040081,
      0.00879,
      0.017857,
      0.046333,
      -0.000559,
      -0.038769,
      0.043526,
      -0.005002,
      0.019761,
      0.001166,
      0.015607,
      0.023332,
      -0.00048,
      0.004935,
      0.046825,
      0.009727,
      -0.016663,
      -0.004499,
      -0.008457,
      0.001418,
      0.020067,
      -0.026123,
      0.044971,
      0.020018,
      0.009905,
      -0.018397,
      -0.040441,
      0.033281,
      0.017735,
      -0.002909,
      -0.018572,
      0.068416,
      -0.055251,
      -0.033771,
      -0.010163,
      0.013236,
      -0.019541,
      -0.076187,
      0.015699,
      0.041887,
      -0.013369,
      0.020109,
      0.019899,
      0.052533,
      0.026097,
      0.057709,
      0.067719,
      0.021575,
      0.004208,
      -0.027749,
      0.00408,
      0.049441,
      -0.086541,
      -0.026665,
      -0.022216,
      -0.04651,
      0.072878,
      0.013514,
      -0.034139,
      0.015416,
      0.059537,
      0.042888,
      0.022903,
      0.046538,
      0.031701,
      0.043264,
      0.016828,
      -0.046728,
      0.002667,
      -0.008466,
      0.005723,
      -0.001088,
      0.0187,
      -0.030096,
      0.001949,
      0.019206,
      -0.007439,
      0.034872,
      0.05617,
      0.010259,
      -0.028649,
      0.009224,
      -0.05622,
      0.000381,
      -0.000891,
      -0.005436,
      -0.02599,
      0.006515,
      -0.019243,
      0.017643,
      0.044937,
      0.031931,
      -0.021428,
      0.028538,
      0.002465,
      -0.003428,
      -0.038786,
      0.002178,
      -0.08403,
      -0.050223,
      0.060511,
      0.001786,
      -0.031328,
      -0.03211,
      0.020878,
      0.003239,
      -0.064374,
      0.014474,
      -0.012639,
      -0.03801,
      -0.036319,
      0.030483,
      0.047494,
      -0.007229,
      -0.017639,
      -0.007584,
      -0.022826,
      -0.010159,
      0.088124,
      0.011102,
      0.010628,
      0.067875,
      -0.027159,
      0.040808,
      0.030553,
      0.009386,
      -0.007343,
      -0.048403,
      0.018917,
      -0.006826,
      -0.016926,
      -0.01419,
      -0.033883,
      0.00253,
      0.014235,
      -0.033243,
      0.040684,
      0.035134,
      0.018645,
      -0.031661,
      -0.007948,
      0.013505,
      -0.053708,
      0.045851,
      0.050493,
      0.013186,
      -0.019351,
      -0.017318,
      -0.010394,
      0.011043,
      -0.037237,
      0.020961,
      0.054108,
      0.02793,
      -0.03144,
      -0.03966,
      0.014899,
      -0.01123,
      -0.024142,
      0.020781,
      -0.035475,
      0.026431,
      0.000825,
      0.030771,
      0.018355,
      0.059666,
      -0.038793,
      0.045169,
      0.010955,
      0.0086,
      0.038204,
      -0.014792,
      0.018027,
      -0.0117,
      -0.021131,
      -0.043233,
      0.002777,
      -0.00376,
      -0.034657,
      -0.004378,
      -0.008115,
      0.045251,
      0.009536,
      0.082843,
      -0.030618,
      -0.001891,
      -0.015365,
      -0.034437,
      0.019226,
      0.003887,
      -0.012465,
      -0.028417,
      -0.065131,
      -0.003787,
      -0.038559,
      -0.032328,
      -0.016715,
      -0.006893,
      0.012895,
      -0.010505,
      -0.056863,
      -0.002696,
      -0.009899,
      -0.027957,
      -0.030565,
      -0.001543,
      0.012321,
      -0.044323,
      0.007669,
      0.027459,
      0.051006,
      0.017981,
      0.047173,
      0.018042,
      -0.021857,
      0.001596,
      -0.041057,
      -0.009035,
      0.005988,
      -0.004402,
      -0.00341,
      -0.032283,
      -0.018581,
      0.01333,
      0.018232,
      -0.001707,
      0.01534,
      -0.004447,
      0.002137,
      -0.010252,
      -0.032695,
      0.012562,
      0.03387,
      -0.013466,
      -0.066165,
      -0.005792,
      0.020109,
      0.017673,
      -0.030491,
      0.000645,
      0.012291,
      0.057286,
      -0.043648,
      0.050296,
      -0.055062,
      -0.002635,
      -0.028891,
      0.059688,
      -0.011635,
      -0.021184,
      0.006164,
      -0.012008,
      -0.001834,
      -0.003806,
      -0.006522,
      -0.019427,
      0.034173,
      -0.031232,
      -0.003935,
      -0.01695,
      -0.010334,
      -0.020386,
      0.024485,
      0.015645,
      -0.029901,
      -0.001043,
      -0.01229,
      -0.03035,
      -0.004441,
      0.050802,
      -0.005144,
      -0.005937,
      -0.03983,
      -0.010068,
      0.001122,
      -0.016512,
      0.028467,
      0.000058,
      -0.017584,
      -0.016306,
      -0.033187,
      0.06391,
      0.012309,
      -0.04521,
      0.015294,
      -0.02053,
      0.036025,
      -0.021024,
      0.065199,
      0.005482,
      -0.045605,
      -0.02222,
      -0.004587,
      0.022231,
      -0.042025,
      0.021061,
      -0.0224,
      -0.037023,
      0.024915,
      0.049318,
      -0.013471,
      -0.04633,
      0.018666,
      -0.000667,
      0.004415,
      0.019978,
      -0.00209,
      -0.029105,
      -0.02072,
      -0.057981,
      -0.014104,
      -0.021786,
      0.003808,
      0.014306,
      0.038536,
      0.014524,
      -0.010977,
      0.010495,
      0.032671,
      -0.016544,
      0.020274,
      -0.142033,
      0.014385,
      -0.00061,
      0.006388,
      -0.013544,
      0.017509,
      -0.012007,
      -0.025079,
      0.005957,
      -0.008309,
      -0.002831,
      -0.020381,
      0.057161,
      -0.021206,
      0.032217,
      -0.018021,
      -0.026395,
      -0.019296,
      -0.011783,
      -0.011781,
      -0.000198,
      -0.013054,
      0.029178,
      -0.02975,
      0.003457,
      -0.013263,
      -0.047752,
      -0.012599,
      -0.03854,
      0.012432,
      -0.009267,
      0.013019,
      -0.005713,
      0.027804,
      -0.023615,
      -0.007478,
      -0.006479,
      0.011052,
      -0.021479,
      0.025288,
      -0.013466,
      0.032292,
      -0.043682,
      0.014288,
      0.018216,
      0.087396,
      -0.015272,
      -0.036753,
      -0.017141,
      -0.017111,
      0.002129,
      0.008496,
      0.004647,
      -0.005661,
      0.01053,
      0.002606,
      -0.015109,
      -0.011993,
      -0.066183,
      0.004723,
      -0.039654,
      0.040949,
      -0.018512,
      -0.019121,
      -0.033158,
      0.031962,
      -0.051118,
      0.002267,
      -0.020789,
      -0.018297,
      0.00339,
      -0.03225,
      -0.036097,
      0.021881,
      0.003939,
      -0.025177,
      0.026475,
      -0.049508,
      -0.044557,
      0.000361,
      0.005076,
      -0.033836,
      -0.047781,
      0.076754,
      0.050795,
      0.058916,
      0.011366,
      0.011264,
      0.00432,
      -0.00826,
      -0.073625,
      -0.050771,
      0.018374,
      0.04083,
      0.011215,
      0.023445,
      0.000128,
      -0.021041,
      0.011404,
      0.01996,
      -0.0117,
      -0.004295,
      0.037188,
      -0.004272,
      -0.040319,
      0.016532,
      0.01649,
      0.001636,
      -0.012597,
      -0.010605,
      0.031144,
      0.011771,
      -0.017367,
      0.013306,
      -0.035408,
      -0.009488,
      0.000922,
      0.041058,
      -0.023195,
      -0.011541,
      0.015584,
      0.010324,
      -0.015942,
      -0.026291,
      0.003265,
      0.031664,
      0.047861,
      0.026267,
      0.067436,
      -0.053536,
      0.042125,
      -0.074875,
      -0.03317,
      0.027358,
      0.037154,
      -0.056253,
      -0.054163,
      0.04983,
      -0.016399,
      -0.053934,
      -0.015512,
      -0.009751,
      0.023518,
      -0.020407,
      0.004493,
      -0.034638,
      0.056711,
      0.025408,
      -0.017829,
      -0.056913,
      -0.014683,
      0.02053,
      -0.03102,
      0.037579,
      0.01612,
      0.01722,
      0.017556,
      -0.021353,
      -0.021245,
      0.039535,
      0.006023,
      -0.030742,
      -0.031899,
      -0.0052,
      -0.000155,
      -0.022541,
      -0.017235,
      -0.005901,
      -0.024436,
      0.021891,
      0.002012,
      0.066635,
      -0.014117,
      -0.022221,
      0.026982,
      -0.006,
      0.032554,
      -0.004416,
      0.033112,
      -0.027863,
      0.032816,
      0.017017,
      0.031068,
      0.028214,
      0.029332,
      -0.018405,
      0.012969,
      0.029642,
      0.022727,
      -0.020846,
      -0.002581,
      -0.000208,
      -0.011147,
      -0.006356,
      0.013532,
      -0.010096,
      -0.006586,
      -0.046063,
      -0.009522,
      0.054948,
      0.014467,
      -0.006413,
      -0.01842,
      -0.015146,
      0.010266,
      0.028159,
      -0.027094,
      -0.007818,
      -0.007194,
      0.061544,
      -0.009902,
      -0.017186,
      -0.019712,
      0.008011,
      0.017967,
      0.033646,
      0.078607,
      -0.004305,
      0.008165,
      -0.049847,
      0.044355,
      0.007458,
      -0.003166,
      -0.064843,
      -0.046407,
      -0.051029,
      0.009954,
      0.021397,
      -0.011524,
      0.018127,
      -0.036709,
      -0.030157,
      -0.008344,
      0.051045,
      0.001701,
      -0.021608,
      -0.023833,
      0.006627,
      -0.030636,
      -0.000811,
      0.005262,
      0.017967,
      0.018899,
      0.014714
    ]
  },
  {
    "id": "v5-hook-0",
    "content": "# Authenticate Hook\nBreadcrumb: Authenticate Hook\nCovers: authenticate(...strategies) | authenticate(options)\nTopics: hooks, params, authentication, jwt\n\n## authenticate(...strategies)\n\nCheck `params.authentication` against a list of authentication strategy names.\n\n```ts\nimport { authenticate } from '@feathersjs/authentication'\n\n// Authenticate with `jwt` and `api-key` strategy\n// using app.service('authentication') as the authentication service\napp.service('messages').hooks({\n  around: {\n    all: [authenticate('jwt', 'api-key')]\n  }\n})\n```\n\n## authenticate(options)\n\nCheck `params.authentication` against a list of strategies and specific authentication service. Available `options` are:\n\n- `service` - The path to the authentication service\n- `strategies` - A list of strategy names\n\n```js\nimport { authenticate } from '@feathersjs/authentication'\n\n// Authenticate with `jwt` and `api-key` strategy\n// using app.service('v1/authentication') as the authentication service\napp.service('messages').hooks({\n  before: {\n    all: [\n      authenticate({\n        service: 'v1/authentication',\n        strategies: ['jwt', 'api-key']\n      })\n    ]\n  }\n})\n```",
    "rawContent": "## authenticate(...strategies)\n\nCheck `params.authentication` against a list of authentication strategy names.\n\n```ts\nimport { authenticate } from '@feathersjs/authentication'\n\n// Authenticate with `jwt` and `api-key` strategy\n// using app.service('authentication') as the authentication service\napp.service('messages').hooks({\n  around: {\n    all: [authenticate('jwt', 'api-key')]\n  }\n})\n```\n\n## authenticate(options)\n\nCheck `params.authentication` against a list of strategies and specific authentication service. Available `options` are:\n\n- `service` - The path to the authentication service\n- `strategies` - A list of strategy names\n\n```js\nimport { authenticate } from '@feathersjs/authentication'\n\n// Authenticate with `jwt` and `api-key` strategy\n// using app.service('v1/authentication') as the authentication service\napp.service('messages').hooks({\n  before: {\n    all: [\n      authenticate({\n        service: 'v1/authentication',\n        strategies: ['jwt', 'api-key']\n      })\n    ]\n  }\n})\n```",
    "breadcrumb": "Authenticate Hook",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/authentication/hook.md",
    "heading": "Authenticate Hook",
    "subHeadings": [
      "authenticate(...strategies)",
      "authenticate(options)"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 251,
    "category": "authentication",
    "tags": [
      "hooks",
      "params",
      "authentication",
      "jwt"
    ],
    "embedding": [
      0.027722,
      0.012269,
      -0.018435,
      0.039676,
      -0.02326,
      -0.055235,
      0.019372,
      -0.005542,
      -0.018108,
      0.040044,
      0.025201,
      -0.014095,
      0.000747,
      -0.020065,
      -0.010647,
      0.011162,
      0.00965,
      -0.011073,
      0.029796,
      -0.021142,
      -0.066738,
      0.007215,
      -0.030714,
      -0.00157,
      0.03421,
      -0.012427,
      -0.002997,
      -0.043582,
      0.006291,
      0.008819,
      0.031086,
      -0.016499,
      -0.013403,
      -0.002606,
      -0.037807,
      -0.019064,
      -0.021741,
      0.003111,
      -0.028696,
      0.031461,
      -0.032386,
      -0.044484,
      0.012507,
      -0.056039,
      0.025726,
      -0.031079,
      0.016288,
      -0.007195,
      -0.025288,
      -0.003811,
      -0.002784,
      0.001867,
      0.022877,
      -0.059248,
      0.020787,
      0.041785,
      -0.007481,
      -0.017908,
      -0.037453,
      0.015059,
      0.02326,
      -0.006602,
      -0.01345,
      0.022272,
      -0.035596,
      0.034517,
      0.008071,
      0.011388,
      -0.0364,
      -0.037522,
      0.004295,
      0.051503,
      -0.057387,
      0.016612,
      -0.069681,
      0.035413,
      0.031789,
      0.006667,
      0.020889,
      0.031673,
      -0.011099,
      -0.036521,
      0.022529,
      -0.012419,
      0.021903,
      -0.016006,
      -0.014333,
      0.038219,
      0.041915,
      0.007235,
      0.019777,
      -0.022061,
      0.085953,
      -0.049894,
      0.003669,
      -0.017664,
      -0.038556,
      -0.027706,
      0.035349,
      0.043733,
      -0.018501,
      -0.013968,
      -0.001496,
      -0.02312,
      0.059075,
      0.046202,
      0.025161,
      -0.012443,
      0.015268,
      -0.03515,
      -0.003684,
      0.007949,
      0.008852,
      0.016862,
      -0.045344,
      -0.030759,
      0.016343,
      0.024658,
      0.008618,
      -0.000332,
      -0.000869,
      0.030491,
      -0.009569,
      -0.027541,
      0.005741,
      0.022078,
      0.003329,
      0.041743,
      -0.031548,
      -0.026092,
      0.014249,
      -0.043643,
      -0.018672,
      0.003265,
      -0.025195,
      0.018031,
      -0.000362,
      -0.005795,
      0.011073,
      -0.068892,
      0.021903,
      0.030277,
      -0.000475,
      0.002435,
      0.076865,
      -0.044449,
      0.055553,
      0.005113,
      0.019328,
      0.014747,
      0.023622,
      -0.021071,
      -0.003382,
      -0.02908,
      0.024018,
      -0.038299,
      -0.023033,
      0.034619,
      0.048644,
      -0.010092,
      0.003868,
      0.029052,
      -0.007518,
      -0.03267,
      0.023104,
      -0.044679,
      0.013041,
      -0.050382,
      0.00078,
      -0.009092,
      0.004497,
      -0.028887,
      -0.008696,
      -0.004821,
      -0.018752,
      0.02244,
      0.048396,
      0.018269,
      -0.007222,
      -0.024848,
      -0.054543,
      0.01731,
      0.0159,
      -0.047564,
      0.036698,
      -0.018715,
      0.000813,
      0.009494,
      -0.001024,
      -0.008156,
      -0.036785,
      0.024165,
      0.048591,
      0.026867,
      -0.00628,
      -0.051508,
      0.017899,
      0.03305,
      0.021263,
      0.003098,
      0.00962,
      -0.003145,
      0.018324,
      -0.005133,
      -0.020757,
      -0.030668,
      0.020238,
      0.028714,
      0.0106,
      -0.043117,
      0.01191,
      0.018781,
      -0.030445,
      -0.005591,
      -0.023836,
      0.044351,
      0.001943,
      0.005865,
      -0.045924,
      0.009662,
      -0.001529,
      0.016652,
      0.004599,
      -0.000553,
      0.048464,
      0.011012,
      0.021418,
      0.001297,
      -0.005802,
      -0.041135,
      -0.018206,
      0.02616,
      0.029463,
      -0.02051,
      0.023272,
      -0.017092,
      -0.049405,
      -0.009612,
      -0.000731,
      -0.009009,
      -0.025344,
      -0.055748,
      0.02471,
      0.018826,
      -0.03886,
      0.000938,
      0.022493,
      0.048839,
      -0.037573,
      -0.049182,
      -0.043644,
      0.000249,
      -0.044687,
      0.014568,
      0.014207,
      -0.014292,
      0.051235,
      -0.011891,
      -0.016584,
      -0.028384,
      -0.00068,
      0.020327,
      -0.008051,
      0.001996,
      -0.031606,
      -0.008123,
      -0.044631,
      -0.035977,
      0.017002,
      0.038652,
      -0.05418,
      0.000921,
      0.051767,
      -0.023181,
      -0.022083,
      0.018812,
      -0.021452,
      -0.06059,
      0.099907,
      0.013277,
      -0.006319,
      0.00624,
      0.042031,
      0.047884,
      0.027945,
      0.007599,
      -0.02149,
      -0.005746,
      0.031493,
      -0.051562,
      0.027251,
      0.012605,
      0.06164,
      -0.053441,
      0.002104,
      -0.002799,
      -0.004245,
      -0.145426,
      -0.049741,
      0.034011,
      -0.010407,
      0.022953,
      0.01472,
      -0.047715,
      -0.003546,
      -0.043596,
      0.010301,
      -0.018285,
      -0.049911,
      0.024064,
      -0.022458,
      0.018855,
      -0.010656,
      -0.00244,
      0.020839,
      0.016826,
      -0.029432,
      -0.045856,
      -0.066636,
      0.046811,
      0.008825,
      -0.003298,
      -0.017453,
      0.031834,
      -0.012757,
      -0.025281,
      -0.009151,
      0.002364,
      0.023465,
      0.000816,
      -0.010356,
      -0.012202,
      0.004386,
      0.029287,
      0.033812,
      0.046155,
      0.014248,
      0.036003,
      -0.011006,
      -0.003509,
      -0.053105,
      -0.006836,
      -0.048434,
      0.0237,
      -0.000372,
      -0.016775,
      0.009668,
      -0.019615,
      -0.008175,
      -0.016943,
      0.021356,
      -0.040507,
      0.000121,
      0.014558,
      0.061543,
      0.009955,
      0.019058,
      0.000759,
      -0.009147,
      0.04984,
      -0.029916,
      0.017506,
      -0.030362,
      0.042126,
      0.018281,
      -0.009785,
      -0.031725,
      0.036012,
      -0.061994,
      0.013202,
      -0.013134,
      -0.014659,
      0.005687,
      0.050711,
      0.007286,
      -0.024592,
      -0.087728,
      0.027144,
      0.002631,
      -0.035536,
      0.02543,
      -0.009275,
      -0.058555,
      0.005983,
      -0.001238,
      0.009813,
      0.206347,
      0.008789,
      0.02193,
      -0.026225,
      0.056171,
      -0.023439,
      -0.020846,
      0.062678,
      0.027161,
      -0.017407,
      -0.017497,
      0.011441,
      -0.010951,
      -0.028866,
      0.003207,
      0.006193,
      -0.084856,
      0.042133,
      0.03785,
      0.006708,
      0.063415,
      0.019736,
      0.032562,
      0.026001,
      -0.070049,
      -0.019103,
      -0.019989,
      0.041115,
      -0.023267,
      0.047668,
      -0.039249,
      0.014617,
      0.037602,
      -0.004609,
      -0.023016,
      -0.023874,
      -0.036851,
      -0.036629,
      -0.037149,
      0.029402,
      0.001617,
      -0.016185,
      0.026933,
      -0.021449,
      0.012857,
      0.01125,
      -0.037077,
      -0.00034,
      0.017292,
      -0.024417,
      -0.048238,
      -0.028217,
      -0.009228,
      -0.015166,
      0.009348,
      -0.011791,
      0.008711,
      0.020951,
      -0.033551,
      0.030187,
      0.036654,
      -0.001022,
      -0.065333,
      0.035539,
      -0.034326,
      0.004568,
      -0.017055,
      -0.046822,
      0.015492,
      0.088353,
      0.023986,
      0.027379,
      0.025949,
      0.041546,
      0.012641,
      -0.008653,
      0.015901,
      0.000004,
      -0.024672,
      0.040855,
      0.008239,
      0.023658,
      -0.022493,
      0.030816,
      0.009062,
      -0.000961,
      -0.011945,
      0.067418,
      -0.007175,
      0.005769,
      0.011155,
      0.006536,
      -0.011688,
      -0.006569,
      -0.01812,
      0.028906,
      0.05504,
      0.011631,
      -0.007007,
      0.004735,
      0.02743,
      0.037738,
      0.00095,
      0.026368,
      0.045796,
      -0.032821,
      -0.03085,
      0.004233,
      -0.01309,
      0.023875,
      -0.044845,
      -0.012037,
      0.037964,
      -0.044962,
      0.00004,
      0.057986,
      0.012291,
      0.033256,
      0.052805,
      0.044401,
      0.004998,
      0.004192,
      -0.021005,
      0.015953,
      0.033075,
      -0.053666,
      -0.025252,
      0.048978,
      -0.051172,
      0.068817,
      0.007846,
      -0.026881,
      0.031455,
      0.073934,
      0.035259,
      0.012262,
      0.049806,
      0.030244,
      0.023786,
      0.00505,
      -0.040257,
      0.002692,
      0.00758,
      0.021708,
      -0.001492,
      0.029988,
      -0.022046,
      0.003811,
      -0.01351,
      0.01893,
      0.051356,
      0.040658,
      -0.00339,
      -0.051554,
      -0.039002,
      -0.044578,
      0.012824,
      0.005987,
      -0.030438,
      -0.016295,
      -0.006803,
      0.013721,
      0.009522,
      0.048996,
      0.026719,
      0.039827,
      0.048436,
      0.002913,
      -0.001236,
      -0.017002,
      -0.020592,
      -0.077461,
      -0.063321,
      0.055128,
      0.013026,
      -0.009123,
      -0.02556,
      -0.002566,
      -0.032221,
      -0.053868,
      0.042375,
      -0.038647,
      -0.043491,
      0.029944,
      0.00302,
      0.027004,
      0.004495,
      -0.02571,
      0.012162,
      -0.031904,
      0.012511,
      0.104339,
      -0.026556,
      -0.010046,
      0.030171,
      -0.011927,
      0.012093,
      0.040911,
      0.012526,
      0.009274,
      -0.048926,
      0.005602,
      -0.022377,
      -0.042135,
      -0.006359,
      0.009214,
      0.004818,
      0.006956,
      -0.030978,
      0.036674,
      0.029003,
      0.016679,
      -0.053125,
      0.005196,
      0.040547,
      -0.020377,
      0.044181,
      0.069191,
      0.034018,
      0.004658,
      -0.039898,
      0.022134,
      0.021264,
      -0.018895,
      0.020055,
      0.019398,
      -0.014369,
      -0.027286,
      -0.030971,
      -0.020474,
      -0.013383,
      -0.037843,
      0.018349,
      0.002648,
      0.00255,
      -0.008395,
      -0.000535,
      0.010728,
      0.017874,
      -0.022883,
      0.047187,
      -0.000835,
      -0.003068,
      0.014338,
      -0.015389,
      0.006637,
      0.015902,
      -0.018397,
      -0.031138,
      0.002702,
      -0.029026,
      -0.030732,
      -0.002766,
      -0.007264,
      0.026978,
      0.049702,
      0.034546,
      -0.01962,
      -0.001107,
      0.017637,
      -0.00012,
      0.016126,
      -0.004064,
      -0.027422,
      -0.002506,
      -0.075832,
      0.000294,
      -0.041185,
      -0.049579,
      -0.040251,
      0.011678,
      -0.005696,
      -0.023395,
      -0.079383,
      -0.020521,
      0.013478,
      -0.024232,
      -0.035525,
      -0.010168,
      0.033268,
      -0.075191,
      0.035438,
      0.008144,
      0.041188,
      0.015113,
      0.063058,
      -0.008812,
      0.005425,
      -0.027148,
      -0.008957,
      0.022524,
      -0.031202,
      -0.032535,
      0.005943,
      -0.000637,
      -0.032495,
      0.018688,
      0.039275,
      -0.005489,
      0.028312,
      -0.015875,
      0.003765,
      0.012456,
      -0.0104,
      -0.004395,
      0.03274,
      -0.038599,
      -0.034633,
      0.002029,
      -0.01282,
      0.010585,
      -0.046472,
      0.006225,
      0.059585,
      0.022465,
      -0.073092,
      0.077789,
      -0.00867,
      -0.000903,
      -0.038058,
      0.039037,
      -0.016853,
      -0.042857,
      0.019826,
      0.032485,
      0.01066,
      -0.043824,
      -0.013287,
      -0.018716,
      0.020744,
      -0.045897,
      0.005173,
      -0.039931,
      -0.040639,
      -0.006769,
      0.014482,
      0.029667,
      -0.022779,
      -0.038793,
      -0.04267,
      -0.028807,
      0.015522,
      0.056472,
      -0.040429,
      0.013875,
      -0.056599,
      0.015321,
      -0.010705,
      -0.038503,
      0.016623,
      0.009411,
      0.001264,
      -0.011744,
      -0.034506,
      0.031713,
      0.00752,
      -0.020358,
      0.029628,
      -0.006972,
      0.040192,
      -0.014128,
      0.052888,
      0.011187,
      -0.03958,
      -0.006838,
      -0.002468,
      0.011769,
      -0.030819,
      -0.019154,
      -0.014364,
      -0.022857,
      0.030728,
      0.043784,
      -0.011214,
      -0.036836,
      0.047665,
      0.007043,
      -0.003204,
      0.012655,
      -0.020646,
      0.004146,
      -0.019274,
      -0.022011,
      0.0072,
      -0.024514,
      -0.001631,
      0.007241,
      0.001452,
      0.026329,
      0.04469,
      -0.005471,
      0.014285,
      -0.002414,
      0.029084,
      -0.133633,
      0.017817,
      -0.017908,
      0.003371,
      -0.028202,
      0.006775,
      -0.005048,
      -0.052503,
      0.003622,
      -0.032825,
      -0.034174,
      0.007338,
      0.018557,
      -0.020408,
      0.060988,
      -0.015506,
      -0.003386,
      -0.015901,
      -0.013113,
      -0.019767,
      0.006998,
      -0.021533,
      0.03586,
      0.00663,
      0.000814,
      -0.045049,
      -0.022718,
      -0.03257,
      -0.049035,
      -0.031621,
      -0.023801,
      -0.02525,
      0.006312,
      0.031908,
      0.009106,
      0.007667,
      -0.008775,
      0.024814,
      -0.005372,
      -0.015696,
      -0.020105,
      0.041043,
      -0.048555,
      0.016612,
      0.020342,
      0.05711,
      -0.002266,
      -0.037647,
      -0.004836,
      -0.011392,
      0.012085,
      -0.015105,
      -0.012092,
      0.014334,
      0.002167,
      0.001497,
      -0.041604,
      0.016287,
      -0.05673,
      0.013415,
      -0.028517,
      0.04862,
      -0.023864,
      -0.017078,
      -0.029616,
      0.024792,
      -0.031794,
      -0.013015,
      -0.002883,
      -0.057185,
      0.036697,
      -0.039085,
      -0.039415,
      0.01631,
      -0.000414,
      -0.038922,
      0.016553,
      -0.022723,
      -0.021666,
      -0.015215,
      0.005151,
      -0.02656,
      -0.048658,
      0.07427,
      0.062447,
      0.048048,
      0.019544,
      0.010069,
      -0.005716,
      0.010876,
      -0.076136,
      -0.058024,
      0.019425,
      0.029083,
      -0.008868,
      0.026919,
      0.024586,
      0.024104,
      0.025253,
      0.020581,
      -0.010676,
      0.008197,
      0.025056,
      0.02292,
      -0.046051,
      0.023332,
      0.018286,
      -0.005062,
      0.004391,
      -0.027517,
      -0.000558,
      0.022651,
      -0.011197,
      0.006047,
      -0.055141,
      -0.0227,
      0.002083,
      0.053841,
      -0.009785,
      -0.004714,
      0.003983,
      -0.024793,
      0.000902,
      -0.011265,
      0.010526,
      0.046252,
      0.055262,
      0.064825,
      0.046894,
      -0.028694,
      0.02129,
      -0.078314,
      -0.014445,
      0.046644,
      -0.015365,
      -0.055927,
      -0.045406,
      0.049594,
      -0.014693,
      -0.041038,
      -0.028865,
      0.00389,
      0.020219,
      -0.016079,
      -0.005724,
      -0.029118,
      0.00754,
      -0.006667,
      -0.021223,
      -0.060777,
      -0.011314,
      0.026062,
      -0.044828,
      0.045233,
      -0.002456,
      0.019972,
      -0.007519,
      -0.042447,
      -0.023985,
      0.056422,
      -0.013916,
      -0.038821,
      -0.022296,
      -0.025484,
      0.008938,
      -0.005539,
      -0.016436,
      -0.033002,
      0.007896,
      0.022712,
      0.019841,
      0.066863,
      -0.0397,
      0.00754,
      0.012788,
      0.003534,
      0.002178,
      0.012495,
      0.046939,
      -0.037432,
      0.034697,
      -0.001588,
      0.046535,
      0.006729,
      0.005675,
      -0.02059,
      0.002295,
      -0.013534,
      0.018322,
      -0.051824,
      -0.039521,
      0.000019,
      0.007727,
      -0.005993,
      0.011454,
      0.027297,
      0.003886,
      -0.009385,
      -0.009719,
      0.035643,
      -0.009654,
      -0.002244,
      -0.022687,
      -0.028937,
      -0.003979,
      0.023441,
      -0.003128,
      -0.024935,
      -0.014143,
      0.06605,
      -0.015283,
      -0.010595,
      -0.006525,
      -0.00128,
      0.018635,
      0.001752,
      0.092576,
      0.002257,
      0.024037,
      -0.043403,
      0.033904,
      -0.006209,
      -0.008265,
      -0.018611,
      -0.022759,
      -0.01058,
      -0.010972,
      0.040703,
      -0.007992,
      0.006481,
      -0.043664,
      -0.025344,
      -0.007556,
      0.063478,
      -0.006281,
      -0.003639,
      0.006076,
      -0.020702,
      -0.053336,
      -0.037611,
      -0.019302,
      0.00515,
      0.056175,
      0.018833
    ]
  },
  {
    "id": "v5-index-0",
    "content": "# Authentication Overview\nBreadcrumb: Authentication Overview\n\n",
    "rawContent": "",
    "breadcrumb": "Authentication Overview",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/authentication/index.md",
    "heading": "Authentication Overview",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "authentication",
    "tags": [],
    "embedding": [
      0.037138,
      0.000425,
      -0.025453,
      0.030885,
      -0.028488,
      0.009205,
      0.023494,
      0.038555,
      0.022097,
      0.013698,
      0.017855,
      -0.053241,
      -0.004507,
      -0.011382,
      0.010458,
      0.008192,
      0.007918,
      0.000533,
      0.024941,
      -0.018012,
      -0.023415,
      0.004236,
      0.006186,
      -0.017013,
      -0.034472,
      -0.008047,
      0.024429,
      -0.043052,
      -0.037988,
      -0.029507,
      0.048111,
      -0.028934,
      0.040227,
      0.00525,
      0.000974,
      -0.016155,
      -0.004141,
      0.006288,
      -0.037701,
      0.04829,
      -0.012157,
      -0.048508,
      0.017135,
      -0.017189,
      0.015476,
      -0.003224,
      -0.011681,
      -0.026923,
      -0.03996,
      0.016073,
      0.036406,
      -0.001958,
      0.078613,
      -0.018536,
      -0.001471,
      0.011189,
      0.021681,
      -0.004241,
      -0.057714,
      -0.014273,
      -0.028001,
      0.033183,
      -0.004179,
      0.010113,
      0.013553,
      0.005199,
      0.012206,
      0.004163,
      -0.022625,
      -0.016619,
      0.021111,
      0.043278,
      -0.042783,
      0.007779,
      -0.055572,
      0.022136,
      0.037256,
      -0.029726,
      -0.012801,
      0.007394,
      -0.037937,
      0.008148,
      0.014168,
      -0.026224,
      -0.020888,
      -0.022733,
      -0.010071,
      -0.009374,
      0.026979,
      -0.008008,
      0.002315,
      -0.036136,
      0.052677,
      -0.005485,
      -0.016982,
      -0.016981,
      -0.020278,
      -0.051755,
      0.01242,
      0.025209,
      0.020131,
      0.022572,
      0.015174,
      0.012173,
      -0.054449,
      0.018214,
      0.030804,
      0.014648,
      -0.001082,
      -0.036376,
      -0.00981,
      0.048235,
      0.046514,
      0.051316,
      0.00387,
      0.019658,
      0.017667,
      -0.013613,
      0.000057,
      -0.026961,
      0.009026,
      0.028088,
      -0.002089,
      -0.043063,
      0.054109,
      -0.01805,
      -0.019367,
      0.015747,
      -0.015822,
      -0.010177,
      -0.002642,
      -0.004707,
      -0.014309,
      0.019798,
      -0.024641,
      0.000791,
      0.029835,
      -0.026024,
      0.00532,
      -0.034149,
      -0.003755,
      0.06237,
      -0.053796,
      -0.012996,
      0.044897,
      -0.074363,
      0.038216,
      0.001878,
      0.010524,
      -0.010844,
      0.007825,
      -0.023434,
      0.059229,
      -0.010669,
      0.034246,
      -0.019008,
      -0.010959,
      0.011583,
      0.069684,
      0.002506,
      0.019496,
      0.021688,
      -0.02014,
      -0.028689,
      0.040371,
      -0.015579,
      -0.001253,
      -0.011517,
      -0.036717,
      -0.055401,
      0.003402,
      -0.043938,
      -0.038857,
      -0.02035,
      0.02641,
      0.030982,
      0.027622,
      0.01684,
      0.017125,
      -0.055033,
      -0.073937,
      -0.010345,
      -0.017068,
      -0.002296,
      0.015381,
      -0.027823,
      0.022467,
      0.008156,
      -0.004494,
      0.024097,
      -0.012951,
      0.021844,
      -0.002999,
      -0.034904,
      -0.033776,
      -0.019843,
      -0.022599,
      0.008857,
      0.005398,
      -0.026893,
      0.007814,
      0.040271,
      0.010623,
      -0.020423,
      -0.01485,
      0.004112,
      0.028059,
      -0.020291,
      -0.020428,
      -0.016517,
      0.008596,
      0.024132,
      -0.005207,
      -0.044128,
      -0.05563,
      -0.017572,
      0.026404,
      0.001538,
      -0.016328,
      0.026291,
      0.002555,
      0.014269,
      0.004646,
      0.008963,
      0.032836,
      0.020875,
      -0.035556,
      -0.014979,
      0.01453,
      0.026761,
      -0.031691,
      0.009872,
      0.021415,
      -0.009861,
      0.021207,
      -0.030253,
      -0.011794,
      0.010674,
      0.024657,
      -0.050024,
      -0.009273,
      -0.053692,
      0.037845,
      -0.024753,
      -0.031752,
      -0.016895,
      -0.048865,
      0.062566,
      -0.04694,
      -0.07233,
      0.006447,
      -0.029934,
      -0.019527,
      0.009016,
      0.000694,
      -0.027794,
      -0.020093,
      -0.004513,
      -0.027696,
      -0.03021,
      0.007619,
      -0.023944,
      -0.023523,
      0.007742,
      0.044262,
      0.026997,
      0.003695,
      -0.019657,
      0.043509,
      0.01235,
      -0.023306,
      0.017062,
      0.038578,
      0.008265,
      0.004711,
      0.01642,
      -0.024025,
      -0.033872,
      0.086013,
      0.053767,
      -0.021126,
      0.01874,
      0.033209,
      0.031713,
      0.033184,
      -0.003253,
      -0.013822,
      -0.024158,
      0.02653,
      -0.056863,
      -0.013837,
      0.029569,
      0.059648,
      -0.016944,
      -0.022573,
      0.024024,
      -0.026595,
      -0.164626,
      -0.010473,
      0.016504,
      0.019887,
      0.007365,
      0.00825,
      -0.019847,
      0.018261,
      -0.027376,
      0.018945,
      0.023981,
      -0.053648,
      0.012127,
      -0.008832,
      0.043334,
      0.017891,
      -0.019167,
      0.037569,
      0.016315,
      0.013112,
      -0.007427,
      -0.028035,
      -0.000753,
      -0.018221,
      -0.009515,
      -0.013118,
      0.090946,
      -0.026924,
      -0.056712,
      -0.017827,
      -0.02689,
      -0.005844,
      0.010061,
      -0.027562,
      0.03296,
      0.053004,
      0.01514,
      0.033521,
      0.063118,
      0.008648,
      0.035649,
      -0.01766,
      -0.004038,
      -0.030081,
      -0.003862,
      -0.029325,
      0.030352,
      0.013875,
      -0.018824,
      -0.002616,
      0.013245,
      -0.000853,
      -0.01751,
      0.02085,
      -0.067883,
      0.048789,
      0.026455,
      0.019397,
      0.006921,
      0.014475,
      0.008394,
      -0.055201,
      0.032554,
      -0.059074,
      -0.024081,
      -0.040282,
      0.015286,
      -0.025749,
      -0.007504,
      -0.054974,
      0.038511,
      -0.089759,
      0.000513,
      0.008836,
      -0.044425,
      0.030241,
      0.027211,
      -0.005636,
      -0.04934,
      -0.074503,
      0.003073,
      -0.029387,
      -0.01639,
      -0.008373,
      -0.0291,
      -0.047379,
      -0.015079,
      -0.009013,
      0.00595,
      0.217855,
      0.056725,
      -0.021411,
      -0.032137,
      0.047424,
      -0.003104,
      -0.011393,
      0.061082,
      0.042469,
      -0.023988,
      -0.006906,
      0.005813,
      0.008709,
      -0.031262,
      0.004261,
      -0.008962,
      -0.04445,
      0.019237,
      0.058287,
      0.013129,
      0.022746,
      -0.010229,
      0.066145,
      -0.001915,
      -0.083697,
      -0.027336,
      -0.001914,
      0.030103,
      -0.00426,
      0.00931,
      0.000463,
      0.040293,
      0.027759,
      -0.004543,
      -0.023769,
      -0.014719,
      -0.013206,
      -0.030061,
      -0.011501,
      0.046845,
      0.008665,
      -0.033171,
      0.034832,
      -0.008177,
      -0.010989,
      0.053029,
      0.038465,
      -0.010639,
      0.042096,
      0.022646,
      -0.029307,
      -0.040033,
      -0.022465,
      -0.010978,
      0.018534,
      -0.024363,
      -0.04071,
      -0.008233,
      -0.026775,
      0.056897,
      0.058945,
      -0.016071,
      -0.046301,
      0.033534,
      0.011537,
      0.020004,
      0.018745,
      -0.055325,
      0.015221,
      0.058004,
      -0.005285,
      0.038851,
      -0.015423,
      0.013446,
      0.037513,
      -0.011369,
      0.080981,
      -0.018039,
      -0.020134,
      0.045969,
      -0.006274,
      -0.007151,
      -0.022804,
      0.055095,
      0.014577,
      -0.016209,
      -0.000147,
      0.033305,
      0.002563,
      -0.038717,
      -0.004911,
      -0.011597,
      0.004539,
      0.03533,
      -0.021994,
      0.023313,
      0.037475,
      -0.001795,
      -0.032633,
      -0.027179,
      0.03421,
      0.011892,
      -0.005596,
      -0.01013,
      0.047917,
      -0.079232,
      -0.03606,
      0.008483,
      -0.007363,
      0.029841,
      -0.034648,
      0.022064,
      0.03055,
      -0.015893,
      0.019029,
      0.022899,
      0.02071,
      0.018626,
      0.056074,
      0.040573,
      0.010017,
      -0.007199,
      0.028756,
      -0.007652,
      0.011849,
      -0.066236,
      0.002366,
      0.021019,
      -0.02767,
      0.059679,
      0.006222,
      -0.021043,
      -0.052431,
      0.039054,
      0.046143,
      0.024323,
      0.042641,
      0.025523,
      0.022771,
      0.002614,
      -0.023953,
      0.012901,
      -0.027625,
      -0.051458,
      -0.011406,
      0.03433,
      -0.025764,
      -0.007612,
      0.027194,
      0.033964,
      0.073662,
      0.00426,
      0.019987,
      -0.049564,
      0.000033,
      -0.044893,
      -0.030292,
      -0.003695,
      -0.032633,
      -0.026177,
      0.005528,
      0.02878,
      0.022811,
      0.055765,
      0.001988,
      0.046582,
      0.033684,
      -0.018044,
      -0.028059,
      -0.010686,
      0.023647,
      -0.04956,
      -0.080411,
      0.0563,
      0.021148,
      -0.064343,
      -0.020625,
      -0.013533,
      0.01828,
      -0.021414,
      0.025004,
      -0.01235,
      -0.044067,
      -0.038962,
      0.055898,
      0.010082,
      0.009397,
      -0.027047,
      -0.000907,
      -0.01988,
      0.006832,
      0.080896,
      0.012717,
      0.008981,
      -0.010445,
      -0.009628,
      0.017425,
      0.030228,
      0.031282,
      0.018109,
      -0.058735,
      0.018262,
      -0.01473,
      -0.052113,
      -0.007375,
      -0.00883,
      -0.015548,
      0.050844,
      0.00152,
      0.009582,
      0.037355,
      -0.000921,
      -0.032806,
      -0.013839,
      -0.017473,
      0.005487,
      0.062476,
      0.041343,
      0.023595,
      -0.019891,
      -0.023436,
      -0.03404,
      0.008743,
      -0.030581,
      0.009291,
      0.031257,
      0.022258,
      0.00428,
      -0.033746,
      -0.013197,
      -0.015635,
      -0.063611,
      0.006533,
      -0.034927,
      0.015872,
      0.014556,
      0.03117,
      0.021148,
      -0.010829,
      -0.073534,
      0.029547,
      -0.006657,
      -0.001158,
      0.022555,
      -0.00218,
      0.039903,
      -0.01482,
      -0.036955,
      0.002252,
      0.012744,
      -0.02004,
      -0.039837,
      0.028106,
      -0.024466,
      -0.003978,
      -0.024971,
      0.02749,
      -0.023321,
      0.019504,
      0.010056,
      -0.055217,
      0.050251,
      0.028604,
      -0.042628,
      0.008183,
      -0.042037,
      -0.002287,
      -0.029414,
      -0.043122,
      0.019552,
      0.001863,
      -0.018059,
      -0.01507,
      -0.051603,
      0.034104,
      -0.014398,
      -0.044857,
      -0.029772,
      0.047765,
      0.036958,
      -0.019373,
      0.001029,
      0.019366,
      0.035917,
      0.021863,
      0.035477,
      -0.001709,
      0.029045,
      0.02304,
      -0.044842,
      0.028712,
      -0.019353,
      -0.063143,
      0.026772,
      -0.056412,
      0.026134,
      0.002138,
      0.079081,
      -0.024509,
      -0.006013,
      0.004717,
      -0.019847,
      -0.007411,
      -0.019436,
      0.041635,
      0.0376,
      -0.004346,
      -0.047137,
      -0.012463,
      0.003152,
      0.003776,
      -0.021008,
      -0.017079,
      0.038983,
      0.032155,
      -0.041445,
      0.064265,
      -0.06395,
      0.042048,
      -0.015952,
      0.014676,
      -0.036854,
      -0.04942,
      0.026493,
      -0.010699,
      0.020365,
      -0.01099,
      0.001186,
      0.011389,
      0.04709,
      -0.024308,
      -0.006867,
      -0.016443,
      0.008427,
      0.066744,
      0.022415,
      0.017159,
      0.004017,
      -0.048535,
      -0.004564,
      -0.02291,
      -0.015604,
      0.107022,
      -0.038932,
      -0.021556,
      -0.019567,
      -0.031375,
      0.006028,
      -0.018934,
      0.014844,
      -0.028727,
      0.012729,
      -0.037218,
      -0.040237,
      0.040884,
      -0.002198,
      0.030722,
      0.034416,
      -0.012588,
      0.030275,
      -0.005942,
      0.065156,
      0.007252,
      -0.018978,
      -0.016809,
      -0.003721,
      0.020065,
      -0.014804,
      0.019778,
      -0.012534,
      -0.041514,
      0.049463,
      0.024716,
      -0.018694,
      -0.039533,
      0.03542,
      -0.003379,
      -0.011947,
      0.034037,
      0.001997,
      -0.012755,
      -0.018132,
      -0.04704,
      0.00583,
      0.010452,
      -0.034808,
      -0.035731,
      0.001978,
      0.013575,
      0.021042,
      0.006343,
      -0.034009,
      0.010644,
      -0.001177,
      -0.122427,
      0.008045,
      -0.022079,
      -0.041977,
      0.008468,
      -0.01209,
      -0.048217,
      -0.026578,
      0.014638,
      -0.057682,
      -0.014446,
      0.032902,
      0.022831,
      0.003331,
      0.01384,
      -0.036333,
      -0.014354,
      0.002799,
      -0.012901,
      0.009652,
      0.015152,
      -0.005304,
      0.018501,
      -0.014213,
      -0.023486,
      -0.002681,
      -0.037875,
      -0.006158,
      -0.045651,
      -0.019347,
      -0.001003,
      -0.036193,
      0.01495,
      0.003804,
      0.011452,
      0.004516,
      -0.001058,
      0.011854,
      0.002404,
      0.056275,
      -0.01256,
      0.019735,
      -0.041079,
      0.000903,
      0.030978,
      0.072194,
      0.012427,
      -0.027483,
      -0.017508,
      -0.00023,
      0.00513,
      -0.041084,
      -0.050067,
      -0.00938,
      -0.009845,
      -0.020396,
      -0.05307,
      0.003687,
      -0.048662,
      -0.005467,
      -0.046938,
      0.058376,
      -0.015972,
      -0.008438,
      -0.036991,
      0.057438,
      -0.034768,
      -0.009518,
      -0.013592,
      0.018844,
      0.006148,
      -0.023388,
      -0.003277,
      -0.013915,
      -0.008083,
      0.026592,
      0.032822,
      -0.014153,
      -0.010221,
      0.000607,
      -0.014713,
      0.005047,
      -0.027886,
      0.094323,
      0.015567,
      0.033079,
      -0.021195,
      -0.011121,
      -0.032303,
      0.002759,
      -0.093287,
      -0.043427,
      0.021645,
      0.013706,
      0.013299,
      0.027478,
      -0.00349,
      -0.002413,
      -0.003275,
      0.002392,
      0.014607,
      -0.010781,
      -0.006163,
      -0.008454,
      0.008647,
      0.029634,
      0.009878,
      -0.02218,
      0.02951,
      -0.029712,
      0.022671,
      0.016126,
      -0.010778,
      0.019333,
      -0.031366,
      -0.020261,
      -0.007144,
      0.025369,
      -0.010523,
      -0.013595,
      0.045867,
      -0.026142,
      0.00737,
      -0.028771,
      0.007038,
      0.011408,
      -0.016877,
      0.012913,
      0.022773,
      -0.014098,
      0.003122,
      -0.064872,
      -0.00136,
      0.012796,
      0.006297,
      -0.052869,
      -0.021517,
      0.03585,
      -0.008954,
      -0.041913,
      -0.015278,
      -0.006115,
      0.003753,
      -0.023333,
      -0.013228,
      -0.033414,
      0.005143,
      0.007475,
      -0.016822,
      -0.03762,
      -0.028625,
      0.006091,
      0.000721,
      0.055237,
      0.004874,
      0.053852,
      -0.043871,
      -0.005584,
      -0.030235,
      0.016604,
      -0.039034,
      0.016872,
      -0.035577,
      -0.020583,
      0.002562,
      -0.032101,
      -0.023817,
      -0.013759,
      -0.032255,
      0.046843,
      0.030902,
      0.044645,
      -0.020783,
      -0.01929,
      0.074387,
      0.033577,
      -0.018149,
      -0.018946,
      0.025547,
      0.011652,
      0.026102,
      0.015726,
      0.068392,
      0.065333,
      0.021325,
      -0.01731,
      0.011983,
      0.016794,
      0.021121,
      -0.048696,
      -0.020051,
      0.007591,
      -0.031874,
      0.001946,
      0.001223,
      -0.011397,
      -0.000977,
      -0.00422,
      -0.008938,
      0.017201,
      -0.002421,
      -0.010502,
      -0.017698,
      0.004251,
      -0.002381,
      0.012125,
      -0.05436,
      0.015313,
      -0.005906,
      0.024559,
      -0.001419,
      -0.025421,
      0.019186,
      0.035793,
      0.022088,
      -0.024481,
      0.049558,
      -0.004283,
      0.0202,
      -0.001853,
      0.071493,
      -0.004578,
      -0.003768,
      -0.015504,
      -0.042584,
      0.001758,
      0.006342,
      0.032231,
      -0.01492,
      0.018187,
      -0.021904,
      -0.02947,
      -0.000792,
      0.04654,
      0.001901,
      -0.022184,
      -0.029428,
      -0.040245,
      -0.037711,
      -0.044337,
      0.028716,
      0.041688,
      0.029574,
      0.003897
    ]
  },
  {
    "id": "v5-jwt-0",
    "content": "# JWT Authentication\nBreadcrumb: JWT Authentication\nCovers: Usage | Options | JwtStrategy | getEntity(id, params) | authenticate(data, params) | getEntityQuery(params) | parse(req, res) | Customization\nTopics: application, params, get, create, authentication, authorization, jwt, http, client, configuration, types, declarations, cli, users\n\n## Usage\n\n```ts\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n\n  app.use('authentication', authentication)\n}\n```\n\n## Options\n\nOptions are set in the [authentication configuration](./service.md#configuration) under the strategy name. Available options are:\n\n- `header` (default: `'Authorization'`): The HTTP header containing the JWT\n- `schemes` (default: `[ 'Bearer', 'JWT' ]`): An array of schemes to support\n\nThe default settings support passing the JWT through the following HTTP headers:\n\n```\nAuthorization: <your JWT>\nAuthorization: Bearer <your JWT>\nAuthorization: JWT <your JWT>\n```\n\nOptions are usually set under the registered name via [Feathers configuration](../configuration.md) in `config/default.json` or `config/<environment>.json`:\n\n```json\n{\n  \"authentication\": {\n    \"jwt\": {\n      \"header\": \"X-Auth\"\n    }\n  }\n}\n```\n\n> **Important:**\n> \n> Since the default options are what most clients expect for JWT authentication they usually don't need to be customized.\n> \n\nTo change the settings for generating and validating a JWT see the [authentication service configuration](./service.md#configuration)\n\n## JwtStrategy\n\n\n\n### getEntity(id, params)\n\n`jwtStrategy.getEntity(id, params)` returns the entity instance for `id`, usually `entityService.get(id, params)`. It will _not_ be called if `entity` in the [authentication configuration](./service.md#configuration) is set to `null`.\n\n### authenticate(data, params)\n\n`jwtStrategy.authenticate(data, params)` will try to verify `data.accessToken` by calling the strategies [authenticationService.verifyAccessToken](./service.md).\n\nReturns a promise that resolves with the following format:\n\n```js\n{\n  [entity],\n  accessToken,\n  authentication: {\n    strategy: 'jwt',\n    payload\n  }\n}\n```\n\n> **Important:**\n> \n> Since the JWT strategy returns an `accessToken` property (the same as the token sent to this strategy), that access token will also be returned by [authenticationService.create](./service.md#create-data-params) instead of creating a new one.\n>\n\n### getEntityQuery(params)\n\nReturns the `query` to use when calling `entityService.get` (default: `{}`).\n\n### parse(req, res)\n\nParse the HTTP request headers for JWT authentication information. By default in the `Authorization` header. Returns a promise that resolves with either `null` or data in the form of:\n\n```js\n{\n  strategy: '<strategy name>',\n  accessToken: '<access token from HTTP header>'\n}\n```\n\n## Customization\n\n```ts\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nclass MyJwtStrategy extends JWTStrategy {\n  // Only allow authenticating activated users\n  async getEntityQuery(params: Params) {\n    return {\n      active: true\n    }\n  }\n}\n\nexport default (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new MyJwtStrategy())\n\n  // ...\n  app.use('authentication', authentication)\n}\n```",
    "rawContent": "## Usage\n\n```ts\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n\n  app.use('authentication', authentication)\n}\n```\n\n## Options\n\nOptions are set in the [authentication configuration](./service.md#configuration) under the strategy name. Available options are:\n\n- `header` (default: `'Authorization'`): The HTTP header containing the JWT\n- `schemes` (default: `[ 'Bearer', 'JWT' ]`): An array of schemes to support\n\nThe default settings support passing the JWT through the following HTTP headers:\n\n```\nAuthorization: <your JWT>\nAuthorization: Bearer <your JWT>\nAuthorization: JWT <your JWT>\n```\n\nOptions are usually set under the registered name via [Feathers configuration](../configuration.md) in `config/default.json` or `config/<environment>.json`:\n\n```json\n{\n  \"authentication\": {\n    \"jwt\": {\n      \"header\": \"X-Auth\"\n    }\n  }\n}\n```\n\n> **Important:**\n> \n> Since the default options are what most clients expect for JWT authentication they usually don't need to be customized.\n> \n\nTo change the settings for generating and validating a JWT see the [authentication service configuration](./service.md#configuration)\n\n## JwtStrategy\n\n\n\n### getEntity(id, params)\n\n`jwtStrategy.getEntity(id, params)` returns the entity instance for `id`, usually `entityService.get(id, params)`. It will _not_ be called if `entity` in the [authentication configuration](./service.md#configuration) is set to `null`.\n\n### authenticate(data, params)\n\n`jwtStrategy.authenticate(data, params)` will try to verify `data.accessToken` by calling the strategies [authenticationService.verifyAccessToken](./service.md).\n\nReturns a promise that resolves with the following format:\n\n```js\n{\n  [entity],\n  accessToken,\n  authentication: {\n    strategy: 'jwt',\n    payload\n  }\n}\n```\n\n> **Important:**\n> \n> Since the JWT strategy returns an `accessToken` property (the same as the token sent to this strategy), that access token will also be returned by [authenticationService.create](./service.md#create-data-params) instead of creating a new one.\n>\n\n### getEntityQuery(params)\n\nReturns the `query` to use when calling `entityService.get` (default: `{}`).\n\n### parse(req, res)\n\nParse the HTTP request headers for JWT authentication information. By default in the `Authorization` header. Returns a promise that resolves with either `null` or data in the form of:\n\n```js\n{\n  strategy: '<strategy name>',\n  accessToken: '<access token from HTTP header>'\n}\n```\n\n## Customization\n\n```ts\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nclass MyJwtStrategy extends JWTStrategy {\n  // Only allow authenticating activated users\n  async getEntityQuery(params: Params) {\n    return {\n      active: true\n    }\n  }\n}\n\nexport default (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new MyJwtStrategy())\n\n  // ...\n  app.use('authentication', authentication)\n}\n```",
    "breadcrumb": "JWT Authentication",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/authentication/jwt.md",
    "heading": "JWT Authentication",
    "subHeadings": [
      "Usage",
      "Options",
      "JwtStrategy",
      "getEntity(id, params)",
      "authenticate(data, params)",
      "getEntityQuery(params)",
      "parse(req, res)",
      "Customization"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "json",
      "js"
    ],
    "tokens": 875,
    "category": "authentication",
    "tags": [
      "application",
      "params",
      "get",
      "create",
      "authentication",
      "authorization",
      "jwt",
      "http",
      "client",
      "configuration",
      "types",
      "declarations",
      "cli",
      "users"
    ],
    "embedding": [
      -0.005815,
      0.029742,
      -0.052978,
      0.005284,
      -0.034043,
      -0.033931,
      0.029819,
      -0.009241,
      -0.003195,
      0.012465,
      0.025302,
      -0.011104,
      -0.009663,
      0.007198,
      -0.010811,
      0.009153,
      -0.004425,
      0.01186,
      0.020196,
      0.016752,
      -0.057002,
      -0.025441,
      0.02355,
      -0.014784,
      0.011888,
      -0.007514,
      0.014073,
      -0.025511,
      0.031769,
      0.010022,
      0.053702,
      -0.002234,
      -0.015441,
      -0.014208,
      0.009741,
      -0.010233,
      -0.016757,
      0.007582,
      -0.036675,
      0.046045,
      0.008307,
      -0.028071,
      -0.007439,
      -0.021796,
      -0.004349,
      -0.016728,
      -0.004241,
      -0.011535,
      0.001081,
      -0.003484,
      -0.055282,
      0.007058,
      0.040038,
      -0.051577,
      0.039828,
      0.047684,
      -0.011806,
      0.011453,
      -0.034328,
      0.02647,
      -0.002129,
      0.018054,
      -0.01082,
      -0.005925,
      -0.038289,
      0.012767,
      -0.006421,
      -0.01981,
      -0.008376,
      -0.034263,
      -0.009138,
      0.042221,
      -0.046873,
      -0.004283,
      -0.036858,
      0.004845,
      0.056662,
      0.021342,
      0.018842,
      0.01972,
      -0.040552,
      -0.022826,
      -0.004151,
      0.021519,
      0.015387,
      -0.023328,
      -0.015347,
      0.046071,
      0.024617,
      -0.028616,
      -0.005568,
      -0.035279,
      0.07263,
      -0.061224,
      0.01821,
      -0.01101,
      -0.039957,
      -0.007668,
      0.022151,
      0.022665,
      0.010215,
      -0.004469,
      -0.024491,
      -0.035282,
      0.033146,
      0.01969,
      0.050127,
      -0.028545,
      0.011328,
      -0.041597,
      -0.032986,
      0.013463,
      0.032978,
      0.021461,
      -0.027332,
      -0.014909,
      0.013373,
      -0.003334,
      -0.002815,
      -0.016408,
      0.003788,
      0.004915,
      0.015332,
      -0.005987,
      -0.010124,
      -0.009185,
      -0.009658,
      0.013975,
      -0.006471,
      0.02934,
      0.012754,
      -0.057733,
      -0.029475,
      -0.020819,
      -0.033072,
      0.031943,
      0.030981,
      0.019296,
      -0.025319,
      -0.058234,
      0.021107,
      0.028151,
      0.019945,
      -0.021342,
      0.040952,
      -0.033443,
      0.059261,
      0.000072,
      0.026267,
      -0.005142,
      0.007335,
      -0.021504,
      -0.003533,
      -0.03669,
      0.007909,
      -0.066011,
      -0.011318,
      0.031111,
      0.037327,
      -0.010993,
      -0.026708,
      0.052882,
      -0.035648,
      0.000516,
      0.016247,
      -0.024239,
      0.027947,
      -0.039163,
      -0.014794,
      -0.044452,
      0.039594,
      -0.013776,
      -0.011289,
      -0.0232,
      -0.010702,
      0.025221,
      0.054527,
      0.031426,
      -0.011748,
      -0.02856,
      -0.047679,
      0.007879,
      -0.014291,
      -0.025759,
      0.018078,
      -0.000626,
      -0.018107,
      -0.014034,
      -0.010048,
      0.025211,
      -0.043994,
      0.006065,
      0.02247,
      0.016444,
      -0.020856,
      -0.016337,
      0.016852,
      0.005355,
      0.020906,
      0.020203,
      -0.02264,
      0.010125,
      0.035639,
      0.022331,
      -0.043081,
      -0.007554,
      0.032986,
      -0.024828,
      0.027607,
      -0.056455,
      -0.027586,
      0.008829,
      0.016984,
      -0.025303,
      -0.034068,
      0.059569,
      0.027189,
      -0.000049,
      -0.022782,
      0.029524,
      -0.010625,
      0.019578,
      -0.019669,
      -0.003269,
      0.014086,
      0.040194,
      0.038495,
      -0.005804,
      0.006781,
      -0.01132,
      -0.023773,
      0.058744,
      -0.003003,
      0.002542,
      0.029803,
      -0.011788,
      -0.045912,
      -0.019958,
      -0.005491,
      -0.001905,
      -0.049593,
      -0.015074,
      -0.009666,
      0.002389,
      -0.047022,
      0.022017,
      -0.006868,
      0.038496,
      -0.04303,
      -0.027256,
      -0.039004,
      0.018731,
      -0.045162,
      -0.001634,
      0.014653,
      0.00239,
      0.020467,
      0.002247,
      -0.016413,
      -0.041179,
      0.007182,
      -0.015214,
      -0.00095,
      0.009588,
      0.009821,
      0.006345,
      -0.038955,
      -0.024804,
      0.024399,
      0.038841,
      -0.034421,
      0.019637,
      0.032854,
      0.018355,
      -0.000901,
      0.031477,
      0.017466,
      -0.057127,
      0.085332,
      0.021413,
      -0.027497,
      0.006163,
      0.044124,
      0.049093,
      0.030259,
      0.030196,
      -0.056112,
      -0.022764,
      0.015994,
      -0.040559,
      0.017847,
      0.019047,
      0.077595,
      -0.041583,
      -0.009961,
      0.000109,
      -0.008788,
      -0.144699,
      -0.022131,
      0.038512,
      0.047348,
      -0.001528,
      0.003114,
      -0.07477,
      -0.013787,
      -0.044942,
      0.027065,
      0.030964,
      -0.048702,
      -0.009631,
      -0.016828,
      -0.018736,
      0.005184,
      0.013298,
      0.026017,
      0.019512,
      -0.029261,
      -0.013322,
      -0.052323,
      0.050593,
      -0.018677,
      -0.007242,
      0.005086,
      0.004757,
      -0.001315,
      -0.046698,
      -0.016413,
      0.035962,
      0.032007,
      -0.009147,
      0.007404,
      -0.021573,
      -0.010896,
      0.022884,
      -0.007899,
      0.013313,
      0.008742,
      0.021047,
      0.016617,
      0.018749,
      -0.022016,
      -0.008094,
      -0.023074,
      0.054091,
      0.019416,
      0.007615,
      0.021293,
      0.032847,
      0.008408,
      -0.010843,
      -0.011365,
      -0.025345,
      -0.006809,
      0.013163,
      0.045331,
      0.000455,
      0.024469,
      0.032123,
      -0.003305,
      0.02826,
      -0.005223,
      0.005625,
      0.01114,
      0.038866,
      0.017648,
      0.027054,
      -0.019744,
      0.028903,
      -0.062294,
      -0.009771,
      -0.004059,
      -0.015441,
      -0.013733,
      0.040696,
      -0.013431,
      -0.02394,
      -0.089244,
      -0.003041,
      0.000281,
      -0.009694,
      0.023863,
      -0.01811,
      -0.070937,
      0.025954,
      -0.004274,
      0.019499,
      0.232164,
      0.024186,
      0.010317,
      0.00407,
      0.080541,
      -0.040038,
      0.003995,
      0.057177,
      -0.001868,
      -0.011871,
      -0.006313,
      0.021439,
      -0.009023,
      -0.001706,
      -0.024806,
      0.026725,
      -0.07372,
      0.059846,
      0.033742,
      -0.009386,
      0.059832,
      0.01048,
      0.031207,
      0.02524,
      -0.078278,
      -0.012618,
      -0.000035,
      0.041167,
      -0.035134,
      0.02284,
      -0.059822,
      0.001423,
      0.043586,
      -0.031406,
      -0.037042,
      -0.011038,
      -0.061276,
      -0.036741,
      -0.04155,
      0.035045,
      0.018815,
      -0.034054,
      -0.006139,
      -0.019564,
      0.017966,
      0.03517,
      -0.001468,
      -0.030519,
      0.026506,
      0.006211,
      -0.042486,
      -0.016569,
      -0.014428,
      -0.018382,
      -0.003401,
      -0.042089,
      -0.004932,
      0.009432,
      -0.017081,
      -0.010059,
      0.040407,
      0.002448,
      -0.092565,
      0.048711,
      -0.006333,
      0.0255,
      0.018007,
      -0.048363,
      0.052074,
      0.062694,
      -0.007697,
      0.011005,
      0.028927,
      0.044511,
      0.032967,
      0.000092,
      0.037834,
      -0.014983,
      -0.020313,
      0.053449,
      -0.005337,
      0.010481,
      0.003618,
      0.049659,
      0.009022,
      0.036499,
      0.014362,
      0.045836,
      -0.006221,
      -0.001475,
      0.036374,
      -0.033728,
      0.013485,
      0.05929,
      0.000937,
      0.026309,
      0.043695,
      0.004342,
      -0.008662,
      -0.014525,
      0.023865,
      0.039724,
      0.011263,
      -0.020468,
      0.065217,
      -0.032705,
      -0.002674,
      -0.011132,
      -0.014056,
      0.006809,
      -0.06595,
      -0.000511,
      0.033741,
      -0.040122,
      -0.00307,
      0.046369,
      -0.010942,
      0.004005,
      0.07401,
      0.035218,
      0.029985,
      -0.00664,
      -0.053433,
      -0.003679,
      0.027866,
      -0.052976,
      0.008674,
      -0.021173,
      -0.054084,
      0.062808,
      0.018891,
      -0.022086,
      0.011815,
      0.019804,
      0.012267,
      0.014985,
      0.036374,
      0.026006,
      0.037669,
      0.006962,
      -0.073076,
      0.014845,
      -0.022907,
      0.016673,
      0.002992,
      0.022879,
      0.01105,
      0.018967,
      -0.000905,
      -0.02338,
      0.059507,
      0.045268,
      0.001673,
      -0.038835,
      0.007236,
      -0.046072,
      -0.003702,
      0.002384,
      0.000727,
      -0.011443,
      0.007534,
      -0.002076,
      0.029205,
      0.065175,
      0.005693,
      -0.021002,
      0.045922,
      0.01154,
      -0.010496,
      -0.028681,
      0.005759,
      -0.084786,
      -0.041237,
      0.068455,
      0.014184,
      -0.016866,
      -0.055412,
      -0.008009,
      0.003605,
      -0.045261,
      0.026708,
      -0.018978,
      -0.049751,
      0.031373,
      0.018042,
      0.02386,
      -0.027542,
      -0.00683,
      0.006159,
      -0.039587,
      0.002979,
      0.10164,
      -0.020116,
      -0.011576,
      0.057161,
      0.009049,
      -0.010427,
      0.021379,
      -0.002793,
      0.022426,
      -0.011451,
      -0.014909,
      -0.025473,
      -0.03534,
      0.014559,
      -0.01601,
      0.014365,
      0.00348,
      -0.01561,
      0.005986,
      0.00384,
      0.02549,
      -0.050712,
      0.021142,
      0.020815,
      -0.042942,
      0.023337,
      0.073551,
      0.023781,
      0.001939,
      -0.044978,
      0.021965,
      0.00396,
      -0.048664,
      0.016396,
      0.009007,
      0.021378,
      -0.022467,
      -0.02504,
      0.003245,
      -0.011539,
      -0.027323,
      0.060473,
      -0.023035,
      0.002206,
      -0.001021,
      0.016096,
      0.014057,
      0.014975,
      -0.022898,
      0.032943,
      -0.026794,
      -0.005207,
      0.042352,
      -0.014218,
      0.030843,
      0.005913,
      0.01358,
      -0.053,
      0.043264,
      -0.008864,
      -0.02969,
      -0.025166,
      -0.03951,
      0.041229,
      0.038316,
      0.002826,
      -0.041002,
      -0.036297,
      0.011544,
      -0.01429,
      0.02077,
      0.008148,
      -0.021373,
      0.018618,
      -0.094323,
      -0.023699,
      -0.058681,
      -0.041572,
      0.009679,
      -0.007505,
      0.004199,
      -0.037195,
      -0.069184,
      0.003458,
      -0.010466,
      -0.021897,
      -0.033027,
      0.010876,
      0.004218,
      -0.057758,
      -0.033432,
      0.024904,
      0.031094,
      0.035198,
      0.040922,
      0.015492,
      -0.011799,
      -0.02152,
      -0.023778,
      0.002361,
      0.005158,
      0.002085,
      0.009,
      -0.014642,
      -0.01857,
      -0.014426,
      0.026573,
      0.005678,
      0.014502,
      -0.008108,
      0.02573,
      0.000621,
      -0.009237,
      0.015579,
      0.045291,
      -0.022631,
      -0.017438,
      0.010905,
      0.03499,
      0.016774,
      -0.040399,
      0.005647,
      0.000763,
      0.038732,
      -0.047825,
      0.060699,
      -0.037455,
      0.013971,
      -0.015727,
      0.038326,
      -0.022025,
      -0.046326,
      0.010343,
      0.036234,
      -0.021178,
      -0.006883,
      -0.017576,
      -0.005576,
      0.012119,
      -0.026456,
      0.009843,
      -0.021112,
      -0.033857,
      -0.010221,
      0.018816,
      0.020819,
      -0.014634,
      0.006441,
      -0.010845,
      0.01221,
      -0.030869,
      0.054927,
      -0.0245,
      0.003205,
      -0.036903,
      0.005813,
      0.009721,
      -0.034775,
      -0.006684,
      0.001359,
      0.003346,
      -0.007486,
      -0.026781,
      0.045765,
      -0.018973,
      -0.037995,
      0.027281,
      0.023003,
      0.050354,
      -0.016881,
      0.059453,
      0.009421,
      -0.031636,
      -0.013426,
      0.005153,
      0.012902,
      -0.052341,
      0.003043,
      0.004191,
      -0.023737,
      0.018026,
      0.028927,
      -0.012114,
      -0.023053,
      0.031748,
      -0.007003,
      -0.020944,
      0.012615,
      -0.035203,
      0.001649,
      -0.025016,
      -0.033973,
      -0.000504,
      -0.003217,
      0.008549,
      0.0331,
      0.00135,
      0.006917,
      0.027449,
      -0.001715,
      0.007312,
      -0.022349,
      0.019755,
      -0.15301,
      -0.001146,
      -0.008642,
      -0.018982,
      -0.002888,
      0.012438,
      -0.000975,
      -0.044526,
      0.02183,
      -0.047152,
      -0.02315,
      -0.016191,
      -0.002032,
      -0.013321,
      0.06971,
      -0.021573,
      -0.003484,
      -0.044913,
      -0.028988,
      -0.013303,
      -0.009315,
      -0.01071,
      0.028424,
      0.019897,
      -0.007779,
      -0.024283,
      -0.058586,
      -0.016478,
      -0.053781,
      -0.021976,
      -0.009721,
      -0.015868,
      -0.002961,
      0.041594,
      0.00455,
      -0.007246,
      -0.012012,
      0.011552,
      -0.008284,
      0.006088,
      -0.033752,
      0.030261,
      -0.06132,
      0.016158,
      0.002332,
      0.083341,
      -0.026687,
      -0.041028,
      -0.017574,
      0.021804,
      -0.01363,
      0.01004,
      0.007379,
      0.003425,
      0.009334,
      -0.033044,
      -0.02022,
      -0.026637,
      -0.052013,
      -0.011053,
      -0.022859,
      0.029111,
      -0.028913,
      -0.019055,
      -0.047032,
      0.022764,
      -0.019652,
      0.007369,
      -0.009823,
      -0.012682,
      0.035672,
      -0.056631,
      -0.036327,
      0.009782,
      0.013753,
      -0.021057,
      0.062956,
      -0.042007,
      -0.035952,
      -0.021074,
      0.00171,
      -0.070733,
      -0.023531,
      0.060421,
      0.058923,
      0.040912,
      0.029698,
      -0.010781,
      -0.015233,
      0.001736,
      -0.079506,
      -0.058276,
      0.009088,
      0.036303,
      0.00705,
      0.003851,
      -0.003297,
      -0.005125,
      0.010106,
      -0.000997,
      -0.004619,
      -0.002894,
      0.034803,
      0.003673,
      -0.038857,
      0.004653,
      -0.008472,
      0.001921,
      0.02243,
      -0.027238,
      0.007671,
      0.011042,
      -0.033992,
      0.014531,
      -0.039872,
      0.019895,
      -0.001618,
      0.0274,
      -0.02689,
      -0.02149,
      0.018221,
      -0.015422,
      0.0081,
      -0.022125,
      0.016136,
      0.052931,
      0.05001,
      0.040989,
      0.067385,
      -0.06122,
      0.0455,
      -0.088044,
      -0.024206,
      0.028095,
      0.02506,
      -0.061775,
      -0.038887,
      0.035086,
      -0.00626,
      -0.031286,
      -0.042179,
      -0.024187,
      -0.009719,
      -0.014087,
      0.009128,
      -0.003412,
      0.036873,
      0.001227,
      -0.01333,
      -0.089669,
      0.00244,
      0.020068,
      -0.035586,
      0.016835,
      0.010815,
      0.032197,
      -0.02004,
      0.021349,
      0.025427,
      0.061957,
      -0.028803,
      -0.029854,
      -0.017172,
      -0.002561,
      0.003697,
      -0.023997,
      -0.017875,
      -0.035009,
      -0.021902,
      0.017873,
      -0.001539,
      0.033364,
      -0.023313,
      0.019186,
      0.013882,
      -0.004902,
      0.00015,
      -0.000324,
      0.064116,
      -0.030993,
      0.022092,
      0.002224,
      0.041834,
      -0.009129,
      0.032612,
      -0.00521,
      0.026011,
      0.017123,
      0.021694,
      -0.033753,
      -0.03085,
      -0.011191,
      0.001041,
      -0.034344,
      -0.005761,
      0.020402,
      0.010584,
      -0.033033,
      -0.026097,
      0.054287,
      0.045758,
      -0.029426,
      -0.025859,
      -0.005818,
      -0.032304,
      0.014638,
      -0.029756,
      0.025237,
      -0.016896,
      0.066664,
      0.003999,
      -0.019698,
      0.005039,
      0.02347,
      0.039556,
      0.025403,
      0.074809,
      -0.002386,
      0.042949,
      -0.041382,
      0.039072,
      -0.021101,
      -0.013011,
      -0.017548,
      -0.038962,
      -0.063389,
      0.029983,
      0.015298,
      -0.031911,
      0.006412,
      0.001088,
      -0.022766,
      -0.025178,
      0.047609,
      0.008519,
      -0.008348,
      -0.005225,
      -0.010537,
      -0.039404,
      -0.018671,
      -0.002967,
      -0.010433,
      0.037325,
      -0.001195
    ]
  },
  {
    "id": "v5-local-0",
    "content": "# Local Authentication\nBreadcrumb: Local Authentication\nCovers: Usage | Options | LocalStrategy | getEntityQuery(query, params) | findEntity(username, params) | getEntity(entity, params) | hashPassword(password) | comparePassword(entity, password) | authenticate(authentication, params) | Customization | Helpers | Protecting fields | passwordHash | hashPassword(field) | protect(...fields)\nTopics: hooks, application, context, params, find, get, create, authentication, jwt, local strategy, schema, resolver, database, events, http, client, configuration, errors, types, declarations, cli, login, users\n\n## Usage\n\n```ts\nimport { AuthenticationService } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('local', new LocalStrategy())\n\n  app.use('authentication', authentication)\n}\n```\n\n## Options\n\nOptions are set in the [authentication configuration](./service.md#configuration) under the strategy name. Available options are:\n\n- `usernameField`: Name of the username field (e.g. `'email'`), may be a nested property (e.g. `'auth.email'`)\n- `passwordField`: Name of the password field (e.g. `'password'`), may be a nested property (e.g. `'auth.password'`)\n- `hashSize` (default: `10`): The BCrypt salt length\n- `errorMessage` (default: `'Invalid login'`): The error message to return on errors\n- `entityUsernameField` (default: `usernameField`): Name of the username field on the entity if authentication request data and entity field names are different\n- `entityPasswordField` (default: `passwordField`): Name of the password field on the entity if authentication request data and entity field names are different\n\nOptions are usually set under the registered name via [Feathers configuration](../configuration.md) in `config/default.json` or `config/<environment>.json`:\n\n```json\n{\n  \"authentication\": {\n    \"local\": {\n      \"usernameField\": \"email\",\n      \"passwordField\": \"password\"\n    }\n  }\n}\n```\n\n## LocalStrategy\n\n> **Note:**\n> \n> The methods described in this section are intended for [customization](#customization) purposes and internal calls. They usually do not need to be called directly.\n>\n\n### getEntityQuery(query, params)\n\n`localStrategy.getEntityQuery(query, params) -> Promise` returns the query for finding the entity. `query` includes the `usernameField` or `entityUsernameField` as `{ [field]: username }` and by default returns a promise that resolves with `{ $limit: 1 }` combined with `query`.\n\n### findEntity(username, params)\n\n`localStrategy.findEntity(username, params) -> Promise` return the entity for a given username and service call parameters. It will use the query returned by `getEntityQuery` and call `.find` on the entity (usually `/users`) service. It will return a promise that resolves with the first result of the `.find` call or throw an error if nothing was found.\n\n### getEntity(entity, params)\n\n`localStrategy.getEntity(authResult, params) -> Promise` returns the external representation for `entity` that will be sent back to the client.\n\n### hashPassword(password)\n\n`localStrategy.hashPassword(password) -> Promise` creates a safe one-way hash of the given plain `password` string. By default [bCryptJS](https://www.npmjs.com/package/bcryptjs) is used.\n\n### comparePassword(entity, password)\n\n`localStrategy.comparePassword(entity, password) -> Promise` compares a plain text `password` with the hashed password of the `entity` returned by `findEntity`. Returns the `entity` or throws an error if the passwords don't match.\n\n### authenticate(authentication, params)\n\n`localStrategy.authenticate(authentication, params)` is the main endpoint implemented by any [authentication strategy](./strategy.md). It is usually called for authentication requests for this strategy by the [AuthenticationService](./service.md).\n\n## Customization\n\nThe `LocalStrategy` can be customized like any ES6 class and then registered on the [AuthenticationService](./service.md):\n\n```ts\nimport type { Application, Params, Query } from '@feathersjs/feathers'\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\n\nclass MyLocalStrategy extends LocalStrategy {\n  async getEntityQuery(query: Query, params: Params) {\n    // Query for use but only include `active` users\n    return {\n      ...query,\n      active: true,\n      $limit: 1\n    }\n  }\n}\n\nexport default (app: Application) => {\n  const authService = new AuthenticationService(app)\n\n  authService.register('local', new MyLocalStrategy())\n\n  // ...\n  app.use('/authentication', authService)\n}\n```\n\n## Helpers\n\n\n\n### Protecting fields\n\nAs of Feathers v5, external [resolvers](../schema/resolvers.md) using the `schemaHooks.resolveExternal` hook are the preferred method to hide or change fields for external requests. The following will always hide the user password for external responses and events:\n\n```ts\nimport { resolve, schemaHooks } from '@feathersjs/schema'\n\nexport const userExternalResolver = resolve<User, HookContext>({\n  properties: {\n    // The password should never be visible externally\n    password: async () => undefined\n  }\n})\n\napp.service('users').hooks({\n  after: {\n    all: [schemaHooks.resolveExternal(userExternalResolver)]\n  }\n})\n```\n\n### passwordHash\n\nThe `passwordHash` utility provides a [property resolver function](../schema/resolvers.md#property-resolvers) that uses a local strategy to securely [hash the password](#hashpassword-password) before storing it in the database. The following options are available:\n\n- `strategy` - The name of the local strategy (usually `'local'`)\n- `service` - The path of the authentication service (will use `app.get('defaultAuthentication')` by default)\n\n```ts\nexport const userDataResolver = resolve<User, HookContext>({\n  properties: {\n    password: passwordHash({ strategy: 'local' })\n  }\n})\n```\n\n### hashPassword(field)\n\nThe `hashPassword` hook is provided for Feathers v4 backwards compatibility but **has been deprecated** in favour of the [passwordHash resolver](#passwordhash).\n\n### protect(...fields)\n\nThe `protect` hook is provided for Feathers v4 backwards compatibility but **has been deprecated** in favour of [external data resolvers](../schema/resolvers.md).",
    "rawContent": "## Usage\n\n```ts\nimport { AuthenticationService } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('local', new LocalStrategy())\n\n  app.use('authentication', authentication)\n}\n```\n\n## Options\n\nOptions are set in the [authentication configuration](./service.md#configuration) under the strategy name. Available options are:\n\n- `usernameField`: Name of the username field (e.g. `'email'`), may be a nested property (e.g. `'auth.email'`)\n- `passwordField`: Name of the password field (e.g. `'password'`), may be a nested property (e.g. `'auth.password'`)\n- `hashSize` (default: `10`): The BCrypt salt length\n- `errorMessage` (default: `'Invalid login'`): The error message to return on errors\n- `entityUsernameField` (default: `usernameField`): Name of the username field on the entity if authentication request data and entity field names are different\n- `entityPasswordField` (default: `passwordField`): Name of the password field on the entity if authentication request data and entity field names are different\n\nOptions are usually set under the registered name via [Feathers configuration](../configuration.md) in `config/default.json` or `config/<environment>.json`:\n\n```json\n{\n  \"authentication\": {\n    \"local\": {\n      \"usernameField\": \"email\",\n      \"passwordField\": \"password\"\n    }\n  }\n}\n```\n\n## LocalStrategy\n\n> **Note:**\n> \n> The methods described in this section are intended for [customization](#customization) purposes and internal calls. They usually do not need to be called directly.\n>\n\n### getEntityQuery(query, params)\n\n`localStrategy.getEntityQuery(query, params) -> Promise` returns the query for finding the entity. `query` includes the `usernameField` or `entityUsernameField` as `{ [field]: username }` and by default returns a promise that resolves with `{ $limit: 1 }` combined with `query`.\n\n### findEntity(username, params)\n\n`localStrategy.findEntity(username, params) -> Promise` return the entity for a given username and service call parameters. It will use the query returned by `getEntityQuery` and call `.find` on the entity (usually `/users`) service. It will return a promise that resolves with the first result of the `.find` call or throw an error if nothing was found.\n\n### getEntity(entity, params)\n\n`localStrategy.getEntity(authResult, params) -> Promise` returns the external representation for `entity` that will be sent back to the client.\n\n### hashPassword(password)\n\n`localStrategy.hashPassword(password) -> Promise` creates a safe one-way hash of the given plain `password` string. By default [bCryptJS](https://www.npmjs.com/package/bcryptjs) is used.\n\n### comparePassword(entity, password)\n\n`localStrategy.comparePassword(entity, password) -> Promise` compares a plain text `password` with the hashed password of the `entity` returned by `findEntity`. Returns the `entity` or throws an error if the passwords don't match.\n\n### authenticate(authentication, params)\n\n`localStrategy.authenticate(authentication, params)` is the main endpoint implemented by any [authentication strategy](./strategy.md). It is usually called for authentication requests for this strategy by the [AuthenticationService](./service.md).\n\n## Customization\n\nThe `LocalStrategy` can be customized like any ES6 class and then registered on the [AuthenticationService](./service.md):\n\n```ts\nimport type { Application, Params, Query } from '@feathersjs/feathers'\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\n\nclass MyLocalStrategy extends LocalStrategy {\n  async getEntityQuery(query: Query, params: Params) {\n    // Query for use but only include `active` users\n    return {\n      ...query,\n      active: true,\n      $limit: 1\n    }\n  }\n}\n\nexport default (app: Application) => {\n  const authService = new AuthenticationService(app)\n\n  authService.register('local', new MyLocalStrategy())\n\n  // ...\n  app.use('/authentication', authService)\n}\n```\n\n## Helpers\n\n\n\n### Protecting fields\n\nAs of Feathers v5, external [resolvers](../schema/resolvers.md) using the `schemaHooks.resolveExternal` hook are the preferred method to hide or change fields for external requests. The following will always hide the user password for external responses and events:\n\n```ts\nimport { resolve, schemaHooks } from '@feathersjs/schema'\n\nexport const userExternalResolver = resolve<User, HookContext>({\n  properties: {\n    // The password should never be visible externally\n    password: async () => undefined\n  }\n})\n\napp.service('users').hooks({\n  after: {\n    all: [schemaHooks.resolveExternal(userExternalResolver)]\n  }\n})\n```\n\n### passwordHash\n\nThe `passwordHash` utility provides a [property resolver function](../schema/resolvers.md#property-resolvers) that uses a local strategy to securely [hash the password](#hashpassword-password) before storing it in the database. The following options are available:\n\n- `strategy` - The name of the local strategy (usually `'local'`)\n- `service` - The path of the authentication service (will use `app.get('defaultAuthentication')` by default)\n\n```ts\nexport const userDataResolver = resolve<User, HookContext>({\n  properties: {\n    password: passwordHash({ strategy: 'local' })\n  }\n})\n```\n\n### hashPassword(field)\n\nThe `hashPassword` hook is provided for Feathers v4 backwards compatibility but **has been deprecated** in favour of the [passwordHash resolver](#passwordhash).\n\n### protect(...fields)\n\nThe `protect` hook is provided for Feathers v4 backwards compatibility but **has been deprecated** in favour of [external data resolvers](../schema/resolvers.md).",
    "breadcrumb": "Local Authentication",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/authentication/local.md",
    "heading": "Local Authentication",
    "subHeadings": [
      "Usage",
      "Options",
      "LocalStrategy",
      "getEntityQuery(query, params)",
      "findEntity(username, params)",
      "getEntity(entity, params)",
      "hashPassword(password)",
      "comparePassword(entity, password)",
      "authenticate(authentication, params)",
      "Customization",
      "Helpers",
      "Protecting fields",
      "passwordHash",
      "hashPassword(field)",
      "protect(...fields)"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "json"
    ],
    "tokens": 1489,
    "category": "authentication",
    "tags": [
      "hooks",
      "application",
      "context",
      "params",
      "find",
      "get",
      "create",
      "authentication",
      "jwt",
      "local strategy",
      "schema",
      "resolver",
      "database",
      "events",
      "http",
      "client",
      "configuration",
      "errors",
      "types",
      "declarations",
      "cli",
      "login",
      "users"
    ],
    "embedding": [
      0.002767,
      0.016759,
      -0.020492,
      -0.006944,
      -0.024739,
      -0.028589,
      0.041532,
      -0.005283,
      0.006543,
      0.026531,
      0.007448,
      0.000879,
      -0.003635,
      0.000828,
      0.007178,
      0.023846,
      0.002846,
      0.009306,
      0.017505,
      -0.019608,
      -0.023285,
      0.00075,
      0.028214,
      -0.002846,
      -0.002009,
      0.011306,
      -0.010422,
      -0.032426,
      0.020337,
      0.024721,
      0.024381,
      0.009354,
      0.007256,
      -0.048095,
      -0.026876,
      -0.00389,
      0.000609,
      0.01622,
      -0.045054,
      0.024454,
      -0.0171,
      -0.005203,
      -0.005334,
      0.006794,
      -0.005667,
      -0.024015,
      0.014069,
      -0.029021,
      -0.002307,
      -0.034145,
      -0.025865,
      -0.015603,
      0.045325,
      -0.032222,
      0.010081,
      0.042005,
      -0.016808,
      0.000367,
      -0.04637,
      0.021109,
      -0.008164,
      0.010309,
      -0.041175,
      0.010566,
      -0.007771,
      0.013089,
      0.000852,
      0.01258,
      -0.008592,
      -0.029029,
      -0.004851,
      0.058441,
      -0.034643,
      -0.015108,
      -0.033436,
      0.019579,
      0.073613,
      0.029142,
      -0.017577,
      0.035068,
      -0.030322,
      -0.028009,
      -0.036714,
      -0.00404,
      0.023091,
      -0.009196,
      -0.003215,
      0.058373,
      0.051871,
      -0.037429,
      0.005509,
      -0.00988,
      0.070435,
      -0.059336,
      0.018174,
      -0.027881,
      -0.019119,
      0.00515,
      0.024074,
      0.006229,
      0.015352,
      0.010219,
      0.005985,
      -0.01789,
      0.008766,
      0.042679,
      0.027472,
      0.004471,
      -0.002134,
      -0.030489,
      -0.020149,
      0.022427,
      0.008409,
      0.016284,
      -0.007376,
      -0.012627,
      0.029008,
      -0.019718,
      0.018602,
      -0.027069,
      0.021243,
      0.045495,
      0.01666,
      -0.006868,
      -0.015282,
      0.010468,
      -0.019222,
      0.013909,
      0.037225,
      0.014959,
      0.000922,
      -0.08034,
      -0.032128,
      -0.013586,
      -0.046607,
      -0.005355,
      0.019261,
      -0.000287,
      0.005314,
      -0.057941,
      0.007204,
      0.00218,
      0.006081,
      -0.04484,
      0.042401,
      -0.031738,
      0.062444,
      0.003983,
      0.005207,
      -0.035264,
      -0.001379,
      -0.014314,
      0.006565,
      -0.048751,
      -0.016328,
      -0.046408,
      -0.009083,
      0.020533,
      0.021071,
      0.009914,
      -0.009344,
      -0.002877,
      -0.039399,
      -0.006533,
      0.043244,
      -0.040008,
      0.01893,
      -0.027209,
      -0.02829,
      -0.041043,
      0.028008,
      -0.028194,
      -0.003991,
      -0.025032,
      -0.003311,
      0.017843,
      0.072315,
      0.031536,
      -0.015065,
      -0.021777,
      -0.042722,
      0.000889,
      -0.007801,
      -0.005629,
      0.016089,
      -0.007838,
      -0.022053,
      0.003055,
      -0.017352,
      0.023147,
      -0.023897,
      0.001647,
      0.006926,
      0.018503,
      -0.036861,
      -0.021073,
      0.007912,
      0.012638,
      -0.001948,
      0.038928,
      -0.030889,
      0.032721,
      0.039579,
      0.024451,
      -0.017851,
      -0.006439,
      0.014733,
      -0.04179,
      0.02847,
      -0.053042,
      -0.002304,
      0.024484,
      0.000845,
      -0.025496,
      -0.038549,
      0.055724,
      0.006456,
      0.037573,
      -0.036209,
      -0.000079,
      -0.031262,
      0.022227,
      -0.012774,
      -0.003814,
      0.048194,
      0.000738,
      0.021308,
      0.000821,
      0.018175,
      -0.018572,
      -0.027337,
      0.046519,
      0.003624,
      -0.009642,
      0.030455,
      -0.019905,
      -0.047087,
      0.006565,
      0.032175,
      0.00112,
      -0.038062,
      -0.028661,
      0.000236,
      0.008124,
      -0.018122,
      0.013468,
      -0.002532,
      0.035631,
      -0.043758,
      -0.021576,
      -0.018685,
      -0.001798,
      -0.037851,
      -0.033708,
      0.014885,
      -0.006106,
      0.007427,
      -0.002545,
      -0.003564,
      -0.008818,
      -0.007717,
      -0.001627,
      0.01033,
      0.016752,
      0.013609,
      -0.001363,
      -0.017608,
      -0.036029,
      0.028564,
      0.041965,
      -0.042922,
      0.016716,
      0.040561,
      -0.005329,
      -0.002714,
      0.026682,
      -0.002172,
      -0.048762,
      0.099246,
      0.043576,
      -0.011411,
      0.00879,
      0.028229,
      0.071868,
      0.05309,
      -0.01077,
      -0.026104,
      -0.034066,
      0.017651,
      -0.065207,
      0.026007,
      -0.009456,
      0.068432,
      -0.019569,
      -0.010649,
      -0.022115,
      0.008664,
      -0.162586,
      -0.047694,
      0.035892,
      0.031794,
      0.007623,
      -0.010752,
      -0.070162,
      -0.014255,
      -0.006914,
      0.074622,
      0.008633,
      -0.048921,
      -0.00919,
      -0.01197,
      0.013253,
      0.016944,
      -0.005965,
      0.007397,
      0.032897,
      -0.042227,
      -0.035143,
      -0.064835,
      0.071672,
      -0.020735,
      0.000052,
      0.036372,
      0.012959,
      -0.000335,
      -0.025911,
      -0.009548,
      0.002304,
      0.02202,
      0.007851,
      -0.000357,
      -0.005555,
      -0.016037,
      0.00853,
      0.01219,
      0.027441,
      -0.005229,
      0.00355,
      0.011386,
      -0.020038,
      -0.048999,
      0.039688,
      -0.045009,
      0.054375,
      0.006936,
      -0.021118,
      0.026578,
      -0.005798,
      0.003536,
      -0.016719,
      -0.015135,
      -0.037562,
      -0.012161,
      -0.004165,
      0.049982,
      0.010501,
      0.013827,
      0.028202,
      0.015184,
      0.051137,
      -0.019283,
      -0.006074,
      -0.013475,
      0.05268,
      0.005685,
      -0.002784,
      -0.039557,
      0.038978,
      -0.077653,
      0.039157,
      0.024519,
      0.002686,
      0.024192,
      0.045184,
      -0.05964,
      -0.010335,
      -0.085388,
      -0.002268,
      -0.011095,
      -0.001059,
      0.021336,
      -0.031576,
      -0.036184,
      0.029898,
      -0.012356,
      -0.004779,
      0.247564,
      0.054653,
      -0.007603,
      -0.023747,
      0.028823,
      -0.025031,
      -0.036605,
      0.05218,
      0.002091,
      -0.019795,
      -0.0035,
      0.029146,
      0.013737,
      -0.018819,
      -0.039286,
      0.013638,
      -0.071753,
      0.040578,
      0.043041,
      -0.008614,
      0.020086,
      0.009088,
      0.000906,
      0.037475,
      -0.043697,
      -0.009768,
      -0.009084,
      0.044776,
      -0.043672,
      0.02522,
      -0.022583,
      -0.031414,
      0.044779,
      -0.04024,
      -0.007931,
      -0.021666,
      -0.039228,
      -0.025399,
      -0.019548,
      0.00697,
      -0.001908,
      -0.005959,
      0.008763,
      -0.005821,
      0.023091,
      0.020093,
      -0.001534,
      -0.018409,
      -0.004861,
      0.047295,
      -0.052626,
      -0.01983,
      -0.019613,
      -0.009332,
      -0.014963,
      -0.046249,
      -0.009546,
      -0.015777,
      -0.000596,
      0.004209,
      0.045853,
      0.000724,
      -0.096618,
      0.045184,
      -0.012041,
      0.026292,
      0.032773,
      -0.010238,
      0.045557,
      0.059186,
      -0.012924,
      0.038556,
      0.012655,
      0.019515,
      0.041635,
      0.035619,
      0.050292,
      -0.011061,
      -0.022655,
      0.047483,
      -0.010219,
      -0.029698,
      0.015722,
      0.036664,
      -0.002854,
      0.027019,
      0.002915,
      0.046324,
      0.008784,
      -0.023312,
      0.000561,
      -0.008921,
      0.008773,
      0.053813,
      0.003664,
      0.029942,
      0.051283,
      0.001353,
      -0.013797,
      -0.016144,
      0.029139,
      0.030117,
      0.014632,
      0.016947,
      0.053643,
      -0.04469,
      -0.015504,
      0.011708,
      -0.003955,
      0.026503,
      -0.058299,
      0.004272,
      0.007981,
      -0.034728,
      0.003591,
      0.057281,
      0.005955,
      0.004934,
      0.069365,
      0.040289,
      0.037427,
      0.036798,
      -0.032478,
      -0.01224,
      0.021012,
      -0.053085,
      -0.046579,
      0.003433,
      -0.00549,
      0.067015,
      0.011993,
      -0.032733,
      0.000754,
      0.033254,
      0.015881,
      0.019842,
      0.011013,
      0.053688,
      0.018938,
      -0.011588,
      -0.06058,
      0.013501,
      -0.027428,
      0.022482,
      -0.020265,
      0.017626,
      -0.005012,
      -0.018242,
      0.001746,
      0.006229,
      0.079365,
      0.043197,
      0.002263,
      -0.024508,
      -0.004018,
      -0.024694,
      0.00245,
      0.001304,
      0.00032,
      -0.027533,
      0.018939,
      -0.023602,
      0.017688,
      0.080061,
      0.010268,
      -0.017049,
      0.03379,
      -0.005516,
      -0.027021,
      -0.03611,
      -0.010472,
      -0.054239,
      -0.044009,
      0.068251,
      0.004131,
      0.010481,
      -0.042947,
      0.00614,
      -0.035003,
      -0.048219,
      0.019121,
      -0.014018,
      -0.052421,
      0.0327,
      0.026471,
      0.038371,
      0.010029,
      -0.005137,
      0.031974,
      -0.022579,
      -0.039913,
      0.11225,
      -0.046439,
      -0.00504,
      0.040485,
      0.009165,
      0.000046,
      0.0431,
      0.023107,
      0.036003,
      -0.015741,
      -0.017202,
      -0.017815,
      0.006378,
      -0.011662,
      -0.033682,
      0.001489,
      0.015705,
      -0.029615,
      0.010717,
      -0.000127,
      0.050888,
      -0.055544,
      0.008851,
      -0.01546,
      -0.040532,
      0.028072,
      0.069778,
      -0.001797,
      0.012454,
      -0.056711,
      -0.016417,
      0.011117,
      -0.050205,
      -0.002124,
      -0.012224,
      0.017641,
      -0.02576,
      -0.043033,
      0.003121,
      -0.003267,
      -0.044929,
      0.020869,
      0.000801,
      0.02405,
      -0.005915,
      0.023924,
      0.008186,
      0.010197,
      -0.035023,
      -0.00872,
      -0.035661,
      0.013253,
      0.064183,
      -0.014088,
      0.025572,
      -0.046064,
      -0.015079,
      -0.051997,
      0.051415,
      -0.008763,
      -0.039392,
      0.014325,
      -0.03178,
      0.054958,
      0.000215,
      0.032126,
      -0.045154,
      -0.027369,
      0.011763,
      -0.039376,
      0.024233,
      0.011357,
      -0.012602,
      0.008899,
      -0.097271,
      -0.005099,
      -0.016349,
      -0.044943,
      -0.009166,
      -0.011965,
      -0.009306,
      -0.006914,
      -0.043031,
      0.034928,
      0.00921,
      -0.058027,
      -0.013182,
      0.013692,
      0.024828,
      -0.046865,
      0.01627,
      0.010661,
      0.041732,
      0.005973,
      0.013824,
      -0.007829,
      -0.024257,
      0.010105,
      -0.019358,
      -0.005097,
      -0.008736,
      -0.022129,
      0.012371,
      -0.043589,
      -0.010836,
      -0.004165,
      0.02142,
      0.002202,
      0.002762,
      -0.016233,
      -0.014216,
      0.001805,
      -0.004101,
      -0.021167,
      0.010801,
      -0.042697,
      -0.038908,
      -0.023247,
      0.001582,
      -0.002753,
      -0.020976,
      -0.021248,
      -0.017743,
      -0.007302,
      -0.052177,
      0.067648,
      -0.01526,
      0.009731,
      -0.04937,
      0.012586,
      -0.009792,
      -0.052521,
      -0.004786,
      0.05186,
      0.00258,
      -0.031784,
      -0.027596,
      -0.032484,
      0.028828,
      -0.02987,
      -0.015088,
      -0.017188,
      -0.001959,
      -0.026578,
      0.024102,
      0.003636,
      -0.039774,
      0.018485,
      -0.005084,
      -0.008444,
      -0.014124,
      0.063073,
      -0.024279,
      -0.01683,
      -0.022623,
      -0.002843,
      0.011066,
      -0.038512,
      -0.015216,
      -0.018953,
      0.013089,
      -0.000329,
      -0.030748,
      0.048035,
      -0.029582,
      -0.025251,
      0.042514,
      0.030582,
      0.030539,
      -0.010962,
      0.038866,
      0.017886,
      -0.040824,
      -0.026353,
      -0.007921,
      0.031356,
      -0.028201,
      0.0015,
      -0.008878,
      -0.045193,
      0.035433,
      0.011021,
      -0.009768,
      -0.034566,
      0.041313,
      0.006487,
      -0.020768,
      0.011193,
      -0.046987,
      -0.010736,
      0.016266,
      -0.059726,
      -0.003676,
      -0.019232,
      0.020709,
      -0.00615,
      0.007867,
      0.000345,
      0.051567,
      0.003732,
      0.008332,
      -0.011527,
      0.033871,
      -0.158473,
      0.02187,
      0.007358,
      -0.003338,
      -0.007661,
      0.026097,
      0.013372,
      -0.048644,
      0.015832,
      -0.013259,
      -0.009794,
      0.000273,
      0.016822,
      -0.012924,
      0.04423,
      -0.006725,
      -0.004046,
      -0.027155,
      -0.018424,
      0.015101,
      0.008297,
      0.0176,
      0.011653,
      0.018931,
      -0.004486,
      -0.012513,
      -0.037557,
      -0.023182,
      -0.03907,
      -0.012719,
      -0.02913,
      -0.019914,
      0.00767,
      -0.001809,
      0.013996,
      0.008898,
      0.025028,
      -0.003881,
      -0.023202,
      0.030228,
      -0.040826,
      0.037148,
      -0.041789,
      0.017011,
      -0.004033,
      0.060475,
      -0.018425,
      -0.061422,
      -0.028782,
      0.01607,
      -0.019911,
      -0.020365,
      -0.037104,
      0.022658,
      0.021792,
      -0.015135,
      -0.024856,
      -0.031792,
      -0.040157,
      -0.001591,
      -0.0322,
      0.052738,
      0.003989,
      0.009791,
      -0.005258,
      0.037283,
      -0.030103,
      -0.020721,
      0.002474,
      -0.026516,
      0.000782,
      -0.01888,
      -0.052917,
      -0.011681,
      0.013146,
      -0.019948,
      0.059156,
      -0.009637,
      -0.064192,
      -0.008637,
      -0.007327,
      -0.054795,
      -0.005591,
      0.090543,
      0.040391,
      0.006358,
      0.007891,
      0.000779,
      -0.010818,
      0.005895,
      -0.057717,
      -0.053332,
      -0.00554,
      -0.013098,
      0.002063,
      0.022407,
      -0.020327,
      0.00268,
      0.006643,
      0.011476,
      -0.013689,
      0.000888,
      0.034123,
      0.002986,
      -0.038736,
      -0.016231,
      0.030627,
      0.00385,
      0.022629,
      -0.018927,
      0.005908,
      0.010569,
      -0.002089,
      0.002223,
      -0.070711,
      0.004269,
      0.003605,
      0.044678,
      -0.000699,
      -0.00057,
      0.014104,
      -0.026057,
      0.009088,
      -0.041366,
      0.035531,
      0.050138,
      0.038753,
      0.049089,
      0.051127,
      -0.025149,
      0.032547,
      -0.071399,
      -0.023626,
      0.018016,
      0.020408,
      -0.070283,
      -0.047281,
      0.040308,
      -0.026998,
      -0.042923,
      -0.023,
      -0.041747,
      0.002016,
      -0.01983,
      0.017369,
      -0.03876,
      0.063995,
      0.011918,
      -0.018036,
      -0.07961,
      0.007531,
      -0.000952,
      -0.02003,
      0.022291,
      0.017377,
      0.045743,
      -0.043824,
      0.02339,
      0.00315,
      0.050014,
      -0.002875,
      -0.051735,
      -0.029822,
      -0.030027,
      -0.021151,
      -0.010794,
      -0.024095,
      -0.025364,
      -0.012475,
      0.020463,
      -0.009267,
      0.064167,
      -0.02763,
      0.030925,
      0.025402,
      -0.010797,
      -0.009606,
      -0.010625,
      0.063769,
      -0.026134,
      0.022527,
      0.007999,
      0.030257,
      0.015592,
      0.026887,
      -0.011801,
      0.00685,
      0.031125,
      0.023275,
      -0.032766,
      -0.014617,
      0.016289,
      0.005553,
      -0.043533,
      0.02205,
      0.025489,
      -0.003832,
      -0.026127,
      -0.013696,
      0.025744,
      -0.00167,
      -0.004247,
      -0.006632,
      -0.032336,
      -0.018126,
      0.013181,
      -0.036463,
      0.025238,
      -0.003195,
      0.035211,
      -0.000164,
      -0.015593,
      -0.013901,
      0.006606,
      0.018073,
      0.051413,
      0.079065,
      0.019881,
      0.039306,
      -0.054433,
      0.039496,
      -0.020399,
      0.020265,
      -0.01876,
      -0.049691,
      -0.026775,
      0.037364,
      0.02308,
      -0.011153,
      0.00688,
      0.016321,
      -0.010537,
      0.009506,
      0.050427,
      0.040902,
      -0.009562,
      -0.008104,
      0.006677,
      -0.026276,
      -0.005604,
      0.015029,
      0.02978,
      0.010747,
      -0.021102
    ]
  },
  {
    "id": "v5-oauth-0",
    "content": "# OAuth\nBreadcrumb: OAuth\nCovers: Usage | Setup | Providers | Flow | OAuth URLs | Account linking | Redirects | Options | OAuthStrategy | entityId | getEntityQuery(profile, params) | getEntityData(profile, entity, params) | getProfile(data, params) | getRedirect (data) | getAllowedOrigin (params) | getCurrentEntity(params) | findEntity(profile, params) | createEntity(profile, params) | updateEntity(entity, profile, params) | authenticate(authentication, params) | Customization\nTopics: application, params, provider, find, get, create, update, setup, authentication, authorization, jwt, oauth, google, facebook, github, auth0, rest, http, transport, express, koa, middleware, browser, client, configuration, errors, types, declarations, cli, generate, login, users\n\n## Usage\n\nThe following section covers oAuth authentication strategy [setup](#setup) and a more detailed description of the possible oAuth [flows](#flow) and [oAuth URLs](#oauth-urls).\n\n### Setup\n\nThe following is a standard oAuth setup. The `OAuthStrategy` often needs to be [customized](#customization) to include additional fields (like the avatar, email address or username) from the oAuth provider.\n\n```ts\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport { OAuthStrategy, oauth } from '@feathersjs/authentication-oauth'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n  authentication.register('github', new OAuthStrategy())\n  authentication.register('google', new OAuthStrategy())\n\n  app.use('authentication', authentication)\n  app.configure(oauth({}))\n}\n```\n\nThe following settings for `app.configure(oauth())` are available:\n\n- `linkStrategy` (default: `'jwt'`) - The name of the stratagy to use for [account linking](#account-linking)\n- `authService` (default: `app.get('defaultAuthentication')`) - The path of the authentication service to use\n- `expressSession` - An Express middleware for handling sessions. By default will use an HTTP cookie that is only available for the oAuth flow. **This normally does not need to be changed.**\n- `koaSession` - A Koa middleware for handling sessions. By default will use an HTTP cookie that is only available for the oAuth flow. **This normally does not need to be changed.**\n\n### Providers\n\nFor specific OAuth provider setup see the following [cookbook](../../cookbook/) guides:\n\n- [Auth0](../../cookbook/authentication/auth0.md)\n- [Facebook](../../cookbook/authentication/facebook.md)\n- [Google](../../cookbook/authentication/google.md)\n\n### Flow\n\nThere are two ways to initiate OAuth authentication:\n\n1. Through the browser (most common)\n\n   - User clicks on link to OAuth URL (`oauth/<provider>`)\n   - Gets redirected to provider and authorizes the application\n   - Callback to the [OauthStrategy](#oauthstrategy) which\n     - Gets the users profile\n     - Finds or creates the user (entity) for that profile\n   - The [AuthenticationService](./service.md) creates an access token for that entity\n   - Redirects back to the origin URL including the generated access token\n   - The frontend (e.g. the Feathers [authentication client](./client.md)) uses the returned access token to authenticate\n\n2. With an existing access token, e.g. obtained through the Facebook mobile SDK\n   - Authenticate normally through the [authentication service](./service.md) with `{ strategy: '<name>', accessToken: 'oauth access token' }`.\n   - Calls the [OauthStrategy](#oauthstrategy) which\n     - Gets the users profile\n     - Finds or creates the entity for that profile\n   - Returns the authentication result\n\n> **Important:**\n> \n> If you are attempting to authenticate using an existing oAuth access token, ensure that you have added the strategy (e.g. 'facebook') to the allowed [authStrategies](./service.md#configuration) configuration.\n>\n\n### OAuth URLs\n\nThere are two URLs and redirects that are important for OAuth authentication:\n\n- `http(s)://<host>/oauth/<provider>`: The main URL to initiate the OAuth flow. **Link to this from the browser.**\n- `http(s)://<host>/oauth/<provider>/callback`: The callback path that should be **set in the OAuth provider application settings.**\n\nIn the browser any OAuth flow can be initiated with a link like this:\n\n```html\n<a href=\"/oauth/github\">Login with GitHub</a>\n```\n\n### Account linking\n\nTo **link an existing user** the current access token can be added to the OAuth flow query using the `feathers_token` query parameter:\n\n```html\n<a href=\"/oauth/github?feathers_token=<your access token>\"> Login with GitHub </a>\n```\n\nThis will use the user (entity) of that access token to link the OAuth account to. Using the [authentication client](./client.md) you can get the current access token via `app.get('authentication')`:\n\n```ts\nconst { accessToken } = await app.get('authentication')\n```\n\n### Redirects\n\nThe recommended way to enable redirects is to set a list of allowed `origins` in your [application configuration](../configuration.md) (e.g. `config/default.json`). This will ensure cross origin restrictions across your application and allow oAuth authentication from different frontend applications.\n\n```js\n{\n  \"origins\": [\n    // Allow redirect to a local development frontend\n    // (e.g. a create-react-app server) and our production URL\n    \"http://localhost:500\", \"https://myapp.feathersjs.com\"\n  ]\n}\n```\n\n**Alternatively**, the `redirect` configuration can be used to redirect back to the frontend application after OAuth authentication was successful and an access token for the user has been created by the [authentication service](./service.md) or if authentication failed. It works cross domain and by default includes the access token or error message in the window location hash. The following configuration\n\n```js\n{\n  \"authentication\": {\n    \"oauth\": {\n      \"redirect\": \"https://app.mydomain.com/\"\n    }\n  }\n}\n```\n\nA successful oAuth flow will redirect to the origin or redirect URL in the form of `https://app.mydomain.com/#access_token=<user jwt>` or `https://app.mydomain.com/#error=<some error message>`. Redirects can be customized with the [getRedirect()](#getredirect-data) method of the OAuth strategy. The [authentication client](./client.md) handles the default redirects automatically already.\n\n> **Note:**\n> \n> The redirect is using a hash instead of a query string by default because it is not logged server side and can be easily read on the client. You can force query based redirect by adding a `?` to the end of the `redirect` option.\n> \n\nIf the `redirect` option is not set and no origin is available the authentication result data will be sent as JSON instead.\n\nDynamic redirects to the same URL are possible by setting the `redirect` query parameter in the OAuth flow. For example, the following OAuth link:\n\n```html\n<a href=\"/oauth/github?redirect=dashboard\"> Login with GitHub </a>\n```\n\nWith the above configuration will redirect to `https://app.mydomain.com/dashboard` after the OAuth flow.\n\n## Options\n\nOptions are usually set under the registered name via [Feathers configuration](../configuration.md) in `config/default.json` or `config/<environment>.json` under the `authentication.oauth` section. Available options are:\n\n- `origins` (default: `app.get('origins')`): A list of URLs from which oAuth authentication should be allowed. For example setting this option to`[ \"https://feathersjs.com\", \"https://feathers.cloud\" ]` would allow requests from those domains and redirect back to where the request came from. This can be used **instead of** the `redirect` option for a more consisten cross origin configuration via the `app.get('origins')` configuration value and to allow oAuth logins from multiple domains.\n- `redirect`: The URL of the frontend to redirect to with the access token (or error message). The [authentication client](./client.md) handles those redirects automatically. If not set, the authentication result will be sent as JSON instead.\n- `defaults`: Default [Grant configuration](https://github.com/simov/grant#configuration) used for all strategies. The following default options are set automatically:\n  - `prefix` (default: `'/oauth'`) - The OAuth base path\n  - `origin` (default: `http(s)://host[:port]`) - The server path for the oAuth flow to redirect back to. Set this if you are e.g. running your local server on HTTPS\n- `<strategy-name>` (e.g. `twitter`): The [Grant configuration](https://github.com/simov/grant#configuration) used for a specific strategy.\n\n> **tip:**\n> \n> Removing the `redirect` option allows to troubleshoot troubleshoot OAuth authentication errors as a JSON response by opening the oAuth URL directly in the browser.\n> \n\n```json\n{\n  \"authentication\": {\n    \"origins\": [\"localhost:3030\"],\n    \"oauth\": {\n      \"redirect\": \"/frontend\",\n      \"google\": {\n        \"key\": \"...\",\n        \"secret\": \"...\",\n        \"custom_params\": { \"access_type\": \"offline\" }\n      },\n      \"twitter\": {\n        \"key\": \"...\",\n        \"secret\": \"...\"\n      }\n    }\n  }\n}\n```\n\n> **Note:**\n> \n> All OAuth strategies will by default always look for configuration under `authentication.oauth.<name>`. If `authentication.oauth` is not set in the configuration, OAuth authentication will be disabled.\n> \n\nHere is a [list of all Grant configuration options](https://github.com/simov/grant#all-available-options) that are available:\n\n| Key                        | Location                                                                   | Description                                                                                              |\n| :------------------------- | :------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------- |\n| request_url                | [oauth.json](https://github.com/simov/grant/blob/master/config/oauth.json) | OAuth1/step1                                                                                             |\n| authorize_url              | [oauth.json](https://github.com/simov/grant/blob/master/config/oauth.json) | OAuth1/step2 or OAuth2/step1                                                                             |\n| access_url                 | [oauth.json](https://github.com/simov/grant/blob/master/config/oauth.json) | OAuth1/step3 or OAuth2/step2                                                                             |\n| oauth                      | [oauth.json](https://github.com/simov/grant/blob/master/config/oauth.json) | OAuth version number                                                                                     |\n| scope_delimiter            | [oauth.json](https://github.com/simov/grant/blob/master/config/oauth.json) | string delimiter used for concatenating multiple scopes                                                  |\n| protocol, host, path       | `defaults`                                                                 | used to generate `redirect_uri`                                                                          |\n| transport                  | `defaults`                                                                 | [transport](#response-data-transport) to use to deliver the response data in your final `callback` route |\n| state                      | `defaults`                                                                 | toggle random `state` string generation for OAuth2                                                       |\n| key                        | `[provider]`                                                               | OAuth app key, reserved aliases: `consumer_key` and `client_id`                                          |\n| secret                     | `[provider]`                                                               | OAuth app secret, reserved aliases: `consumer_secret` and `client_secret`                                |\n| scope                      | `[provider]`                                                               | list of scopes to request                                                                                |\n| custom_params              | `[provider]`                                                               | custom authorization [parameters](#custom-parameters) and their values                                   |\n| subdomain                  | `[provider]`                                                               | string to be [embedded](#subdomain-urls) in `request_url`, `authorize_url` and `access_url`              |\n| nonce                      | `[provider]`                                                               | toggle random `nonce` string generation for [OpenID Connect](#openid-connect) providers                  |\n| callback                   | `[provider]`                                                               | final callback route on your server to receive the [response data](#response-data)                       |\n| dynamic                    | `[provider]`                                                               | allow [dynamic override](#dynamic-override) of configuration                                             |\n| overrides                  | `[provider]`                                                               | [static overrides](#static-overrides) for a provider                                                     |\n| response                   | `[provider]`                                                               | [limit](#limit-response-data) the response data                                                          |\n| token_endpoint_auth_method | `[provider]`                                                               | authentication method for the [token endpoint](#token-endpoint-auth-method)                              |\n| name                       | generated                                                                  | provider's [name](#grant), used to generate `redirect_uri`                                               |\n| profile_url                | [grant-profile](https://github.com/simov/grant-profile)                    | The URL to retrieve the user profile from                                                                |\n| [provider]                 | generated                                                                  | provider's [name](#grant) as key                                                                         |\n| redirect_uri               | generated                                                                  | OAuth app [redirect URI](#redirect-uri), generated using `protocol`, `host`, `path` and `name`           |\n\n## OAuthStrategy\n\n\n\n### entityId\n\n`oauthStrategy.entityId -> string` returns the name of the id property of the entity.\n\n### getEntityQuery(profile, params)\n\n`oauthStrategy.getEntityQuery(profile, params) -> Promise` returns the entity lookup query to find the entity for a profile. By default returns\n\n```js\n{\n  [`${this.name}Id`]: profile.sub || profile.id\n}\n```\n\n### getEntityData(profile, entity, params)\n\n`oauthStrategy.getEntityData(profile, existing, params) -> Promise` returns the data to either create a new or update an existing entity. `entity` is either the existing entity or `null` when creating a new entity.\n\n### getProfile(data, params)\n\n`oauthStrategy.getProfile(data, params) -> Promise` returns the user profile information from the OAuth provider that was used for the login. `data` is the OAuth callback information which normally contains e.g. the OAuth access token.\n\n### getRedirect (data)\n\n`oauthStrategy.getRedirect(data) -> Promise` returns the URL to redirect to after a successful OAuth login and entity lookup or creation. By default it redirects to `authentication.oauth.redirect` from the configuration with `#access_token=<access token for entity>` added to the end of the URL. The `access_token` hash is e.g. used by the [authentication client](./client.md) to log the user in after a successful OAuth login. The default redirects do work cross domain.\n\n### getAllowedOrigin (params)\n\n`oauthStrategy.getAllowedOrigin(params) -> Promise` returns the redirect base URL or throws an error if it is not allowed.\n\n### getCurrentEntity(params)\n\n`oauthStrategy.getCurrentEntity(params) -> Promise` returns the currently linked entity for the given `params`. It will either use the entity authenticated by `params.authentication` or return `null`.\n\n### findEntity(profile, params)\n\n`oauthStrategy.findEntity(profile, params) -> Promise` finds an entity for a given OAuth profile. Uses `{ [${this.name}Id]: profile.id }` by default.\n\n### createEntity(profile, params)\n\n`oauthStrategy.createEntity(profile, params) -> Promise` creates a new entity for the given OAuth profile. Uses `{ [${this.name}Id]: profile.id }` by default.\n\n### updateEntity(entity, profile, params)\n\n`oauthStrategy.updateEntity(entity, profile, params) -> Promise` updates an existing entity with the given profile. Uses `{ [${this.name}Id]: profile.id }` by default.\n\n### authenticate(authentication, params)\n\n`oauthStrategy.authenticate(authentication, params)` is the main endpoint implemented by any [authentication strategy](./strategy.md). It is usually called for authentication requests for this strategy by the [AuthenticationService](./service.md).\n\n## Customization\n\nNormally, any OAuth provider set up in the [configuration](#configuration) will be initialized with the default [OAuthStrategy](#oauthstrategy). The flow for a specific provider can be customized by extending `OAuthStrategy` class and registering it under that name on the [AuthenticationService](./service.md):\n\n```ts\nimport { Application } from '@feathersjs/feathers'\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport type { OAuthProfile } from '@feathersjs/authentication'\nimport { OAuthStrategy } from '@feathersjs/authentication-oauth'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nclass MyGithubStrategy extends OAuthStrategy {\n  async getEntityData(profile: OAuthProfile) {\n    // Include the `email` from the GitHub profile when creating\n    // or updating a user that logged in with GitHub\n    const baseData = await super.getEntityData(profile)\n\n    return {\n      ...baseData,\n      email: profile.email\n    }\n  }\n}\n\nexport default (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('github', new MyGithubStrategy())\n\n  // ...\n  app.use('authentication', authentication)\n}\n```",
    "rawContent": "## Usage\n\nThe following section covers oAuth authentication strategy [setup](#setup) and a more detailed description of the possible oAuth [flows](#flow) and [oAuth URLs](#oauth-urls).\n\n### Setup\n\nThe following is a standard oAuth setup. The `OAuthStrategy` often needs to be [customized](#customization) to include additional fields (like the avatar, email address or username) from the oAuth provider.\n\n```ts\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport { OAuthStrategy, oauth } from '@feathersjs/authentication-oauth'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n  authentication.register('github', new OAuthStrategy())\n  authentication.register('google', new OAuthStrategy())\n\n  app.use('authentication', authentication)\n  app.configure(oauth({}))\n}\n```\n\nThe following settings for `app.configure(oauth())` are available:\n\n- `linkStrategy` (default: `'jwt'`) - The name of the stratagy to use for [account linking](#account-linking)\n- `authService` (default: `app.get('defaultAuthentication')`) - The path of the authentication service to use\n- `expressSession` - An Express middleware for handling sessions. By default will use an HTTP cookie that is only available for the oAuth flow. **This normally does not need to be changed.**\n- `koaSession` - A Koa middleware for handling sessions. By default will use an HTTP cookie that is only available for the oAuth flow. **This normally does not need to be changed.**\n\n### Providers\n\nFor specific OAuth provider setup see the following [cookbook](../../cookbook/) guides:\n\n- [Auth0](../../cookbook/authentication/auth0.md)\n- [Facebook](../../cookbook/authentication/facebook.md)\n- [Google](../../cookbook/authentication/google.md)\n\n### Flow\n\nThere are two ways to initiate OAuth authentication:\n\n1. Through the browser (most common)\n\n   - User clicks on link to OAuth URL (`oauth/<provider>`)\n   - Gets redirected to provider and authorizes the application\n   - Callback to the [OauthStrategy](#oauthstrategy) which\n     - Gets the users profile\n     - Finds or creates the user (entity) for that profile\n   - The [AuthenticationService](./service.md) creates an access token for that entity\n   - Redirects back to the origin URL including the generated access token\n   - The frontend (e.g. the Feathers [authentication client](./client.md)) uses the returned access token to authenticate\n\n2. With an existing access token, e.g. obtained through the Facebook mobile SDK\n   - Authenticate normally through the [authentication service](./service.md) with `{ strategy: '<name>', accessToken: 'oauth access token' }`.\n   - Calls the [OauthStrategy](#oauthstrategy) which\n     - Gets the users profile\n     - Finds or creates the entity for that profile\n   - Returns the authentication result\n\n> **Important:**\n> \n> If you are attempting to authenticate using an existing oAuth access token, ensure that you have added the strategy (e.g. 'facebook') to the allowed [authStrategies](./service.md#configuration) configuration.\n>\n\n### OAuth URLs\n\nThere are two URLs and redirects that are important for OAuth authentication:\n\n- `http(s)://<host>/oauth/<provider>`: The main URL to initiate the OAuth flow. **Link to this from the browser.**\n- `http(s)://<host>/oauth/<provider>/callback`: The callback path that should be **set in the OAuth provider application settings.**\n\nIn the browser any OAuth flow can be initiated with a link like this:\n\n```html\n<a href=\"/oauth/github\">Login with GitHub</a>\n```\n\n### Account linking\n\nTo **link an existing user** the current access token can be added to the OAuth flow query using the `feathers_token` query parameter:\n\n```html\n<a href=\"/oauth/github?feathers_token=<your access token>\"> Login with GitHub </a>\n```\n\nThis will use the user (entity) of that access token to link the OAuth account to. Using the [authentication client](./client.md) you can get the current access token via `app.get('authentication')`:\n\n```ts\nconst { accessToken } = await app.get('authentication')\n```\n\n### Redirects\n\nThe recommended way to enable redirects is to set a list of allowed `origins` in your [application configuration](../configuration.md) (e.g. `config/default.json`). This will ensure cross origin restrictions across your application and allow oAuth authentication from different frontend applications.\n\n```js\n{\n  \"origins\": [\n    // Allow redirect to a local development frontend\n    // (e.g. a create-react-app server) and our production URL\n    \"http://localhost:500\", \"https://myapp.feathersjs.com\"\n  ]\n}\n```\n\n**Alternatively**, the `redirect` configuration can be used to redirect back to the frontend application after OAuth authentication was successful and an access token for the user has been created by the [authentication service](./service.md) or if authentication failed. It works cross domain and by default includes the access token or error message in the window location hash. The following configuration\n\n```js\n{\n  \"authentication\": {\n    \"oauth\": {\n      \"redirect\": \"https://app.mydomain.com/\"\n    }\n  }\n}\n```\n\nA successful oAuth flow will redirect to the origin or redirect URL in the form of `https://app.mydomain.com/#access_token=<user jwt>` or `https://app.mydomain.com/#error=<some error message>`. Redirects can be customized with the [getRedirect()](#getredirect-data) method of the OAuth strategy. The [authentication client](./client.md) handles the default redirects automatically already.\n\n> **Note:**\n> \n> The redirect is using a hash instead of a query string by default because it is not logged server side and can be easily read on the client. You can force query based redirect by adding a `?` to the end of the `redirect` option.\n> \n\nIf the `redirect` option is not set and no origin is available the authentication result data will be sent as JSON instead.\n\nDynamic redirects to the same URL are possible by setting the `redirect` query parameter in the OAuth flow. For example, the following OAuth link:\n\n```html\n<a href=\"/oauth/github?redirect=dashboard\"> Login with GitHub </a>\n```\n\nWith the above configuration will redirect to `https://app.mydomain.com/dashboard` after the OAuth flow.\n\n## Options\n\nOptions are usually set under the registered name via [Feathers configuration](../configuration.md) in `config/default.json` or `config/<environment>.json` under the `authentication.oauth` section. Available options are:\n\n- `origins` (default: `app.get('origins')`): A list of URLs from which oAuth authentication should be allowed. For example setting this option to`[ \"https://feathersjs.com\", \"https://feathers.cloud\" ]` would allow requests from those domains and redirect back to where the request came from. This can be used **instead of** the `redirect` option for a more consisten cross origin configuration via the `app.get('origins')` configuration value and to allow oAuth logins from multiple domains.\n- `redirect`: The URL of the frontend to redirect to with the access token (or error message). The [authentication client](./client.md) handles those redirects automatically. If not set, the authentication result will be sent as JSON instead.\n- `defaults`: Default [Grant configuration](https://github.com/simov/grant#configuration) used for all strategies. The following default options are set automatically:\n  - `prefix` (default: `'/oauth'`) - The OAuth base path\n  - `origin` (default: `http(s)://host[:port]`) - The server path for the oAuth flow to redirect back to. Set this if you are e.g. running your local server on HTTPS\n- `<strategy-name>` (e.g. `twitter`): The [Grant configuration](https://github.com/simov/grant#configuration) used for a specific strategy.\n\n> **tip:**\n> \n> Removing the `redirect` option allows to troubleshoot troubleshoot OAuth authentication errors as a JSON response by opening the oAuth URL directly in the browser.\n> \n\n```json\n{\n  \"authentication\": {\n    \"origins\": [\"localhost:3030\"],\n    \"oauth\": {\n      \"redirect\": \"/frontend\",\n      \"google\": {\n        \"key\": \"...\",\n        \"secret\": \"...\",\n        \"custom_params\": { \"access_type\": \"offline\" }\n      },\n      \"twitter\": {\n        \"key\": \"...\",\n        \"secret\": \"...\"\n      }\n    }\n  }\n}\n```\n\n> **Note:**\n> \n> All OAuth strategies will by default always look for configuration under `authentication.oauth.<name>`. If `authentication.oauth` is not set in the configuration, OAuth authentication will be disabled.\n> \n\nHere is a [list of all Grant configuration options](https://github.com/simov/grant#all-available-options) that are available:\n\n| Key                        | Location                                                                   | Description                                                                                              |\n| :------------------------- | :------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------- |\n| request_url                | [oauth.json](https://github.com/simov/grant/blob/master/config/oauth.json) | OAuth1/step1                                                                                             |\n| authorize_url              | [oauth.json](https://github.com/simov/grant/blob/master/config/oauth.json) | OAuth1/step2 or OAuth2/step1                                                                             |\n| access_url                 | [oauth.json](https://github.com/simov/grant/blob/master/config/oauth.json) | OAuth1/step3 or OAuth2/step2                                                                             |\n| oauth                      | [oauth.json](https://github.com/simov/grant/blob/master/config/oauth.json) | OAuth version number                                                                                     |\n| scope_delimiter            | [oauth.json](https://github.com/simov/grant/blob/master/config/oauth.json) | string delimiter used for concatenating multiple scopes                                                  |\n| protocol, host, path       | `defaults`                                                                 | used to generate `redirect_uri`                                                                          |\n| transport                  | `defaults`                                                                 | [transport](#response-data-transport) to use to deliver the response data in your final `callback` route |\n| state                      | `defaults`                                                                 | toggle random `state` string generation for OAuth2                                                       |\n| key                        | `[provider]`                                                               | OAuth app key, reserved aliases: `consumer_key` and `client_id`                                          |\n| secret                     | `[provider]`                                                               | OAuth app secret, reserved aliases: `consumer_secret` and `client_secret`                                |\n| scope                      | `[provider]`                                                               | list of scopes to request                                                                                |\n| custom_params              | `[provider]`                                                               | custom authorization [parameters](#custom-parameters) and their values                                   |\n| subdomain                  | `[provider]`                                                               | string to be [embedded](#subdomain-urls) in `request_url`, `authorize_url` and `access_url`              |\n| nonce                      | `[provider]`                                                               | toggle random `nonce` string generation for [OpenID Connect](#openid-connect) providers                  |\n| callback                   | `[provider]`                                                               | final callback route on your server to receive the [response data](#response-data)                       |\n| dynamic                    | `[provider]`                                                               | allow [dynamic override](#dynamic-override) of configuration                                             |\n| overrides                  | `[provider]`                                                               | [static overrides](#static-overrides) for a provider                                                     |\n| response                   | `[provider]`                                                               | [limit](#limit-response-data) the response data                                                          |\n| token_endpoint_auth_method | `[provider]`                                                               | authentication method for the [token endpoint](#token-endpoint-auth-method)                              |\n| name                       | generated                                                                  | provider's [name](#grant), used to generate `redirect_uri`                                               |\n| profile_url                | [grant-profile](https://github.com/simov/grant-profile)                    | The URL to retrieve the user profile from                                                                |\n| [provider]                 | generated                                                                  | provider's [name](#grant) as key                                                                         |\n| redirect_uri               | generated                                                                  | OAuth app [redirect URI](#redirect-uri), generated using `protocol`, `host`, `path` and `name`           |\n\n## OAuthStrategy\n\n\n\n### entityId\n\n`oauthStrategy.entityId -> string` returns the name of the id property of the entity.\n\n### getEntityQuery(profile, params)\n\n`oauthStrategy.getEntityQuery(profile, params) -> Promise` returns the entity lookup query to find the entity for a profile. By default returns\n\n```js\n{\n  [`${this.name}Id`]: profile.sub || profile.id\n}\n```\n\n### getEntityData(profile, entity, params)\n\n`oauthStrategy.getEntityData(profile, existing, params) -> Promise` returns the data to either create a new or update an existing entity. `entity` is either the existing entity or `null` when creating a new entity.\n\n### getProfile(data, params)\n\n`oauthStrategy.getProfile(data, params) -> Promise` returns the user profile information from the OAuth provider that was used for the login. `data` is the OAuth callback information which normally contains e.g. the OAuth access token.\n\n### getRedirect (data)\n\n`oauthStrategy.getRedirect(data) -> Promise` returns the URL to redirect to after a successful OAuth login and entity lookup or creation. By default it redirects to `authentication.oauth.redirect` from the configuration with `#access_token=<access token for entity>` added to the end of the URL. The `access_token` hash is e.g. used by the [authentication client](./client.md) to log the user in after a successful OAuth login. The default redirects do work cross domain.\n\n### getAllowedOrigin (params)\n\n`oauthStrategy.getAllowedOrigin(params) -> Promise` returns the redirect base URL or throws an error if it is not allowed.\n\n### getCurrentEntity(params)\n\n`oauthStrategy.getCurrentEntity(params) -> Promise` returns the currently linked entity for the given `params`. It will either use the entity authenticated by `params.authentication` or return `null`.\n\n### findEntity(profile, params)\n\n`oauthStrategy.findEntity(profile, params) -> Promise` finds an entity for a given OAuth profile. Uses `{ [${this.name}Id]: profile.id }` by default.\n\n### createEntity(profile, params)\n\n`oauthStrategy.createEntity(profile, params) -> Promise` creates a new entity for the given OAuth profile. Uses `{ [${this.name}Id]: profile.id }` by default.\n\n### updateEntity(entity, profile, params)\n\n`oauthStrategy.updateEntity(entity, profile, params) -> Promise` updates an existing entity with the given profile. Uses `{ [${this.name}Id]: profile.id }` by default.\n\n### authenticate(authentication, params)\n\n`oauthStrategy.authenticate(authentication, params)` is the main endpoint implemented by any [authentication strategy](./strategy.md). It is usually called for authentication requests for this strategy by the [AuthenticationService](./service.md).\n\n## Customization\n\nNormally, any OAuth provider set up in the [configuration](#configuration) will be initialized with the default [OAuthStrategy](#oauthstrategy). The flow for a specific provider can be customized by extending `OAuthStrategy` class and registering it under that name on the [AuthenticationService](./service.md):\n\n```ts\nimport { Application } from '@feathersjs/feathers'\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport type { OAuthProfile } from '@feathersjs/authentication'\nimport { OAuthStrategy } from '@feathersjs/authentication-oauth'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nclass MyGithubStrategy extends OAuthStrategy {\n  async getEntityData(profile: OAuthProfile) {\n    // Include the `email` from the GitHub profile when creating\n    // or updating a user that logged in with GitHub\n    const baseData = await super.getEntityData(profile)\n\n    return {\n      ...baseData,\n      email: profile.email\n    }\n  }\n}\n\nexport default (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('github', new MyGithubStrategy())\n\n  // ...\n  app.use('authentication', authentication)\n}\n```",
    "breadcrumb": "OAuth",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/authentication/oauth.md",
    "heading": "OAuth",
    "subHeadings": [
      "Usage",
      "Setup",
      "Providers",
      "Flow",
      "OAuth URLs",
      "Account linking",
      "Redirects",
      "Options",
      "OAuthStrategy",
      "entityId",
      "getEntityQuery(profile, params)",
      "getEntityData(profile, entity, params)",
      "getProfile(data, params)",
      "getRedirect (data)",
      "getAllowedOrigin (params)",
      "getCurrentEntity(params)",
      "findEntity(profile, params)",
      "createEntity(profile, params)",
      "updateEntity(entity, profile, params)",
      "authenticate(authentication, params)",
      "Customization"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "html",
      "js",
      "json"
    ],
    "tokens": 4542,
    "category": "authentication",
    "tags": [
      "application",
      "params",
      "provider",
      "find",
      "get",
      "create",
      "update",
      "setup",
      "authentication",
      "authorization",
      "jwt",
      "oauth",
      "google",
      "facebook",
      "github",
      "auth0",
      "rest",
      "http",
      "transport",
      "express",
      "koa",
      "middleware",
      "browser",
      "client",
      "configuration",
      "errors",
      "types",
      "declarations",
      "cli",
      "generate",
      "login",
      "users"
    ],
    "embedding": [
      -0.008548,
      0.034785,
      -0.067372,
      -0.003035,
      -0.010699,
      0.01015,
      0.012995,
      0.016116,
      0.009515,
      0.029982,
      0.008807,
      -0.018605,
      -0.008125,
      -0.00263,
      0.014383,
      0.019693,
      -0.005771,
      0.003824,
      0.025051,
      -0.01963,
      -0.043716,
      0.026308,
      0.003949,
      -0.034518,
      0.008004,
      0.032034,
      -0.006127,
      -0.039963,
      -0.012909,
      -0.017917,
      0.026638,
      -0.009442,
      -0.01873,
      0.001089,
      -0.021622,
      0.003217,
      -0.007728,
      0.011381,
      -0.054234,
      0.026226,
      0.00985,
      -0.016368,
      0.002807,
      -0.027586,
      0.04439,
      -0.031563,
      0.012513,
      -0.008842,
      -0.004631,
      -0.038615,
      -0.050184,
      -0.021356,
      0.035986,
      -0.061861,
      0.032329,
      0.021165,
      -0.006652,
      -0.008159,
      -0.053141,
      0.022208,
      -0.034548,
      -0.004369,
      0.0108,
      -0.013365,
      -0.018953,
      0.027186,
      -0.01949,
      0.007509,
      -0.01987,
      -0.037446,
      0.004854,
      0.055814,
      -0.027241,
      0.03455,
      -0.027973,
      -0.025845,
      0.077872,
      0.02169,
      -0.00094,
      0.027413,
      -0.036608,
      0.008462,
      -0.001146,
      -0.001072,
      -0.015553,
      -0.031448,
      -0.009708,
      0.029239,
      0.04716,
      0.00729,
      -0.027764,
      -0.066873,
      0.078332,
      -0.059582,
      0.030546,
      -0.001563,
      -0.009292,
      -0.005197,
      0.001318,
      -0.003049,
      0.003612,
      -0.012749,
      -0.017182,
      -0.02946,
      0.01499,
      0.04475,
      0.026064,
      -0.019126,
      -0.013685,
      -0.029472,
      -0.009295,
      0.022941,
      0.052278,
      0.008023,
      -0.018154,
      -0.003097,
      0.004699,
      -0.009659,
      -0.019493,
      -0.008007,
      -0.012724,
      0.052941,
      0.022814,
      -0.000162,
      -0.007466,
      0.003919,
      -0.007748,
      -0.003196,
      0.011464,
      0.026028,
      0.054078,
      -0.069116,
      -0.014,
      -0.014468,
      -0.062997,
      0.001852,
      0.047903,
      0.043718,
      -0.040222,
      -0.063206,
      0.035607,
      -0.007926,
      -0.004324,
      -0.025044,
      0.023549,
      -0.057094,
      0.055821,
      0.013867,
      -0.003287,
      0.01528,
      0.003036,
      -0.004352,
      0.001151,
      -0.01665,
      0.013146,
      -0.037365,
      0.040002,
      0.049523,
      0.043849,
      -0.01204,
      -0.006075,
      0.040645,
      -0.035551,
      -0.029265,
      0.008765,
      -0.039698,
      0.001566,
      -0.043783,
      -0.01626,
      -0.02606,
      0.024318,
      -0.019304,
      -0.019838,
      -0.006869,
      0.001687,
      0.023179,
      0.086918,
      0.042959,
      -0.010061,
      -0.045847,
      -0.048195,
      -0.004811,
      -0.032266,
      -0.043725,
      0.025452,
      -0.04089,
      -0.023523,
      -0.014057,
      -0.010788,
      0.04074,
      -0.032042,
      -0.011555,
      -0.018754,
      0.021682,
      -0.042625,
      0.002373,
      -0.003088,
      0.016129,
      -0.001322,
      0.010913,
      -0.012891,
      0.029006,
      0.024325,
      0.026958,
      0.006188,
      -0.014049,
      0.048962,
      -0.032281,
      0.009314,
      -0.02108,
      0.011917,
      -0.003563,
      0.006523,
      -0.045174,
      -0.058706,
      0.042558,
      0.025394,
      0.005011,
      -0.017984,
      0.00495,
      0.018191,
      0.019362,
      0.014713,
      -0.004204,
      0.059885,
      0.006569,
      0.018066,
      -0.048786,
      0.014453,
      -0.01811,
      -0.024357,
      -0.001136,
      0.014227,
      -0.018621,
      0.037633,
      -0.013889,
      -0.017429,
      0.004402,
      -0.006987,
      -0.02244,
      0.021615,
      -0.038895,
      -0.00064,
      0.003648,
      -0.034073,
      0.000933,
      0.01376,
      0.059088,
      -0.041882,
      0.000712,
      -0.025919,
      -0.005153,
      -0.033088,
      -0.004446,
      0.035171,
      0.001826,
      0.016151,
      -0.003698,
      -0.016907,
      -0.030675,
      0.017636,
      -0.021185,
      -0.019109,
      0.022302,
      0.009867,
      -0.038724,
      -0.05393,
      -0.023539,
      0.034845,
      0.060612,
      -0.037121,
      0.027986,
      0.042157,
      -0.002851,
      -0.019959,
      0.014599,
      -0.015105,
      -0.040825,
      0.085885,
      0.037055,
      0.026097,
      0.035436,
      0.020863,
      0.018234,
      0.002359,
      -0.002099,
      -0.044735,
      -0.012162,
      0.011447,
      -0.056436,
      0.016072,
      0.042287,
      0.078715,
      -0.026915,
      -0.005007,
      -0.005449,
      -0.015796,
      -0.144173,
      -0.032984,
      0.048213,
      0.02982,
      0.003316,
      -0.006748,
      -0.068396,
      -0.033949,
      -0.007406,
      0.035349,
      -0.003036,
      -0.060165,
      -0.00864,
      -0.019642,
      0.048233,
      0.019949,
      0.013429,
      -0.004048,
      0.023959,
      -0.043903,
      -0.03757,
      -0.042652,
      0.048953,
      -0.02503,
      0.01095,
      -0.001941,
      0.032048,
      0.017269,
      -0.050231,
      -0.0056,
      0.021387,
      -0.015584,
      0.009203,
      0.000892,
      0.00486,
      -0.021631,
      0.014185,
      -0.013743,
      0.037276,
      0.020987,
      0.027256,
      0.0222,
      0.014593,
      -0.033919,
      0.033187,
      -0.020969,
      0.050781,
      0.028373,
      -0.018997,
      0.002887,
      0.022962,
      -0.006777,
      0.018259,
      0.006636,
      -0.044666,
      -0.02917,
      0.003009,
      0.048863,
      0.002694,
      0.021586,
      0.031375,
      0.015393,
      0.024444,
      -0.019193,
      -0.004832,
      0.013774,
      0.005011,
      0.009744,
      0.004722,
      -0.028616,
      0.029236,
      -0.064034,
      0.001796,
      0.014858,
      -0.023888,
      0.004162,
      0.039251,
      -0.01967,
      -0.037733,
      -0.10381,
      -0.007858,
      0.020823,
      0.008942,
      0.003597,
      -0.060836,
      -0.084015,
      0.00521,
      0.004685,
      0.007222,
      0.252213,
      0.027191,
      -0.016007,
      0.008641,
      0.070136,
      -0.017139,
      0.001163,
      0.07517,
      -0.038034,
      -0.025882,
      -0.011006,
      0.029954,
      0.017072,
      -0.001997,
      -0.018059,
      0.008391,
      -0.065568,
      0.033153,
      0.039459,
      -0.009734,
      0.021651,
      -0.033932,
      0.026341,
      0.012363,
      -0.08583,
      -0.04042,
      -0.015175,
      0.022492,
      -0.025533,
      0.021532,
      -0.020915,
      0.015127,
      0.006224,
      -0.00744,
      -0.052416,
      0.014877,
      -0.019482,
      -0.007225,
      -0.021174,
      -0.002829,
      -0.002211,
      -0.021199,
      0.017054,
      -0.037446,
      0.037438,
      0.028399,
      0.004295,
      -0.006763,
      -0.028556,
      -0.025485,
      -0.05342,
      -0.018589,
      -0.013814,
      -0.012076,
      0.006977,
      -0.058571,
      -0.009249,
      -0.001843,
      -0.00823,
      -0.019796,
      0.040042,
      0.019475,
      -0.067872,
      0.021298,
      -0.000612,
      0.021163,
      0.024281,
      -0.039613,
      -0.009592,
      0.057644,
      -0.034578,
      0.021681,
      0.012934,
      0.021885,
      0.014442,
      0.007653,
      0.051222,
      0.014802,
      -0.027492,
      0.031995,
      0.000478,
      0.020752,
      -0.000712,
      0.019109,
      0.02869,
      0.001625,
      0.000228,
      0.048203,
      0.005845,
      -0.01012,
      -0.000192,
      -0.025843,
      0.014572,
      0.031591,
      -0.01734,
      0.008182,
      0.015864,
      -0.016564,
      -0.001884,
      -0.04874,
      -0.00231,
      0.032256,
      -0.029149,
      -0.010866,
      0.071224,
      -0.027212,
      -0.009295,
      -0.00362,
      -0.012463,
      0.007235,
      -0.067772,
      -0.005629,
      0.038381,
      -0.02425,
      0.004042,
      0.02862,
      0.024308,
      0.008213,
      0.06872,
      0.070651,
      0.032495,
      0.001048,
      -0.009107,
      0.015378,
      0.029817,
      -0.058223,
      -0.013697,
      -0.046309,
      -0.01657,
      0.057914,
      0.027179,
      -0.038918,
      0.021728,
      0.061117,
      0.035762,
      0.003848,
      0.028308,
      0.021106,
      0.044032,
      -0.0074,
      -0.079563,
      0.002329,
      -0.017291,
      0.001655,
      -0.01299,
      0.01484,
      -0.004933,
      0.025205,
      0.01081,
      -0.001847,
      0.035875,
      0.058679,
      0.002704,
      -0.028974,
      0.030962,
      -0.04226,
      0.005001,
      0.015752,
      0.003155,
      -0.033298,
      0.009793,
      0.002385,
      0.024818,
      0.070694,
      -0.003435,
      0.005431,
      0.021654,
      0.033176,
      -0.020662,
      -0.020083,
      0.024706,
      -0.067422,
      -0.039347,
      0.05431,
      0.002457,
      -0.039793,
      -0.105021,
      -0.015958,
      0.007365,
      -0.034038,
      0.008266,
      0.005863,
      -0.011782,
      0.011024,
      0.022486,
      0.025817,
      0.010494,
      -0.007417,
      -0.017014,
      -0.044741,
      -0.02676,
      0.105236,
      -0.025523,
      -0.002227,
      0.046249,
      -0.004012,
      0.030078,
      0.053592,
      0.008856,
      0.04639,
      -0.040649,
      0.003001,
      -0.015951,
      -0.033976,
      0.014884,
      -0.011688,
      -0.027977,
      0.026821,
      -0.014405,
      0.016556,
      0.026431,
      0.032732,
      -0.027678,
      0.003014,
      0.017668,
      -0.039863,
      0.033201,
      0.081146,
      0.019374,
      -0.014569,
      -0.008925,
      -0.004765,
      -0.009242,
      -0.048163,
      -0.002573,
      0.02439,
      0.036693,
      0.014412,
      -0.023098,
      -0.002476,
      -0.012794,
      0.016681,
      0.0635,
      -0.022442,
      0.026835,
      0.003275,
      0.015093,
      -0.00495,
      0.043638,
      -0.029593,
      0.04738,
      -0.017028,
      -0.01103,
      0.04112,
      0.003124,
      0.018026,
      -0.008532,
      -0.000551,
      -0.028888,
      0.045431,
      -0.008126,
      -0.026648,
      -0.009392,
      -0.027162,
      0.04651,
      0.000291,
      0.050679,
      -0.051905,
      -0.006056,
      0.011983,
      -0.01695,
      0.01486,
      0.020118,
      -0.035131,
      -0.005807,
      -0.086634,
      0.004919,
      -0.073398,
      -0.050679,
      0.011415,
      -0.004332,
      0.025576,
      -0.023401,
      -0.048219,
      0.028224,
      -0.002211,
      -0.041956,
      -0.043645,
      -0.001693,
      0.007195,
      -0.040889,
      -0.007595,
      0.02261,
      0.009992,
      -0.012514,
      0.035425,
      -0.019056,
      0.011652,
      -0.00469,
      -0.066639,
      -0.001485,
      0.009069,
      -0.003818,
      0.013732,
      -0.021727,
      -0.018961,
      -0.00836,
      0.019446,
      -0.019397,
      0.018164,
      -0.020419,
      -0.014986,
      0.019573,
      -0.023217,
      0.026996,
      0.007532,
      -0.024129,
      -0.043796,
      -0.007599,
      0.004284,
      0.013392,
      -0.035767,
      -0.015831,
      0.014341,
      0.021323,
      -0.020352,
      0.069848,
      -0.035697,
      0.013268,
      0.001179,
      0.060021,
      -0.012611,
      -0.024331,
      0.031328,
      -0.01748,
      -0.025064,
      -0.017276,
      -0.005933,
      -0.023333,
      0.040048,
      -0.032616,
      -0.014781,
      -0.011995,
      -0.031106,
      -0.029567,
      -0.000471,
      0.009924,
      -0.031291,
      0.005956,
      0.002412,
      -0.003759,
      0.004561,
      0.069801,
      -0.003169,
      -0.002362,
      -0.034226,
      -0.025774,
      0.017759,
      -0.018437,
      0.022519,
      0.022228,
      0.004087,
      -0.01752,
      -0.015943,
      0.060565,
      -0.010867,
      -0.033946,
      0.03294,
      0.0385,
      0.035761,
      -0.007479,
      0.053093,
      0.015157,
      -0.024663,
      -0.017681,
      0.004257,
      0.010527,
      -0.041121,
      0.00581,
      -0.000669,
      -0.036466,
      0.016916,
      0.021939,
      0.00548,
      -0.02523,
      0.028103,
      0.006265,
      -0.026748,
      0.034244,
      -0.038493,
      -0.012276,
      -0.019481,
      -0.072063,
      -0.004654,
      -0.018207,
      -0.001735,
      0.025969,
      0.002115,
      0.023307,
      0.008057,
      0.020487,
      0.021381,
      -0.013913,
      0.017336,
      -0.131859,
      0.020476,
      0.010823,
      0.004043,
      -0.002388,
      0.008866,
      -0.01551,
      -0.029421,
      0.001367,
      -0.02022,
      -0.022876,
      -0.011925,
      0.017925,
      -0.011724,
      0.029776,
      -0.02271,
      -0.004702,
      -0.026,
      -0.036399,
      -0.032517,
      -0.026971,
      -0.012758,
      0.028115,
      -0.021328,
      -0.001103,
      -0.031594,
      -0.019453,
      -0.018706,
      -0.021562,
      0.017593,
      -0.010101,
      -0.012519,
      -0.001171,
      0.027814,
      -0.011549,
      0.000001,
      0.013871,
      0.008925,
      -0.006084,
      0.046546,
      -0.041971,
      0.043443,
      -0.04784,
      0.010449,
      -0.003058,
      0.058576,
      -0.030945,
      -0.053576,
      -0.02547,
      -0.007536,
      -0.015656,
      0.001554,
      0.022957,
      -0.003117,
      -0.001416,
      -0.009555,
      -0.016415,
      -0.025718,
      -0.068553,
      0.016999,
      -0.025211,
      0.038008,
      -0.033756,
      -0.010068,
      -0.026428,
      0.037661,
      -0.037464,
      -0.000005,
      -0.006372,
      -0.009569,
      -0.007056,
      -0.043075,
      -0.059957,
      0.016743,
      0.000124,
      -0.005504,
      0.035318,
      -0.020486,
      -0.029477,
      -0.015873,
      0.011341,
      -0.031269,
      -0.047926,
      0.082859,
      0.021983,
      0.043759,
      0.01577,
      0.008945,
      -0.00025,
      -0.019788,
      -0.078486,
      -0.051825,
      0.018938,
      0.043233,
      -0.004761,
      0.004688,
      -0.018587,
      -0.01335,
      -0.006313,
      0.021374,
      -0.008166,
      0.015804,
      0.045537,
      -0.0091,
      -0.036231,
      0.012518,
      0.001821,
      0.005649,
      0.009617,
      -0.010379,
      0.034884,
      -0.004875,
      -0.017253,
      0.013434,
      -0.039787,
      0.015227,
      0.016483,
      0.035471,
      -0.010286,
      -0.007808,
      0.001546,
      -0.038718,
      0.008019,
      -0.018529,
      0.016941,
      0.038151,
      0.033145,
      0.017793,
      0.032971,
      -0.070355,
      0.03997,
      -0.106168,
      -0.004371,
      -0.003193,
      0.013769,
      -0.026817,
      -0.05873,
      0.049094,
      -0.020619,
      -0.056623,
      -0.044991,
      -0.023309,
      0.028246,
      -0.005053,
      0.006207,
      -0.025616,
      0.032883,
      0.036755,
      -0.021781,
      -0.062231,
      -0.011346,
      -0.000538,
      -0.031196,
      0.02641,
      0.00695,
      0.041778,
      -0.013795,
      0.031661,
      -0.007381,
      0.049596,
      -0.0106,
      -0.022964,
      -0.023008,
      -0.014185,
      -0.016083,
      -0.00697,
      -0.018512,
      -0.005582,
      -0.017804,
      -0.00373,
      -0.028885,
      0.036949,
      -0.013694,
      -0.023963,
      0.009465,
      0.031966,
      0.027656,
      -0.019139,
      0.049715,
      0.010026,
      0.01407,
      -0.001611,
      0.056081,
      0.012118,
      0.038054,
      -0.019018,
      -0.007714,
      0.028845,
      0.017342,
      -0.023553,
      -0.006701,
      -0.008661,
      0.021882,
      -0.030518,
      0.021299,
      0.010394,
      0.017553,
      -0.014923,
      -0.033248,
      0.056154,
      0.00598,
      -0.000054,
      0.011539,
      0.000598,
      -0.007008,
      0.001209,
      -0.025955,
      -0.018601,
      -0.01186,
      0.054527,
      0.016789,
      -0.04063,
      -0.009497,
      0.023122,
      0.025692,
      0.019892,
      0.041999,
      -0.007645,
      0.017413,
      -0.080707,
      0.049461,
      -0.004892,
      0.012571,
      -0.006847,
      -0.03744,
      -0.047517,
      0.040623,
      0.017157,
      -0.006054,
      0.015966,
      -0.005893,
      -0.023661,
      -0.0136,
      0.060356,
      0.05003,
      -0.008993,
      0.019077,
      0.005278,
      -0.021885,
      -0.029262,
      0.020645,
      0.036738,
      0.024939,
      0.002105
    ]
  },
  {
    "id": "v5-service-0",
    "content": "# Authentication Service\nBreadcrumb: Authentication Service\nCovers: Setup | Configuration | Authentication flows | To _create a new JWT_ | To _authenticate an external request_ | To authenticate _your own service request_ | AuthenticationService | constructor(app [, configKey]) | authenticate(data, params, ...strategies) | create(data, params) | remove(id, params) | configuration | register(name, strategy) | getStrategy(name) | getStrategies(...names) | createAccessToken(payload) | verifyAccessToken(accessToken) | getTokenOptions(authResult, params) | getPayload(authResult, params) | parse(req, res, ...strategies) | setup(path, app) | app.get('defaultAuthentication') | Customization | Events | app.on('login') | app.on('logout')\nTopics: hooks, services, application, context, params, hook context, get, create, update, remove, setup, authentication, jwt, oauth, local strategy, stateless, github, auth0, real-time, websockets, channels, events, http, client, configuration, types, declarations, cli, login, users\n\n## Setup\n\nThe standard setup initializes an [AuthenticationService](#authenticationservice) at the `/authentication` path with a [JWT strategy](./jwt.md), [Local strategy](./local.md) and [OAuth authentication](./oauth.md) (if selected).\n\n```ts\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n  authentication.register('local', new LocalStrategy())\n\n  app.use('authentication', authentication)\n}\n```\n\n## Configuration\n\nThe standard authentication service configuration is normally located in the `authentication` section of a [configuration file](../configuration.md) (default: `config/default.json`).\n\n> **Note:**\n> \n> The authentication service can also be configured dynamically or without Feathers configuration by using [app.set](../application.md#set-name-value), e.g. `app.set('authentication', config)`.\n> \n\nThe following options are available:\n\n- `secret`: The JWT signing secret.\n- `service`: The path of the entity service\n- `authStrategies`: A list of authentication strategy names to allow on this authentication service to create access tokens.\n- `parseStrategies`: A list of authentication strategies that should be used to parse HTTP requests. Defaults to the same as `authStrategies`.\n- `entity`: The name of the field that will contain the entity after successful authentication. Will also be used to set `params[entity]` (usually `params.user`) when using the [authenticate hook](./hook). Can be `null` if no entity is used (see [stateless tokens](../../cookbook/authentication/stateless.md)).\n- `entityId`: The id property of an entity object. Only necessary if the entity service does not have an `id` property (e.g. when using a custom entity service).\n- `jwtOptions`: All options available for the [node-jsonwebtoken package](https://github.com/auth0/node-jsonwebtoken).\n\nAn authentication service configuration in `config/default.json` can look like this:\n\n```json\n{\n  \"authentication\": {\n    \"secret\": \"CHANGE_ME\",\n    \"entity\": \"user\",\n    \"service\": \"users\",\n    \"authStrategies\": [\"jwt\", \"local\"],\n    \"jwtOptions\": {\n      \"header\": { \"typ\": \"access\" },\n      \"audience\": \"https://yourdomain.com\",\n      \"issuer\": \"feathers\",\n      \"algorithm\": \"HS256\",\n      \"expiresIn\": \"1d\"\n    }\n  }\n}\n```\n\n> **info:**\n> \n> `typ` in the `header` options is not a typo, it is part of the [JWT JOSE header specification](https://tools.ietf.org/html/rfc7519#section-5).\n> \n\nAdditionally to the above configuration, most [strategies](./strategy.md) will look for their own configuration under the name it was registered. An example can be found in the [local strategy configuration](./local.md#configuration).\n\n## Authentication flows\n\nBelow are the flows how the authentication service can be used.\n\n### To _create a new JWT_\n\nFor any strategy allowed in `authStrategies`, a user can call `app.service('/authentication').create(data)` or `POST /authentication` with `data` as `{ strategy: name, ...loginData }`. Internally authentication will then\n\n- Call the strategy `.authenticate` method with `data`\n- Create a JWT for the entity returned by the strategy\n- Return the JWT (`accessToken`) and the additional information from the strategy\n\nFor `local` strategy, the user has to be created before doing auth, otherwise, a 401 `NotAuthenticated` error will be sent.\n\n### To _authenticate an external request_\n\nFor any HTTP request and strategy allowed in `parseStrategies` or - if not set - `authStrategies` authentication will:\n\n- Call [strategy.parse](./strategy.md#parse-req-res) and set the return value of the first strategy that does not return `null` as `params.authentication`\n- Verify `params.authentication` using the [authenticate hook](./hook.md) which calls the strategy `.authenticate` method with `params.authentication` as the data\n- Merge the return value of the strategy with `params` (e.g. setting `params.user`)\n\n### To authenticate _your own service request_\n\nFor any service that uses the [authenticate hook](./hook.md) called internally you can set `params.authentication` in the service call which will then:\n\n- Verify `params.authentication` using the [authenticate hook](./hook.md) which calls the strategy `.authenticate` method with `params.authentication` as the data\n- Merge the return value of the strategy with `params` (e.g. setting `params.user`)\n\n> **warning:**\n> \n> You can set `params.authentication` for internal requests on the server but usually setting the entity (`params.user` in most cases) if you already have it available should be preferred. This will avoid the overhead of running authentication again if it has already been done.\n>\n\n## AuthenticationService\n\n\n\n### constructor(app [, configKey])\n\n`const authService = new AuthenticationService(app, configKey = 'authentication')` initializes a new authentication service with the [Feathers application](../application.md) instance and a `configKey` which is the name of the configuration property to use via [app.get()](../application.md#get-name) (default: `app.get('authentication')`). Upon initialization it will also update the configuration with the [default settings](#configuration).\n\n### authenticate(data, params, ...strategies)\n\n`authService.authenticate(data, params, ...strategies) -> Promise` is the main authentication method and authenticates `data` and `params` against a list of strategies in `strategies`.\n\n`data` _must_ always contain a `strategy` property indicating the name of the strategy. If `data.strategy` is not available or not allowed (included in the `strategies` list) a `NotAuthenticated` error will be thrown. Otherwise the result of [strategy.authenticate()](./strategy.md#authenticate-authentication-params) will be returned.\n\n### create(data, params)\n\n`authService.create(data, params) -> Promise` runs `authService.authenticate` with `data`, `params` and the list of `strategies` from `authStrategies` in the [configuration](#configuration). As with any other [Feathers service](../services.md), this method will be available to clients, e.g. running a `POST /authentication`.\n\nIf successful it will create a JWT with the payload taken from [authService.getPayload](#getpayload-authresult-params) and the options from [authService.getTokenOptions](#gettokenoptions-authresult-params). `data` _must_ always contain a valid and allowed `strategy` name. Will emit the [`login` event](#app-on-login).\n\n### remove(id, params)\n\n`authService.remove(id, params) -> Promise` should be called with `id` set to `null` or to the authenticated access token. Will verify `params.authentication` and emit the [`logout` event](#app-on-logout) if successful.\n\n### configuration\n\n`authService.configuration` returns a copy of current value of `app.get(configKey)` (default: `app.get('authentication')`). This is a deep copy of the configuration and is not intended to be modified. In order to change the configuration, [app.set(configKey)](../application.md#set-name-value) should be used:\n\n```ts\nconst config = app.get('authentication')\n\n// Update configuration with a new entity\napp.set('authentication', {\n  ...config,\n  entity: 'some other entity name'\n})\n```\n\n### register(name, strategy)\n\n`authService.register(name, strategy)` registers an [authentication strategy](./strategy.md) under `name` and calls the strategy methods `setName`, `setApplication`, `setAuthentication` and `verifyConfiguration` if they are implemented.\n\n### getStrategy(name)\n\n`service.getStrategy(name)` returns the authentication strategy registered under `name`. Usually authentication strategies do not need to be used directly.\n\n### getStrategies(...names)\n\n`service.getStrategies(...names) -> AuthenticationStrategy[]` returns the [authentication strategies](./strategy.md) that exist for a list of names. The returned array may include `undefined` values if the strategy does not exist. Usually authentication strategies do not need to be used directly.\n\n```js\nconst [localStrategy] = authService.getStrategies('local')\n```\n\n### createAccessToken(payload)\n\n`authService.createAccessToken(payload, [options, secret]) -> Promise` creates a new access token. By default it is a [JWT](https://jwt.io/) with `payload`, using [configuration.jwtOptions](#configuration) merged with `options` (optional). It will either use `authService.configuration.secret` or the optional `secret` to sign the JWT. Throws an error if the access token can not be created.\n\n```ts\nconst token = await app.service('authentication').createAccessToken({\n  permission: 'admin'\n})\n```\n\n> **warning:**\n> \n> Normally, it is not necessary to call this method directly. Calling [authService.create(data, params)](#create-data-params) using an authentication strategy will take care of creating the correct access token.\n>\n\n### verifyAccessToken(accessToken)\n\n`authService.verifyAccessToken(accessToken, [options, secret]) -> Promise` verifies the access token. By default it will try to verify a JWT using `configuration.jwtOptions` merged with `options` (optional). Will either use `configuration.secret` or the optional `secret` to verify the JWT. Returns the encoded payload or throws an error.\n\n### getTokenOptions(authResult, params)\n\n`authService.getTokenOptions(authResult, params) -> Promise` returns the options for creating a new access token based on the return value from calling [authService.authenticate()](#authenticate-data-params-strategies). Called internally on [authService.create()](#create-data-params). It will try to set the JWT `subject` to the entity (user) id if it is available which will then be used by the [JWT strategy](./jwt.md) to populate `params[entity]` (usually `params.user`).\n\n### getPayload(authResult, params)\n\n`authService.getPayload(authResult, params) -> Promise` returns the access token payload for an authentication result (the return value of [authService.create()](#create-data-params)) and [service call parameters](../services.md#params). Called internally on [.create](#create-data-params). Returns either `params.payload` or an empty object (`{}`).\n\n### parse(req, res, ...strategies)\n\n`authService.parse(req, res, ...strategies) -> Promise` parses a [NodeJS HTTP request](https://nodejs.org/api/http.html#http_class_http_incomingmessage) and [HTTP response](https://nodejs.org/api/http.html#http_class_http_serverresponse) for authentication information using `strategies` calling [each strategies `.parse()` method](./strategy.md#parse-req-res) if it is implemented. Will return the value of the first strategy that didn't return `null`. This does _not_ authenticate the request, it will only return authentication information that can be used by `authService.authenticate` or `authService.create`.\n\n### setup(path, app)\n\n`authService.setup(path, app)` verifies the [configuration](#configuration) and makes sure that\n\n- A `secret` has been set\n- If `entity` is not `null`, check if the entity service is available and make sure that either the `entityId` configuration or the `entityService.id` property is set.\n- Register internal hooks to send events and keep real-time connections up to date. All custom hooks should be registered at this time.\n\n## app.get('defaultAuthentication')\n\nAfter registering an authentication service, it will set the `defaultAuthentication` property on the application to its configuration name (`configKey` set in the constructor) if it does not exist. `app.get('defaultAuthentication')` will be used by other parts of Feathers authentication to access the authentication service if it is not otherwise specified. Usually this will be `'authentication'`.\n\n## Customization\n\nThe `AuthenticationService` can be customized like any other class:\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\nimport { AuthenticationService } from '@feathersjs/authentication'\n\nclass MyAuthService extends AuthenticationService {\n  async getPayload(authResult: AuthenticationResult, params: Params) {\n    // Call original `getPayload` first\n    const payload = await super.getPayload(authResult, params)\n    const { user } = authResult\n\n    if (user && user.permissions) {\n      payload.permissions = user.permissions\n    }\n\n    return payload\n  }\n}\n\napp.use('/authentication', new MyAuthService(app))\n```\n\nThings to be aware of when extending the authentication service:\n\n- When implementing your own `constructor`, always call `super(app, configKey)`\n- When overriding a method, calling `super.method` and working with its return value is recommended unless you are certain your custom method behaves exactly the same way, otherwise things may no longer work as expected.\n- When extending `setup`, `super.setup(path, app)` should always be called, otherwise events and real-time connection authentication will no longer work.\n\n## Events\n\nFor both, `login` and `logout` the event data is `(authenticationResult, params, context) => {}` as follows:\n\n- `authResult` is the return value of the `authService.create` or `authService.remove` call. It usually contains the user and access token.\n- `params` is the service call parameters\n- `context` is the service methods [hook context](../hooks.md#hook-context)\n\n### app.on('login')\n\n`app.on('login', (authenticationResult, params, context) => {})` will be sent after a user logs in. This means, after any successful external call to [authService.create](#create-data-params).\n\n> **Important:**\n> \n> The `login` event is also sent for e.g. reconnections of websockets and may not always have a corresponding `logout` event. Use the [`disconnect` event](../channels.md#app-on-disconnect) for handling disconnection.\n>\n\n### app.on('logout')\n\n`app.on('logout', (authenticationResult, params, context) => {})` will be sent after a user explicitly logs out. This means after any successful external call to [authService.remove](#remove-id-params).",
    "rawContent": "## Setup\n\nThe standard setup initializes an [AuthenticationService](#authenticationservice) at the `/authentication` path with a [JWT strategy](./jwt.md), [Local strategy](./local.md) and [OAuth authentication](./oauth.md) (if selected).\n\n```ts\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n  authentication.register('local', new LocalStrategy())\n\n  app.use('authentication', authentication)\n}\n```\n\n## Configuration\n\nThe standard authentication service configuration is normally located in the `authentication` section of a [configuration file](../configuration.md) (default: `config/default.json`).\n\n> **Note:**\n> \n> The authentication service can also be configured dynamically or without Feathers configuration by using [app.set](../application.md#set-name-value), e.g. `app.set('authentication', config)`.\n> \n\nThe following options are available:\n\n- `secret`: The JWT signing secret.\n- `service`: The path of the entity service\n- `authStrategies`: A list of authentication strategy names to allow on this authentication service to create access tokens.\n- `parseStrategies`: A list of authentication strategies that should be used to parse HTTP requests. Defaults to the same as `authStrategies`.\n- `entity`: The name of the field that will contain the entity after successful authentication. Will also be used to set `params[entity]` (usually `params.user`) when using the [authenticate hook](./hook). Can be `null` if no entity is used (see [stateless tokens](../../cookbook/authentication/stateless.md)).\n- `entityId`: The id property of an entity object. Only necessary if the entity service does not have an `id` property (e.g. when using a custom entity service).\n- `jwtOptions`: All options available for the [node-jsonwebtoken package](https://github.com/auth0/node-jsonwebtoken).\n\nAn authentication service configuration in `config/default.json` can look like this:\n\n```json\n{\n  \"authentication\": {\n    \"secret\": \"CHANGE_ME\",\n    \"entity\": \"user\",\n    \"service\": \"users\",\n    \"authStrategies\": [\"jwt\", \"local\"],\n    \"jwtOptions\": {\n      \"header\": { \"typ\": \"access\" },\n      \"audience\": \"https://yourdomain.com\",\n      \"issuer\": \"feathers\",\n      \"algorithm\": \"HS256\",\n      \"expiresIn\": \"1d\"\n    }\n  }\n}\n```\n\n> **info:**\n> \n> `typ` in the `header` options is not a typo, it is part of the [JWT JOSE header specification](https://tools.ietf.org/html/rfc7519#section-5).\n> \n\nAdditionally to the above configuration, most [strategies](./strategy.md) will look for their own configuration under the name it was registered. An example can be found in the [local strategy configuration](./local.md#configuration).\n\n## Authentication flows\n\nBelow are the flows how the authentication service can be used.\n\n### To _create a new JWT_\n\nFor any strategy allowed in `authStrategies`, a user can call `app.service('/authentication').create(data)` or `POST /authentication` with `data` as `{ strategy: name, ...loginData }`. Internally authentication will then\n\n- Call the strategy `.authenticate` method with `data`\n- Create a JWT for the entity returned by the strategy\n- Return the JWT (`accessToken`) and the additional information from the strategy\n\nFor `local` strategy, the user has to be created before doing auth, otherwise, a 401 `NotAuthenticated` error will be sent.\n\n### To _authenticate an external request_\n\nFor any HTTP request and strategy allowed in `parseStrategies` or - if not set - `authStrategies` authentication will:\n\n- Call [strategy.parse](./strategy.md#parse-req-res) and set the return value of the first strategy that does not return `null` as `params.authentication`\n- Verify `params.authentication` using the [authenticate hook](./hook.md) which calls the strategy `.authenticate` method with `params.authentication` as the data\n- Merge the return value of the strategy with `params` (e.g. setting `params.user`)\n\n### To authenticate _your own service request_\n\nFor any service that uses the [authenticate hook](./hook.md) called internally you can set `params.authentication` in the service call which will then:\n\n- Verify `params.authentication` using the [authenticate hook](./hook.md) which calls the strategy `.authenticate` method with `params.authentication` as the data\n- Merge the return value of the strategy with `params` (e.g. setting `params.user`)\n\n> **warning:**\n> \n> You can set `params.authentication` for internal requests on the server but usually setting the entity (`params.user` in most cases) if you already have it available should be preferred. This will avoid the overhead of running authentication again if it has already been done.\n>\n\n## AuthenticationService\n\n\n\n### constructor(app [, configKey])\n\n`const authService = new AuthenticationService(app, configKey = 'authentication')` initializes a new authentication service with the [Feathers application](../application.md) instance and a `configKey` which is the name of the configuration property to use via [app.get()](../application.md#get-name) (default: `app.get('authentication')`). Upon initialization it will also update the configuration with the [default settings](#configuration).\n\n### authenticate(data, params, ...strategies)\n\n`authService.authenticate(data, params, ...strategies) -> Promise` is the main authentication method and authenticates `data` and `params` against a list of strategies in `strategies`.\n\n`data` _must_ always contain a `strategy` property indicating the name of the strategy. If `data.strategy` is not available or not allowed (included in the `strategies` list) a `NotAuthenticated` error will be thrown. Otherwise the result of [strategy.authenticate()](./strategy.md#authenticate-authentication-params) will be returned.\n\n### create(data, params)\n\n`authService.create(data, params) -> Promise` runs `authService.authenticate` with `data`, `params` and the list of `strategies` from `authStrategies` in the [configuration](#configuration). As with any other [Feathers service](../services.md), this method will be available to clients, e.g. running a `POST /authentication`.\n\nIf successful it will create a JWT with the payload taken from [authService.getPayload](#getpayload-authresult-params) and the options from [authService.getTokenOptions](#gettokenoptions-authresult-params). `data` _must_ always contain a valid and allowed `strategy` name. Will emit the [`login` event](#app-on-login).\n\n### remove(id, params)\n\n`authService.remove(id, params) -> Promise` should be called with `id` set to `null` or to the authenticated access token. Will verify `params.authentication` and emit the [`logout` event](#app-on-logout) if successful.\n\n### configuration\n\n`authService.configuration` returns a copy of current value of `app.get(configKey)` (default: `app.get('authentication')`). This is a deep copy of the configuration and is not intended to be modified. In order to change the configuration, [app.set(configKey)](../application.md#set-name-value) should be used:\n\n```ts\nconst config = app.get('authentication')\n\n// Update configuration with a new entity\napp.set('authentication', {\n  ...config,\n  entity: 'some other entity name'\n})\n```\n\n### register(name, strategy)\n\n`authService.register(name, strategy)` registers an [authentication strategy](./strategy.md) under `name` and calls the strategy methods `setName`, `setApplication`, `setAuthentication` and `verifyConfiguration` if they are implemented.\n\n### getStrategy(name)\n\n`service.getStrategy(name)` returns the authentication strategy registered under `name`. Usually authentication strategies do not need to be used directly.\n\n### getStrategies(...names)\n\n`service.getStrategies(...names) -> AuthenticationStrategy[]` returns the [authentication strategies](./strategy.md) that exist for a list of names. The returned array may include `undefined` values if the strategy does not exist. Usually authentication strategies do not need to be used directly.\n\n```js\nconst [localStrategy] = authService.getStrategies('local')\n```\n\n### createAccessToken(payload)\n\n`authService.createAccessToken(payload, [options, secret]) -> Promise` creates a new access token. By default it is a [JWT](https://jwt.io/) with `payload`, using [configuration.jwtOptions](#configuration) merged with `options` (optional). It will either use `authService.configuration.secret` or the optional `secret` to sign the JWT. Throws an error if the access token can not be created.\n\n```ts\nconst token = await app.service('authentication').createAccessToken({\n  permission: 'admin'\n})\n```\n\n> **warning:**\n> \n> Normally, it is not necessary to call this method directly. Calling [authService.create(data, params)](#create-data-params) using an authentication strategy will take care of creating the correct access token.\n>\n\n### verifyAccessToken(accessToken)\n\n`authService.verifyAccessToken(accessToken, [options, secret]) -> Promise` verifies the access token. By default it will try to verify a JWT using `configuration.jwtOptions` merged with `options` (optional). Will either use `configuration.secret` or the optional `secret` to verify the JWT. Returns the encoded payload or throws an error.\n\n### getTokenOptions(authResult, params)\n\n`authService.getTokenOptions(authResult, params) -> Promise` returns the options for creating a new access token based on the return value from calling [authService.authenticate()](#authenticate-data-params-strategies). Called internally on [authService.create()](#create-data-params). It will try to set the JWT `subject` to the entity (user) id if it is available which will then be used by the [JWT strategy](./jwt.md) to populate `params[entity]` (usually `params.user`).\n\n### getPayload(authResult, params)\n\n`authService.getPayload(authResult, params) -> Promise` returns the access token payload for an authentication result (the return value of [authService.create()](#create-data-params)) and [service call parameters](../services.md#params). Called internally on [.create](#create-data-params). Returns either `params.payload` or an empty object (`{}`).\n\n### parse(req, res, ...strategies)\n\n`authService.parse(req, res, ...strategies) -> Promise` parses a [NodeJS HTTP request](https://nodejs.org/api/http.html#http_class_http_incomingmessage) and [HTTP response](https://nodejs.org/api/http.html#http_class_http_serverresponse) for authentication information using `strategies` calling [each strategies `.parse()` method](./strategy.md#parse-req-res) if it is implemented. Will return the value of the first strategy that didn't return `null`. This does _not_ authenticate the request, it will only return authentication information that can be used by `authService.authenticate` or `authService.create`.\n\n### setup(path, app)\n\n`authService.setup(path, app)` verifies the [configuration](#configuration) and makes sure that\n\n- A `secret` has been set\n- If `entity` is not `null`, check if the entity service is available and make sure that either the `entityId` configuration or the `entityService.id` property is set.\n- Register internal hooks to send events and keep real-time connections up to date. All custom hooks should be registered at this time.\n\n## app.get('defaultAuthentication')\n\nAfter registering an authentication service, it will set the `defaultAuthentication` property on the application to its configuration name (`configKey` set in the constructor) if it does not exist. `app.get('defaultAuthentication')` will be used by other parts of Feathers authentication to access the authentication service if it is not otherwise specified. Usually this will be `'authentication'`.\n\n## Customization\n\nThe `AuthenticationService` can be customized like any other class:\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\nimport { AuthenticationService } from '@feathersjs/authentication'\n\nclass MyAuthService extends AuthenticationService {\n  async getPayload(authResult: AuthenticationResult, params: Params) {\n    // Call original `getPayload` first\n    const payload = await super.getPayload(authResult, params)\n    const { user } = authResult\n\n    if (user && user.permissions) {\n      payload.permissions = user.permissions\n    }\n\n    return payload\n  }\n}\n\napp.use('/authentication', new MyAuthService(app))\n```\n\nThings to be aware of when extending the authentication service:\n\n- When implementing your own `constructor`, always call `super(app, configKey)`\n- When overriding a method, calling `super.method` and working with its return value is recommended unless you are certain your custom method behaves exactly the same way, otherwise things may no longer work as expected.\n- When extending `setup`, `super.setup(path, app)` should always be called, otherwise events and real-time connection authentication will no longer work.\n\n## Events\n\nFor both, `login` and `logout` the event data is `(authenticationResult, params, context) => {}` as follows:\n\n- `authResult` is the return value of the `authService.create` or `authService.remove` call. It usually contains the user and access token.\n- `params` is the service call parameters\n- `context` is the service methods [hook context](../hooks.md#hook-context)\n\n### app.on('login')\n\n`app.on('login', (authenticationResult, params, context) => {})` will be sent after a user logs in. This means, after any successful external call to [authService.create](#create-data-params).\n\n> **Important:**\n> \n> The `login` event is also sent for e.g. reconnections of websockets and may not always have a corresponding `logout` event. Use the [`disconnect` event](../channels.md#app-on-disconnect) for handling disconnection.\n>\n\n### app.on('logout')\n\n`app.on('logout', (authenticationResult, params, context) => {})` will be sent after a user explicitly logs out. This means after any successful external call to [authService.remove](#remove-id-params).",
    "breadcrumb": "Authentication Service",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/authentication/service.md",
    "heading": "Authentication Service",
    "subHeadings": [
      "Setup",
      "Configuration",
      "Authentication flows",
      "To _create a new JWT_",
      "To _authenticate an external request_",
      "To authenticate _your own service request_",
      "AuthenticationService",
      "constructor(app [, configKey])",
      "authenticate(data, params, ...strategies)",
      "create(data, params)",
      "remove(id, params)",
      "configuration",
      "register(name, strategy)",
      "getStrategy(name)",
      "getStrategies(...names)",
      "createAccessToken(payload)",
      "verifyAccessToken(accessToken)",
      "getTokenOptions(authResult, params)",
      "getPayload(authResult, params)",
      "parse(req, res, ...strategies)",
      "setup(path, app)",
      "app.get('defaultAuthentication')",
      "Customization",
      "Events",
      "app.on('login')",
      "app.on('logout')"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "json",
      "js"
    ],
    "tokens": 3561,
    "category": "authentication",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "hook context",
      "get",
      "create",
      "update",
      "remove",
      "setup",
      "authentication",
      "jwt",
      "oauth",
      "local strategy",
      "stateless",
      "github",
      "auth0",
      "real-time",
      "websockets",
      "channels",
      "events",
      "http",
      "client",
      "configuration",
      "types",
      "declarations",
      "cli",
      "login",
      "users"
    ],
    "embedding": [
      0.007814,
      0.035532,
      -0.056033,
      0.006405,
      -0.004844,
      -0.012217,
      0.021565,
      -0.010376,
      0.003298,
      0.014839,
      0.011204,
      -0.011148,
      -0.003634,
      -0.000704,
      -0.014727,
      0.00358,
      -0.00117,
      -0.00144,
      0.028002,
      0.005182,
      -0.045819,
      0.004583,
      0.02822,
      -0.016169,
      0.015969,
      0.017751,
      0.007572,
      -0.015622,
      0.013114,
      -0.010068,
      0.041218,
      -0.009477,
      -0.010293,
      0.005372,
      0.013638,
      -0.03538,
      -0.025465,
      0.008312,
      -0.040034,
      0.044762,
      0.012904,
      -0.002898,
      -0.007128,
      -0.007698,
      0.012612,
      -0.039372,
      0.003964,
      -0.01751,
      0.009291,
      -0.02808,
      -0.04519,
      0.010198,
      0.024378,
      -0.056831,
      0.028703,
      0.048947,
      -0.014247,
      -0.003888,
      -0.026282,
      0.001364,
      -0.0055,
      0.020527,
      0.00751,
      -0.00492,
      -0.035146,
      0.001378,
      -0.006244,
      -0.009676,
      -0.019675,
      -0.044759,
      -0.007765,
      0.038643,
      -0.055085,
      0.019979,
      -0.043148,
      -0.003166,
      0.0553,
      0.019383,
      0.018779,
      0.005263,
      -0.040553,
      -0.025377,
      0.003114,
      -0.007706,
      0.022771,
      -0.011473,
      -0.02353,
      0.086522,
      0.022273,
      -0.021527,
      0.005003,
      -0.029978,
      0.074893,
      -0.043117,
      0.021382,
      0.018073,
      -0.018375,
      -0.000681,
      0.023853,
      0.022811,
      0.020649,
      -0.011311,
      -0.003483,
      -0.018345,
      0.025504,
      0.055034,
      0.028812,
      -0.030828,
      0.00503,
      -0.054898,
      -0.006614,
      0.007597,
      0.038905,
      0.026959,
      -0.041341,
      -0.025885,
      0.006137,
      -0.003413,
      -0.01196,
      -0.012594,
      -0.013168,
      0.018629,
      0.014682,
      0.006817,
      -0.00227,
      0.013317,
      0.002822,
      0.015715,
      -0.009636,
      0.003199,
      0.008842,
      -0.064635,
      -0.025413,
      0.006947,
      -0.029684,
      0.012266,
      0.021133,
      0.006664,
      -0.025778,
      -0.057584,
      0.013952,
      0.023921,
      -0.027384,
      -0.01022,
      0.053969,
      -0.030159,
      0.068715,
      -0.022183,
      0.029071,
      -0.000664,
      -0.015297,
      -0.000413,
      -0.002291,
      -0.025004,
      0.016062,
      -0.046798,
      -0.000584,
      0.035107,
      0.021718,
      -0.017058,
      -0.011451,
      0.044147,
      -0.08494,
      -0.023239,
      0.022045,
      -0.059441,
      0.02693,
      -0.051599,
      -0.023583,
      -0.020071,
      0.024407,
      -0.029092,
      -0.003631,
      0.004041,
      0.008562,
      0.021634,
      0.084065,
      0.023007,
      -0.007482,
      -0.014174,
      -0.050416,
      0.026703,
      -0.002107,
      -0.026858,
      0.025934,
      -0.021491,
      -0.01074,
      -0.00209,
      -0.017212,
      0.023252,
      -0.026085,
      0.035339,
      0.020767,
      0.005598,
      -0.035676,
      -0.013363,
      0.000161,
      0.035178,
      0.037444,
      0.014647,
      0.012441,
      0.018393,
      0.039426,
      0.010145,
      -0.02364,
      -0.012363,
      0.015372,
      -0.026732,
      0.013755,
      -0.042093,
      -0.001894,
      0.000695,
      0.016424,
      -0.055414,
      -0.047619,
      0.048279,
      0.034303,
      -0.001108,
      -0.035662,
      0.032461,
      -0.007783,
      -0.000547,
      -0.00965,
      -0.018387,
      0.025626,
      0.007368,
      0.019499,
      -0.025489,
      0.016319,
      0.029392,
      -0.043845,
      0.042283,
      0.019846,
      -0.013435,
      0.025656,
      -0.012245,
      -0.046919,
      -0.0138,
      -0.005664,
      -0.03008,
      -0.025736,
      -0.008841,
      0.006411,
      -0.004044,
      -0.035007,
      0.019969,
      0.01128,
      0.051806,
      -0.03959,
      -0.009133,
      -0.040124,
      -0.000568,
      -0.022723,
      0.000845,
      0.017372,
      -0.003282,
      0.016248,
      -0.00475,
      -0.032509,
      -0.05503,
      -0.025677,
      0.01089,
      0.004576,
      0.016632,
      -0.005303,
      0.001951,
      -0.061936,
      -0.042169,
      0.020068,
      0.035632,
      -0.036012,
      0.015604,
      0.050047,
      0.019495,
      0.008367,
      -0.012053,
      0.029827,
      -0.061421,
      0.076111,
      0.02681,
      -0.021735,
      0.002566,
      0.044339,
      0.058433,
      0.027676,
      0.010886,
      -0.036395,
      -0.038756,
      0.000967,
      -0.061189,
      0.007454,
      0.021641,
      0.072407,
      -0.011256,
      -0.026011,
      0.005593,
      -0.014643,
      -0.133771,
      -0.012676,
      0.034699,
      0.059351,
      -0.002603,
      0.010751,
      -0.069243,
      -0.001185,
      -0.055042,
      0.027787,
      0.016646,
      -0.043129,
      0.006783,
      -0.014871,
      0.042815,
      -0.009404,
      0.011348,
      0.018165,
      0.042761,
      -0.021131,
      -0.02921,
      -0.042934,
      0.044811,
      0.026608,
      0.001356,
      0.01943,
      0.02232,
      -0.00483,
      -0.033472,
      -0.021404,
      0.021388,
      0.019783,
      -0.004261,
      -0.001832,
      0.009312,
      -0.047291,
      0.045017,
      -0.006572,
      0.03279,
      0.025382,
      0.018826,
      0.014302,
      0.023132,
      -0.018152,
      0.007902,
      -0.010944,
      0.042891,
      -0.012544,
      -0.007999,
      0.025752,
      0.013192,
      -0.020191,
      -0.006501,
      -0.016429,
      -0.047438,
      -0.000176,
      -0.000461,
      0.046171,
      -0.001263,
      -0.004184,
      0.00818,
      0.015562,
      0.035839,
      -0.029577,
      0.012333,
      -0.012219,
      0.034587,
      0.002714,
      0.025002,
      -0.044846,
      0.029049,
      -0.072663,
      -0.004318,
      0.002331,
      -0.004523,
      -0.005484,
      0.045321,
      -0.010122,
      -0.033946,
      -0.091557,
      -0.013574,
      -0.001236,
      -0.015669,
      0.027938,
      -0.033637,
      -0.069045,
      0.016537,
      -0.008981,
      0.002444,
      0.225133,
      0.021644,
      0.006287,
      0.000161,
      0.087162,
      -0.037481,
      0.002216,
      0.076953,
      -0.008663,
      -0.007154,
      -0.004689,
      0.023687,
      -0.007027,
      -0.006803,
      -0.028253,
      0.024885,
      -0.071975,
      0.053627,
      0.047177,
      -0.011937,
      0.033917,
      -0.001862,
      0.044395,
      0.023756,
      -0.070748,
      -0.028069,
      -0.000823,
      0.048591,
      -0.039351,
      0.022189,
      -0.02627,
      0.022416,
      0.029187,
      -0.031209,
      -0.041255,
      -0.022306,
      -0.043756,
      -0.026838,
      -0.033372,
      0.025317,
      0.011355,
      -0.019342,
      0.028412,
      -0.031529,
      0.004229,
      0.027073,
      -0.008806,
      -0.004302,
      0.030866,
      0.004138,
      -0.056757,
      -0.039787,
      -0.021901,
      -0.00961,
      -0.013318,
      -0.017412,
      -0.007986,
      -0.004338,
      -0.011679,
      -0.021746,
      0.051985,
      0.014972,
      -0.098439,
      0.038158,
      0.004068,
      0.004435,
      0.020977,
      -0.047685,
      0.022411,
      0.048223,
      -0.01915,
      0.021136,
      0.03116,
      0.034005,
      0.020534,
      0.016537,
      0.045958,
      -0.012063,
      -0.034933,
      0.044963,
      -0.00082,
      -0.003547,
      0.006247,
      0.029675,
      0.014048,
      0.016248,
      0.000447,
      0.045858,
      0.001808,
      -0.026459,
      0.039618,
      -0.01502,
      -0.003615,
      0.067538,
      -0.00932,
      0.022194,
      0.03197,
      0.001239,
      -0.000912,
      -0.027376,
      0.043748,
      0.04466,
      0.012438,
      -0.013069,
      0.070585,
      -0.031701,
      -0.010627,
      0.004361,
      -0.013785,
      0.008646,
      -0.069947,
      0.003526,
      0.047662,
      -0.054544,
      0.007978,
      0.033787,
      0.014018,
      0.002147,
      0.074002,
      0.039485,
      0.016308,
      0.011512,
      -0.027315,
      -0.015755,
      0.024986,
      -0.063806,
      -0.036483,
      -0.016263,
      -0.046689,
      0.055676,
      0.023066,
      -0.037029,
      0.006449,
      0.041313,
      0.025985,
      0.01798,
      0.045314,
      0.027343,
      0.049513,
      0.019298,
      -0.070918,
      -0.017552,
      -0.034705,
      0.021311,
      -0.011308,
      -0.001998,
      -0.005774,
      0.005463,
      -0.002733,
      0.002472,
      0.030316,
      0.054533,
      0.012903,
      -0.028677,
      -0.002548,
      -0.034233,
      -0.003609,
      -0.008907,
      0.010684,
      -0.030759,
      -0.013259,
      -0.016204,
      0.016539,
      0.054399,
      0.015632,
      -0.0079,
      0.049269,
      0.007921,
      -0.003583,
      -0.028086,
      -0.010494,
      -0.070131,
      -0.052276,
      0.054473,
      0.003197,
      -0.034154,
      -0.040027,
      -0.018229,
      0.007605,
      -0.045225,
      0.01253,
      -0.001886,
      -0.027868,
      0.004779,
      0.02143,
      0.024762,
      -0.013433,
      -0.018917,
      0.000853,
      -0.045726,
      0.002379,
      0.092587,
      -0.012282,
      0.010738,
      0.047112,
      0.008479,
      -0.005739,
      0.036917,
      -0.005165,
      0.020661,
      -0.049116,
      -0.01218,
      -0.040552,
      -0.0188,
      0.013539,
      -0.044207,
      -0.006101,
      0.007505,
      -0.02351,
      0.023118,
      -0.000482,
      0.016418,
      -0.021173,
      0.00355,
      0.030626,
      -0.029857,
      0.037147,
      0.096547,
      0.037709,
      -0.020529,
      -0.033932,
      0.028312,
      -0.013431,
      -0.050268,
      0.049519,
      0.015106,
      0.036115,
      -0.007295,
      -0.005918,
      0.006201,
      -0.016252,
      -0.006376,
      0.028933,
      -0.042685,
      0.004293,
      -0.014772,
      0.017046,
      0.005987,
      0.047757,
      -0.013398,
      0.046262,
      -0.01713,
      0.010219,
      0.037725,
      -0.001375,
      0.036148,
      -0.003996,
      -0.008355,
      -0.053591,
      0.022476,
      -0.025219,
      -0.04458,
      -0.013063,
      -0.046915,
      0.00493,
      0.030205,
      0.03875,
      -0.054581,
      -0.014805,
      0.019173,
      -0.015439,
      0.042478,
      -0.00236,
      -0.013572,
      0.030549,
      -0.084977,
      0.001388,
      -0.055768,
      -0.048499,
      0.007335,
      -0.008536,
      0.001197,
      -0.028961,
      -0.041362,
      -0.007357,
      0.001662,
      -0.020628,
      -0.055181,
      0.029177,
      -0.012626,
      -0.085345,
      -0.019176,
      0.034424,
      0.015683,
      0.001564,
      0.041575,
      0.003518,
      -0.03223,
      0.000517,
      -0.037103,
      0.00948,
      0.010668,
      0.00235,
      -0.010749,
      -0.000857,
      -0.002201,
      -0.002949,
      0.025643,
      0.010704,
      0.020558,
      -0.015752,
      0.005854,
      0.012174,
      -0.010055,
      0.032157,
      0.037408,
      -0.037726,
      -0.021468,
      -0.011054,
      0.007198,
      0.015751,
      -0.047415,
      -0.003595,
      0.043252,
      0.014649,
      -0.034841,
      0.048856,
      -0.021698,
      0.02695,
      -0.028017,
      0.010702,
      -0.030162,
      -0.04463,
      0.01386,
      0.025393,
      -0.023818,
      -0.013273,
      -0.021913,
      -0.017339,
      0.037079,
      -0.028631,
      0.011524,
      -0.013849,
      -0.049387,
      -0.022644,
      0.000252,
      0.029633,
      -0.000065,
      0.000808,
      -0.030914,
      -0.000753,
      -0.011261,
      0.059475,
      -0.033501,
      0.009137,
      -0.05282,
      -0.010548,
      -0.001323,
      -0.032393,
      0.023744,
      -0.015137,
      -0.012215,
      -0.015045,
      -0.02363,
      0.04434,
      -0.014998,
      -0.022788,
      0.016544,
      -0.000919,
      0.030396,
      -0.004051,
      0.060719,
      0.029326,
      -0.040067,
      0.005375,
      -0.007314,
      0.017126,
      -0.033201,
      0.00669,
      -0.004038,
      -0.036574,
      0.003111,
      0.020838,
      -0.005453,
      -0.025234,
      0.004648,
      -0.006338,
      -0.011764,
      0.008513,
      -0.018662,
      -0.012881,
      -0.033616,
      -0.04166,
      -0.002972,
      -0.032772,
      0.011061,
      0.01407,
      -0.012449,
      0.017456,
      0.017617,
      -0.009405,
      0.004268,
      0.001752,
      0.01207,
      -0.143071,
      0.011015,
      -0.00006,
      0.008903,
      -0.000641,
      0.000438,
      -0.009695,
      -0.027346,
      0.016516,
      -0.024239,
      0.003307,
      0.013883,
      0.01698,
      -0.00206,
      0.052095,
      -0.005939,
      -0.009518,
      -0.023132,
      -0.028632,
      -0.027857,
      0.001578,
      -0.007583,
      0.034124,
      -0.000263,
      0.005187,
      -0.023659,
      -0.052092,
      -0.009481,
      -0.033238,
      -0.022647,
      -0.018533,
      -0.000453,
      -0.003594,
      0.028382,
      -0.001949,
      0.017672,
      0.003788,
      0.018172,
      -0.014866,
      0.024014,
      -0.042114,
      0.04266,
      -0.054088,
      0.01765,
      0.002979,
      0.081491,
      -0.014222,
      -0.039713,
      0.001703,
      0.009113,
      -0.01771,
      -0.000529,
      -0.008442,
      -0.002138,
      -0.009246,
      -0.00002,
      -0.013489,
      -0.031628,
      -0.063445,
      -0.000867,
      -0.022043,
      0.027882,
      -0.026016,
      0.003345,
      -0.019608,
      0.026355,
      -0.036998,
      0.001395,
      -0.002542,
      -0.017192,
      0.013491,
      -0.032967,
      -0.054856,
      -0.003332,
      0.014252,
      -0.008143,
      0.065146,
      -0.029209,
      -0.0637,
      -0.017557,
      0.017358,
      -0.042601,
      -0.034982,
      0.115602,
      0.046035,
      0.028924,
      0.026146,
      -0.011531,
      -0.014132,
      -0.003942,
      -0.074439,
      -0.049556,
      0.022295,
      0.031316,
      0.007299,
      0.010836,
      0.013378,
      -0.01297,
      -0.002137,
      0.000886,
      -0.02042,
      0.010162,
      0.050381,
      0.010479,
      -0.042204,
      0.022577,
      0.000244,
      0.015986,
      0.01289,
      -0.039019,
      0.01165,
      0.012467,
      -0.021129,
      0.016945,
      -0.053697,
      0.017111,
      0.003749,
      0.018371,
      -0.018211,
      -0.028403,
      0.025637,
      -0.03787,
      -0.020524,
      -0.026994,
      0.009683,
      0.042987,
      0.045003,
      0.031328,
      0.046687,
      -0.044157,
      0.033246,
      -0.100613,
      -0.011319,
      0.007894,
      0.015781,
      -0.070366,
      -0.071162,
      0.053942,
      -0.015889,
      -0.057061,
      -0.020935,
      -0.008457,
      -0.004323,
      -0.003762,
      -0.003052,
      -0.032487,
      0.044616,
      0.000187,
      0.010613,
      -0.067652,
      -0.009516,
      0.001373,
      -0.024452,
      0.024066,
      0.015519,
      0.04554,
      0.000222,
      0.024652,
      -0.010586,
      0.054334,
      -0.008461,
      -0.022673,
      -0.026243,
      -0.018721,
      -0.008933,
      -0.009715,
      -0.009006,
      -0.011604,
      -0.016383,
      0.04018,
      0.015098,
      0.064489,
      -0.029223,
      -0.001571,
      0.00646,
      0.008791,
      0.01098,
      -0.005843,
      0.036853,
      -0.019699,
      0.028098,
      0.013795,
      0.035444,
      -0.00361,
      0.027242,
      -0.005869,
      0.012463,
      0.016796,
      0.012574,
      -0.039816,
      -0.04756,
      -0.024589,
      0.025032,
      -0.02698,
      0.013067,
      0.008665,
      0.009403,
      -0.044262,
      -0.030666,
      0.034002,
      0.031888,
      -0.029423,
      -0.000016,
      0.002156,
      -0.021125,
      0.002156,
      -0.020574,
      -0.007218,
      -0.010063,
      0.074852,
      0.002835,
      -0.025443,
      -0.015564,
      0.010732,
      0.046704,
      0.035489,
      0.095245,
      -0.002224,
      0.039436,
      -0.066214,
      0.040112,
      -0.009531,
      -0.023877,
      -0.01699,
      -0.021717,
      -0.054414,
      0.042511,
      0.022991,
      -0.037837,
      -0.003048,
      -0.01507,
      -0.030647,
      -0.008138,
      0.05094,
      0.033252,
      -0.004015,
      -0.007242,
      -0.010783,
      -0.04122,
      -0.004174,
      0.024547,
      0.023343,
      0.034187,
      0.005345
    ]
  },
  {
    "id": "v5-strategy-0",
    "content": "# Authentication Strategies\nBreadcrumb: Authentication Strategies\nCovers: setName(name) | setApplication(app) | setAuthentication(service) | verifyConfiguration() | authenticate(authentication, params) | parse(req, res) | AuthenticationBaseStrategy | Examples\nTopics: application, params, get, authentication, anonymous, http, configuration, users\n\n## setName(name)\n\nWill be called with the `name` under which the strategy has been [registered on the authentication service](./service.md#register-name-strategy). Does not have to be implemented.\n\n## setApplication(app)\n\nWill be called with the [Feathers application](../application.md) instance. Does not have to be implemented.\n\n## setAuthentication(service)\n\nWill be called with the [Authentication service](./service.md) this strategy has been registered on. Does not have to be implemented.\n\n## verifyConfiguration()\n\nSynchronously verify the configuration for this strategy and throw an error if e.g. required fields are not set. Does not have to be implemented.\n\n## authenticate(authentication, params)\n\nAuthenticate `authentication` data with additional `params`. `authenticate` should throw a `NotAuthenticated` if it failed or return an authentication result object.\n\n## parse(req, res)\n\nParse a given plain Node HTTP request and response and return `null` or the authentication information it provides. Does not have to be implemented.\n\nThis is called by the authentication service. See [AuthService.parse](https://dove.feathersjs.com/api/authentication/service.html#parse-req-res-strategies)\n\n## AuthenticationBaseStrategy\n\nThe `AuthenticationBaseStrategy` class provides a base class that already implements some of the strategy methods below with some common functionality:\n\n- [setName](#setname-name) sets `this.name`\n- [setApplication](#setapplication-app) sets `this.app`\n- [setAuthentication](#setauthentication-service) sets `this.authentication`\n- `configuration` getter returns `this.authentication.configuration[this.name]`\n- `entityService` getter returns the entity (usually `/users`) service from `this.app`\n\n## Examples\n\nExamples for authentication strategies can be found in the [Cookbook](../../cookbook/):\n\n- [Anonymous strategy](../../cookbook/authentication/anonymous.md)",
    "rawContent": "## setName(name)\n\nWill be called with the `name` under which the strategy has been [registered on the authentication service](./service.md#register-name-strategy). Does not have to be implemented.\n\n## setApplication(app)\n\nWill be called with the [Feathers application](../application.md) instance. Does not have to be implemented.\n\n## setAuthentication(service)\n\nWill be called with the [Authentication service](./service.md) this strategy has been registered on. Does not have to be implemented.\n\n## verifyConfiguration()\n\nSynchronously verify the configuration for this strategy and throw an error if e.g. required fields are not set. Does not have to be implemented.\n\n## authenticate(authentication, params)\n\nAuthenticate `authentication` data with additional `params`. `authenticate` should throw a `NotAuthenticated` if it failed or return an authentication result object.\n\n## parse(req, res)\n\nParse a given plain Node HTTP request and response and return `null` or the authentication information it provides. Does not have to be implemented.\n\nThis is called by the authentication service. See [AuthService.parse](https://dove.feathersjs.com/api/authentication/service.html#parse-req-res-strategies)\n\n## AuthenticationBaseStrategy\n\nThe `AuthenticationBaseStrategy` class provides a base class that already implements some of the strategy methods below with some common functionality:\n\n- [setName](#setname-name) sets `this.name`\n- [setApplication](#setapplication-app) sets `this.app`\n- [setAuthentication](#setauthentication-service) sets `this.authentication`\n- `configuration` getter returns `this.authentication.configuration[this.name]`\n- `entityService` getter returns the entity (usually `/users`) service from `this.app`\n\n## Examples\n\nExamples for authentication strategies can be found in the [Cookbook](../../cookbook/):\n\n- [Anonymous strategy](../../cookbook/authentication/anonymous.md)",
    "breadcrumb": "Authentication Strategies",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/authentication/strategy.md",
    "heading": "Authentication Strategies",
    "subHeadings": [
      "setName(name)",
      "setApplication(app)",
      "setAuthentication(service)",
      "verifyConfiguration()",
      "authenticate(authentication, params)",
      "parse(req, res)",
      "AuthenticationBaseStrategy",
      "Examples"
    ],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 476,
    "category": "authentication",
    "tags": [
      "application",
      "params",
      "get",
      "authentication",
      "anonymous",
      "http",
      "configuration",
      "users"
    ],
    "embedding": [
      0.029229,
      0.0115,
      -0.039163,
      0.005986,
      -0.022442,
      -0.010121,
      0.058319,
      0.004731,
      -0.010652,
      0.015153,
      -0.00452,
      -0.024732,
      -0.009049,
      -0.008459,
      0.008202,
      0.01796,
      0.022909,
      -0.012618,
      0.023721,
      -0.000658,
      0.001484,
      0.026314,
      0.073094,
      -0.019259,
      0.044412,
      0.00424,
      -0.039207,
      -0.030215,
      0.004909,
      -0.004772,
      0.013975,
      0.004245,
      -0.008158,
      -0.002255,
      -0.000648,
      -0.01807,
      -0.022793,
      -0.016868,
      -0.044277,
      0.023604,
      0.016838,
      -0.005841,
      -0.003994,
      -0.031878,
      0.012806,
      -0.020829,
      0.01633,
      -0.021906,
      -0.020851,
      -0.002125,
      -0.013779,
      -0.001946,
      0.026161,
      -0.047928,
      0.002176,
      0.047641,
      -0.012592,
      0.00682,
      -0.049283,
      0.026371,
      -0.018256,
      -0.006545,
      -0.007544,
      -0.00429,
      -0.001618,
      0.010029,
      0.01793,
      0.001058,
      -0.029419,
      -0.054087,
      0.002351,
      0.034887,
      -0.05285,
      -0.013123,
      -0.057702,
      0.000011,
      0.045544,
      0.015971,
      -0.028131,
      -0.015297,
      -0.02193,
      -0.014989,
      0.006841,
      -0.040377,
      0.039628,
      -0.017852,
      -0.014935,
      0.090692,
      0.057465,
      -0.003196,
      0.026315,
      -0.021579,
      0.077653,
      -0.051136,
      0.011743,
      -0.014127,
      -0.014265,
      -0.011646,
      0.036863,
      0.014944,
      -0.003926,
      -0.021642,
      -0.013074,
      -0.029359,
      0.020462,
      0.018372,
      -0.003773,
      0.004206,
      0.00413,
      -0.034468,
      -0.013348,
      0.024127,
      0.020201,
      0.014852,
      -0.021831,
      -0.017251,
      0.032591,
      -0.024591,
      -0.005484,
      0.001151,
      0.011798,
      0.027443,
      0.007515,
      -0.023339,
      -0.012941,
      0.039203,
      -0.01878,
      0.034855,
      -0.013062,
      0.003379,
      0.030578,
      -0.046893,
      -0.026939,
      -0.002554,
      -0.015729,
      0.038009,
      0.041705,
      0.002875,
      0.002635,
      -0.078565,
      0.017041,
      0.024105,
      -0.02605,
      -0.035391,
      0.052115,
      -0.054701,
      0.058751,
      -0.011939,
      0.019683,
      0.00525,
      -0.023495,
      -0.014424,
      -0.000111,
      -0.032709,
      0.011983,
      -0.043679,
      -0.020235,
      0.034519,
      0.027965,
      -0.039584,
      0.013158,
      0.060165,
      -0.03674,
      -0.028529,
      0.038624,
      -0.016838,
      -0.018209,
      -0.059431,
      -0.009085,
      -0.020711,
      -0.003712,
      -0.002413,
      -0.019238,
      -0.008362,
      -0.022618,
      0.012715,
      0.060569,
      0.038309,
      -0.004227,
      -0.02744,
      -0.044326,
      -0.001524,
      -0.036533,
      -0.049323,
      0.018021,
      -0.022425,
      -0.012469,
      0.003052,
      -0.02507,
      0.019944,
      -0.042262,
      0.005598,
      -0.005967,
      0.012074,
      -0.022737,
      -0.021634,
      0.041671,
      0.011149,
      0.015159,
      0.005667,
      0.013777,
      0.021878,
      0.017968,
      -0.004321,
      -0.017174,
      -0.018988,
      -0.002069,
      -0.031289,
      0.002639,
      -0.058304,
      0.02364,
      -0.025976,
      -0.0272,
      -0.022433,
      -0.037599,
      0.04188,
      0.010793,
      0.024202,
      -0.041395,
      -0.000558,
      0.012002,
      0.012403,
      -0.019849,
      -0.032479,
      0.044947,
      -0.018831,
      0.025015,
      -0.02589,
      0.015743,
      0.00204,
      -0.041547,
      0.008887,
      0.026941,
      -0.004409,
      0.036122,
      -0.046566,
      -0.034765,
      0.002437,
      0.010731,
      -0.029669,
      -0.040711,
      -0.027672,
      0.037147,
      -0.001453,
      -0.054421,
      -0.041761,
      0.019944,
      0.027593,
      -0.033638,
      -0.018021,
      -0.019823,
      -0.00167,
      -0.034396,
      0.010203,
      0.027014,
      -0.005103,
      0.016831,
      -0.000111,
      0.026514,
      -0.018329,
      -0.014036,
      0.006433,
      -0.022281,
      0.032379,
      0.024101,
      0.01386,
      -0.043095,
      -0.018703,
      0.000372,
      0.063491,
      -0.036756,
      -0.018055,
      0.054289,
      0.008967,
      -0.018996,
      0.004804,
      -0.00314,
      -0.0468,
      0.121373,
      0.014692,
      -0.02484,
      -0.006595,
      0.048188,
      0.032618,
      0.015447,
      -0.03072,
      -0.003924,
      -0.027236,
      0.021762,
      -0.062176,
      0.031644,
      0.02775,
      0.070252,
      -0.014581,
      0.024447,
      -0.016166,
      0.006047,
      -0.153086,
      -0.01392,
      0.039261,
      0.03466,
      -0.002032,
      -0.006996,
      -0.045764,
      -0.025387,
      -0.009275,
      0.018793,
      -0.018372,
      -0.038435,
      0.008033,
      -0.006226,
      0.022706,
      0.001461,
      0.01114,
      0.026585,
      0.017028,
      -0.044952,
      -0.051112,
      -0.04258,
      0.05595,
      0.029016,
      -0.006782,
      0.006045,
      0.005256,
      -0.001659,
      -0.017783,
      0.002616,
      0.040636,
      0.003499,
      0.001378,
      0.003869,
      0.013388,
      0.020442,
      0.030168,
      -0.002111,
      0.048818,
      0.011938,
      0.020277,
      -0.002573,
      0.001249,
      -0.045785,
      0.021969,
      -0.008864,
      0.027353,
      0.013883,
      -0.042975,
      0.015057,
      0.003329,
      -0.048745,
      -0.040573,
      0.028181,
      -0.037644,
      -0.021758,
      0.01964,
      0.032768,
      -0.016737,
      0.014196,
      -0.003339,
      0.019503,
      0.046392,
      -0.055408,
      0.023274,
      -0.02851,
      0.020919,
      0.061825,
      0.020542,
      -0.033671,
      0.016656,
      -0.046104,
      0.009152,
      -0.013728,
      -0.006144,
      0.038483,
      0.003033,
      -0.01654,
      -0.037541,
      -0.070735,
      0.007429,
      -0.025483,
      -0.0276,
      0.012262,
      -0.03352,
      -0.054355,
      -0.022435,
      -0.033371,
      0.021629,
      0.227379,
      0.027824,
      0.019797,
      -0.017899,
      0.071063,
      0.010339,
      -0.008271,
      0.054345,
      -0.004577,
      -0.017463,
      -0.013146,
      0.038496,
      -0.013266,
      0.001663,
      -0.022991,
      0.004353,
      -0.070198,
      0.047699,
      0.040048,
      -0.000625,
      0.012428,
      0.004236,
      0.000984,
      0.032699,
      -0.090918,
      -0.022958,
      -0.00345,
      0.035957,
      -0.047143,
      -0.004382,
      -0.027183,
      0.025893,
      0.06163,
      -0.033918,
      -0.043785,
      -0.01711,
      -0.019183,
      -0.015698,
      -0.016271,
      0.019,
      0.020108,
      -0.008125,
      -0.000257,
      -0.044998,
      -0.007424,
      0.012091,
      0.005063,
      -0.048649,
      0.01458,
      -0.032413,
      -0.049561,
      -0.00369,
      -0.027663,
      0.00959,
      -0.016457,
      0.004552,
      -0.006221,
      0.008324,
      -0.017995,
      -0.031376,
      0.04223,
      0.007252,
      -0.087639,
      0.051826,
      -0.015895,
      0.023942,
      0.025529,
      -0.035274,
      0.03764,
      0.071561,
      -0.003359,
      0.015271,
      0.02409,
      0.031418,
      0.023288,
      0.012088,
      0.058296,
      0.017233,
      -0.030174,
      0.012308,
      0.026308,
      0.017445,
      -0.012722,
      0.028969,
      0.001404,
      0.019122,
      0.001048,
      0.078468,
      0.006388,
      -0.020627,
      0.006742,
      -0.00925,
      0.011453,
      0.026323,
      -0.010025,
      0.016945,
      0.049649,
      0.028827,
      -0.007003,
      -0.003527,
      0.001457,
      0.021998,
      0.030639,
      0.027869,
      0.069029,
      -0.050751,
      0.00012,
      -0.006674,
      -0.002414,
      0.017233,
      -0.071301,
      0.014523,
      0.002683,
      -0.019654,
      -0.013273,
      0.033765,
      0.016041,
      -0.014906,
      0.030382,
      0.031952,
      0.018153,
      0.020618,
      0.000179,
      -0.010372,
      -0.000614,
      -0.042831,
      -0.011846,
      0.005065,
      -0.009116,
      0.066343,
      0.05941,
      -0.018237,
      0.01155,
      0.072558,
      0.036077,
      0.013369,
      0.008197,
      -0.003062,
      0.042492,
      0.009611,
      -0.055086,
      0.006451,
      -0.015811,
      0.012832,
      0.009965,
      0.031833,
      -0.018988,
      0.004724,
      -0.001233,
      0.013299,
      0.04565,
      0.010892,
      0.007541,
      -0.033125,
      -0.017142,
      -0.027049,
      0.015127,
      0.010058,
      0.019747,
      -0.025772,
      -0.015123,
      -0.020282,
      0.032644,
      0.079263,
      0.009585,
      0.000486,
      0.046262,
      0.018209,
      -0.015421,
      -0.003091,
      -0.014204,
      -0.048339,
      -0.047506,
      0.06956,
      0.006364,
      -0.009947,
      -0.031428,
      -0.039079,
      -0.018054,
      -0.038245,
      0.012909,
      -0.018751,
      -0.063942,
      0.010346,
      0.005168,
      0.034682,
      0.012848,
      -0.010131,
      0.055518,
      -0.022877,
      0.000984,
      0.116394,
      -0.043853,
      -0.010621,
      0.031443,
      0.034485,
      0.013692,
      0.05639,
      0.017126,
      0.016264,
      -0.041437,
      -0.035849,
      -0.034376,
      -0.02945,
      0.021275,
      -0.022127,
      -0.027411,
      0.042806,
      -0.025662,
      0.047605,
      0.002318,
      0.046118,
      -0.051765,
      -0.015024,
      0.002957,
      -0.017811,
      0.028067,
      0.085817,
      0.007122,
      0.00414,
      -0.054268,
      0.011016,
      0.014275,
      -0.039696,
      0.004767,
      -0.022745,
      0.026785,
      -0.004633,
      -0.040991,
      -0.00269,
      -0.007813,
      -0.006826,
      0.038787,
      -0.015394,
      0.011885,
      -0.020649,
      0.056707,
      0.004478,
      0.01485,
      -0.025749,
      0.018862,
      -0.048008,
      0.020259,
      -0.023944,
      0.003794,
      -0.004255,
      -0.04184,
      -0.012817,
      -0.047722,
      -0.004337,
      -0.020726,
      -0.049135,
      -0.0026,
      -0.009981,
      0.019213,
      0.000377,
      0.013225,
      -0.045358,
      -0.000784,
      0.000449,
      -0.000556,
      0.058073,
      0.013046,
      -0.003055,
      0.022736,
      -0.072377,
      0.026054,
      -0.061056,
      -0.041936,
      0.007291,
      -0.003826,
      -0.023948,
      -0.023218,
      0.007546,
      0.032461,
      0.011381,
      -0.049384,
      -0.024285,
      0.008136,
      0.020197,
      -0.061117,
      0.007847,
      0.017375,
      0.011946,
      0.003482,
      0.060515,
      -0.016195,
      0.001234,
      0.023158,
      -0.042197,
      -0.013107,
      -0.022764,
      -0.033121,
      0.026028,
      -0.019773,
      -0.014788,
      -0.002005,
      0.030027,
      0.009223,
      -0.002435,
      -0.01488,
      -0.014876,
      -0.001815,
      -0.02024,
      -0.011784,
      0.029224,
      -0.034113,
      -0.065574,
      -0.000536,
      -0.033253,
      0.004724,
      -0.038209,
      0.01053,
      0.044426,
      -0.025379,
      -0.04002,
      0.056085,
      -0.010358,
      0.005861,
      -0.001192,
      0.033804,
      -0.006556,
      -0.048409,
      -0.021628,
      0.000289,
      0.031975,
      -0.033218,
      0.004173,
      -0.006526,
      0.03383,
      -0.033942,
      -0.000933,
      -0.027226,
      -0.019493,
      -0.016115,
      0.047602,
      0.026539,
      -0.02776,
      -0.024057,
      -0.025585,
      0.002798,
      -0.030598,
      0.045108,
      -0.042039,
      0.014327,
      -0.066349,
      0.008416,
      -0.000013,
      -0.059329,
      0.041685,
      0.019019,
      -0.014846,
      -0.015622,
      -0.066284,
      0.05034,
      -0.03789,
      -0.022698,
      0.026595,
      0.006868,
      0.055101,
      -0.032899,
      0.091616,
      -0.001713,
      -0.039483,
      0.001323,
      -0.002014,
      0.014446,
      -0.01125,
      -0.021649,
      -0.011513,
      -0.02254,
      0.028188,
      0.022852,
      0.01621,
      -0.043377,
      0.043946,
      -0.028696,
      -0.005073,
      0.009144,
      -0.003807,
      -0.017648,
      -0.007599,
      -0.0364,
      -0.009226,
      -0.03118,
      0.020539,
      0.005453,
      0.010831,
      0.013725,
      0.00193,
      -0.004176,
      0.010005,
      0.003444,
      -0.012012,
      -0.130257,
      0.002324,
      0.010957,
      0.00056,
      0.002609,
      0.016207,
      -0.01053,
      -0.017352,
      -0.020661,
      -0.037695,
      -0.042181,
      0.034751,
      0.037129,
      -0.026756,
      0.044748,
      -0.023622,
      -0.009722,
      -0.028909,
      -0.037365,
      -0.041891,
      0.026919,
      -0.01353,
      0.060605,
      -0.021618,
      -0.022755,
      -0.014247,
      -0.032674,
      0.010378,
      -0.019896,
      -0.022234,
      -0.002134,
      0.004795,
      0.009421,
      0.00964,
      0.005944,
      -0.005175,
      0.011953,
      0.023879,
      -0.023995,
      0.011795,
      -0.016884,
      0.038438,
      -0.054486,
      -0.002913,
      0.01809,
      0.067264,
      -0.036491,
      -0.045983,
      -0.031156,
      0.002809,
      -0.006866,
      -0.017205,
      -0.029701,
      0.021895,
      -0.000275,
      0.021157,
      -0.043448,
      0.005072,
      -0.080346,
      0.029885,
      -0.020465,
      0.050644,
      -0.016853,
      0.018591,
      0.01393,
      0.049487,
      -0.04369,
      -0.019833,
      -0.021338,
      -0.013295,
      0.025863,
      -0.021756,
      -0.031882,
      -0.016009,
      -0.020494,
      -0.013349,
      0.017814,
      -0.016662,
      -0.017795,
      -0.031268,
      0.022474,
      0.000704,
      -0.051518,
      0.075715,
      0.038715,
      0.013803,
      -0.014026,
      -0.006224,
      0.005999,
      0.011002,
      -0.058523,
      -0.054472,
      0.035438,
      0.0362,
      0.0039,
      0.037715,
      0.009993,
      0.003329,
      0.016475,
      0.005212,
      -0.009439,
      0.020391,
      0.038242,
      -0.006719,
      -0.016634,
      -0.00185,
      0.005006,
      0.00211,
      0.010645,
      0.003327,
      0.021951,
      0.030187,
      -0.009269,
      0.017543,
      -0.071501,
      0.009065,
      0.011636,
      0.034684,
      -0.005163,
      -0.034545,
      0.003103,
      -0.004567,
      -0.034693,
      -0.027967,
      0.019122,
      0.069796,
      0.019903,
      0.029555,
      0.040425,
      -0.018883,
      0.001072,
      -0.070531,
      -0.024164,
      0.00128,
      0.017317,
      -0.069678,
      -0.048188,
      0.038013,
      -0.016173,
      -0.066501,
      -0.025725,
      -0.027884,
      0.024721,
      -0.009545,
      -0.002515,
      -0.020224,
      0.023557,
      -0.009395,
      0.023597,
      -0.072723,
      0.002737,
      -0.004787,
      -0.011204,
      0.023923,
      -0.003454,
      0.075876,
      -0.012165,
      -0.023369,
      0.013368,
      0.040445,
      -0.000761,
      -0.027801,
      -0.00433,
      -0.005892,
      -0.01264,
      0.007263,
      -0.020522,
      -0.013288,
      -0.012694,
      0.040773,
      0.028112,
      0.067969,
      -0.012572,
      -0.023608,
      0.03378,
      0.006306,
      0.003531,
      0.016519,
      0.019745,
      -0.017627,
      0.02115,
      -0.014472,
      0.035884,
      0.009672,
      0.005907,
      0.005072,
      0.021228,
      0.013429,
      0.013194,
      -0.034839,
      -0.0122,
      -0.00102,
      0.003432,
      -0.003453,
      0.042023,
      0.028594,
      0.014832,
      -0.006354,
      -0.002455,
      0.036969,
      -0.0239,
      -0.054149,
      -0.010987,
      -0.020559,
      -0.021825,
      -0.003481,
      -0.013458,
      0.025853,
      -0.005965,
      0.050441,
      -0.034702,
      0.00066,
      0.002554,
      0.03062,
      0.024155,
      -0.002491,
      0.066553,
      0.003891,
      0.01529,
      -0.057679,
      0.006044,
      -0.005584,
      0.043138,
      -0.046353,
      -0.025757,
      -0.019746,
      0.014584,
      0.046974,
      -0.01408,
      0.001311,
      -0.02665,
      -0.059751,
      0.00221,
      0.048053,
      0.064158,
      -0.009197,
      0.007578,
      0.008654,
      -0.049837,
      -0.024262,
      0.030981,
      0.0151,
      0.039264,
      0.002731
    ]
  },
  {
    "id": "v5-channels-0",
    "content": "# Channels\nBreadcrumb: Channels\nCovers: Concepts | Example | Connections | app.on('connection') | app.on('disconnect') | app.on('login') | app.on('logout') | Channels | app.channel(...names) | app.channels | channel.join(connection) | channel.leave(connection|fn) | channel.filter(fn) | channel.send(data) | channel.connections | channel.length | Publishing | service.publish([event,] fn) | app.publish([event,] fn) | Publisher precedence | Keeping channels updated\nTopics: hooks, services, application, context, params, hook context, find, get, create, update, patch, remove, authentication, anonymous, database, real-time, channels, events, socket.io, publish, subscribe, rest, http, transport, middleware, browser, client, declarations, cli, logging, login, users, custom events\n\n## Concepts\n\nA **_channel_** is basically an array of **_connection_** objects. Each array is explicitly given a name. When using a real-time server transport and a new client connects, you can tell the server to explicitly add that client's connection object to any relevant channels. Any connection in a channel will receive all events that are sent to that channel. This allows clients to receive only their intended messages.\n\nWhen using a real-time transport, the server pushes events (such as \"created\", \"removed\" etc. for a particular service) down to its clients. Using channels allows customizing which clients should receive each event. The client doesnâ€™t subscribe to individual channels, directly, but rather subscribes to specific events like `created`, `patched`, custom events, etc, in which they are interested. Those events will only fire for a client if the server pushes data to one a channel to which the client has been added.\n\nYou can have any number of channels. This helps to organise how data is sent and to control the volume of data, by not sending things that aren't relevant.\n\nThe server can also change connection channel membership from time to time, eg. before vs after login.\n\nThe server needs to explicitly **publish** channels it is interested in sharing with clients before they become available.\n\n## Example\n\nThe example below shows a `channels.js` file illustrating how the different parts fit together:\n\n```ts\nimport type { RealTimeConnection, Params } from '@feathersjs/feathers'\nimport type { Application, HookContext } from './declarations'\n\nexport default function (app: any) {\n  if (typeof app.channel !== 'function') {\n    // If no real-time functionality has been configured just return\n    return\n  }\n\n  app.on('connection', (connection: RealTimeConnection) => {\n    // On a new real-time connection, add it to the anonymous channel\n    app.channel('anonymous').join(connection)\n  })\n\n  app.on('login', (AuthenticationResult: any, { connection }: Params) => {\n    // connection can be undefined if there is no\n    // real-time connection, e.g. when logging in via REST\n    if (connection) {\n      // The connection is no longer anonymous, remove it\n      app.channel('anonymous').leave(connection)\n\n      // Add it to the authenticated user channel\n      app.channel('authenticated').join(connection)\n    }\n  })\n\n  // eslint-disable-next-line no-unused-vars\n  app.publish((data: any, context: HookContext) => {\n    // Here you can add event publishers to channels set up in `channels.js`\n    // To publish only for a specific event use `app.publish(eventname, () => {})`\n    console.log(\n      'Publishing all events to all authenticated users. See `channels.js` and https://docs.feathersjs.com/api/channels.html for more information.'\n    )\n\n    // e.g. to publish all service events to all authenticated users use\n    return app.channel('authenticated')\n  })\n}\n```\n\n## Connections\n\nA connection is an object that represents a real-time connection. It is the same object as `socket.feathers` in a [Socket.io](./socketio.md#params) middleware. You can add any kind of information to it but most notably, when using [authentication](./authentication/service.md), it will contain the authenticated user. By default it is located in `connection.user` once the client has authenticated on the socket (usually by calling `app.authenticate()` on the [client](./client.md)).\n\nWe can get access to the `connection` object by listening to `app.on('connection', connection => {})` or `app.on('login', (payload, { connection }) => {})`.\n\n> **Note:**\n> \n> When a connection is terminated it will be automatically removed from all channels.\n>\n\n### app.on('connection')\n\n`app.on('connection', connection => {})` is fired every time a new real-time connection is established. This is a good place to add the connection to a channel for anonymous users (in case we want to send any real-time updates to them):\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\n\napp.on('connection', (connection: RealTimeConnection) => {\n  // On a new real-time connection, add it to the\n  // anonymous channel\n  app.channel('anonymous').join(connection)\n})\n```\n\n### app.on('disconnect')\n\n`app.on('disconnect', connection => {})` is fired every time real-time connection is disconnected. This is a good place to to handle disconnections outside of a logout. A connection that is disconnected will always leave all its channels automatically.\n\n### app.on('login')\n\n`app.on('login', (authenticationResult, params, context) => {})` is sent by the [AuthenticationService](./authentication/service.md#app-on-login) on successful login.\n\nThis is a good place to add the connection to channels related to the user (e.g. chat rooms, admin status etc.)\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\napp.on('login', (payload: AuthenticationResult, { connection }: Params) => {\n  // connection can be undefined if there is no\n  // real-time connection, e.g. when logging in via REST\n  if (connection) {\n    // The user attached to this connection\n    const { user } = connection\n\n    // The connection is no longer anonymous, remove it\n    app.channel('anonymous').leave(connection)\n\n    // Add it to the authenticated user channel\n    app.channel('authenticated').join(connection)\n\n    // Channels can be named anything and joined on any condition `\n    // E.g. to send real-time events only to admins use\n    if (user.isAdmin) {\n      app.channel('admins').join(connection)\n    }\n\n    // If the user has joined e.g. chat rooms\n    user.rooms.forEach((room) => {\n      app.channel(`rooms/${room.id}`).join(connection)\n    })\n  }\n})\n```\n\n### app.on('logout')\n\n`app.on('logout', (AuthenticationResult, params, context) => {})` is sent by the [AuthenticationService](./authentication/service.md) on successful logout:\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\napp.on('logout', (payload: AuthenticationResult, { connection }: Params) => {\n  if (connection) {\n    // Join the channels a logged out connection should be in\n    app.channel('anonymous').join(connection)\n  }\n})\n```\n\n> **note:**\n> \n> On `logout` the connection will be removed from all existing channels automatically.\n>\n\n## Channels\n\nA channel is an object that contains a number of connections. It can be created via `app.channel` and allows a connection to join or leave it.\n\n### app.channel(...names)\n\n`app.channel(name) -> Channel`, when given a single name, returns an existing or new named channel:\n\n```ts\napp.channel('admins') // the admin channel\napp.channel('authenticated') // the authenticated channel\n```\n\n`app.channel(name1, name2, ... nameN) -> Channel`, when given multiples names, will return a combined channel. A combined channel contains a list of all connections (without duplicates) and re-directs `channel.join` and `channel.leave` calls to all its child channels.\n\n```ts\n// Combine the anonymous and authenticated channel\nconst combinedChannel = app.channel('anonymous', 'authenticated')\n\n// Join the `anonymous` and `authenticated` channel\ncombinedChannel.join(connection)\n\n// Join the `admins` and `chat` channel\napp.channel('admins', 'chat').join(connection)\n\n// Leave the `admins` and `chat` channel\napp.channel('admins', 'chat').leave(connection)\n\n// Make user with `_id` 5 leave the admins and chat channel\napp.channel('admins', 'chat').leave((connection) => {\n  return connection.user._id === 5\n})\n```\n\n### app.channels\n\n`app.channels -> [string]` returns a list of all existing channel names.\n\n```ts\napp.channel('authenticated')\napp.channel('admins', 'users')\n\napp.channels // [ 'authenticated', 'admins', 'users' ]\n\napp.channel(app.channels) // will return a channel with all connections\n```\n\nThis is useful to e.g. remove a connection from all channels:\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\n\n// When a user is removed, make all their connections leave every channel\napp.service('users').on('removed', (user: User) => {\n  app.channel(app.channels).leave((connection: RealTimeConnection) => {\n    return user._id === connection.user._id\n  })\n})\n```\n\n### channel.join(connection)\n\n`channel.join(connection) -> Channel` adds a connection to this channel. If the channel is a combined channel, add the connection to all its child channels. If the connection is already in the channel it does nothing. Returns the channel object.\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\napp.on('login', (payload: AuthenticationResult, { connection }: Params) => {\n  if (connection && connection.user.isAdmin) {\n    // Join the admins channel\n    app.channel('admins').join(connection)\n\n    // Calling a second time will do nothing\n    app.channel('admins').join(connection)\n  }\n})\n```\n\n### channel.leave(connection|fn)\n\n`channel.leave(connection|fn) -> Channel` removes a connection from this channel. If the channel is a combined channel, remove the connection from all its child channels. Also allows to pass a callback that is run for every connection and returns if the connection should be removed or not. Returns the channel object.\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\n\n// Make the user with `_id` 5 leave the `admins` channel\napp.channel('admins').leave((connection: RealTimeConnection) => {\n  return connection.user._id === 5\n})\n```\n\n### channel.filter(fn)\n\n`channel.filter(fn) -> Channel` returns a new channel filtered by a given function which gets passed the connection.\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\n\n// Returns a new channel with all connections of the user with `_id` 5\nconst userFive = app\n  .channel(app.channels)\n  .filter((connection: RealTimeConnection) => connection.user._id === 5)\n```\n\n### channel.send(data)\n\n`channel.send(data) -> Channel` returns a copy of this channel with customized data that should be sent for this event. Usually this should be handled by modifying either the service method result or setting client \"safe\" data in `context.dispatch` but in some cases it might make sense to still change the event data for certain channels.\n\nWhat data will be sent as the event data will be determined by the first available in the following order:\n\n1. `data` from `channel.send(data)`\n2. `context.dispatch`\n3. `context.result`\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\n\napp.on('connection', (connection: RealTimeConnection) => {\n  // On a new real-time connection, add it to the\n  // anonymous channel\n  app.channel('anonymous').join(connection)\n})\n\n// Send the `users` `created` event to all anonymous\n// users but use only the name as the payload\napp.service('users').publish('created', (data: User) => {\n  return app.channel('anonymous').send({\n    name: data.name\n  })\n})\n```\n\n> **Important:**\n> \n> If a connection is in multiple channels (e.g. `users` and `admins`) it will get the data from the _first_ channel that it is in.\n>\n\n### channel.connections\n\n`channel.connections -> [ object ]` contains a list of all connections in this channel.\n\n### channel.length\n\n`channel.length -> integer` returns the total number of connections in this channel.\n\n## Publishing\n\nPublishers are callback functions that return which channel(s) to send an event to. They can be registered at the application and the service level and for all or specific events. A publishing function gets the event data and context object (`(data, context) => {}`) and returns a named or combined channel, an array of channels or `null`. Only one publisher can be registered for one type. Besides the standard [service event names](./events.md#service-events) an event name can also be a [custom event](./events.md#custom-events). `context` is the [hook context object](./hooks.md) from the service call or an object containing `{ path, service, app, result }` for custom events.\n\n### service.publish([event,] fn)\n\n`service.publish([event,] fn) -> service` registers a publishing function for a specific service for a specific event or all events if no event name was given.\n\n```ts\nimport { HookContext } from './declarations'\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\napp.on('login', (payload: AuthenticationResult, { connection }: Params) => {\n  // connection can be undefined if there is no\n  // real-time connection, e.g. when logging in via REST\n  if (connection && connection.user.isAdmin) {\n    app.channel('admins').join(connection)\n  }\n})\n\n// Publish all messages service events only to its room channel\napp.service('messages').publish((data: Message, context: HookContext) => {\n  return app.channel(`rooms/${data.roomId}`)\n})\n\n// Publish the `created` event to admins and the user that sent it\napp.service('users').publish('created', (data: User, context: HookContext) => {\n  return [\n    app.channel('admins'),\n    app.channel(app.channels).filter((connection) => connection.user._id === context.params.user._id)\n  ]\n})\n\n// Prevent all events in the `password-reset` service from being published\napp.service('password-reset').publish(() => null)\n```\n\n### app.publish([event,] fn)\n\n`app.publish([event,] fn) -> app` registers a publishing function for all services for a specific event or all events if no event name was given.\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\napp.on('login', (payload: AuthenticationResult, { connection }: Params) => {\n  // connection can be undefined if there is no\n  // real-time connection, e.g. when logging in via REST\n  if (connection) {\n    app.channel('authenticated').join(connection)\n  }\n})\n\n// Publish all events to all authenticated users\napp.publish((data: any, context: HookContext) => {\n  return app.channel('authenticated')\n})\n\n// Publish the `log` custom event to all connections\napp.publish('log', (data: any, context: HookContext) => {\n  return app.channel(app.channels)\n})\n```\n\n### Publisher precedence\n\nThe first publisher callback found in the following order will be used:\n\n1. Service publisher for a specific event\n2. Service publisher for all events\n3. App publishers for a specific event\n4. App publishers for all events\n\n## Keeping channels updated\n\nSince every application will be different, keeping the connections assigned to channels up to date (e.g. if a user joins/leaves a room) is up to you.\n\nIn general, channels should reflect your persistent application data. This means that it normally isn't necessary for e.g. a user to request to directly join a channel. This is especially important when running multiple instances of an application since channels are only _local_ to the current instance.\n\nInstead, the relevant information (e.g. what rooms a user is currently in) should be stored in the database and then the active connections can be re-distributed into the appropriate channels listening to the proper [service events](./events.md).\n\nThe following example updates all active connections for a given user when the user object (which is assumed to have a `rooms` array being a list of room ids the user has joined) is updated or removed:\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\n// Join a channel given a user and connection\nconst joinChannels = (user: User, connection: RealTimeConnection) => {\n  app.channel('authenticated').join(connection)\n  // Assuming that the chat room/user assignment is stored\n  // on an array of the user\n  user.rooms.forEach((room) => app.channel(`rooms/${roomId}`).join(connection))\n}\n\n// Get a user to leave all channels\nconst leaveChannels = (user: User) => {\n  app.channel(app.channels).leave((connection) => connection.user._id === user._id)\n}\n\n// Leave and re-join all channels with new user information\nconst updateChannels = (user: User) => {\n  // Find all connections for this user\n  const { connections } = app.channel(app.channels).filter((connection) => connection.user._id === user._id)\n\n  // Leave all channels\n  leaveChannels(user)\n\n  // Re-join all channels with the updated user information\n  connections.forEach((connection) => joinChannels(user, connection))\n}\n\napp.on('login', (payload: AuthenticationResult, { connection }: Params) => {\n  if (connection) {\n    // Join all channels on login\n    joinChannels(connection.user, connection)\n  }\n})\n\n// On `updated` and `patched`, leave and re-join with new room assignments\napp.service('users').on('updated', updateChannels)\napp.service('users').on('patched', updateChannels)\n// On `removed`, remove the connection from all channels\napp.service('users').on('removed', leaveChannels)\n```\n\n> **Note:**\n> \n> The number active connections is usually one (or none) but unless you prevent it explicitly Feathers is not preventing multiple logins of the same user (e.g. with two open browser windows or on a mobile device).\n>",
    "rawContent": "## Concepts\n\nA **_channel_** is basically an array of **_connection_** objects. Each array is explicitly given a name. When using a real-time server transport and a new client connects, you can tell the server to explicitly add that client's connection object to any relevant channels. Any connection in a channel will receive all events that are sent to that channel. This allows clients to receive only their intended messages.\n\nWhen using a real-time transport, the server pushes events (such as \"created\", \"removed\" etc. for a particular service) down to its clients. Using channels allows customizing which clients should receive each event. The client doesnâ€™t subscribe to individual channels, directly, but rather subscribes to specific events like `created`, `patched`, custom events, etc, in which they are interested. Those events will only fire for a client if the server pushes data to one a channel to which the client has been added.\n\nYou can have any number of channels. This helps to organise how data is sent and to control the volume of data, by not sending things that aren't relevant.\n\nThe server can also change connection channel membership from time to time, eg. before vs after login.\n\nThe server needs to explicitly **publish** channels it is interested in sharing with clients before they become available.\n\n## Example\n\nThe example below shows a `channels.js` file illustrating how the different parts fit together:\n\n```ts\nimport type { RealTimeConnection, Params } from '@feathersjs/feathers'\nimport type { Application, HookContext } from './declarations'\n\nexport default function (app: any) {\n  if (typeof app.channel !== 'function') {\n    // If no real-time functionality has been configured just return\n    return\n  }\n\n  app.on('connection', (connection: RealTimeConnection) => {\n    // On a new real-time connection, add it to the anonymous channel\n    app.channel('anonymous').join(connection)\n  })\n\n  app.on('login', (AuthenticationResult: any, { connection }: Params) => {\n    // connection can be undefined if there is no\n    // real-time connection, e.g. when logging in via REST\n    if (connection) {\n      // The connection is no longer anonymous, remove it\n      app.channel('anonymous').leave(connection)\n\n      // Add it to the authenticated user channel\n      app.channel('authenticated').join(connection)\n    }\n  })\n\n  // eslint-disable-next-line no-unused-vars\n  app.publish((data: any, context: HookContext) => {\n    // Here you can add event publishers to channels set up in `channels.js`\n    // To publish only for a specific event use `app.publish(eventname, () => {})`\n    console.log(\n      'Publishing all events to all authenticated users. See `channels.js` and https://docs.feathersjs.com/api/channels.html for more information.'\n    )\n\n    // e.g. to publish all service events to all authenticated users use\n    return app.channel('authenticated')\n  })\n}\n```\n\n## Connections\n\nA connection is an object that represents a real-time connection. It is the same object as `socket.feathers` in a [Socket.io](./socketio.md#params) middleware. You can add any kind of information to it but most notably, when using [authentication](./authentication/service.md), it will contain the authenticated user. By default it is located in `connection.user` once the client has authenticated on the socket (usually by calling `app.authenticate()` on the [client](./client.md)).\n\nWe can get access to the `connection` object by listening to `app.on('connection', connection => {})` or `app.on('login', (payload, { connection }) => {})`.\n\n> **Note:**\n> \n> When a connection is terminated it will be automatically removed from all channels.\n>\n\n### app.on('connection')\n\n`app.on('connection', connection => {})` is fired every time a new real-time connection is established. This is a good place to add the connection to a channel for anonymous users (in case we want to send any real-time updates to them):\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\n\napp.on('connection', (connection: RealTimeConnection) => {\n  // On a new real-time connection, add it to the\n  // anonymous channel\n  app.channel('anonymous').join(connection)\n})\n```\n\n### app.on('disconnect')\n\n`app.on('disconnect', connection => {})` is fired every time real-time connection is disconnected. This is a good place to to handle disconnections outside of a logout. A connection that is disconnected will always leave all its channels automatically.\n\n### app.on('login')\n\n`app.on('login', (authenticationResult, params, context) => {})` is sent by the [AuthenticationService](./authentication/service.md#app-on-login) on successful login.\n\nThis is a good place to add the connection to channels related to the user (e.g. chat rooms, admin status etc.)\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\napp.on('login', (payload: AuthenticationResult, { connection }: Params) => {\n  // connection can be undefined if there is no\n  // real-time connection, e.g. when logging in via REST\n  if (connection) {\n    // The user attached to this connection\n    const { user } = connection\n\n    // The connection is no longer anonymous, remove it\n    app.channel('anonymous').leave(connection)\n\n    // Add it to the authenticated user channel\n    app.channel('authenticated').join(connection)\n\n    // Channels can be named anything and joined on any condition `\n    // E.g. to send real-time events only to admins use\n    if (user.isAdmin) {\n      app.channel('admins').join(connection)\n    }\n\n    // If the user has joined e.g. chat rooms\n    user.rooms.forEach((room) => {\n      app.channel(`rooms/${room.id}`).join(connection)\n    })\n  }\n})\n```\n\n### app.on('logout')\n\n`app.on('logout', (AuthenticationResult, params, context) => {})` is sent by the [AuthenticationService](./authentication/service.md) on successful logout:\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\napp.on('logout', (payload: AuthenticationResult, { connection }: Params) => {\n  if (connection) {\n    // Join the channels a logged out connection should be in\n    app.channel('anonymous').join(connection)\n  }\n})\n```\n\n> **note:**\n> \n> On `logout` the connection will be removed from all existing channels automatically.\n>\n\n## Channels\n\nA channel is an object that contains a number of connections. It can be created via `app.channel` and allows a connection to join or leave it.\n\n### app.channel(...names)\n\n`app.channel(name) -> Channel`, when given a single name, returns an existing or new named channel:\n\n```ts\napp.channel('admins') // the admin channel\napp.channel('authenticated') // the authenticated channel\n```\n\n`app.channel(name1, name2, ... nameN) -> Channel`, when given multiples names, will return a combined channel. A combined channel contains a list of all connections (without duplicates) and re-directs `channel.join` and `channel.leave` calls to all its child channels.\n\n```ts\n// Combine the anonymous and authenticated channel\nconst combinedChannel = app.channel('anonymous', 'authenticated')\n\n// Join the `anonymous` and `authenticated` channel\ncombinedChannel.join(connection)\n\n// Join the `admins` and `chat` channel\napp.channel('admins', 'chat').join(connection)\n\n// Leave the `admins` and `chat` channel\napp.channel('admins', 'chat').leave(connection)\n\n// Make user with `_id` 5 leave the admins and chat channel\napp.channel('admins', 'chat').leave((connection) => {\n  return connection.user._id === 5\n})\n```\n\n### app.channels\n\n`app.channels -> [string]` returns a list of all existing channel names.\n\n```ts\napp.channel('authenticated')\napp.channel('admins', 'users')\n\napp.channels // [ 'authenticated', 'admins', 'users' ]\n\napp.channel(app.channels) // will return a channel with all connections\n```\n\nThis is useful to e.g. remove a connection from all channels:\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\n\n// When a user is removed, make all their connections leave every channel\napp.service('users').on('removed', (user: User) => {\n  app.channel(app.channels).leave((connection: RealTimeConnection) => {\n    return user._id === connection.user._id\n  })\n})\n```\n\n### channel.join(connection)\n\n`channel.join(connection) -> Channel` adds a connection to this channel. If the channel is a combined channel, add the connection to all its child channels. If the connection is already in the channel it does nothing. Returns the channel object.\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\napp.on('login', (payload: AuthenticationResult, { connection }: Params) => {\n  if (connection && connection.user.isAdmin) {\n    // Join the admins channel\n    app.channel('admins').join(connection)\n\n    // Calling a second time will do nothing\n    app.channel('admins').join(connection)\n  }\n})\n```\n\n### channel.leave(connection|fn)\n\n`channel.leave(connection|fn) -> Channel` removes a connection from this channel. If the channel is a combined channel, remove the connection from all its child channels. Also allows to pass a callback that is run for every connection and returns if the connection should be removed or not. Returns the channel object.\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\n\n// Make the user with `_id` 5 leave the `admins` channel\napp.channel('admins').leave((connection: RealTimeConnection) => {\n  return connection.user._id === 5\n})\n```\n\n### channel.filter(fn)\n\n`channel.filter(fn) -> Channel` returns a new channel filtered by a given function which gets passed the connection.\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\n\n// Returns a new channel with all connections of the user with `_id` 5\nconst userFive = app\n  .channel(app.channels)\n  .filter((connection: RealTimeConnection) => connection.user._id === 5)\n```\n\n### channel.send(data)\n\n`channel.send(data) -> Channel` returns a copy of this channel with customized data that should be sent for this event. Usually this should be handled by modifying either the service method result or setting client \"safe\" data in `context.dispatch` but in some cases it might make sense to still change the event data for certain channels.\n\nWhat data will be sent as the event data will be determined by the first available in the following order:\n\n1. `data` from `channel.send(data)`\n2. `context.dispatch`\n3. `context.result`\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\n\napp.on('connection', (connection: RealTimeConnection) => {\n  // On a new real-time connection, add it to the\n  // anonymous channel\n  app.channel('anonymous').join(connection)\n})\n\n// Send the `users` `created` event to all anonymous\n// users but use only the name as the payload\napp.service('users').publish('created', (data: User) => {\n  return app.channel('anonymous').send({\n    name: data.name\n  })\n})\n```\n\n> **Important:**\n> \n> If a connection is in multiple channels (e.g. `users` and `admins`) it will get the data from the _first_ channel that it is in.\n>\n\n### channel.connections\n\n`channel.connections -> [ object ]` contains a list of all connections in this channel.\n\n### channel.length\n\n`channel.length -> integer` returns the total number of connections in this channel.\n\n## Publishing\n\nPublishers are callback functions that return which channel(s) to send an event to. They can be registered at the application and the service level and for all or specific events. A publishing function gets the event data and context object (`(data, context) => {}`) and returns a named or combined channel, an array of channels or `null`. Only one publisher can be registered for one type. Besides the standard [service event names](./events.md#service-events) an event name can also be a [custom event](./events.md#custom-events). `context` is the [hook context object](./hooks.md) from the service call or an object containing `{ path, service, app, result }` for custom events.\n\n### service.publish([event,] fn)\n\n`service.publish([event,] fn) -> service` registers a publishing function for a specific service for a specific event or all events if no event name was given.\n\n```ts\nimport { HookContext } from './declarations'\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\napp.on('login', (payload: AuthenticationResult, { connection }: Params) => {\n  // connection can be undefined if there is no\n  // real-time connection, e.g. when logging in via REST\n  if (connection && connection.user.isAdmin) {\n    app.channel('admins').join(connection)\n  }\n})\n\n// Publish all messages service events only to its room channel\napp.service('messages').publish((data: Message, context: HookContext) => {\n  return app.channel(`rooms/${data.roomId}`)\n})\n\n// Publish the `created` event to admins and the user that sent it\napp.service('users').publish('created', (data: User, context: HookContext) => {\n  return [\n    app.channel('admins'),\n    app.channel(app.channels).filter((connection) => connection.user._id === context.params.user._id)\n  ]\n})\n\n// Prevent all events in the `password-reset` service from being published\napp.service('password-reset').publish(() => null)\n```\n\n### app.publish([event,] fn)\n\n`app.publish([event,] fn) -> app` registers a publishing function for all services for a specific event or all events if no event name was given.\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\napp.on('login', (payload: AuthenticationResult, { connection }: Params) => {\n  // connection can be undefined if there is no\n  // real-time connection, e.g. when logging in via REST\n  if (connection) {\n    app.channel('authenticated').join(connection)\n  }\n})\n\n// Publish all events to all authenticated users\napp.publish((data: any, context: HookContext) => {\n  return app.channel('authenticated')\n})\n\n// Publish the `log` custom event to all connections\napp.publish('log', (data: any, context: HookContext) => {\n  return app.channel(app.channels)\n})\n```\n\n### Publisher precedence\n\nThe first publisher callback found in the following order will be used:\n\n1. Service publisher for a specific event\n2. Service publisher for all events\n3. App publishers for a specific event\n4. App publishers for all events\n\n## Keeping channels updated\n\nSince every application will be different, keeping the connections assigned to channels up to date (e.g. if a user joins/leaves a room) is up to you.\n\nIn general, channels should reflect your persistent application data. This means that it normally isn't necessary for e.g. a user to request to directly join a channel. This is especially important when running multiple instances of an application since channels are only _local_ to the current instance.\n\nInstead, the relevant information (e.g. what rooms a user is currently in) should be stored in the database and then the active connections can be re-distributed into the appropriate channels listening to the proper [service events](./events.md).\n\nThe following example updates all active connections for a given user when the user object (which is assumed to have a `rooms` array being a list of room ids the user has joined) is updated or removed:\n\n```ts\nimport type { RealTimeConnection } from '@feathersjs/feathers'\nimport type { Params } from '@feathersjs/feathers'\nimport type { AuthenticationResult } from '@feathersjs/authentication'\n\n// Join a channel given a user and connection\nconst joinChannels = (user: User, connection: RealTimeConnection) => {\n  app.channel('authenticated').join(connection)\n  // Assuming that the chat room/user assignment is stored\n  // on an array of the user\n  user.rooms.forEach((room) => app.channel(`rooms/${roomId}`).join(connection))\n}\n\n// Get a user to leave all channels\nconst leaveChannels = (user: User) => {\n  app.channel(app.channels).leave((connection) => connection.user._id === user._id)\n}\n\n// Leave and re-join all channels with new user information\nconst updateChannels = (user: User) => {\n  // Find all connections for this user\n  const { connections } = app.channel(app.channels).filter((connection) => connection.user._id === user._id)\n\n  // Leave all channels\n  leaveChannels(user)\n\n  // Re-join all channels with the updated user information\n  connections.forEach((connection) => joinChannels(user, connection))\n}\n\napp.on('login', (payload: AuthenticationResult, { connection }: Params) => {\n  if (connection) {\n    // Join all channels on login\n    joinChannels(connection.user, connection)\n  }\n})\n\n// On `updated` and `patched`, leave and re-join with new room assignments\napp.service('users').on('updated', updateChannels)\napp.service('users').on('patched', updateChannels)\n// On `removed`, remove the connection from all channels\napp.service('users').on('removed', leaveChannels)\n```\n\n> **Note:**\n> \n> The number active connections is usually one (or none) but unless you prevent it explicitly Feathers is not preventing multiple logins of the same user (e.g. with two open browser windows or on a mobile device).\n>",
    "breadcrumb": "Channels",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/channels.md",
    "heading": "Channels",
    "subHeadings": [
      "Concepts",
      "Example",
      "Connections",
      "app.on('connection')",
      "app.on('disconnect')",
      "app.on('login')",
      "app.on('logout')",
      "Channels",
      "app.channel(...names)",
      "app.channels",
      "channel.join(connection)",
      "channel.leave(connection|fn)",
      "channel.filter(fn)",
      "channel.send(data)",
      "channel.connections",
      "channel.length",
      "Publishing",
      "service.publish([event,] fn)",
      "app.publish([event,] fn)",
      "Publisher precedence",
      "Keeping channels updated"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 4303,
    "category": "channels",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "hook context",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "authentication",
      "anonymous",
      "database",
      "real-time",
      "channels",
      "events",
      "socket.io",
      "publish",
      "subscribe",
      "rest",
      "http",
      "transport",
      "middleware",
      "browser",
      "client",
      "declarations",
      "cli",
      "logging",
      "login",
      "users",
      "custom events"
    ],
    "embedding": [
      -0.002539,
      -0.010311,
      -0.029348,
      0.017974,
      0.000487,
      0.007157,
      0.020458,
      0.023573,
      -0.040233,
      0.002213,
      -0.014584,
      -0.01325,
      -0.014352,
      0.026582,
      -0.000833,
      0.010567,
      -0.015433,
      -0.029119,
      0.051099,
      -0.015615,
      -0.041866,
      0.027792,
      0.01758,
      0.022421,
      0.038773,
      -0.00145,
      -0.003731,
      -0.021937,
      -0.023233,
      -0.046851,
      0.031729,
      -0.013361,
      0.010866,
      -0.010203,
      -0.041217,
      -0.021175,
      -0.032959,
      0.000146,
      -0.03361,
      0.002602,
      -0.029088,
      0.000519,
      -0.018842,
      -0.053004,
      0.039594,
      -0.027107,
      0.00636,
      -0.006797,
      -0.018193,
      -0.029109,
      -0.055254,
      -0.020212,
      0.021098,
      -0.033119,
      0.010819,
      0.033485,
      -0.058888,
      -0.033827,
      -0.0401,
      -0.002836,
      -0.00954,
      0.01624,
      0.006787,
      -0.037023,
      0.030676,
      0.031181,
      0.00805,
      0.029737,
      -0.014743,
      -0.023323,
      0.000636,
      0.014667,
      -0.058055,
      -0.025148,
      -0.043087,
      0.017132,
      0.013545,
      -0.016961,
      -0.00389,
      0.037292,
      -0.027263,
      -0.038429,
      -0.008256,
      -0.027905,
      0.004481,
      -0.005921,
      -0.016053,
      0.047688,
      0.024704,
      -0.011007,
      0.01228,
      -0.023526,
      0.036373,
      -0.038539,
      0.001637,
      -0.031748,
      -0.00975,
      -0.00509,
      0.018221,
      0.010882,
      0.033316,
      -0.005119,
      0.006154,
      -0.04612,
      0.030204,
      0.053358,
      0.048994,
      -0.00016,
      -0.014442,
      -0.027462,
      0.010557,
      0.010794,
      -0.002678,
      0.049731,
      -0.020036,
      -0.018469,
      0.023134,
      -0.036389,
      -0.023445,
      0.014608,
      -0.00337,
      0.043696,
      -0.01934,
      0.001068,
      -0.000006,
      0.014564,
      -0.029473,
      0.015403,
      0.015151,
      0.019502,
      0.0093,
      -0.028645,
      0.004003,
      0.034108,
      -0.063253,
      0.023167,
      0.024266,
      0.007769,
      0.000387,
      -0.044801,
      0.047953,
      0.037665,
      -0.055539,
      -0.007918,
      0.022731,
      -0.031325,
      0.056019,
      0.065722,
      0.008465,
      0.027779,
      0.007708,
      0.000205,
      0.024847,
      -0.041704,
      0.007873,
      -0.031716,
      0.00071,
      0.012272,
      0.035627,
      -0.030261,
      0.002592,
      0.038895,
      -0.017847,
      -0.038031,
      0.061978,
      -0.005091,
      0.006218,
      -0.023861,
      -0.014229,
      0.017541,
      -0.006938,
      -0.018918,
      0.064288,
      0.025577,
      0.036158,
      0.027744,
      0.077441,
      0.027342,
      0.008198,
      -0.02053,
      -0.085797,
      -0.006029,
      -0.030704,
      -0.047311,
      -0.018331,
      0.024949,
      -0.023992,
      -0.021289,
      -0.015765,
      -0.006957,
      -0.007387,
      0.011816,
      0.042445,
      0.037411,
      -0.014483,
      -0.033068,
      0.010131,
      0.006691,
      0.027549,
      -0.009416,
      0.018486,
      0.041872,
      0.018995,
      0.023098,
      -0.052325,
      -0.028793,
      -0.005581,
      -0.036948,
      0.016682,
      -0.036008,
      0.006959,
      -0.005975,
      0.005968,
      -0.058652,
      -0.037057,
      0.02168,
      -0.014907,
      -0.013861,
      -0.003659,
      -0.017793,
      0.026301,
      0.04796,
      -0.004793,
      0.011421,
      0.024399,
      0.001368,
      0.029436,
      -0.001949,
      -0.010168,
      0.012992,
      -0.012814,
      0.010705,
      0.039618,
      -0.038089,
      0.028688,
      -0.025935,
      -0.043665,
      -0.007426,
      -0.001478,
      -0.00031,
      -0.025924,
      -0.053004,
      -0.009099,
      -0.023192,
      -0.014646,
      0.017216,
      0.010154,
      0.018644,
      -0.057435,
      -0.06585,
      -0.010117,
      0.006354,
      -0.005843,
      -0.010191,
      0.05426,
      0.001194,
      0.015803,
      -0.012596,
      -0.006042,
      -0.038237,
      -0.007698,
      0.02081,
      0.024896,
      0.018008,
      0.035902,
      -0.010932,
      -0.044545,
      -0.068886,
      0.00921,
      0.02046,
      -0.040433,
      -0.013599,
      0.04257,
      -0.003434,
      -0.039058,
      -0.012366,
      0.023913,
      -0.011707,
      0.08545,
      0.039087,
      0.004426,
      -0.029768,
      0.034441,
      0.036104,
      0.035218,
      0.015399,
      -0.0089,
      -0.01986,
      0.027778,
      -0.022147,
      0.009292,
      0.009561,
      0.067263,
      -0.027361,
      -0.01713,
      0.019415,
      0.009742,
      -0.142349,
      -0.011171,
      0.032395,
      -0.017706,
      0.029748,
      -0.008389,
      -0.050765,
      0.010922,
      -0.042605,
      0.061674,
      -0.011665,
      -0.047356,
      -0.053325,
      -0.032985,
      0.04813,
      -0.041909,
      0.019018,
      -0.001817,
      0.021992,
      -0.052676,
      -0.012756,
      -0.044036,
      0.055288,
      -0.039257,
      0.007294,
      0.019127,
      0.035146,
      0.010673,
      -0.031877,
      -0.015355,
      0.038739,
      -0.012377,
      0.008112,
      -0.016214,
      0.00994,
      -0.031458,
      0.030358,
      -0.022412,
      -0.006259,
      -0.017044,
      0.026608,
      -0.003954,
      0.011089,
      0.025256,
      -0.01937,
      -0.040576,
      0.010952,
      -0.021739,
      -0.002555,
      -0.033103,
      -0.025578,
      -0.009211,
      -0.007434,
      -0.011569,
      -0.034948,
      -0.018438,
      0.027707,
      0.078549,
      0.004902,
      0.006589,
      0.009249,
      0.001971,
      0.069918,
      -0.045332,
      -0.029123,
      -0.031169,
      0.0184,
      0.004945,
      0.011114,
      -0.07303,
      0.027929,
      -0.044339,
      0.008449,
      0.008377,
      -0.005112,
      0.004546,
      0.018818,
      -0.017311,
      -0.031416,
      -0.079243,
      0.013712,
      0.042608,
      -0.007584,
      0.045677,
      -0.052442,
      -0.006169,
      0.023007,
      -0.026768,
      0.019854,
      0.234528,
      0.01715,
      0.006026,
      0.003954,
      0.105055,
      -0.034634,
      0.043346,
      0.046422,
      -0.012214,
      -0.057811,
      -0.007762,
      0.034372,
      0.008523,
      0.009389,
      -0.018743,
      0.046083,
      -0.026592,
      0.009273,
      0.059493,
      0.000593,
      0.007299,
      -0.017537,
      0.002713,
      0.022351,
      -0.052558,
      -0.046607,
      0.007232,
      0.021402,
      -0.034896,
      -0.012207,
      -0.013767,
      0.007543,
      0.028699,
      -0.062443,
      -0.088099,
      0.012977,
      -0.016446,
      -0.031785,
      -0.015729,
      0.017878,
      0.010763,
      -0.003576,
      0.021301,
      0.039781,
      -0.038823,
      -0.016109,
      -0.006173,
      0.002609,
      -0.028018,
      -0.00916,
      -0.066101,
      0.01546,
      -0.023805,
      -0.012039,
      -0.006171,
      -0.064423,
      0.006107,
      -0.010459,
      -0.004779,
      0.002215,
      0.031556,
      0.004273,
      -0.035652,
      0.061877,
      -0.003586,
      0.007349,
      0.025532,
      -0.038307,
      0.011162,
      0.070579,
      -0.019196,
      0.000636,
      0.040283,
      0.002775,
      0.007813,
      -0.001577,
      0.028644,
      0.017441,
      -0.011017,
      0.00489,
      -0.020342,
      -0.009256,
      0.00806,
      0.012745,
      0.0117,
      -0.008593,
      -0.021808,
      0.076556,
      0.00944,
      -0.006805,
      -0.023336,
      -0.01728,
      -0.022832,
      0.011716,
      -0.012605,
      0.013692,
      0.040281,
      0.000417,
      -0.024923,
      -0.013861,
      0.023142,
      0.000472,
      0.017431,
      -0.001081,
      0.037769,
      0.023982,
      -0.012607,
      0.000079,
      0.02329,
      0.010718,
      -0.045926,
      -0.008656,
      0.056798,
      -0.02832,
      0.007501,
      0.018507,
      0.02262,
      0.02143,
      0.066545,
      0.007921,
      -0.001424,
      -0.017219,
      0.018591,
      0.017815,
      0.034934,
      -0.089301,
      -0.028562,
      -0.02111,
      0.010957,
      0.088024,
      0.029206,
      -0.046639,
      0.023683,
      0.058581,
      0.044217,
      0.021475,
      0.022439,
      0.039933,
      -0.005555,
      -0.017313,
      0.001214,
      -0.020763,
      -0.012898,
      0.011078,
      0.004542,
      0.027298,
      -0.021224,
      0.015002,
      -0.011466,
      0.007363,
      0.041935,
      0.087897,
      -0.003133,
      -0.078245,
      -0.022279,
      -0.052191,
      -0.005923,
      0.01977,
      -0.004233,
      -0.007514,
      -0.031103,
      0.005684,
      -0.011146,
      0.055788,
      0.000845,
      -0.011297,
      0.080326,
      0.018429,
      -0.042962,
      -0.029749,
      -0.001765,
      -0.065891,
      -0.068473,
      0.037043,
      -0.006982,
      -0.031087,
      -0.070034,
      0.043856,
      -0.001553,
      -0.030006,
      0.02244,
      0.019425,
      -0.015033,
      0.006492,
      -0.024688,
      0.029266,
      0.024249,
      0.000587,
      -0.010833,
      -0.02834,
      -0.047289,
      0.119562,
      -0.030238,
      -0.001395,
      0.059424,
      -0.031421,
      0.036246,
      0.025236,
      0.013041,
      0.00926,
      0.001742,
      -0.002847,
      -0.01925,
      -0.020286,
      -0.023434,
      -0.025855,
      0.02453,
      0.012116,
      -0.042695,
      0.017294,
      0.014708,
      -0.011998,
      -0.038522,
      -0.005442,
      -0.018466,
      -0.036081,
      0.049388,
      0.059942,
      0.017851,
      -0.025988,
      0.005651,
      -0.032738,
      0.010376,
      -0.031042,
      0.049623,
      -0.005855,
      0.016075,
      0.00487,
      -0.014151,
      0.014216,
      0.000655,
      -0.028195,
      0.015132,
      -0.014398,
      -0.012937,
      -0.014724,
      0.034162,
      -0.013165,
      -0.005393,
      -0.006599,
      -0.011646,
      0.060483,
      0.033449,
      0.053358,
      0.013689,
      0.025783,
      -0.019069,
      -0.054521,
      -0.02114,
      0.028865,
      -0.016666,
      -0.00919,
      -0.005196,
      -0.067539,
      0.022021,
      0.02079,
      0.056719,
      0.002946,
      -0.020909,
      -0.038029,
      -0.006512,
      0.014521,
      -0.029598,
      -0.000141,
      -0.030203,
      -0.036467,
      -0.005527,
      -0.037361,
      -0.034794,
      -0.023758,
      -0.020588,
      0.032579,
      -0.009123,
      -0.030816,
      0.018159,
      -0.026917,
      -0.057401,
      0.013607,
      -0.034599,
      0.038053,
      -0.055624,
      0.015181,
      0.027469,
      0.019229,
      0.000304,
      0.02892,
      -0.025452,
      -0.022979,
      0.012699,
      -0.060122,
      0.016419,
      -0.02,
      -0.018913,
      0.040489,
      -0.010828,
      0.000266,
      -0.00476,
      0.057352,
      0.004634,
      0.005516,
      -0.017738,
      0.010137,
      0.025659,
      -0.025787,
      0.007222,
      0.002566,
      -0.000363,
      -0.095324,
      0.01418,
      0.041042,
      -0.035028,
      -0.058402,
      0.008872,
      0.035463,
      0.051465,
      -0.006126,
      0.069572,
      -0.048349,
      0.007251,
      0.013139,
      -0.044111,
      0.009451,
      -0.040221,
      0.017845,
      0.020218,
      -0.013056,
      -0.003678,
      -0.029172,
      -0.02965,
      -0.005281,
      -0.038729,
      -0.023424,
      -0.012184,
      -0.037208,
      0.010775,
      0.003642,
      0.001844,
      -0.040939,
      -0.008032,
      -0.043035,
      0.003107,
      0.002286,
      0.084846,
      -0.030508,
      0.039067,
      0.007161,
      -0.013491,
      -0.016602,
      0.006894,
      0.018009,
      -0.008448,
      0.023811,
      -0.03534,
      -0.025878,
      0.045221,
      -0.029798,
      -0.025921,
      -0.016128,
      0.024618,
      0.021049,
      -0.030103,
      0.076445,
      -0.019955,
      -0.006287,
      0.013886,
      -0.013007,
      0.015412,
      -0.026051,
      0.012349,
      -0.026939,
      0.006299,
      0.013861,
      0.009851,
      -0.020167,
      -0.027244,
      0.006944,
      -0.015241,
      0.005774,
      0.004811,
      -0.013955,
      -0.043827,
      -0.015768,
      -0.026952,
      0.000648,
      -0.009846,
      -0.035866,
      0.006292,
      -0.00872,
      -0.030672,
      -0.003189,
      -0.028435,
      0.029262,
      0.009584,
      0.007164,
      -0.142636,
      0.034505,
      0.005934,
      0.011919,
      -0.008597,
      0.029219,
      0.006252,
      -0.032032,
      -0.000314,
      -0.006689,
      -0.010067,
      -0.014404,
      0.013462,
      -0.052464,
      0.000156,
      0.015936,
      -0.024185,
      -0.015538,
      -0.009404,
      -0.021434,
      -0.012924,
      -0.001455,
      0.022699,
      -0.029347,
      0.044287,
      0.019321,
      -0.061811,
      -0.011319,
      -0.014843,
      -0.000437,
      -0.013228,
      -0.045454,
      0.017548,
      0.008819,
      -0.040195,
      0.022857,
      0.009743,
      0.004286,
      -0.038433,
      0.042494,
      -0.025418,
      0.015784,
      -0.015241,
      0.014495,
      0.017341,
      0.040858,
      -0.022171,
      -0.065454,
      -0.008546,
      -0.01541,
      -0.00947,
      0.034354,
      0.05197,
      0.026606,
      -0.008504,
      0.018429,
      -0.056026,
      0.031329,
      -0.053689,
      0.000898,
      -0.015929,
      0.04345,
      -0.038319,
      -0.018533,
      -0.042283,
      0.021298,
      -0.00387,
      0.008656,
      -0.016478,
      0.033906,
      0.007999,
      -0.023902,
      -0.031479,
      0.009382,
      0.023035,
      -0.008278,
      0.050692,
      -0.002433,
      -0.005772,
      -0.038993,
      -0.000379,
      -0.039063,
      -0.01953,
      0.107286,
      0.032196,
      0.029375,
      0.023755,
      0.004167,
      -0.028836,
      0.003519,
      -0.026549,
      -0.040855,
      0.017553,
      0.078091,
      0.019206,
      0.027312,
      -0.025896,
      -0.014652,
      0.016953,
      0.016047,
      -0.012243,
      -0.022318,
      0.024616,
      0.032286,
      -0.016488,
      -0.014313,
      -0.006585,
      0.005468,
      0.019122,
      0.013825,
      -0.000942,
      0.020255,
      -0.019595,
      -0.012339,
      -0.033168,
      -0.019579,
      0.011229,
      0.05438,
      0.007738,
      0.009654,
      0.013865,
      -0.005779,
      0.038757,
      -0.035343,
      0.038208,
      0.041254,
      0.032994,
      0.025199,
      0.036236,
      -0.012983,
      0.055424,
      -0.04516,
      -0.031909,
      0.020735,
      -0.016627,
      0.001235,
      -0.05386,
      0.047252,
      -0.026704,
      -0.03489,
      -0.030986,
      -0.037125,
      -0.005308,
      -0.02295,
      0.013645,
      -0.022487,
      -0.003492,
      0.020318,
      -0.005761,
      -0.066107,
      0.018825,
      0.000305,
      -0.013129,
      0.019398,
      0.008381,
      0.042649,
      -0.032461,
      0.030917,
      -0.030944,
      0.047718,
      -0.010651,
      -0.039766,
      -0.008878,
      -0.044541,
      -0.047589,
      0.028826,
      -0.013662,
      -0.008616,
      -0.004235,
      -0.001225,
      -0.026033,
      0.065209,
      -0.011126,
      0.025828,
      0.011559,
      -0.027391,
      0.003019,
      0.036002,
      0.028218,
      -0.029527,
      0.01095,
      -0.00117,
      0.045255,
      -0.019597,
      0.025808,
      0.015977,
      -0.027703,
      0.019246,
      0.044551,
      -0.005742,
      -0.029839,
      0.010886,
      0.040281,
      0.00459,
      0.019426,
      -0.003345,
      0.005112,
      0.016988,
      -0.017283,
      0.077099,
      -0.009813,
      -0.020521,
      -0.010139,
      0.008662,
      -0.014142,
      0.009757,
      -0.041963,
      -0.010233,
      0.008158,
      0.050812,
      -0.018656,
      -0.017742,
      -0.005932,
      0.017099,
      0.033913,
      0.025462,
      0.027885,
      0.032124,
      -0.010584,
      -0.023428,
      0.02826,
      -0.001932,
      0.012939,
      -0.010516,
      -0.049884,
      -0.008429,
      -0.011834,
      0.019406,
      0.004132,
      0.007756,
      0.000742,
      0.011446,
      0.002308,
      0.03555,
      -0.008313,
      0.008415,
      0.008315,
      0.012446,
      0.004106,
      -0.025727,
      0.026047,
      0.008211,
      0.023641,
      -0.017851
    ]
  },
  {
    "id": "v5-rest-0",
    "content": "# REST Client\nBreadcrumb: REST Client\nCovers: rest-client | rest([baseUrl]) | params.headers | params.connection | app.rest | Request libraries | Fetch | Superagent | Axios | Custom Methods | Connecting to multiple servers | Extending rest clients | HTTP API | Authentication | find | get | create | update | patch | remove | Custom methods | Route placeholders\nTopics: hooks, services, application, context, params, find, get, create, update, patch, remove, custom methods, authentication, authorization, jwt, github, schema, database, adapter, querying, real-time, events, socket.io, rest, http, transport, express, koa, middleware, bun, browser, client, configuration, types, cli, users, custom service\n\n## rest-client\n\n```\nnpm install @feathersjs/rest-client --save\n```\n\n`@feathersjs/rest-client` allows to connect to a service exposed through a RESTÂ HTTP transport (e.g. with [Koa](../koa.md#rest) or [Express](../express.md#rest)) using [fetch](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API), [Superagent](https://github.com/ladjs/superagent) or [Axios](https://github.com/mzabriskie/axios).\n\n> **info:**\n> \n> For directly using a Feathers REST API (via HTTP) without using Feathers on the client see the [HTTP API](#http-api) section.\n> \n\n> **tip:**\n> \n> REST client services do emit `created`, `updated`, `patched` and `removed` events but only _locally for their own instance_. Real-time events from other clients can only be received by using a real-time transport like [Socket.io](./socketio.md).\n> \n\n> **warning:**\n> \n> A client application can only use **a single transport** (e.g. either REST or Socket.io). Using two transports in the same client application is not necessary.\n>\n\n### rest([baseUrl])\n\nREST client services can be initialized by loading `@feathersjs/rest-client` and initializing a client object with a base URL.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport rest from '@feathersjs/rest-client'\n\nconst app = feathers()\n\n// Connect to the same as the browser URL (only in the browser)\nconst restClient = rest()\n\n// Connect to a different URL\nconst restClient = rest('http://feathers-api.com')\n\n// Configure an AJAX library (see below) with that client\napp.configure(restClient.fetch(window.fetch.bind(window)))\n\n// Connect to the `http://feathers-api.com/messages` service\nconst messages = app.service('messages')\n```\n\nThe base URL is relative from where services are registered. That means that\n\n- A service at `http://api.feathersjs.com/api/v1/messages` with a base URL of `http://api.feathersjs.com` would be available as `app.service('api/v1/messages')`\n- A base URL of `http://api.feathersjs.com/api/v1` would be `app.service('messages')`.\n\n> **important:**\n> \n> In the browser `window.fetch` (which the same as the global `fetch`) has to be passed as `window.fetch.bind(window)` otherwise it will be called with an incorrect context, causing a JavaScript error: `Failed to execute 'fetch' on 'Window': Illegal invocation`.\n>\n\n### params.headers\n\nRequest specific headers can be through `params.headers` in a service call:\n\n```js\napp.service('messages').create(\n  {\n    text: 'A message from a REST client'\n  },\n  {\n    headers: { 'X-Requested-With': 'FeathersJS' }\n  }\n)\n```\n\n### params.connection\n\nAllows to pass additional options specific to the AJAX library. `params.connection.headers` will be merged with `params.headers`:\n\n```js\napp.configure(restClient.axios(axios))\n\napp.service('messages').get(1, {\n  connection: {\n    // Axios specific options here\n  }\n})\n```\n\n### app.rest\n\n`app.rest` contains a reference to the `connection` object passed to `rest().<name>(connection)`.\n\n### Request libraries\n\nThe Feathers REST client can be used with several HTTP request libraries.\n\n#### Fetch\n\nThe [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API) is the recommended way to make client connections since it does not require a third party library on most platforms:\n\n```js\n// In Node\napp.configure(restClient.fetch(fetch))\n\n// In modern browsers\napp.configure(restClient.fetch(window.fetch.bind(window)))\n```\n\nWhere supported, an [AbortController](https://developer.mozilla.org/en-US/docs/Web/API/AbortController) can be used to abort fetch requests:\n\n```js\nconst controller = new AbortController()\n\napp.configure(restClient.fetch(fetch))\n\napp.service('messages').get(1, {\n  connection: {\n    signal: controller.signal\n  }\n})\n\ncontroller.abort()\n```\n\n#### Superagent\n\n[Superagent](http://visionmedia.github.io/superagent/) currently works with a default configuration:\n\n```ts\nimport superagent from 'superagent'\n\napp.configure(restClient.superagent(superagent))\n```\n\n#### Axios\n\n[Axios](http://github.com/mzabriskie/axios) currently works with a default configuration:\n\n```js\nimport axios from 'axios'\n\napp.configure(restClient.axios(axios))\n```\n\nTo use default values for all requests, `axios.create` with [the axios configuration](https://axios-http.com/docs/req_config) can be used:\n\n```js\nimport axios from 'axios'\n\napp.configure(\n  restClient.axios(\n    axios.create({\n      headers: { 'X-Requested-With': 'My-Feathers-Frontend' }\n    })\n  )\n)\n```\n\n### Custom Methods\n\nOn the client, [custom service methods](../services.md#custom-methods) registered using the `methods` option when registering the service via `restClient.service()`:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Params } from '@feathersjs/feathers'\nimport rest from '@feathersjs/rest-client'\nimport type { RestService } from '@feathersjs/rest-client'\n\n// `data` and return type of custom method\ntype CustomMethodData = { name: string }\ntype CustomMethodResponse = { acknowledged: boolean }\n\ntype ServiceTypes = {\n  // The type is a RestService extended with custom methods\n  myservice: RestService & {\n    myCustomMethod(data: CustomMethodData, params: Params): Promise<CustomMethodResponse>\n  }\n}\n\nconst client = feathers<ServiceTypes>()\n\n// Connect to the same as the browser URL (only in the browser)\nconst restClient = rest().fetch(window.fetch.bind(window))\n\n// Connect to a different URL\nconst restClient = rest('http://feathers-api.com').fetch(window.fetch.bind(window))\n\n// Configure an AJAX library (see below) with that client\nclient.configure(restClient)\n\n// Register a REST client service with all methods listed\nclient.use('myservice', restClient.service('myservice'), {\n  methods: ['find', 'get', 'create', 'update', 'patch', 'remove', 'myCustomMethod']\n})\n\n// Then it can be used like other service methods\nclient.service('myservice').myCustomMethod(data, params)\n```\n\n> **info:**\n> \n> Just like on the server _all_ methods you want to use have to be listed in the `methods` option.\n>\n\n### Connecting to multiple servers\n\nIt is possible to instantiate and use individual services pointing to different servers by calling `rest('server').<library>().service(name)`:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport rest from '@feathersjs/rest-client'\n\nconst app = feathers()\n\nconst client1 = rest('http://feathers-api.com').fetch(window.fetch.bind(window))\nconst client2 = rest('http://other-feathers-api.com').fetch(window.fetch.bind(window))\n\n// With additional options to e.g. set authentication information\nconst client2 = rest('http://other-feathers-api.com').fetch(window.fetch.bind(window), {\n  headers: {\n    Authorization: 'Bearer <Token for other-feathers-api.com>'\n  }\n})\n\n// Configuring this will initialize default services for http://feathers-api.com\napp.configure(client1)\n\n// Connect to the `http://feathers-api.com/messages` service\nconst messages = app.service('messages')\n\n// Register /users service that points to http://other-feathers-api.com/users\napp.use('users', client2.service('users'))\n\nconst users = app.service('users')\n```\n\n> **note:**\n> \n> If the authentication information is different, it needs to be set as an option as shown above or via `params.headers` when making the request.\n>\n\n### Extending rest clients\n\nThis can be useful if you e.g. wish to override how the query is transformed before it is sent to the API.\n\n```ts\nimport type { Query } from '@feathersjs/feathers'\nimport { FetchClient } from '@feathersjs/rest-client'\nimport qs from 'qs'\n\nclass CustomFetch extends FetchClient {\n  getQuery(query: Query) {\n    if (Object.keys(query).length !== 0) {\n      const queryString = qs.stringify(query, {\n        strictNullHandling: true\n      })\n\n      return `?${queryString}`\n    }\n\n    return ''\n  }\n}\n\napp.configure(restClient.fetch(fetch, CustomFetch))\n```\n\n## HTTP API\n\nYou can communicate with a Feathers REST API using any other HTTP REST client. The following section describes what HTTP method, body and query parameters belong to which service method call.\n\nAll query parameters in a URL will be set as `params.query` on the server. Other service parameters can be set through [hooks](../hooks.md) and [Express middleware](../express.md). URL query parameter values will always be strings. Conversion (e.g. the string `'true'` to boolean `true`) on the server is done via [schemas](../schema/index.md) or [hooks](../hooks.md).\n\nThe body type for `POST`, `PUT` and `PATCH` requests is determined by the request type. You should also make sure you are setting your `Accept` header to `application/json`. Here is the mapping of service methods to REST API calls:\n\n| Service method | HTTP method | Path        |\n| -------------- | ----------- | ----------- |\n| .find()        | GET         | /messages   |\n| .get()         | GET         | /messages/1 |\n| .create()      | POST        | /messages   |\n| .update()      | PUT         | /messages/1 |\n| .patch()       | PATCH       | /messages/1 |\n| .remove()      | DELETE      | /messages/1 |\n\n### Authentication\n\nAuthenticating HTTP (REST) requests is a two step process. First you have to obtain a JWT from the [authentication service](../authentication/service.md) by POSTing the strategy you want to use:\n\n```json\n// POST /authentication the Content-Type header set to application/json\n{\n  \"strategy\": \"local\",\n  \"email\": \"your email\",\n  \"password\": \"your password\"\n}\n```\n\nHere is what that looks like with curl:\n\n```bash\ncurl -H \"Content-Type: application/json\" -X POST -d '{\"strategy\":\"local\",\"email\":\"your email\",\"password\":\"your password\"}' http://localhost:3030/authentication\n```\n\nThen to authenticate subsequent requests, add the returned `accessToken` to the `Authorization` header as `Bearer <your access token>`:\n\n```bash\ncurl -H \"Content-Type: application/json\" -H \"Authorization: Bearer <your access token>\" http://localhost:3030/messages\n```\n\nFor more information see the [authentication API documentation](../).\n\n### find\n\nRetrieves a list of all matching resources from the service\n\n```\nGET /messages?status=read&user=10\n```\n\nWill call `messages.find({ query: { status: 'read', userId: '10' } })` on the server.\n\nIf you want to use any of the built-in find operands ($le, $lt, $ne, $eq, $in, etc.) the general format is as follows:\n\n```\nGET /messages?field[$operand]=value&field[$operand]=value2\n```\n\nFor example, to find the records where field _status_ is not equal to **active** you could do\n\n```\nGET /messages?status[$ne]=active\n```\n\nThe find API allows the use of $limit, $skip, $sort, and $select in the query. These special parameters can be passed directly inside the query object:\n\n```\n// Find all messages that are read, limit to 10, only include text field.\n{\"status\": \"read\", \"$limit\":10, \"$select\": [\"name\"] } } // JSON\n\nGET /messages?status=read&$limit=10&$select[]=text // HTTP\n```\n\nMore information about the possible parameters for official database adapters can be found [in the database querying section](../databases/querying.md).\n\n### get\n\nRetrieve a single resource from the service.\n\n```\nGET /messages/1\n```\n\nWill call `messages.get(1, {})` on the server.\n\n```\nGET /messages/1?status=read\n```\n\nWill call `messages.get(1, { query: { status: 'read' } })` on the server.\n\n### create\n\nCreate a new resource with `data` which may also be an array.\n\n```\nPOST /messages\n{ \"text\": \"I really have to iron\" }\n```\n\nWill call `messages.create({ \"text\": \"I really have to iron\" }, {})` on the server.\n\n```\nPOST /messages\n[\n  { \"text\": \"I really have to iron\" },\n  { \"text\": \"Do laundry\" }\n]\n```\n\n> **note:**\n> \n> With a [database adapters](../databases/adapters.md) the [`multi` option](../databases/common.md) has to be set explicitly to support creating multiple entries.\n>\n\n### update\n\nCompletely replace a single or multiple resources.\n\n```\nPUT /messages/2\n{ \"text\": \"I really have to do laundry\" }\n```\n\nWill call `messages.update(2, { text: 'I really have to do laundry' }, {})` on the server. When no `id` is given by sending the request directly to the endpoint something like:\n\n```\nPUT /messages?status=unread\n{ \"status\": \"read\" }\n```\n\nWill call `messages.update(null, { status: 'read' }, { query: { status: 'unread' } })` on the server.\n\n### patch\n\nMerge the existing data of a single or multiple resources with the new `data`.\n\n```\nPATCH /messages/2\n{ \"status\": \"read\" }\n```\n\nWill call `messages.patch(2, { status: 'read' }, {})` on the server. When no `id` is given by sending the request directly to the endpoint something like:\n\n```\nPATCH /messages?status=unread\n{ \"status\": \"read\" }\n```\n\nWill call `messages.patch(null, { status: 'read' }, { query: { status: 'unread' } })` on the server to change the status for all read messages.\n\n> **note:**\n> \n> With a [database adapters](../databases/adapters.md) the [`multi` option](../databases/common.md) has to be set to support patching multiple entries.\n> \n\nThis is supported out of the box by the Feathers [database adapters](../databases/adapters.md)\n\n### remove\n\nRemove a single or multiple resources:\n\n```\nDELETE /messages/2\n```\n\nWill call `messages.remove(2, {} })`.\n\nWhen no `id` is given by sending the request directly to the endpoint something like:\n\n```\nDELETE /messages?status=archived\n```\n\nWill call `messages.remove(null, { query: { status: 'archived' } })` to delete all read messages.\n\n> **note:**\n> \n> With a [database adapters](../databases/adapters.md) the [`multi` option](../databases/common.md) has to be set to support patching multiple entries.\n>\n\n### Custom methods\n\n[Custom service methods](../services.md#custom-methods) can be called directly via HTTP by sending a POST request and setting the `X-Service-Method` header to the method you want to call:\n\n```\nPOST /messages\n\nX-Service-Method: myCustomMethod\n\n{\n  \"message\": \"Hello world\"\n}\n```\n\nVia CURL:\n\n```bash\ncurl -H \"Content-Type: application/json\" -H \"X-Service-Method: myCustomMethod\" -X POST -d '{\"message\": \"Hello world\"}' http://localhost:3030/myservice\n```\n\nThis will call `messages.myCustomMethod({ message: 'Hello world' }, {})`.\n\n### Route placeholders\n\nService URLs can have placeholders, e.g. `users/:userId/messages`. (see in [express](../express.md#params.route) or [koa](../koa.md#params.route))\n\nYou can call the client with route placeholders in the `params.route` property:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport rest from '@feathersjs/rest-client'\n\nconst app = feathers()\n\n// Connect to the same as the browser URL (only in the browser)\nconst restClient = rest()\n\n// Connect to a different URL\nconst restClient = rest('http://feathers-api.com')\n\n// Configure an AJAX library (see below) with that client\napp.configure(restClient.fetch(window.fetch.bind(window)))\n\n// Connect to the `http://feathers-api.com/messages` service\nconst messages = app.service('users/:userId/messages')\n\n// Call the `http://feathers-api.com/users/2/messages` URL\nmessages.find({\n  route: {\n    userId: 2\n  }\n})\n```\n\nThis can also be achieved by using the client bundled,\nsharing several `servicePath` variable exported in the [service shared file](../../guides/cli/service.shared.md#Variables) file.\n\n```ts\nimport rest from '@feathersjs/rest-client'\n// usersMessagesPath contains 'users/:userId/messages'\nimport { createClient, usersMessagesPath } from 'my-app'\n\nconst connection = rest('https://myapp.com').fetch(window.fetch.bind(window))\n\nconst client = createClient(connection)\n\n// Call the `https://myapp.com/users/2/messages` URL\nclient.service(usersMessagesPath).find({\n  route: {\n    userId: 2\n  }\n})\n```",
    "rawContent": "## rest-client\n\n```\nnpm install @feathersjs/rest-client --save\n```\n\n`@feathersjs/rest-client` allows to connect to a service exposed through a RESTÂ HTTP transport (e.g. with [Koa](../koa.md#rest) or [Express](../express.md#rest)) using [fetch](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API), [Superagent](https://github.com/ladjs/superagent) or [Axios](https://github.com/mzabriskie/axios).\n\n> **info:**\n> \n> For directly using a Feathers REST API (via HTTP) without using Feathers on the client see the [HTTP API](#http-api) section.\n> \n\n> **tip:**\n> \n> REST client services do emit `created`, `updated`, `patched` and `removed` events but only _locally for their own instance_. Real-time events from other clients can only be received by using a real-time transport like [Socket.io](./socketio.md).\n> \n\n> **warning:**\n> \n> A client application can only use **a single transport** (e.g. either REST or Socket.io). Using two transports in the same client application is not necessary.\n>\n\n### rest([baseUrl])\n\nREST client services can be initialized by loading `@feathersjs/rest-client` and initializing a client object with a base URL.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport rest from '@feathersjs/rest-client'\n\nconst app = feathers()\n\n// Connect to the same as the browser URL (only in the browser)\nconst restClient = rest()\n\n// Connect to a different URL\nconst restClient = rest('http://feathers-api.com')\n\n// Configure an AJAX library (see below) with that client\napp.configure(restClient.fetch(window.fetch.bind(window)))\n\n// Connect to the `http://feathers-api.com/messages` service\nconst messages = app.service('messages')\n```\n\nThe base URL is relative from where services are registered. That means that\n\n- A service at `http://api.feathersjs.com/api/v1/messages` with a base URL of `http://api.feathersjs.com` would be available as `app.service('api/v1/messages')`\n- A base URL of `http://api.feathersjs.com/api/v1` would be `app.service('messages')`.\n\n> **important:**\n> \n> In the browser `window.fetch` (which the same as the global `fetch`) has to be passed as `window.fetch.bind(window)` otherwise it will be called with an incorrect context, causing a JavaScript error: `Failed to execute 'fetch' on 'Window': Illegal invocation`.\n>\n\n### params.headers\n\nRequest specific headers can be through `params.headers` in a service call:\n\n```js\napp.service('messages').create(\n  {\n    text: 'A message from a REST client'\n  },\n  {\n    headers: { 'X-Requested-With': 'FeathersJS' }\n  }\n)\n```\n\n### params.connection\n\nAllows to pass additional options specific to the AJAX library. `params.connection.headers` will be merged with `params.headers`:\n\n```js\napp.configure(restClient.axios(axios))\n\napp.service('messages').get(1, {\n  connection: {\n    // Axios specific options here\n  }\n})\n```\n\n### app.rest\n\n`app.rest` contains a reference to the `connection` object passed to `rest().<name>(connection)`.\n\n### Request libraries\n\nThe Feathers REST client can be used with several HTTP request libraries.\n\n#### Fetch\n\nThe [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API) is the recommended way to make client connections since it does not require a third party library on most platforms:\n\n```js\n// In Node\napp.configure(restClient.fetch(fetch))\n\n// In modern browsers\napp.configure(restClient.fetch(window.fetch.bind(window)))\n```\n\nWhere supported, an [AbortController](https://developer.mozilla.org/en-US/docs/Web/API/AbortController) can be used to abort fetch requests:\n\n```js\nconst controller = new AbortController()\n\napp.configure(restClient.fetch(fetch))\n\napp.service('messages').get(1, {\n  connection: {\n    signal: controller.signal\n  }\n})\n\ncontroller.abort()\n```\n\n#### Superagent\n\n[Superagent](http://visionmedia.github.io/superagent/) currently works with a default configuration:\n\n```ts\nimport superagent from 'superagent'\n\napp.configure(restClient.superagent(superagent))\n```\n\n#### Axios\n\n[Axios](http://github.com/mzabriskie/axios) currently works with a default configuration:\n\n```js\nimport axios from 'axios'\n\napp.configure(restClient.axios(axios))\n```\n\nTo use default values for all requests, `axios.create` with [the axios configuration](https://axios-http.com/docs/req_config) can be used:\n\n```js\nimport axios from 'axios'\n\napp.configure(\n  restClient.axios(\n    axios.create({\n      headers: { 'X-Requested-With': 'My-Feathers-Frontend' }\n    })\n  )\n)\n```\n\n### Custom Methods\n\nOn the client, [custom service methods](../services.md#custom-methods) registered using the `methods` option when registering the service via `restClient.service()`:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Params } from '@feathersjs/feathers'\nimport rest from '@feathersjs/rest-client'\nimport type { RestService } from '@feathersjs/rest-client'\n\n// `data` and return type of custom method\ntype CustomMethodData = { name: string }\ntype CustomMethodResponse = { acknowledged: boolean }\n\ntype ServiceTypes = {\n  // The type is a RestService extended with custom methods\n  myservice: RestService & {\n    myCustomMethod(data: CustomMethodData, params: Params): Promise<CustomMethodResponse>\n  }\n}\n\nconst client = feathers<ServiceTypes>()\n\n// Connect to the same as the browser URL (only in the browser)\nconst restClient = rest().fetch(window.fetch.bind(window))\n\n// Connect to a different URL\nconst restClient = rest('http://feathers-api.com').fetch(window.fetch.bind(window))\n\n// Configure an AJAX library (see below) with that client\nclient.configure(restClient)\n\n// Register a REST client service with all methods listed\nclient.use('myservice', restClient.service('myservice'), {\n  methods: ['find', 'get', 'create', 'update', 'patch', 'remove', 'myCustomMethod']\n})\n\n// Then it can be used like other service methods\nclient.service('myservice').myCustomMethod(data, params)\n```\n\n> **info:**\n> \n> Just like on the server _all_ methods you want to use have to be listed in the `methods` option.\n>\n\n### Connecting to multiple servers\n\nIt is possible to instantiate and use individual services pointing to different servers by calling `rest('server').<library>().service(name)`:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport rest from '@feathersjs/rest-client'\n\nconst app = feathers()\n\nconst client1 = rest('http://feathers-api.com').fetch(window.fetch.bind(window))\nconst client2 = rest('http://other-feathers-api.com').fetch(window.fetch.bind(window))\n\n// With additional options to e.g. set authentication information\nconst client2 = rest('http://other-feathers-api.com').fetch(window.fetch.bind(window), {\n  headers: {\n    Authorization: 'Bearer <Token for other-feathers-api.com>'\n  }\n})\n\n// Configuring this will initialize default services for http://feathers-api.com\napp.configure(client1)\n\n// Connect to the `http://feathers-api.com/messages` service\nconst messages = app.service('messages')\n\n// Register /users service that points to http://other-feathers-api.com/users\napp.use('users', client2.service('users'))\n\nconst users = app.service('users')\n```\n\n> **note:**\n> \n> If the authentication information is different, it needs to be set as an option as shown above or via `params.headers` when making the request.\n>\n\n### Extending rest clients\n\nThis can be useful if you e.g. wish to override how the query is transformed before it is sent to the API.\n\n```ts\nimport type { Query } from '@feathersjs/feathers'\nimport { FetchClient } from '@feathersjs/rest-client'\nimport qs from 'qs'\n\nclass CustomFetch extends FetchClient {\n  getQuery(query: Query) {\n    if (Object.keys(query).length !== 0) {\n      const queryString = qs.stringify(query, {\n        strictNullHandling: true\n      })\n\n      return `?${queryString}`\n    }\n\n    return ''\n  }\n}\n\napp.configure(restClient.fetch(fetch, CustomFetch))\n```\n\n## HTTP API\n\nYou can communicate with a Feathers REST API using any other HTTP REST client. The following section describes what HTTP method, body and query parameters belong to which service method call.\n\nAll query parameters in a URL will be set as `params.query` on the server. Other service parameters can be set through [hooks](../hooks.md) and [Express middleware](../express.md). URL query parameter values will always be strings. Conversion (e.g. the string `'true'` to boolean `true`) on the server is done via [schemas](../schema/index.md) or [hooks](../hooks.md).\n\nThe body type for `POST`, `PUT` and `PATCH` requests is determined by the request type. You should also make sure you are setting your `Accept` header to `application/json`. Here is the mapping of service methods to REST API calls:\n\n| Service method | HTTP method | Path        |\n| -------------- | ----------- | ----------- |\n| .find()        | GET         | /messages   |\n| .get()         | GET         | /messages/1 |\n| .create()      | POST        | /messages   |\n| .update()      | PUT         | /messages/1 |\n| .patch()       | PATCH       | /messages/1 |\n| .remove()      | DELETE      | /messages/1 |\n\n### Authentication\n\nAuthenticating HTTP (REST) requests is a two step process. First you have to obtain a JWT from the [authentication service](../authentication/service.md) by POSTing the strategy you want to use:\n\n```json\n// POST /authentication the Content-Type header set to application/json\n{\n  \"strategy\": \"local\",\n  \"email\": \"your email\",\n  \"password\": \"your password\"\n}\n```\n\nHere is what that looks like with curl:\n\n```bash\ncurl -H \"Content-Type: application/json\" -X POST -d '{\"strategy\":\"local\",\"email\":\"your email\",\"password\":\"your password\"}' http://localhost:3030/authentication\n```\n\nThen to authenticate subsequent requests, add the returned `accessToken` to the `Authorization` header as `Bearer <your access token>`:\n\n```bash\ncurl -H \"Content-Type: application/json\" -H \"Authorization: Bearer <your access token>\" http://localhost:3030/messages\n```\n\nFor more information see the [authentication API documentation](../).\n\n### find\n\nRetrieves a list of all matching resources from the service\n\n```\nGET /messages?status=read&user=10\n```\n\nWill call `messages.find({ query: { status: 'read', userId: '10' } })` on the server.\n\nIf you want to use any of the built-in find operands ($le, $lt, $ne, $eq, $in, etc.) the general format is as follows:\n\n```\nGET /messages?field[$operand]=value&field[$operand]=value2\n```\n\nFor example, to find the records where field _status_ is not equal to **active** you could do\n\n```\nGET /messages?status[$ne]=active\n```\n\nThe find API allows the use of $limit, $skip, $sort, and $select in the query. These special parameters can be passed directly inside the query object:\n\n```\n// Find all messages that are read, limit to 10, only include text field.\n{\"status\": \"read\", \"$limit\":10, \"$select\": [\"name\"] } } // JSON\n\nGET /messages?status=read&$limit=10&$select[]=text // HTTP\n```\n\nMore information about the possible parameters for official database adapters can be found [in the database querying section](../databases/querying.md).\n\n### get\n\nRetrieve a single resource from the service.\n\n```\nGET /messages/1\n```\n\nWill call `messages.get(1, {})` on the server.\n\n```\nGET /messages/1?status=read\n```\n\nWill call `messages.get(1, { query: { status: 'read' } })` on the server.\n\n### create\n\nCreate a new resource with `data` which may also be an array.\n\n```\nPOST /messages\n{ \"text\": \"I really have to iron\" }\n```\n\nWill call `messages.create({ \"text\": \"I really have to iron\" }, {})` on the server.\n\n```\nPOST /messages\n[\n  { \"text\": \"I really have to iron\" },\n  { \"text\": \"Do laundry\" }\n]\n```\n\n> **note:**\n> \n> With a [database adapters](../databases/adapters.md) the [`multi` option](../databases/common.md) has to be set explicitly to support creating multiple entries.\n>\n\n### update\n\nCompletely replace a single or multiple resources.\n\n```\nPUT /messages/2\n{ \"text\": \"I really have to do laundry\" }\n```\n\nWill call `messages.update(2, { text: 'I really have to do laundry' }, {})` on the server. When no `id` is given by sending the request directly to the endpoint something like:\n\n```\nPUT /messages?status=unread\n{ \"status\": \"read\" }\n```\n\nWill call `messages.update(null, { status: 'read' }, { query: { status: 'unread' } })` on the server.\n\n### patch\n\nMerge the existing data of a single or multiple resources with the new `data`.\n\n```\nPATCH /messages/2\n{ \"status\": \"read\" }\n```\n\nWill call `messages.patch(2, { status: 'read' }, {})` on the server. When no `id` is given by sending the request directly to the endpoint something like:\n\n```\nPATCH /messages?status=unread\n{ \"status\": \"read\" }\n```\n\nWill call `messages.patch(null, { status: 'read' }, { query: { status: 'unread' } })` on the server to change the status for all read messages.\n\n> **note:**\n> \n> With a [database adapters](../databases/adapters.md) the [`multi` option](../databases/common.md) has to be set to support patching multiple entries.\n> \n\nThis is supported out of the box by the Feathers [database adapters](../databases/adapters.md)\n\n### remove\n\nRemove a single or multiple resources:\n\n```\nDELETE /messages/2\n```\n\nWill call `messages.remove(2, {} })`.\n\nWhen no `id` is given by sending the request directly to the endpoint something like:\n\n```\nDELETE /messages?status=archived\n```\n\nWill call `messages.remove(null, { query: { status: 'archived' } })` to delete all read messages.\n\n> **note:**\n> \n> With a [database adapters](../databases/adapters.md) the [`multi` option](../databases/common.md) has to be set to support patching multiple entries.\n>\n\n### Custom methods\n\n[Custom service methods](../services.md#custom-methods) can be called directly via HTTP by sending a POST request and setting the `X-Service-Method` header to the method you want to call:\n\n```\nPOST /messages\n\nX-Service-Method: myCustomMethod\n\n{\n  \"message\": \"Hello world\"\n}\n```\n\nVia CURL:\n\n```bash\ncurl -H \"Content-Type: application/json\" -H \"X-Service-Method: myCustomMethod\" -X POST -d '{\"message\": \"Hello world\"}' http://localhost:3030/myservice\n```\n\nThis will call `messages.myCustomMethod({ message: 'Hello world' }, {})`.\n\n### Route placeholders\n\nService URLs can have placeholders, e.g. `users/:userId/messages`. (see in [express](../express.md#params.route) or [koa](../koa.md#params.route))\n\nYou can call the client with route placeholders in the `params.route` property:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport rest from '@feathersjs/rest-client'\n\nconst app = feathers()\n\n// Connect to the same as the browser URL (only in the browser)\nconst restClient = rest()\n\n// Connect to a different URL\nconst restClient = rest('http://feathers-api.com')\n\n// Configure an AJAX library (see below) with that client\napp.configure(restClient.fetch(window.fetch.bind(window)))\n\n// Connect to the `http://feathers-api.com/messages` service\nconst messages = app.service('users/:userId/messages')\n\n// Call the `http://feathers-api.com/users/2/messages` URL\nmessages.find({\n  route: {\n    userId: 2\n  }\n})\n```\n\nThis can also be achieved by using the client bundled,\nsharing several `servicePath` variable exported in the [service shared file](../../guides/cli/service.shared.md#Variables) file.\n\n```ts\nimport rest from '@feathersjs/rest-client'\n// usersMessagesPath contains 'users/:userId/messages'\nimport { createClient, usersMessagesPath } from 'my-app'\n\nconst connection = rest('https://myapp.com').fetch(window.fetch.bind(window))\n\nconst client = createClient(connection)\n\n// Call the `https://myapp.com/users/2/messages` URL\nclient.service(usersMessagesPath).find({\n  route: {\n    userId: 2\n  }\n})\n```",
    "breadcrumb": "REST Client",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/client/rest.md",
    "heading": "REST Client",
    "subHeadings": [
      "rest-client",
      "rest([baseUrl])",
      "params.headers",
      "params.connection",
      "app.rest",
      "Request libraries",
      "Fetch",
      "Superagent",
      "Axios",
      "Custom Methods",
      "Connecting to multiple servers",
      "Extending rest clients",
      "HTTP API",
      "Authentication",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "Custom methods",
      "Route placeholders"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text",
      "ts",
      "js",
      "json",
      "bash"
    ],
    "tokens": 3875,
    "category": "client",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "custom methods",
      "authentication",
      "authorization",
      "jwt",
      "github",
      "schema",
      "database",
      "adapter",
      "querying",
      "real-time",
      "events",
      "socket.io",
      "rest",
      "http",
      "transport",
      "express",
      "koa",
      "middleware",
      "bun",
      "browser",
      "client",
      "configuration",
      "types",
      "cli",
      "users",
      "custom service"
    ],
    "embedding": [
      -0.009838,
      -0.001752,
      -0.052266,
      0.016369,
      -0.016435,
      -0.004543,
      0.019689,
      -0.000094,
      -0.006294,
      0.019459,
      0.004373,
      0.014523,
      -0.034244,
      0.018983,
      0.010542,
      0.013496,
      -0.016388,
      -0.027294,
      -0.010886,
      -0.014584,
      -0.026966,
      0.030635,
      0.012729,
      0.029747,
      0.031366,
      0.015667,
      -0.04978,
      -0.035367,
      -0.011364,
      0.027921,
      0.021307,
      0.031502,
      0.030477,
      -0.010748,
      -0.031648,
      -0.031941,
      0.005891,
      0.003512,
      -0.033886,
      0.012819,
      -0.004979,
      0.005547,
      -0.014338,
      -0.00316,
      0.014018,
      -0.037963,
      0.023493,
      -0.004481,
      -0.008268,
      -0.010342,
      -0.065486,
      0.014068,
      0.037782,
      -0.081685,
      0.033809,
      0.05021,
      -0.022024,
      0.002225,
      -0.075584,
      0.022913,
      -0.025858,
      0.021835,
      -0.024564,
      -0.005726,
      0.024027,
      0.038011,
      -0.01154,
      0.008342,
      -0.016274,
      -0.034202,
      -0.003033,
      -0.005703,
      -0.04925,
      -0.011064,
      -0.052726,
      0.009833,
      0.023687,
      0.024142,
      -0.01739,
      0.003541,
      -0.025776,
      -0.031734,
      0.013153,
      0.001027,
      -0.00854,
      -0.011327,
      -0.027435,
      0.057872,
      0.047009,
      -0.000088,
      0.003554,
      -0.017798,
      0.046652,
      -0.054857,
      0.000384,
      0.012873,
      -0.005474,
      0.000027,
      0.054302,
      0.008243,
      -0.000702,
      0.000273,
      -0.018346,
      -0.033153,
      0.060914,
      0.01882,
      0.03853,
      0.003844,
      0.005586,
      -0.036105,
      -0.009769,
      -0.01354,
      0.007055,
      -0.000433,
      -0.014576,
      -0.038487,
      0.023641,
      0.001812,
      -0.007705,
      -0.011795,
      0.015654,
      0.030809,
      0.040015,
      -0.018277,
      -0.022152,
      0.018839,
      -0.042013,
      0.044393,
      0.039242,
      0.031035,
      0.04815,
      -0.034783,
      -0.012739,
      -0.004166,
      -0.038532,
      0.038812,
      0.010263,
      -0.003894,
      -0.005647,
      -0.070426,
      0.056231,
      0.019904,
      0.003428,
      -0.005114,
      0.01879,
      -0.049891,
      0.065848,
      0.059287,
      -0.028515,
      -0.009431,
      0.022147,
      0.016265,
      0.011813,
      -0.018398,
      -0.020969,
      -0.038229,
      -0.002686,
      0.015873,
      0.021896,
      0.016494,
      0.002122,
      0.026341,
      -0.032988,
      0.012403,
      0.032375,
      -0.034089,
      0.025352,
      -0.025988,
      -0.038201,
      -0.010632,
      0.006571,
      -0.02591,
      0.059575,
      -0.00067,
      0.03229,
      0.026958,
      0.09022,
      0.025129,
      0.024794,
      -0.047819,
      -0.074429,
      0.013194,
      -0.026745,
      -0.043967,
      -0.037132,
      -0.024495,
      -0.042586,
      -0.013575,
      -0.019835,
      0.024872,
      -0.02012,
      -0.013629,
      0.026946,
      -0.006189,
      0.033179,
      0.029712,
      0.045843,
      -0.011848,
      0.03518,
      0.003136,
      -0.006555,
      0.022765,
      0.055992,
      0.058444,
      -0.043214,
      -0.02431,
      -0.006913,
      -0.042175,
      0.030247,
      -0.070685,
      0.013053,
      -0.018864,
      -0.01789,
      -0.032376,
      -0.038658,
      0.037154,
      0.020286,
      0.031769,
      0.017478,
      -0.012385,
      0.027691,
      -0.009427,
      -0.00854,
      -0.016751,
      0.016092,
      -0.002741,
      0.042054,
      0.015897,
      -0.036483,
      -0.02158,
      -0.023692,
      0.044822,
      0.002857,
      -0.022347,
      0.032612,
      -0.000474,
      -0.026293,
      -0.018862,
      -0.015861,
      0.053663,
      -0.020656,
      -0.007053,
      0.027986,
      -0.007932,
      -0.031536,
      -0.026095,
      0.052498,
      -0.001391,
      -0.030516,
      -0.014598,
      -0.019539,
      0.012052,
      0.022468,
      -0.022738,
      0.004091,
      0.015141,
      0.050481,
      -0.000873,
      0.008988,
      -0.031593,
      0.015942,
      0.031151,
      -0.005173,
      -0.004279,
      -0.016338,
      -0.026798,
      -0.065909,
      -0.035546,
      0.002329,
      -0.013385,
      -0.061218,
      0.017061,
      0.029136,
      -0.008747,
      -0.024447,
      0.010989,
      -0.009701,
      -0.034711,
      0.095248,
      0.032166,
      -0.005899,
      0.013172,
      0.035743,
      0.016473,
      0.022231,
      0.027508,
      -0.005292,
      -0.007049,
      0.049278,
      -0.002343,
      -0.002345,
      0.013992,
      0.076846,
      -0.017581,
      -0.049196,
      0.028317,
      -0.002376,
      -0.160415,
      -0.009826,
      0.055484,
      0.008687,
      0.003407,
      0.018954,
      -0.063045,
      0.001262,
      -0.039239,
      0.006754,
      -0.015152,
      -0.074807,
      -0.031644,
      -0.002163,
      -0.005551,
      0.023129,
      -0.020279,
      0.015045,
      0.026917,
      -0.050747,
      -0.025261,
      -0.029708,
      0.059948,
      0.006476,
      0.006599,
      0.018129,
      0.028443,
      -0.006079,
      -0.027068,
      0.007786,
      -0.007122,
      0.041656,
      0.007941,
      -0.009374,
      0.006132,
      -0.009669,
      0.035474,
      0.001316,
      -0.000892,
      -0.025507,
      -0.022396,
      0.099153,
      0.016476,
      -0.018142,
      0.030906,
      -0.026435,
      0.030232,
      0.022709,
      -0.027155,
      -0.022694,
      0.041532,
      -0.023466,
      0.052162,
      -0.003806,
      -0.042328,
      -0.022867,
      0.035903,
      0.032579,
      0.032798,
      0.003889,
      -0.021878,
      0.037677,
      0.055576,
      -0.009754,
      -0.0546,
      -0.015947,
      0.005895,
      0.000733,
      0.036684,
      -0.052616,
      0.047121,
      -0.01694,
      0.00693,
      0.017189,
      -0.016865,
      -0.009142,
      0.013275,
      -0.011957,
      -0.03152,
      -0.090193,
      -0.010443,
      0.030777,
      -0.008107,
      0.017117,
      -0.040209,
      -0.016843,
      -0.047517,
      -0.014208,
      0.088716,
      0.270683,
      -0.004319,
      -0.016325,
      -0.023624,
      0.056123,
      -0.027565,
      0.055749,
      0.045489,
      0.042546,
      -0.012518,
      0.001307,
      0.022445,
      -0.014609,
      0.003169,
      -0.005951,
      0.057836,
      -0.064075,
      0.008613,
      0.060479,
      -0.037014,
      0.019297,
      -0.027521,
      -0.019456,
      0.0253,
      -0.071463,
      -0.019724,
      0.007776,
      0.017481,
      -0.02515,
      0.008808,
      -0.021258,
      0.003875,
      0.022818,
      -0.057297,
      -0.09116,
      -0.025047,
      -0.024553,
      -0.040623,
      -0.032965,
      0.005965,
      -0.021249,
      -0.030437,
      0.025472,
      0.044933,
      0.004968,
      -0.033713,
      -0.045513,
      0.02718,
      -0.030841,
      -0.029434,
      -0.071637,
      0.019747,
      -0.014384,
      -0.003145,
      -0.032774,
      -0.049481,
      -0.011468,
      0.002957,
      0.011675,
      0.007667,
      0.032699,
      -0.011473,
      -0.073359,
      0.043822,
      -0.024102,
      0.041059,
      0.002588,
      -0.023063,
      -0.006593,
      0.056344,
      -0.036096,
      0.008054,
      0.054523,
      -0.007751,
      -0.005973,
      0.026099,
      0.023391,
      0.057032,
      -0.054729,
      0.067382,
      -0.015477,
      0.030242,
      -0.005544,
      0.001377,
      0.009475,
      0.016689,
      -0.000911,
      0.005563,
      -0.015931,
      -0.0233,
      -0.019581,
      -0.011977,
      0.002172,
      0.018842,
      -0.023584,
      0.019942,
      0.024893,
      -0.006856,
      0.00881,
      -0.017422,
      0.013765,
      0.038508,
      0.01472,
      -0.022084,
      0.05179,
      -0.030833,
      0.03443,
      0.006157,
      -0.008622,
      0.004071,
      -0.038404,
      0.019368,
      0.034424,
      -0.033737,
      0.009867,
      0.011787,
      0.037979,
      0.006793,
      0.051105,
      0.017141,
      0.010173,
      0.020453,
      -0.018564,
      0.011543,
      -0.006768,
      -0.061497,
      -0.001749,
      -0.037299,
      0.009337,
      0.042554,
      0.001158,
      -0.044756,
      -0.019467,
      0.082467,
      0.021155,
      0.001704,
      0.040739,
      0.035584,
      0.037792,
      -0.012378,
      -0.009396,
      -0.034845,
      -0.025487,
      0.004475,
      0.02036,
      0.011246,
      -0.014732,
      -0.014832,
      -0.017556,
      -0.002147,
      0.033623,
      0.055011,
      0.027812,
      -0.037393,
      -0.004475,
      -0.043523,
      -0.002014,
      0.005238,
      0.011256,
      -0.040237,
      -0.022889,
      0.00154,
      0.03161,
      0.0355,
      0.034701,
      -0.021888,
      0.004031,
      -0.01096,
      0.002314,
      -0.01722,
      -0.03102,
      -0.048539,
      -0.050726,
      0.047811,
      -0.027764,
      -0.016425,
      -0.034267,
      0.03547,
      0.016261,
      -0.030654,
      0.00081,
      0.018564,
      -0.037811,
      -0.063219,
      0.017702,
      0.043286,
      -0.011291,
      -0.004536,
      0.017615,
      -0.051117,
      -0.025132,
      0.080964,
      0.01622,
      0.015537,
      0.05251,
      -0.03219,
      0.041346,
      0.000038,
      0.031997,
      -0.01085,
      -0.02736,
      -0.012661,
      0.009989,
      0.004647,
      -0.022097,
      -0.047919,
      0.000763,
      0.02,
      -0.040682,
      0.032547,
      0.012203,
      0.020516,
      -0.0405,
      -0.004914,
      0.007188,
      -0.025811,
      0.042631,
      0.029651,
      -0.020995,
      -0.010678,
      -0.043425,
      -0.046416,
      0.022612,
      -0.039874,
      0.015837,
      0.000365,
      0.019155,
      0.003102,
      0.004129,
      0.0298,
      -0.009339,
      0.02716,
      0.011369,
      -0.052539,
      -0.004613,
      -0.024321,
      0.04788,
      0.016761,
      0.025898,
      -0.005492,
      0.021556,
      -0.003792,
      0.042823,
      0.026277,
      -0.001038,
      -0.000533,
      -0.006879,
      -0.01399,
      -0.023818,
      0.014178,
      0.000758,
      0.005208,
      0.007117,
      -0.040204,
      0.013761,
      0.029522,
      0.05386,
      -0.013422,
      -0.026989,
      -0.004362,
      -0.027754,
      0.004743,
      -0.004619,
      0.001646,
      0.01172,
      -0.013581,
      0.0121,
      -0.027671,
      -0.02253,
      -0.022877,
      0.002658,
      -0.010564,
      -0.033204,
      -0.054018,
      0.023522,
      -0.012413,
      -0.013869,
      -0.007844,
      0.018765,
      0.004963,
      -0.039952,
      -0.004355,
      0.01582,
      0.031684,
      0.008396,
      0.03968,
      0.020149,
      -0.039113,
      0.000227,
      -0.047126,
      -0.005444,
      0.034673,
      -0.024791,
      0.0159,
      -0.032644,
      -0.00978,
      -0.00999,
      0.029074,
      0.001652,
      0.000174,
      -0.014633,
      0.026413,
      -0.018343,
      -0.013739,
      -0.030217,
      0.043841,
      -0.033363,
      -0.056134,
      0.017284,
      0.036522,
      -0.012738,
      -0.049652,
      0.034158,
      -0.012551,
      0.051723,
      -0.045142,
      0.049514,
      -0.060699,
      -0.015065,
      -0.014088,
      0.01797,
      -0.001495,
      -0.023078,
      0.029599,
      0.002823,
      -0.005453,
      0.02536,
      -0.022098,
      0.002614,
      0.00358,
      -0.031322,
      -0.004617,
      -0.00905,
      -0.021977,
      -0.032971,
      0.037395,
      0.032318,
      -0.032411,
      -0.012047,
      -0.021414,
      -0.008734,
      0.043719,
      0.05643,
      -0.016561,
      0.000313,
      -0.015911,
      -0.014618,
      -0.000407,
      -0.031416,
      0.037567,
      -0.013322,
      -0.015007,
      -0.021533,
      -0.047838,
      0.034675,
      -0.006701,
      -0.060424,
      -0.004324,
      0.035772,
      0.037104,
      -0.032573,
      0.072706,
      -0.014974,
      -0.031978,
      0.015247,
      0.008362,
      0.017771,
      -0.057588,
      0.00684,
      -0.034427,
      -0.012639,
      0.051677,
      0.019802,
      -0.007682,
      -0.046095,
      0.016973,
      -0.019831,
      0.048093,
      0.007463,
      0.007983,
      -0.041409,
      -0.027086,
      -0.038184,
      -0.012605,
      -0.012887,
      0.031434,
      -0.000897,
      -0.002215,
      -0.022185,
      -0.017501,
      -0.026214,
      0.035697,
      -0.006326,
      -0.007347,
      -0.137197,
      0.012,
      0.015895,
      0.014555,
      -0.00202,
      0.028508,
      -0.002823,
      -0.001281,
      0.005264,
      -0.033838,
      -0.062325,
      -0.003857,
      0.031155,
      -0.031356,
      -0.014486,
      0.010099,
      -0.011912,
      0.00213,
      0.007307,
      -0.023751,
      0.019834,
      -0.009434,
      0.035407,
      -0.030409,
      -0.005254,
      0.006209,
      -0.046588,
      -0.011292,
      -0.021877,
      0.027593,
      -0.001321,
      -0.013063,
      0.007309,
      0.007161,
      -0.005059,
      0.017601,
      0.009452,
      0.003303,
      -0.025,
      0.02662,
      -0.030124,
      0.006069,
      -0.04214,
      0.027247,
      0.026328,
      0.040111,
      -0.009295,
      -0.040446,
      0.012158,
      0.017829,
      -0.010634,
      0.040435,
      0.042657,
      0.042243,
      0.017073,
      0.019419,
      -0.040713,
      -0.017799,
      -0.048813,
      0.057017,
      -0.033872,
      0.034961,
      -0.030864,
      -0.022177,
      0.00708,
      0.016104,
      -0.04837,
      0.036918,
      0.028971,
      -0.006686,
      -0.023415,
      -0.027835,
      -0.048368,
      0.006659,
      0.030079,
      -0.005675,
      0.023467,
      0.014454,
      -0.043314,
      -0.002602,
      0.003968,
      -0.020317,
      -0.059002,
      0.062568,
      0.062314,
      0.035241,
      -0.019415,
      0.011194,
      -0.008416,
      -0.028476,
      -0.032657,
      -0.043908,
      0.016545,
      0.043057,
      0.033291,
      0.023626,
      -0.003068,
      -0.025241,
      -0.011176,
      0.007585,
      -0.051261,
      -0.005169,
      0.05203,
      -0.011797,
      -0.010483,
      0.004492,
      0.014902,
      0.007186,
      -0.010212,
      -0.012164,
      0.002055,
      0.014075,
      -0.015153,
      0.01155,
      -0.069836,
      -0.018864,
      0.011855,
      0.026167,
      -0.043885,
      0.025839,
      0.005266,
      -0.010127,
      -0.034607,
      -0.034911,
      0.038826,
      0.001432,
      0.02803,
      0.016831,
      0.041082,
      -0.014592,
      0.038488,
      -0.029342,
      -0.036915,
      0.013742,
      0.001843,
      -0.040058,
      -0.074476,
      0.040287,
      -0.002726,
      -0.014615,
      -0.040371,
      -0.037006,
      0.024596,
      -0.023895,
      -0.024946,
      -0.008172,
      0.021899,
      0.028366,
      -0.019402,
      -0.07814,
      -0.015016,
      -0.000564,
      -0.002525,
      0.018982,
      -0.013002,
      0.008927,
      -0.006827,
      0.006595,
      -0.032831,
      0.01528,
      0.009727,
      -0.041309,
      -0.027824,
      0.023994,
      0.013543,
      0.029103,
      -0.008448,
      -0.025508,
      -0.024093,
      0.039448,
      -0.008605,
      0.057359,
      -0.002005,
      -0.009797,
      0.02449,
      -0.0238,
      0.01377,
      -0.002132,
      0.028895,
      -0.011957,
      0.022476,
      -0.015566,
      0.020967,
      -0.008488,
      0.018927,
      -0.003269,
      -0.002681,
      0.022347,
      0.018651,
      -0.002864,
      -0.007284,
      -0.001384,
      0.008612,
      0.009789,
      -0.000689,
      -0.025695,
      0.013239,
      -0.038896,
      0.008935,
      0.042873,
      0.009837,
      -0.029878,
      0.011058,
      0.006082,
      -0.011002,
      0.016132,
      -0.028042,
      -0.022416,
      -0.013461,
      0.033775,
      -0.000261,
      0.007774,
      -0.002336,
      0.018813,
      -0.0171,
      0.006467,
      0.040847,
      0.03351,
      -0.028543,
      -0.008437,
      0.025319,
      0.027702,
      0.01433,
      -0.049933,
      -0.051941,
      -0.006735,
      0.010812,
      -0.0133,
      -0.047523,
      0.013008,
      -0.03954,
      -0.057132,
      -0.003353,
      0.02816,
      0.006443,
      -0.003,
      0.012329,
      0.031147,
      0.006147,
      -0.039345,
      0.034061,
      -0.000199,
      -0.03098,
      0.00519
    ]
  },
  {
    "id": "v5-socketio-0",
    "content": "# Socket.io Client\nBreadcrumb: Socket.io Client\nCovers: socketio-client | socketio(socket) | `app.io` | Custom Methods | Route placeholders | Direct connection | Authentication | Via authentication service | Via handshake headers | find | get | create | update | patch | remove | Custom methods | Listening to events | created | updated, patched | removed | Custom events\nTopics: services, application, params, find, get, create, update, patch, remove, custom methods, authentication, authorization, jwt, api key, real-time, events, socket.io, publish, rest, http, transport, express, koa, middleware, bun, client, configuration, errors, types, cli, users, custom service, custom events\n\n## socketio-client\n\n```\nnpm install @feathersjs/socketio-client socket.io-client --save\n```\n\nThe `@feathersjs/socketio-client` module allows to connect to services exposed through the [Socket.io transport](../socketio.md) via a Socket.io socket. We recommend using Feathers and the `@feathersjs/socketio-client` module on the client if possible since it can also handle reconnection and reauthentication. If however, you want to use a direct Socket.io connection without using Feathers on the client, see the [Direct connection](#direct-connection) section.\n\n> **Important:**\n> \n> Socket.io is also used to _call_ service methods. Using sockets for both calling methods and receiving real-time events is generally faster than using [REST](./rest.md). There is therefore no need to use both REST and Socket.io in the same client application.\n>\n\n### socketio(socket)\n\nInitialize the Socket.io client using a given socket and the default options.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\n\nconst socket = io('http://api.feathersjs.com')\nconst app = feathers()\n\n// Set up Socket.io client with the socket\napp.configure(socketio(socket))\n\n// Receive real-time events through Socket.io\napp.service('messages').on('created', (message) => console.log('New message created', message))\n\n// Call the `messages` service\napp.service('messages').create({\n  text: 'A message from a REST client'\n})\n```\n\n### `app.io`\n\n`app.io` contains a reference to the `socket` object passed to `socketio(socket [, options])`\n\n```ts\napp.io.on('disconnect', (reason: any) => {\n  // Show offline message\n})\n```\n\n### Custom Methods\n\nOn the client, [custom service methods](../services.md#custom-methods) are also registered using the `methods` option when registering the service via `socketClient.service()`:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Params } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport type { SocketService } from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\n\n// `data` and return type of custom method\ntype CustomMethodData = { name: string }\ntype CustomMethodResponse = { acknowledged: boolean }\n\ntype ServiceTypes = {\n  // The type is a Socket service extended with custom methods\n  myservice: SocketService & {\n    myCustomMethod(data: CustomMethodData, params: Params): Promise<CustomMethodResponse>\n  }\n}\n\nconst socket = io('http://api.feathersjs.com')\nconst client = feathers<ServiceTypes>()\nconst socketClient = socketio(socket)\n\n// Set up Socket.io client with the socket\nclient.configure(socketClient)\n\n// Register a socket client service with all methods listed\nclient.use('myservice', socketClient.service('myservice'), {\n  methods: ['find', 'get', 'create', 'update', 'patch', 'remove', 'myCustomMethod']\n})\n\n// Then it can be used like other service methods\nclient.service('myservice').myCustomMethod(data, params)\n```\n\n> **info:**\n> \n> Just like on the server _all_ methods you want to use have to be listed in the `methods` option.\n>\n\n### Route placeholders\n\nService URLs can have placeholders, e.g. `users/:userId/messages`. (see in [express](../express.md#params.route) or [koa](../koa.md#params.route))\n\nYou can call the client with route placeholders in the `params.route` property:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\n\nconst socket = io('http://api.feathersjs.com')\nconst app = feathers()\n\n// Set up Socket.io client with the socket\napp.configure(socketio(socket))\n\n// Call `users/2/messages`\napp.service('users/:userId/messages').find({\n  route: {\n    userId: 2\n  }\n})\n```\n\nThis can also be achieved by using the client bundled,\nsharing several `servicePath` variable exported in the [service shared file](../../guides/cli/service.shared.md#Variables) file.\n\n```ts\nimport rest from '@feathersjs/rest-client'\n\nconst connection = rest('https://myapp.com').fetch(window.fetch.bind(window))\n\nconst client = createClient(connection)\n\n// Call the `https://myapp.com/users/2/messages` URL\nclient.service(usersMyMessagesPath).find({\n  route: {\n    userId: 2\n  }\n})\n\nimport io from 'socket.io-client'\nimport socketio from '@feathersjs/socketio-client'\nimport { createClient, usersMessagesPath } from 'my-app'\n\nconst socket = io('http://api.my-feathers-server.com')\nconst connection = socketio(socket)\n\nconst client = createClient(connection)\n\nconst messageService = client.service('users/:userId/messages')\n\n// Call `users/2/messages`\napp.service('users/:userId/messages').find({\n  route: {\n    userId: 2\n  }\n})\n```\n\n## Direct connection\n\nFeathers sets up a normal Socket.io server that you can connect to with any Socket.io compatible client, usually the [Socket.io client](http://socket.io/docs/client-api/) either by loading the `socket.io-client` module or `/socket.io/socket.io.js` from the server. Query parameter types do not have to be converted from strings as they do for REST requests.\n\n> **Important:**\n> \n> The socket connection URL has to point to the server root which is where Feathers will set up Socket.io.\n> \n\n```html\n<!-- Connecting to the same URL -->\n<script src=\"/socket.io/socket.io.js\"></script>\n<script>\n  var socket = io()\n</script>\n\n<!-- Connecting to a different server -->\n<script src=\"http://localhost:3030/socket.io/socket.io.js\"></script>\n<script>\n  var socket = io('http://localhost:3030/')\n</script>\n```\n\nService methods can be called by emitting a `<methodname>` event followed by the service path and method parameters. The service path is the name the service has been registered with (in `app.use`), without leading or trailing slashes. An optional callback following the `function(error, data)` Node convention will be called with the result of the method call or any errors that might have occurred.\n\n`params` will be set as `params.query` in the service method call. Other service parameters can be set through a [Socket.io middleware](../socketio.md).\n\nIf the service path or method does not exist, an appropriate Feathers error will be returned.\n\n### Authentication\n\nThere are two ways to establish an authenticated Socket.io connection. Either by calling the authentication service or by sending authentication headers.\n\n#### Via authentication service\n\nSockets will be authenticated automatically by calling [.create](#create) on the [authentication service](../authentication/service.md):\n\n```ts\nimport io from 'socket.io-client'\n\nconst socket = io('http://localhost:3030')\n\nsocket.emit(\n  'create',\n  'authentication',\n  {\n    strategy: 'local',\n    email: 'hello@feathersjs.com',\n    password: 'supersecret'\n  },\n  function (error, authResult) {\n    console.log(authResult)\n    // authResult will be {\"accessToken\": \"your token\", \"user\": user }\n    // You can now send authenticated messages to the server\n  }\n)\n```\n\n> **Important:**\n> \n> When a socket disconnects and then reconnects, it has to be authenticated again before making any other request that requires authentication. This is usually done with the [jwt strategy](../authentication/jwt.md) using the `accessToken` from the `authResult`. The [authentication client](../authentication/client.md) handles this already automatically.\n> \n\n```js\nsocket.on('connect', () => {\n  socket.emit(\n    'create',\n    'authentication',\n    {\n      strategy: 'jwt',\n      accessToken: authResult.accessToken\n    },\n    function (error, newAuthResult) {\n      console.log(newAuthResult)\n    }\n  )\n})\n```\n\n#### Via handshake headers\n\nIf the authentication strategy (e.g. JWT or API key) supports parsing headers, an authenticated websocket connection can be established by adding the information in the [extraHeaders option](https://socket.io/docs/client-api/#With-extraHeaders):\n\n```ts\nimport io from 'socket.io-client'\n\nconst socket = io('http://localhost:3030', {\n  extraHeaders: {\n    Authorization: `Bearer <accessToken here>`\n  }\n})\n```\n\n> **Note:**\n> \n> The authentication strategy needs to be included in the [`authStrategies` configuration](../authentication/service.md#configuration).\n>\n\n### find\n\nRetrieves a list of all matching resources from the service\n\n```js\nsocket.emit('find', 'messages', { status: 'read', user: 10 }, (error, data) => {\n  console.log('Found all messages', data)\n})\n```\n\nWill call `app.service('messages').find({ query: { status: 'read', user: 10 } })` on the server.\n\n### get\n\nRetrieve a single resource from the service.\n\n```js\nsocket.emit('get', 'messages', 1, (error, message) => {\n  console.log('Found message', message)\n})\n```\n\nWill call `app.service('messages').get(1, {})` on the server.\n\n```js\nsocket.emit('get', 'messages', 1, { status: 'read' }, (error, message) => {\n  console.log('Found message', message)\n})\n```\n\nWill call `app.service('messages').get(1, { query: { status: 'read' } })` on the server.\n\n### create\n\nCreate a new resource with `data` which may also be an array.\n\n```js\nsocket.emit(\n  'create',\n  'messages',\n  {\n    text: 'I really have to iron'\n  },\n  (error, message) => {\n    console.log('Todo created', message)\n  }\n)\n```\n\nWill call `app.service('messages').create({ text: 'I really have to iron' }, {})` on the server.\n\n```js\nsocket.emit('create', 'messages', [{ text: 'I really have to iron' }, { text: 'Do laundry' }])\n```\n\nWill call `app.service('messages').create` with the array.\n\n### update\n\nCompletely replace a single or multiple resources.\n\n```js\nsocket.emit(\n  'update',\n  'messages',\n  2,\n  {\n    text: 'I really have to do laundry'\n  },\n  (error, message) => {\n    console.log('Todo updated', message)\n  }\n)\n```\n\nWill call `app.service('messages').update(2, { text: 'I really have to do laundry' }, {})` on the server. The `id` can also be `null` to update multiple resources:\n\n```js\nsocket.emit(\n  'update',\n  'messages',\n  null,\n  {\n    status: 'unread'\n  },\n  { status: 'read' }\n)\n```\n\nWill call `app.service('messages').update(null, { status: 'read' }, { query: { satus: 'unread' } })` on the server.\n\n### patch\n\nMerge the existing data of a single or multiple resources with the new `data`.\n\n```js\nsocket.emit(\n  'patch',\n  'messages',\n  2,\n  {\n    read: true\n  },\n  (error, message) => {\n    console.log('Patched message', message)\n  }\n)\n```\n\nWill call `app.service('messages').patch(2, { read: true }, {})` on the server. The `id` can also be `null` to update multiple resources:\n\n```js\nsocket.emit(\n  'patch',\n  'messages',\n  null,\n  {\n    status: 'read'\n  },\n  {\n    status: 'unread'\n  },\n  (error, message) => {\n    console.log('Patched message', message)\n  }\n)\n```\n\nWill call `app.service('messages').patch(null, { status: 'read' }, { query: { status: 'unread' } })` on the server, to change the status for all read app.service('messages').\n\n### remove\n\nRemove a single or multiple resources:\n\n```js\nsocket.emit('remove', 'messages', 2, {}, (error, message) => {\n  console.log('Removed a message', message)\n})\n```\n\nWill call `app.service('messages').remove(2, {})` on the server. The `id` can also be `null` to remove multiple resources:\n\n```js\nsocket.emit('remove', 'messages', null, { status: 'archived' })\n```\n\nWill call `app.service('messages').remove(null, { query: { status: 'archived' } })` on the server to delete all messages with status `archived`.\n\n### Custom methods\n\n[Custom service methods](../services.md#custom-methods) can be called directly via Socket.io by sending a `socket.emit(methodName, serviceName, data, query)` message:\n\n```js\nsocket.emit('myCustomMethod', 'myservice', { message: 'Hello world' }, {}, (error, data) => {\n  console.log('Called myCustomMethod', data)\n})\n```\n\n### Listening to events\n\nListening to service events allows real-time behaviour in an application. [Service events](../events.md) are sent to the socket in the form of `servicepath eventname`.\n\n#### created\n\nThe `created` event will be published with the callback data, when a service `create` returns successfully.\n\n```ts\nconst socket = io('http://localhost:3030/')\n\nsocket.on('messages created', (message: Message) => {\n  console.log('Got a new Todo!', message)\n})\n```\n\n#### updated, patched\n\nThe `updated` and `patched` events will be published with the callback data, when a service `update` or `patch` method calls back successfully.\n\n```ts\nconst socket = io('http://localhost:3030/')\n\nsocket.on('my/messages updated', (message: Message) => {\n  console.log('Got an updated Todo!', message)\n})\n\nsocket.emit(\n  'update',\n  'my/messages',\n  1,\n  {\n    text: 'Updated text'\n  },\n  {},\n  (error, callback) => {\n    // Do something here\n  }\n)\n```\n\n#### removed\n\nThe `removed` event will be published with the callback data, when a service `remove` calls back successfully.\n\n```js\nconst socket = io('http://localhost:3030/')\n\nsocket.on('messages removed', (message: Message) => {\n  // Remove element showing the Todo from the page\n  $('#message-' + message.id).remove()\n})\n```\n\n#### Custom events\n\n[Custom events](../events.md#custom-events) can be listened to accordingly:\n\n```ts\nconst socket = io('http://localhost:3030/')\n\nsocket.on('messages myevent', function (data: any) {\n  console.log('Got myevent event', data)\n})\n```",
    "rawContent": "## socketio-client\n\n```\nnpm install @feathersjs/socketio-client socket.io-client --save\n```\n\nThe `@feathersjs/socketio-client` module allows to connect to services exposed through the [Socket.io transport](../socketio.md) via a Socket.io socket. We recommend using Feathers and the `@feathersjs/socketio-client` module on the client if possible since it can also handle reconnection and reauthentication. If however, you want to use a direct Socket.io connection without using Feathers on the client, see the [Direct connection](#direct-connection) section.\n\n> **Important:**\n> \n> Socket.io is also used to _call_ service methods. Using sockets for both calling methods and receiving real-time events is generally faster than using [REST](./rest.md). There is therefore no need to use both REST and Socket.io in the same client application.\n>\n\n### socketio(socket)\n\nInitialize the Socket.io client using a given socket and the default options.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\n\nconst socket = io('http://api.feathersjs.com')\nconst app = feathers()\n\n// Set up Socket.io client with the socket\napp.configure(socketio(socket))\n\n// Receive real-time events through Socket.io\napp.service('messages').on('created', (message) => console.log('New message created', message))\n\n// Call the `messages` service\napp.service('messages').create({\n  text: 'A message from a REST client'\n})\n```\n\n### `app.io`\n\n`app.io` contains a reference to the `socket` object passed to `socketio(socket [, options])`\n\n```ts\napp.io.on('disconnect', (reason: any) => {\n  // Show offline message\n})\n```\n\n### Custom Methods\n\nOn the client, [custom service methods](../services.md#custom-methods) are also registered using the `methods` option when registering the service via `socketClient.service()`:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Params } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport type { SocketService } from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\n\n// `data` and return type of custom method\ntype CustomMethodData = { name: string }\ntype CustomMethodResponse = { acknowledged: boolean }\n\ntype ServiceTypes = {\n  // The type is a Socket service extended with custom methods\n  myservice: SocketService & {\n    myCustomMethod(data: CustomMethodData, params: Params): Promise<CustomMethodResponse>\n  }\n}\n\nconst socket = io('http://api.feathersjs.com')\nconst client = feathers<ServiceTypes>()\nconst socketClient = socketio(socket)\n\n// Set up Socket.io client with the socket\nclient.configure(socketClient)\n\n// Register a socket client service with all methods listed\nclient.use('myservice', socketClient.service('myservice'), {\n  methods: ['find', 'get', 'create', 'update', 'patch', 'remove', 'myCustomMethod']\n})\n\n// Then it can be used like other service methods\nclient.service('myservice').myCustomMethod(data, params)\n```\n\n> **info:**\n> \n> Just like on the server _all_ methods you want to use have to be listed in the `methods` option.\n>\n\n### Route placeholders\n\nService URLs can have placeholders, e.g. `users/:userId/messages`. (see in [express](../express.md#params.route) or [koa](../koa.md#params.route))\n\nYou can call the client with route placeholders in the `params.route` property:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\n\nconst socket = io('http://api.feathersjs.com')\nconst app = feathers()\n\n// Set up Socket.io client with the socket\napp.configure(socketio(socket))\n\n// Call `users/2/messages`\napp.service('users/:userId/messages').find({\n  route: {\n    userId: 2\n  }\n})\n```\n\nThis can also be achieved by using the client bundled,\nsharing several `servicePath` variable exported in the [service shared file](../../guides/cli/service.shared.md#Variables) file.\n\n```ts\nimport rest from '@feathersjs/rest-client'\n\nconst connection = rest('https://myapp.com').fetch(window.fetch.bind(window))\n\nconst client = createClient(connection)\n\n// Call the `https://myapp.com/users/2/messages` URL\nclient.service(usersMyMessagesPath).find({\n  route: {\n    userId: 2\n  }\n})\n\nimport io from 'socket.io-client'\nimport socketio from '@feathersjs/socketio-client'\nimport { createClient, usersMessagesPath } from 'my-app'\n\nconst socket = io('http://api.my-feathers-server.com')\nconst connection = socketio(socket)\n\nconst client = createClient(connection)\n\nconst messageService = client.service('users/:userId/messages')\n\n// Call `users/2/messages`\napp.service('users/:userId/messages').find({\n  route: {\n    userId: 2\n  }\n})\n```\n\n## Direct connection\n\nFeathers sets up a normal Socket.io server that you can connect to with any Socket.io compatible client, usually the [Socket.io client](http://socket.io/docs/client-api/) either by loading the `socket.io-client` module or `/socket.io/socket.io.js` from the server. Query parameter types do not have to be converted from strings as they do for REST requests.\n\n> **Important:**\n> \n> The socket connection URL has to point to the server root which is where Feathers will set up Socket.io.\n> \n\n```html\n<!-- Connecting to the same URL -->\n<script src=\"/socket.io/socket.io.js\"></script>\n<script>\n  var socket = io()\n</script>\n\n<!-- Connecting to a different server -->\n<script src=\"http://localhost:3030/socket.io/socket.io.js\"></script>\n<script>\n  var socket = io('http://localhost:3030/')\n</script>\n```\n\nService methods can be called by emitting a `<methodname>` event followed by the service path and method parameters. The service path is the name the service has been registered with (in `app.use`), without leading or trailing slashes. An optional callback following the `function(error, data)` Node convention will be called with the result of the method call or any errors that might have occurred.\n\n`params` will be set as `params.query` in the service method call. Other service parameters can be set through a [Socket.io middleware](../socketio.md).\n\nIf the service path or method does not exist, an appropriate Feathers error will be returned.\n\n### Authentication\n\nThere are two ways to establish an authenticated Socket.io connection. Either by calling the authentication service or by sending authentication headers.\n\n#### Via authentication service\n\nSockets will be authenticated automatically by calling [.create](#create) on the [authentication service](../authentication/service.md):\n\n```ts\nimport io from 'socket.io-client'\n\nconst socket = io('http://localhost:3030')\n\nsocket.emit(\n  'create',\n  'authentication',\n  {\n    strategy: 'local',\n    email: 'hello@feathersjs.com',\n    password: 'supersecret'\n  },\n  function (error, authResult) {\n    console.log(authResult)\n    // authResult will be {\"accessToken\": \"your token\", \"user\": user }\n    // You can now send authenticated messages to the server\n  }\n)\n```\n\n> **Important:**\n> \n> When a socket disconnects and then reconnects, it has to be authenticated again before making any other request that requires authentication. This is usually done with the [jwt strategy](../authentication/jwt.md) using the `accessToken` from the `authResult`. The [authentication client](../authentication/client.md) handles this already automatically.\n> \n\n```js\nsocket.on('connect', () => {\n  socket.emit(\n    'create',\n    'authentication',\n    {\n      strategy: 'jwt',\n      accessToken: authResult.accessToken\n    },\n    function (error, newAuthResult) {\n      console.log(newAuthResult)\n    }\n  )\n})\n```\n\n#### Via handshake headers\n\nIf the authentication strategy (e.g. JWT or API key) supports parsing headers, an authenticated websocket connection can be established by adding the information in the [extraHeaders option](https://socket.io/docs/client-api/#With-extraHeaders):\n\n```ts\nimport io from 'socket.io-client'\n\nconst socket = io('http://localhost:3030', {\n  extraHeaders: {\n    Authorization: `Bearer <accessToken here>`\n  }\n})\n```\n\n> **Note:**\n> \n> The authentication strategy needs to be included in the [`authStrategies` configuration](../authentication/service.md#configuration).\n>\n\n### find\n\nRetrieves a list of all matching resources from the service\n\n```js\nsocket.emit('find', 'messages', { status: 'read', user: 10 }, (error, data) => {\n  console.log('Found all messages', data)\n})\n```\n\nWill call `app.service('messages').find({ query: { status: 'read', user: 10 } })` on the server.\n\n### get\n\nRetrieve a single resource from the service.\n\n```js\nsocket.emit('get', 'messages', 1, (error, message) => {\n  console.log('Found message', message)\n})\n```\n\nWill call `app.service('messages').get(1, {})` on the server.\n\n```js\nsocket.emit('get', 'messages', 1, { status: 'read' }, (error, message) => {\n  console.log('Found message', message)\n})\n```\n\nWill call `app.service('messages').get(1, { query: { status: 'read' } })` on the server.\n\n### create\n\nCreate a new resource with `data` which may also be an array.\n\n```js\nsocket.emit(\n  'create',\n  'messages',\n  {\n    text: 'I really have to iron'\n  },\n  (error, message) => {\n    console.log('Todo created', message)\n  }\n)\n```\n\nWill call `app.service('messages').create({ text: 'I really have to iron' }, {})` on the server.\n\n```js\nsocket.emit('create', 'messages', [{ text: 'I really have to iron' }, { text: 'Do laundry' }])\n```\n\nWill call `app.service('messages').create` with the array.\n\n### update\n\nCompletely replace a single or multiple resources.\n\n```js\nsocket.emit(\n  'update',\n  'messages',\n  2,\n  {\n    text: 'I really have to do laundry'\n  },\n  (error, message) => {\n    console.log('Todo updated', message)\n  }\n)\n```\n\nWill call `app.service('messages').update(2, { text: 'I really have to do laundry' }, {})` on the server. The `id` can also be `null` to update multiple resources:\n\n```js\nsocket.emit(\n  'update',\n  'messages',\n  null,\n  {\n    status: 'unread'\n  },\n  { status: 'read' }\n)\n```\n\nWill call `app.service('messages').update(null, { status: 'read' }, { query: { satus: 'unread' } })` on the server.\n\n### patch\n\nMerge the existing data of a single or multiple resources with the new `data`.\n\n```js\nsocket.emit(\n  'patch',\n  'messages',\n  2,\n  {\n    read: true\n  },\n  (error, message) => {\n    console.log('Patched message', message)\n  }\n)\n```\n\nWill call `app.service('messages').patch(2, { read: true }, {})` on the server. The `id` can also be `null` to update multiple resources:\n\n```js\nsocket.emit(\n  'patch',\n  'messages',\n  null,\n  {\n    status: 'read'\n  },\n  {\n    status: 'unread'\n  },\n  (error, message) => {\n    console.log('Patched message', message)\n  }\n)\n```\n\nWill call `app.service('messages').patch(null, { status: 'read' }, { query: { status: 'unread' } })` on the server, to change the status for all read app.service('messages').\n\n### remove\n\nRemove a single or multiple resources:\n\n```js\nsocket.emit('remove', 'messages', 2, {}, (error, message) => {\n  console.log('Removed a message', message)\n})\n```\n\nWill call `app.service('messages').remove(2, {})` on the server. The `id` can also be `null` to remove multiple resources:\n\n```js\nsocket.emit('remove', 'messages', null, { status: 'archived' })\n```\n\nWill call `app.service('messages').remove(null, { query: { status: 'archived' } })` on the server to delete all messages with status `archived`.\n\n### Custom methods\n\n[Custom service methods](../services.md#custom-methods) can be called directly via Socket.io by sending a `socket.emit(methodName, serviceName, data, query)` message:\n\n```js\nsocket.emit('myCustomMethod', 'myservice', { message: 'Hello world' }, {}, (error, data) => {\n  console.log('Called myCustomMethod', data)\n})\n```\n\n### Listening to events\n\nListening to service events allows real-time behaviour in an application. [Service events](../events.md) are sent to the socket in the form of `servicepath eventname`.\n\n#### created\n\nThe `created` event will be published with the callback data, when a service `create` returns successfully.\n\n```ts\nconst socket = io('http://localhost:3030/')\n\nsocket.on('messages created', (message: Message) => {\n  console.log('Got a new Todo!', message)\n})\n```\n\n#### updated, patched\n\nThe `updated` and `patched` events will be published with the callback data, when a service `update` or `patch` method calls back successfully.\n\n```ts\nconst socket = io('http://localhost:3030/')\n\nsocket.on('my/messages updated', (message: Message) => {\n  console.log('Got an updated Todo!', message)\n})\n\nsocket.emit(\n  'update',\n  'my/messages',\n  1,\n  {\n    text: 'Updated text'\n  },\n  {},\n  (error, callback) => {\n    // Do something here\n  }\n)\n```\n\n#### removed\n\nThe `removed` event will be published with the callback data, when a service `remove` calls back successfully.\n\n```js\nconst socket = io('http://localhost:3030/')\n\nsocket.on('messages removed', (message: Message) => {\n  // Remove element showing the Todo from the page\n  $('#message-' + message.id).remove()\n})\n```\n\n#### Custom events\n\n[Custom events](../events.md#custom-events) can be listened to accordingly:\n\n```ts\nconst socket = io('http://localhost:3030/')\n\nsocket.on('messages myevent', function (data: any) {\n  console.log('Got myevent event', data)\n})\n```",
    "breadcrumb": "Socket.io Client",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/client/socketio.md",
    "heading": "Socket.io Client",
    "subHeadings": [
      "socketio-client",
      "socketio(socket)",
      "`app.io`",
      "Custom Methods",
      "Route placeholders",
      "Direct connection",
      "Authentication",
      "Via authentication service",
      "Via handshake headers",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "Custom methods",
      "Listening to events",
      "created",
      "updated, patched",
      "removed",
      "Custom events"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text",
      "ts",
      "html",
      "js"
    ],
    "tokens": 3300,
    "category": "client",
    "tags": [
      "services",
      "application",
      "params",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "custom methods",
      "authentication",
      "authorization",
      "jwt",
      "api key",
      "real-time",
      "events",
      "socket.io",
      "publish",
      "rest",
      "http",
      "transport",
      "express",
      "koa",
      "middleware",
      "bun",
      "client",
      "configuration",
      "errors",
      "types",
      "cli",
      "users",
      "custom service",
      "custom events"
    ],
    "embedding": [
      -0.007086,
      -0.007975,
      -0.062397,
      -0.015334,
      0.000571,
      -0.045897,
      0.015527,
      0.016197,
      -0.018273,
      0.017625,
      0.009561,
      0.017574,
      -0.022301,
      -0.003746,
      0.039169,
      0.020692,
      -0.028181,
      -0.006998,
      0.012835,
      -0.026163,
      -0.023125,
      0.003967,
      0.027866,
      0.024108,
      -0.002316,
      -0.018937,
      0.009665,
      -0.037793,
      -0.016135,
      -0.012801,
      0.027529,
      0.025082,
      0.001715,
      -0.000069,
      -0.045981,
      -0.01722,
      0.003186,
      0.036019,
      -0.030184,
      -0.00055,
      0.005332,
      -0.000518,
      0.011537,
      0.012205,
      0.016755,
      -0.019591,
      0.007789,
      -0.024094,
      0.013128,
      -0.006506,
      -0.042291,
      -0.000752,
      0.015328,
      -0.061577,
      0.026859,
      0.035772,
      0.013687,
      -0.041416,
      -0.040212,
      0.034639,
      -0.063154,
      0.023464,
      0.003967,
      -0.008407,
      -0.003961,
      0.031399,
      -0.025455,
      -0.010471,
      -0.020123,
      -0.043422,
      -0.012135,
      -0.000164,
      -0.002136,
      -0.012479,
      -0.047336,
      0.020333,
      0.016824,
      0.010814,
      -0.015445,
      0.028655,
      -0.020793,
      -0.032059,
      0.011199,
      -0.002169,
      0.040362,
      -0.005746,
      -0.012187,
      0.046471,
      -0.008063,
      0.00212,
      -0.01723,
      -0.069616,
      0.032278,
      -0.03893,
      -0.011891,
      0.004185,
      0.024144,
      -0.001452,
      -0.018997,
      -0.003343,
      0.006531,
      -0.006196,
      0.035746,
      -0.060603,
      0.031777,
      0.037906,
      0.010316,
      0.036759,
      0.02021,
      -0.032393,
      -0.001393,
      0.019329,
      0.026876,
      0.003312,
      -0.005564,
      -0.036015,
      0.026196,
      -0.020526,
      -0.016863,
      -0.000371,
      0.008188,
      -0.015619,
      0.038477,
      -0.030161,
      -0.029043,
      0.007843,
      -0.021272,
      0.038589,
      0.026546,
      0.016522,
      0.033186,
      -0.054451,
      -0.008677,
      0.025788,
      -0.062466,
      0.001432,
      0.025612,
      0.019615,
      -0.029342,
      -0.064916,
      0.057889,
      0.01351,
      0.017569,
      -0.016988,
      0.033955,
      -0.044809,
      0.078263,
      0.045646,
      -0.011716,
      -0.027805,
      0.035105,
      0.047512,
      0.015804,
      -0.045303,
      -0.023697,
      -0.044495,
      -0.003135,
      0.019752,
      0.053781,
      -0.026537,
      0.014767,
      0.03307,
      -0.035274,
      0.014232,
      0.040849,
      -0.016406,
      0.021246,
      -0.022732,
      0.005243,
      0.008771,
      0.021185,
      -0.052415,
      0.010476,
      0.00857,
      0.026104,
      0.028852,
      0.085629,
      0.031197,
      0.015064,
      -0.030575,
      -0.067686,
      0.007208,
      -0.049981,
      -0.039667,
      -0.05253,
      -0.009505,
      -0.03191,
      -0.050955,
      -0.009261,
      0.053438,
      -0.019377,
      0.003933,
      0.035395,
      0.007631,
      0.017069,
      0.036573,
      0.036834,
      0.002467,
      0.042414,
      0.028915,
      -0.016834,
      0.037375,
      0.049438,
      0.019902,
      -0.029956,
      -0.036187,
      0.015801,
      -0.052644,
      0.009578,
      -0.053524,
      0.014395,
      -0.02658,
      -0.042983,
      -0.017806,
      -0.037954,
      0.053802,
      0.008644,
      -0.003982,
      -0.000222,
      -0.030734,
      0.018323,
      0.017547,
      -0.000139,
      0.0171,
      0.010736,
      0.003359,
      0.061405,
      -0.001849,
      -0.026836,
      -0.016404,
      -0.046522,
      0.033216,
      -0.0164,
      -0.058315,
      0.022092,
      -0.016273,
      -0.031155,
      -0.006303,
      0.000525,
      0.030904,
      -0.011463,
      0.011017,
      0.034117,
      -0.008423,
      -0.021779,
      -0.006216,
      0.043539,
      -0.013279,
      -0.01867,
      -0.022968,
      0.015,
      -0.001108,
      0.000564,
      -0.020758,
      0.041859,
      0.014227,
      0.023884,
      0.002263,
      -0.001213,
      -0.007746,
      0.01135,
      0.013122,
      -0.011209,
      0.009871,
      0.014598,
      -0.032129,
      -0.041225,
      -0.029821,
      0.00024,
      -0.007981,
      -0.022614,
      0.016182,
      0.031435,
      0.017264,
      -0.022116,
      -0.007422,
      -0.011774,
      -0.039969,
      0.069921,
      0.063772,
      0.024011,
      0.031607,
      0.020434,
      0.019239,
      0.023481,
      0.020126,
      0.002139,
      0.037047,
      0.039535,
      -0.021952,
      -0.007377,
      0.010861,
      0.091606,
      0.015228,
      -0.053158,
      0.020431,
      -0.013779,
      -0.161892,
      -0.012575,
      0.030474,
      0.020354,
      0.002855,
      0.016012,
      -0.058665,
      -0.006753,
      -0.041985,
      0.038394,
      0.003209,
      -0.060302,
      -0.010656,
      0.012219,
      0.034272,
      0.015847,
      -0.024606,
      0.019236,
      0.007921,
      -0.047911,
      -0.024298,
      -0.026031,
      0.053361,
      0.02762,
      -0.014975,
      0.006556,
      0.049413,
      0.005282,
      -0.033318,
      0.00087,
      0.003338,
      0.011619,
      0.0012,
      0.02338,
      0.001769,
      -0.011652,
      0.00939,
      -0.008679,
      -0.023151,
      -0.002639,
      -0.00089,
      0.040797,
      0.008554,
      0.00176,
      -0.017702,
      -0.039381,
      0.011828,
      0.006672,
      -0.002481,
      -0.03475,
      0.074993,
      0.000613,
      0.011433,
      -0.016076,
      -0.040667,
      -0.009592,
      0.049555,
      0.061058,
      0.01615,
      0.031119,
      -0.023719,
      0.024681,
      0.050016,
      -0.037824,
      0.012352,
      -0.024593,
      0.002734,
      -0.008651,
      0.034295,
      -0.051161,
      0.060008,
      -0.031808,
      0.004991,
      -0.007986,
      -0.018971,
      -0.027165,
      0.03314,
      -0.055042,
      -0.032849,
      -0.081456,
      -0.030821,
      0.031588,
      -0.004175,
      0.021093,
      -0.045757,
      -0.013948,
      -0.016227,
      -0.035352,
      0.017099,
      0.24645,
      -0.000885,
      -0.000412,
      0.020381,
      0.079756,
      -0.025371,
      0.030119,
      0.078274,
      0.01986,
      -0.024138,
      0.035143,
      0.000722,
      -0.025766,
      -0.000574,
      -0.006714,
      0.034679,
      -0.058238,
      0.009448,
      0.048015,
      -0.033693,
      0.008707,
      -0.022922,
      -0.016926,
      -0.018682,
      -0.06124,
      -0.016067,
      -0.002221,
      0.004039,
      -0.042353,
      -0.011319,
      -0.004626,
      0.035287,
      0.025346,
      -0.078566,
      -0.052829,
      -0.001832,
      0.007194,
      0.004061,
      -0.019043,
      -0.039778,
      -0.012006,
      -0.030959,
      0.024562,
      0.0195,
      0.012437,
      -0.023883,
      0.01012,
      -0.007937,
      -0.033378,
      -0.032111,
      -0.05393,
      0.026756,
      -0.023989,
      0.009259,
      -0.021726,
      -0.028087,
      -0.00664,
      -0.040192,
      0.006783,
      0.010184,
      0.021615,
      -0.002961,
      -0.029918,
      0.044311,
      0.022612,
      0.029131,
      0.004089,
      -0.00022,
      0.019123,
      0.041045,
      -0.002891,
      -0.025313,
      0.046891,
      -0.011213,
      -0.012351,
      0.012749,
      0.034356,
      0.058431,
      -0.048778,
      0.044623,
      -0.003446,
      0.013623,
      0.00324,
      0.027119,
      0.029471,
      -0.012344,
      -0.033617,
      0.025429,
      -0.006554,
      -0.025287,
      -0.016851,
      -0.030649,
      -0.011618,
      0.03216,
      0.012709,
      0.006144,
      0.025398,
      -0.00739,
      -0.003858,
      -0.031931,
      -0.009636,
      0.057157,
      0.010695,
      -0.026999,
      0.043887,
      -0.004755,
      0.021809,
      -0.009424,
      -0.004141,
      -0.019254,
      -0.049882,
      0.004727,
      0.059301,
      -0.043834,
      0.011461,
      0.018699,
      0.045347,
      0.023433,
      0.03083,
      0.02733,
      -0.006746,
      0.004967,
      -0.013157,
      0.010634,
      -0.014148,
      -0.065261,
      -0.036128,
      -0.052484,
      -0.019965,
      0.023048,
      0.021647,
      -0.051203,
      0.008505,
      0.039907,
      0.056631,
      0.018684,
      0.056988,
      0.044634,
      0.025085,
      0.008911,
      -0.031982,
      -0.032162,
      -0.026842,
      0.026458,
      0.029611,
      0.00755,
      -0.040059,
      -0.01301,
      0.005803,
      -0.01812,
      0.030474,
      0.069,
      -0.011114,
      -0.030069,
      -0.013139,
      -0.03509,
      -0.004718,
      -0.004059,
      0.056546,
      -0.039001,
      -0.002601,
      0.00558,
      -0.012266,
      0.061238,
      0.029531,
      -0.042752,
      0.001111,
      0.02823,
      -0.00923,
      -0.01227,
      0.033746,
      -0.060515,
      -0.050298,
      0.066751,
      0.007881,
      -0.011562,
      -0.039419,
      0.007003,
      0.033326,
      -0.042762,
      0.016176,
      0.031386,
      -0.035365,
      -0.051966,
      0.007288,
      0.038837,
      0.007355,
      0.005117,
      -0.016512,
      -0.047451,
      -0.021803,
      0.080122,
      0.008557,
      -0.008902,
      0.038401,
      -0.000528,
      0.050872,
      0.019678,
      -0.007309,
      -0.01541,
      -0.038015,
      0.005206,
      -0.012044,
      0.017786,
      -0.006319,
      -0.039489,
      0.014028,
      0.009091,
      -0.026021,
      0.042303,
      0.026291,
      0.022607,
      -0.043246,
      0.003208,
      0.009644,
      -0.058636,
      0.063463,
      0.026556,
      -0.002476,
      0.0011,
      -0.034497,
      -0.021833,
      0.002723,
      -0.036758,
      0.012057,
      0.023273,
      0.064473,
      -0.023133,
      -0.034646,
      -0.005779,
      -0.011042,
      0.019289,
      -0.008233,
      -0.044586,
      0.023735,
      -0.039171,
      0.042395,
      0.009295,
      0.0467,
      -0.023349,
      0.028259,
      0.011018,
      0.040535,
      0.050523,
      0.004948,
      0.005128,
      -0.041692,
      -0.006684,
      -0.045616,
      0.043694,
      -0.012348,
      -0.013643,
      0.004247,
      -0.041377,
      0.018307,
      -0.009391,
      0.048863,
      -0.011932,
      -0.01985,
      0.001502,
      -0.001153,
      0.015095,
      -0.032731,
      -0.016589,
      -0.000683,
      -0.04812,
      -0.008678,
      -0.03533,
      -0.028488,
      -0.024174,
      0.018822,
      0.005467,
      -0.026027,
      -0.035302,
      0.018736,
      0.016686,
      -0.013032,
      0.027503,
      -0.01029,
      0.038844,
      -0.043729,
      -0.025893,
      0.020216,
      0.006118,
      0.020168,
      0.042184,
      0.014895,
      0.011668,
      0.005941,
      -0.049791,
      0.026431,
      0.036013,
      -0.047563,
      0.016346,
      -0.038309,
      0.002882,
      -0.000932,
      0.014271,
      -0.002879,
      0.017632,
      -0.001631,
      0.051807,
      -0.005957,
      -0.048288,
      0.004077,
      -0.002743,
      0.002442,
      -0.060348,
      -0.011729,
      0.047111,
      -0.045311,
      -0.046021,
      0.00201,
      0.008657,
      0.044153,
      -0.026473,
      0.041643,
      -0.03448,
      -0.023241,
      0.019502,
      -0.027072,
      -0.01587,
      -0.019149,
      -0.012339,
      -0.02816,
      -0.004137,
      0.019353,
      -0.027196,
      -0.027556,
      -0.01104,
      -0.051664,
      -0.001903,
      0.013096,
      -0.028559,
      -0.043106,
      0.021985,
      0.037276,
      -0.039404,
      0.017297,
      -0.055366,
      0.013177,
      0.009497,
      0.024074,
      0.001528,
      0.038774,
      -0.01811,
      -0.020131,
      -0.003306,
      -0.012303,
      0.016325,
      -0.02652,
      -0.041695,
      -0.009334,
      -0.030202,
      0.078608,
      -0.006225,
      -0.035688,
      -0.017694,
      -0.008304,
      -0.00787,
      -0.052823,
      0.055761,
      -0.028435,
      -0.01429,
      -0.014349,
      0.001943,
      0.000786,
      -0.032415,
      0.004236,
      -0.01958,
      0.001454,
      0.041794,
      0.025359,
      0.008179,
      -0.050208,
      0.031507,
      -0.004438,
      0.012691,
      0.009965,
      -0.023078,
      -0.06712,
      -0.012104,
      -0.043476,
      0.017318,
      -0.002833,
      -0.005658,
      0.015329,
      0.02223,
      -0.00194,
      -0.013315,
      -0.003073,
      0.028925,
      0.00942,
      0.012622,
      -0.147328,
      0.022084,
      0.025705,
      -0.013276,
      -0.004379,
      0.037763,
      -0.006093,
      -0.011784,
      0.008017,
      -0.031119,
      -0.064155,
      0.018235,
      0.061615,
      -0.023828,
      -0.002877,
      0.034337,
      0.018216,
      -0.028412,
      -0.02742,
      -0.010895,
      -0.0022,
      0.001465,
      0.050872,
      -0.005326,
      0.045312,
      0.026616,
      -0.021806,
      0.003717,
      -0.027515,
      -0.033544,
      -0.030129,
      -0.017624,
      0.023377,
      0.029707,
      0.001001,
      0.003391,
      0.014812,
      -0.007908,
      0.006716,
      0.06167,
      0.01292,
      -0.002143,
      -0.034699,
      0.033968,
      -0.003806,
      0.016654,
      -0.040441,
      -0.044522,
      -0.001728,
      -0.01565,
      -0.025441,
      0.012789,
      0.019507,
      0.034487,
      -0.020861,
      -0.009681,
      -0.041416,
      -0.003232,
      -0.070823,
      0.02567,
      -0.048659,
      0.028612,
      -0.048751,
      -0.004322,
      0.000653,
      0.012802,
      -0.056265,
      -0.011508,
      0.001835,
      -0.014016,
      0.01193,
      -0.039724,
      -0.032885,
      0.036456,
      0.025962,
      -0.027042,
      0.03435,
      -0.002582,
      -0.007016,
      0.0412,
      -0.023566,
      -0.035556,
      -0.05435,
      0.068197,
      0.004796,
      0.032817,
      0.000308,
      -0.015948,
      -0.03579,
      -0.012226,
      -0.048648,
      -0.039436,
      -0.001237,
      0.02442,
      0.009945,
      0.01138,
      -0.013192,
      -0.02949,
      0.013418,
      -0.013486,
      -0.026141,
      -0.011818,
      0.000685,
      -0.004209,
      -0.021608,
      -0.020684,
      0.040063,
      0.003362,
      -0.000387,
      0.029885,
      0.003722,
      0.025241,
      -0.048246,
      -0.003181,
      -0.062603,
      -0.013729,
      -0.016184,
      0.042511,
      -0.003187,
      -0.001179,
      0.017502,
      0.019827,
      -0.031018,
      -0.033065,
      0.041423,
      0.03946,
      0.026866,
      0.002029,
      0.058573,
      -0.033962,
      0.061888,
      -0.032779,
      -0.025913,
      0.034177,
      0.007847,
      -0.018746,
      -0.054558,
      0.051365,
      0.016218,
      -0.04767,
      -0.051785,
      -0.019744,
      -0.001879,
      -0.002575,
      -0.017788,
      -0.018309,
      0.014712,
      0.034329,
      -0.03072,
      -0.037025,
      0.011407,
      -0.004686,
      -0.032334,
      0.01672,
      -0.011412,
      0.02607,
      -0.015383,
      -0.010445,
      0.001847,
      0.008059,
      0.030268,
      -0.020885,
      -0.00795,
      0.006126,
      -0.000274,
      0.043575,
      -0.019075,
      -0.012411,
      -0.032601,
      0.028691,
      -0.030837,
      0.053273,
      -0.001743,
      -0.006228,
      0.040812,
      -0.018993,
      0.00734,
      -0.027036,
      0.037541,
      -0.017715,
      0.016914,
      0.000725,
      0.062696,
      -0.003888,
      0.044529,
      -0.006276,
      0.009661,
      0.009958,
      0.04045,
      0.020644,
      -0.026866,
      0.007327,
      0.021761,
      -0.002135,
      0.026896,
      -0.037356,
      -0.012243,
      -0.028476,
      -0.003814,
      0.069295,
      0.007277,
      -0.041333,
      0.001725,
      -0.01314,
      -0.024978,
      0.053144,
      -0.044041,
      -0.024417,
      -0.026104,
      0.030225,
      0.01959,
      -0.019609,
      -0.015535,
      0.008814,
      0.001263,
      0.027179,
      0.060505,
      0.028848,
      -0.001007,
      -0.016734,
      0.015613,
      -0.002608,
      0.010724,
      -0.067073,
      -0.054813,
      -0.040097,
      0.003656,
      0.027736,
      -0.027395,
      0.018572,
      0.006512,
      -0.055503,
      0.003509,
      0.033406,
      -0.043704,
      0.017481,
      0.022433,
      0.026576,
      0.011908,
      -0.032413,
      0.023147,
      -0.010127,
      -0.001849,
      0.002219
    ]
  },
  {
    "id": "v5-client-0",
    "content": "# Feathers Client\nBreadcrumb: Feathers Client\nCovers: Typed client | Node | React Native | Module loaders | Webpack | create-react-app | Others | @feathersjs/client | When to use | Load from CDN with `<script>`\nTopics: application, create, setup, authentication, facebook, github, schema, socket.io, rest, http, transport, bun, browser, feathers client, client, configuration, errors, types, cli, generate\n\n## Typed client\n\nA Feathers application generated with Feathers v5 or later now exports a client file, including the types you defined in [schemas](./schema/index.md) on the server. For more information see the [CLI guide](../guides/cli/client.md)\n\n## Node\n\nTo connect to a Feathers server in NodeJS, install the desired client connection library (here, `socket.io-client`), alongside the Feathers core library, and the connection-specific library:\n\n```\nnpm install @feathersjs/feathers @feathersjs/socketio-client socket.io-client --save\n```\n\nThen initialize like this:\n\n```ts\nimport io from 'socket.io-client'\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\n\nconst socket = io('http://api.my-feathers-server.com')\nconst client = feathers()\n\nclient.configure(socketio(socket))\n\nconst messageService = client.service('messages')\n\nmessageService.on('created', (message: Message) => console.log('Created a message', message))\n\n// Use the messages service from the server\nmessageService.create({\n  text: 'Message from client'\n})\n```\n\n## React Native\n\nReact Native usage is the same as for the [Node client](#node). Install the required packages into your [React Native](https://facebook.github.io/react-native/) project.\n\n```bash\nnpm install @feathersjs/feathers @feathersjs/socketio-client socket.io-client\n```\n\nThen in the main application file:\n\n```ts\nimport io from 'socket.io-client'\nimport { AsyncStorage } from 'react-native'\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport authentication from '@feathersjs/authentication-client'\n\nconst socket = io('http://api.my-feathers-server.com', {\n  transports: ['websocket'],\n  forceNew: true\n})\nconst client = feathers()\n\nclient.configure(socketio(socket))\nclient.configure(\n  authentication({\n    storage: AsyncStorage\n  })\n)\n\nconst messageService = client.service('messages')\n\nmessageService.on('created', (message: Message) => console.log('Created a message', message))\n\n// Use the messages service from the server\nmessageService.create({\n  text: 'Message from client'\n})\n```\n\nSince React Native for Android doesn't handle timeouts exceeding one minute, consider setting lower values for `pingInterval` and `pingTimeout` of [Socket.io](./socketio.md) **on your server**. This will stop warnings related to this [issue](https://github.com/facebook/react-native/issues/12981). For example:\n\n```js\nimport socketio from '@feathersjs/socketio'\n\nconst app = feathers()\n\napp.configure(\n  socketio({\n    pingInterval: 10000,\n    pingTimeout: 50000\n  })\n)\n```\n\n## Module loaders\n\nFeathers client libraries work with the out-of-the-box configuration of all modern module loaders like Webpack, Parcel, Vite etc.\n\n### Webpack\n\nNo additional setup should be necessary to use the Feathers client modules in a standard configuration with Webpack.\n\n### create-react-app\n\n[create-react-app](https://github.com/facebookincubator/create-react-app) uses [Webpack](#webpack) and also no longer requires additional setup to load the individual Feathers client modules.\n\n### Others\n\nFor non-CommonJS formats (like AMD) version of Feathers and its client modules the [@feathersjs/client module](#feathers-client) can be used.\n\n## @feathersjs/client\n\n```\nnpm install @feathersjs/client --save\n```\n\n`@feathersjs/client` is a module that bundles the separate Feathers client-side modules into one file which can be loaded directly in the browser through a `<script>` tag and in most other JavaScript runtimes.\n\n> **Important:**\n> \n> If you are using a module loader like Webpack, Parcel etc., create-react-app and in React Native and Node you **should not use** `@feathersjs/client`. Use the individual client modules instead. This will give you the most modern builds and reduce bundle size and build/load time. See the [REST client](./client/rest.md) and [Socket.io client](./client/socketio.md) chapters for invidual module use.\n> \n\nHere is a table of which Feathers client module is included:\n\n| Feathers module                   | @feathersjs/client      |\n| --------------------------------- | ----------------------- |\n| @feathersjs/feathers              | feathers (default)      |\n| @feathersjs/errors                | feathers.errors         |\n| @feathersjs/rest-client           | feathers.rest           |\n| @feathersjs/socketio-client       | feathers.socketio       |\n| @feathersjs/authentication-client | feathers.authentication |\n\nWhen you are loading `@feathersjs/client` you do not have to install or load any of the other modules listed in the table above.\n\n### When to use\n\n`@feathersjs/client` can be used directly in the browser using a `<script>` tag without a module loader as well as module loaders that do not support CommonJS (like RequireJS).\n\n### Load from CDN with `<script>`\n\nBelow is an example of the scripts you would use to load `@feathersjs/client` from [unpkg.com](https://unpkg.com).\n\n```html\n<script src=\"//unpkg.com/@feathersjs/client@^5.0.0/dist/feathers.js\"></script>\n<script src=\"//unpkg.com/socket.io-client@^4.0.0/dist/socket.io.js\"></script>\n<script>\n  // Socket.io is exposed as the `io` global.\n  const socket = io('http://localhost:3030')\n  // @feathersjs/client is exposed as the `feathers` global.\n  const app = feathers()\n\n  app.configure(feathers.socketio(socket))\n  app.configure(feathers.authentication())\n\n  app.service('messages').create({\n    text: 'A new message'\n  })\n\n  // feathers.errors is an object with all of the custom error types.\n</script>\n```",
    "rawContent": "## Typed client\n\nA Feathers application generated with Feathers v5 or later now exports a client file, including the types you defined in [schemas](./schema/index.md) on the server. For more information see the [CLI guide](../guides/cli/client.md)\n\n## Node\n\nTo connect to a Feathers server in NodeJS, install the desired client connection library (here, `socket.io-client`), alongside the Feathers core library, and the connection-specific library:\n\n```\nnpm install @feathersjs/feathers @feathersjs/socketio-client socket.io-client --save\n```\n\nThen initialize like this:\n\n```ts\nimport io from 'socket.io-client'\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\n\nconst socket = io('http://api.my-feathers-server.com')\nconst client = feathers()\n\nclient.configure(socketio(socket))\n\nconst messageService = client.service('messages')\n\nmessageService.on('created', (message: Message) => console.log('Created a message', message))\n\n// Use the messages service from the server\nmessageService.create({\n  text: 'Message from client'\n})\n```\n\n## React Native\n\nReact Native usage is the same as for the [Node client](#node). Install the required packages into your [React Native](https://facebook.github.io/react-native/) project.\n\n```bash\nnpm install @feathersjs/feathers @feathersjs/socketio-client socket.io-client\n```\n\nThen in the main application file:\n\n```ts\nimport io from 'socket.io-client'\nimport { AsyncStorage } from 'react-native'\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport authentication from '@feathersjs/authentication-client'\n\nconst socket = io('http://api.my-feathers-server.com', {\n  transports: ['websocket'],\n  forceNew: true\n})\nconst client = feathers()\n\nclient.configure(socketio(socket))\nclient.configure(\n  authentication({\n    storage: AsyncStorage\n  })\n)\n\nconst messageService = client.service('messages')\n\nmessageService.on('created', (message: Message) => console.log('Created a message', message))\n\n// Use the messages service from the server\nmessageService.create({\n  text: 'Message from client'\n})\n```\n\nSince React Native for Android doesn't handle timeouts exceeding one minute, consider setting lower values for `pingInterval` and `pingTimeout` of [Socket.io](./socketio.md) **on your server**. This will stop warnings related to this [issue](https://github.com/facebook/react-native/issues/12981). For example:\n\n```js\nimport socketio from '@feathersjs/socketio'\n\nconst app = feathers()\n\napp.configure(\n  socketio({\n    pingInterval: 10000,\n    pingTimeout: 50000\n  })\n)\n```\n\n## Module loaders\n\nFeathers client libraries work with the out-of-the-box configuration of all modern module loaders like Webpack, Parcel, Vite etc.\n\n### Webpack\n\nNo additional setup should be necessary to use the Feathers client modules in a standard configuration with Webpack.\n\n### create-react-app\n\n[create-react-app](https://github.com/facebookincubator/create-react-app) uses [Webpack](#webpack) and also no longer requires additional setup to load the individual Feathers client modules.\n\n### Others\n\nFor non-CommonJS formats (like AMD) version of Feathers and its client modules the [@feathersjs/client module](#feathers-client) can be used.\n\n## @feathersjs/client\n\n```\nnpm install @feathersjs/client --save\n```\n\n`@feathersjs/client` is a module that bundles the separate Feathers client-side modules into one file which can be loaded directly in the browser through a `<script>` tag and in most other JavaScript runtimes.\n\n> **Important:**\n> \n> If you are using a module loader like Webpack, Parcel etc., create-react-app and in React Native and Node you **should not use** `@feathersjs/client`. Use the individual client modules instead. This will give you the most modern builds and reduce bundle size and build/load time. See the [REST client](./client/rest.md) and [Socket.io client](./client/socketio.md) chapters for invidual module use.\n> \n\nHere is a table of which Feathers client module is included:\n\n| Feathers module                   | @feathersjs/client      |\n| --------------------------------- | ----------------------- |\n| @feathersjs/feathers              | feathers (default)      |\n| @feathersjs/errors                | feathers.errors         |\n| @feathersjs/rest-client           | feathers.rest           |\n| @feathersjs/socketio-client       | feathers.socketio       |\n| @feathersjs/authentication-client | feathers.authentication |\n\nWhen you are loading `@feathersjs/client` you do not have to install or load any of the other modules listed in the table above.\n\n### When to use\n\n`@feathersjs/client` can be used directly in the browser using a `<script>` tag without a module loader as well as module loaders that do not support CommonJS (like RequireJS).\n\n### Load from CDN with `<script>`\n\nBelow is an example of the scripts you would use to load `@feathersjs/client` from [unpkg.com](https://unpkg.com).\n\n```html\n<script src=\"//unpkg.com/@feathersjs/client@^5.0.0/dist/feathers.js\"></script>\n<script src=\"//unpkg.com/socket.io-client@^4.0.0/dist/socket.io.js\"></script>\n<script>\n  // Socket.io is exposed as the `io` global.\n  const socket = io('http://localhost:3030')\n  // @feathersjs/client is exposed as the `feathers` global.\n  const app = feathers()\n\n  app.configure(feathers.socketio(socket))\n  app.configure(feathers.authentication())\n\n  app.service('messages').create({\n    text: 'A new message'\n  })\n\n  // feathers.errors is an object with all of the custom error types.\n</script>\n```",
    "breadcrumb": "Feathers Client",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/client.md",
    "heading": "Feathers Client",
    "subHeadings": [
      "Typed client",
      "Node",
      "React Native",
      "Module loaders",
      "Webpack",
      "create-react-app",
      "Others",
      "@feathersjs/client",
      "When to use",
      "Load from CDN with `<script>`"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text",
      "ts",
      "bash",
      "js",
      "html"
    ],
    "tokens": 1386,
    "category": "client",
    "tags": [
      "application",
      "create",
      "setup",
      "authentication",
      "facebook",
      "github",
      "schema",
      "socket.io",
      "rest",
      "http",
      "transport",
      "bun",
      "browser",
      "feathers client",
      "client",
      "configuration",
      "errors",
      "types",
      "cli",
      "generate"
    ],
    "embedding": [
      -0.024932,
      0.00729,
      -0.046871,
      0.033275,
      0.006497,
      -0.024558,
      0.0096,
      0.023488,
      -0.010448,
      0.016745,
      0.001525,
      0.00485,
      -0.040621,
      -0.011313,
      0.012503,
      0.02849,
      -0.04072,
      -0.007956,
      0.015057,
      -0.041871,
      -0.037212,
      0.000468,
      0.009844,
      0.005268,
      0.016422,
      0.009494,
      -0.009729,
      -0.035139,
      0.013725,
      -0.002119,
      0.053011,
      0.013792,
      -0.000733,
      -0.018074,
      -0.018489,
      0.000924,
      0.001877,
      0.024559,
      -0.031036,
      0.046125,
      -0.004318,
      0.005022,
      0.011173,
      0.007845,
      0.009936,
      -0.041489,
      0.027072,
      -0.013357,
      -0.007147,
      -0.017377,
      -0.038157,
      -0.006614,
      0.002358,
      -0.062687,
      0.035916,
      0.013764,
      -0.00766,
      -0.021992,
      -0.056252,
      0.011952,
      -0.025208,
      0.010011,
      -0.010976,
      -0.015784,
      0.002482,
      0.031229,
      -0.045122,
      0.003252,
      -0.022408,
      -0.038675,
      -0.018848,
      -0.010433,
      -0.005082,
      -0.010423,
      -0.048691,
      -0.02054,
      0.00398,
      0.002431,
      -0.027627,
      0.028578,
      -0.006993,
      -0.015102,
      0.026166,
      0.011233,
      0.003544,
      -0.01002,
      -0.025343,
      0.039113,
      0.040068,
      0.010552,
      -0.011241,
      -0.048208,
      0.051966,
      -0.044499,
      -0.011801,
      0.027653,
      -0.020361,
      0.009712,
      0.041776,
      0.000629,
      -0.02925,
      0.003632,
      -0.021427,
      -0.032123,
      0.015975,
      0.035262,
      0.035053,
      0.033172,
      -0.002991,
      -0.024261,
      0.011361,
      -0.000316,
      0.014149,
      -0.007791,
      -0.014531,
      -0.016241,
      0.024953,
      -0.030574,
      -0.010788,
      -0.007889,
      -0.003703,
      0.002618,
      0.046352,
      -0.032177,
      -0.026718,
      0.002863,
      -0.029822,
      0.015558,
      0.019203,
      0.012076,
      0.033295,
      -0.04118,
      -0.009928,
      0.010681,
      -0.035598,
      0.017769,
      0.033693,
      0.038508,
      -0.019545,
      -0.036086,
      0.033406,
      0.008521,
      0.006011,
      -0.014628,
      0.023509,
      -0.06373,
      0.076374,
      0.035571,
      -0.028592,
      -0.031274,
      0.005064,
      0.016597,
      0.024266,
      -0.023157,
      -0.026372,
      -0.061094,
      0.010642,
      -0.014675,
      0.052266,
      0.028358,
      -0.007352,
      0.046849,
      -0.04933,
      0.031572,
      0.04119,
      0.005441,
      0.020637,
      -0.020388,
      -0.023632,
      -0.026468,
      -0.010151,
      -0.008789,
      0.02205,
      0.011177,
      0.026052,
      0.034081,
      0.068481,
      0.02664,
      0.003705,
      -0.02499,
      -0.051801,
      0.009712,
      -0.023486,
      -0.021605,
      -0.030862,
      -0.021155,
      -0.022477,
      -0.054428,
      -0.021078,
      0.053984,
      -0.030041,
      -0.039234,
      0.025488,
      0.014022,
      0.041508,
      0.02324,
      0.026539,
      0.006562,
      0.02253,
      0.005963,
      -0.0041,
      0.017006,
      0.038864,
      0.061389,
      -0.024095,
      -0.019134,
      -0.010507,
      -0.075258,
      0.02239,
      -0.071716,
      0.014876,
      -0.057584,
      -0.021882,
      -0.030635,
      -0.030087,
      0.000373,
      -0.047915,
      0.027676,
      0.007925,
      -0.04624,
      0.031342,
      0.021236,
      -0.000165,
      0.025075,
      0.024335,
      -0.008134,
      0.04073,
      0.004567,
      -0.028849,
      -0.036399,
      -0.013138,
      0.030322,
      0.005532,
      -0.007895,
      0.04638,
      -0.015341,
      -0.035398,
      -0.01518,
      -0.012156,
      0.026317,
      0.024091,
      -0.02201,
      0.001579,
      -0.013466,
      -0.019366,
      -0.011185,
      0.0444,
      -0.002556,
      -0.02022,
      -0.019912,
      -0.006416,
      0.022395,
      0.021479,
      -0.008268,
      0.006611,
      0.021108,
      0.040059,
      -0.002136,
      0.011117,
      -0.02483,
      0.027504,
      0.021038,
      -0.01339,
      0.00845,
      0.03429,
      -0.030097,
      -0.034033,
      -0.060142,
      -0.002296,
      -0.013409,
      -0.028645,
      0.015113,
      0.017682,
      0.005203,
      -0.037392,
      -0.00142,
      -0.003128,
      -0.026766,
      0.096103,
      0.042112,
      -0.011759,
      0.050334,
      0.015486,
      0.060365,
      0.002589,
      0.004718,
      0.020976,
      -0.005542,
      0.053658,
      -0.010658,
      -0.00315,
      0.009222,
      0.077015,
      0.024449,
      -0.040169,
      0.028226,
      0.010024,
      -0.139144,
      -0.016516,
      0.053113,
      0.020501,
      -0.010194,
      0.057251,
      -0.056744,
      -0.034865,
      -0.034458,
      0.030553,
      0.005192,
      -0.067501,
      -0.015475,
      -0.015396,
      0.00906,
      0.001671,
      -0.024194,
      -0.012703,
      0.042905,
      -0.048529,
      -0.028877,
      -0.015871,
      0.033795,
      0.023916,
      0.026673,
      -0.000822,
      0.018786,
      0.040138,
      -0.006814,
      -0.000626,
      -0.019502,
      0.021855,
      0.002502,
      0.014651,
      -0.006581,
      -0.025146,
      0.003572,
      0.027564,
      0.007287,
      -0.046398,
      0.006804,
      0.065849,
      0.014733,
      -0.016797,
      0.019076,
      -0.024778,
      0.026158,
      0.022976,
      -0.018559,
      -0.044497,
      0.068748,
      -0.014146,
      0.013354,
      -0.013567,
      -0.038396,
      -0.032442,
      0.015491,
      0.045642,
      0.040322,
      -0.034921,
      -0.013102,
      0.005905,
      0.034847,
      -0.03841,
      -0.004072,
      -0.023354,
      0.021594,
      -0.000137,
      0.007853,
      -0.0358,
      0.04195,
      -0.004996,
      0.004759,
      -0.002796,
      -0.027405,
      0.022818,
      0.017303,
      -0.01253,
      -0.020081,
      -0.10944,
      -0.021416,
      0.016954,
      0.010052,
      0.014644,
      -0.043204,
      -0.025042,
      -0.037235,
      -0.014044,
      0.035611,
      0.281682,
      -0.026714,
      -0.00631,
      0.047411,
      0.077331,
      -0.050551,
      0.022957,
      0.071503,
      0.00764,
      -0.030178,
      0.02055,
      0.009341,
      -0.01336,
      -0.012304,
      -0.033814,
      -0.002408,
      -0.050566,
      0.025532,
      0.074528,
      -0.046989,
      0.004322,
      -0.046135,
      0.001587,
      0.021166,
      -0.084647,
      -0.029265,
      0.015959,
      0.057294,
      -0.067056,
      -0.005545,
      -0.002455,
      0.038734,
      0.031459,
      -0.069008,
      -0.077408,
      -0.007274,
      0.001766,
      0.005919,
      -0.012092,
      -0.022238,
      -0.020712,
      -0.012687,
      0.051392,
      -0.01747,
      -0.002435,
      -0.02377,
      -0.016483,
      0.00332,
      -0.083858,
      -0.07409,
      -0.018737,
      -0.003778,
      -0.027491,
      0.014545,
      0.005532,
      -0.02326,
      -0.00807,
      -0.01851,
      0.004242,
      -0.000133,
      0.025693,
      0.017719,
      -0.051364,
      0.055493,
      -0.01326,
      0.040396,
      0.024152,
      -0.031505,
      -0.009921,
      0.050051,
      -0.03911,
      0.014015,
      0.037205,
      -0.014223,
      -0.015219,
      0.017466,
      0.021,
      0.05118,
      -0.035783,
      0.046767,
      0.003169,
      0.008101,
      0.013843,
      0.028078,
      0.022034,
      0.021625,
      0.013022,
      0.008281,
      -0.023703,
      -0.0194,
      -0.033572,
      -0.001673,
      0.020538,
      0.032781,
      0.008646,
      0.048506,
      0.01044,
      -0.006245,
      0.004388,
      -0.018195,
      -0.001867,
      0.049317,
      0.011222,
      -0.011005,
      0.045881,
      -0.028885,
      0.00421,
      -0.001123,
      0.016791,
      0.013673,
      -0.068951,
      0.01328,
      0.044056,
      -0.011478,
      0.002319,
      -0.001713,
      0.048583,
      0.015127,
      0.028274,
      0.007349,
      -0.003577,
      -0.012203,
      0.006739,
      -0.003823,
      0.012789,
      -0.068253,
      0.014973,
      -0.066881,
      -0.012519,
      0.045122,
      0.0504,
      -0.057809,
      -0.016624,
      0.054844,
      0.048818,
      0.012064,
      0.048107,
      0.056746,
      0.008645,
      0.034625,
      -0.037658,
      -0.043008,
      -0.0034,
      0.039886,
      0.017769,
      0.069682,
      -0.038441,
      -0.014199,
      0.027765,
      -0.003763,
      0.026217,
      0.062234,
      0.018069,
      -0.012103,
      0.011473,
      -0.025299,
      0.006313,
      0.020399,
      0.011688,
      -0.02975,
      -0.032891,
      0.023374,
      0.018949,
      0.017682,
      0.037165,
      -0.01716,
      -0.009426,
      -0.021319,
      0.016865,
      -0.042784,
      -0.004927,
      -0.050949,
      -0.05459,
      0.075151,
      -0.007039,
      -0.007531,
      -0.052397,
      0.018298,
      0.042498,
      -0.038867,
      -0.010453,
      0.02099,
      -0.041005,
      -0.034925,
      0.023735,
      0.040572,
      -0.035938,
      -0.012925,
      -0.002953,
      -0.022687,
      -0.029348,
      0.078149,
      0.009526,
      -0.006442,
      0.047384,
      -0.030236,
      0.030705,
      0.042973,
      -0.002508,
      0.020807,
      -0.016618,
      0.002716,
      -0.02038,
      0.00897,
      -0.02611,
      -0.028912,
      -0.010229,
      0.035745,
      -0.061459,
      0.046181,
      0.004861,
      0.035913,
      -0.017064,
      -0.022428,
      -0.006786,
      -0.053082,
      0.08879,
      0.044081,
      -0.000423,
      0.01151,
      -0.0466,
      -0.030038,
      0.031,
      -0.00511,
      0.013941,
      -0.011845,
      0.025495,
      -0.011015,
      -0.038379,
      0.025851,
      -0.01564,
      0.036803,
      0.027138,
      -0.059102,
      0.006827,
      -0.025529,
      0.051789,
      0.009468,
      0.044244,
      -0.01321,
      0.031646,
      0.000694,
      0.028784,
      0.042443,
      -0.021815,
      0.001528,
      -0.005715,
      -0.004119,
      -0.0239,
      0.021927,
      0.012806,
      -0.011581,
      -0.002751,
      -0.015936,
      0.037197,
      0.036004,
      0.04735,
      -0.016968,
      -0.018668,
      -0.050147,
      -0.036282,
      -0.01629,
      -0.002306,
      0.003008,
      -0.025185,
      -0.041807,
      -0.001407,
      -0.029374,
      0.001849,
      -0.014981,
      -0.015461,
      -0.013447,
      -0.025231,
      -0.064739,
      0.037572,
      0.00739,
      -0.00627,
      -0.002774,
      0.012847,
      0.023245,
      -0.038479,
      0.0251,
      0.006156,
      0.005432,
      -0.001142,
      0.04188,
      0.014324,
      -0.012773,
      0.002795,
      -0.079844,
      -0.018052,
      0.024311,
      -0.04452,
      0.002211,
      -0.022101,
      -0.0185,
      -0.023415,
      0.014045,
      -0.005481,
      0.010602,
      -0.01886,
      0.024373,
      0.015006,
      -0.032481,
      -0.021209,
      0.039411,
      -0.006156,
      -0.073968,
      -0.005781,
      0.020232,
      -0.016554,
      -0.033329,
      0.00551,
      -0.019708,
      0.01439,
      -0.055882,
      0.033701,
      -0.046545,
      -0.018569,
      0.004697,
      0.012766,
      -0.007668,
      -0.02265,
      0.01128,
      -0.014143,
      -0.026473,
      0.045699,
      -0.030116,
      -0.026375,
      -0.002665,
      -0.067868,
      -0.01432,
      -0.003378,
      -0.021969,
      -0.05787,
      0.009575,
      0.035967,
      -0.022359,
      0.030018,
      -0.005444,
      -0.002974,
      0.019085,
      0.034653,
      -0.0162,
      0.035711,
      -0.013897,
      -0.021997,
      -0.011186,
      -0.002487,
      0.011447,
      0.01585,
      -0.045226,
      -0.01231,
      -0.034837,
      0.056113,
      -0.024232,
      -0.070184,
      0.000362,
      0.000411,
      0.015382,
      -0.032471,
      0.05367,
      -0.004696,
      -0.034519,
      0.021003,
      -0.01124,
      0.016659,
      -0.024153,
      0.008469,
      -0.004343,
      -0.0242,
      0.032584,
      0.018041,
      0.01594,
      -0.009619,
      0.017879,
      -0.012299,
      0.020938,
      0.001511,
      -0.014857,
      -0.057867,
      0.006882,
      -0.036422,
      0.007927,
      -0.002682,
      0.011471,
      -0.035538,
      0.03742,
      0.017499,
      -0.018937,
      0.017609,
      0.02381,
      -0.019623,
      0.012855,
      -0.130973,
      0.016195,
      0.022638,
      0.016118,
      -0.018681,
      0.018107,
      -0.007129,
      -0.005746,
      0.017027,
      -0.02407,
      -0.013004,
      -0.033712,
      0.031274,
      -0.040249,
      0.018292,
      0.018381,
      0.014604,
      -0.019346,
      0.017954,
      -0.029107,
      0.016026,
      0.023658,
      0.042382,
      -0.025669,
      0.006003,
      -0.015057,
      -0.004814,
      0.011714,
      -0.00658,
      0.032009,
      0.003397,
      -0.003044,
      0.013018,
      0.032763,
      -0.004997,
      0.021982,
      -0.016184,
      0.017825,
      -0.023024,
      0.02586,
      -0.028799,
      0.024239,
      -0.032494,
      0.033675,
      0.03261,
      0.035773,
      -0.040811,
      -0.051071,
      0.008703,
      0.005072,
      -0.026876,
      0.026205,
      0.03965,
      0.013354,
      -0.002038,
      -0.001994,
      -0.039813,
      -0.020299,
      -0.058774,
      0.008855,
      -0.021565,
      0.028353,
      -0.041823,
      -0.021955,
      -0.012864,
      -0.008962,
      -0.032176,
      0.020544,
      -0.005845,
      -0.020843,
      -0.025199,
      -0.062544,
      -0.032805,
      0.022943,
      0.031292,
      -0.007059,
      0.02453,
      -0.003351,
      -0.039793,
      0.005737,
      -0.003052,
      -0.01089,
      -0.049726,
      0.058571,
      0.06231,
      0.026789,
      0.011244,
      0.026231,
      -0.003319,
      -0.004929,
      -0.023454,
      -0.05413,
      -0.011575,
      0.036927,
      -0.012913,
      0.039939,
      -0.013097,
      -0.017912,
      -0.014393,
      -0.016694,
      -0.043413,
      -0.007115,
      0.025911,
      -0.034921,
      -0.002914,
      0.00188,
      0.027201,
      0.006374,
      -0.00854,
      0.021344,
      0.003385,
      -0.010622,
      -0.019102,
      -0.004222,
      -0.097189,
      -0.001059,
      -0.006567,
      0.026968,
      -0.0283,
      -0.022043,
      -0.017309,
      0.032275,
      -0.015156,
      -0.0337,
      0.024178,
      0.005033,
      0.052703,
      -0.016499,
      0.053002,
      -0.007275,
      0.015947,
      -0.028543,
      -0.029592,
      0.014927,
      0.037084,
      0.005251,
      -0.075715,
      0.056312,
      -0.002522,
      -0.02982,
      -0.04642,
      0.023065,
      -0.020449,
      -0.010479,
      -0.019776,
      -0.028327,
      0.01177,
      0.012386,
      -0.021006,
      -0.014961,
      -0.018146,
      0.001187,
      -0.025756,
      0.00314,
      -0.017305,
      0.034622,
      0.002137,
      -0.005659,
      -0.007347,
      0.03638,
      0.021195,
      -0.031551,
      0.004328,
      0.026773,
      0.004782,
      0.021309,
      -0.035544,
      -0.024306,
      -0.014589,
      0.005784,
      -0.009466,
      0.055916,
      0.006582,
      -0.028411,
      0.044825,
      -0.005775,
      0.022204,
      -0.026227,
      0.021379,
      -0.015438,
      0.017933,
      0.021608,
      0.039367,
      -0.000122,
      0.048162,
      0.008584,
      -0.020307,
      0.011701,
      0.025478,
      0.009176,
      -0.031786,
      -0.016427,
      0.023385,
      -0.006412,
      0.002916,
      -0.02288,
      -0.000204,
      -0.01386,
      0.000044,
      0.096484,
      0.002755,
      -0.02058,
      0.016611,
      -0.00387,
      -0.008951,
      0.044857,
      -0.047438,
      -0.003013,
      0.01922,
      0.030117,
      -0.006868,
      0.007588,
      -0.024706,
      0.007682,
      0.003179,
      -0.007705,
      0.026634,
      0.010081,
      -0.043551,
      -0.025019,
      0.029101,
      0.004998,
      -0.003105,
      -0.059603,
      -0.035016,
      -0.007869,
      -0.017228,
      -0.007602,
      -0.020601,
      -0.009936,
      0.011489,
      -0.03766,
      0.005994,
      0.016517,
      -0.01205,
      -0.015784,
      0.007886,
      0.042674,
      0.00581,
      -0.028448,
      0.042189,
      0.008817,
      -0.021135,
      -0.007413
    ]
  },
  {
    "id": "v5-configuration-0",
    "content": "# Configuration\nBreadcrumb: Configuration\nCovers: Usage | Configuration validation | Environment variables | Configuration directory\nTopics: application, get, setup, github, schema, typebox, validation, mongodb, http, configuration, environment variables, errors, types\n\n## Usage\n\n`app.configure(configuration())` loads the configuration from `node-config` and makes it available via `app.get()`.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport configuration from '@feathersjs/configuration'\n\n// Use the application root and `config/` as the configuration folder\nconst app = feathers().configure(configuration())\n\n// Will return 3030 with  `{ \"port\": 3030 }` in config/default.json\napp.get('port')\n```\n\n> **Important:**\n> \n> Direct access to nested config properties is not supported via `app.get()`. To access a nested config property (e.g. `Customer.dbConfig.host`, use `app.get('Customer').dbConfig.host`.\n>\n\n## Configuration validation\n\n`app.configure(configuration(validator))` loads the configuration from `node-config`, makes it available via `app.get()` and validates the original configuration against a [Feathers schema](./schema/) validator when [app.setup](./application.md#setup-server) (or [app.listen](./application.md#listen-port)) is called.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport { Ajv } from '@feathersjs/schema'\nimport { Type, getValidator } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport configuration from '@feathersjs/configuration'\n\nconst configurationSchema = Type.Object(\n  {\n    port: Type.Number(),\n    host: Type.String()\n  },\n  { $id: 'Configuration', additionalProperties: false }\n)\n\nconst configurationValidator = getValidator(configurationSchema, new Ajv())\n\ntype ServiceTypes = {}\n// Use the schema type for typed `app.get` and `app.set` calls\ntype Configuration = Static<typeof configurationSchema>\n\n// Use the application root and `config/` as the configuration folder\nconst app = feathers<ServiceTypes, Configuration>().configure(configuration(configurationValidator))\n\n// Configuration will only be validated now\napp\n  .listen()\n  .then(() => console.log('Server started'))\n  .catch((error) => {\n    // Configuration validation errors will show up here\n    console.log(error.data)\n  })\n```\n\n## Environment variables\n\nAs recommended by node-config, it is possible to override the configuration with custom variables by passing a JSON object in the [`NODE_CONFIG` environment variable](https://github.com/lorenwest/node-config/wiki/Environment-Variables#node_config):\n\n```\n$ export NODE_CONFIG='{ \"port\":  8080, \"host\": \"production.app\" }'\n$ node myapp.js\n```\n\nIndividual environment variables can be used through [Custom Environment Variables](https://github.com/lorenwest/node-config/wiki/Environment-Variables#custom-environment-variables) by creating a `config/custom-environment-variables.json` like this:\n\n```js\n{\n  \"port\": \"PORT\",\n  \"mongodb\": \"MONGOHQ_URL\"\n}\n```\n\n## Configuration directory\n\nBy default, Feathers will use the `config/` directory in the root of your projectâ€™s source directory. To change this, e.g., if you have Feathers installed under the `server/` directory and you want your configuration at `server/config/`, you have to set the `NODE_CONFIG_DIR` environment variable in `app.js` _before_ importing `@feathersjs/configuration`:\n\n```\n$ export NODE_CONFIG_DIR=server/config\n$ node myapp.js\n```\n\n> **Note:**\n> \n> The NODE_CONFIG_DIR environment variable isnâ€™t used directly by @feathersjs/configuration but by the [node-config](https://github.com/lorenwest/node-config) module that it uses. For more information on configuring node-config settings, see the [Configuration Files Wiki page](https://github.com/lorenwest/node-config/wiki/Configuration-Files).\n>",
    "rawContent": "## Usage\n\n`app.configure(configuration())` loads the configuration from `node-config` and makes it available via `app.get()`.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport configuration from '@feathersjs/configuration'\n\n// Use the application root and `config/` as the configuration folder\nconst app = feathers().configure(configuration())\n\n// Will return 3030 with  `{ \"port\": 3030 }` in config/default.json\napp.get('port')\n```\n\n> **Important:**\n> \n> Direct access to nested config properties is not supported via `app.get()`. To access a nested config property (e.g. `Customer.dbConfig.host`, use `app.get('Customer').dbConfig.host`.\n>\n\n## Configuration validation\n\n`app.configure(configuration(validator))` loads the configuration from `node-config`, makes it available via `app.get()` and validates the original configuration against a [Feathers schema](./schema/) validator when [app.setup](./application.md#setup-server) (or [app.listen](./application.md#listen-port)) is called.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport { Ajv } from '@feathersjs/schema'\nimport { Type, getValidator } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport configuration from '@feathersjs/configuration'\n\nconst configurationSchema = Type.Object(\n  {\n    port: Type.Number(),\n    host: Type.String()\n  },\n  { $id: 'Configuration', additionalProperties: false }\n)\n\nconst configurationValidator = getValidator(configurationSchema, new Ajv())\n\ntype ServiceTypes = {}\n// Use the schema type for typed `app.get` and `app.set` calls\ntype Configuration = Static<typeof configurationSchema>\n\n// Use the application root and `config/` as the configuration folder\nconst app = feathers<ServiceTypes, Configuration>().configure(configuration(configurationValidator))\n\n// Configuration will only be validated now\napp\n  .listen()\n  .then(() => console.log('Server started'))\n  .catch((error) => {\n    // Configuration validation errors will show up here\n    console.log(error.data)\n  })\n```\n\n## Environment variables\n\nAs recommended by node-config, it is possible to override the configuration with custom variables by passing a JSON object in the [`NODE_CONFIG` environment variable](https://github.com/lorenwest/node-config/wiki/Environment-Variables#node_config):\n\n```\n$ export NODE_CONFIG='{ \"port\":  8080, \"host\": \"production.app\" }'\n$ node myapp.js\n```\n\nIndividual environment variables can be used through [Custom Environment Variables](https://github.com/lorenwest/node-config/wiki/Environment-Variables#custom-environment-variables) by creating a `config/custom-environment-variables.json` like this:\n\n```js\n{\n  \"port\": \"PORT\",\n  \"mongodb\": \"MONGOHQ_URL\"\n}\n```\n\n## Configuration directory\n\nBy default, Feathers will use the `config/` directory in the root of your projectâ€™s source directory. To change this, e.g., if you have Feathers installed under the `server/` directory and you want your configuration at `server/config/`, you have to set the `NODE_CONFIG_DIR` environment variable in `app.js` _before_ importing `@feathersjs/configuration`:\n\n```\n$ export NODE_CONFIG_DIR=server/config\n$ node myapp.js\n```\n\n> **Note:**\n> \n> The NODE_CONFIG_DIR environment variable isnâ€™t used directly by @feathersjs/configuration but by the [node-config](https://github.com/lorenwest/node-config) module that it uses. For more information on configuring node-config settings, see the [Configuration Files Wiki page](https://github.com/lorenwest/node-config/wiki/Configuration-Files).\n>",
    "breadcrumb": "Configuration",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/configuration.md",
    "heading": "Configuration",
    "subHeadings": [
      "Usage",
      "Configuration validation",
      "Environment variables",
      "Configuration directory"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 881,
    "category": "configuration",
    "tags": [
      "application",
      "get",
      "setup",
      "github",
      "schema",
      "typebox",
      "validation",
      "mongodb",
      "http",
      "configuration",
      "environment variables",
      "errors",
      "types"
    ],
    "embedding": [
      0.01277,
      0.025284,
      -0.069044,
      0.021912,
      -0.013434,
      -0.027538,
      0.014104,
      -0.014037,
      0.015842,
      0.01279,
      -0.002576,
      -0.003047,
      -0.01955,
      -0.008197,
      -0.013648,
      0.007029,
      -0.020352,
      -0.043522,
      -0.022046,
      -0.035144,
      -0.047116,
      -0.010197,
      0.031387,
      0.002609,
      0.030606,
      -0.015823,
      -0.009814,
      -0.037895,
      0.022429,
      0.0236,
      0.016383,
      0.011044,
      -0.038428,
      -0.029419,
      0.014503,
      -0.005899,
      0.037644,
      0.010802,
      -0.033503,
      0.026761,
      -0.003877,
      -0.014578,
      -0.00393,
      -0.012291,
      0.008508,
      -0.029317,
      0.032891,
      -0.021627,
      -0.017435,
      -0.010774,
      -0.005654,
      -0.020759,
      0.030071,
      -0.0362,
      0.046407,
      0.039522,
      -0.000672,
      -0.015017,
      -0.027931,
      -0.012684,
      -0.027423,
      0.022373,
      0.013309,
      -0.022049,
      -0.005052,
      -0.018953,
      -0.014939,
      -0.018117,
      -0.016221,
      0.005861,
      -0.009352,
      -0.004451,
      -0.057893,
      0.002815,
      -0.067204,
      0.000342,
      0.038044,
      -0.016647,
      -0.025713,
      0.026543,
      -0.020277,
      0.007362,
      0.003702,
      0.001563,
      0.026383,
      0.006853,
      -0.054823,
      0.063062,
      0.026029,
      0.015287,
      -0.018434,
      -0.029555,
      0.066758,
      -0.055624,
      -0.057533,
      0.028576,
      -0.004562,
      -0.003521,
      0.026895,
      0.018129,
      -0.014727,
      0.010413,
      0.036858,
      -0.027638,
      0.05235,
      0.034606,
      0.016653,
      -0.006198,
      -0.029243,
      -0.05458,
      0.006779,
      -0.00722,
      0.047282,
      -0.003507,
      -0.007111,
      -0.01243,
      0.000789,
      -0.044049,
      0.02415,
      -0.028001,
      0.035078,
      0.001721,
      0.032338,
      -0.007764,
      -0.029885,
      0.018791,
      -0.00548,
      0.013684,
      0.009637,
      0.021959,
      0.017405,
      -0.050742,
      -0.02691,
      -0.005302,
      0.007791,
      -0.004781,
      0.042476,
      0.022124,
      -0.025628,
      -0.068097,
      0.012904,
      0.015626,
      -0.007974,
      -0.017276,
      0.034839,
      -0.019416,
      0.086682,
      0.016816,
      -0.012227,
      -0.033645,
      -0.014049,
      0.022979,
      -0.016442,
      -0.020863,
      0.034196,
      -0.054233,
      0.017278,
      0.030995,
      0.022819,
      0.018248,
      -0.012941,
      0.041316,
      -0.058945,
      -0.014919,
      0.023869,
      -0.001345,
      0.026007,
      -0.00704,
      -0.011489,
      -0.057071,
      0.029156,
      0.013407,
      -0.011461,
      -0.029492,
      0.020144,
      0.04076,
      0.057948,
      0.030349,
      0.008212,
      -0.022038,
      -0.068224,
      0.026917,
      -0.007222,
      -0.035164,
      -0.030348,
      -0.032022,
      -0.039275,
      -0.035257,
      -0.02564,
      0.047042,
      -0.013702,
      0.016328,
      0.06704,
      0.014121,
      0.022373,
      0.031815,
      0.003465,
      -0.013981,
      0.000468,
      0.013523,
      0.012897,
      0.004605,
      0.021003,
      0.01211,
      -0.028381,
      0.029361,
      -0.046016,
      -0.062467,
      0.020688,
      -0.065755,
      0.001346,
      -0.024511,
      -0.007949,
      0.043304,
      -0.005399,
      -0.015779,
      -0.018332,
      0.013958,
      -0.024402,
      0.009055,
      -0.006872,
      -0.00868,
      0.000428,
      -0.031078,
      0.047135,
      0.01324,
      0.010945,
      -0.008955,
      0.021257,
      -0.018352,
      0.010847,
      0.000662,
      0.044857,
      -0.008393,
      0.022398,
      -0.031999,
      -0.037619,
      0.026048,
      0.011732,
      -0.009733,
      -0.006954,
      -0.018865,
      0.035212,
      0.011867,
      -0.011024,
      -0.007671,
      0.013773,
      -0.032831,
      -0.001353,
      -0.00626,
      -0.018001,
      -0.011519,
      -0.002142,
      -0.026,
      0.033683,
      0.017249,
      0.022156,
      -0.000321,
      0.016543,
      -0.010343,
      0.003153,
      0.009231,
      0.00354,
      0.023015,
      -0.008771,
      -0.016625,
      -0.038142,
      -0.022549,
      -0.001683,
      0.005345,
      -0.030059,
      0.036958,
      0.052875,
      0.01568,
      -0.027979,
      0.009901,
      0.007186,
      -0.049483,
      0.123347,
      0.028132,
      -0.007124,
      0.024877,
      0.033623,
      0.029727,
      0.013754,
      0.042715,
      -0.004594,
      -0.030066,
      0.021944,
      -0.035555,
      0.005972,
      -0.00031,
      0.054675,
      -0.005095,
      -0.002475,
      -0.025313,
      -0.007227,
      -0.150084,
      0.013682,
      0.032199,
      0.043128,
      -0.018708,
      0.023375,
      -0.08464,
      -0.017211,
      -0.062106,
      -0.018848,
      0.005633,
      -0.039779,
      -0.002773,
      0.019538,
      0.014332,
      -0.027181,
      0.04048,
      -0.008276,
      0.060855,
      -0.02228,
      -0.058918,
      -0.050249,
      0.014196,
      0.01287,
      0.035138,
      -0.031707,
      0.030606,
      -0.008585,
      -0.044915,
      0.020462,
      -0.005321,
      0.013049,
      0.006583,
      0.009589,
      -0.01649,
      0.00531,
      -0.00007,
      -0.019093,
      -0.00384,
      0.011679,
      0.022501,
      0.057396,
      -0.016764,
      0.00472,
      0.030306,
      -0.018641,
      0.062293,
      -0.011551,
      0.010037,
      0.008865,
      0.011216,
      -0.010175,
      0.005665,
      0.022477,
      -0.05371,
      0.004936,
      -0.012476,
      0.057255,
      -0.03318,
      -0.03341,
      -0.00222,
      0.006553,
      0.07333,
      0.022615,
      -0.031444,
      -0.001708,
      0.002403,
      0.011118,
      0.040439,
      -0.009528,
      0.017895,
      -0.042272,
      0.002203,
      -0.004846,
      0.004456,
      0.022146,
      0.015668,
      -0.022034,
      0.007636,
      -0.094744,
      0.059377,
      0.00017,
      0.003568,
      -0.023984,
      -0.014458,
      -0.008551,
      -0.032633,
      0.002004,
      0.02651,
      0.25694,
      0.073862,
      -0.035545,
      0.03968,
      0.040289,
      -0.041698,
      0.043792,
      0.046792,
      0.026248,
      -0.008326,
      0.016174,
      -0.004762,
      -0.015286,
      -0.007786,
      -0.011484,
      -0.004461,
      -0.064912,
      0.015908,
      0.0466,
      -0.014322,
      0.011247,
      -0.034568,
      0.016759,
      0.023805,
      -0.10453,
      -0.010829,
      0.011682,
      0.027124,
      -0.030619,
      -0.00093,
      -0.04399,
      0.012428,
      0.021631,
      -0.082653,
      -0.066895,
      0.000679,
      -0.045228,
      -0.000911,
      0.004591,
      0.016521,
      -0.009439,
      -0.002714,
      0.004433,
      0.000311,
      0.013336,
      -0.011453,
      -0.003349,
      -0.00569,
      -0.050081,
      -0.039574,
      -0.045969,
      -0.015505,
      -0.055442,
      0.02472,
      -0.052337,
      -0.035678,
      0.005183,
      -0.028822,
      -0.001932,
      0.014984,
      0.010704,
      0.010799,
      -0.067346,
      0.02818,
      -0.006093,
      0.007777,
      0.017748,
      -0.053916,
      0.008194,
      0.036469,
      -0.000132,
      0.009148,
      -0.010516,
      -0.017796,
      0.02959,
      0.0128,
      0.037641,
      0.04095,
      -0.02032,
      0.014598,
      0.002998,
      0.009037,
      -0.007374,
      0.007494,
      0.011422,
      -0.001491,
      0.006072,
      0.018212,
      0.003735,
      -0.036953,
      0.012078,
      -0.008129,
      -0.022687,
      0.065358,
      0.015875,
      0.02676,
      0.022021,
      -0.003626,
      0.020983,
      -0.026721,
      0.041004,
      0.023068,
      -0.012505,
      -0.012424,
      0.057231,
      -0.062492,
      0.021279,
      -0.004415,
      0.016812,
      0.012255,
      -0.038523,
      0.032033,
      -0.014372,
      -0.001668,
      0.012085,
      0.016895,
      0.025327,
      0.008832,
      0.016912,
      0.031081,
      0.024843,
      0.000138,
      0.003009,
      0.023945,
      -0.016589,
      -0.086918,
      -0.005151,
      -0.005618,
      -0.000247,
      0.061943,
      0.013698,
      -0.041477,
      0.007084,
      0.034743,
      0.024552,
      -0.005641,
      0.014042,
      0.085391,
      -0.013056,
      0.023988,
      0.003034,
      -0.050124,
      -0.01544,
      0.038303,
      -0.011949,
      0.035615,
      -0.019499,
      -0.001111,
      -0.003155,
      -0.027702,
      0.039177,
      0.086657,
      0.036723,
      -0.009389,
      -0.002056,
      -0.011678,
      0.012595,
      0.011827,
      -0.025221,
      -0.019831,
      -0.029427,
      0.032577,
      0.044222,
      0.034169,
      0.034001,
      -0.017138,
      -0.000054,
      -0.005162,
      -0.011961,
      -0.039738,
      -0.017647,
      -0.038169,
      -0.05287,
      0.050164,
      -0.032895,
      -0.02685,
      -0.085401,
      -0.014358,
      0.022688,
      -0.055458,
      0.026465,
      0.002774,
      -0.057525,
      -0.06063,
      -0.016382,
      0.017426,
      0.006979,
      -0.010012,
      0.040967,
      -0.010363,
      -0.017617,
      0.08507,
      0.006574,
      0.018943,
      0.087615,
      0.015101,
      0.027033,
      0.034845,
      -0.006788,
      0.009206,
      -0.004258,
      -0.0457,
      0.00893,
      0.008372,
      0.023638,
      -0.048822,
      -0.037316,
      0.005393,
      -0.046917,
      0.012004,
      -0.020884,
      0.013323,
      -0.01674,
      -0.005511,
      0.039316,
      -0.040859,
      0.07127,
      0.092736,
      0.031447,
      0.013089,
      -0.030864,
      -0.000811,
      0.000709,
      -0.041927,
      -0.002595,
      0.014684,
      0.011137,
      0.023273,
      0.00307,
      -0.024316,
      -0.004684,
      0.040858,
      -0.017693,
      -0.068143,
      -0.003293,
      -0.033225,
      0.068834,
      0.00793,
      -0.01813,
      0.022783,
      0.02827,
      -0.019822,
      0.050004,
      0.035332,
      -0.002547,
      0.027237,
      -0.022741,
      -0.047272,
      -0.036637,
      -0.006223,
      -0.012476,
      -0.023196,
      0.018852,
      -0.004568,
      0.005185,
      0.025596,
      0.015681,
      -0.04335,
      -0.035029,
      0.000958,
      -0.021902,
      0.0082,
      -0.003491,
      -0.001357,
      0.009944,
      -0.044387,
      0.019151,
      -0.084046,
      -0.020825,
      -0.00454,
      -0.005164,
      -0.000235,
      -0.025101,
      -0.050873,
      -0.000208,
      0.023199,
      0.000468,
      -0.002245,
      0.006958,
      0.006108,
      -0.039138,
      -0.042066,
      -0.006222,
      0.003092,
      0.009413,
      0.022749,
      0.020711,
      -0.037785,
      0.00921,
      -0.058972,
      0.006126,
      0.012348,
      -0.032068,
      -0.001642,
      -0.007988,
      -0.00775,
      -0.023,
      0.000834,
      0.002862,
      0.039072,
      -0.011382,
      0.030567,
      0.004835,
      -0.034234,
      0.025648,
      0.042383,
      -0.002329,
      -0.020059,
      -0.014472,
      0.039668,
      0.00915,
      -0.093952,
      0.034643,
      0.046783,
      0.00454,
      -0.0447,
      0.020803,
      -0.036515,
      -0.013073,
      -0.008968,
      0.014375,
      -0.008103,
      -0.039622,
      -0.003233,
      -0.010368,
      -0.016141,
      -0.004002,
      0.002864,
      -0.02916,
      0.046511,
      -0.052838,
      -0.008793,
      0.000168,
      -0.038365,
      -0.022755,
      0.002,
      0.023577,
      0.00246,
      0.002013,
      -0.023794,
      -0.020172,
      -0.018943,
      0.07515,
      0.000768,
      0.000717,
      -0.052736,
      0.015719,
      -0.013921,
      -0.039401,
      0.006033,
      0.005604,
      -0.023866,
      -0.011115,
      -0.040559,
      0.029502,
      -0.002253,
      -0.007543,
      0.01583,
      -0.015462,
      0.006374,
      -0.004704,
      0.009826,
      0.027662,
      -0.028562,
      0.024227,
      -0.005799,
      0.06288,
      0.010911,
      0.023271,
      -0.014018,
      -0.00494,
      0.006094,
      -0.00972,
      -0.013293,
      -0.0142,
      -0.005422,
      -0.015814,
      0.023468,
      0.002797,
      0.000935,
      -0.029952,
      -0.018411,
      -0.023515,
      -0.01659,
      -0.054154,
      0.028362,
      0.013687,
      0.023721,
      0.015854,
      0.013537,
      0.025279,
      0.021014,
      -0.025222,
      -0.003279,
      -0.132725,
      0.030165,
      0.017044,
      0.022768,
      -0.023986,
      0.002954,
      -0.00883,
      0.005986,
      -0.019136,
      -0.035649,
      -0.04388,
      -0.006771,
      0.029702,
      0.015002,
      0.024695,
      0.012189,
      -0.025479,
      -0.004395,
      -0.017286,
      0.010883,
      -0.021268,
      0.009048,
      0.035402,
      -0.011835,
      0.031914,
      -0.013304,
      -0.036088,
      -0.004056,
      -0.012825,
      0.011461,
      -0.016917,
      -0.004869,
      -0.020947,
      0.035431,
      -0.031195,
      0.059402,
      -0.000223,
      0.028342,
      -0.037748,
      0.024667,
      -0.032391,
      0.028251,
      -0.01422,
      0.036566,
      0.022053,
      0.081433,
      -0.007029,
      -0.069142,
      -0.01553,
      -0.005034,
      -0.025109,
      0.031257,
      -0.044905,
      0.035451,
      -0.034964,
      -0.009253,
      -0.009287,
      -0.028627,
      -0.066974,
      -0.008321,
      -0.006603,
      0.023541,
      -0.013526,
      -0.051165,
      -0.001075,
      0.01089,
      -0.043217,
      0.017915,
      -0.011631,
      0.005747,
      -0.011594,
      -0.014955,
      -0.036638,
      0.014382,
      0.025493,
      -0.025146,
      0.037586,
      -0.045774,
      0.001205,
      0.001938,
      -0.042545,
      -0.033194,
      -0.044065,
      0.067871,
      0.082101,
      -0.004582,
      0.013502,
      0.009986,
      0.01093,
      -0.018642,
      -0.046215,
      -0.04905,
      -0.003054,
      0.043773,
      -0.005785,
      0.047352,
      -0.025563,
      -0.038853,
      -0.02367,
      -0.026905,
      -0.022754,
      0.018273,
      0.021945,
      0.009973,
      0.00218,
      0.004942,
      0.018101,
      0.010854,
      -0.006971,
      -0.012093,
      0.036885,
      -0.022995,
      -0.022228,
      0.00329,
      -0.060375,
      0.018864,
      -0.00962,
      0.045603,
      -0.045162,
      -0.015459,
      0.002728,
      -0.014166,
      -0.041171,
      -0.022524,
      0.021934,
      -0.02664,
      0.025458,
      -0.005361,
      0.062985,
      -0.036459,
      0.011969,
      -0.024858,
      -0.020125,
      0.023487,
      0.028868,
      -0.009944,
      -0.078836,
      0.05639,
      -0.009276,
      -0.023236,
      -0.022996,
      -0.045377,
      -0.011275,
      0.000303,
      -0.020284,
      -0.010565,
      0.014539,
      -0.007784,
      -0.025306,
      -0.006871,
      0.002512,
      -0.035077,
      -0.045302,
      0.043708,
      -0.014966,
      0.014018,
      -0.018054,
      0.02474,
      -0.012718,
      0.069562,
      0.01888,
      -0.0114,
      0.010736,
      0.025958,
      -0.011383,
      0.015281,
      -0.000192,
      -0.018821,
      -0.060489,
      0.017169,
      0.04048,
      0.0507,
      -0.017753,
      0.003505,
      0.041567,
      0.017637,
      -0.004209,
      -0.029998,
      0.033274,
      0.019745,
      0.024862,
      0.010999,
      0.058048,
      0.01257,
      0.03071,
      0.027478,
      0.015238,
      0.006135,
      -0.010319,
      -0.003941,
      -0.022242,
      -0.009208,
      0.026736,
      0.010283,
      0.00322,
      -0.011466,
      0.0134,
      -0.016594,
      -0.011333,
      0.035426,
      0.0453,
      -0.031403,
      -0.007652,
      -0.005687,
      0.000072,
      -0.009397,
      -0.01366,
      -0.00051,
      0.039893,
      0.049142,
      -0.037895,
      0.020016,
      -0.001817,
      0.048357,
      -0.015114,
      0.043375,
      0.028835,
      -0.029677,
      -0.021382,
      -0.036262,
      0.02559,
      0.010061,
      0.019811,
      -0.066769,
      -0.04644,
      -0.012479,
      0.0173,
      -0.007497,
      0.011366,
      -0.011909,
      -0.046318,
      -0.00669,
      0.029572,
      -0.001983,
      0.055421,
      -0.004378,
      0.011783,
      0.034458,
      -0.011839,
      0.000397,
      0.028921,
      -0.013757,
      0.031684,
      -0.035366
    ]
  },
  {
    "id": "v5-adapters-0",
    "content": "# Overview\nBreadcrumb: Overview\nCovers: Core Adapters | Community Adapters\nTopics: database, adapter, mongodb, postgresql, knex, memory, publish\n\n## Core Adapters\n\nThe following data storage adapters are available in Feathers core\n\n| Core Package         | Supported Data Stores                                                                                          |\n| -------------------- | -------------------------------------------------------------------------------------------------------------- |\n| [Memory](./memory)   | Memory                                                                                                         |\n| [MongoDB](./mongodb) | MongoDB                                                                                                        |\n| [SQL (Knex)](./knex) | MySQL<br/> MariaDB <br/> PostgreSQL<br/> CockroachDB<br/> SQLite<br/> Amazon Redshift<br/> OracleDB<br/> MSSQL |\n\n## Community Adapters\n\nThere are also many community maintained adapters for other databases and ORMs which can be found on the [Ecosystem page](/ecosystem/?cat=Database&sort=lastPublish).",
    "rawContent": "## Core Adapters\n\nThe following data storage adapters are available in Feathers core\n\n| Core Package         | Supported Data Stores                                                                                          |\n| -------------------- | -------------------------------------------------------------------------------------------------------------- |\n| [Memory](./memory)   | Memory                                                                                                         |\n| [MongoDB](./mongodb) | MongoDB                                                                                                        |\n| [SQL (Knex)](./knex) | MySQL<br/> MariaDB <br/> PostgreSQL<br/> CockroachDB<br/> SQLite<br/> Amazon Redshift<br/> OracleDB<br/> MSSQL |\n\n## Community Adapters\n\nThere are also many community maintained adapters for other databases and ORMs which can be found on the [Ecosystem page](/ecosystem/?cat=Database&sort=lastPublish).",
    "breadcrumb": "Overview",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/databases/adapters.md",
    "heading": "Overview",
    "subHeadings": [
      "Core Adapters",
      "Community Adapters"
    ],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 242,
    "category": "databases",
    "tags": [
      "database",
      "adapter",
      "mongodb",
      "postgresql",
      "knex",
      "memory",
      "publish"
    ],
    "embedding": [
      0.0124,
      0.009009,
      -0.061996,
      0.013588,
      -0.037823,
      -0.075113,
      0.007242,
      0.013078,
      0.040529,
      -0.028309,
      -0.008278,
      -0.030606,
      -0.039664,
      0.005015,
      0.018974,
      0.025597,
      -0.032349,
      -0.034782,
      -0.015224,
      -0.033228,
      -0.013316,
      -0.003674,
      0.043264,
      -0.001659,
      -0.012348,
      -0.005492,
      -0.036446,
      -0.009482,
      0.015334,
      0.037128,
      -0.027346,
      0.020325,
      0.038445,
      0.024631,
      -0.002083,
      -0.024361,
      0.023566,
      0.010958,
      -0.037426,
      0.018855,
      0.01171,
      -0.004429,
      0.032577,
      -0.012093,
      -0.007024,
      -0.051952,
      0.007341,
      -0.004309,
      0.009436,
      -0.017725,
      -0.051672,
      -0.008513,
      -0.015732,
      -0.033557,
      0.01124,
      0.015292,
      -0.066589,
      -0.007955,
      -0.087197,
      0.033447,
      -0.026869,
      0.012276,
      -0.000166,
      0.018664,
      -0.021431,
      0.048723,
      0.011359,
      0.011537,
      -0.01665,
      -0.037006,
      -0.013357,
      0.007626,
      0.015389,
      0.006663,
      -0.028993,
      -0.003084,
      0.038463,
      0.002473,
      -0.022276,
      0.039891,
      0.00271,
      -0.007065,
      0.004331,
      -0.006759,
      -0.005059,
      0.035087,
      -0.08282,
      0.019997,
      0.029633,
      0.048063,
      -0.00911,
      -0.009067,
      0.029752,
      -0.049557,
      -0.063535,
      0.024758,
      -0.022209,
      0.031618,
      0.044499,
      0.016419,
      0.003457,
      0.030571,
      0.007922,
      0.007057,
      0.045963,
      0.021937,
      0.020982,
      0.004338,
      0.000082,
      -0.016035,
      0.00279,
      -0.00793,
      0.032569,
      -0.008874,
      0.010983,
      -0.059695,
      0.001836,
      -0.051154,
      0.023535,
      -0.022745,
      -0.033406,
      0.035985,
      0.063335,
      -0.02517,
      0.008617,
      -0.010421,
      -0.010718,
      0.030468,
      0.013333,
      -0.015424,
      0.039636,
      -0.019154,
      0.0144,
      -0.016324,
      -0.023267,
      -0.043568,
      0.023298,
      0.02641,
      -0.008399,
      -0.05413,
      0.016423,
      -0.040626,
      0.016962,
      0.007561,
      0.02905,
      0.025015,
      0.050184,
      0.034003,
      -0.03138,
      -0.067794,
      0.040125,
      -0.00273,
      -0.008525,
      -0.044822,
      -0.002342,
      0.002723,
      0.035216,
      0.049376,
      0.019058,
      0.001992,
      -0.057445,
      0.001367,
      -0.011077,
      0.025949,
      0.049182,
      -0.006053,
      0.052713,
      0.000391,
      -0.012216,
      -0.035929,
      -0.006884,
      0.002972,
      0.006125,
      0.019344,
      0.038138,
      0.017336,
      0.043828,
      0.023937,
      0.044471,
      -0.022319,
      0.018362,
      -0.034863,
      0.004081,
      -0.063435,
      -0.005682,
      -0.0331,
      -0.025924,
      -0.052406,
      -0.008321,
      0.053465,
      0.006882,
      0.002292,
      0.026153,
      -0.030605,
      0.051924,
      0.032549,
      -0.013952,
      -0.007095,
      -0.011447,
      0.011141,
      0.025443,
      0.049221,
      0.023095,
      0.028157,
      -0.036759,
      -0.01642,
      -0.016517,
      -0.005262,
      -0.039925,
      -0.048072,
      0.016571,
      0.013583,
      -0.054461,
      0.013164,
      -0.031053,
      -0.031176,
      -0.032239,
      -0.051844,
      -0.003082,
      -0.054579,
      -0.014429,
      0.002581,
      -0.035122,
      0.006528,
      0.01592,
      -0.045966,
      0.063771,
      0.017269,
      0.02364,
      -0.052373,
      0.006258,
      0.042193,
      0.038385,
      -0.002739,
      0.004838,
      -0.013327,
      -0.036704,
      0.017503,
      0.027906,
      0.00908,
      -0.035085,
      -0.041063,
      0.006688,
      0.007445,
      -0.029448,
      -0.01392,
      -0.002865,
      0.013851,
      0.001606,
      0.052471,
      -0.010559,
      0.010877,
      -0.013859,
      -0.024236,
      0.011734,
      -0.031576,
      0.053363,
      -0.002969,
      0.001597,
      -0.028139,
      0.024564,
      0.045075,
      0.004057,
      0.015155,
      0.025013,
      0.020059,
      -0.012829,
      -0.010812,
      0.019107,
      0.010417,
      -0.027472,
      -0.01158,
      0.035895,
      0.01914,
      0.032105,
      0.037059,
      -0.025248,
      -0.025604,
      0.102767,
      0.05223,
      -0.001759,
      0.018245,
      0.036402,
      -0.006215,
      0.013178,
      0.004883,
      0.018368,
      0.000971,
      -0.033271,
      -0.058858,
      0.016528,
      0.02056,
      0.040483,
      0.011807,
      -0.02904,
      0.001818,
      -0.009308,
      -0.163931,
      0.041107,
      0.003719,
      0.023607,
      -0.006403,
      0.007915,
      -0.000239,
      -0.003493,
      -0.076219,
      0.007345,
      -0.007289,
      -0.066084,
      -0.013024,
      -0.010097,
      0.014084,
      -0.0048,
      0.048029,
      -0.009701,
      0.052424,
      -0.043755,
      -0.025235,
      -0.094977,
      0.012211,
      0.062231,
      0.024957,
      -0.05084,
      0.078847,
      0.024747,
      -0.040237,
      -0.009644,
      -0.010462,
      -0.008907,
      0.028362,
      0.01751,
      -0.003676,
      -0.002285,
      -0.024356,
      0.001297,
      0.002696,
      -0.064191,
      0.038661,
      0.055788,
      -0.000982,
      -0.006463,
      0.030366,
      -0.010334,
      0.012022,
      0.022393,
      -0.059348,
      -0.041381,
      0.026378,
      -0.03784,
      0.03182,
      -0.012276,
      -0.049028,
      0.006825,
      -0.014433,
      0.04977,
      0.026201,
      -0.015574,
      0.005997,
      0.016855,
      0.057326,
      -0.020613,
      -0.054251,
      -0.027702,
      0.041937,
      -0.007975,
      0.025378,
      -0.046248,
      0.02898,
      0.00015,
      0.012884,
      -0.012597,
      -0.028936,
      0.013201,
      -0.043723,
      -0.010079,
      -0.052275,
      -0.09982,
      0.001216,
      0.001941,
      0.010342,
      -0.015589,
      -0.036123,
      0.021855,
      -0.02166,
      -0.003083,
      0.050191,
      0.237457,
      0.017221,
      -0.031363,
      0.023427,
      0.028598,
      -0.018132,
      0.032889,
      0.008351,
      0.012903,
      -0.006085,
      0.039887,
      0.020275,
      0.012051,
      -0.010827,
      0.013391,
      0.003265,
      -0.052003,
      -0.005089,
      0.027179,
      -0.028885,
      -0.001,
      -0.027155,
      0.013453,
      0.036383,
      -0.024769,
      -0.015424,
      -0.007899,
      0.041587,
      -0.040578,
      0.036547,
      -0.041908,
      0.005516,
      0.018221,
      -0.044478,
      -0.052216,
      -0.001439,
      -0.015305,
      0.018114,
      -0.021368,
      0.027308,
      -0.029571,
      -0.013432,
      0.013007,
      0.002934,
      -0.044014,
      -0.039424,
      0.023712,
      0.009206,
      -0.017751,
      -0.004256,
      -0.055036,
      -0.051256,
      0.007334,
      -0.003778,
      0.007112,
      -0.01793,
      -0.028761,
      -0.029658,
      -0.023072,
      0.0559,
      0.037157,
      -0.020004,
      -0.059468,
      0.006527,
      -0.01001,
      -0.001717,
      0.047196,
      -0.020814,
      -0.02662,
      0.034223,
      0.027696,
      0.021909,
      0.017675,
      -0.027741,
      0.018821,
      0.026656,
      0.006367,
      0.093244,
      -0.039027,
      0.021527,
      -0.005624,
      -0.034483,
      -0.013761,
      -0.01458,
      0.020699,
      0.009478,
      -0.003027,
      0.02486,
      0.007726,
      -0.050276,
      -0.01535,
      -0.01501,
      0.000404,
      0.039712,
      0.041014,
      -0.001939,
      0.018988,
      0.006919,
      -0.005313,
      -0.041332,
      0.012007,
      -0.008799,
      -0.01251,
      -0.042615,
      0.010737,
      -0.020061,
      -0.002223,
      0.050294,
      0.00208,
      -0.002093,
      -0.034524,
      0.064708,
      -0.059873,
      -0.031601,
      0.054311,
      -0.008507,
      0.071732,
      0.024873,
      0.045633,
      0.011541,
      -0.01376,
      0.029654,
      -0.018819,
      -0.010935,
      -0.001073,
      -0.032948,
      -0.022984,
      0.01398,
      -0.008544,
      0.036215,
      0.048416,
      -0.055107,
      -0.014602,
      0.016389,
      -0.037563,
      -0.028001,
      -0.00124,
      0.020777,
      -0.021148,
      0.017364,
      -0.027002,
      0.005738,
      -0.002684,
      0.00042,
      -0.019985,
      -0.007958,
      0.05018,
      0.012191,
      0.018686,
      0.010068,
      0.016867,
      0.08982,
      0.02744,
      -0.041011,
      -0.005151,
      -0.025149,
      -0.023952,
      0.056558,
      0.036515,
      -0.015435,
      -0.033661,
      -0.005554,
      0.031897,
      0.012515,
      0.04255,
      -0.001146,
      0.008446,
      0.062485,
      -0.032475,
      -0.053888,
      -0.032097,
      -0.035058,
      -0.038553,
      0.032392,
      -0.008307,
      -0.018348,
      -0.034834,
      -0.031531,
      0.017051,
      -0.015274,
      0.021312,
      0.000523,
      -0.026949,
      -0.07804,
      -0.009923,
      0.080732,
      -0.029646,
      -0.011248,
      -0.00239,
      -0.009512,
      -0.010003,
      0.069802,
      0.006093,
      0.018116,
      0.031097,
      0.019096,
      0.056092,
      0.023999,
      0.015842,
      -0.032843,
      -0.026294,
      -0.048356,
      0.02389,
      -0.001608,
      -0.022296,
      -0.024588,
      -0.006996,
      0.006114,
      -0.006955,
      0.017426,
      0.001802,
      0.003357,
      -0.039879,
      -0.000287,
      0.030628,
      -0.006003,
      0.035925,
      0.041694,
      -0.032753,
      -0.006692,
      0.003647,
      0.007248,
      0.005357,
      -0.043093,
      -0.028439,
      0.023316,
      0.002842,
      -0.000866,
      0.025481,
      -0.007534,
      -0.000814,
      0.041365,
      -0.012483,
      -0.053413,
      0.007497,
      0.019842,
      0.045366,
      0.005641,
      0.009955,
      -0.021086,
      -0.000691,
      0.023894,
      -0.019716,
      0.054696,
      -0.003638,
      -0.016645,
      -0.023662,
      0.0185,
      -0.024512,
      -0.019016,
      -0.026049,
      -0.016779,
      0.035116,
      0.022303,
      -0.000018,
      0.03351,
      0.067299,
      -0.012875,
      -0.002295,
      -0.042588,
      -0.039123,
      0.028937,
      -0.007009,
      -0.013981,
      -0.031063,
      0.006772,
      0.025902,
      -0.047502,
      -0.006217,
      0.014408,
      0.007254,
      -0.008971,
      -0.026657,
      -0.03483,
      0.02485,
      -0.026148,
      -0.038877,
      0.00147,
      0.004977,
      -0.018718,
      -0.053649,
      0.019208,
      0.029274,
      -0.011704,
      -0.003841,
      0.041581,
      0.070629,
      -0.008989,
      -0.01769,
      -0.056207,
      0.028664,
      0.029263,
      -0.065316,
      -0.020603,
      -0.04151,
      0.011909,
      0.003487,
      -0.009123,
      -0.0403,
      0.00924,
      -0.00059,
      0.017425,
      -0.013687,
      0.000218,
      0.002057,
      0.015251,
      -0.005268,
      -0.065878,
      0.03159,
      0.019216,
      -0.009159,
      0.000202,
      0.0213,
      -0.022481,
      0.043968,
      -0.022329,
      0.076556,
      -0.042513,
      0.013784,
      -0.002291,
      0.0018,
      0.000501,
      -0.020056,
      0.010711,
      0.013861,
      -0.021508,
      0.01313,
      0.006112,
      0.004744,
      0.00387,
      -0.026763,
      -0.005839,
      0.012919,
      -0.014987,
      0.046161,
      -0.016664,
      0.061297,
      -0.032864,
      0.000975,
      0.008015,
      -0.015714,
      0.002312,
      0.098904,
      -0.019337,
      -0.008031,
      -0.002092,
      -0.01322,
      0.001364,
      -0.028874,
      -0.002316,
      0.010962,
      -0.030901,
      -0.038053,
      -0.019039,
      0.026096,
      -0.033992,
      -0.043607,
      -0.006079,
      0.002929,
      0.004026,
      -0.023501,
      0.030103,
      -0.020312,
      -0.023697,
      0.030433,
      -0.015505,
      0.011568,
      -0.030443,
      -0.014103,
      -0.028259,
      -0.018033,
      0.002647,
      0.019529,
      0.0316,
      -0.031038,
      0.030376,
      -0.012366,
      0.047918,
      0.019157,
      -0.035953,
      -0.009547,
      -0.045075,
      -0.003454,
      -0.038659,
      0.00041,
      0.010072,
      -0.007884,
      -0.03095,
      0.021038,
      0.030059,
      0.045858,
      0.014621,
      0.014029,
      -0.001831,
      -0.133158,
      -0.003423,
      -0.013858,
      0.020792,
      -0.037462,
      -0.005152,
      -0.014202,
      -0.016279,
      -0.00302,
      -0.04051,
      -0.054483,
      0.01451,
      0.027724,
      -0.00434,
      -0.001127,
      0.015116,
      -0.001037,
      -0.005935,
      0.02144,
      0.023776,
      -0.00525,
      -0.019615,
      0.03001,
      0.002375,
      0.001344,
      0.056391,
      0.013232,
      -0.017318,
      -0.002106,
      0.011499,
      0.038705,
      -0.020678,
      0.039421,
      0.046362,
      0.001514,
      0.008101,
      -0.007701,
      -0.028257,
      -0.028868,
      0.006377,
      -0.016064,
      0.007768,
      -0.00075,
      0.03091,
      -0.003551,
      0.019733,
      -0.025164,
      -0.052004,
      -0.020607,
      0.005579,
      -0.033768,
      -0.004259,
      -0.055132,
      -0.009619,
      0.006059,
      -0.039389,
      -0.035531,
      -0.007458,
      -0.02681,
      0.05757,
      -0.009818,
      0.042052,
      0.006292,
      -0.073062,
      -0.005874,
      0.008543,
      -0.043686,
      0.053085,
      -0.009891,
      0.057328,
      0.014688,
      -0.051126,
      0.034747,
      -0.01246,
      -0.002107,
      -0.009969,
      0.010396,
      -0.007912,
      -0.026469,
      -0.012458,
      0.005186,
      0.026682,
      -0.049359,
      0.024816,
      0.028847,
      0.006287,
      -0.030322,
      -0.016008,
      -0.023996,
      -0.011458,
      -0.051679,
      -0.049777,
      -0.004779,
      -0.006065,
      -0.060081,
      0.002993,
      -0.035268,
      -0.012784,
      0.000574,
      0.002621,
      0.010458,
      -0.012399,
      -0.010944,
      0.022019,
      -0.013265,
      0.022691,
      0.020539,
      -0.029195,
      0.015287,
      0.008821,
      0.026905,
      0.014149,
      -0.007668,
      0.000462,
      -0.065183,
      -0.014175,
      0.016043,
      0.025217,
      -0.03684,
      -0.009823,
      0.006491,
      0.043567,
      0.00037,
      -0.020155,
      0.031769,
      0.075715,
      -0.02107,
      -0.013348,
      0.059887,
      -0.00019,
      0.005746,
      -0.044246,
      -0.008979,
      0.020167,
      0.022357,
      -0.007552,
      -0.054877,
      0.063759,
      -0.044836,
      -0.045538,
      -0.034516,
      -0.046192,
      -0.026893,
      -0.026567,
      -0.01627,
      0.010437,
      -0.002884,
      -0.009286,
      -0.027177,
      -0.011728,
      0.00372,
      -0.019871,
      0.009591,
      0.058242,
      0.003092,
      0.01401,
      0.007205,
      -0.010812,
      -0.037084,
      0.069196,
      0.022515,
      -0.04404,
      -0.016538,
      0.00255,
      -0.012668,
      0.005695,
      0.02353,
      -0.009094,
      -0.018336,
      0.002287,
      0.010191,
      0.049526,
      -0.005286,
      -0.037955,
      0.046988,
      -0.021111,
      0.032407,
      -0.006773,
      0.058746,
      0.018806,
      0.016164,
      0.021228,
      0.065584,
      0.034163,
      -0.003568,
      0.00781,
      -0.011919,
      0.013103,
      0.000238,
      0.057357,
      -0.013901,
      0.012875,
      0.01434,
      0.012431,
      0.007085,
      -0.020103,
      0.026417,
      -0.013203,
      0.001041,
      0.043552,
      -0.044285,
      -0.028489,
      0.007155,
      -0.005326,
      0.000589,
      0.022934,
      -0.025456,
      -0.039887,
      0.036072,
      0.040631,
      0.001854,
      -0.031048,
      0.008523,
      0.010958,
      0.016888,
      -0.023789,
      -0.014512,
      0.01232,
      -0.019028,
      -0.029727,
      0.032607,
      0.014223,
      -0.024904,
      -0.022164,
      -0.053149,
      -0.013824,
      0.03882,
      -0.011098,
      0.000952,
      0.035188,
      -0.00201,
      -0.056942,
      0.000332,
      0.007963,
      0.048137,
      -0.021473,
      -0.034012,
      0.021427,
      0.007959,
      0.021306,
      0.03512,
      0.035773,
      -0.04804,
      -0.002092
    ]
  },
  {
    "id": "v5-common-0",
    "content": "# Common API\nBreadcrumb: Common API\nCovers: Initialization | `new <Name>Service(options)` | Options | Pagination | params.adapter | params.paginate | Extending Adapters | Classes | Service methods | constructor(options) | Methods without hooks | adapter.find(params) | adapter.get(id, params) | adapter.create(data, params) | adapter.update(id, data, params) | adapter.patch(id, data, params) | adapter.remove(id, params)\nTopics: hooks, services, application, context, params, find, get, create, update, patch, remove, github, schema, validators, database, adapter, pagination, querying, events, http, client, cli, test, custom service\n\n## Initialization\n\n\n\n### `new <Name>Service(options)`\n\nEach adapter exports a `<Name>Service` class that can be exported and extended.\n\n```ts\nimport { NameService } from 'feathers-<name>'\n\napp.use('/messages', new NameService())\napp.use('/messages', new NameService({ id, events, paginate }))\n```\n\n### Options\n\nThe following options are available for all database adapters:\n\n- `id {string}` (_optional_) - The name of the id field property (usually set by default to `id` or `_id`).\n- `paginate {Object}` (_optional_) - A [pagination object](#pagination) containing a `default` and `max` page size\n- `multi {string[]|boolean}` (_optional_, default: `false`) - Allow `create` with arrays and `patch` and `remove` with id `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)\n\nThe following legacy options are still available but should be avoided:\n\n- `events {string[]}` (_optional_, **deprecated**) - A list of [custom service events](../events.md#custom-events) sent by this service. Use the `events` option when [registering the service with app.use](../application.md#usepath-service--options) instead.\n- `operators {string[]}` (_optional_, **deprecated**) - A list of additional non-standard query parameters to allow (e.g `[ '$regex' ]`). Not necessary when using a [query schema](../schema/validators.md#validatequery)\n- `filters {Object}` (_optional_, **deprecated**) - An object of additional top level query filters, e.g. `{ $populate: true }`. Can also be a converter function like `{ $ignoreCase: (value) => value === 'true' ? true : false }`. Not necessary when using a [query schema](../schema/validators.md#validatequery)\n\nFor database specific options see the adapter documentation.\n\n## Pagination\n\nWhen initializing an adapter you can set the following pagination options in the `paginate` object:\n\n- `default` - Sets the default number of items when `$limit` is not set\n- `max` - Sets the maximum allowed number of items per page (even if the `$limit` query parameter is set higher)\n\nWhen `paginate.default` is set, `find` will return a _page object_ (instead of the normal array) in the following form:\n\n```\n{\n  \"total\": \"<total number of records>\",\n  \"limit\": \"<max number of items per page>\",\n  \"skip\": \"<number of skipped items (offset)>\",\n  \"data\": [/* data */]\n}\n```\n\nThe pagination options can be set as follows:\n\n```js\nconst service = require('feathers-<db-name>')\n\n// Set the `paginate` option during initialization\napp.use(\n  '/todos',\n  service({\n    paginate: {\n      default: 5,\n      max: 25\n    }\n  })\n)\n\n// override pagination in `params.paginate` for this call\napp.service('todos').find({\n  paginate: {\n    default: 100,\n    max: 200\n  }\n})\n\n// disable pagination for this call\napp.service('todos').find({\n  paginate: false\n})\n```\n\n> **note:**\n> \n> Disabling or changing the default pagination is not available in the client. Only `params.query` is passed to the server (also see a [workaround here](https://github.com/feathersjs/feathers/issues/382#issuecomment-288125825))\n>\n\n## params.adapter\n\nSetting the `adapter` in the [service method `params`](../services.md#params) allows do dynamically modify the database adapter options based on the request. This e.g. allows to temporarily allow multiple entry creation/changes or the pagination settings.\n\n```ts\nconst messages = [\n  {\n    text: 'message 1'\n  },\n  {\n    text: 'message 2'\n  }\n]\n\n// Enable multiple entry insertion for this request\napp.service('messages').create(messages, {\n  adapter: {\n    multi: true\n  }\n})\n```\n\n> **tip:**\n> \n> If the adapter has a `Model` option, `params.adapter.Model` can be used to point to different databases based on the request to e.g. allow multi-tenant systems. This is usually done by setting `context.params.adapter` in a [hook](../hooks.md).\n>\n\n## params.paginate\n\nSetting `paginate` in the [service method `params`](../services.md#params) allows to change or disable the default pagination for a single request:\n\n```ts\n// Get all messages as an array\nconst allMessages = await app.service('messages').find({\n  paginate: false\n})\n```\n\n## Extending Adapters\n\nThere are two ways to extend existing database adapters. Either by extending the base class or by adding functionality through hooks.\n\n### Classes\n\nAll modules also export an [ES6 class](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes) as `<Name>Service` that can be directly extended. See the [Service CLI guide](../../guides/cli/service.class.md) on how to override existing and implement new methods.\n\n## Service methods\n\nThis section describes specifics on how the [service methods](../services.md) are implemented for all adapters.\n\n### constructor(options)\n\nInitializes a new service. Should call `super(options)` when overwritten.\n\n### Methods without hooks\n\nThe database adapters support calling their service methods without any hooks by adding a `_` in front of the method name as `_find`, `_get`, `_create`, `_patch`, `_update` and `_remove`. This can be useful if you need the raw data from the service and don't want to trigger any of its hooks.\n\n```js\n// Call `get` without running any hooks\nconst message = await app.service('/messages')._get('<message id>')\n```\n\n> **note:**\n> \n> These methods are only available internally on the server, not on the client side and only for the Feathers database adapters. They do _not_ send any events.\n>\n\n### adapter.find(params)\n\n`adapter.find(params) -> Promise` returns a list of all records matching the query in `params.query` using the [common querying mechanism](./querying.md). Will either return an array with the results or a page object if [pagination is enabled](#pagination).\n\n```ts\n// Find all messages for user with id 1\nconst messages = await app.service('messages').find({\n  query: {\n    userId: 1\n  }\n})\n\nconsole.log(messages)\n\n// Find all messages belonging to room 1 or 3\nconst roomMessages = await app.service('messages').find({\n  query: {\n    roomId: {\n      $in: [1, 3]\n    }\n  }\n})\n\nconsole.log(roomMessages)\n```\n\nFind all messages for user with id 1\n\n```\nGET /messages?userId=1\n```\n\nFind all messages belonging to room 1 or 3\n\n```\nGET /messages?roomId[$in]=1&roomId[$in]=3\n```\n\n### adapter.get(id, params)\n\n`adapter.get(id, params) -> Promise` retrieves a single record by its unique identifier (the field set in the `id` option during initialization).\n\n```ts\nconst message = await app.service('messages').get(1)\n\nconsole.log(message)\n```\n\n```\nGET /messages/1\n```\n\n### adapter.create(data, params)\n\n`adapter.create(data, params) -> Promise` creates a new record with `data`. `data` can also be an array to create multiple records.\n\n```ts\nconst message = await app.service('messages').create({\n  text: 'A test message'\n})\n\nconsole.log(message)\n\nconst messages = await app.service('messages').create([\n  {\n    text: 'Hi'\n  },\n  {\n    text: 'How are you'\n  }\n])\n\nconsole.log(messages)\n```\n\n```\nPOST /messages\n{\n  \"text\": \"A test message\"\n}\n```\n\n### adapter.update(id, data, params)\n\n`adapter.update(id, data, params) -> Promise` completely replaces a single record identified by `id` with `data`. Does not allow replacing multiple records (`id` can't be `null`). `id` can not be changed.\n\n```ts\nconst updatedMessage = await app.service('messages').update(1, {\n  text: 'Updates message'\n})\n\nconsole.log(updatedMessage)\n```\n\n```\nPUT /messages/1\n{ \"text\": \"Updated message\" }\n```\n\n### adapter.patch(id, data, params)\n\n`adapter.patch(id, data, params) -> Promise` merges a record identified by `id` with `data`. `id` can be `null` to allow replacing multiple records (all records that match `params.query` the same as in `.find`). `id` can not be changed.\n\n```ts\nconst patchedMessage = await app.service('messages').patch(1, {\n  text: 'A patched message'\n})\n\nconsole.log(patchedMessage)\n\nconst params = {\n  query: { read: false }\n}\n\n// Mark all unread messages as read\nconst multiPatchedMessages = await app.service('messages').patch(\n  null,\n  {\n    read: true\n  },\n  params\n)\n```\n\n```\nPATCH /messages/1\n{ \"text\": \"A patched message\" }\n```\n\nMark all unread messages as read\n\n```\nPATCH /messages?read=false\n{ \"read\": true }\n```\n\n### adapter.remove(id, params)\n\n`adapter.remove(id, params) -> Promise` removes a record identified by `id`. `id` can be `null` to allow removing multiple records (all records that match `params.query` the same as in `.find`).\n\n```ts\nconst removedMessage = await app.service('messages').remove(1)\n\nconsole.log(removedMessage)\n\nconst params = {\n  query: { read: true }\n}\n\n// Remove all read messages\nconst removedMessages = await app.service('messages').remove(null, params)\n```\n\n```\nDELETE /messages/1\n```\n\nRemove all read messages\n\n```\nDELETE /messages?read=true\n```",
    "rawContent": "## Initialization\n\n\n\n### `new <Name>Service(options)`\n\nEach adapter exports a `<Name>Service` class that can be exported and extended.\n\n```ts\nimport { NameService } from 'feathers-<name>'\n\napp.use('/messages', new NameService())\napp.use('/messages', new NameService({ id, events, paginate }))\n```\n\n### Options\n\nThe following options are available for all database adapters:\n\n- `id {string}` (_optional_) - The name of the id field property (usually set by default to `id` or `_id`).\n- `paginate {Object}` (_optional_) - A [pagination object](#pagination) containing a `default` and `max` page size\n- `multi {string[]|boolean}` (_optional_, default: `false`) - Allow `create` with arrays and `patch` and `remove` with id `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)\n\nThe following legacy options are still available but should be avoided:\n\n- `events {string[]}` (_optional_, **deprecated**) - A list of [custom service events](../events.md#custom-events) sent by this service. Use the `events` option when [registering the service with app.use](../application.md#usepath-service--options) instead.\n- `operators {string[]}` (_optional_, **deprecated**) - A list of additional non-standard query parameters to allow (e.g `[ '$regex' ]`). Not necessary when using a [query schema](../schema/validators.md#validatequery)\n- `filters {Object}` (_optional_, **deprecated**) - An object of additional top level query filters, e.g. `{ $populate: true }`. Can also be a converter function like `{ $ignoreCase: (value) => value === 'true' ? true : false }`. Not necessary when using a [query schema](../schema/validators.md#validatequery)\n\nFor database specific options see the adapter documentation.\n\n## Pagination\n\nWhen initializing an adapter you can set the following pagination options in the `paginate` object:\n\n- `default` - Sets the default number of items when `$limit` is not set\n- `max` - Sets the maximum allowed number of items per page (even if the `$limit` query parameter is set higher)\n\nWhen `paginate.default` is set, `find` will return a _page object_ (instead of the normal array) in the following form:\n\n```\n{\n  \"total\": \"<total number of records>\",\n  \"limit\": \"<max number of items per page>\",\n  \"skip\": \"<number of skipped items (offset)>\",\n  \"data\": [/* data */]\n}\n```\n\nThe pagination options can be set as follows:\n\n```js\nconst service = require('feathers-<db-name>')\n\n// Set the `paginate` option during initialization\napp.use(\n  '/todos',\n  service({\n    paginate: {\n      default: 5,\n      max: 25\n    }\n  })\n)\n\n// override pagination in `params.paginate` for this call\napp.service('todos').find({\n  paginate: {\n    default: 100,\n    max: 200\n  }\n})\n\n// disable pagination for this call\napp.service('todos').find({\n  paginate: false\n})\n```\n\n> **note:**\n> \n> Disabling or changing the default pagination is not available in the client. Only `params.query` is passed to the server (also see a [workaround here](https://github.com/feathersjs/feathers/issues/382#issuecomment-288125825))\n>\n\n## params.adapter\n\nSetting the `adapter` in the [service method `params`](../services.md#params) allows do dynamically modify the database adapter options based on the request. This e.g. allows to temporarily allow multiple entry creation/changes or the pagination settings.\n\n```ts\nconst messages = [\n  {\n    text: 'message 1'\n  },\n  {\n    text: 'message 2'\n  }\n]\n\n// Enable multiple entry insertion for this request\napp.service('messages').create(messages, {\n  adapter: {\n    multi: true\n  }\n})\n```\n\n> **tip:**\n> \n> If the adapter has a `Model` option, `params.adapter.Model` can be used to point to different databases based on the request to e.g. allow multi-tenant systems. This is usually done by setting `context.params.adapter` in a [hook](../hooks.md).\n>\n\n## params.paginate\n\nSetting `paginate` in the [service method `params`](../services.md#params) allows to change or disable the default pagination for a single request:\n\n```ts\n// Get all messages as an array\nconst allMessages = await app.service('messages').find({\n  paginate: false\n})\n```\n\n## Extending Adapters\n\nThere are two ways to extend existing database adapters. Either by extending the base class or by adding functionality through hooks.\n\n### Classes\n\nAll modules also export an [ES6 class](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes) as `<Name>Service` that can be directly extended. See the [Service CLI guide](../../guides/cli/service.class.md) on how to override existing and implement new methods.\n\n## Service methods\n\nThis section describes specifics on how the [service methods](../services.md) are implemented for all adapters.\n\n### constructor(options)\n\nInitializes a new service. Should call `super(options)` when overwritten.\n\n### Methods without hooks\n\nThe database adapters support calling their service methods without any hooks by adding a `_` in front of the method name as `_find`, `_get`, `_create`, `_patch`, `_update` and `_remove`. This can be useful if you need the raw data from the service and don't want to trigger any of its hooks.\n\n```js\n// Call `get` without running any hooks\nconst message = await app.service('/messages')._get('<message id>')\n```\n\n> **note:**\n> \n> These methods are only available internally on the server, not on the client side and only for the Feathers database adapters. They do _not_ send any events.\n>\n\n### adapter.find(params)\n\n`adapter.find(params) -> Promise` returns a list of all records matching the query in `params.query` using the [common querying mechanism](./querying.md). Will either return an array with the results or a page object if [pagination is enabled](#pagination).\n\n```ts\n// Find all messages for user with id 1\nconst messages = await app.service('messages').find({\n  query: {\n    userId: 1\n  }\n})\n\nconsole.log(messages)\n\n// Find all messages belonging to room 1 or 3\nconst roomMessages = await app.service('messages').find({\n  query: {\n    roomId: {\n      $in: [1, 3]\n    }\n  }\n})\n\nconsole.log(roomMessages)\n```\n\nFind all messages for user with id 1\n\n```\nGET /messages?userId=1\n```\n\nFind all messages belonging to room 1 or 3\n\n```\nGET /messages?roomId[$in]=1&roomId[$in]=3\n```\n\n### adapter.get(id, params)\n\n`adapter.get(id, params) -> Promise` retrieves a single record by its unique identifier (the field set in the `id` option during initialization).\n\n```ts\nconst message = await app.service('messages').get(1)\n\nconsole.log(message)\n```\n\n```\nGET /messages/1\n```\n\n### adapter.create(data, params)\n\n`adapter.create(data, params) -> Promise` creates a new record with `data`. `data` can also be an array to create multiple records.\n\n```ts\nconst message = await app.service('messages').create({\n  text: 'A test message'\n})\n\nconsole.log(message)\n\nconst messages = await app.service('messages').create([\n  {\n    text: 'Hi'\n  },\n  {\n    text: 'How are you'\n  }\n])\n\nconsole.log(messages)\n```\n\n```\nPOST /messages\n{\n  \"text\": \"A test message\"\n}\n```\n\n### adapter.update(id, data, params)\n\n`adapter.update(id, data, params) -> Promise` completely replaces a single record identified by `id` with `data`. Does not allow replacing multiple records (`id` can't be `null`). `id` can not be changed.\n\n```ts\nconst updatedMessage = await app.service('messages').update(1, {\n  text: 'Updates message'\n})\n\nconsole.log(updatedMessage)\n```\n\n```\nPUT /messages/1\n{ \"text\": \"Updated message\" }\n```\n\n### adapter.patch(id, data, params)\n\n`adapter.patch(id, data, params) -> Promise` merges a record identified by `id` with `data`. `id` can be `null` to allow replacing multiple records (all records that match `params.query` the same as in `.find`). `id` can not be changed.\n\n```ts\nconst patchedMessage = await app.service('messages').patch(1, {\n  text: 'A patched message'\n})\n\nconsole.log(patchedMessage)\n\nconst params = {\n  query: { read: false }\n}\n\n// Mark all unread messages as read\nconst multiPatchedMessages = await app.service('messages').patch(\n  null,\n  {\n    read: true\n  },\n  params\n)\n```\n\n```\nPATCH /messages/1\n{ \"text\": \"A patched message\" }\n```\n\nMark all unread messages as read\n\n```\nPATCH /messages?read=false\n{ \"read\": true }\n```\n\n### adapter.remove(id, params)\n\n`adapter.remove(id, params) -> Promise` removes a record identified by `id`. `id` can be `null` to allow removing multiple records (all records that match `params.query` the same as in `.find`).\n\n```ts\nconst removedMessage = await app.service('messages').remove(1)\n\nconsole.log(removedMessage)\n\nconst params = {\n  query: { read: true }\n}\n\n// Remove all read messages\nconst removedMessages = await app.service('messages').remove(null, params)\n```\n\n```\nDELETE /messages/1\n```\n\nRemove all read messages\n\n```\nDELETE /messages?read=true\n```",
    "breadcrumb": "Common API",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/databases/common.md",
    "heading": "Common API",
    "subHeadings": [
      "Initialization",
      "`new <Name>Service(options)`",
      "Options",
      "Pagination",
      "params.adapter",
      "params.paginate",
      "Extending Adapters",
      "Classes",
      "Service methods",
      "constructor(options)",
      "Methods without hooks",
      "adapter.find(params)",
      "adapter.get(id, params)",
      "adapter.create(data, params)",
      "adapter.update(id, data, params)",
      "adapter.patch(id, data, params)",
      "adapter.remove(id, params)"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 2188,
    "category": "databases",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "github",
      "schema",
      "validators",
      "database",
      "adapter",
      "pagination",
      "querying",
      "events",
      "http",
      "client",
      "cli",
      "test",
      "custom service"
    ],
    "embedding": [
      0.023328,
      0.016451,
      -0.046957,
      0.035211,
      -0.010199,
      -0.017225,
      0.022692,
      -0.001024,
      0.010694,
      -0.007261,
      -0.032493,
      0.000606,
      -0.004752,
      0.03224,
      0.010383,
      0.006015,
      0.000233,
      -0.011641,
      0.028163,
      0.009394,
      -0.031987,
      0.038974,
      0.028406,
      0.013534,
      0.00098,
      -0.006546,
      -0.031189,
      -0.016323,
      0.00754,
      -0.01479,
      0.013244,
      -0.025986,
      0.010635,
      -0.030828,
      -0.003692,
      -0.012445,
      -0.052846,
      -0.008701,
      -0.048206,
      0.007707,
      -0.00208,
      -0.023875,
      -0.000829,
      -0.017771,
      0.012359,
      -0.033175,
      0.00371,
      -0.01327,
      0.009073,
      -0.027426,
      -0.058128,
      -0.011961,
      0.044724,
      -0.056531,
      0.034656,
      0.032938,
      -0.037996,
      0.01799,
      -0.053113,
      0.00891,
      -0.035091,
      -0.021477,
      0.007987,
      -0.005006,
      0.001261,
      0.017631,
      -0.0038,
      -0.014128,
      -0.023018,
      -0.023623,
      -0.037577,
      0.019671,
      -0.022969,
      0.004794,
      -0.067206,
      0.014679,
      0.059121,
      -0.007372,
      -0.0248,
      -0.004615,
      -0.040475,
      -0.028814,
      -0.024825,
      -0.00626,
      0.001168,
      0.021757,
      -0.039701,
      0.002947,
      0.021923,
      0.019835,
      0.018328,
      -0.031358,
      0.02922,
      -0.046465,
      -0.027782,
      -0.024154,
      -0.031987,
      0.013588,
      0.043371,
      -0.017223,
      0.010226,
      -0.000988,
      0.003547,
      -0.017501,
      0.065016,
      0.044814,
      0.016233,
      0.00099,
      0.008035,
      -0.032055,
      -0.02811,
      -0.001939,
      0.044493,
      0.000471,
      -0.020127,
      -0.033993,
      0.010031,
      -0.026033,
      0.013862,
      0.007186,
      0.026917,
      0.012224,
      0.054226,
      -0.010277,
      -0.015064,
      0.022749,
      -0.032484,
      0.057304,
      0.010382,
      0.045771,
      0.037991,
      -0.045362,
      -0.003745,
      -0.009716,
      -0.040212,
      -0.011432,
      0.026879,
      0.025996,
      0.008593,
      -0.061068,
      0.013196,
      0.038642,
      0.008789,
      -0.032383,
      0.054659,
      -0.018421,
      0.089804,
      0.01366,
      -0.021347,
      -0.030109,
      0.022513,
      0.03266,
      0.049382,
      -0.032598,
      0.036791,
      -0.064821,
      -0.023238,
      0.039357,
      0.054812,
      -0.006437,
      -0.0563,
      0.041178,
      -0.076126,
      -0.029527,
      0.035712,
      -0.000301,
      0.015088,
      -0.029396,
      -0.020648,
      -0.026004,
      0.037858,
      -0.01172,
      0.046475,
      -0.008653,
      0.012177,
      0.009515,
      0.089209,
      0.041706,
      0.025703,
      -0.019044,
      -0.067212,
      0.026348,
      -0.02899,
      -0.035222,
      -0.023368,
      0.026327,
      -0.012385,
      -0.041982,
      -0.019634,
      -0.00378,
      -0.002613,
      -0.003779,
      0.04287,
      -0.00112,
      -0.0127,
      -0.013839,
      0.008898,
      0.02622,
      -0.009345,
      0.013686,
      0.029781,
      0.048417,
      0.03934,
      0.037817,
      -0.058245,
      -0.021067,
      -0.005883,
      -0.06178,
      0.026848,
      -0.016556,
      -0.009161,
      0.034965,
      -0.013203,
      -0.020871,
      -0.043306,
      0.007055,
      0.007935,
      0.01607,
      -0.017959,
      -0.045247,
      -0.013247,
      0.027605,
      0.001112,
      0.003406,
      0.010455,
      0.001487,
      0.023528,
      -0.01808,
      -0.011795,
      0.022561,
      -0.022301,
      0.056716,
      0.041566,
      0.002072,
      0.034923,
      -0.007798,
      0.010571,
      -0.01316,
      0.014054,
      -0.01352,
      -0.036616,
      -0.053683,
      -0.035429,
      -0.007146,
      -0.036847,
      -0.021374,
      -0.009664,
      0.011407,
      -0.035262,
      -0.01238,
      -0.008098,
      0.027533,
      -0.024416,
      -0.011104,
      0.039064,
      -0.016253,
      0.024509,
      -0.003009,
      -0.028757,
      -0.006781,
      0.001505,
      0.012541,
      0.004749,
      0.013509,
      0.023325,
      -0.024454,
      -0.035794,
      -0.069105,
      0.001394,
      0.023338,
      -0.015506,
      -0.020447,
      0.008767,
      0.012757,
      0.021642,
      -0.005256,
      0.019076,
      -0.031776,
      0.075085,
      0.03064,
      -0.01753,
      0.035538,
      0.047731,
      0.033986,
      0.008044,
      0.036059,
      -0.015003,
      0.01413,
      0.01841,
      -0.024064,
      0.028043,
      -0.010534,
      0.072842,
      0.019088,
      -0.000599,
      0.004718,
      -0.000701,
      -0.160729,
      -0.020637,
      0.030369,
      -0.006541,
      0.018188,
      -0.011094,
      -0.03859,
      0.017162,
      -0.032922,
      0.023945,
      0.02041,
      -0.058745,
      -0.017197,
      -0.022726,
      0.024484,
      -0.020594,
      0.011953,
      0.029756,
      0.043165,
      -0.050453,
      -0.031747,
      -0.070315,
      0.043874,
      -0.010852,
      0.007081,
      0.001432,
      0.036517,
      0.037625,
      -0.049348,
      -0.05604,
      -0.010025,
      0.04009,
      0.006684,
      0.007063,
      -0.019159,
      0.004532,
      -0.002402,
      -0.022602,
      -0.004188,
      -0.023042,
      0.007827,
      0.046718,
      -0.000442,
      0.030197,
      0.029987,
      -0.021021,
      -0.006892,
      -0.013681,
      -0.009875,
      -0.007393,
      -0.009912,
      0.00855,
      0.013539,
      -0.014312,
      -0.040116,
      -0.028048,
      0.001321,
      0.071967,
      0.020843,
      0.012241,
      0.013204,
      0.010265,
      0.02997,
      -0.032224,
      0.011293,
      -0.023508,
      0.020021,
      -0.001114,
      0.025651,
      -0.040706,
      0.026533,
      -0.061702,
      0.004731,
      0.014202,
      -0.067309,
      -0.000352,
      0.033534,
      -0.013568,
      -0.018146,
      -0.117982,
      -0.000374,
      -0.014641,
      0.002734,
      0.044927,
      -0.023846,
      -0.014715,
      0.001377,
      -0.013424,
      0.01179,
      0.251794,
      0.004738,
      -0.002074,
      0.018692,
      0.044607,
      0.002248,
      0.022664,
      0.048889,
      0.002377,
      -0.022876,
      0.007867,
      0.05341,
      0.002283,
      -0.004478,
      0.013625,
      0.011023,
      -0.044187,
      0.007907,
      0.053573,
      -0.023559,
      0.038388,
      -0.005719,
      0.021655,
      0.0429,
      -0.042494,
      -0.028321,
      -0.004963,
      0.039738,
      -0.06432,
      -0.006492,
      -0.036352,
      -0.034624,
      0.033925,
      -0.046941,
      -0.064634,
      -0.028007,
      -0.021038,
      -0.042679,
      0.014566,
      0.020453,
      0.014023,
      -0.009243,
      0.014755,
      0.015863,
      -0.018263,
      0.001493,
      -0.003824,
      0.025613,
      -0.028867,
      -0.014868,
      -0.040169,
      -0.003729,
      -0.031151,
      0.005313,
      -0.040479,
      -0.035939,
      -0.017873,
      0.015649,
      -0.022816,
      0.015573,
      0.038259,
      -0.002997,
      -0.021481,
      0.007678,
      -0.023473,
      0.021956,
      -0.016659,
      -0.039182,
      -0.002315,
      0.046064,
      -0.040754,
      0.040342,
      0.028701,
      -0.019134,
      0.035086,
      0.03097,
      0.052115,
      0.034845,
      0.01842,
      0.028825,
      -0.046742,
      0.009916,
      -0.030912,
      0.012871,
      -0.002383,
      -0.001543,
      0.008869,
      0.064373,
      0.006391,
      -0.003548,
      -0.002341,
      -0.024174,
      0.011948,
      0.049377,
      -0.000182,
      0.011106,
      0.061177,
      0.012057,
      -0.00825,
      -0.030753,
      0.024155,
      0.013541,
      0.024828,
      -0.006258,
      0.088211,
      0.010106,
      -0.003303,
      0.003964,
      0.016653,
      0.001813,
      -0.059813,
      0.031407,
      0.040372,
      -0.042572,
      0.013101,
      0.02076,
      0.026704,
      0.015371,
      0.050372,
      -0.003522,
      -0.024117,
      0.041608,
      0.028453,
      -0.00078,
      0.029002,
      -0.056933,
      -0.014147,
      -0.036916,
      -0.047288,
      0.057762,
      0.043284,
      -0.029449,
      -0.019554,
      0.035584,
      0.029373,
      0.003281,
      0.011129,
      0.034133,
      0.026344,
      -0.002137,
      -0.007539,
      -0.022055,
      -0.005255,
      0.03004,
      0.010609,
      0.009565,
      0.003442,
      -0.008838,
      -0.009948,
      0.013914,
      0.063175,
      0.042026,
      -0.016767,
      -0.045946,
      -0.0646,
      -0.000347,
      -0.017525,
      0.029147,
      0.002217,
      0.01423,
      -0.017563,
      0.012627,
      0.000434,
      0.017237,
      0.044081,
      -0.009938,
      0.076882,
      0.03614,
      -0.060328,
      -0.02933,
      -0.00093,
      -0.068314,
      -0.057367,
      0.01212,
      0.010828,
      0.007652,
      -0.046329,
      -0.002279,
      0.007089,
      -0.011838,
      0.00006,
      0.018183,
      -0.055619,
      0.006035,
      -0.02034,
      0.030765,
      0.012474,
      0.01062,
      0.04847,
      -0.040218,
      -0.01098,
      0.109588,
      -0.045592,
      0.020671,
      0.043361,
      0.01075,
      0.035742,
      0.010742,
      0.006852,
      -0.001416,
      0.006224,
      -0.009325,
      0.013545,
      0.008768,
      -0.004566,
      -0.02536,
      -0.027287,
      -0.006455,
      -0.03029,
      -0.023415,
      0.004066,
      -0.011945,
      -0.029557,
      0.021452,
      0.039866,
      -0.035191,
      0.090041,
      0.055846,
      0.006858,
      -0.012373,
      -0.01684,
      -0.012451,
      0.005223,
      -0.049768,
      0.000493,
      0.028298,
      0.010898,
      0.001043,
      0.000334,
      -0.025784,
      -0.001952,
      -0.020041,
      0.03176,
      -0.017146,
      0.01079,
      -0.017717,
      0.055973,
      0.014567,
      0.024122,
      -0.026076,
      0.021733,
      -0.018104,
      0.00889,
      0.053279,
      -0.005646,
      0.022318,
      -0.022272,
      -0.019992,
      -0.020951,
      0.029504,
      -0.026147,
      -0.007054,
      0.009967,
      -0.045492,
      -0.021929,
      0.017918,
      0.041525,
      0.026514,
      -0.050071,
      0.013083,
      -0.024185,
      0.049314,
      -0.026697,
      -0.005359,
      -0.022488,
      -0.013926,
      0.00257,
      -0.030563,
      -0.040383,
      0.004548,
      0.02095,
      0.014884,
      -0.036993,
      -0.083015,
      -0.017428,
      -0.000232,
      0.00405,
      -0.0125,
      0.030808,
      0.018329,
      -0.063824,
      -0.011503,
      0.041044,
      0.003478,
      0.048878,
      0.01726,
      0.003927,
      -0.000983,
      -0.009271,
      -0.033875,
      -0.002879,
      -0.00209,
      -0.037898,
      0.006925,
      0.005802,
      -0.011596,
      0.011253,
      0.034925,
      0.002913,
      0.015403,
      0.001713,
      -0.025713,
      -0.015039,
      0.030499,
      -0.041302,
      0.030855,
      -0.005904,
      -0.064695,
      -0.011922,
      0.02787,
      -0.00416,
      -0.0303,
      0.028266,
      0.006877,
      0.074905,
      -0.023632,
      0.063093,
      -0.03313,
      0.028332,
      -0.01665,
      0.019846,
      -0.00619,
      -0.031282,
      0.034404,
      0.034006,
      -0.004296,
      0.013268,
      -0.04212,
      -0.039998,
      0.041173,
      -0.043868,
      0.006375,
      -0.003151,
      -0.012613,
      -0.036932,
      -0.001278,
      0.018391,
      -0.001979,
      -0.018836,
      -0.025147,
      0.030452,
      -0.016258,
      0.05254,
      -0.031044,
      0.046521,
      0.00718,
      0.019632,
      -0.00898,
      -0.008821,
      -0.012664,
      -0.024018,
      -0.032308,
      -0.019252,
      -0.040031,
      0.017805,
      -0.055762,
      -0.048297,
      0.019473,
      0.020789,
      -0.010071,
      -0.009759,
      0.016778,
      -0.021945,
      -0.020888,
      0.018949,
      -0.017457,
      0.015186,
      0.007618,
      -0.001924,
      -0.024241,
      -0.020175,
      0.01733,
      0.021184,
      0.035133,
      -0.016474,
      0.036113,
      -0.033186,
      0.000412,
      0.020463,
      -0.03789,
      -0.03939,
      -0.055457,
      -0.017816,
      -0.002386,
      -0.018467,
      -0.00128,
      -0.007433,
      -0.007641,
      -0.017236,
      0.022319,
      0.013508,
      -0.005991,
      -0.005857,
      0.000641,
      -0.155485,
      0.000298,
      0.02487,
      -0.014458,
      -0.029345,
      0.007611,
      -0.02287,
      -0.067671,
      -0.00324,
      -0.034426,
      -0.031831,
      -0.009487,
      0.012593,
      -0.018176,
      0.036206,
      0.016228,
      0.00368,
      -0.031962,
      -0.014571,
      -0.029825,
      0.011002,
      -0.014177,
      0.03184,
      -0.027347,
      0.011781,
      0.007072,
      0.015723,
      0.01062,
      -0.025435,
      -0.020045,
      0.014708,
      -0.018953,
      0.017485,
      0.03858,
      -0.01489,
      0.008097,
      0.011457,
      0.024784,
      -0.029975,
      0.025154,
      -0.016656,
      -0.001219,
      -0.037343,
      0.026776,
      0.025189,
      0.021341,
      -0.036989,
      -0.049751,
      -0.013131,
      0.020977,
      -0.034905,
      0.006747,
      -0.020254,
      0.021844,
      -0.014175,
      -0.014043,
      -0.048519,
      0.018202,
      -0.034333,
      0.032551,
      -0.038171,
      0.029377,
      -0.034341,
      -0.036358,
      -0.003625,
      0.015924,
      -0.058198,
      0.006147,
      -0.001925,
      -0.009021,
      0.025447,
      -0.019401,
      -0.056166,
      -0.021757,
      0.023504,
      0.002506,
      0.017718,
      -0.03124,
      -0.036489,
      -0.012681,
      -0.016915,
      -0.02348,
      -0.059615,
      0.050242,
      0.069984,
      -0.027663,
      0.005781,
      0.01192,
      -0.036749,
      0.002675,
      -0.03529,
      -0.066387,
      0.007602,
      0.037533,
      0.00761,
      0.0238,
      -0.009811,
      -0.015842,
      0.003689,
      -0.001286,
      -0.02168,
      -0.007581,
      0.017235,
      0.004897,
      -0.023141,
      0.034808,
      -0.038417,
      -0.005789,
      0.02983,
      -0.00521,
      -0.026582,
      0.016017,
      0.004819,
      -0.009907,
      -0.041251,
      0.008493,
      -0.002135,
      0.023217,
      -0.016514,
      -0.016682,
      -0.005357,
      -0.008135,
      -0.03054,
      -0.039748,
      0.033878,
      0.045551,
      0.024859,
      0.008852,
      0.055174,
      -0.021194,
      0.037425,
      -0.066185,
      -0.014702,
      0.011869,
      0.025167,
      -0.047249,
      -0.037092,
      0.060624,
      0.017863,
      -0.050541,
      -0.058848,
      0.005149,
      -0.002996,
      -0.032543,
      -0.017175,
      -0.017489,
      -0.010377,
      0.013205,
      -0.002667,
      -0.044443,
      0.012936,
      -0.015753,
      -0.045486,
      0.0256,
      -0.007602,
      0.026153,
      -0.004821,
      0.001653,
      -0.009518,
      0.07199,
      -0.007139,
      -0.027241,
      -0.007426,
      -0.059061,
      -0.040169,
      0.009529,
      0.003204,
      -0.017188,
      -0.023465,
      -0.009257,
      -0.003522,
      0.07097,
      -0.01157,
      0.036331,
      0.005063,
      -0.066017,
      -0.015996,
      -0.021855,
      0.057249,
      -0.035824,
      0.024839,
      0.018924,
      0.07169,
      -0.005889,
      0.052031,
      0.029462,
      -0.00235,
      0.004187,
      0.023441,
      -0.000456,
      -0.033781,
      0.004399,
      0.060654,
      -0.017965,
      0.038638,
      -0.005507,
      0.010907,
      -0.000538,
      -0.029613,
      0.018498,
      -0.004358,
      0.002232,
      -0.014916,
      0.020465,
      -0.029594,
      -0.000512,
      -0.013644,
      -0.000777,
      -0.012408,
      0.077603,
      0.008955,
      -0.006164,
      0.000648,
      0.006081,
      0.019272,
      0.021756,
      0.041515,
      0.04726,
      0.011184,
      -0.059686,
      0.02312,
      0.005686,
      0.003664,
      -0.035336,
      -0.036253,
      -0.022323,
      0.012045,
      0.007199,
      -0.019294,
      0.036488,
      -0.043781,
      -0.030708,
      0.002465,
      0.036383,
      0.036905,
      -0.001651,
      0.001777,
      0.005573,
      -0.015355,
      0.005704,
      0.02153,
      0.019746,
      0.048735,
      0.016487
    ]
  },
  {
    "id": "v5-knex-0",
    "content": "# SQL Databases\nBreadcrumb: SQL Databases\nCovers: API | KnexService(options) | Options | getModel([params]) | db(params) | createQuery(params) | params.knex | Querying | $like | $notlike | $ilike | Search | Associations | Querying | Populating | Transactions | Example Transaction Setup | Order Schema | Shipping Order Schema | After hook | The problem | Application wide wrapping transaction | Service wide wrapping transaction | Example with around hook | Error handling | Migrations\nTopics: hooks, services, application, context, params, find, get, create, update, patch, remove, setup, github, schema, resolver, typebox, database, adapter, postgresql, knex, pagination, querying, events, publish, rest, http, client, configuration, error handling, errors, declarations, cli, generate, migration, users\n\n## API\n\n\n\n### KnexService(options)\n\n`new KnexService(options)` returns a new service instance initialized with the given options. The following example extends the `KnexService` and then uses the `sqliteClient` (or relevant client for your SQL database type) from the app configuration and provides it to the `Model` option, which is passed to the new `MessagesService`.\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport { KnexService } from '@feathersjs/knex'\nimport type { KnexAdapterParams, KnexAdapterOptions } from '@feathersjs/knex'\n\nimport type { Application } from '../../declarations'\nimport type { Messages, MessagesData, MessagesQuery } from './messages.schema'\n\nexport interface MessagesParams extends KnexAdapterParams<MessagesQuery> {}\n\nexport class MessagesService<ServiceParams extends Params = MessagesParams> extends KnexService<\n  Messages,\n  MessagesData,\n  ServiceParams\n> {}\n\nexport const messages = (app: Application) => {\n  const options: KnexAdapterOptions = {\n    paginate: app.get('paginate'),\n    Model: app.get('sqliteClient'),\n    name: 'messages'\n  }\n  app.use('messages', new MessagesService(options))\n}\n```\n\n### Options\n\nThe Knex specific adapter options are:\n\n- `Model {Knex}` (**required**) - The KnexJS database instance\n- `name {string}` (**required**) - The name of the table\n- `schema {string}` (_optional_) - The name of the schema table prefix (example: `schema.table`)\n- `tableOptions {only: boolean` (_optional_) - For PostgreSQL only. Argument for passing options to knex db builder. ONLY keyword is used before the tableName to discard inheriting tables' data. (https://knexjs.org/guide/query-builder.html#common)\n- `extendedOperators {[string]: string}` (_optional_) - A map defining additional operators for the query builder. Example: `{ $fulltext: '@@' }` for PostgreSQL full text search. See [Knex source](https://github.com/knex/knex/blob/master/lib/formatter/wrappingFormatter.js#L10) for operators supported by Knex.\n\nThe [common API options](./common.md#options) are:\n\n- `id {string}` (_optional_, default: `'id'`) - The name of the id field property. By design, Knex will always add an `id` property.\n- `paginate {Object}` (_optional_) - A [pagination object](#pagination) containing a `default` and `max` page size\n- `multi {string[]|boolean}` (_optional_, default: `false`) - Allow `create` with arrays and `patch` and `remove` with id `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)\n\nThere are additionally several legacy options in the [common API options](./common.md#options)\n\n### getModel([params])\n\n`service.getModel([params])` returns the [Knex](https://knexjs.org/guide/query-builder.html) client for this table.\n\n### db(params)\n\n`service.db([params])` returns the Knex database instance for a request. This will include the `schema` table prefix and use a transaction if passed in `params`.\n\n### createQuery(params)\n\n`service.createQuery(params)` returns a query builder for a service request, including all conditions matching the query syntax. This method can be overriden to e.g. [include associations](#associations) or used in a hook customize the query and then passing it to the service call as [params.knex](#paramsknex).\n\n```ts\napp.service('messages').hooks({\n  before: {\n    find: [\n      async (context: HookContext) => {\n        const query = context.service.createQuery(context.params)\n\n        // do something with query here\n        query.orderBy('name', 'desc')\n\n        context.params.knex = query\n      }\n    ]\n  }\n})\n```\n\n### params.knex\n\nWhen making a [service method](https://docs.feathersjs.com/api/services.html) call, `params` can contain an `knex` property which allows to modify the options used to run the KnexJS query. See [createQuery](#createqueryparams) for an example.\n\n## Querying\n\nIn addition to the [common querying mechanism](./querying.md), this adapter also supports the following operators. Note that these operators need to be added for each query-able property to the [TypeBox query schema](../schema/typebox.md#query-schemas) or [JSON query schema](../schema/schema.md#querysyntax) like this:\n\n```ts\nconst messageQuerySchema = Type.Intersect(\n  [\n    // This will additionally allow querying for `{ name: { $ilike: 'Dav%' } }`\n    querySyntax(messageQueryProperties, {\n      name: {\n        $ilike: Type.String()\n      }\n    }),\n    // Add additional query properties here\n    Type.Object({})\n  ],\n  { additionalProperties: false }\n)\n```\n\n### $like\n\nFind all records where the value matches the given string pattern. The following query retrieves all messages that start with `Hello`:\n\n```ts\napp.service('messages').find({\n  query: {\n    text: {\n      $like: 'Hello%'\n    }\n  }\n})\n```\n\nThrough the REST API:\n\n```\n/messages?text[$like]=Hello%\n```\n\n### $notlike\n\nThe opposite of `$like`; resulting in an SQL condition similar to this: `WHERE some_field NOT LIKE 'X'`\n\n```ts\napp.service('messages').find({\n  query: {\n    text: {\n      $notlike: '%bar'\n    }\n  }\n})\n```\n\nThrough the REST API:\n\n```\n/messages?text[$notlike]=%bar\n```\n\n### $ilike\n\nFor PostgreSQL only, the keywork $ilike can be used instead of $like to make the match case insensitive. The following query retrieves all messages that start with `hello` (case insensitive):\n\n```ts\napp.service('messages').find({\n  query: {\n    text: {\n      $ilike: 'hello%'\n    }\n  }\n})\n```\n\nThrough the REST API:\n\n```\n/messages?text[$ilike]=hello%\n```\n\n## Search\n\nBasic search can be implemented with the [query operators](#querying).\n\n## Associations\n\nWhile [resolvers](../schema/resolvers.md) offer a reasonably performant way to fetch associated entities, it is also possible to join tables to populate and query related data. This can be done by overriding the [createQuery](#createqueryparams) method and using the [Knex join methods](https://knexjs.org/guide/query-builder.html#join) to join the tables of related services.\n\n### Querying\n\nConsidering a table like this:\n\n```ts\nawait db.schema.createTable('todos', (table) => {\n  table.increments('id')\n  table.string('text')\n  table.bigInteger('personId').references('id').inTable('people').notNullable()\n  return table\n})\n```\n\nTo query based on properties from the `people` table, join the tables you need in `createQuery` like this:\n\n```ts\nclass TodoService<ServiceParams = KnexAdapterParams<TodoQuery>> extends KnexService<Todo> {\n  createQuery(params: KnexAdapterParams<AdapterQuery>) {\n    const query = super.createQuery(params)\n\n    query.join('people as person', 'todos.personId', 'person.id')\n\n    return query\n  }\n}\n```\n\nThis will alias the table name from `people` to `person` (since our Todo only has a single person) and then allow to query all related properties as dot separated properties like `person.name`, including the [Feathers query syntax](./querying.md):\n\n```ts\n// Find the Todos for all Daves older than 100\napp.service('todos').find({\n  query: {\n    'person.name': 'Dave',\n    'person.age': { $gt: 100 }\n  }\n})\n```\n\nNote that in most applications, the query-able properties have to explicitly be added to the [TypeBox query schema](../schema/typebox.md#query-schemas) or [JSON query schema](../schema/schema.md#querysyntax). Support for the query syntax for a single property can be added with the `queryProperty` helper:\n\n```ts\nimport { queryProperty } from '@feathersjs/typebox'\n\nexport const todoQueryProperties = Type.Pick(userSchema, ['text'])\nexport const todoQuerySchema = Type.Intersect(\n  [\n    querySyntax(userQueryProperties),\n    // Add additional query properties here\n    Type.Object(\n      {\n        // Only query the name for strings\n        'person.name': Type.String(),\n        // Support the query syntax for the age\n        'person.age': queryProperty(Type.Number())\n      },\n      { additionalProperties: false }\n    )\n  ],\n  { additionalProperties: false }\n)\n```\n\n### Populating\n\nRelated properties from the joined table can be added as aliased properties with [query.select](https://knexjs.org/guide/query-builder.html#select):\n\n```ts\nclass TodoService<ServiceParams = KnexAdapterParams<TodoQuery>> extends KnexService<Todo> {\n  createQuery(params: KnexAdapterParams<AdapterQuery>) {\n    const query = super.createQuery(params)\n\n    query\n      .join('people as person', 'todos.personId', 'person.id')\n      // This will add a `personName` property\n      .select('person.name as personName')\n      // This will add a `person.age' property\n      .select('person.age')\n\n    return query\n  }\n}\n```\n\n> **important:**\n> \n> Since SQL does not have a concept of nested objects, joined properties will be dot separated strings, **not nested objects**. Conversion can be done by e.g. using Lodash `_.set` in a [resolver converter](../schema/resolvers.md#options).\n> \n\nThis works well for individual properties, however if you require the complete (and safe) representation of the entire related data, use a [resolver](../schema/resolvers.md) instead.\n\n## Transactions\n\nThe Knex adapter comes with three hooks that allows to run service method calls in a transaction. They can be used as application wide hooks or per service.\n\nTo use the transactions feature, you must ensure that the three hooks (start, end and rollback) are being used.\n\nAt the start of any request, a new transaction will be started. All the changes made during the request to the services that are using knex will use the transaction. At the end of the request, if successful, the changes will be commited. If an error occurs, the changes will be forfeit, all the `creates`, `patches`, `updates` and `deletes` are not going to be commited.\n\nThe object that contains `transaction` is stored in the `params.transaction` of each request.\n\n> **Important:**\n> \n> If you call another Knex service within a hook and want to share the transaction you will have to pass `context.params.transaction` in the parameters of the service call.\n> \n\nSometimes it can be important to know when the transaction has been completed (committed or rolled back). For example, we might want to wait for transaction to complete before we send out any realtime events. This can be done by awaiting on the `transaction.committed` promise which will always resolve to either `true` in case the transaction has been committed, or `false` in case the transaction has been rejected.\n\n```ts\napp.service('messages').publish(async (data, context) => {\n  const { transaction } = context.params\n\n  if (transaction) {\n    const success = await transaction.committed\n\n    if (!success) {\n      return []\n    }\n  }\n\n  return app.channel(`rooms/${data.roomId}`)\n})\n```\n\nThis also works with nested service calls and nested transactions. For example, if a service calls `transaction.start()` and passes the transaction param to a nested service call, which also calls `transaction.start()` in it's own hooks, they will share the top most `committed` promise that will resolve once all of the transactions have successfully committed.\n\n### Example Transaction Setup\n\nWe will be using TypeBox schemas throughout, but that is not a requirement.\n\nWe will have two services `Order` and `ShippingOrder`\n\nWhen we create an `Order` we want to automatically create a `ShippingOrder`, but if `Order` or `ShippingOrder` fail to be created we want to roll everything back and not save either.\n\n#### Order Schema\n\n```ts\nexport const orderSchema = Type.Object(\n  {\n    id: Type.String({ format: 'uuid' }),\n    item: Type.String(),\n    address: Type.String(),\n    quantity: Type.Number()\n  },\n  { $id: 'Order', additionalProperties: false }\n)\n```\n\n#### Shipping Order Schema\n\n```ts\nexport const shippingOrderSchema = Type.Object(\n  {\n    id: Type.String({ format: 'uuid' }),\n    order_id: Type.String({ format: 'uuid', $schema: 'Order' }),\n    expedited: Type.Boolean(),\n    shipped: Type.Boolean()\n  },\n  { $id: 'ShippingOrder', additionalProperties: false }\n)\n```\n\n#### After hook\n\nLet's start by adding our logic to automatically create our `ShippingOrder`.\n\nIn our `order.ts` file we can add this hook\n\n```ts\nafter: {\n  create: [\n    async (context: HookContext<OrderService>) => {\n      const ourOrder = context.result as Order //Let's not deal with arrays or pagination for now\n\n      await context.app\n        .service(shippingOrderPath)\n        .create({ expedited: true, shipped: false, order_id: ourOrder.id })\n    }\n  ]\n}\n```\n\n#### The problem\n\nNow that we have our logic in, `Order` will automatically create `ShippingOrder`. But what if something goes wrong and the `Order` is created but `ShippingOrder` isn't. This could cause an order to never be shipped.\n\nWe can solve this problem in two ways outlined below.\n\n<BlockQuote>\n\nYou can emulate an error by throwing an error in the before create hook of your `shipping-order.ts` file\n\n```ts\ncreate: [\n  async () => {\n    throw new Error('Fail')\n  },\n  schemaHooks.validateData(shippingOrderDataValidator),\n  schemaHooks.resolveData(shippingOrderDataResolver)\n]\n```\n\n</BlockQuote>\n\n#### Application wide wrapping transaction\n\nUsing the global hooks in `src/app.ts` we are able to wrap all of our `create`, `update`, and `patch` hooks.\n\n```ts\nimport { transaction } from '@feathersjs/knex'\n\nconst transactionHandler = async (context: HookContext<any>, next: NextFunction) => {\n  try {\n    console.log('Start our work')\n    await transaction.start()(context)\n    await next()\n    await transaction.end()(context)\n    console.log('Work done')\n  } catch (err) {\n    console.log('Rollback')\n    await transaction.rollback()(context)\n    throw err\n  }\n}\n\n// Register hooks that run on all service methods\napp.hooks({\n  around: {\n    create: [transactionHandler],\n    patch: [transactionHandler],\n    update: [transactionHandler],\n    delete: [transactionHandler]\n  }\n})\n```\n\nWhat this does is for any `create`/`update`/`patch`/`delete` request, we are starting a transaction that will be available in `context.params.transaction`.\n\nNote this does not mean we are done, when a `create` request is made to `Order`, it will have `context.params.transaction` available to it but we have to pass that along to `ShippingOrder` create request.\n\nLet's revisit our hook that automatically creates `ShippingOrder` and modify it to pass our transaction with the request.\n\n```ts\nafter: {\n  create: [\n    async (context: HookContext<OrderService>) => {\n      const ourOrder = context.result as Order\n\n      await context.app.service(shippingOrderPath).create(\n        { expedited: true, shipped: false, order_id: ourOrder.id },\n        { transaction: context.params.transaction } // <--\n      )\n    }\n  ]\n}\n```\n\n<BlockQuote>\nWe have to use await here otherwise the transaction will close before the creation is finished. For something like sending an email, you can opt to not await.\n\n```ts\ncontext.params.transaction?.committed.then((success: any) => {\n  if (!success) return\n  //Send Email\n})\n```\n\n</BlockQuote>\n\n### Service wide wrapping transaction\n\nThe simplest way of doing this is\n\n- Add `transaction.start()` in the before create hook.\n- Add `transaction.end()` in the after create hook.\n- Add `transaction.rollback()` in the error all hook.\n\n```ts\napp.service(orderPath).hooks({\n  around: {\n    // ...\n  },\n  before: {\n    // ...\n    create: [\n      schemaHooks.validateData(orderDataValidator),\n      schemaHooks.resolveData(orderDataResolver),\n      transaction.start()\n    ]\n  },\n  after: {\n    create: [\n      async (context: HookContext<OrderService>) => {\n        const ourOrder = context.result as Order //Let's not deal with arrays or pagination for now\n\n        await context.app\n          .service(shippingOrderPath)\n          .create(\n            { expedited: true, shipped: false, order_id: ourOrder.id },\n            { transaction: context.params.transaction }\n          )\n      },\n      transaction.end()\n    ]\n  },\n  error: {\n    all: [transaction.rollback()]\n  }\n})\n```\n\n#### Example with around hook\n\nWhen utilizing the around hook, you must pass the context manually. Remember to handle your errors as well, since `around` hooks will not throw into the `error` hook\n\n```ts\n{\n  around: {\n    create: [\n      async (context: HookContext<OrderService>, next: NextFunction) => {\n        console.log('Start Work')\n        await transaction.start()(context)\n        try {\n          //We can do any work here, similar to a before hook\n          await next()\n          const ourOrder = context.result as Order\n\n          await context.app\n            .service(shippingOrderPath)\n            .create(\n              { expedited: true, shipped: false, order_id: ourOrder.id },\n              { transaction: context.params.transaction }\n            )\n          console.log('End Work')\n          transaction.end()(context)\n        } catch (err) {\n          console.log('Rollback')\n          transaction.rollback()(context)\n          throw err\n        }\n      }\n    ]\n  }\n}\n```\n\n## Error handling\n\nThe adapter only throws [Feathers Errors](https://docs.feathersjs.com/api/errors.html) with the message to not leak sensitive information to a client. On the server, the original error can be retrieved through a secure symbol via `import { ERROR } from '@feathersjs/knex'`\n\n```ts\nimport { ERROR } from 'feathers-knex'\n\ntry {\n  await knexService.doSomething()\n} catch (error: any) {\n  // error is a FeathersError with just the message\n  // Safely retrieve the Knex error\n  const knexError = error[ERROR]\n}\n```\n\n## Migrations\n\nIn a generated application, migrations are already set up. See the [CLI guide](../../guides/cli/knexfile.md) and the [KnexJS migrations documentation](https://knexjs.org/guide/migrations.html) for more information.",
    "rawContent": "## API\n\n\n\n### KnexService(options)\n\n`new KnexService(options)` returns a new service instance initialized with the given options. The following example extends the `KnexService` and then uses the `sqliteClient` (or relevant client for your SQL database type) from the app configuration and provides it to the `Model` option, which is passed to the new `MessagesService`.\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport { KnexService } from '@feathersjs/knex'\nimport type { KnexAdapterParams, KnexAdapterOptions } from '@feathersjs/knex'\n\nimport type { Application } from '../../declarations'\nimport type { Messages, MessagesData, MessagesQuery } from './messages.schema'\n\nexport interface MessagesParams extends KnexAdapterParams<MessagesQuery> {}\n\nexport class MessagesService<ServiceParams extends Params = MessagesParams> extends KnexService<\n  Messages,\n  MessagesData,\n  ServiceParams\n> {}\n\nexport const messages = (app: Application) => {\n  const options: KnexAdapterOptions = {\n    paginate: app.get('paginate'),\n    Model: app.get('sqliteClient'),\n    name: 'messages'\n  }\n  app.use('messages', new MessagesService(options))\n}\n```\n\n### Options\n\nThe Knex specific adapter options are:\n\n- `Model {Knex}` (**required**) - The KnexJS database instance\n- `name {string}` (**required**) - The name of the table\n- `schema {string}` (_optional_) - The name of the schema table prefix (example: `schema.table`)\n- `tableOptions {only: boolean` (_optional_) - For PostgreSQL only. Argument for passing options to knex db builder. ONLY keyword is used before the tableName to discard inheriting tables' data. (https://knexjs.org/guide/query-builder.html#common)\n- `extendedOperators {[string]: string}` (_optional_) - A map defining additional operators for the query builder. Example: `{ $fulltext: '@@' }` for PostgreSQL full text search. See [Knex source](https://github.com/knex/knex/blob/master/lib/formatter/wrappingFormatter.js#L10) for operators supported by Knex.\n\nThe [common API options](./common.md#options) are:\n\n- `id {string}` (_optional_, default: `'id'`) - The name of the id field property. By design, Knex will always add an `id` property.\n- `paginate {Object}` (_optional_) - A [pagination object](#pagination) containing a `default` and `max` page size\n- `multi {string[]|boolean}` (_optional_, default: `false`) - Allow `create` with arrays and `patch` and `remove` with id `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)\n\nThere are additionally several legacy options in the [common API options](./common.md#options)\n\n### getModel([params])\n\n`service.getModel([params])` returns the [Knex](https://knexjs.org/guide/query-builder.html) client for this table.\n\n### db(params)\n\n`service.db([params])` returns the Knex database instance for a request. This will include the `schema` table prefix and use a transaction if passed in `params`.\n\n### createQuery(params)\n\n`service.createQuery(params)` returns a query builder for a service request, including all conditions matching the query syntax. This method can be overriden to e.g. [include associations](#associations) or used in a hook customize the query and then passing it to the service call as [params.knex](#paramsknex).\n\n```ts\napp.service('messages').hooks({\n  before: {\n    find: [\n      async (context: HookContext) => {\n        const query = context.service.createQuery(context.params)\n\n        // do something with query here\n        query.orderBy('name', 'desc')\n\n        context.params.knex = query\n      }\n    ]\n  }\n})\n```\n\n### params.knex\n\nWhen making a [service method](https://docs.feathersjs.com/api/services.html) call, `params` can contain an `knex` property which allows to modify the options used to run the KnexJS query. See [createQuery](#createqueryparams) for an example.\n\n## Querying\n\nIn addition to the [common querying mechanism](./querying.md), this adapter also supports the following operators. Note that these operators need to be added for each query-able property to the [TypeBox query schema](../schema/typebox.md#query-schemas) or [JSON query schema](../schema/schema.md#querysyntax) like this:\n\n```ts\nconst messageQuerySchema = Type.Intersect(\n  [\n    // This will additionally allow querying for `{ name: { $ilike: 'Dav%' } }`\n    querySyntax(messageQueryProperties, {\n      name: {\n        $ilike: Type.String()\n      }\n    }),\n    // Add additional query properties here\n    Type.Object({})\n  ],\n  { additionalProperties: false }\n)\n```\n\n### $like\n\nFind all records where the value matches the given string pattern. The following query retrieves all messages that start with `Hello`:\n\n```ts\napp.service('messages').find({\n  query: {\n    text: {\n      $like: 'Hello%'\n    }\n  }\n})\n```\n\nThrough the REST API:\n\n```\n/messages?text[$like]=Hello%\n```\n\n### $notlike\n\nThe opposite of `$like`; resulting in an SQL condition similar to this: `WHERE some_field NOT LIKE 'X'`\n\n```ts\napp.service('messages').find({\n  query: {\n    text: {\n      $notlike: '%bar'\n    }\n  }\n})\n```\n\nThrough the REST API:\n\n```\n/messages?text[$notlike]=%bar\n```\n\n### $ilike\n\nFor PostgreSQL only, the keywork $ilike can be used instead of $like to make the match case insensitive. The following query retrieves all messages that start with `hello` (case insensitive):\n\n```ts\napp.service('messages').find({\n  query: {\n    text: {\n      $ilike: 'hello%'\n    }\n  }\n})\n```\n\nThrough the REST API:\n\n```\n/messages?text[$ilike]=hello%\n```\n\n## Search\n\nBasic search can be implemented with the [query operators](#querying).\n\n## Associations\n\nWhile [resolvers](../schema/resolvers.md) offer a reasonably performant way to fetch associated entities, it is also possible to join tables to populate and query related data. This can be done by overriding the [createQuery](#createqueryparams) method and using the [Knex join methods](https://knexjs.org/guide/query-builder.html#join) to join the tables of related services.\n\n### Querying\n\nConsidering a table like this:\n\n```ts\nawait db.schema.createTable('todos', (table) => {\n  table.increments('id')\n  table.string('text')\n  table.bigInteger('personId').references('id').inTable('people').notNullable()\n  return table\n})\n```\n\nTo query based on properties from the `people` table, join the tables you need in `createQuery` like this:\n\n```ts\nclass TodoService<ServiceParams = KnexAdapterParams<TodoQuery>> extends KnexService<Todo> {\n  createQuery(params: KnexAdapterParams<AdapterQuery>) {\n    const query = super.createQuery(params)\n\n    query.join('people as person', 'todos.personId', 'person.id')\n\n    return query\n  }\n}\n```\n\nThis will alias the table name from `people` to `person` (since our Todo only has a single person) and then allow to query all related properties as dot separated properties like `person.name`, including the [Feathers query syntax](./querying.md):\n\n```ts\n// Find the Todos for all Daves older than 100\napp.service('todos').find({\n  query: {\n    'person.name': 'Dave',\n    'person.age': { $gt: 100 }\n  }\n})\n```\n\nNote that in most applications, the query-able properties have to explicitly be added to the [TypeBox query schema](../schema/typebox.md#query-schemas) or [JSON query schema](../schema/schema.md#querysyntax). Support for the query syntax for a single property can be added with the `queryProperty` helper:\n\n```ts\nimport { queryProperty } from '@feathersjs/typebox'\n\nexport const todoQueryProperties = Type.Pick(userSchema, ['text'])\nexport const todoQuerySchema = Type.Intersect(\n  [\n    querySyntax(userQueryProperties),\n    // Add additional query properties here\n    Type.Object(\n      {\n        // Only query the name for strings\n        'person.name': Type.String(),\n        // Support the query syntax for the age\n        'person.age': queryProperty(Type.Number())\n      },\n      { additionalProperties: false }\n    )\n  ],\n  { additionalProperties: false }\n)\n```\n\n### Populating\n\nRelated properties from the joined table can be added as aliased properties with [query.select](https://knexjs.org/guide/query-builder.html#select):\n\n```ts\nclass TodoService<ServiceParams = KnexAdapterParams<TodoQuery>> extends KnexService<Todo> {\n  createQuery(params: KnexAdapterParams<AdapterQuery>) {\n    const query = super.createQuery(params)\n\n    query\n      .join('people as person', 'todos.personId', 'person.id')\n      // This will add a `personName` property\n      .select('person.name as personName')\n      // This will add a `person.age' property\n      .select('person.age')\n\n    return query\n  }\n}\n```\n\n> **important:**\n> \n> Since SQL does not have a concept of nested objects, joined properties will be dot separated strings, **not nested objects**. Conversion can be done by e.g. using Lodash `_.set` in a [resolver converter](../schema/resolvers.md#options).\n> \n\nThis works well for individual properties, however if you require the complete (and safe) representation of the entire related data, use a [resolver](../schema/resolvers.md) instead.\n\n## Transactions\n\nThe Knex adapter comes with three hooks that allows to run service method calls in a transaction. They can be used as application wide hooks or per service.\n\nTo use the transactions feature, you must ensure that the three hooks (start, end and rollback) are being used.\n\nAt the start of any request, a new transaction will be started. All the changes made during the request to the services that are using knex will use the transaction. At the end of the request, if successful, the changes will be commited. If an error occurs, the changes will be forfeit, all the `creates`, `patches`, `updates` and `deletes` are not going to be commited.\n\nThe object that contains `transaction` is stored in the `params.transaction` of each request.\n\n> **Important:**\n> \n> If you call another Knex service within a hook and want to share the transaction you will have to pass `context.params.transaction` in the parameters of the service call.\n> \n\nSometimes it can be important to know when the transaction has been completed (committed or rolled back). For example, we might want to wait for transaction to complete before we send out any realtime events. This can be done by awaiting on the `transaction.committed` promise which will always resolve to either `true` in case the transaction has been committed, or `false` in case the transaction has been rejected.\n\n```ts\napp.service('messages').publish(async (data, context) => {\n  const { transaction } = context.params\n\n  if (transaction) {\n    const success = await transaction.committed\n\n    if (!success) {\n      return []\n    }\n  }\n\n  return app.channel(`rooms/${data.roomId}`)\n})\n```\n\nThis also works with nested service calls and nested transactions. For example, if a service calls `transaction.start()` and passes the transaction param to a nested service call, which also calls `transaction.start()` in it's own hooks, they will share the top most `committed` promise that will resolve once all of the transactions have successfully committed.\n\n### Example Transaction Setup\n\nWe will be using TypeBox schemas throughout, but that is not a requirement.\n\nWe will have two services `Order` and `ShippingOrder`\n\nWhen we create an `Order` we want to automatically create a `ShippingOrder`, but if `Order` or `ShippingOrder` fail to be created we want to roll everything back and not save either.\n\n#### Order Schema\n\n```ts\nexport const orderSchema = Type.Object(\n  {\n    id: Type.String({ format: 'uuid' }),\n    item: Type.String(),\n    address: Type.String(),\n    quantity: Type.Number()\n  },\n  { $id: 'Order', additionalProperties: false }\n)\n```\n\n#### Shipping Order Schema\n\n```ts\nexport const shippingOrderSchema = Type.Object(\n  {\n    id: Type.String({ format: 'uuid' }),\n    order_id: Type.String({ format: 'uuid', $schema: 'Order' }),\n    expedited: Type.Boolean(),\n    shipped: Type.Boolean()\n  },\n  { $id: 'ShippingOrder', additionalProperties: false }\n)\n```\n\n#### After hook\n\nLet's start by adding our logic to automatically create our `ShippingOrder`.\n\nIn our `order.ts` file we can add this hook\n\n```ts\nafter: {\n  create: [\n    async (context: HookContext<OrderService>) => {\n      const ourOrder = context.result as Order //Let's not deal with arrays or pagination for now\n\n      await context.app\n        .service(shippingOrderPath)\n        .create({ expedited: true, shipped: false, order_id: ourOrder.id })\n    }\n  ]\n}\n```\n\n#### The problem\n\nNow that we have our logic in, `Order` will automatically create `ShippingOrder`. But what if something goes wrong and the `Order` is created but `ShippingOrder` isn't. This could cause an order to never be shipped.\n\nWe can solve this problem in two ways outlined below.\n\n<BlockQuote>\n\nYou can emulate an error by throwing an error in the before create hook of your `shipping-order.ts` file\n\n```ts\ncreate: [\n  async () => {\n    throw new Error('Fail')\n  },\n  schemaHooks.validateData(shippingOrderDataValidator),\n  schemaHooks.resolveData(shippingOrderDataResolver)\n]\n```\n\n</BlockQuote>\n\n#### Application wide wrapping transaction\n\nUsing the global hooks in `src/app.ts` we are able to wrap all of our `create`, `update`, and `patch` hooks.\n\n```ts\nimport { transaction } from '@feathersjs/knex'\n\nconst transactionHandler = async (context: HookContext<any>, next: NextFunction) => {\n  try {\n    console.log('Start our work')\n    await transaction.start()(context)\n    await next()\n    await transaction.end()(context)\n    console.log('Work done')\n  } catch (err) {\n    console.log('Rollback')\n    await transaction.rollback()(context)\n    throw err\n  }\n}\n\n// Register hooks that run on all service methods\napp.hooks({\n  around: {\n    create: [transactionHandler],\n    patch: [transactionHandler],\n    update: [transactionHandler],\n    delete: [transactionHandler]\n  }\n})\n```\n\nWhat this does is for any `create`/`update`/`patch`/`delete` request, we are starting a transaction that will be available in `context.params.transaction`.\n\nNote this does not mean we are done, when a `create` request is made to `Order`, it will have `context.params.transaction` available to it but we have to pass that along to `ShippingOrder` create request.\n\nLet's revisit our hook that automatically creates `ShippingOrder` and modify it to pass our transaction with the request.\n\n```ts\nafter: {\n  create: [\n    async (context: HookContext<OrderService>) => {\n      const ourOrder = context.result as Order\n\n      await context.app.service(shippingOrderPath).create(\n        { expedited: true, shipped: false, order_id: ourOrder.id },\n        { transaction: context.params.transaction } // <--\n      )\n    }\n  ]\n}\n```\n\n<BlockQuote>\nWe have to use await here otherwise the transaction will close before the creation is finished. For something like sending an email, you can opt to not await.\n\n```ts\ncontext.params.transaction?.committed.then((success: any) => {\n  if (!success) return\n  //Send Email\n})\n```\n\n</BlockQuote>\n\n### Service wide wrapping transaction\n\nThe simplest way of doing this is\n\n- Add `transaction.start()` in the before create hook.\n- Add `transaction.end()` in the after create hook.\n- Add `transaction.rollback()` in the error all hook.\n\n```ts\napp.service(orderPath).hooks({\n  around: {\n    // ...\n  },\n  before: {\n    // ...\n    create: [\n      schemaHooks.validateData(orderDataValidator),\n      schemaHooks.resolveData(orderDataResolver),\n      transaction.start()\n    ]\n  },\n  after: {\n    create: [\n      async (context: HookContext<OrderService>) => {\n        const ourOrder = context.result as Order //Let's not deal with arrays or pagination for now\n\n        await context.app\n          .service(shippingOrderPath)\n          .create(\n            { expedited: true, shipped: false, order_id: ourOrder.id },\n            { transaction: context.params.transaction }\n          )\n      },\n      transaction.end()\n    ]\n  },\n  error: {\n    all: [transaction.rollback()]\n  }\n})\n```\n\n#### Example with around hook\n\nWhen utilizing the around hook, you must pass the context manually. Remember to handle your errors as well, since `around` hooks will not throw into the `error` hook\n\n```ts\n{\n  around: {\n    create: [\n      async (context: HookContext<OrderService>, next: NextFunction) => {\n        console.log('Start Work')\n        await transaction.start()(context)\n        try {\n          //We can do any work here, similar to a before hook\n          await next()\n          const ourOrder = context.result as Order\n\n          await context.app\n            .service(shippingOrderPath)\n            .create(\n              { expedited: true, shipped: false, order_id: ourOrder.id },\n              { transaction: context.params.transaction }\n            )\n          console.log('End Work')\n          transaction.end()(context)\n        } catch (err) {\n          console.log('Rollback')\n          transaction.rollback()(context)\n          throw err\n        }\n      }\n    ]\n  }\n}\n```\n\n## Error handling\n\nThe adapter only throws [Feathers Errors](https://docs.feathersjs.com/api/errors.html) with the message to not leak sensitive information to a client. On the server, the original error can be retrieved through a secure symbol via `import { ERROR } from '@feathersjs/knex'`\n\n```ts\nimport { ERROR } from 'feathers-knex'\n\ntry {\n  await knexService.doSomething()\n} catch (error: any) {\n  // error is a FeathersError with just the message\n  // Safely retrieve the Knex error\n  const knexError = error[ERROR]\n}\n```\n\n## Migrations\n\nIn a generated application, migrations are already set up. See the [CLI guide](../../guides/cli/knexfile.md) and the [KnexJS migrations documentation](https://knexjs.org/guide/migrations.html) for more information.",
    "breadcrumb": "SQL Databases",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/databases/knex.md",
    "heading": "SQL Databases",
    "subHeadings": [
      "API",
      "KnexService(options)",
      "Options",
      "getModel([params])",
      "db(params)",
      "createQuery(params)",
      "params.knex",
      "Querying",
      "$like",
      "$notlike",
      "$ilike",
      "Search",
      "Associations",
      "Querying",
      "Populating",
      "Transactions",
      "Example Transaction Setup",
      "Order Schema",
      "Shipping Order Schema",
      "After hook",
      "The problem",
      "Application wide wrapping transaction",
      "Service wide wrapping transaction",
      "Example with around hook",
      "Error handling",
      "Migrations"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 4412,
    "category": "databases",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "setup",
      "github",
      "schema",
      "resolver",
      "typebox",
      "database",
      "adapter",
      "postgresql",
      "knex",
      "pagination",
      "querying",
      "events",
      "publish",
      "rest",
      "http",
      "client",
      "configuration",
      "error handling",
      "errors",
      "declarations",
      "cli",
      "generate",
      "migration",
      "users"
    ],
    "embedding": [
      -0.016113,
      0.038809,
      -0.054482,
      0.022745,
      -0.024222,
      -0.029491,
      0.047035,
      0.004886,
      -0.016034,
      0.025707,
      0.011347,
      -0.005957,
      -0.025201,
      0.04092,
      0.021784,
      0.024155,
      -0.010375,
      -0.015734,
      0.015553,
      -0.002302,
      -0.047456,
      0.049613,
      0.05753,
      0.00841,
      -0.003719,
      0.001963,
      -0.0041,
      -0.007656,
      -0.016176,
      0.002533,
      -0.002991,
      -0.006345,
      -0.006473,
      0.012207,
      -0.014703,
      -0.031127,
      -0.005175,
      0.015454,
      -0.025562,
      0.019158,
      -0.025641,
      -0.024457,
      0.001508,
      -0.041303,
      0.047776,
      -0.002871,
      0.011535,
      -0.016607,
      -0.003941,
      -0.009239,
      -0.064633,
      -0.03001,
      0.022219,
      -0.032055,
      0.073705,
      0.024128,
      -0.0464,
      0.019251,
      -0.050135,
      0.002715,
      -0.057946,
      0.023946,
      -0.017649,
      0.002347,
      -0.018009,
      0.039353,
      -0.020335,
      0.020337,
      -0.003199,
      -0.040667,
      -0.001261,
      0.017355,
      -0.006657,
      -0.023469,
      -0.045645,
      0.004766,
      0.033344,
      -0.018923,
      0.014965,
      0.033833,
      -0.025159,
      -0.022495,
      -0.014215,
      0.002574,
      -0.014241,
      0.017149,
      -0.05238,
      0.003092,
      0.023767,
      -0.001302,
      0.011735,
      0.022241,
      0.026393,
      -0.021533,
      -0.032918,
      -0.030485,
      -0.068166,
      0.007772,
      0.02803,
      -0.026139,
      0.004286,
      0.030503,
      0.009697,
      -0.034539,
      0.032813,
      0.009023,
      0.020848,
      -0.015754,
      0.000256,
      -0.041445,
      0.000931,
      -0.026693,
      0.031392,
      -0.000226,
      0.01252,
      -0.028069,
      0.017065,
      -0.02879,
      0.016816,
      0.029298,
      0.01094,
      -0.003833,
      0.031854,
      0.004905,
      -0.034761,
      0.003071,
      -0.030604,
      0.012128,
      -0.069788,
      0.005376,
      0.013119,
      -0.006337,
      0.020815,
      -0.000683,
      -0.030962,
      0.01681,
      0.024568,
      0.01936,
      0.026553,
      -0.044435,
      0.033867,
      -0.029327,
      0.014417,
      -0.017519,
      0.036986,
      -0.014146,
      0.103475,
      0.005304,
      -0.020098,
      -0.055995,
      0.001688,
      -0.005174,
      0.016528,
      -0.033645,
      0.019904,
      -0.070382,
      -0.011656,
      0.023171,
      0.043114,
      0.006327,
      -0.026362,
      0.033405,
      -0.046461,
      0.005217,
      0.067401,
      0.015562,
      0.018151,
      -0.013361,
      -0.006877,
      -0.028985,
      0.018184,
      -0.003076,
      0.07267,
      -0.004416,
      0.048481,
      0.013547,
      0.103012,
      0.022253,
      0.021469,
      -0.026201,
      -0.065884,
      -0.004844,
      0.005799,
      -0.06321,
      0.009035,
      -0.018672,
      -0.00407,
      -0.038531,
      -0.014999,
      0.01355,
      -0.034454,
      0.001087,
      0.036497,
      0.002944,
      0.018001,
      -0.040181,
      0.028282,
      -0.021424,
      0.015671,
      -0.005479,
      0.036398,
      0.036269,
      0.027139,
      -0.008843,
      -0.039984,
      -0.037789,
      0.005059,
      -0.016328,
      -0.01776,
      -0.051524,
      0.020961,
      0.02593,
      -0.034701,
      0.014136,
      -0.031711,
      0.035765,
      -0.004524,
      0.015708,
      -0.024233,
      -0.031998,
      -0.002084,
      0.016172,
      -0.031165,
      0.009012,
      0.020915,
      0.009202,
      0.042812,
      0.00256,
      -0.020118,
      -0.017181,
      -0.034944,
      0.045028,
      -0.010296,
      -0.01483,
      0.026085,
      -0.0264,
      0.007738,
      -0.020063,
      0.045711,
      0.016219,
      -0.056535,
      -0.060899,
      0.024379,
      0.010011,
      -0.021219,
      -0.019306,
      0.020851,
      0.030768,
      -0.027425,
      -0.009962,
      0.001148,
      0.033701,
      -0.025536,
      -0.01532,
      0.014099,
      -0.000018,
      0.015957,
      -0.016294,
      -0.033672,
      -0.036785,
      0.019412,
      0.054221,
      0.00632,
      0.038553,
      0.031044,
      0.026395,
      -0.052364,
      -0.007045,
      0.027186,
      0.020889,
      -0.008234,
      -0.000097,
      0.023185,
      0.024808,
      0.003879,
      0.02199,
      0.00567,
      -0.0134,
      0.124539,
      0.01734,
      0.000597,
      0.023048,
      0.027648,
      0.003238,
      0.024591,
      0.040028,
      -0.017652,
      -0.023754,
      -0.013687,
      -0.04868,
      -0.000591,
      0.01542,
      0.049404,
      -0.005125,
      -0.047445,
      0.018961,
      0.008359,
      -0.144904,
      -0.018748,
      0.051915,
      0.001368,
      0.010919,
      -0.001036,
      -0.050901,
      -0.024629,
      -0.06543,
      0.030744,
      0.01185,
      -0.049982,
      -0.016456,
      -0.005122,
      0.035953,
      -0.019349,
      0.025133,
      0.010019,
      0.038095,
      -0.041162,
      -0.035958,
      -0.045986,
      0.021781,
      0.032179,
      0.013076,
      -0.034758,
      -0.0007,
      0.023273,
      -0.035405,
      -0.021346,
      -0.010231,
      0.016327,
      -0.004498,
      -0.007659,
      0.005919,
      0.005449,
      0.012805,
      -0.053695,
      0.002857,
      -0.032808,
      0.014404,
      0.060961,
      -0.015925,
      -0.001903,
      -0.016612,
      -0.025289,
      0.014006,
      0.026849,
      -0.047677,
      -0.016493,
      -0.013878,
      -0.025471,
      0.003139,
      0.000168,
      -0.029835,
      -0.029354,
      -0.002153,
      0.071261,
      -0.01546,
      -0.003809,
      0.022158,
      0.001393,
      0.024103,
      -0.02055,
      -0.027216,
      -0.004564,
      0.016955,
      -0.010325,
      0.03607,
      -0.048779,
      0.06002,
      -0.045403,
      -0.02902,
      0.020843,
      -0.028043,
      -0.016861,
      -0.01904,
      -0.03157,
      -0.015169,
      -0.110778,
      0.013304,
      -0.004887,
      0.005102,
      0.034194,
      -0.031054,
      0.011667,
      -0.001283,
      -0.013015,
      0.026558,
      0.23033,
      0.016318,
      0.010215,
      0.030278,
      0.05755,
      -0.003831,
      0.043219,
      0.026415,
      0.027082,
      -0.040356,
      -0.013206,
      0.002261,
      0.0006,
      -0.023578,
      -0.029131,
      -0.008142,
      -0.030541,
      0.0275,
      0.041149,
      -0.033751,
      0.009742,
      -0.015669,
      0.009511,
      0.021139,
      -0.034507,
      -0.057638,
      -0.019543,
      0.008358,
      -0.054548,
      0.053843,
      -0.017622,
      0.00742,
      0.037121,
      -0.085339,
      -0.074613,
      -0.041898,
      0.00529,
      0.009142,
      0.000276,
      -0.008754,
      0.005207,
      -0.003722,
      0.043405,
      -0.000292,
      -0.03344,
      -0.041585,
      0.013848,
      0.041913,
      -0.023055,
      -0.027588,
      -0.024382,
      -0.029781,
      -0.017553,
      0.013911,
      -0.005025,
      -0.025965,
      -0.020697,
      0.022506,
      -0.005382,
      0.054643,
      0.033018,
      0.006364,
      -0.069617,
      0.029881,
      -0.014884,
      0.021434,
      0.035381,
      -0.015199,
      0.012238,
      0.068883,
      0.010081,
      0.020884,
      0.025822,
      -0.02449,
      0.024868,
      0.001415,
      0.041768,
      0.042431,
      -0.00358,
      0.043108,
      -0.006138,
      0.002162,
      -0.03618,
      0.006689,
      0.014933,
      0.04372,
      -0.019211,
      0.074035,
      0.020334,
      -0.019204,
      -0.00623,
      0.004359,
      0.017889,
      0.039475,
      0.02405,
      0.005227,
      0.051116,
      -0.01511,
      0.001346,
      -0.011494,
      0.031996,
      0.011829,
      0.044539,
      -0.036713,
      0.038011,
      -0.003341,
      -0.000054,
      0.02106,
      0.027538,
      0.022789,
      -0.04905,
      0.021203,
      0.006185,
      -0.068646,
      -0.012721,
      0.037579,
      0.006162,
      0.031205,
      0.039542,
      0.0107,
      0.00171,
      0.01866,
      -0.004381,
      -0.035591,
      -0.004064,
      -0.05717,
      -0.010515,
      -0.030623,
      -0.023142,
      0.023943,
      0.03901,
      -0.044576,
      -0.000942,
      0.03784,
      -0.01052,
      0.020501,
      0.016176,
      0.026374,
      -0.015603,
      0.010107,
      -0.033182,
      -0.011423,
      0.02857,
      0.019427,
      0.013394,
      0.024994,
      0.041144,
      -0.000952,
      0.015366,
      0.020888,
      0.030597,
      0.077051,
      -0.011083,
      -0.042123,
      -0.026799,
      0.00069,
      -0.011889,
      -0.004798,
      0.030756,
      -0.010686,
      -0.019535,
      0.008132,
      0.019273,
      0.02993,
      0.02279,
      0.004359,
      0.040656,
      0.051542,
      -0.0077,
      -0.021325,
      -0.030628,
      -0.052425,
      -0.045721,
      0.055776,
      0.030553,
      0.028305,
      -0.078068,
      -0.021595,
      0.035826,
      -0.033852,
      0.012517,
      0.003698,
      -0.025909,
      -0.02827,
      0.004415,
      0.094716,
      0.007789,
      -0.004448,
      0.039541,
      -0.029483,
      -0.000625,
      0.102127,
      -0.019599,
      0.016039,
      0.021777,
      0.002614,
      0.037942,
      0.044753,
      0.018278,
      -0.013837,
      0.020384,
      -0.01155,
      0.021482,
      0.037906,
      -0.015354,
      -0.031606,
      0.031071,
      0.012655,
      -0.021345,
      -0.009438,
      0.002308,
      0.004792,
      -0.055356,
      -0.030168,
      0.010288,
      -0.042082,
      0.030037,
      0.046764,
      -0.044518,
      -0.004325,
      0.004165,
      0.00121,
      0.010641,
      -0.026657,
      -0.013921,
      -0.028229,
      0.005955,
      -0.008341,
      -0.034827,
      -0.013509,
      -0.003049,
      0.054646,
      -0.010868,
      -0.022348,
      0.01707,
      0.030987,
      0.06184,
      0.009307,
      -0.00603,
      -0.022154,
      -0.013601,
      -0.000283,
      0.037578,
      0.053243,
      -0.04787,
      -0.005615,
      -0.040453,
      -0.007862,
      -0.025651,
      0.019644,
      -0.034093,
      -0.0061,
      0.038294,
      -0.01206,
      -0.00133,
      0.03204,
      0.032008,
      0.004284,
      -0.017137,
      0.005903,
      -0.014012,
      0.012626,
      -0.00469,
      -0.030545,
      -0.020789,
      -0.042732,
      0.021063,
      -0.026874,
      -0.040271,
      -0.024925,
      0.000917,
      -0.028386,
      -0.043658,
      -0.052163,
      -0.007342,
      -0.011594,
      -0.05373,
      -0.021252,
      0.011572,
      -0.001424,
      -0.056045,
      -0.003352,
      0.02319,
      0.003641,
      0.026649,
      0.036691,
      0.030361,
      0.008744,
      -0.036743,
      -0.053117,
      0.028021,
      -0.011909,
      -0.065789,
      0.029756,
      -0.005951,
      0.017269,
      0.003781,
      0.022764,
      -0.011103,
      0.003573,
      -0.003018,
      0.002773,
      -0.030115,
      0.018131,
      -0.032714,
      -0.022222,
      -0.001678,
      -0.040989,
      0.052477,
      0.017553,
      0.000927,
      0.017038,
      0.008901,
      0.013537,
      0.045835,
      0.013346,
      0.082403,
      -0.030962,
      0.027555,
      -0.026387,
      -0.007262,
      -0.003086,
      -0.048145,
      -0.018441,
      0.026607,
      0.000629,
      0.07024,
      -0.03657,
      -0.036354,
      0.02054,
      -0.039641,
      0.027884,
      -0.028212,
      -0.044396,
      -0.021495,
      -0.0138,
      0.03895,
      -0.039559,
      -0.005393,
      -0.044122,
      0.057408,
      -0.007903,
      0.071928,
      -0.030057,
      0.034542,
      -0.017429,
      -0.01175,
      -0.002805,
      -0.037835,
      -0.028168,
      -0.013857,
      -0.016631,
      -0.019613,
      -0.02488,
      0.025864,
      -0.028121,
      -0.09246,
      -0.007534,
      0.016825,
      0.020818,
      -0.037738,
      0.062107,
      -0.006717,
      -0.030274,
      0.013104,
      0.008527,
      0.012032,
      -0.042182,
      -0.043895,
      -0.02841,
      -0.017803,
      -0.00011,
      -0.003497,
      0.019454,
      -0.009308,
      0.003796,
      -0.022839,
      0.026579,
      -0.007632,
      -0.023955,
      -0.026587,
      -0.039539,
      -0.016032,
      -0.005815,
      -0.03169,
      0.018697,
      -0.027209,
      -0.006329,
      -0.000159,
      0.027427,
      -0.017464,
      0.030543,
      0.000131,
      -0.007333,
      -0.136614,
      0.019063,
      -0.003591,
      0.048235,
      0.016028,
      0.023436,
      0.027301,
      -0.071526,
      -0.000445,
      -0.053014,
      -0.045694,
      -0.010528,
      -0.019077,
      -0.037099,
      0.017767,
      0.045151,
      -0.018449,
      -0.021087,
      -0.024539,
      -0.023492,
      0.01214,
      -0.030818,
      0.004666,
      0.025992,
      0.003297,
      0.013948,
      0.004399,
      -0.018058,
      -0.012289,
      -0.005239,
      -0.005989,
      -0.022191,
      0.032642,
      0.03226,
      0.030728,
      0.024703,
      -0.01978,
      0.007894,
      -0.026248,
      -0.033205,
      0.005207,
      0.004556,
      -0.036166,
      0.024998,
      0.03348,
      -0.010701,
      -0.026313,
      -0.054025,
      -0.01479,
      -0.015051,
      0.002026,
      -0.009931,
      -0.024727,
      0.000782,
      0.023418,
      -0.044792,
      -0.015002,
      0.031185,
      -0.033362,
      0.048813,
      -0.015636,
      0.047773,
      -0.021828,
      -0.0597,
      -0.002357,
      -0.021219,
      0.008415,
      0.059087,
      0.008183,
      0.044686,
      0.029507,
      -0.059983,
      0.003223,
      -0.035121,
      0.038747,
      -0.010106,
      0.050139,
      0.014718,
      -0.022411,
      -0.027146,
      -0.023472,
      -0.001978,
      -0.03231,
      0.060838,
      0.028484,
      -0.004348,
      -0.035012,
      0.006886,
      -0.018534,
      -0.009871,
      -0.028286,
      -0.047392,
      -0.024964,
      0.014162,
      -0.053528,
      0.044054,
      -0.008559,
      0.011449,
      -0.002898,
      -0.030687,
      -0.014207,
      0.00532,
      -0.010008,
      0.027493,
      -0.014474,
      0.036512,
      -0.014919,
      0.00267,
      0.00988,
      -0.011623,
      -0.016643,
      -0.013151,
      -0.013752,
      0.011044,
      -0.055221,
      -0.010724,
      0.014861,
      0.00505,
      -0.01694,
      0.003138,
      0.056737,
      0.003922,
      0.024813,
      -0.026326,
      0.006857,
      0.076997,
      0.029557,
      0.017189,
      0.043067,
      -0.00551,
      0.027178,
      -0.055775,
      -0.053258,
      -0.000509,
      0.005875,
      -0.025846,
      -0.018527,
      0.035404,
      -0.030311,
      -0.044049,
      -0.019885,
      -0.025161,
      0.004413,
      -0.048009,
      0.004005,
      -0.023739,
      -0.022339,
      -0.018089,
      -0.010454,
      -0.066827,
      0.018931,
      -0.00153,
      0.014106,
      0.019663,
      0.008096,
      0.021703,
      0.023252,
      -0.015654,
      -0.051138,
      0.04881,
      -0.017986,
      -0.056153,
      -0.012663,
      -0.038421,
      -0.004221,
      -0.01078,
      0.008834,
      -0.0233,
      -0.014883,
      0.02088,
      -0.014796,
      0.020441,
      -0.020095,
      0.018838,
      0.035119,
      -0.043804,
      0.035751,
      -0.014051,
      0.07636,
      -0.036776,
      0.019136,
      0.006031,
      0.043024,
      0.001007,
      0.003878,
      0.001362,
      -0.017324,
      0.01233,
      0.036006,
      0.005553,
      -0.037114,
      0.007018,
      0.033823,
      -0.013994,
      0.017968,
      0.012855,
      0.018612,
      0.011442,
      -0.011605,
      0.04662,
      -0.046971,
      0.006508,
      0.001781,
      0.021248,
      -0.020908,
      0.058414,
      -0.019896,
      -0.012828,
      0.002319,
      0.034516,
      0.017595,
      0.008747,
      0.03459,
      0.035,
      0.018941,
      0.014181,
      0.023211,
      0.038537,
      0.009048,
      -0.022338,
      0.034484,
      0.014402,
      -0.027473,
      -0.043686,
      -0.034844,
      -0.014585,
      -0.011823,
      -0.01849,
      -0.026348,
      0.02117,
      -0.025146,
      -0.041298,
      0.010566,
      0.011871,
      0.052128,
      -0.01188,
      0.005936,
      0.018023,
      -0.04431,
      -0.015289,
      0.008171,
      0.024676,
      0.021735,
      -0.001847
    ]
  },
  {
    "id": "v5-memory-0",
    "content": "# Memory Adapter\nBreadcrumb: Memory Adapter\nCovers: API | Usage | Options\nTopics: create, update, remove, database, memory, pagination, events, http, custom service\n\n## API\n\n\n\n### Usage\n\n```ts\nimport { MemoryService } from '@feathersjs/memory'\n\ntype Message = {\n  id: number\n  text: string\n}\n\ntype MessageData = Pick<Message, 'text'>\n\nclass MyMessageService extends MemoryService<Message, MessageData> {}\n\napp.use('messages', new MyMessageService({}))\n```\n\n### Options\n\nThe following options are available:\n\n- `id` (_optional_, default: `'id'`) - The name of the id field property.\n- `startId` (_optional_, default: `0`) - An id number to start with that will be incremented for every new record (unless it is already set).\n- `store` (_optional_) - An object with id to item assignments to pre-initialize the data store\n- `events` (_optional_) - A list of [custom service events](https://docs.feathersjs.com/api/events.html#custom-events) sent by this service\n- `paginate` (_optional_) - A [pagination object](https://docs.feathersjs.com/api/databases/common.html#pagination) containing a `default` and `max` page size\n- `allow` (_optional_) - A list of additional query parameters to allow\n- `multi` (_optional_) - Allow `create` with arrays and `update` and `remove` with `id` `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)",
    "rawContent": "## API\n\n\n\n### Usage\n\n```ts\nimport { MemoryService } from '@feathersjs/memory'\n\ntype Message = {\n  id: number\n  text: string\n}\n\ntype MessageData = Pick<Message, 'text'>\n\nclass MyMessageService extends MemoryService<Message, MessageData> {}\n\napp.use('messages', new MyMessageService({}))\n```\n\n### Options\n\nThe following options are available:\n\n- `id` (_optional_, default: `'id'`) - The name of the id field property.\n- `startId` (_optional_, default: `0`) - An id number to start with that will be incremented for every new record (unless it is already set).\n- `store` (_optional_) - An object with id to item assignments to pre-initialize the data store\n- `events` (_optional_) - A list of [custom service events](https://docs.feathersjs.com/api/events.html#custom-events) sent by this service\n- `paginate` (_optional_) - A [pagination object](https://docs.feathersjs.com/api/databases/common.html#pagination) containing a `default` and `max` page size\n- `allow` (_optional_) - A list of additional query parameters to allow\n- `multi` (_optional_) - Allow `create` with arrays and `update` and `remove` with `id` `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)",
    "breadcrumb": "Memory Adapter",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/databases/memory.md",
    "heading": "Memory Adapter",
    "subHeadings": [
      "API",
      "Usage",
      "Options"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 310,
    "category": "databases",
    "tags": [
      "create",
      "update",
      "remove",
      "database",
      "memory",
      "pagination",
      "events",
      "http",
      "custom service"
    ],
    "embedding": [
      -0.002336,
      -0.013213,
      -0.040092,
      0.01429,
      -0.012692,
      -0.059651,
      0.023428,
      0.020049,
      0.029325,
      0.009888,
      -0.027439,
      -0.028007,
      -0.024064,
      0.032141,
      -0.016947,
      0.015057,
      -0.015869,
      0.003024,
      0.019179,
      0.001372,
      -0.029994,
      0.057181,
      0.009262,
      0.006866,
      0.002873,
      -0.027191,
      -0.012422,
      -0.011186,
      -0.011688,
      -0.005356,
      0.033336,
      -0.02804,
      -0.018791,
      0.016632,
      -0.00649,
      -0.035274,
      0.00216,
      -0.027389,
      -0.04577,
      0.024243,
      -0.002086,
      -0.008715,
      0.016293,
      -0.03104,
      0.010926,
      -0.065624,
      0.024672,
      -0.002421,
      -0.006396,
      -0.042218,
      -0.037257,
      -0.027717,
      0.036159,
      -0.055547,
      0.014308,
      0.033778,
      -0.036656,
      0.062946,
      -0.046835,
      0.03733,
      -0.043715,
      0.002249,
      -0.025707,
      0.006891,
      -0.013894,
      0.008088,
      -0.01623,
      0.000799,
      -0.022425,
      -0.015054,
      -0.018754,
      0.003752,
      -0.055946,
      0.016194,
      -0.061773,
      0.001671,
      0.033325,
      -0.006284,
      -0.038073,
      -0.001105,
      -0.015207,
      0.005497,
      -0.001494,
      0.016585,
      0.021163,
      0.012256,
      -0.034049,
      0.030712,
      0.057973,
      0.000591,
      0.018985,
      -0.013808,
      0.057807,
      -0.055951,
      -0.016877,
      -0.024462,
      -0.022156,
      -0.011587,
      0.037313,
      -0.005827,
      -0.023436,
      0.014597,
      0.004777,
      -0.020323,
      0.037846,
      0.012979,
      0.009686,
      0.041326,
      -0.022301,
      -0.035665,
      -0.022655,
      0.017741,
      0.051887,
      0.00476,
      -0.02811,
      -0.035574,
      0.028291,
      -0.00712,
      0.032167,
      0.004911,
      -0.004049,
      0.043141,
      0.054218,
      -0.031912,
      -0.022765,
      0.026494,
      -0.032759,
      0.069683,
      0.003295,
      -0.013965,
      0.048152,
      -0.003622,
      0.021328,
      -0.026284,
      -0.052881,
      -0.015009,
      0.054075,
      0.020098,
      -0.001236,
      -0.03765,
      0.008164,
      -0.01507,
      0.002867,
      -0.007188,
      0.033926,
      -0.024197,
      0.102687,
      0.017841,
      -0.022087,
      -0.062558,
      -0.011739,
      0.034599,
      0.015162,
      -0.075165,
      0.014585,
      -0.07862,
      0.015096,
      -0.0013,
      0.010147,
      -0.002879,
      -0.04493,
      0.006075,
      -0.091474,
      0.040018,
      0.03092,
      -0.004243,
      0.040293,
      -0.012417,
      0.008999,
      -0.026389,
      0.012661,
      -0.039931,
      0.037771,
      -0.022938,
      0.023262,
      -0.001264,
      0.077624,
      0.021345,
      0.013809,
      -0.017718,
      -0.034474,
      -0.006576,
      -0.031386,
      -0.055757,
      -0.024482,
      0.014349,
      -0.034976,
      -0.051024,
      -0.011614,
      0.02092,
      -0.008797,
      -0.012859,
      0.052798,
      0.029164,
      0.030794,
      -0.009015,
      0.0024,
      0.012494,
      -0.021032,
      0.044279,
      0.019516,
      0.055965,
      0.041608,
      0.02651,
      -0.026398,
      -0.050891,
      -0.009546,
      -0.005256,
      -0.014587,
      -0.04808,
      -0.040624,
      0.032296,
      -0.058314,
      -0.040147,
      -0.049055,
      -0.035534,
      0.019805,
      0.005166,
      -0.013979,
      -0.05551,
      -0.00152,
      0.04477,
      0.014594,
      0.00367,
      0.001085,
      0.001736,
      0.061462,
      -0.009385,
      0.019169,
      -0.027666,
      -0.014872,
      0.043292,
      0.015605,
      0.001559,
      -0.000093,
      -0.009114,
      -0.008825,
      0.006295,
      0.013707,
      0.015969,
      -0.036428,
      -0.040586,
      -0.028417,
      0.022621,
      -0.035939,
      0.006834,
      -0.018702,
      0.007629,
      -0.000233,
      0.008603,
      0.002586,
      0.025707,
      -0.015806,
      -0.037605,
      0.025207,
      -0.011246,
      0.048144,
      -0.009589,
      -0.044248,
      -0.011629,
      0.008725,
      0.008322,
      0.000739,
      0.004995,
      0.026811,
      -0.012514,
      -0.021691,
      -0.034192,
      0.025149,
      -0.010145,
      -0.009831,
      -0.024308,
      0.00773,
      0.003769,
      0.001293,
      -0.011136,
      -0.000915,
      -0.006698,
      0.083648,
      0.033065,
      -0.046356,
      0.028103,
      0.081214,
      0.029904,
      0.03458,
      0.012202,
      -0.0113,
      -0.026262,
      0.007017,
      -0.027398,
      0.004024,
      -0.020805,
      0.034706,
      -0.004059,
      -0.037693,
      -0.010367,
      0.019329,
      -0.151356,
      -0.003798,
      0.019824,
      0.025962,
      0.014285,
      -0.000746,
      -0.034451,
      0.010609,
      -0.029949,
      0.031586,
      0.013701,
      -0.039275,
      0.00095,
      -0.023671,
      -0.012985,
      -0.018221,
      0.018064,
      0.03665,
      0.041942,
      -0.040092,
      -0.000771,
      -0.078191,
      0.065667,
      0.0155,
      -0.035338,
      -0.021595,
      0.059428,
      0.027939,
      -0.033753,
      -0.030041,
      -0.038775,
      0.055697,
      0.012828,
      0.016996,
      -0.030175,
      0.02792,
      0.011624,
      -0.000595,
      -0.052227,
      -0.044121,
      -0.005333,
      0.037699,
      0.003642,
      0.074967,
      0.052747,
      -0.00296,
      -0.004335,
      -0.006412,
      -0.029776,
      -0.028127,
      0.018205,
      -0.020694,
      0.003153,
      0.009176,
      -0.055865,
      0.010214,
      -0.00223,
      0.058237,
      0.017438,
      0.001474,
      -0.031119,
      -0.005058,
      0.043577,
      0.016973,
      0.002105,
      -0.003013,
      0.026916,
      -0.010221,
      0.003175,
      -0.04549,
      0.030772,
      -0.043773,
      0.005683,
      0.015528,
      -0.0646,
      -0.008201,
      -0.013862,
      -0.038808,
      0.008673,
      -0.117715,
      -0.031733,
      0.011385,
      -0.021858,
      0.03579,
      -0.032781,
      -0.031183,
      -0.024144,
      -0.012362,
      0.02554,
      0.23789,
      -0.001938,
      -0.000304,
      0.032857,
      0.04478,
      -0.011072,
      0.006197,
      0.019906,
      0.010471,
      0.005353,
      0.012044,
      0.041829,
      -0.009136,
      -0.002811,
      -0.013614,
      0.007209,
      -0.052544,
      0.015581,
      0.029162,
      -0.019811,
      0.021717,
      -0.045665,
      0.011532,
      0.036128,
      -0.03649,
      0.015341,
      0.03116,
      0.017877,
      -0.052131,
      0.020426,
      -0.019018,
      0.01275,
      0.034323,
      -0.071247,
      -0.034673,
      0.005614,
      -0.028331,
      -0.037633,
      -0.020635,
      0.003936,
      0.007576,
      0.010617,
      0.04459,
      0.046298,
      -0.021081,
      -0.014624,
      -0.004308,
      -0.001373,
      -0.050352,
      -0.057712,
      -0.019862,
      -0.03817,
      -0.007348,
      0.002263,
      -0.023036,
      -0.032054,
      0.000388,
      -0.002009,
      -0.005448,
      0.045885,
      0.080521,
      -0.008092,
      -0.046492,
      0.014443,
      -0.027527,
      -0.00857,
      0.006123,
      -0.04805,
      -0.028404,
      0.050667,
      -0.043213,
      0.034143,
      0.039984,
      -0.00028,
      0.009607,
      0.008094,
      0.027216,
      0.025902,
      0.033464,
      0.038687,
      -0.02105,
      0.01285,
      -0.039708,
      0.035789,
      0.031838,
      -0.001149,
      0.012347,
      0.033526,
      0.013559,
      -0.028647,
      -0.004166,
      0.005202,
      0.019487,
      0.045644,
      0.019852,
      0.004286,
      0.038532,
      0.036001,
      -0.019748,
      -0.024798,
      -0.03402,
      0.007952,
      0.012721,
      -0.031533,
      0.042634,
      -0.006597,
      0.007089,
      0.015716,
      -0.012582,
      0.019392,
      -0.024541,
      0.027469,
      0.014047,
      -0.005916,
      0.031012,
      0.019185,
      0.020864,
      0.014646,
      0.056141,
      0.008344,
      -0.024241,
      0.046577,
      0.007712,
      0.031233,
      0.05184,
      -0.061421,
      0.0134,
      -0.022895,
      -0.027841,
      0.029283,
      0.031653,
      -0.044258,
      -0.020716,
      0.021002,
      0.036046,
      -0.001483,
      0.018903,
      0.022155,
      0.024758,
      -0.004824,
      -0.006828,
      -0.011162,
      0.019286,
      0.01409,
      0.001807,
      0.02382,
      0.030816,
      -0.015122,
      -0.020034,
      0.01582,
      0.07775,
      0.063252,
      0.034384,
      -0.036886,
      -0.04577,
      -0.047242,
      -0.023608,
      0.026527,
      0.05092,
      -0.012362,
      0.007779,
      0.016358,
      0.020183,
      0.028605,
      0.041492,
      -0.01211,
      0.039172,
      0.022719,
      -0.05817,
      -0.049635,
      -0.007169,
      -0.058113,
      -0.0319,
      0.018297,
      -0.026408,
      0.002295,
      -0.025932,
      0.017935,
      -0.005378,
      0.030643,
      -0.031694,
      -0.002179,
      -0.038764,
      -0.024396,
      -0.01357,
      0.02251,
      -0.00814,
      0.002369,
      0.024425,
      -0.052312,
      -0.009924,
      0.116879,
      -0.019413,
      0.011388,
      0.048216,
      -0.03695,
      0.049594,
      0.038408,
      0.027738,
      0.030454,
      0.009856,
      -0.0019,
      -0.009783,
      0.027975,
      0.002879,
      -0.010675,
      -0.033997,
      0.011203,
      -0.002671,
      0.00437,
      0.033729,
      -0.028195,
      -0.006217,
      0.015625,
      0.026163,
      -0.063288,
      0.038117,
      0.059562,
      0.010741,
      -0.010536,
      -0.033797,
      0.011366,
      0.002005,
      -0.026325,
      -0.013839,
      0.009881,
      0.011858,
      0.003301,
      0.008158,
      0.021669,
      -0.010935,
      0.048473,
      0.016401,
      -0.038222,
      0.039702,
      -0.006594,
      0.013558,
      0.010712,
      0.049558,
      -0.021751,
      0.014607,
      0.002059,
      0.008041,
      0.049285,
      0.004188,
      -0.009108,
      -0.004908,
      0.022305,
      -0.048864,
      0.008683,
      -0.038978,
      -0.002469,
      0.011485,
      -0.040632,
      -0.024193,
      0.030218,
      0.051771,
      -0.002695,
      -0.056264,
      -0.008782,
      -0.018871,
      0.038181,
      -0.019971,
      0.015988,
      0.00179,
      -0.044667,
      -0.007836,
      -0.079734,
      -0.038667,
      0.018579,
      -0.011842,
      0.007854,
      -0.015707,
      -0.087787,
      -0.022147,
      0.012809,
      0.037732,
      -0.043992,
      0.030529,
      -0.000739,
      -0.0446,
      -0.023558,
      0.021877,
      0.026177,
      0.006192,
      0.000074,
      0.025381,
      -0.033849,
      -0.028355,
      -0.057148,
      0.02393,
      0.008639,
      -0.038444,
      0.007623,
      -0.019853,
      0.001577,
      0.000668,
      0.010466,
      -0.017479,
      -0.005101,
      -0.009366,
      -0.061141,
      -0.012793,
      0.016286,
      -0.000094,
      0.026331,
      -0.003263,
      -0.064353,
      0.022218,
      0.03453,
      -0.010816,
      -0.028134,
      0.030557,
      0.006574,
      0.022358,
      -0.042672,
      0.04792,
      -0.058333,
      -0.033923,
      -0.029575,
      0.067835,
      -0.0109,
      -0.015675,
      0.023969,
      0.004193,
      0.008829,
      0.011222,
      -0.034865,
      -0.012776,
      0.018927,
      -0.048777,
      -0.009127,
      -0.000676,
      -0.023149,
      0.004936,
      -0.007232,
      0.039665,
      0.015161,
      0.032291,
      -0.00489,
      -0.00007,
      0.015527,
      0.06311,
      -0.036714,
      0.000524,
      0.011212,
      -0.015746,
      -0.006796,
      -0.014428,
      -0.010561,
      -0.013182,
      -0.026973,
      -0.034388,
      -0.031859,
      0.018496,
      -0.025244,
      -0.070771,
      0.004967,
      -0.015336,
      0.003073,
      -0.006133,
      0.020745,
      -0.021714,
      -0.023341,
      -0.001523,
      -0.000073,
      0.01251,
      -0.033017,
      -0.006167,
      0.007444,
      -0.019478,
      -0.013222,
      -0.004745,
      0.048756,
      -0.037512,
      0.024794,
      -0.032367,
      0.032726,
      0.016193,
      -0.021239,
      -0.036078,
      -0.030886,
      -0.005776,
      -0.006488,
      -0.001762,
      -0.007657,
      -0.032444,
      -0.013698,
      0.003781,
      0.023182,
      0.029303,
      -0.020957,
      0.001062,
      0.048236,
      -0.152849,
      -0.005416,
      0.02268,
      -0.03191,
      0.008857,
      0.012436,
      -0.011095,
      -0.052737,
      0.022725,
      -0.009225,
      0.001739,
      -0.007753,
      0.047159,
      -0.024075,
      -0.00707,
      0.019862,
      0.030953,
      -0.007089,
      -0.02362,
      0.022351,
      0.007298,
      -0.000648,
      0.054033,
      -0.022052,
      0.027328,
      0.002348,
      0.002978,
      0.007136,
      -0.009816,
      0.011453,
      -0.022657,
      0.009004,
      0.005607,
      0.055467,
      0.010852,
      0.004238,
      0.008137,
      -0.017708,
      0.011858,
      0.037503,
      -0.019087,
      0.012282,
      -0.032548,
      -0.021456,
      -0.003728,
      0.043406,
      -0.034701,
      -0.06139,
      0.001993,
      -0.011083,
      -0.019709,
      0.02686,
      -0.019899,
      -0.032612,
      -0.019775,
      0.00618,
      -0.008872,
      -0.014587,
      -0.004389,
      0.040043,
      -0.015149,
      0.029026,
      -0.001857,
      -0.043727,
      -0.012264,
      0.023959,
      -0.056175,
      0.01682,
      -0.00318,
      0.009751,
      0.016371,
      -0.034095,
      -0.015587,
      -0.026928,
      0.037241,
      0.051671,
      0.039518,
      -0.020752,
      -0.046882,
      -0.001787,
      -0.011908,
      0.036327,
      -0.022998,
      0.025992,
      0.020052,
      -0.01061,
      -0.009381,
      -0.005857,
      0.002277,
      0.00271,
      -0.037519,
      -0.063408,
      0.014692,
      0.072736,
      -0.005417,
      0.037931,
      0.002447,
      -0.007498,
      0.017227,
      0.025956,
      -0.007482,
      -0.046541,
      0.014006,
      0.008244,
      -0.049376,
      0.030318,
      0.002345,
      0.002528,
      0.010946,
      0.00445,
      0.004109,
      0.010004,
      -0.020026,
      -0.01764,
      -0.04214,
      -0.003161,
      -0.017931,
      0.040639,
      -0.013159,
      -0.005793,
      0.008181,
      0.022167,
      0.001282,
      -0.034055,
      0.036612,
      0.06764,
      0.022623,
      -0.000352,
      0.051407,
      -0.031844,
      0.012344,
      -0.04853,
      -0.014579,
      0.031904,
      0.047131,
      0.001057,
      -0.05377,
      0.053302,
      -0.009193,
      -0.033715,
      -0.069434,
      -0.014409,
      -0.005499,
      -0.050167,
      0.012909,
      -0.009948,
      -0.043371,
      -0.013646,
      -0.014186,
      -0.023013,
      -0.012574,
      -0.025837,
      -0.04256,
      0.029475,
      -0.010261,
      0.015186,
      0.008729,
      0.027141,
      -0.027736,
      0.035259,
      0.004409,
      -0.022357,
      -0.026987,
      -0.010897,
      -0.012179,
      -0.047787,
      0.013956,
      -0.016186,
      -0.014841,
      0.023177,
      0.020896,
      0.046191,
      0.016119,
      -0.036159,
      0.00911,
      -0.048431,
      0.011283,
      0.001984,
      0.063499,
      -0.028029,
      0.013753,
      0.018322,
      0.052503,
      0.019365,
      0.05343,
      -0.007784,
      -0.005633,
      0.046314,
      0.036734,
      -0.005906,
      -0.031489,
      -0.030937,
      0.011917,
      -0.005485,
      0.018183,
      -0.018421,
      0.030045,
      -0.016092,
      -0.029025,
      0.037271,
      0.00174,
      -0.01005,
      0.009214,
      -0.007376,
      -0.006921,
      0.013948,
      -0.02528,
      0.000715,
      0.007955,
      0.054156,
      0.005551,
      -0.011299,
      -0.015381,
      -0.000604,
      0.022807,
      -0.000527,
      0.025929,
      0.03652,
      0.023151,
      -0.025548,
      0.047256,
      0.010381,
      0.004748,
      -0.060494,
      -0.056119,
      0.002682,
      0.006398,
      0.029773,
      -0.050192,
      0.025367,
      -0.041445,
      -0.039499,
      0.012627,
      0.005832,
      -0.013667,
      -0.026791,
      -0.027079,
      -0.010934,
      -0.015341,
      0.006027,
      0.021675,
      -0.002327,
      -0.01006,
      0.019674
    ]
  },
  {
    "id": "v5-mongodb-0",
    "content": "# MongoDB\nBreadcrumb: MongoDB\nCovers: API | `MongoDBService(options)` | Options | getModel() | aggregateRaw(params) | findRaw(params) | makeFeathersPipeline(params) | Custom Params | params.adapter | params.pipeline | params.mongodb | Transactions | Indexes | Querying | Search | Basic Regex Search | Full-Text Search | Aggregation Pipeline | Pipeline Queries | Aggregation Stages | The `$feathers` Stage | Example: Proxy Permissions | Collation | ObjectIds | AJV keyword | ObjectIdSchema | ObjectId resolvers | resolveObjectId | resolveQueryObjectId | Dates\nTopics: hooks, services, application, context, params, find, get, create, update, patch, remove, schema, resolver, typebox, validation, database, adapter, mongodb, pagination, querying, aggregation, collection, http, express, client, configuration, types, declarations, cli, generator, generate, users\n\n## API\n\n\n\n### `MongoDBService(options)`\n\n`new MongoDBService(options)` returns a new service instance initialized with the given options. The following example extends the `MongoDBService` and then uses the `mongodbClient` from the app configuration and provides it to the `Model` option, which is passed to the new `MessagesService`.\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport { MongoDBService } from '@feathersjs/mongodb'\nimport type { MongoDBAdapterParams, MongoDBAdapterOptions } from '@feathersjs/mongodb'\n\nimport type { Application } from '../../declarations'\nimport type { Messages, MessagesData, MessagesQuery } from './messages.schema'\n\nexport interface MessagesParams extends MongoDBAdapterParams<MessagesQuery> {}\n\nexport class MessagesService<ServiceParams extends Params = MessagesParams> extends MongoDBService<\n  Messages,\n  MessagesData,\n  ServiceParams\n> {}\n\nexport const messages = (app: Application) => {\n  const options: MongoDBAdapterOptions = {\n    paginate: app.get('paginate'),\n    Model: app.get('mongodbClient').then((db) => db.collection('messages'))\n  }\n  app.use('messages', new MessagesService(options))\n}\n```\n\nHere's an overview of the `options` object:\n\n### Options\n\nMongoDB adapter specific options are:\n\n- `Model {Promise<MongoDBCollection>}` (**required**) - A Promise that resolves with the MongoDB collection instance. This can also be the return value of an `async` function without `await`\n- `disableObjectify {boolean}` (_optional_, default `false`) - This will disable conversion of the id field to a MongoDB ObjectID if you want to e.g. use normal strings\n- `useEstimatedDocumentCount {boolean}` (_optional_, default `false`) - If `true` document counting will rely on `estimatedDocumentCount` instead of `countDocuments`\n\nThe [common API options](./common.md#options) are:\n\n- `id {string}` (_optional_, default: `'_id'`) - The name of the id field property. By design, MongoDB will always add an `_id` property. But you can choose to use a different property as your primary key.\n- `paginate {Object}` (_optional_) - A [pagination object](#pagination) containing a `default` and `max` page size\n- `multi {string[]|boolean}` (_optional_, default: `false`) - Allow `create` with arrays and `patch` and `remove` with id `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)\n\nThere are additionally several legacy options in the [common API options](./common.md#options)\n\n### getModel()\n\n`getModel([params])` returns a Promise that resolves with the MongoDB collection object. The optional `params` is the service parameters which may allow to override the collection via [params.adapter](./common.md#paramsadapter).\n\n### aggregateRaw(params)\n\nThe `find` method has been split into separate utilities for converting params into different types of MongoDB requests. When using `params.pipeline`, the `aggregateRaw` method is used to convert the Feathers params into a MongoDB aggregation pipeline with the `model.aggregate` method. This method returns a raw MongoDB Cursor object, which can be used to perform custom pagination or in custom server scripts, if desired.\n\n### findRaw(params)\n\n`findRaw(params)` This method is used when there is no `params.pipeline` and uses the common `model.find` method. It returns a raw MongoDB Cursor object, which can be used to perform custom pagination or in custom server scripts, if desired.\n\n### makeFeathersPipeline(params)\n\n`makeFeathersPipeline(params)` takes a set of Feathers params and converts them to a pipeline array, ready to pass to `model.aggregate`. This utility comprises the bulk of the `aggregateRaw` functionality, but does not use `params.pipeline`.\n\n### Custom Params\n\nThe `@feathersjs/mongodb` adapter utilizes three custom params which control adapter-specific features: `params.pipeline`, `params.mongodb`, and `params.adapter`. As mentioned [here](/api/services#params), these custom params are not intended to be used directly from the client. Directly exposing `params.pipeline` or `params.mongodb` to the client directly would expose the entire database to the client through powerful pipeline queries.\n\n#### params.adapter\n\nAllows to dynamically set the [adapter options](#options) (like the `Model` collection) for a service method call.\n\n#### params.pipeline\n\nUsed for [aggregation pipelines](#aggregation-pipeline). Whenever this property is set, the adapter will use the `model.aggregate` method instead of the `model.find` method. The `pipeline` property should be an array of [aggregation stages](https://www.mongodb.com/docs/manual/reference/operator/aggregation-pipeline/).\n\n#### params.mongodb\n\nWhen making a [service method](/api/services.md) call, `params` can contain an`mongodb` property (for example, `{ upsert: true }`) which allows modifying the options used to run the MongoDB query. This param can be used for both find and aggregation queries.\n\n## Transactions\n\n[MongoDB Transactions](https://docs.mongodb.com/manual/core/transactions/) can be used by passing a `session` in [params.mongodb](#paramsmongodb). For example in a [hook](../hooks.md):\n\n```ts\nimport { ObjectId } from 'mongodb'\nimport { HookContext } from '../declarations'\n\nexport const myHook = async (context: HookContext) => {\n  const { app } = context\n  const session = app.get('mongoClient').startSession()\n\n  try {\n    await session.withTransaction(async () => {\n      const fooData = { message: 'Data for foo' }\n      const barData = { text: 'Data for bar' }\n\n      await app.service('fooService').create(fooData, {\n        mongodb: { session }\n      })\n      await app.service('barService').create(barData, {\n        mongodb: { session }\n      })\n    })\n  } finally {\n    await session.endSession()\n  }\n}\n```\n\n## Indexes\n\nIndexes and unique constraints can be added to the `Model` Promise, usually in the `getOptions` in `<service>.class`:\n\n```ts\nexport const getOptions = (app: Application): MongoDBAdapterOptions => {\n  return {\n    paginate: app.get('paginate'),\n    Model: app\n      .get('mongodbClient')\n      .then((db) => db.collection('myservice'))\n      .then((collection) => {\n        collection.createIndex({ email: 1 }, { unique: true })\n\n        return collection\n      })\n  }\n}\n```\n\n> **info:**\n> \n> Note that creating indexes for an existing collection with many entries should be done as a separate operation instead. See the [MongoDB createIndex documentation](https://www.mongodb.com/docs/manual/reference/method/db.collection.createIndex/) for more information.\n>\n\n## Querying\n\nAdditionally to the [common querying mechanism](./querying.md) this adapter also supports [MongoDB's query syntax](https://www.mongodb.com/docs/manual/tutorial/query-documents/) and the `update` method also supports MongoDB [update operators](https://www.mongodb.com/docs/manual/reference/operator/update/).\n\n## Search\n\n> **Important:**\n> \n> Note that in a normal application all MongoDB specific operators have to explicitly be added to the [TypeBox query schema](../schema/typebox.md#query-schemas) or [JSON query schema](../schema/schema.md#querysyntax).\n> \n\nThere are two ways to perform search queries with MongoDB:\n\n- Perform basic Regular Expression matches using the `$regex` filter.\n- Perform full-text search using the `$search` filter.\n\n### Basic Regex Search\n\nYou can perform basic search using regular expressions with the `$regex` operator. Here's an example query.\n\n```js\n{\n  text: { $regex: 'feathersjs', $options: 'igm' },\n}\n```\n\n### Full-Text Search\n\nSee the MongoDB documentation for instructions on performing full-text search using the `$search` operator:\n\n- Perform [full-text queries on self-hosted MongoDB](https://www.mongodb.com/docs/manual/core/link-text-indexes/).\n- Perform [full-text queries on MongoDB Atlas](https://www.mongodb.com/docs/atlas/atlas-search/) (MongoDB's first-party hosted database).\n- Perform [full-text queries with the MongoDB Pipeline](https://www.mongodb.com/docs/manual/tutorial/text-search-in-aggregation/)\n\n## Aggregation Pipeline\n\nIn Feathers v5 Dove, we added support for the full power of MongoDB's Aggregation Framework and blends it seamlessly with the familiar Feathers Query syntax. The `find` method automatically uses the aggregation pipeline when `params.pipeline` is set.\n\nThe Aggregation Framework is accessed through the mongoClient's `model.aggregate` method, which accepts an array of \"stages\". Each stage contains an operator which describes an operation to apply to the previous step's data. Each stage applies the operation to the results of the previous step. Itâ€™s now possible to perform any of the [Aggregation Stages](https://www.mongodb.com/docs/upcoming/reference/operator/aggregation-pipeline/) like `$lookup` and `$unwind`, integration with the normal Feathers queries.\n\nHere's how it works with the operators that match the Feathers Query syntax. Let's convert the following Feathers query:\n\n```ts\nconst query = {\n  text: { $regex: 'feathersjs', $options: 'igm' },\n  $sort: { createdAt: -1 },\n  $skip: 20,\n  $limit: 10\n}\n```\n\nThe above query looks like this when converted to aggregation pipeline stages:\n\n```ts\n;[\n  // returns the set of records containing the word \"feathersjs\"\n  { $match: { text: { $regex: 'feathersjs', $options: 'igm' } } },\n  // Sorts the results of the previous step by newest messages, first.\n  { $sort: { createdAt: -1 } },\n  // Skips the first 20 records of the previous step\n  { $skip: 20 },\n  // returns the next 10 records\n  { $limit: 10 }\n]\n```\n\n### Pipeline Queries\n\nYou can use the `params.pipeline` array to append additional stages to the query. This next example uses the `$lookup` operator together with the `$unwind` operator to populate a `user` attribute onto each message based on the message's `userId` property.\n\n```ts\nconst result = await app.service('messages').find({\n  query: { $sort: { name: 1 } },\n  pipeline: [\n    {\n      $lookup: {\n        from: 'users',\n        localField: 'userId',\n        foreignField: '_id',\n        as: 'user'\n      }\n    },\n    { $unwind: { path: '$user' } }\n  ],\n  paginate: false\n})\n```\n\n### Aggregation Stages\n\nIn the example, above, the `query` is added to the pipeline, first. Then additional stages are added in the `pipeline` option:\n\n- The `$lookup` stage creates an array called `user` which contains any matches in `message.userId`, so if `userId` were an array of ids, any matches would be in the `users` array. However, in this example, the `userId` is a single id, so...\n- The `$unwind` stage turns the array into a single `user` object.\n\nThe above is like doing a join, but without the data transforming overhead like you'd get with an SQL JOIN. If you have properly applied index to your MongoDB collections, the operation will typically execute extremely fast for a reasonable amount of data.\n\nA couple of other notable query stages:\n\n- `$graphLookup` lets you recursively pull in a tree of data from a single collection.\n- `$search` lets you do full-text search on fields\n\nAll stages of the pipeline happen directly on the MongoDB server.\n\nRead through the full list of supported stages [in the MongoDB documentation](https://www.mongodb.com/docs/upcoming/reference/operator/aggregation-pipeline/).\n\n### The `$feathers` Stage\n\nThe previous section showed how to append stages to a query using `params.pipeline`. Well, `params.pipeline` also supports a custom `$feathers` operator/stage which allows you to specify exactly where in the pipeline the Feathers Query gets injected.\n\n### Example: Proxy Permissions\n\nImagine a scenario where you want to query the `pages` a user can edit by referencing a `permissions` collection to find out which pages the user can actually edit. Each record in the `permissions` record has a `userId` and a `pageId`. So we need to find and return only the pages to which the user has access by calling `GET /pages` from the client.\n\nWe could put the following query in a hook to pull the correct `pages` from the database in a single query THROUGH the permissions collection. Remember, the request is coming in on the `pages` service, but we're going to query for pages `through` the permissions collection. Assume we've already authenticated the user, so the user will be found at `context.params.user`.\n\n```ts\n// Assume this query on the client\nconst pages = await app.service('pages').find({ query: {} })\n\n// And put this query in a hook to populate pages \"through\" the permissions collection\nconst result = await app.service('permissions').find({\n  query: {},\n  pipeline: [\n    // query all permissions records which apply to the current user\n    {\n      $match: { userId: context.params.user._id }\n    },\n    // populate the pageId onto each `permission` record, as an array containing one page\n    {\n      $lookup: {\n        from: 'pages',\n        localField: 'pageId',\n        foreignField: '_id',\n        as: 'page'\n      }\n    },\n    // convert the `page` array into an object, so now we have an array of permissions with permission.page on each.\n    {\n      $unwind: { path: '$page' }\n    },\n    // Add a permissionId to each page\n    {\n      $addFields: {\n        'page.permissionId': '$_id'\n      }\n    },\n    // discard the permission and only keep the populated `page`, and bring it top level in the array\n    {\n      $replaceRoot: { newRoot: '$page' }\n    },\n    // apply the feathers query stages to the aggregation pipeline.\n    // now the query will apply to the pages, since we made the pages top level in the previous step.\n    {\n      $feathers: {}\n    }\n  ],\n  paginate: false\n})\n```\n\nNotice the `$feathers` stage in the above example. It will apply the query to that stage in the pipeline, which allows the query to apply to pages even though we had to make the query through the `permissions` service.\n\nIf we were to express the above query with JavaScript, the final result would the same as with the following example:\n\n```ts\n// perform a db query to get the permissions\nconst permissions = await context.app.service('permissions').find({\n  query: {\n    userId: context.params.user._id\n  },\n  paginate: false\n})\n// make a list of pageIds\nconst pageIds = permissions.map((permission) => permission.pageId)\n// perform a db query to get the pages with matching `_id`\nconst pages = await context.app.service('pages').find({\n  query: {\n    _id: {\n      $in: pageIds\n    }\n  },\n  paginate: false\n})\n// key the permissions by pageId for easy lookup\nconst permissionsByPageId = permissions.reduce((byId, current) => {\n  byId[current.pageId] = current\n  return byId\n}, {})\n// Add the permissionId to each `page` record.\nconst pagesWithPermissionId = pages.map((page) => {\n  page.permissionId = permissionByPageId[page._id]._id\n  return page\n})\n// And now apply the original query, whatever the client may have sent, to the pages.\n// It might require another database query\n```\n\nBoth examples look a bit complex, but te one using aggregation stages will be much quicker because all stages run in the database server. It will also be quicker because it all happens in a single database query!\n\nOne more obstacle for using JavaScript this way is that if the user's query changed (from the front end), we would likely be required to edit multiple different parts of the JS logic in order to correctly display results. With the pipeline example, above, the query is very cleanly applied.\n\n## Collation\n\nThis adapter includes support for [collation and case insensitive indexes available in MongoDB v3.4](https://docs.mongodb.com/manual/release-notes/3.4/#collation-and-case-insensitive-indexes). Collation parameters may be passed using the special `collation` parameter to the `find()`, `remove()` and `patch()` methods.\n\n**Example: Patch records with case-insensitive alphabetical ordering**\n\nThe example below would patch all student records with grades of `'c'` or `'C'` and above (a natural language ordering). Without collations this would not be as simple, since the comparison `{ $gt: 'c' }` would not include uppercase grades of `'C'` because the code point of `'C'` is less than that of `'c'`.\n\n```ts\nconst patch = { shouldStudyMore: true }\nconst query = { grade: { $gte: 'c' } }\nconst collation = { locale: 'en', strength: 1 }\nconst patchedStudent = await students.patch(null, patch, { query, collation })\n```\n\n**Example: Find records with a case-insensitive search**\n\nSimilar to the above example, this would find students with a grade of `'c'` or greater, in a case-insensitive manner.\n\n```ts\nconst query = { grade: { $gte: 'c' } }\nconst collation = { locale: 'en', strength: 1 }\n\nconst collatedStudents = await students.find({ query, collation })\n```\n\nFor more information on MongoDB's collation feature, visit the [collation reference page](https://docs.mongodb.com/manual/reference/collation/).\n\n## ObjectIds\n\nMongoDB uses [ObjectId](https://www.mongodb.com/docs/manual/reference/method/ObjectId/) object as primary keys. To store them in the right format they have to be converted from and to strings.\n\n### AJV keyword\n\nTo validate and convert strings to an object id using AJV, the `keywordObjectId` [AJV keyword](https://ajv.js.org/api.html#ajv-addkeyword-definition-string-object-ajv) helper can be used. It is set up automatically in a generated application using MongoDB.\n\n```ts\nimport { keywordObjectId } from '@feathersjs/mongodb'\n\nconst validator = new Ajv()\n\nvalidator.addKeyword(keywordObjectId)\n```\n\n### ObjectIdSchema\n\nBoth, `@feathersjs/typebox` and `@feathersjs/schema` export an `ObjectIdSchema` helper that creates a schema which can be both, a MongoDB ObjectId or a string that will be converted with the `objectid` keyword:\n\n```ts\nimport { ObjectIdSchema } from '@feathersjs/typebox' // or '@feathersjs/schema'\n\nconst typeboxSchema = Type.Object({\n  userId: ObjectIdSchema()\n})\n\nconst jsonSchema = {\n  type: 'object',\n  properties: {\n    userId: ObjectIdSchema()\n  }\n}\n```\n\n<BlockQuote label=\"Important\" type=\"warning\">\n\nThe `ObjectIdSchema` helper will only work when the [`objectid` AJV keyword](#ajv-keyword) is registered.\n\n</BlockQuote>\n\n### ObjectId resolvers\n\nWhile the AJV format checks if an object id is valid, it still needs to be converted to the right type. An alternative the the [AJV converter](#ajv-converter) is to use [Feathers resolvers](../schema/resolvers.md). The following [property resolver](../schema/resolvers.md) helpers can be used.\n\n> **Important:**\n> \n> ObjectId resolvers do not need to be used when using the [AJV keyword](#ajv-keyword). They are useful however when using another JSON schema validation library.\n> \n\n#### resolveObjectId\n\n`resolveObjectId` resolves a property as an object id. It can be used as a direct property resolver or called with the original value.\n\n```ts\nimport { resolveObjectId } from '@feathersjs/mongodb'\n\nexport const messageDataResolver = resolve<Message, HookContext>({\n  properties: {\n    userId: resolveObjectId\n  }\n})\n\nexport const messageDataResolver = resolve<Message, HookContext>({\n  properties: {\n    userId: async (value, _message, context) => {\n      // If the user is an admin, allow them to create messages for other users\n      if (context.params.user.isAdmin && value !== undefined) {\n        return resolveObjectId(value)\n      }\n      // Otherwise associate the record with the id of the authenticated user\n      return context.params.user._id\n    }\n  }\n})\n```\n\n#### resolveQueryObjectId\n\n`resolveQueryObjectId` allows to query for object ids. It supports conversion from a string to an object id as well as conversion for values from the [$in, $nin and $ne query syntax](./querying.md).\n\n```ts\nimport { resolveQueryObjectId } from '@feathersjs/mongodb'\n\nexport const messageQueryResolver = resolve<MessageQuery, HookContext>({\n  properties: {\n    userId: resolveQueryObjectId\n  }\n})\n```\n\n## Dates\n\nWhile MongoDB has a native `Date` type, the most reliable way to deal with dates is to send and store them as UTC millisecond timestamps e.g. returned by [Date.now()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now) or [new Date().getTime()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime) which is also used in the [Feathers getting started guide](../../guides/basics/generator.md). This has a few advantages:\n\n- No conversion between different string types\n- No timezone and winter/summer time issues\n- Easier calculations and query-ability",
    "rawContent": "## API\n\n\n\n### `MongoDBService(options)`\n\n`new MongoDBService(options)` returns a new service instance initialized with the given options. The following example extends the `MongoDBService` and then uses the `mongodbClient` from the app configuration and provides it to the `Model` option, which is passed to the new `MessagesService`.\n\n```ts\nimport type { Params } from '@feathersjs/feathers'\nimport { MongoDBService } from '@feathersjs/mongodb'\nimport type { MongoDBAdapterParams, MongoDBAdapterOptions } from '@feathersjs/mongodb'\n\nimport type { Application } from '../../declarations'\nimport type { Messages, MessagesData, MessagesQuery } from './messages.schema'\n\nexport interface MessagesParams extends MongoDBAdapterParams<MessagesQuery> {}\n\nexport class MessagesService<ServiceParams extends Params = MessagesParams> extends MongoDBService<\n  Messages,\n  MessagesData,\n  ServiceParams\n> {}\n\nexport const messages = (app: Application) => {\n  const options: MongoDBAdapterOptions = {\n    paginate: app.get('paginate'),\n    Model: app.get('mongodbClient').then((db) => db.collection('messages'))\n  }\n  app.use('messages', new MessagesService(options))\n}\n```\n\nHere's an overview of the `options` object:\n\n### Options\n\nMongoDB adapter specific options are:\n\n- `Model {Promise<MongoDBCollection>}` (**required**) - A Promise that resolves with the MongoDB collection instance. This can also be the return value of an `async` function without `await`\n- `disableObjectify {boolean}` (_optional_, default `false`) - This will disable conversion of the id field to a MongoDB ObjectID if you want to e.g. use normal strings\n- `useEstimatedDocumentCount {boolean}` (_optional_, default `false`) - If `true` document counting will rely on `estimatedDocumentCount` instead of `countDocuments`\n\nThe [common API options](./common.md#options) are:\n\n- `id {string}` (_optional_, default: `'_id'`) - The name of the id field property. By design, MongoDB will always add an `_id` property. But you can choose to use a different property as your primary key.\n- `paginate {Object}` (_optional_) - A [pagination object](#pagination) containing a `default` and `max` page size\n- `multi {string[]|boolean}` (_optional_, default: `false`) - Allow `create` with arrays and `patch` and `remove` with id `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)\n\nThere are additionally several legacy options in the [common API options](./common.md#options)\n\n### getModel()\n\n`getModel([params])` returns a Promise that resolves with the MongoDB collection object. The optional `params` is the service parameters which may allow to override the collection via [params.adapter](./common.md#paramsadapter).\n\n### aggregateRaw(params)\n\nThe `find` method has been split into separate utilities for converting params into different types of MongoDB requests. When using `params.pipeline`, the `aggregateRaw` method is used to convert the Feathers params into a MongoDB aggregation pipeline with the `model.aggregate` method. This method returns a raw MongoDB Cursor object, which can be used to perform custom pagination or in custom server scripts, if desired.\n\n### findRaw(params)\n\n`findRaw(params)` This method is used when there is no `params.pipeline` and uses the common `model.find` method. It returns a raw MongoDB Cursor object, which can be used to perform custom pagination or in custom server scripts, if desired.\n\n### makeFeathersPipeline(params)\n\n`makeFeathersPipeline(params)` takes a set of Feathers params and converts them to a pipeline array, ready to pass to `model.aggregate`. This utility comprises the bulk of the `aggregateRaw` functionality, but does not use `params.pipeline`.\n\n### Custom Params\n\nThe `@feathersjs/mongodb` adapter utilizes three custom params which control adapter-specific features: `params.pipeline`, `params.mongodb`, and `params.adapter`. As mentioned [here](/api/services#params), these custom params are not intended to be used directly from the client. Directly exposing `params.pipeline` or `params.mongodb` to the client directly would expose the entire database to the client through powerful pipeline queries.\n\n#### params.adapter\n\nAllows to dynamically set the [adapter options](#options) (like the `Model` collection) for a service method call.\n\n#### params.pipeline\n\nUsed for [aggregation pipelines](#aggregation-pipeline). Whenever this property is set, the adapter will use the `model.aggregate` method instead of the `model.find` method. The `pipeline` property should be an array of [aggregation stages](https://www.mongodb.com/docs/manual/reference/operator/aggregation-pipeline/).\n\n#### params.mongodb\n\nWhen making a [service method](/api/services.md) call, `params` can contain an`mongodb` property (for example, `{ upsert: true }`) which allows modifying the options used to run the MongoDB query. This param can be used for both find and aggregation queries.\n\n## Transactions\n\n[MongoDB Transactions](https://docs.mongodb.com/manual/core/transactions/) can be used by passing a `session` in [params.mongodb](#paramsmongodb). For example in a [hook](../hooks.md):\n\n```ts\nimport { ObjectId } from 'mongodb'\nimport { HookContext } from '../declarations'\n\nexport const myHook = async (context: HookContext) => {\n  const { app } = context\n  const session = app.get('mongoClient').startSession()\n\n  try {\n    await session.withTransaction(async () => {\n      const fooData = { message: 'Data for foo' }\n      const barData = { text: 'Data for bar' }\n\n      await app.service('fooService').create(fooData, {\n        mongodb: { session }\n      })\n      await app.service('barService').create(barData, {\n        mongodb: { session }\n      })\n    })\n  } finally {\n    await session.endSession()\n  }\n}\n```\n\n## Indexes\n\nIndexes and unique constraints can be added to the `Model` Promise, usually in the `getOptions` in `<service>.class`:\n\n```ts\nexport const getOptions = (app: Application): MongoDBAdapterOptions => {\n  return {\n    paginate: app.get('paginate'),\n    Model: app\n      .get('mongodbClient')\n      .then((db) => db.collection('myservice'))\n      .then((collection) => {\n        collection.createIndex({ email: 1 }, { unique: true })\n\n        return collection\n      })\n  }\n}\n```\n\n> **info:**\n> \n> Note that creating indexes for an existing collection with many entries should be done as a separate operation instead. See the [MongoDB createIndex documentation](https://www.mongodb.com/docs/manual/reference/method/db.collection.createIndex/) for more information.\n>\n\n## Querying\n\nAdditionally to the [common querying mechanism](./querying.md) this adapter also supports [MongoDB's query syntax](https://www.mongodb.com/docs/manual/tutorial/query-documents/) and the `update` method also supports MongoDB [update operators](https://www.mongodb.com/docs/manual/reference/operator/update/).\n\n## Search\n\n> **Important:**\n> \n> Note that in a normal application all MongoDB specific operators have to explicitly be added to the [TypeBox query schema](../schema/typebox.md#query-schemas) or [JSON query schema](../schema/schema.md#querysyntax).\n> \n\nThere are two ways to perform search queries with MongoDB:\n\n- Perform basic Regular Expression matches using the `$regex` filter.\n- Perform full-text search using the `$search` filter.\n\n### Basic Regex Search\n\nYou can perform basic search using regular expressions with the `$regex` operator. Here's an example query.\n\n```js\n{\n  text: { $regex: 'feathersjs', $options: 'igm' },\n}\n```\n\n### Full-Text Search\n\nSee the MongoDB documentation for instructions on performing full-text search using the `$search` operator:\n\n- Perform [full-text queries on self-hosted MongoDB](https://www.mongodb.com/docs/manual/core/link-text-indexes/).\n- Perform [full-text queries on MongoDB Atlas](https://www.mongodb.com/docs/atlas/atlas-search/) (MongoDB's first-party hosted database).\n- Perform [full-text queries with the MongoDB Pipeline](https://www.mongodb.com/docs/manual/tutorial/text-search-in-aggregation/)\n\n## Aggregation Pipeline\n\nIn Feathers v5 Dove, we added support for the full power of MongoDB's Aggregation Framework and blends it seamlessly with the familiar Feathers Query syntax. The `find` method automatically uses the aggregation pipeline when `params.pipeline` is set.\n\nThe Aggregation Framework is accessed through the mongoClient's `model.aggregate` method, which accepts an array of \"stages\". Each stage contains an operator which describes an operation to apply to the previous step's data. Each stage applies the operation to the results of the previous step. Itâ€™s now possible to perform any of the [Aggregation Stages](https://www.mongodb.com/docs/upcoming/reference/operator/aggregation-pipeline/) like `$lookup` and `$unwind`, integration with the normal Feathers queries.\n\nHere's how it works with the operators that match the Feathers Query syntax. Let's convert the following Feathers query:\n\n```ts\nconst query = {\n  text: { $regex: 'feathersjs', $options: 'igm' },\n  $sort: { createdAt: -1 },\n  $skip: 20,\n  $limit: 10\n}\n```\n\nThe above query looks like this when converted to aggregation pipeline stages:\n\n```ts\n;[\n  // returns the set of records containing the word \"feathersjs\"\n  { $match: { text: { $regex: 'feathersjs', $options: 'igm' } } },\n  // Sorts the results of the previous step by newest messages, first.\n  { $sort: { createdAt: -1 } },\n  // Skips the first 20 records of the previous step\n  { $skip: 20 },\n  // returns the next 10 records\n  { $limit: 10 }\n]\n```\n\n### Pipeline Queries\n\nYou can use the `params.pipeline` array to append additional stages to the query. This next example uses the `$lookup` operator together with the `$unwind` operator to populate a `user` attribute onto each message based on the message's `userId` property.\n\n```ts\nconst result = await app.service('messages').find({\n  query: { $sort: { name: 1 } },\n  pipeline: [\n    {\n      $lookup: {\n        from: 'users',\n        localField: 'userId',\n        foreignField: '_id',\n        as: 'user'\n      }\n    },\n    { $unwind: { path: '$user' } }\n  ],\n  paginate: false\n})\n```\n\n### Aggregation Stages\n\nIn the example, above, the `query` is added to the pipeline, first. Then additional stages are added in the `pipeline` option:\n\n- The `$lookup` stage creates an array called `user` which contains any matches in `message.userId`, so if `userId` were an array of ids, any matches would be in the `users` array. However, in this example, the `userId` is a single id, so...\n- The `$unwind` stage turns the array into a single `user` object.\n\nThe above is like doing a join, but without the data transforming overhead like you'd get with an SQL JOIN. If you have properly applied index to your MongoDB collections, the operation will typically execute extremely fast for a reasonable amount of data.\n\nA couple of other notable query stages:\n\n- `$graphLookup` lets you recursively pull in a tree of data from a single collection.\n- `$search` lets you do full-text search on fields\n\nAll stages of the pipeline happen directly on the MongoDB server.\n\nRead through the full list of supported stages [in the MongoDB documentation](https://www.mongodb.com/docs/upcoming/reference/operator/aggregation-pipeline/).\n\n### The `$feathers` Stage\n\nThe previous section showed how to append stages to a query using `params.pipeline`. Well, `params.pipeline` also supports a custom `$feathers` operator/stage which allows you to specify exactly where in the pipeline the Feathers Query gets injected.\n\n### Example: Proxy Permissions\n\nImagine a scenario where you want to query the `pages` a user can edit by referencing a `permissions` collection to find out which pages the user can actually edit. Each record in the `permissions` record has a `userId` and a `pageId`. So we need to find and return only the pages to which the user has access by calling `GET /pages` from the client.\n\nWe could put the following query in a hook to pull the correct `pages` from the database in a single query THROUGH the permissions collection. Remember, the request is coming in on the `pages` service, but we're going to query for pages `through` the permissions collection. Assume we've already authenticated the user, so the user will be found at `context.params.user`.\n\n```ts\n// Assume this query on the client\nconst pages = await app.service('pages').find({ query: {} })\n\n// And put this query in a hook to populate pages \"through\" the permissions collection\nconst result = await app.service('permissions').find({\n  query: {},\n  pipeline: [\n    // query all permissions records which apply to the current user\n    {\n      $match: { userId: context.params.user._id }\n    },\n    // populate the pageId onto each `permission` record, as an array containing one page\n    {\n      $lookup: {\n        from: 'pages',\n        localField: 'pageId',\n        foreignField: '_id',\n        as: 'page'\n      }\n    },\n    // convert the `page` array into an object, so now we have an array of permissions with permission.page on each.\n    {\n      $unwind: { path: '$page' }\n    },\n    // Add a permissionId to each page\n    {\n      $addFields: {\n        'page.permissionId': '$_id'\n      }\n    },\n    // discard the permission and only keep the populated `page`, and bring it top level in the array\n    {\n      $replaceRoot: { newRoot: '$page' }\n    },\n    // apply the feathers query stages to the aggregation pipeline.\n    // now the query will apply to the pages, since we made the pages top level in the previous step.\n    {\n      $feathers: {}\n    }\n  ],\n  paginate: false\n})\n```\n\nNotice the `$feathers` stage in the above example. It will apply the query to that stage in the pipeline, which allows the query to apply to pages even though we had to make the query through the `permissions` service.\n\nIf we were to express the above query with JavaScript, the final result would the same as with the following example:\n\n```ts\n// perform a db query to get the permissions\nconst permissions = await context.app.service('permissions').find({\n  query: {\n    userId: context.params.user._id\n  },\n  paginate: false\n})\n// make a list of pageIds\nconst pageIds = permissions.map((permission) => permission.pageId)\n// perform a db query to get the pages with matching `_id`\nconst pages = await context.app.service('pages').find({\n  query: {\n    _id: {\n      $in: pageIds\n    }\n  },\n  paginate: false\n})\n// key the permissions by pageId for easy lookup\nconst permissionsByPageId = permissions.reduce((byId, current) => {\n  byId[current.pageId] = current\n  return byId\n}, {})\n// Add the permissionId to each `page` record.\nconst pagesWithPermissionId = pages.map((page) => {\n  page.permissionId = permissionByPageId[page._id]._id\n  return page\n})\n// And now apply the original query, whatever the client may have sent, to the pages.\n// It might require another database query\n```\n\nBoth examples look a bit complex, but te one using aggregation stages will be much quicker because all stages run in the database server. It will also be quicker because it all happens in a single database query!\n\nOne more obstacle for using JavaScript this way is that if the user's query changed (from the front end), we would likely be required to edit multiple different parts of the JS logic in order to correctly display results. With the pipeline example, above, the query is very cleanly applied.\n\n## Collation\n\nThis adapter includes support for [collation and case insensitive indexes available in MongoDB v3.4](https://docs.mongodb.com/manual/release-notes/3.4/#collation-and-case-insensitive-indexes). Collation parameters may be passed using the special `collation` parameter to the `find()`, `remove()` and `patch()` methods.\n\n**Example: Patch records with case-insensitive alphabetical ordering**\n\nThe example below would patch all student records with grades of `'c'` or `'C'` and above (a natural language ordering). Without collations this would not be as simple, since the comparison `{ $gt: 'c' }` would not include uppercase grades of `'C'` because the code point of `'C'` is less than that of `'c'`.\n\n```ts\nconst patch = { shouldStudyMore: true }\nconst query = { grade: { $gte: 'c' } }\nconst collation = { locale: 'en', strength: 1 }\nconst patchedStudent = await students.patch(null, patch, { query, collation })\n```\n\n**Example: Find records with a case-insensitive search**\n\nSimilar to the above example, this would find students with a grade of `'c'` or greater, in a case-insensitive manner.\n\n```ts\nconst query = { grade: { $gte: 'c' } }\nconst collation = { locale: 'en', strength: 1 }\n\nconst collatedStudents = await students.find({ query, collation })\n```\n\nFor more information on MongoDB's collation feature, visit the [collation reference page](https://docs.mongodb.com/manual/reference/collation/).\n\n## ObjectIds\n\nMongoDB uses [ObjectId](https://www.mongodb.com/docs/manual/reference/method/ObjectId/) object as primary keys. To store them in the right format they have to be converted from and to strings.\n\n### AJV keyword\n\nTo validate and convert strings to an object id using AJV, the `keywordObjectId` [AJV keyword](https://ajv.js.org/api.html#ajv-addkeyword-definition-string-object-ajv) helper can be used. It is set up automatically in a generated application using MongoDB.\n\n```ts\nimport { keywordObjectId } from '@feathersjs/mongodb'\n\nconst validator = new Ajv()\n\nvalidator.addKeyword(keywordObjectId)\n```\n\n### ObjectIdSchema\n\nBoth, `@feathersjs/typebox` and `@feathersjs/schema` export an `ObjectIdSchema` helper that creates a schema which can be both, a MongoDB ObjectId or a string that will be converted with the `objectid` keyword:\n\n```ts\nimport { ObjectIdSchema } from '@feathersjs/typebox' // or '@feathersjs/schema'\n\nconst typeboxSchema = Type.Object({\n  userId: ObjectIdSchema()\n})\n\nconst jsonSchema = {\n  type: 'object',\n  properties: {\n    userId: ObjectIdSchema()\n  }\n}\n```\n\n<BlockQuote label=\"Important\" type=\"warning\">\n\nThe `ObjectIdSchema` helper will only work when the [`objectid` AJV keyword](#ajv-keyword) is registered.\n\n</BlockQuote>\n\n### ObjectId resolvers\n\nWhile the AJV format checks if an object id is valid, it still needs to be converted to the right type. An alternative the the [AJV converter](#ajv-converter) is to use [Feathers resolvers](../schema/resolvers.md). The following [property resolver](../schema/resolvers.md) helpers can be used.\n\n> **Important:**\n> \n> ObjectId resolvers do not need to be used when using the [AJV keyword](#ajv-keyword). They are useful however when using another JSON schema validation library.\n> \n\n#### resolveObjectId\n\n`resolveObjectId` resolves a property as an object id. It can be used as a direct property resolver or called with the original value.\n\n```ts\nimport { resolveObjectId } from '@feathersjs/mongodb'\n\nexport const messageDataResolver = resolve<Message, HookContext>({\n  properties: {\n    userId: resolveObjectId\n  }\n})\n\nexport const messageDataResolver = resolve<Message, HookContext>({\n  properties: {\n    userId: async (value, _message, context) => {\n      // If the user is an admin, allow them to create messages for other users\n      if (context.params.user.isAdmin && value !== undefined) {\n        return resolveObjectId(value)\n      }\n      // Otherwise associate the record with the id of the authenticated user\n      return context.params.user._id\n    }\n  }\n})\n```\n\n#### resolveQueryObjectId\n\n`resolveQueryObjectId` allows to query for object ids. It supports conversion from a string to an object id as well as conversion for values from the [$in, $nin and $ne query syntax](./querying.md).\n\n```ts\nimport { resolveQueryObjectId } from '@feathersjs/mongodb'\n\nexport const messageQueryResolver = resolve<MessageQuery, HookContext>({\n  properties: {\n    userId: resolveQueryObjectId\n  }\n})\n```\n\n## Dates\n\nWhile MongoDB has a native `Date` type, the most reliable way to deal with dates is to send and store them as UTC millisecond timestamps e.g. returned by [Date.now()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now) or [new Date().getTime()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime) which is also used in the [Feathers getting started guide](../../guides/basics/generator.md). This has a few advantages:\n\n- No conversion between different string types\n- No timezone and winter/summer time issues\n- Easier calculations and query-ability",
    "breadcrumb": "MongoDB",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/databases/mongodb.md",
    "heading": "MongoDB",
    "subHeadings": [
      "API",
      "`MongoDBService(options)`",
      "Options",
      "getModel()",
      "aggregateRaw(params)",
      "findRaw(params)",
      "makeFeathersPipeline(params)",
      "Custom Params",
      "params.adapter",
      "params.pipeline",
      "params.mongodb",
      "Transactions",
      "Indexes",
      "Querying",
      "Search",
      "Basic Regex Search",
      "Full-Text Search",
      "Aggregation Pipeline",
      "Pipeline Queries",
      "Aggregation Stages",
      "The `$feathers` Stage",
      "Example: Proxy Permissions",
      "Collation",
      "ObjectIds",
      "AJV keyword",
      "ObjectIdSchema",
      "ObjectId resolvers",
      "resolveObjectId",
      "resolveQueryObjectId",
      "Dates"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 5113,
    "category": "databases",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "schema",
      "resolver",
      "typebox",
      "validation",
      "database",
      "adapter",
      "mongodb",
      "pagination",
      "querying",
      "aggregation",
      "collection",
      "http",
      "express",
      "client",
      "configuration",
      "types",
      "declarations",
      "cli",
      "generator",
      "generate",
      "users"
    ],
    "embedding": [
      0.023002,
      -0.020335,
      -0.055319,
      -0.027467,
      -0.00321,
      -0.018652,
      0.014238,
      -0.001947,
      -0.0046,
      -0.005183,
      -0.012295,
      -0.039997,
      -0.001284,
      0.027473,
      -0.010766,
      0.027171,
      -0.004664,
      -0.04074,
      0.023433,
      0.012848,
      -0.035353,
      0.043539,
      0.021452,
      0.027277,
      -0.000582,
      -0.006386,
      -0.04216,
      -0.028512,
      -0.002049,
      -0.001301,
      -0.035662,
      0.002785,
      -0.010183,
      -0.020083,
      -0.017882,
      -0.008235,
      -0.035416,
      0.023998,
      -0.027891,
      0.017175,
      0.006686,
      -0.025057,
      0.003018,
      -0.035942,
      -0.000132,
      -0.042931,
      -0.001203,
      -0.003355,
      0.015457,
      -0.024785,
      -0.035615,
      -0.011524,
      -0.000755,
      -0.035949,
      0.014026,
      0.041873,
      -0.041627,
      0.02792,
      -0.05112,
      -0.018124,
      -0.015465,
      0.012836,
      -0.037939,
      -0.026164,
      -0.013135,
      0.061804,
      -0.040218,
      0.004592,
      -0.01396,
      0.029688,
      -0.008858,
      0.048965,
      -0.035739,
      0.022223,
      -0.060277,
      -0.018303,
      0.025561,
      -0.002155,
      -0.04557,
      0.011985,
      -0.031916,
      -0.028791,
      -0.026674,
      -0.026937,
      -0.031515,
      0.03191,
      -0.056754,
      0.018689,
      0.026394,
      0.067751,
      0.008602,
      -0.019837,
      0.040062,
      -0.077349,
      -0.00119,
      -0.018556,
      -0.036189,
      -0.010131,
      0.016397,
      -0.000825,
      -0.010521,
      0.00433,
      0.014871,
      -0.043035,
      0.03994,
      0.014253,
      0.04515,
      0.024375,
      -0.005907,
      -0.013772,
      -0.029891,
      0.004581,
      0.004511,
      0.01593,
      -0.005745,
      -0.041276,
      -0.023934,
      -0.046843,
      0.013214,
      -0.006596,
      0.009233,
      0.047576,
      0.032535,
      -0.03919,
      -0.032907,
      0.0137,
      -0.019446,
      0.052925,
      -0.002769,
      0.023812,
      0.041966,
      -0.048985,
      -0.015589,
      -0.006313,
      -0.043779,
      -0.017271,
      0.038446,
      0.015418,
      -0.007904,
      -0.061824,
      0.032736,
      -0.050273,
      -0.00666,
      -0.017294,
      0.040508,
      -0.063146,
      0.078787,
      0.00523,
      -0.015688,
      -0.03051,
      0.029823,
      0.032899,
      0.037231,
      -0.070089,
      0.011238,
      -0.035889,
      0.008344,
      -0.001033,
      0.054447,
      0.030683,
      -0.007734,
      0.057592,
      -0.033831,
      0.037387,
      0.012012,
      -0.017858,
      0.035341,
      -0.036973,
      0.010437,
      -0.040931,
      0.007619,
      -0.023899,
      0.034365,
      -0.002353,
      0.0165,
      0.006282,
      0.088794,
      0.051604,
      0.028647,
      -0.022054,
      -0.028374,
      0.025854,
      -0.019247,
      -0.059005,
      -0.012021,
      0.008597,
      -0.018543,
      -0.045742,
      -0.006394,
      0.031859,
      -0.0227,
      0.003044,
      0.029286,
      0.012586,
      0.016333,
      0.042898,
      0.008216,
      0.012695,
      -0.018979,
      0.028622,
      0.021942,
      -0.000788,
      0.053351,
      0.026746,
      -0.033947,
      0.008137,
      -0.002125,
      -0.077888,
      -0.004622,
      -0.005808,
      0.019461,
      -0.012767,
      -0.012037,
      0.032764,
      -0.024787,
      0.011393,
      -0.005098,
      -0.02756,
      -0.005602,
      -0.009293,
      -0.003825,
      0.018764,
      -0.007992,
      -0.014813,
      0.012922,
      -0.033975,
      0.01941,
      -0.006056,
      -0.010352,
      -0.004958,
      -0.020363,
      0.044476,
      0.000362,
      -0.005618,
      -0.01359,
      -0.02294,
      0.017683,
      0.007558,
      0.028214,
      0.03262,
      -0.071913,
      -0.030212,
      0.012751,
      0.011063,
      -0.016149,
      -0.000716,
      0.017707,
      -0.006828,
      -0.030809,
      -0.01621,
      0.00065,
      -0.003464,
      -0.006277,
      -0.022048,
      0.06488,
      0.008645,
      0.043748,
      0.005347,
      -0.011893,
      -0.026746,
      0.016843,
      0.012265,
      0.00725,
      0.030489,
      -0.010703,
      0.004167,
      -0.01879,
      -0.006627,
      0.030853,
      0.000454,
      0.010494,
      -0.019131,
      0.030079,
      -0.017054,
      0.00839,
      -0.005123,
      0.007106,
      -0.063828,
      0.098083,
      0.029411,
      0.007048,
      0.033778,
      0.037122,
      0.007073,
      0.001967,
      0.022647,
      -0.019947,
      0.022369,
      0.000937,
      -0.034251,
      0.03783,
      -0.012187,
      0.061915,
      0.011249,
      -0.019343,
      -0.033638,
      -0.000252,
      -0.153891,
      -0.010201,
      0.037897,
      0.025991,
      0.00747,
      0.000153,
      -0.013497,
      -0.00233,
      -0.047197,
      0.017132,
      -0.00295,
      -0.055559,
      -0.01601,
      -0.019371,
      -0.006419,
      -0.035873,
      0.022958,
      0.018246,
      0.035991,
      -0.044842,
      -0.066111,
      -0.035759,
      0.012188,
      0.033278,
      -0.008292,
      -0.022218,
      0.026823,
      0.031596,
      -0.035089,
      -0.030044,
      0.024821,
      0.042165,
      0.012305,
      0.007295,
      -0.034585,
      0.015396,
      -0.023156,
      0.010548,
      -0.042805,
      0.007284,
      0.000098,
      0.06807,
      0.025333,
      0.010124,
      -0.006028,
      -0.013987,
      0.026766,
      0.008524,
      -0.063633,
      -0.021253,
      0.022138,
      0.002311,
      0.026767,
      0.042616,
      -0.031476,
      -0.006327,
      0.004667,
      0.047791,
      0.016311,
      -0.018301,
      -0.033146,
      0.024141,
      0.067603,
      -0.02605,
      -0.008738,
      -0.04143,
      0.048126,
      0.002777,
      0.027195,
      -0.030811,
      0.040798,
      -0.04108,
      0.026537,
      0.005355,
      -0.023956,
      -0.007961,
      0.017426,
      0.010547,
      -0.001664,
      -0.082238,
      -0.004792,
      -0.014502,
      0.016265,
      0.019488,
      -0.018143,
      -0.046483,
      -0.008624,
      -0.003869,
      -0.010915,
      0.274065,
      0.033595,
      -0.033002,
      0.028734,
      0.044109,
      -0.026634,
      0.042741,
      0.059724,
      0.003127,
      -0.028347,
      0.059316,
      0.034949,
      -0.020106,
      -0.007321,
      -0.020742,
      -0.017648,
      -0.055934,
      0.022479,
      0.029769,
      -0.014889,
      0.004989,
      -0.006817,
      0.00491,
      0.038877,
      -0.082869,
      -0.033948,
      0.019027,
      0.018947,
      -0.049538,
      0.030633,
      -0.043216,
      -0.032948,
      0.041816,
      -0.054733,
      -0.033407,
      -0.017429,
      -0.059473,
      0.013442,
      0.035968,
      -0.0127,
      0.005946,
      0.01436,
      0.002967,
      0.013666,
      0.008676,
      -0.001693,
      0.018877,
      -0.02822,
      -0.042681,
      -0.044706,
      -0.030101,
      -0.006624,
      -0.036551,
      0.015403,
      -0.004887,
      -0.023661,
      -0.001119,
      0.004554,
      -0.007998,
      -0.01624,
      0.036932,
      0.013222,
      -0.054483,
      0.04268,
      0.011596,
      0.023715,
      0.027443,
      -0.016789,
      -0.007819,
      0.007166,
      0.024222,
      0.016781,
      0.025311,
      -0.026716,
      0.04932,
      0.022783,
      0.053508,
      0.027591,
      -0.010068,
      -0.014811,
      -0.02648,
      -0.028596,
      -0.035068,
      0.014393,
      0.009068,
      0.025805,
      -0.042982,
      0.054264,
      0.007223,
      -0.024417,
      -0.031567,
      0.017204,
      0.028746,
      -0.007923,
      0.047625,
      0.027842,
      0.020802,
      -0.022794,
      0.02234,
      -0.024809,
      -0.005675,
      0.022551,
      0.001572,
      0.009909,
      0.055627,
      -0.003101,
      0.001623,
      0.014313,
      0.000163,
      -0.032218,
      -0.069419,
      0.020825,
      0.003175,
      0.001689,
      0.061345,
      0.023777,
      0.011778,
      0.032263,
      0.041438,
      0.022454,
      -0.001667,
      0.012479,
      -0.018932,
      -0.023699,
      0.012781,
      -0.03067,
      -0.014016,
      0.006973,
      -0.032115,
      0.042911,
      0.042731,
      -0.043576,
      0.016271,
      0.022566,
      -0.03059,
      -0.014363,
      0.008775,
      0.032395,
      -0.021559,
      -0.000462,
      -0.001535,
      -0.013854,
      -0.01204,
      0.001166,
      -0.004879,
      0.038317,
      0.041276,
      -0.001893,
      0.024002,
      -0.016826,
      0.029124,
      0.061275,
      0.033444,
      -0.010575,
      -0.038695,
      -0.021379,
      0.000772,
      0.038348,
      0.017171,
      -0.023154,
      -0.014492,
      0.002844,
      0.0081,
      0.024375,
      0.004927,
      -0.002863,
      0.044754,
      0.037861,
      -0.012137,
      -0.035061,
      -0.033357,
      -0.050121,
      -0.03147,
      0.028647,
      -0.007938,
      -0.008742,
      -0.026219,
      -0.026042,
      0.001153,
      -0.049682,
      0.022229,
      0.020995,
      -0.015437,
      0.005449,
      0.000174,
      0.042597,
      -0.001832,
      -0.009925,
      0.020955,
      -0.023015,
      -0.034408,
      0.111247,
      0.003245,
      0.012482,
      0.059745,
      0.021114,
      0.036305,
      0.05195,
      0.011689,
      -0.02769,
      0.01403,
      -0.04488,
      0.043401,
      -0.001997,
      0.008891,
      -0.024119,
      -0.044623,
      -0.01183,
      -0.015937,
      0.00005,
      0.003427,
      0.011257,
      -0.016562,
      -0.017582,
      0.034041,
      -0.011016,
      0.05143,
      0.020554,
      0.009863,
      0.01941,
      -0.025053,
      -0.013761,
      -0.025631,
      -0.024724,
      -0.004007,
      0.019105,
      0.034314,
      -0.012361,
      -0.016913,
      -0.025343,
      0.00623,
      0.055966,
      -0.029128,
      -0.055963,
      -0.016913,
      -0.031081,
      0.038062,
      0.022394,
      0.014948,
      -0.023924,
      0.037656,
      -0.019156,
      0.020814,
      0.078607,
      -0.017445,
      0.021372,
      -0.026482,
      -0.012135,
      0.044274,
      0.031177,
      -0.026389,
      -0.020314,
      0.02852,
      -0.003758,
      -0.009822,
      0.012788,
      0.029353,
      0.016214,
      -0.007913,
      -0.005348,
      -0.003609,
      0.023753,
      -0.034397,
      -0.012235,
      0.006172,
      -0.011165,
      0.050369,
      -0.051883,
      -0.035512,
      0.001806,
      0.006509,
      -0.00693,
      -0.015653,
      -0.07542,
      0.001658,
      0.003487,
      -0.000266,
      -0.015314,
      -0.010367,
      0.000172,
      -0.052315,
      -0.010707,
      0.020633,
      0.024005,
      0.015458,
      -0.007619,
      0.023333,
      -0.005969,
      -0.011181,
      -0.062976,
      0.001308,
      0.007948,
      -0.069751,
      0.000019,
      0.017256,
      0.000095,
      -0.037489,
      0.03357,
      -0.010007,
      -0.005444,
      -0.000507,
      -0.008,
      -0.007522,
      0.016111,
      -0.006551,
      0.01147,
      0.019055,
      -0.042808,
      0.025438,
      0.034781,
      -0.004155,
      -0.031651,
      0.012648,
      0.045702,
      0.027997,
      -0.059845,
      0.055871,
      -0.054344,
      0.024624,
      -0.024526,
      0.018422,
      0.000396,
      -0.032482,
      0.013593,
      -0.013857,
      0.005891,
      0.041235,
      -0.040259,
      -0.027604,
      -0.01718,
      -0.048155,
      -0.010232,
      -0.005969,
      -0.023296,
      -0.027335,
      0.020906,
      0.009569,
      -0.022765,
      -0.010246,
      -0.088084,
      0.012205,
      0.011867,
      0.069413,
      -0.042643,
      0.030222,
      -0.011885,
      0.020268,
      0.006651,
      -0.013915,
      0.001425,
      0.014644,
      -0.001499,
      -0.04518,
      -0.048448,
      0.045365,
      -0.030064,
      -0.048805,
      0.015396,
      0.028482,
      -0.022942,
      -0.045927,
      0.009349,
      -0.01378,
      -0.003288,
      0.017006,
      -0.002771,
      0.046422,
      0.017461,
      -0.018725,
      -0.006514,
      -0.031452,
      -0.006119,
      -0.034651,
      0.008779,
      0.006375,
      0.021372,
      -0.029359,
      0.009913,
      0.033092,
      -0.050931,
      -0.023446,
      -0.008329,
      -0.058306,
      -0.038995,
      0.015461,
      0.006873,
      0.021644,
      0.005748,
      -0.011634,
      0.007871,
      0.003954,
      0.006657,
      -0.012273,
      -0.014919,
      -0.128799,
      -0.009418,
      0.028214,
      -0.034562,
      -0.014856,
      0.021968,
      0.003804,
      -0.040701,
      0.007477,
      -0.03775,
      -0.045618,
      -0.004042,
      0.04069,
      -0.034709,
      -0.005694,
      0.013618,
      0.008389,
      -0.013898,
      0.016794,
      0.025878,
      -0.004706,
      -0.02997,
      0.030783,
      0.006844,
      0.024012,
      0.031608,
      0.006626,
      -0.029109,
      -0.026261,
      0.020547,
      0.007169,
      0.006706,
      0.031113,
      0.025008,
      -0.01761,
      0.010333,
      0.014787,
      0.015803,
      -0.018602,
      0.025606,
      0.009325,
      0.007953,
      -0.041922,
      0.020476,
      -0.001608,
      0.03731,
      0.000222,
      -0.07516,
      -0.051283,
      -0.003254,
      0.009536,
      0.011308,
      -0.036654,
      -0.013818,
      -0.015615,
      -0.062952,
      -0.049624,
      -0.009488,
      -0.015538,
      0.047879,
      -0.002929,
      0.022998,
      -0.038751,
      -0.070812,
      0.007807,
      -0.005509,
      -0.019461,
      -0.001899,
      -0.043721,
      0.00063,
      0.034087,
      -0.056204,
      -0.038329,
      0.001081,
      0.00291,
      -0.006667,
      0.020663,
      -0.02465,
      -0.022786,
      -0.028143,
      -0.009583,
      -0.028981,
      -0.067183,
      0.072297,
      0.021292,
      0.013852,
      0.005642,
      0.014443,
      -0.030534,
      -0.015656,
      -0.03975,
      -0.066305,
      -0.010521,
      0.018258,
      -0.016451,
      0.03895,
      -0.034331,
      0.006157,
      -0.002845,
      -0.015802,
      -0.04366,
      -0.010334,
      -0.004866,
      0.025538,
      -0.008057,
      0.023156,
      0.028591,
      0.001487,
      0.016311,
      -0.020238,
      -0.010678,
      0.014044,
      -0.001796,
      0.027453,
      -0.077029,
      0.015597,
      -0.013075,
      0.034323,
      -0.036106,
      0.007583,
      -0.00217,
      0.015226,
      0.019392,
      -0.002817,
      0.025951,
      0.053214,
      0.02974,
      0.001514,
      0.090284,
      -0.054768,
      0.018633,
      -0.046596,
      0.005605,
      0.024248,
      0.017785,
      -0.023375,
      -0.051516,
      0.045919,
      -0.038313,
      -0.032867,
      -0.030551,
      -0.054437,
      -0.03204,
      -0.013615,
      -0.0124,
      0.011244,
      0.021426,
      0.013802,
      -0.005083,
      -0.037035,
      0.034219,
      0.002687,
      -0.035193,
      0.01972,
      0.032238,
      0.01871,
      -0.017468,
      -0.008088,
      -0.015739,
      0.094539,
      0.028503,
      -0.052705,
      -0.008924,
      0.006389,
      -0.041821,
      0.001821,
      -0.00815,
      -0.032753,
      -0.029101,
      -0.01826,
      -0.008684,
      0.020537,
      -0.014208,
      -0.042895,
      0.056894,
      -0.04162,
      0.01026,
      0.018289,
      0.059973,
      0.038694,
      -0.00665,
      0.031926,
      0.05025,
      0.030907,
      0.039731,
      0.036774,
      0.004319,
      -0.003275,
      0.032201,
      0.009459,
      -0.017087,
      -0.020465,
      0.076401,
      0.008476,
      0.015923,
      0.021397,
      0.009849,
      -0.000622,
      -0.014616,
      0.055044,
      -0.006589,
      -0.006484,
      -0.025881,
      0.003234,
      -0.01753,
      0.018935,
      -0.017687,
      -0.02906,
      0.017597,
      0.073137,
      -0.021361,
      -0.028662,
      -0.003509,
      0.021508,
      -0.017993,
      0.044777,
      0.006598,
      0.047702,
      0.002643,
      0.008895,
      0.029497,
      -0.005128,
      0.014357,
      -0.024123,
      -0.038672,
      -0.008952,
      0.032011,
      0.029415,
      0.006806,
      0.000561,
      -0.023182,
      -0.014487,
      -0.003331,
      0.003447,
      0.034912,
      -0.000631,
      -0.010897,
      0.011346,
      -0.028535,
      -0.024022,
      0.042254,
      0.027169,
      -0.005934,
      0.00354
    ]
  },
  {
    "id": "v5-querying-0",
    "content": "# Querying\nBreadcrumb: Querying\nCovers: Filters | $limit | $skip | $sort | $select | $or | $and | Operators | Equality | $in, $nin | $lt, $lte | $gt, $gte | $ne | Search\nTopics: find, get, create, database, adapter, mongodb, knex, pagination, querying, publish\n\n## Filters\n\nFilters are special properties (starting with a `$`) added at the top level of a query. They can determine page settings, the properties to select and more.\n\n### $limit\n\n`$limit` will return only the number of results you specify:\n\n```js\n// Retrieves the first two unread messages\napp.service('messages').find({\n  query: {\n    $limit: 2,\n    read: false\n  }\n})\n```\n\n```\nGET /messages?$limit=2&read=false\n```\n\n<BlockQuote>\n\nWith [pagination enabled](common.md#pagination), to just get the number of available records set `$limit` to `0`. This will only run a (fast) counting query against the database and return a page object with the `total` and an empty `data` array.\n\n</BlockQuote>\n\n### $skip\n\n`$skip` will skip the specified number of results:\n\n```js\n// Retrieves the next two unread messages\napp.service('messages').find({\n  query: {\n    $limit: 2,\n    $skip: 2,\n    read: false\n  }\n})\n```\n\n```\nGET /messages?$limit=2&$skip=2&read=false\n```\n\n### $sort\n\n`$sort` will sort based on the object you provide. It can contain a list of properties by which to sort mapped to the order (`1` ascending, `-1` descending).\n\n```js\n// Find the 10 newest messages\napp.service('messages').find({\n  query: {\n    $limit: 10,\n    $sort: {\n      createdAt: -1\n    }\n  }\n})\n```\n\n```\n/messages?$limit=10&$sort[createdAt]=-1\n```\n\n### $select\n\n`$select` allows to pick which fields to include in the result. This will work for any service method.\n\n```js\n// Only return the `text` and `userId` field in a message\napp.service('messages').find({\n  query: {\n    $select: ['text', 'userId']\n  }\n})\n\napp.service('messages').get(1, {\n  query: {\n    $select: ['text']\n  }\n})\n```\n\n```\nGET /messages?$select[]=text&$select[]=userId\nGET /messages/1?$select[]=text\n```\n\n### $or\n\nFind all records that match any of the given criteria.\n\n```js\n// Find all messages that are not marked as archived\n// or any message from room 2\napp.service('messages').find({\n  query: {\n    $or: [{ archived: { $ne: true } }, { roomId: 2 }]\n  }\n})\n```\n\n```\nGET /messages?$or[0][archived][$ne]=true&$or[1][roomId]=2\n```\n\n### $and\n\nFind all records that match all of the given criteria.\n\n```js\n// Find all messages that are not marked as archived and in room 2\napp.service('messages').find({\n  query: {\n    $and: [{ archived: { $ne: true } }, { roomId: 2 }]\n  }\n})\n```\n\n```\nGET /messages?$and[0][archived][$ne]=true&$and[1][roomId]=2\n```\n\n## Operators\n\nOperators either query a property for a specific value or determine nested special properties (starting with a `$`) that allow querying the property for certain conditions. When multiple operators are set, all conditions have to apply for a property to match.\n\n### Equality\n\nAll fields that do not contain special query parameters are compared directly for equality.\n\n```js\n// Find all unread messages in room #2\napp.service('messages').find({\n  query: {\n    read: false,\n    roomId: 2\n  }\n})\n```\n\n```\nGET /messages?read=false&roomId=2\n```\n\n### $in, $nin\n\nFind all records where the property does (`$in`) or does not (`$nin`) match any of the given values.\n\n```js\n// Find all messages in room 2 or 5\napp.service('messages').find({\n  query: {\n    roomId: {\n      $in: [2, 5]\n    }\n  }\n})\n```\n\n```\nGET /messages?roomId[$in][]=2&roomId[$in][]=5\n```\n\n### $lt, $lte\n\nFind all records where the value is less (`$lt`) or less and equal (`$lte`) to a given value.\n\n```js\n// Find all messages older than a day\nconst DAY_MS = 24 * 60 * 60 * 1000\n\napp.service('messages').find({\n  query: {\n    createdAt: {\n      $lt: new Date().getTime() - DAY_MS\n    }\n  }\n})\n```\n\n```\nGET /messages?createdAt[$lt]=1479664146607\n```\n\n### $gt, $gte\n\nFind all records where the value is more (`$gt`) or more and equal (`$gte`) to a given value.\n\n```js\n// Find all messages within the last day\nconst DAY_MS = 24 * 60 * 60 * 1000\n\napp.service('messages').find({\n  query: {\n    createdAt: {\n      $gt: new Date().getTime() - DAY_MS\n    }\n  }\n})\n```\n\n```\nGET /messages?createdAt[$gt]=1479664146607\n```\n\n### $ne\n\nFind all records that do not equal the given property value.\n\n```js\n// Find all messages that are not marked as archived\napp.service('messages').find({\n  query: {\n    archived: {\n      $ne: true\n    }\n  }\n})\n```\n\n```\nGET /messages?archived[$ne]=true\n```\n\n## Search\n\nSearching is not part of the common querying syntax since it is very specific to the database you are using. For built in databases, see the [SQL search](./knex.md#search) and [MongoDb search](./mongodb.md#search) documentation. If you are using [a community supported adapter](/ecosystem/?cat=Database&sort=lastPublish) their documentation may contain additional information on how to implement search functionality.",
    "rawContent": "## Filters\n\nFilters are special properties (starting with a `$`) added at the top level of a query. They can determine page settings, the properties to select and more.\n\n### $limit\n\n`$limit` will return only the number of results you specify:\n\n```js\n// Retrieves the first two unread messages\napp.service('messages').find({\n  query: {\n    $limit: 2,\n    read: false\n  }\n})\n```\n\n```\nGET /messages?$limit=2&read=false\n```\n\n<BlockQuote>\n\nWith [pagination enabled](common.md#pagination), to just get the number of available records set `$limit` to `0`. This will only run a (fast) counting query against the database and return a page object with the `total` and an empty `data` array.\n\n</BlockQuote>\n\n### $skip\n\n`$skip` will skip the specified number of results:\n\n```js\n// Retrieves the next two unread messages\napp.service('messages').find({\n  query: {\n    $limit: 2,\n    $skip: 2,\n    read: false\n  }\n})\n```\n\n```\nGET /messages?$limit=2&$skip=2&read=false\n```\n\n### $sort\n\n`$sort` will sort based on the object you provide. It can contain a list of properties by which to sort mapped to the order (`1` ascending, `-1` descending).\n\n```js\n// Find the 10 newest messages\napp.service('messages').find({\n  query: {\n    $limit: 10,\n    $sort: {\n      createdAt: -1\n    }\n  }\n})\n```\n\n```\n/messages?$limit=10&$sort[createdAt]=-1\n```\n\n### $select\n\n`$select` allows to pick which fields to include in the result. This will work for any service method.\n\n```js\n// Only return the `text` and `userId` field in a message\napp.service('messages').find({\n  query: {\n    $select: ['text', 'userId']\n  }\n})\n\napp.service('messages').get(1, {\n  query: {\n    $select: ['text']\n  }\n})\n```\n\n```\nGET /messages?$select[]=text&$select[]=userId\nGET /messages/1?$select[]=text\n```\n\n### $or\n\nFind all records that match any of the given criteria.\n\n```js\n// Find all messages that are not marked as archived\n// or any message from room 2\napp.service('messages').find({\n  query: {\n    $or: [{ archived: { $ne: true } }, { roomId: 2 }]\n  }\n})\n```\n\n```\nGET /messages?$or[0][archived][$ne]=true&$or[1][roomId]=2\n```\n\n### $and\n\nFind all records that match all of the given criteria.\n\n```js\n// Find all messages that are not marked as archived and in room 2\napp.service('messages').find({\n  query: {\n    $and: [{ archived: { $ne: true } }, { roomId: 2 }]\n  }\n})\n```\n\n```\nGET /messages?$and[0][archived][$ne]=true&$and[1][roomId]=2\n```\n\n## Operators\n\nOperators either query a property for a specific value or determine nested special properties (starting with a `$`) that allow querying the property for certain conditions. When multiple operators are set, all conditions have to apply for a property to match.\n\n### Equality\n\nAll fields that do not contain special query parameters are compared directly for equality.\n\n```js\n// Find all unread messages in room #2\napp.service('messages').find({\n  query: {\n    read: false,\n    roomId: 2\n  }\n})\n```\n\n```\nGET /messages?read=false&roomId=2\n```\n\n### $in, $nin\n\nFind all records where the property does (`$in`) or does not (`$nin`) match any of the given values.\n\n```js\n// Find all messages in room 2 or 5\napp.service('messages').find({\n  query: {\n    roomId: {\n      $in: [2, 5]\n    }\n  }\n})\n```\n\n```\nGET /messages?roomId[$in][]=2&roomId[$in][]=5\n```\n\n### $lt, $lte\n\nFind all records where the value is less (`$lt`) or less and equal (`$lte`) to a given value.\n\n```js\n// Find all messages older than a day\nconst DAY_MS = 24 * 60 * 60 * 1000\n\napp.service('messages').find({\n  query: {\n    createdAt: {\n      $lt: new Date().getTime() - DAY_MS\n    }\n  }\n})\n```\n\n```\nGET /messages?createdAt[$lt]=1479664146607\n```\n\n### $gt, $gte\n\nFind all records where the value is more (`$gt`) or more and equal (`$gte`) to a given value.\n\n```js\n// Find all messages within the last day\nconst DAY_MS = 24 * 60 * 60 * 1000\n\napp.service('messages').find({\n  query: {\n    createdAt: {\n      $gt: new Date().getTime() - DAY_MS\n    }\n  }\n})\n```\n\n```\nGET /messages?createdAt[$gt]=1479664146607\n```\n\n### $ne\n\nFind all records that do not equal the given property value.\n\n```js\n// Find all messages that are not marked as archived\napp.service('messages').find({\n  query: {\n    archived: {\n      $ne: true\n    }\n  }\n})\n```\n\n```\nGET /messages?archived[$ne]=true\n```\n\n## Search\n\nSearching is not part of the common querying syntax since it is very specific to the database you are using. For built in databases, see the [SQL search](./knex.md#search) and [MongoDb search](./mongodb.md#search) documentation. If you are using [a community supported adapter](/ecosystem/?cat=Database&sort=lastPublish) their documentation may contain additional information on how to implement search functionality.",
    "breadcrumb": "Querying",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/databases/querying.md",
    "heading": "Querying",
    "subHeadings": [
      "Filters",
      "$limit",
      "$skip",
      "$sort",
      "$select",
      "$or",
      "$and",
      "Operators",
      "Equality",
      "$in, $nin",
      "$lt, $lte",
      "$gt, $gte",
      "$ne",
      "Search"
    ],
    "hasCode": true,
    "codeLanguages": [
      "js",
      "text"
    ],
    "tokens": 1169,
    "category": "databases",
    "tags": [
      "find",
      "get",
      "create",
      "database",
      "adapter",
      "mongodb",
      "knex",
      "pagination",
      "querying",
      "publish"
    ],
    "embedding": [
      -0.026267,
      0.000848,
      -0.05776,
      0.033424,
      -0.013081,
      0.004221,
      -0.023414,
      -0.000401,
      -0.010124,
      0.011854,
      0.012937,
      0.002675,
      -0.034579,
      0.025499,
      0.016848,
      0.018657,
      -0.025174,
      -0.01768,
      -0.016048,
      -0.003395,
      -0.055946,
      0.024247,
      0.020961,
      0.021648,
      -0.002674,
      0.021614,
      -0.029629,
      -0.008162,
      0.002566,
      0.034601,
      0.039736,
      -0.028558,
      0.009649,
      0.000728,
      -0.038861,
      0.001838,
      -0.032804,
      0.015908,
      -0.029724,
      0.03919,
      -0.028441,
      0.014289,
      0.005208,
      -0.076356,
      0.029622,
      -0.013097,
      -0.011608,
      -0.004878,
      -0.03087,
      -0.037329,
      -0.028187,
      0.011223,
      0.039516,
      -0.027748,
      0.114115,
      0.041499,
      -0.044831,
      0.019985,
      -0.015682,
      0.003989,
      -0.015493,
      0.013343,
      -0.002784,
      -0.030313,
      0.034714,
      0.052011,
      -0.02094,
      0.017732,
      -0.031439,
      -0.035713,
      -0.001883,
      0.046616,
      -0.044164,
      -0.025962,
      -0.048246,
      0.001558,
      -0.000297,
      0.003865,
      -0.049015,
      0.007037,
      -0.000611,
      -0.005565,
      -0.005773,
      0.006286,
      -0.037587,
      0.015784,
      -0.039593,
      -0.004512,
      0.052465,
      0.01535,
      -0.016745,
      -0.005185,
      0.051991,
      -0.066056,
      0.007248,
      -0.007758,
      -0.029266,
      -0.002941,
      0.05865,
      0.013569,
      0.017043,
      -0.010063,
      0.016125,
      -0.029807,
      0.036266,
      0.000778,
      0.041177,
      0.025541,
      0.022272,
      -0.040434,
      0.010178,
      0.045802,
      0.005977,
      -0.002594,
      -0.017263,
      -0.0245,
      0.013069,
      0.006585,
      0.038217,
      -0.004141,
      0.071573,
      0.042975,
      0.035137,
      -0.028286,
      -0.025604,
      -0.009102,
      -0.041342,
      0.044294,
      0.00211,
      0.009242,
      0.030347,
      0.009291,
      0.000613,
      -0.003513,
      -0.049744,
      0.009214,
      0.026113,
      0.006065,
      -0.010999,
      -0.072835,
      -0.006179,
      0.022018,
      -0.026993,
      -0.015545,
      0.047665,
      -0.032118,
      0.070225,
      0.032619,
      -0.012866,
      -0.021954,
      0.034722,
      0.034671,
      0.045535,
      -0.035848,
      0.002685,
      -0.057981,
      0.007815,
      0.024464,
      -0.041893,
      0.029784,
      -0.007497,
      -0.017223,
      -0.064909,
      0.023398,
      0.034415,
      0.013586,
      0.033249,
      0.022591,
      -0.015556,
      -0.043997,
      0.012583,
      -0.036584,
      0.054229,
      -0.016523,
      -0.017749,
      0.022833,
      0.075991,
      0.01369,
      0.010371,
      -0.04342,
      -0.063652,
      0.008025,
      0.000008,
      -0.041673,
      -0.001714,
      0.003358,
      -0.022584,
      -0.024908,
      -0.02355,
      -0.045079,
      -0.041303,
      -0.049089,
      0.024144,
      0.052383,
      0.006742,
      -0.046378,
      0.007756,
      -0.030681,
      0.012331,
      -0.017442,
      -0.016917,
      0.050053,
      0.042224,
      0.004909,
      -0.063338,
      -0.027439,
      -0.034481,
      -0.022512,
      0.034296,
      -0.021109,
      0.005581,
      0.042815,
      -0.002545,
      0.010651,
      -0.023537,
      0.025303,
      -0.011216,
      0.003529,
      -0.01751,
      0.006215,
      0.004542,
      0.030769,
      0.014107,
      -0.01275,
      0.036839,
      -0.004504,
      0.06873,
      0.024672,
      0.013733,
      0.013448,
      -0.02109,
      0.043776,
      -0.015249,
      0.018352,
      -0.007916,
      0.000262,
      0.000826,
      0.016503,
      0.004227,
      -0.003605,
      -0.031563,
      -0.030459,
      0.000247,
      0.021737,
      -0.014149,
      -0.037544,
      0.002768,
      0.018285,
      0.001891,
      -0.010339,
      -0.001017,
      0.020487,
      -0.00145,
      -0.023899,
      0.060175,
      0.017424,
      0.013511,
      -0.039017,
      -0.035718,
      -0.028185,
      0.040751,
      -0.007165,
      -0.030997,
      0.023083,
      0.048514,
      -0.025036,
      -0.046173,
      -0.046151,
      0.011921,
      0.02852,
      -0.023447,
      0.016022,
      0.049744,
      -0.013625,
      -0.008297,
      0.048907,
      0.024736,
      -0.036681,
      0.074782,
      -0.016237,
      -0.007384,
      0.036905,
      0.032107,
      0.003102,
      0.023139,
      0.029596,
      0.043747,
      -0.043278,
      0.034002,
      -0.03941,
      -0.000088,
      -0.027764,
      0.051521,
      0.007636,
      -0.050328,
      -0.008816,
      0.000621,
      -0.161299,
      -0.031619,
      0.046119,
      0.004196,
      0.01036,
      0.003601,
      -0.021282,
      0.010831,
      -0.076313,
      0.028131,
      -0.026844,
      -0.068804,
      -0.00981,
      -0.031175,
      0.003541,
      -0.00909,
      0.025307,
      -0.00145,
      -0.010259,
      -0.049208,
      -0.041918,
      -0.06127,
      0.060621,
      -0.019345,
      0.026593,
      -0.019375,
      0.003074,
      0.028704,
      -0.008559,
      -0.02551,
      -0.000983,
      0.010977,
      0.019922,
      -0.006817,
      -0.006266,
      0.043688,
      -0.007473,
      -0.037592,
      0.006738,
      -0.008428,
      0.03905,
      0.013609,
      -0.022588,
      -0.001881,
      0.028681,
      -0.001609,
      -0.001305,
      0.020385,
      -0.041259,
      -0.041279,
      -0.045179,
      -0.013777,
      -0.03021,
      -0.036439,
      -0.046659,
      0.011529,
      0.016574,
      0.040699,
      0.027858,
      0.01689,
      0.00629,
      -0.011418,
      0.049228,
      -0.038104,
      -0.015813,
      0.008439,
      0.022771,
      -0.000189,
      0.027797,
      -0.002337,
      0.049871,
      -0.020574,
      0.021824,
      0.03946,
      -0.023104,
      0.007491,
      0.003365,
      -0.036656,
      0.000397,
      -0.124332,
      -0.004721,
      0.013938,
      -0.006695,
      0.029823,
      -0.030531,
      -0.026455,
      -0.016198,
      -0.027941,
      0.036598,
      0.252593,
      -0.002351,
      0.015964,
      0.021776,
      0.003578,
      0.033229,
      0.02383,
      0.056431,
      0.025697,
      -0.025514,
      0.008255,
      0.027281,
      -0.001965,
      -0.020882,
      0.000726,
      0.003949,
      -0.039458,
      0.016445,
      0.060793,
      -0.014319,
      0.036294,
      -0.018316,
      0.018482,
      0.021011,
      -0.026819,
      -0.012173,
      0.000641,
      -0.020173,
      -0.045001,
      0.016035,
      -0.033566,
      -0.001743,
      0.041304,
      -0.081515,
      -0.010098,
      -0.026505,
      0.013797,
      -0.013382,
      0.011583,
      0.033992,
      -0.011511,
      -0.00081,
      -0.030086,
      0.015317,
      -0.005768,
      -0.009204,
      -0.001037,
      0.025632,
      -0.021804,
      0.011607,
      -0.022922,
      -0.002568,
      -0.035436,
      0.000725,
      -0.016495,
      -0.02449,
      0.012641,
      0.023223,
      -0.007839,
      0.031406,
      0.001887,
      0.013056,
      -0.058512,
      0.010728,
      -0.020043,
      -0.010967,
      -0.01684,
      -0.035953,
      0.013671,
      0.053714,
      -0.014736,
      -0.018451,
      0.008188,
      0.021952,
      0.00748,
      -0.001796,
      0.021137,
      -0.003452,
      -0.007272,
      0.029881,
      -0.022565,
      -0.02136,
      -0.012862,
      0.023507,
      0.016427,
      0.004845,
      -0.026975,
      0.032496,
      0.026622,
      -0.062743,
      -0.027997,
      -0.006823,
      -0.008096,
      0.014816,
      -0.01595,
      -0.010671,
      0.021981,
      0.034827,
      -0.00673,
      0.004169,
      0.005199,
      0.020417,
      0.035871,
      -0.027449,
      0.002605,
      -0.011869,
      0.041738,
      -0.000058,
      -0.023654,
      0.012434,
      -0.080142,
      0.01396,
      0.014299,
      0.016655,
      0.001585,
      0.060284,
      -0.00543,
      0.026676,
      0.018088,
      0.022013,
      -0.047152,
      0.052394,
      0.003646,
      -0.037589,
      0.013219,
      -0.046504,
      0.027006,
      -0.031291,
      -0.046369,
      0.042007,
      0.002957,
      -0.052871,
      -0.025594,
      0.020184,
      -0.006166,
      -0.004773,
      0.019441,
      0.015843,
      -0.001553,
      -0.009786,
      -0.019798,
      -0.045254,
      -0.013523,
      -0.000147,
      0.000218,
      0.004097,
      0.034084,
      -0.046088,
      -0.021575,
      0.005724,
      0.082094,
      0.022985,
      0.028877,
      -0.022239,
      -0.01525,
      -0.030055,
      -0.002502,
      -0.031564,
      -0.020862,
      -0.005259,
      0.002558,
      -0.038803,
      -0.028476,
      0.06282,
      0.015571,
      -0.035086,
      0.075868,
      0.066601,
      -0.060138,
      -0.038077,
      -0.060923,
      -0.071645,
      -0.04305,
      0.032544,
      0.014692,
      -0.018915,
      -0.003594,
      -0.009398,
      -0.00284,
      -0.020347,
      -0.014269,
      -0.022484,
      -0.054025,
      0.036012,
      -0.011461,
      0.011177,
      0.030895,
      -0.009249,
      0.020701,
      -0.030142,
      0.01488,
      0.129131,
      0.019092,
      -0.010098,
      0.021757,
      -0.010186,
      0.015528,
      0.070456,
      -0.0032,
      0.003389,
      0.034382,
      -0.031509,
      0.007058,
      0.006575,
      0.008608,
      -0.017639,
      -0.007599,
      0.024993,
      -0.025954,
      -0.020388,
      -0.009936,
      -0.012538,
      -0.060964,
      0.000047,
      0.032719,
      -0.041314,
      0.019487,
      0.045947,
      -0.009531,
      -0.005255,
      -0.014196,
      0.008103,
      0.030418,
      -0.036535,
      -0.011741,
      -0.013207,
      0.009129,
      -0.026429,
      0.020899,
      0.009823,
      -0.004087,
      -0.031957,
      0.004216,
      -0.034547,
      -0.009433,
      0.0345,
      0.02805,
      0.043713,
      0.060155,
      -0.026935,
      -0.003603,
      0.000843,
      0.048814,
      0.034215,
      -0.018884,
      0.013672,
      -0.042567,
      0.029708,
      0.010098,
      0.034747,
      -0.047976,
      0.038906,
      0.032422,
      -0.037086,
      0.001731,
      0.023768,
      0.003545,
      0.020592,
      -0.029329,
      -0.059755,
      -0.016266,
      0.021938,
      0.014555,
      -0.006983,
      -0.026967,
      -0.001586,
      0.019346,
      -0.065585,
      -0.010513,
      0.00002,
      0.01066,
      0.022591,
      -0.028482,
      -0.003103,
      0.031664,
      0.005169,
      -0.004878,
      -0.01423,
      0.005425,
      0.018812,
      0.002058,
      0.036178,
      0.017391,
      0.028848,
      0.005845,
      0.001551,
      0.009394,
      -0.002983,
      -0.016674,
      -0.046422,
      -0.003996,
      -0.005085,
      -0.049107,
      0.03366,
      -0.009139,
      0.002109,
      -0.021851,
      0.021158,
      -0.008273,
      -0.015589,
      -0.00963,
      -0.005291,
      0.013809,
      -0.012743,
      -0.029044,
      0.019798,
      0.004576,
      -0.075883,
      -0.009558,
      0.03125,
      -0.014094,
      0.011745,
      0.007753,
      0.013102,
      0.003977,
      0.00666,
      0.088003,
      0.006699,
      0.010186,
      -0.023675,
      0.061651,
      -0.019875,
      -0.042675,
      -0.006107,
      0.033644,
      0.007449,
      -0.030878,
      -0.0132,
      -0.028729,
      0.000249,
      -0.059358,
      -0.009104,
      0.005754,
      -0.014279,
      -0.028973,
      0.004993,
      0.02964,
      -0.000918,
      0.025109,
      -0.068624,
      0.003554,
      -0.026786,
      0.070976,
      -0.023129,
      0.038718,
      0.030144,
      -0.020868,
      -0.020719,
      -0.012039,
      -0.002324,
      0.007796,
      0.028848,
      -0.031604,
      -0.017686,
      0.025378,
      -0.006138,
      -0.035873,
      0.012231,
      0.036158,
      -0.011349,
      -0.027236,
      0.043604,
      -0.027856,
      -0.016319,
      0.045927,
      -0.006288,
      0.024317,
      0.006687,
      0.003068,
      -0.024868,
      -0.017199,
      0.011199,
      0.005637,
      -0.013191,
      -0.046975,
      0.030684,
      -0.029128,
      -0.01913,
      0.01686,
      -0.077176,
      -0.004364,
      -0.044486,
      -0.023941,
      0.022176,
      -0.020271,
      -0.000481,
      -0.038865,
      0.012526,
      -0.006058,
      0.025928,
      -0.02278,
      0.021524,
      -0.041923,
      -0.02002,
      -0.136794,
      0.017874,
      0.008749,
      0.005574,
      -0.029194,
      0.01855,
      -0.002592,
      -0.025356,
      -0.00396,
      -0.026498,
      -0.037279,
      -0.019116,
      0.006304,
      -0.041037,
      -0.005623,
      0.037172,
      -0.009115,
      -0.022211,
      -0.005373,
      0.049858,
      -0.010077,
      0.001686,
      0.004582,
      0.017939,
      -0.00742,
      -0.025884,
      -0.011432,
      -0.000378,
      -0.029384,
      0.002597,
      0.040191,
      0.004249,
      0.024116,
      0.020561,
      -0.00943,
      0.042016,
      -0.030522,
      -0.000399,
      -0.005805,
      0.028183,
      -0.014123,
      0.017269,
      0.004441,
      -0.013307,
      0.00592,
      0.01449,
      0.005258,
      -0.009275,
      -0.000465,
      0.004621,
      -0.005497,
      0.011435,
      -0.040378,
      0.010488,
      0.011154,
      -0.028324,
      -0.033788,
      0.004169,
      0.008321,
      0.037451,
      -0.035684,
      0.027838,
      -0.020003,
      -0.099354,
      -0.02297,
      0.019544,
      -0.077718,
      0.0116,
      -0.001385,
      0.024461,
      -0.026946,
      -0.015547,
      -0.025167,
      -0.00719,
      0.024286,
      -0.002684,
      -0.006838,
      -0.032507,
      -0.065554,
      -0.023569,
      -0.006098,
      -0.000964,
      -0.017846,
      0.056602,
      0.04415,
      0.003765,
      -0.002391,
      0.011798,
      -0.064451,
      -0.001158,
      -0.035742,
      -0.046831,
      0.009487,
      0.052848,
      0.012399,
      0.025507,
      -0.044344,
      0.007362,
      0.00692,
      -0.050191,
      0.01305,
      -0.007056,
      -0.003429,
      -0.008574,
      0.010131,
      -0.010918,
      0.03612,
      0.010261,
      0.02077,
      -0.017697,
      0.045463,
      0.019322,
      0.015305,
      -0.010998,
      -0.041746,
      -0.009193,
      -0.009376,
      0.033745,
      -0.025099,
      0.040843,
      -0.001685,
      0.005733,
      0.034589,
      -0.003243,
      -0.012132,
      0.040754,
      0.061182,
      0.007155,
      0.052067,
      -0.024646,
      0.025176,
      -0.078215,
      -0.005786,
      -0.010018,
      0.035944,
      -0.024862,
      -0.036694,
      0.062446,
      -0.037498,
      -0.054223,
      -0.009526,
      -0.001583,
      -0.008085,
      -0.020973,
      -0.003647,
      -0.007584,
      0.007308,
      0.006721,
      -0.02532,
      -0.054534,
      -0.00965,
      -0.027705,
      -0.016133,
      0.018626,
      -0.001005,
      0.022295,
      -0.027414,
      0.009836,
      0.00241,
      0.058363,
      0.004187,
      -0.0114,
      -0.009389,
      -0.021996,
      0.015079,
      0.015213,
      -0.0065,
      -0.045167,
      -0.042545,
      -0.004439,
      -0.020873,
      0.031008,
      -0.012204,
      0.047829,
      0.009613,
      -0.026142,
      0.019136,
      0.035354,
      0.055392,
      -0.019853,
      0.014698,
      -0.010481,
      0.069838,
      0.031036,
      0.028305,
      0.023331,
      -0.027357,
      0.01906,
      0.056417,
      0.001499,
      -0.014109,
      0.006521,
      -0.006496,
      -0.014486,
      0.004791,
      0.033714,
      0.01389,
      0.00914,
      -0.002937,
      0.036497,
      -0.055445,
      0.017456,
      -0.011232,
      0.011593,
      -0.009514,
      0.023018,
      -0.007046,
      -0.003861,
      -0.020692,
      0.057489,
      -0.019798,
      0.009567,
      -0.000388,
      0.013912,
      0.017835,
      0.015448,
      0.048335,
      0.015471,
      0.028378,
      -0.007525,
      0.063214,
      0.017551,
      0.003442,
      -0.031828,
      -0.046141,
      -0.012852,
      -0.005656,
      -0.035712,
      -0.029098,
      0.049298,
      0.001436,
      -0.048181,
      -0.022018,
      0.002556,
      0.042927,
      -0.027575,
      -0.012314,
      -0.002659,
      -0.039588,
      -0.020634,
      0.012817,
      0.022483,
      0.07645,
      -0.026914
    ]
  },
  {
    "id": "v5-errors-0",
    "content": "# Errors\nBreadcrumb: Errors\nCovers: Examples | Feathers errors | Custom errors | Error Handling\nTopics: hooks, application, error hooks, get, create, google, validation, database, adapter, rest, http, express, middleware, client, error handling, errors, types, cli\n\n## Examples\n\nHere are a few ways that you can use them:\n\n```ts\nimport { NotFound, GeneralError, BadRequest } from '@feathersjs/errors'\n\n// If you were to create an error yourself.\nconst notFound = new NotFound('User does not exist')\n\n// You can wrap existing errors\nconst existing = new GeneralError(new Error('I exist'))\n\n// You can also pass additional data\nconst data = new BadRequest('Invalid email', {\n  email: 'sergey@google.com'\n})\n\n// You can also pass additional data without a message\nconst dataWithoutMessage = new BadRequest({\n  email: 'sergey@google.com'\n})\n\n// If you need to pass multiple errors\nconst validationErrors = new BadRequest('Invalid Parameters', {\n  errors: { email: 'Email already taken' }\n})\n\n// You can also omit the error message and we'll put in a default one for you\nconst validationErrors = new BadRequest({\n  errors: {\n    email: 'Invalid Email'\n  }\n})\n```\n\n## Feathers errors\n\nThe following error types, all of which are instances of `FeathersError`, are available:\n\n- 400: `BadRequest`\n- 401: `NotAuthenticated`\n- 402: `PaymentError`\n- 403: `Forbidden`\n- 404: `NotFound`\n- 405: `MethodNotAllowed`\n- 406: `NotAcceptable`\n- 408: `Timeout`\n- 409: `Conflict`\n- 411: `LengthRequired`\n- 422: `Unprocessable`\n- 429: `TooManyRequests`\n- 500: `GeneralError`\n- 501: `NotImplemented`\n- 502: `BadGateway`\n- 503: `Unavailable`\n\n> **tip:**\n> \n> All of the Feathers core modules and most plugins and database adapters automatically emit the appropriate Feathers errors for you. For example, most of the database adapters will already send `Conflict` or `Unprocessable` errors on validation errors.\n> \n\nFeathers errors contain the following fields:\n\n- `name` - The error name (e.g. \"BadRequest\", \"ValidationError\", etc.)\n- `message` - The error message string\n- `code` - The HTTP status code\n- `className` - A CSS class name that can be handy for styling errors based on the error type. (e.g. \"bad-request\" , etc.)\n- `data` - An object containing anything you passed to a Feathers error except for the `errors` object and `message`.\n- `errors` - An object containing whatever was passed to a Feathers error inside `errors`. This is typically validation errors or if you want to group multiple errors together.\n\n> **Important:**\n> \n> To convert a Feathers error back to an object call `error.toJSON()`. A normal `console.log` of a JavaScript Error object will not automatically show those additional properties described above (even though they can be accessed directly).\n>\n\n## Custom errors\n\nYou can create custom errors by extending from the `FeathersError` class and calling its constructor with `(message, name, code, className, data)`:\n\n- `message` - The error message\n- `name` - The error name (e.g. `MyError`)\n- `code` - An [HTTP error code](https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)\n- `className` - The full name of the error class (e.g. `my-error`)\n- `data` - Additional data to include in the error\n\n```ts\nimport { FeathersError } from '@feathersjs/errors'\n\nclass UnsupportedMediaType extends FeathersError {\n  constructor(message: string, data: any) {\n    super(message, 'UnsupportedMediaType', 415, 'unsupported-media-type', data)\n  }\n}\n\nconst error = new UnsupportedMediaType('Not supported')\n\nconsole.log(error.toJSON())\n```\n\n## Error Handling\n\nIt is important to make sure that errors get cleaned up before they go back to the client. [Express error handling middleware](https://docs.feathersjs.com/api/express.html#expresserrorhandler) works only for REST calls. If you want to make sure that ws errors are handled as well, you need to use [application error hooks](hooks.md#application-hooks) which are called on any service call error.\n\nHere is an example error handler you can add to app.hooks errors.\n\n```js\nconst errors = require('@feathersjs/errors')\nconst errorHandler = (ctx) => {\n  if (ctx.error) {\n    const error = ctx.error\n    if (!error.code) {\n      const newError = new errors.GeneralError('server error')\n      ctx.error = newError\n      return ctx\n    }\n    if (error.code === 404 || process.env.NODE_ENV === 'production') {\n      error.stack = null\n    }\n    return ctx\n  }\n}\n```\n\nthen add it as an [application level](./application.md#hooks-hooks) error hook\n\n```ts\napp.hooks({\n  //...\n  error: {\n    all: [errorHandler]\n  }\n})\n```",
    "rawContent": "## Examples\n\nHere are a few ways that you can use them:\n\n```ts\nimport { NotFound, GeneralError, BadRequest } from '@feathersjs/errors'\n\n// If you were to create an error yourself.\nconst notFound = new NotFound('User does not exist')\n\n// You can wrap existing errors\nconst existing = new GeneralError(new Error('I exist'))\n\n// You can also pass additional data\nconst data = new BadRequest('Invalid email', {\n  email: 'sergey@google.com'\n})\n\n// You can also pass additional data without a message\nconst dataWithoutMessage = new BadRequest({\n  email: 'sergey@google.com'\n})\n\n// If you need to pass multiple errors\nconst validationErrors = new BadRequest('Invalid Parameters', {\n  errors: { email: 'Email already taken' }\n})\n\n// You can also omit the error message and we'll put in a default one for you\nconst validationErrors = new BadRequest({\n  errors: {\n    email: 'Invalid Email'\n  }\n})\n```\n\n## Feathers errors\n\nThe following error types, all of which are instances of `FeathersError`, are available:\n\n- 400: `BadRequest`\n- 401: `NotAuthenticated`\n- 402: `PaymentError`\n- 403: `Forbidden`\n- 404: `NotFound`\n- 405: `MethodNotAllowed`\n- 406: `NotAcceptable`\n- 408: `Timeout`\n- 409: `Conflict`\n- 411: `LengthRequired`\n- 422: `Unprocessable`\n- 429: `TooManyRequests`\n- 500: `GeneralError`\n- 501: `NotImplemented`\n- 502: `BadGateway`\n- 503: `Unavailable`\n\n> **tip:**\n> \n> All of the Feathers core modules and most plugins and database adapters automatically emit the appropriate Feathers errors for you. For example, most of the database adapters will already send `Conflict` or `Unprocessable` errors on validation errors.\n> \n\nFeathers errors contain the following fields:\n\n- `name` - The error name (e.g. \"BadRequest\", \"ValidationError\", etc.)\n- `message` - The error message string\n- `code` - The HTTP status code\n- `className` - A CSS class name that can be handy for styling errors based on the error type. (e.g. \"bad-request\" , etc.)\n- `data` - An object containing anything you passed to a Feathers error except for the `errors` object and `message`.\n- `errors` - An object containing whatever was passed to a Feathers error inside `errors`. This is typically validation errors or if you want to group multiple errors together.\n\n> **Important:**\n> \n> To convert a Feathers error back to an object call `error.toJSON()`. A normal `console.log` of a JavaScript Error object will not automatically show those additional properties described above (even though they can be accessed directly).\n>\n\n## Custom errors\n\nYou can create custom errors by extending from the `FeathersError` class and calling its constructor with `(message, name, code, className, data)`:\n\n- `message` - The error message\n- `name` - The error name (e.g. `MyError`)\n- `code` - An [HTTP error code](https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)\n- `className` - The full name of the error class (e.g. `my-error`)\n- `data` - Additional data to include in the error\n\n```ts\nimport { FeathersError } from '@feathersjs/errors'\n\nclass UnsupportedMediaType extends FeathersError {\n  constructor(message: string, data: any) {\n    super(message, 'UnsupportedMediaType', 415, 'unsupported-media-type', data)\n  }\n}\n\nconst error = new UnsupportedMediaType('Not supported')\n\nconsole.log(error.toJSON())\n```\n\n## Error Handling\n\nIt is important to make sure that errors get cleaned up before they go back to the client. [Express error handling middleware](https://docs.feathersjs.com/api/express.html#expresserrorhandler) works only for REST calls. If you want to make sure that ws errors are handled as well, you need to use [application error hooks](hooks.md#application-hooks) which are called on any service call error.\n\nHere is an example error handler you can add to app.hooks errors.\n\n```js\nconst errors = require('@feathersjs/errors')\nconst errorHandler = (ctx) => {\n  if (ctx.error) {\n    const error = ctx.error\n    if (!error.code) {\n      const newError = new errors.GeneralError('server error')\n      ctx.error = newError\n      return ctx\n    }\n    if (error.code === 404 || process.env.NODE_ENV === 'production') {\n      error.stack = null\n    }\n    return ctx\n  }\n}\n```\n\nthen add it as an [application level](./application.md#hooks-hooks) error hook\n\n```ts\napp.hooks({\n  //...\n  error: {\n    all: [errorHandler]\n  }\n})\n```",
    "breadcrumb": "Errors",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/errors.md",
    "heading": "Errors",
    "subHeadings": [
      "Examples",
      "Feathers errors",
      "Custom errors",
      "Error Handling"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 1076,
    "category": "errors",
    "tags": [
      "hooks",
      "application",
      "error hooks",
      "get",
      "create",
      "google",
      "validation",
      "database",
      "adapter",
      "rest",
      "http",
      "express",
      "middleware",
      "client",
      "error handling",
      "errors",
      "types",
      "cli"
    ],
    "embedding": [
      0.021357,
      -0.006795,
      -0.045261,
      0.031067,
      -0.000248,
      -0.017783,
      0.002452,
      0.014876,
      -0.026308,
      -0.000543,
      -0.026428,
      0.023035,
      -0.005774,
      0.01099,
      -0.009334,
      -0.025503,
      -0.027225,
      -0.034577,
      0.008579,
      -0.049586,
      -0.065701,
      0.015635,
      0.00463,
      -0.03266,
      0.017598,
      0.011224,
      -0.016175,
      -0.011509,
      0.015615,
      -0.027574,
      0.0073,
      0.033426,
      0.000544,
      -0.013223,
      -0.02475,
      -0.003753,
      -0.01841,
      0.00471,
      -0.023916,
      0.033786,
      0.002361,
      0.005474,
      -0.013401,
      -0.038233,
      0.009237,
      -0.038331,
      0.00728,
      -0.008482,
      0.026936,
      -0.042285,
      -0.029984,
      0.005239,
      0.068202,
      -0.049368,
      0.085406,
      0.037285,
      -0.015421,
      0.02461,
      -0.06176,
      0.024453,
      -0.01906,
      -0.009954,
      -0.024601,
      0.023106,
      -0.004496,
      0.035455,
      -0.000463,
      0.002088,
      -0.028043,
      -0.010546,
      -0.025043,
      0.015306,
      0.001879,
      -0.004965,
      -0.051712,
      0.022845,
      0.033025,
      0.023761,
      -0.00447,
      0.030336,
      -0.035082,
      -0.032382,
      -0.017801,
      0.017017,
      0.011682,
      -0.024588,
      -0.02364,
      0.003052,
      0.037264,
      0.002964,
      0.004298,
      -0.003234,
      0.06059,
      -0.054764,
      -0.001929,
      0.028822,
      -0.029996,
      0.011156,
      -0.006338,
      0.003509,
      -0.016934,
      0.03015,
      -0.023066,
      -0.036717,
      0.039542,
      0.036499,
      0.049186,
      -0.004754,
      0.022198,
      -0.035838,
      -0.008296,
      0.009246,
      0.000595,
      -0.005511,
      -0.009886,
      -0.021112,
      -0.010219,
      0.003593,
      0.017326,
      -0.025994,
      -0.012843,
      0.052157,
      0.05874,
      -0.017312,
      -0.036872,
      0.030582,
      -0.015626,
      0.036695,
      -0.018229,
      0.040634,
      0.03131,
      -0.046281,
      -0.015421,
      -0.02579,
      -0.030468,
      0.022413,
      -0.00442,
      0.024604,
      0.016112,
      -0.046794,
      0.043558,
      0.020453,
      -0.00585,
      -0.006017,
      -0.002426,
      -0.073508,
      0.061927,
      0.040325,
      0.026063,
      -0.024874,
      0.024048,
      0.02032,
      0.01584,
      -0.063243,
      0.047911,
      -0.081328,
      0.015267,
      -0.000311,
      0.017538,
      0.021178,
      0.01007,
      0.01643,
      -0.048823,
      0.000811,
      0.035963,
      -0.007733,
      0.018817,
      -0.057582,
      -0.03033,
      -0.026722,
      0.048095,
      -0.028612,
      0.036949,
      -0.009878,
      0.032894,
      0.026847,
      0.070155,
      0.037552,
      0.012487,
      -0.043478,
      -0.021986,
      0.007635,
      -0.000436,
      -0.061779,
      -0.028821,
      -0.003447,
      -0.024602,
      -0.029522,
      -0.015307,
      0.011734,
      -0.020303,
      -0.021594,
      0.068949,
      0.009747,
      -0.012124,
      0.002514,
      0.027385,
      -0.019469,
      -0.000573,
      0.010007,
      -0.013253,
      0.012446,
      0.052679,
      0.019518,
      -0.027117,
      -0.006718,
      -0.000764,
      -0.072559,
      0.043171,
      -0.067401,
      -0.001147,
      0.030657,
      -0.027236,
      -0.044739,
      -0.018487,
      -0.01689,
      -0.00051,
      0.001822,
      -0.0289,
      -0.035034,
      -0.020194,
      -0.003842,
      -0.003237,
      0.001991,
      0.01744,
      0.019221,
      0.027212,
      -0.001269,
      0.006279,
      -0.02719,
      -0.003029,
      0.00973,
      0.048937,
      -0.018792,
      0.021825,
      -0.013297,
      -0.006619,
      0.005757,
      -0.003322,
      0.055921,
      0.026352,
      -0.038627,
      0.019127,
      -0.034459,
      -0.034458,
      0.003961,
      0.035347,
      0.005044,
      -0.036215,
      -0.006053,
      -0.014693,
      -0.001512,
      0.030409,
      0.006971,
      0.021077,
      0.02334,
      0.005716,
      -0.004949,
      -0.003354,
      -0.028473,
      0.000445,
      0.03182,
      0.015889,
      -0.015521,
      0.001355,
      -0.024092,
      -0.061852,
      -0.069978,
      -0.002831,
      -0.009882,
      -0.021028,
      0.007731,
      0.064053,
      -0.005293,
      -0.020147,
      0.012111,
      0.006816,
      -0.038399,
      0.118109,
      0.030295,
      0.025842,
      0.04756,
      0.053608,
      0.027879,
      0.034899,
      0.059028,
      0.003373,
      -0.063152,
      0.052093,
      -0.033337,
      0.019739,
      -0.037574,
      0.04998,
      0.017201,
      -0.051654,
      0.013277,
      0.00042,
      -0.151915,
      -0.029091,
      0.048383,
      0.014734,
      0.00422,
      -0.011623,
      -0.063003,
      -0.016672,
      -0.054002,
      0.022759,
      -0.001262,
      -0.048797,
      -0.013982,
      -0.010316,
      0.034497,
      -0.012335,
      0.006787,
      0.03505,
      0.042787,
      -0.025067,
      -0.021586,
      -0.041607,
      0.032821,
      -0.02186,
      -0.021393,
      -0.050644,
      0.011456,
      0.005876,
      -0.029766,
      0.018191,
      -0.021368,
      0.046433,
      0.008447,
      0.035584,
      -0.032361,
      -0.001781,
      -0.003545,
      -0.024456,
      0.026755,
      -0.038002,
      -0.009824,
      0.074474,
      0.004977,
      -0.000395,
      0.019787,
      -0.039264,
      0.054864,
      0.012699,
      -0.0099,
      -0.007919,
      0.00839,
      -0.030388,
      -0.006078,
      0.00752,
      -0.019779,
      -0.017938,
      0.011295,
      0.064219,
      -0.020582,
      -0.026426,
      0.005835,
      -0.000293,
      0.040776,
      0.005244,
      0.001278,
      -0.024254,
      0.020681,
      -0.010905,
      0.008512,
      -0.040887,
      0.020577,
      -0.048213,
      -0.000181,
      0.004472,
      -0.02253,
      -0.004321,
      -0.002445,
      0.00463,
      -0.022097,
      -0.141139,
      -0.013751,
      0.019324,
      -0.009706,
      0.02146,
      -0.022986,
      0.013511,
      -0.026111,
      0.01163,
      0.044535,
      0.269402,
      0.011185,
      -0.00075,
      0.015062,
      0.040511,
      -0.02353,
      0.045486,
      0.059069,
      0.025191,
      -0.016434,
      0.001819,
      0.022413,
      -0.01279,
      0.017348,
      -0.02083,
      0.029804,
      -0.04912,
      0.037889,
      0.072136,
      -0.038457,
      0.006092,
      -0.019042,
      0.040429,
      0.044763,
      -0.069872,
      -0.074833,
      -0.010042,
      0.036263,
      -0.05585,
      0.016294,
      -0.021489,
      0.002632,
      0.023518,
      -0.048393,
      -0.080542,
      -0.012572,
      -0.034556,
      -0.0404,
      -0.024846,
      0.000411,
      -0.027675,
      0.001606,
      0.030318,
      0.038585,
      -0.002864,
      0.005667,
      -0.006916,
      0.017186,
      -0.037293,
      -0.028867,
      -0.06897,
      -0.010889,
      -0.03856,
      -0.002953,
      -0.044337,
      -0.038513,
      0.00254,
      0.017282,
      0.007336,
      0.006516,
      0.035783,
      0.016906,
      -0.044882,
      0.026134,
      -0.018887,
      0.015463,
      0.012523,
      -0.038627,
      -0.008251,
      0.059102,
      -0.02654,
      0.006574,
      0.026421,
      0.004596,
      0.006898,
      -0.006786,
      0.016284,
      0.034584,
      -0.01547,
      0.060042,
      -0.022581,
      0.017311,
      -0.030591,
      0.028933,
      0.005421,
      0.016446,
      -0.004301,
      0.021496,
      -0.005684,
      -0.000036,
      -0.019793,
      0.000544,
      -0.016155,
      0.067964,
      -0.035501,
      0.045446,
      0.022367,
      -0.002214,
      0.004386,
      -0.040906,
      -0.002413,
      0.017683,
      0.02915,
      -0.02083,
      0.04132,
      -0.02781,
      -0.015728,
      0.025041,
      0.00328,
      -0.023658,
      -0.035353,
      0.013947,
      0.033604,
      -0.01884,
      0.012712,
      0.017594,
      0.033081,
      0.02544,
      0.043532,
      0.024159,
      -0.04468,
      0.015794,
      0.003094,
      0.012114,
      0.011726,
      -0.055405,
      0.006586,
      0.021073,
      -0.000428,
      0.063199,
      0.019812,
      -0.018655,
      0.010896,
      0.049461,
      0.05074,
      0.027497,
      0.053895,
      0.023183,
      0.005321,
      0.001896,
      0.010103,
      -0.024793,
      -0.03654,
      -0.000256,
      -0.011204,
      0.02525,
      -0.025837,
      0.005935,
      -0.010588,
      0.000634,
      0.04471,
      0.039863,
      0.017259,
      -0.02932,
      -0.038371,
      -0.023772,
      0.003221,
      0.023832,
      -0.004767,
      -0.018546,
      -0.00716,
      -0.012993,
      0.03574,
      0.030202,
      0.010808,
      -0.047369,
      0.051386,
      0.005919,
      0.013023,
      -0.021494,
      -0.019499,
      -0.045725,
      -0.036563,
      0.064563,
      -0.031899,
      -0.025861,
      -0.069188,
      -0.02142,
      0.017374,
      0.002258,
      -0.006579,
      0.008348,
      -0.04729,
      -0.014722,
      -0.005208,
      0.012373,
      0.020834,
      -0.017339,
      0.002608,
      -0.032859,
      -0.032188,
      0.103652,
      -0.003514,
      0.01588,
      0.048269,
      0.015694,
      0.069037,
      0.004869,
      0.020463,
      -0.016292,
      0.000453,
      -0.005349,
      -0.012737,
      0.055204,
      -0.003434,
      -0.017713,
      -0.01791,
      0.057789,
      -0.05616,
      -0.001612,
      -0.007066,
      0.022707,
      -0.040678,
      0.010486,
      -0.000251,
      -0.011162,
      0.056357,
      0.013236,
      0.024292,
      0.000594,
      -0.029665,
      -0.033868,
      0.018014,
      -0.02831,
      0.004273,
      -0.019026,
      0.015499,
      0.019991,
      -0.001571,
      0.02175,
      -0.003048,
      0.015264,
      0.03887,
      -0.04407,
      -0.000078,
      0.008259,
      0.004322,
      0.009764,
      0.040562,
      -0.026108,
      0.036401,
      0.029081,
      0.047823,
      0.060162,
      -0.028032,
      0.02283,
      -0.006192,
      -0.047828,
      -0.016676,
      0.0034,
      -0.009482,
      0.023163,
      0.019429,
      -0.028435,
      -0.002024,
      0.02837,
      0.016493,
      0.006573,
      -0.048415,
      -0.002262,
      0.01244,
      0.030036,
      -0.012314,
      0.028433,
      0.011008,
      -0.053712,
      -0.007447,
      -0.011165,
      -0.023925,
      0.01295,
      -0.00428,
      0.01361,
      -0.026827,
      -0.065629,
      0.021599,
      0.019714,
      -0.023678,
      -0.0113,
      0.017269,
      -0.02099,
      -0.035825,
      -0.033966,
      0.011475,
      0.000034,
      0.012027,
      0.026508,
      0.023207,
      0.003764,
      0.003629,
      -0.042885,
      -0.015598,
      0.011347,
      -0.012676,
      -0.023627,
      -0.031308,
      0.008737,
      -0.01623,
      0.038154,
      0.009092,
      0.021493,
      -0.008533,
      0.011948,
      0.023895,
      -0.001728,
      -0.023229,
      0.027216,
      -0.025682,
      -0.004003,
      -0.002073,
      0.030641,
      -0.027938,
      -0.067531,
      0.024844,
      -0.006387,
      0.039962,
      -0.041525,
      0.074262,
      -0.035606,
      -0.011523,
      -0.026086,
      0.033544,
      -0.023413,
      -0.023887,
      0.019817,
      -0.012058,
      -0.036501,
      -0.007639,
      -0.040095,
      -0.03136,
      -0.00823,
      -0.064346,
      -0.023929,
      -0.00127,
      -0.017487,
      -0.019645,
      0.003656,
      -0.008672,
      -0.023465,
      -0.003624,
      -0.026113,
      -0.01433,
      0.008685,
      0.07456,
      -0.034945,
      0.000808,
      -0.038412,
      -0.022373,
      0.00027,
      -0.009128,
      0.021018,
      -0.035056,
      -0.021574,
      -0.023201,
      -0.045338,
      0.030897,
      -0.003432,
      -0.043218,
      0.031926,
      0.009238,
      0.01685,
      -0.012303,
      0.019795,
      -0.014511,
      -0.015684,
      0.024124,
      -0.004585,
      0.028581,
      0.008111,
      -0.025516,
      -0.030977,
      -0.029558,
      0.021544,
      -0.000498,
      -0.00254,
      -0.018532,
      0.030603,
      -0.032969,
      0.024033,
      0.010498,
      -0.016782,
      -0.02633,
      -0.007834,
      -0.046901,
      -0.007157,
      -0.030094,
      0.008375,
      -0.023166,
      0.005195,
      -0.016903,
      0.002785,
      0.024465,
      0.047833,
      -0.034767,
      0.041772,
      -0.140616,
      0.030055,
      0.005369,
      0.008264,
      -0.017802,
      -0.001252,
      0.013215,
      -0.003935,
      0.011783,
      -0.023993,
      0.000202,
      -0.006951,
      0.006173,
      -0.024397,
      -0.014499,
      0.010021,
      0.007089,
      -0.002003,
      0.012497,
      -0.022847,
      0.011888,
      0.01277,
      0.007661,
      -0.030072,
      -0.011347,
      0.002393,
      -0.015346,
      -0.014612,
      -0.007993,
      0.012587,
      -0.034254,
      -0.012543,
      0.02535,
      -0.003039,
      0.007284,
      0.028739,
      0.007444,
      0.02045,
      -0.042844,
      0.030581,
      -0.010493,
      0.019675,
      -0.047521,
      0.021528,
      0.045889,
      0.027725,
      -0.031908,
      -0.037556,
      -0.005383,
      -0.033957,
      -0.0361,
      0.016992,
      -0.014782,
      0.010045,
      0.00996,
      0.00518,
      -0.063682,
      -0.015893,
      -0.045207,
      0.013878,
      -0.025635,
      0.033155,
      -0.018226,
      -0.040468,
      -0.02209,
      0.011614,
      -0.018067,
      0.020503,
      -0.011999,
      -0.011371,
      -0.018898,
      -0.050134,
      -0.032343,
      -0.021823,
      0.027644,
      0.03092,
      0.032864,
      -0.026703,
      -0.042689,
      0.012525,
      -0.021213,
      -0.023312,
      -0.047543,
      0.065327,
      0.065395,
      0.024742,
      0.024188,
      0.025672,
      -0.002758,
      -0.037606,
      -0.044026,
      -0.041744,
      0.032635,
      0.043817,
      0.011251,
      0.011022,
      -0.018052,
      -0.004743,
      -0.01901,
      -0.001791,
      -0.032168,
      -0.005367,
      0.048987,
      0.002623,
      -0.002035,
      -0.001854,
      0.019292,
      0.021439,
      0.017027,
      0.026066,
      0.023877,
      -0.040267,
      -0.017072,
      0.007845,
      -0.043783,
      0.031422,
      -0.015274,
      0.046699,
      -0.027452,
      0.036993,
      0.006552,
      -0.015472,
      -0.019002,
      -0.014089,
      0.005305,
      0.00627,
      0.043689,
      0.00271,
      0.041615,
      -0.003111,
      0.025637,
      -0.044373,
      0.006029,
      0.023621,
      0.030752,
      -0.020914,
      -0.096049,
      0.039879,
      -0.020439,
      -0.018558,
      -0.039183,
      -0.015183,
      0.01123,
      -0.03783,
      -0.000745,
      0.014049,
      -0.014535,
      0.001199,
      -0.016496,
      -0.042176,
      -0.004423,
      -0.019849,
      -0.048419,
      0.050295,
      -0.016635,
      0.025993,
      -0.014712,
      0.007318,
      -0.053645,
      0.059272,
      0.004934,
      -0.031606,
      0.013867,
      -0.010971,
      0.032445,
      0.010872,
      -0.018174,
      0.000203,
      -0.03666,
      -0.013929,
      0.013505,
      0.053643,
      -0.009202,
      -0.020595,
      0.02754,
      -0.006877,
      -0.02161,
      -0.008869,
      0.040941,
      -0.028902,
      0.030535,
      0.020151,
      0.035284,
      0.017328,
      0.034418,
      0.024899,
      0.001981,
      0.028649,
      0.037867,
      0.006907,
      -0.018757,
      -0.027753,
      0.025944,
      -0.00753,
      0.016635,
      -0.002515,
      0.024465,
      0.009143,
      -0.027993,
      0.090026,
      -0.001518,
      -0.022052,
      -0.018292,
      0.009969,
      0.009224,
      0.009459,
      -0.026861,
      0.00201,
      0.032105,
      0.05455,
      -0.022189,
      -0.016064,
      0.00797,
      0.010811,
      -0.011643,
      0.014474,
      0.031529,
      0.017539,
      0.005138,
      -0.038418,
      0.051027,
      0.016048,
      -0.005942,
      -0.071897,
      -0.052421,
      -0.02413,
      -0.004034,
      -0.002753,
      -0.01489,
      -0.002869,
      -0.04083,
      -0.015327,
      0.006385,
      0.050659,
      -0.028532,
      -0.021869,
      -0.006342,
      0.030888,
      -0.032571,
      -0.022494,
      0.043433,
      0.012938,
      -0.022809,
      -0.002986
    ]
  },
  {
    "id": "v5-events-0",
    "content": "# Events\nBreadcrumb: Events\nCovers: EventEmitters | Service Events | created | updated, patched | removed | Custom events\nTopics: hooks, services, application, context, params, hook context, get, create, update, patch, remove, real-time, channels, events, socket.io, publish, http, feathers client, client, cli, test, custom service, custom events\n\n## EventEmitters\n\nOnce registered, any [service](./services.md) gets turned into a standard [NodeJS EventEmitter](https://nodejs.org/api/events.html) and can be used accordingly.\n\n```ts\nconst messages = app.service('messages')\n\n// Listen to a normal service event\nmessages.on('patched', (message: Message) => console.log('message patched', message))\n\n// Only listen to an event once\nmesssages.once('removed', (message: Message) => console.log('First time a message has been removed', message))\n\n// A reference to a handler\nconst onCreatedListener = (message: Message) => console.log('New message created', message)\n\n// Listen `created` with a handler reference\nmessages.on('created', onCreatedListener)\n\n// Unbind the `created` event listener\nmessages.removeListener('created', onCreatedListener)\n\n// Send a custom event\nmessages.emit('customEvent', {\n  anything: 'Data can be anything'\n})\n```\n\n## Service Events\n\nAny service automatically emits `created`, `updated`, `patched` and `removed` events when the respective service method returns successfully. This works on the client as well as on the server. Events are not fired until all [hooks](./hooks.md) have executed. When the client is using [Socket.io](socketio.md), events will be pushed automatically from the server to all connected clients. This is how Feathers does real-time.\n\n> **tip:**\n> \n> To disable sending of events e.g. when updating a large amount of data, set [context.event](./hooks.md#context-event) to `null` in a hook.\n> \n\nAdditionally to the event `data`, all events also get the [hook context](./hooks.md) from their method call passed as the second parameter.\n\n### created\n\nThe `created` event will fire with the result data when a service `create` returns successfully.\n\n```ts\nimport { feathers, type Params, type HookContext } from '@feathersjs/feathers'\n\ntype Message = { text: string }\n\nclass MessageService {\n  async create(data: Message) {\n    return data\n  }\n}\n\nconst app = feathers<{ messages: MessageService }>()\n\napp.use('messages', new MessageService())\n\n// Retrieve the wrapped service object which is also an EventEmitter\nconst messages = app.service('messages')\n\nmessages.on('created', (message: Message, contexHookContext) => console.log('created', message))\n\nmessages.create({\n  text: 'We have to do something!'\n})\n```\n\n### updated, patched\n\nThe `updated` and `patched` events will fire with the callback data when a service `update` or `patch` method calls back successfully.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Id, Params, HookContext } from '@feathersjs/feathers'\n\ntype Message = { text: string }\n\nclass MessageService {\n  async update(id: Id, data: Message) {\n    return data\n  }\n\n  async patch(id: Id, data: Message) {\n    return data\n  }\n}\n\nconst app = feathers<{ messages: MessageService }>()\n\napp.use('messages', new MessageService())\n\nconst messages = app.service('my/messages')\n\nmessages.on('updated', (message: Message, context: HookContext) => console.log('updated', message))\nmessages.on('patched', (message: Message) => console.log('patched', message))\n\nmessages.update(0, {\n  text: 'updated message'\n})\n\nmessages.patch(0, {\n  text: 'patched message'\n})\n```\n\n### removed\n\nThe `removed` event will fire with the callback data when a service `remove` calls back successfully.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Id, Params, HookContext } from '@feathersjs/feathers'\n\ntype Message = { text: string }\n\nclass MessageService {\n  async remove(id: Id, params: Params) {\n    return { id }\n  }\n}\n\nconst app = feathers<{ messages: MessageService }>()\n\napp.use('messages', new MessageService())\n\nconst messages = app.service('messages')\n\nmessages.on('removed', (message: Message, context: HookContext) => console.log('removed', message))\nmessages.remove(1)\n```\n\n## Custom events\n\nBy default, real-time clients will only receive the [standard events](#service-events). However, it is possible to define a list of custom events that should also be sent to the client when registering the service with [app.use](./application.md##use-path-service-options), when `service.emit('customevent', data)` is called on the server. The `context` for custom events won't be a full hook context but just an object containing `{ app, service, path, result }`.\n\n> **important:**\n> \n> Custom events can only be sent from the server to the client, not the other way (client to server). A [custom service](./services.md) should be used for those cases.\n> \n\nFor example, a payment service that sends status events to the client while processing a payment could look like this:\n\n```ts\nclass PaymentService {\n  async create(data: any, params: Params) {\n    const customer = await createStripeCustomer(params.user)\n    this.emit('status', { status: 'created' })\n\n    const payment = await createPayment(data)\n    this.emit('status', { status: 'completed' })\n\n    return payment\n  }\n}\n\n// Then register it like this:\napp.use('payments', new PaymentService(), {\n  events: ['status']\n})\n```\n\nUsing `service.emit` custom events can also be sent in a hook:\n\n```js\napp.service('payments').hooks({\n  after: {\n    create(context: HookContext) {\n      context.service.emit('status', { status: 'completed' })\n    }\n  }\n})\n```\n\nCustom events can be [published through channels](./channels.md#publishing) just like standard events and listened to it in a [Feathers client](./client.md) or [directly on the socket connection](./client/socketio.md#listening-to-events):\n\n```js\nclient.service('payments').on('status', (data) => {})\n\n// or\nsocket.on('payments status', (data) => {})\n```",
    "rawContent": "## EventEmitters\n\nOnce registered, any [service](./services.md) gets turned into a standard [NodeJS EventEmitter](https://nodejs.org/api/events.html) and can be used accordingly.\n\n```ts\nconst messages = app.service('messages')\n\n// Listen to a normal service event\nmessages.on('patched', (message: Message) => console.log('message patched', message))\n\n// Only listen to an event once\nmesssages.once('removed', (message: Message) => console.log('First time a message has been removed', message))\n\n// A reference to a handler\nconst onCreatedListener = (message: Message) => console.log('New message created', message)\n\n// Listen `created` with a handler reference\nmessages.on('created', onCreatedListener)\n\n// Unbind the `created` event listener\nmessages.removeListener('created', onCreatedListener)\n\n// Send a custom event\nmessages.emit('customEvent', {\n  anything: 'Data can be anything'\n})\n```\n\n## Service Events\n\nAny service automatically emits `created`, `updated`, `patched` and `removed` events when the respective service method returns successfully. This works on the client as well as on the server. Events are not fired until all [hooks](./hooks.md) have executed. When the client is using [Socket.io](socketio.md), events will be pushed automatically from the server to all connected clients. This is how Feathers does real-time.\n\n> **tip:**\n> \n> To disable sending of events e.g. when updating a large amount of data, set [context.event](./hooks.md#context-event) to `null` in a hook.\n> \n\nAdditionally to the event `data`, all events also get the [hook context](./hooks.md) from their method call passed as the second parameter.\n\n### created\n\nThe `created` event will fire with the result data when a service `create` returns successfully.\n\n```ts\nimport { feathers, type Params, type HookContext } from '@feathersjs/feathers'\n\ntype Message = { text: string }\n\nclass MessageService {\n  async create(data: Message) {\n    return data\n  }\n}\n\nconst app = feathers<{ messages: MessageService }>()\n\napp.use('messages', new MessageService())\n\n// Retrieve the wrapped service object which is also an EventEmitter\nconst messages = app.service('messages')\n\nmessages.on('created', (message: Message, contexHookContext) => console.log('created', message))\n\nmessages.create({\n  text: 'We have to do something!'\n})\n```\n\n### updated, patched\n\nThe `updated` and `patched` events will fire with the callback data when a service `update` or `patch` method calls back successfully.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Id, Params, HookContext } from '@feathersjs/feathers'\n\ntype Message = { text: string }\n\nclass MessageService {\n  async update(id: Id, data: Message) {\n    return data\n  }\n\n  async patch(id: Id, data: Message) {\n    return data\n  }\n}\n\nconst app = feathers<{ messages: MessageService }>()\n\napp.use('messages', new MessageService())\n\nconst messages = app.service('my/messages')\n\nmessages.on('updated', (message: Message, context: HookContext) => console.log('updated', message))\nmessages.on('patched', (message: Message) => console.log('patched', message))\n\nmessages.update(0, {\n  text: 'updated message'\n})\n\nmessages.patch(0, {\n  text: 'patched message'\n})\n```\n\n### removed\n\nThe `removed` event will fire with the callback data when a service `remove` calls back successfully.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Id, Params, HookContext } from '@feathersjs/feathers'\n\ntype Message = { text: string }\n\nclass MessageService {\n  async remove(id: Id, params: Params) {\n    return { id }\n  }\n}\n\nconst app = feathers<{ messages: MessageService }>()\n\napp.use('messages', new MessageService())\n\nconst messages = app.service('messages')\n\nmessages.on('removed', (message: Message, context: HookContext) => console.log('removed', message))\nmessages.remove(1)\n```\n\n## Custom events\n\nBy default, real-time clients will only receive the [standard events](#service-events). However, it is possible to define a list of custom events that should also be sent to the client when registering the service with [app.use](./application.md##use-path-service-options), when `service.emit('customevent', data)` is called on the server. The `context` for custom events won't be a full hook context but just an object containing `{ app, service, path, result }`.\n\n> **important:**\n> \n> Custom events can only be sent from the server to the client, not the other way (client to server). A [custom service](./services.md) should be used for those cases.\n> \n\nFor example, a payment service that sends status events to the client while processing a payment could look like this:\n\n```ts\nclass PaymentService {\n  async create(data: any, params: Params) {\n    const customer = await createStripeCustomer(params.user)\n    this.emit('status', { status: 'created' })\n\n    const payment = await createPayment(data)\n    this.emit('status', { status: 'completed' })\n\n    return payment\n  }\n}\n\n// Then register it like this:\napp.use('payments', new PaymentService(), {\n  events: ['status']\n})\n```\n\nUsing `service.emit` custom events can also be sent in a hook:\n\n```js\napp.service('payments').hooks({\n  after: {\n    create(context: HookContext) {\n      context.service.emit('status', { status: 'completed' })\n    }\n  }\n})\n```\n\nCustom events can be [published through channels](./channels.md#publishing) just like standard events and listened to it in a [Feathers client](./client.md) or [directly on the socket connection](./client/socketio.md#listening-to-events):\n\n```js\nclient.service('payments').on('status', (data) => {})\n\n// or\nsocket.on('payments status', (data) => {})\n```",
    "breadcrumb": "Events",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/events.md",
    "heading": "Events",
    "subHeadings": [
      "EventEmitters",
      "Service Events",
      "created",
      "updated, patched",
      "removed",
      "Custom events"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 1403,
    "category": "events",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "hook context",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "real-time",
      "channels",
      "events",
      "socket.io",
      "publish",
      "http",
      "feathers client",
      "client",
      "cli",
      "test",
      "custom service",
      "custom events"
    ],
    "embedding": [
      0.022345,
      -0.013037,
      -0.06159,
      -0.00553,
      0.009491,
      -0.057096,
      -0.013643,
      0.027644,
      -0.020777,
      0.027136,
      -0.010955,
      0.031779,
      -0.040694,
      0.011241,
      -0.005246,
      -0.016189,
      -0.001828,
      -0.023348,
      0.027612,
      -0.041463,
      -0.064427,
      0.022563,
      0.000922,
      0.017133,
      0.049344,
      0.007132,
      -0.029363,
      -0.032717,
      0.023108,
      -0.021117,
      0.021866,
      0.019727,
      -0.008952,
      0.004501,
      -0.046978,
      -0.022172,
      -0.035549,
      0.019111,
      -0.028585,
      0.015979,
      -0.013349,
      -0.00411,
      -0.01702,
      -0.027855,
      0.017299,
      -0.028233,
      0.012767,
      -0.016536,
      -0.006969,
      -0.034118,
      -0.040802,
      0.018893,
      0.036672,
      -0.071588,
      0.065491,
      0.045602,
      -0.043577,
      0.008891,
      -0.022991,
      0.032769,
      -0.024867,
      0.012389,
      0.001071,
      0.00446,
      0.010237,
      0.058897,
      -0.016089,
      -0.0099,
      -0.025926,
      -0.009213,
      -0.018745,
      -0.012442,
      0.015659,
      -0.002,
      -0.039671,
      0.001005,
      0.033415,
      0.001749,
      -0.026129,
      0.040622,
      -0.020117,
      -0.047307,
      -0.018694,
      0.014313,
      0.012485,
      0.015128,
      -0.030421,
      0.037098,
      0.00992,
      -0.008601,
      0.000687,
      -0.013188,
      0.06468,
      -0.047471,
      -0.021258,
      -0.008917,
      -0.02711,
      -0.034929,
      0.019539,
      0.00811,
      -0.007217,
      -0.001285,
      0.020898,
      -0.032671,
      0.038884,
      0.039935,
      0.048169,
      0.012299,
      -0.010801,
      -0.012092,
      0.006256,
      0.000338,
      -0.007235,
      0.01821,
      -0.012946,
      -0.020305,
      0.033421,
      0.001974,
      -0.040155,
      -0.020415,
      0.01565,
      0.042282,
      0.042388,
      0.022609,
      -0.015147,
      0.005337,
      -0.02107,
      0.032537,
      0.030864,
      0.000264,
      0.025942,
      -0.039273,
      -0.015791,
      0.004724,
      -0.054988,
      0.036039,
      0.015003,
      -0.003006,
      -0.004792,
      -0.042468,
      0.014793,
      -0.013293,
      -0.047511,
      -0.005714,
      0.003348,
      -0.070116,
      0.059338,
      0.039825,
      -0.006541,
      0.000304,
      0.015915,
      0.010285,
      0.002523,
      -0.091382,
      0.013095,
      -0.063051,
      0.018659,
      0.019467,
      0.035085,
      -0.024644,
      -0.001843,
      0.009203,
      -0.051862,
      0.024394,
      0.040325,
      -0.005515,
      -0.006063,
      -0.031332,
      -0.005638,
      -0.000128,
      0.040061,
      -0.036898,
      0.054604,
      0.019337,
      0.039454,
      0.02778,
      0.075243,
      0.031469,
      -0.007932,
      -0.013003,
      -0.055097,
      0.032429,
      -0.040608,
      -0.066042,
      -0.025686,
      0.033346,
      -0.037425,
      -0.061341,
      -0.025208,
      0.014281,
      -0.041632,
      -0.015439,
      0.025032,
      0.021093,
      0.019118,
      0.005716,
      0.044068,
      0.025418,
      0.018933,
      0.028657,
      0.007949,
      0.03768,
      0.057992,
      0.021685,
      -0.056927,
      -0.029958,
      0.010864,
      -0.043344,
      0.026232,
      -0.035003,
      -0.007333,
      -0.005737,
      -0.029074,
      -0.023893,
      -0.008478,
      0.001391,
      -0.027917,
      0.019415,
      -0.002753,
      -0.031194,
      0.004315,
      0.040395,
      0.029331,
      0.008763,
      0.044682,
      0.002103,
      0.030916,
      0.002852,
      -0.005611,
      0.016023,
      -0.008856,
      0.021167,
      0.027879,
      -0.033262,
      0.013635,
      -0.020673,
      -0.031611,
      0.01898,
      -0.008354,
      0.045803,
      0.00047,
      -0.026826,
      0.008779,
      -0.024326,
      -0.01164,
      0.007164,
      0.073027,
      0.010045,
      -0.011556,
      -0.032073,
      -0.007307,
      0.01312,
      0.011272,
      0.010824,
      0.024559,
      0.008581,
      0.03443,
      -0.006168,
      0.013031,
      -0.019713,
      -0.006603,
      0.03599,
      0.002572,
      0.004955,
      0.032841,
      -0.031393,
      -0.025377,
      -0.034216,
      0.00538,
      -0.011655,
      -0.026711,
      -0.037166,
      0.054739,
      -0.000943,
      -0.035619,
      -0.011986,
      0.018624,
      -0.024634,
      0.090031,
      0.015444,
      -0.000675,
      -0.001393,
      0.034438,
      0.072705,
      0.012951,
      0.001062,
      -0.003159,
      -0.021886,
      0.040032,
      -0.006796,
      0.013024,
      -0.033323,
      0.070547,
      0.01059,
      -0.030982,
      0.049199,
      0.019583,
      -0.137663,
      -0.047051,
      0.01348,
      0.006577,
      0.0121,
      0.003501,
      -0.036691,
      0.019648,
      -0.042022,
      0.030409,
      -0.007733,
      -0.054917,
      -0.026534,
      -0.008077,
      -0.005582,
      -0.013811,
      -0.002975,
      0.004797,
      0.061783,
      -0.050435,
      -0.053544,
      -0.005683,
      0.046274,
      0.020707,
      -0.024073,
      0.002412,
      0.000154,
      0.002776,
      -0.038159,
      0.003013,
      -0.013382,
      0.014156,
      0.006667,
      0.00323,
      -0.007822,
      -0.017288,
      0.028607,
      -0.005189,
      -0.019052,
      -0.026805,
      -0.004529,
      0.058691,
      -0.001522,
      0.020652,
      0.011413,
      -0.023515,
      0.035947,
      0.016779,
      -0.004797,
      -0.006798,
      0.022251,
      -0.005889,
      -0.013847,
      0.004213,
      -0.030002,
      -0.001904,
      0.011961,
      0.047161,
      -0.004381,
      -0.01459,
      -0.03359,
      0.007727,
      0.053501,
      -0.019021,
      0.011903,
      -0.025368,
      0.020938,
      0.011848,
      0.031041,
      -0.033166,
      0.051385,
      -0.041139,
      -0.00929,
      -0.012976,
      -0.007915,
      -0.001477,
      0.01688,
      -0.035211,
      -0.005528,
      -0.107639,
      0.001871,
      0.027691,
      -0.004727,
      0.032809,
      -0.032833,
      -0.029314,
      -0.013268,
      -0.019444,
      0.032116,
      0.251739,
      0.003689,
      -0.002067,
      0.052573,
      0.055311,
      -0.051681,
      0.036568,
      0.08606,
      0.009842,
      -0.04829,
      0.006493,
      0.015413,
      -0.013097,
      0.002092,
      -0.035654,
      0.015668,
      -0.043378,
      0.025205,
      0.100674,
      -0.018851,
      0.015021,
      -0.015536,
      0.023173,
      0.017367,
      -0.06866,
      -0.030678,
      0.020261,
      0.024806,
      -0.0585,
      0.014396,
      -0.006272,
      0.040074,
      0.013781,
      -0.073432,
      -0.050779,
      -0.009199,
      -0.007557,
      -0.009677,
      -0.023246,
      -0.023488,
      -0.005269,
      0.014295,
      0.054105,
      0.002495,
      -0.016623,
      -0.030055,
      -0.022668,
      -0.01009,
      -0.081138,
      -0.059455,
      -0.014215,
      0.034075,
      0.009138,
      -0.01337,
      0.010038,
      -0.033604,
      0.018782,
      -0.02401,
      -0.018106,
      0.018602,
      0.042165,
      0.008463,
      -0.027579,
      0.061086,
      0.01305,
      0.031332,
      0.001325,
      -0.040338,
      -0.007646,
      0.071085,
      -0.015077,
      0.003067,
      0.033062,
      -0.01734,
      -0.015756,
      0.015771,
      0.03062,
      0.052348,
      -0.021882,
      0.042672,
      -0.008855,
      0.008465,
      -0.015236,
      0.049955,
      0.010184,
      0.036602,
      -0.00245,
      0.037202,
      0.014232,
      -0.004532,
      -0.008788,
      -0.019163,
      -0.000837,
      0.028445,
      0.008269,
      0.035796,
      0.025704,
      0.003678,
      -0.002727,
      -0.003733,
      0.007078,
      0.015652,
      0.033802,
      -0.027033,
      0.05264,
      0.025333,
      -0.031814,
      0.026459,
      0.021473,
      0.002312,
      -0.033703,
      -0.003006,
      0.03812,
      -0.03656,
      0.011738,
      0.011347,
      0.040887,
      0.026177,
      0.029326,
      0.016667,
      -0.030594,
      0.022947,
      0.009483,
      0.028983,
      0.026156,
      -0.077619,
      -0.034581,
      -0.020738,
      -0.0001,
      0.053881,
      0.038317,
      -0.045581,
      0.022565,
      0.03475,
      0.042357,
      0.033659,
      0.015025,
      0.043396,
      -0.004594,
      0.026611,
      0.0057,
      -0.025402,
      -0.020459,
      0.03088,
      -0.001003,
      0.03118,
      -0.037889,
      -0.000855,
      -0.03191,
      0.017752,
      0.055196,
      0.06907,
      -0.003143,
      -0.017397,
      -0.059869,
      -0.007175,
      0.009654,
      0.027662,
      0.019231,
      -0.006114,
      -0.023856,
      -0.032219,
      0.024703,
      0.04002,
      0.013196,
      -0.031371,
      0.040455,
      -0.003331,
      0.011825,
      -0.037304,
      -0.008308,
      -0.042491,
      -0.044924,
      0.031651,
      -0.037206,
      -0.045997,
      -0.061712,
      0.037491,
      0.008625,
      0.001279,
      0.012324,
      0.015648,
      -0.008842,
      -0.029878,
      -0.022747,
      0.020403,
      0.009085,
      -0.009821,
      0.005366,
      -0.023531,
      -0.069718,
      0.106296,
      -0.005116,
      0.00132,
      0.073927,
      -0.028454,
      0.051095,
      0.042544,
      0.00586,
      0.000452,
      -0.008216,
      -0.008774,
      -0.014219,
      0.043672,
      -0.048931,
      -0.023334,
      -0.004264,
      0.01302,
      -0.060906,
      0.03405,
      0.00255,
      0.020299,
      -0.014346,
      0.001224,
      -0.006124,
      -0.026012,
      0.05357,
      0.043449,
      -0.017266,
      0.001568,
      -0.031476,
      -0.029508,
      0.017815,
      -0.016084,
      0.022904,
      0.005444,
      0.012487,
      -0.003533,
      -0.016045,
      0.007964,
      -0.00615,
      0.003795,
      0.021042,
      -0.043111,
      -0.011121,
      -0.026329,
      0.044827,
      -0.007164,
      -0.022078,
      -0.006474,
      0.009971,
      0.042701,
      0.085546,
      0.044856,
      -0.011897,
      0.000824,
      -0.006142,
      -0.063576,
      -0.089115,
      0.022306,
      0.003469,
      -0.012853,
      0.004185,
      -0.061755,
      -0.016924,
      0.028477,
      0.025865,
      -0.013827,
      -0.054238,
      -0.022787,
      0.01965,
      -0.003738,
      -0.013315,
      -0.004344,
      -0.009656,
      -0.06146,
      -0.011754,
      -0.026407,
      -0.031365,
      -0.006542,
      -0.01573,
      -0.028109,
      -0.019039,
      -0.047947,
      0.005531,
      0.018038,
      -0.057408,
      0.012112,
      0.002231,
      0.008291,
      -0.041773,
      0.008489,
      0.007243,
      0.000002,
      0.008943,
      0.024783,
      0.00023,
      -0.031033,
      0.016151,
      -0.046891,
      0.004039,
      0.015338,
      -0.031793,
      0.023333,
      -0.016271,
      -0.013507,
      -0.027604,
      0.020485,
      0.010923,
      -0.00804,
      -0.006832,
      0.005857,
      0.032575,
      -0.008476,
      -0.018157,
      -0.000243,
      -0.018393,
      -0.070391,
      0.011005,
      0.059762,
      -0.037122,
      -0.039219,
      0.007301,
      -0.00806,
      0.034056,
      -0.032288,
      0.050444,
      -0.027369,
      -0.034022,
      -0.01731,
      0.020243,
      -0.021134,
      -0.022645,
      0.007555,
      -0.012361,
      -0.01761,
      0.016027,
      -0.03366,
      -0.019396,
      0.000061,
      -0.065267,
      -0.028504,
      -0.001971,
      -0.040538,
      -0.040994,
      -0.017877,
      0.03249,
      -0.032666,
      0.009899,
      -0.053986,
      0.022147,
      0.032475,
      0.030741,
      -0.013922,
      0.022896,
      0.004054,
      0.003747,
      -0.010446,
      -0.008465,
      0.036199,
      -0.015253,
      -0.000017,
      -0.031842,
      -0.02276,
      0.035953,
      -0.032288,
      -0.067024,
      -0.018142,
      0.02083,
      0.009084,
      -0.007347,
      0.069979,
      -0.041372,
      -0.042145,
      0.010145,
      -0.003327,
      0.018797,
      -0.008823,
      -0.004819,
      -0.020105,
      -0.012933,
      0.002394,
      -0.010766,
      -0.040358,
      -0.057715,
      0.015889,
      -0.026084,
      0.039389,
      0.015515,
      -0.022785,
      -0.046305,
      -0.003341,
      -0.027119,
      0.017748,
      -0.037472,
      -0.000685,
      -0.01841,
      0.030026,
      0.013532,
      -0.025863,
      -0.006741,
      0.01923,
      -0.016481,
      0.021819,
      -0.146281,
      0.048497,
      -0.004698,
      0.001475,
      -0.007877,
      0.033136,
      -0.00758,
      0.001078,
      0.025515,
      -0.016769,
      -0.024033,
      -0.00367,
      0.043758,
      -0.030607,
      -0.011159,
      0.027075,
      -0.00273,
      0.015592,
      0.022872,
      -0.008818,
      0.024841,
      0.008563,
      0.009534,
      -0.00849,
      0.007791,
      0.020009,
      -0.025271,
      -0.009685,
      -0.012599,
      -0.0157,
      -0.02116,
      -0.009689,
      0.009219,
      -0.009069,
      -0.010417,
      0.00708,
      -0.004757,
      -0.0013,
      0.008214,
      0.012872,
      -0.03841,
      0.011878,
      -0.068464,
      0.058654,
      0.03578,
      0.042839,
      -0.048477,
      -0.066121,
      -0.000471,
      -0.00435,
      -0.022591,
      0.043692,
      0.031883,
      0.043874,
      -0.024055,
      -0.005053,
      -0.046772,
      -0.007368,
      -0.024239,
      0.021584,
      -0.025592,
      0.053667,
      -0.006093,
      -0.031078,
      -0.014343,
      0.012785,
      -0.058513,
      0.014034,
      -0.019632,
      0.029108,
      0.009742,
      -0.022237,
      -0.045275,
      0.01225,
      0.056889,
      -0.030307,
      0.052663,
      -0.009501,
      -0.034525,
      0.004538,
      -0.027951,
      -0.036123,
      -0.045217,
      0.025915,
      0.038906,
      0.016441,
      0.01794,
      0.014892,
      -0.043165,
      -0.008161,
      -0.010438,
      -0.03722,
      0.023304,
      0.049906,
      -0.016436,
      0.028372,
      -0.013673,
      -0.002597,
      0.007837,
      -0.014738,
      -0.044003,
      -0.011392,
      0.038912,
      0.017632,
      -0.029101,
      -0.023853,
      0.027534,
      0.00406,
      -0.008361,
      0.022833,
      0.004903,
      0.002402,
      -0.039038,
      -0.024829,
      -0.073894,
      0.003097,
      0.000822,
      0.040583,
      -0.001256,
      0.015705,
      0.023656,
      -0.018283,
      -0.008295,
      -0.025939,
      0.030018,
      0.023559,
      0.05067,
      0.01694,
      0.049915,
      -0.012718,
      0.038119,
      -0.01032,
      -0.019053,
      0.034161,
      0.034099,
      -0.014659,
      -0.079466,
      0.049141,
      -0.001673,
      -0.038567,
      -0.042909,
      0.00546,
      0.00204,
      -0.006164,
      0.007743,
      -0.015625,
      0.009704,
      -0.009914,
      0.000285,
      -0.030698,
      -0.00964,
      0.020332,
      -0.013677,
      0.011778,
      -0.002737,
      0.023462,
      -0.020353,
      0.030919,
      -0.045449,
      0.0322,
      0.026305,
      -0.047399,
      -0.019591,
      -0.012502,
      -0.015864,
      0.006707,
      -0.036571,
      -0.019259,
      -0.020584,
      0.007365,
      -0.018731,
      0.060648,
      -0.018841,
      -0.009775,
      0.022619,
      -0.006971,
      0.010409,
      -0.010838,
      0.018525,
      -0.037394,
      0.025621,
      0.004739,
      0.027566,
      -0.015406,
      0.046711,
      0.024091,
      0.004075,
      0.015886,
      0.040554,
      -0.012222,
      -0.01841,
      0.001101,
      0.006506,
      0.004615,
      0.002873,
      -0.017976,
      0.02746,
      -0.020367,
      -0.007459,
      0.06861,
      -0.017792,
      -0.053839,
      -0.007909,
      0.008761,
      -0.015198,
      0.030696,
      -0.021404,
      0.006782,
      0.010937,
      0.02798,
      -0.044412,
      0.000931,
      -0.002642,
      -0.003421,
      -0.003382,
      0.032317,
      0.047495,
      0.020112,
      -0.013671,
      -0.022958,
      0.028572,
      0.000672,
      -0.003368,
      -0.049553,
      -0.040674,
      -0.018728,
      -0.004009,
      -0.004336,
      0.003638,
      0.013123,
      -0.009917,
      -0.043254,
      -0.006794,
      0.038061,
      -0.025787,
      -0.013482,
      -0.020054,
      0.044504,
      -0.001508,
      -0.02901,
      0.044797,
      0.020802,
      -0.025328,
      -0.02067
    ]
  },
  {
    "id": "v5-express-0",
    "content": "# Express\nBreadcrumb: Express\nCovers: express(app) | express(app, expressApp) | express() | app.use(path, service|mw|\\[mw\\]) | app.listen(port) | app.setup(server) | Sub-Apps | HTTPS | Virtual Hosts | rest() | app.configure(rest()) | app.configure(rest(formatter)) | Custom service middleware | params | params.query | params.provider | params.headers | params.route | Middleware | notFound(options) | errorHandler() | app.use(errorHandler()) | app.use(errorHandler(options)) | authenticate() | parseAuthentication | cors | compression | Built ins\nTopics: hooks, services, application, context, params, provider, find, get, create, update, patch, remove, setup, authentication, authorization, jwt, github, schema, resolver, database, querying, socket.io, rest, http, transport, express, middleware, browser, client, configuration, errors, declarations, cli, generate, test, security, cors, logging, logger, users, custom service\n\n## express(app)\n\n`express(app) -> app` is a function that turns a [Feathers application](./application.md) into a fully Express (4+) compatible application that additionally to Feathers functionality also lets you use the [Express API](http://expressjs.com/en/4x/api.html).\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express from '@feathersjs/express'\n\nconst app = express(feathers())\n```\n\nNote that `@feathersjs/express` also exposes the Express [built-in middleware](#built-ins)\n\n## express(app, expressApp)\n\n`express(app, expressApp) -> app` allows to extend an existing Express application with the Feathers application `app`.\n\n## express()\n\nIf no Feathers application is passed, `express() -> app` returns a plain Express application just like a normal call to Express would.\n\n## app.use(path, service|mw|\\[mw\\])\n\n`app.use(path, service|mw|[mw]) -> app` registers either a [service object](./services.md), an [Express middleware](http://expressjs.com/en/guide/writing-middleware.html) or an array of [Express middleware](http://expressjs.com/en/guide/writing-middleware.html) on the given path. If [a service object](./services.md) is passed it will use Feathers registration mechanism, for a middleware function Express.\n\n```ts\n// Register a service\napp.use('todos', {\n  async get(id) {\n    return { id }\n  }\n})\n\n// Register an Express middleware\napp.use('/test', (req, res) => {\n  res.json({\n    message: 'Hello world from Express middleware'\n  })\n})\n\n// Register multiple Express middleware functions\napp.use(\n  '/test',\n  (req, res, next) => {\n    res.data = 'Step 1 worked'\n    next()\n  },\n  (req, res) => {\n    res.json({\n      message: `Hello world from Express middleware ${res.data}`\n    })\n  }\n)\n```\n\n## app.listen(port)\n\n`app.listen(port) -> Promise<HttpServer>` will first call Express [app.listen](http://expressjs.com/en/4x/api.html#app.listen) and then internally also call the [app.setup(server)](./application.md#setup-server).\n\n```ts\n// Listen on port 3030\nconst server = await app.listen(3030)\n```\n\n## app.setup(server)\n\n`app.setup(server) -> app` is usually called internally by `app.listen` but in the cases described below needs to be called explicitly.\n\n### Sub-Apps\n\nWhen registering an application as a sub-app, `app.setup(server)` has to be called to initialize the sub-apps services.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express from '@feathersjs/express'\n\nconst api = feathers()\n\napi.use('service', myService)\n\nconst mainApp = express(feathers()).use('/api/v1', api)\n\nconst server = await mainApp.listen(3030)\n\n// Now call setup on the Feathers app with the server\nawait api.setup(server)\n```\n\n### HTTPS\n\nHTTPS requires creating a separate server in which case `app.setup(server)` also has to be called explicitly. In a generated application `src/index.js` should look like this:\n\n```ts\nimport https from 'https'\nimport { app } from './app'\n\nconst port = app.get('port')\nconst server = https\n  .createServer(\n    {\n      key: fs.readFileSync('privatekey.pem'),\n      cert: fs.readFileSync('certificate.pem')\n    },\n    app\n  )\n  .listen(443)\n\n// Call app.setup to initialize all services and SocketIO\napp.setup(server)\n\nserver.on('listening', () => logger.info('Feathers application started'))\n```\n\n### Virtual Hosts\n\nThe [vhost](https://github.com/expressjs/vhost) Express middleware can be used to run a Feathers application on a virtual host but again requires `app.setup(server)` to be called explicitly.\n\n```ts\nimport vhost from 'vhost'\nimport { feathers } from '@feathersjs/feathers'\nimport express from '@feathersjs/express'\n\nconst app = express(feathers())\n\napp.use('/todos', todoService)\n\nconst host = express().use(vhost('foo.com', app))\nconst server = await host.listen(8080)\n\n// Here we need to call app.setup because .listen on our virtual hosted\n// app is never called\napp.setup(server)\n```\n\n## rest()\n\nRegisters a Feathers transport mechanism that allows you to expose and consume [services](./services.md) through a [RESTful API](https://en.wikipedia.org/wiki/Representational_state_transfer). This means that you can call a service method through the `GET`, `POST`, `PUT`, `PATCH` and `DELETE` [HTTP methods](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol):\n\n| Service method | HTTP method | Path        |\n| -------------- | ----------- | ----------- |\n| .find()        | GET         | /messages   |\n| .get()         | GET         | /messages/1 |\n| .create()      | POST        | /messages   |\n| .update()      | PUT         | /messages/1 |\n| .patch()       | PATCH       | /messages/1 |\n| .remove()      | DELETE      | /messages/1 |\n\n### app.configure(rest())\n\nConfigures the transport provider with a standard formatter sending JSON response via [res.json](http://expressjs.com/en/4x/api.html#res.json).\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express, { json, urlencoded, rest } from '@feathersjs/express'\n\n// Create an Express compatible Feathers application\nconst app = express(feathers())\n\n// Turn on JSON parser for REST services\napp.use(json())\n// Turn on URL-encoded parser for REST services\napp.use(urlencoded({ extended: true }))\n// Set up REST transport\napp.configure(rest())\n```\n\n> **Important:**\n> \n> The `json` and `urlencoded` body parser and [params middleware](#params) has to be registered **before** any service.\n>\n\n### app.configure(rest(formatter))\n\nThe default REST response formatter is a middleware that formats the data retrieved by the service as JSON. If you would like to configure your own `formatter` middleware pass a `formatter(req, res)` function. This middleware will have access to `res.data` which is the data returned by the service. [res.format](http://expressjs.com/en/4x/api.html#res.format) can be used for content negotiation.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express, { json, urlencoded, rest } from '@feathersjs/express'\n\nconst app = express(feathers())\n\n// Turn on JSON parser for REST services\napp.use(json())\n// Turn on URL-encoded parser for REST services\napp.use(urlencoded({ extended: true }))\n// Set up REST transport\napp.configure(\n  rest(function (req, res) {\n    // Format the message as text/plain\n    res.format({\n      'text/plain': function () {\n        res.end(`The Message is: \"${res.data.text}\"`)\n      }\n    })\n  })\n)\n```\n\n## Custom service middleware\n\nCustom Express middleware that only should run before or after a specific service can be passed to `app.use` in the order it should run:\n\n```ts\nconst todoService = {\n  async get(id: Id) {\n    return {\n      id,\n      description: `You have to do ${id}!`\n    }\n  }\n}\n\napp.use('todos', logRequest, todoService, updateData)\n```\n\n> **danger:**\n> \n> Custom middleware will only run for REST requests and not when used with other transports (like Socket.io). If possible try to avoid custom middleware and use [hooks](hooks.md) or customized services instead which will work for all transports.\n> \n\nMiddleware that runs after the service has the service call information available as\n\n- `res.data` - The data that will be sent\n- `res.hook` - The [hook](./hooks.md) context of the service method call\n\nFor example `updateData` could look like this:\n\n```js\nfunction updateData(req, res, next) {\n  res.data.updateData = true\n  next()\n}\n```\n\nIf you run `res.send` in a custom middleware after the service and don't call `next`, other middleware (like the REST formatter) will be skipped. This can be used to e.g. render different views for certain service method calls, for example to export a file as CSV:\n\n```ts\nimport json2csv from 'json2csv'\n\nconst fields = ['done', 'description']\n\napp.use('todos', todoService, function (req, res) {\n  const result = res.data\n  const data = result.data // will be either `result` as an array or `data` if it is paginated\n  const csv = json2csv({ data, fields })\n\n  res.type('csv')\n  res.end(csv)\n})\n```\n\n## params\n\nAll Express middleware will have access to the `req.feathers` object to set properties on the service method `params`:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Id, Params } from '@feathersjs/feathers'\nimport express, { json, urlencoded, rest } from '@feathersjs/express'\n\nconst app = express(feathers())\n\napp.use(json())\napp.use(urlencoded({ extended: true }))\napp.use(function (req, res, next) {\n  req.feathers.fromMiddleware = 'Hello world'\n  next()\n})\napp.configure(rest())\n\napp.use('todos', {\n  async get(id: Id, params: Params) {\n    console.log(params.provider) // -> 'rest'\n    console.log(params.fromMiddleware) // -> 'Hello world'\n\n    return {\n      id,\n      params,\n      description: `You have to do ${id}!`\n    }\n  }\n})\n\napp.listen(3030)\n```\n\nAvoid setting `req.feathers = something` directly since it may already contain information that other Feathers plugins rely on. Adding individual properties or using `{ ...req.feathers, something }` is the more reliable option.\n\n> **Important:**\n> \n> Since the order of Express middleware matters, any middleware that sets service parameters has to be registered **before** `app.configure(rest())` or as a [custom service middleware](#custom-service-middleware)\n> \n\n> **tip:**\n> \n> Although it may be convenient to set `req.feathers.req = req` to have access to the request object in the service, we recommend keeping your services as provider independent as possible. There usually is a way to pre-process your data in a middleware so that the service does not need to know about the HTTP request or response.\n>\n\n### params.query\n\n`params.query` will contain the URL query parameters sent from the client. For the REST transport the query string is parsed using the [qs](https://github.com/ljharb/qs) module. For some query string examples see the [database querying](./databases/querying.md) chapter.\n\n> **warning:**\n> \n> Only `params.query` is passed between the server and the client, other parts of `params` are not. This is for security reasons so that a client can't set things like `params.user` or the database options. You can always map from `params.query` to other `params` properties in a [hook](./hooks.md).\n> \n\nFor example:\n\n```\nGET /messages?read=true&$sort[createdAt]=-1\n```\n\nWill set `params.query` to\n\n```json\n{\n  \"read\": \"true\",\n  \"$sort\": { \"createdAt\": \"-1\" }\n}\n```\n\n> **tip:**\n> \n> Note that the URL is a string so type conversion may be necessary. This is usually done with [query schemas and resolvers](./schema/index.md).\n> \n\n> **danger:**\n> \n> If an array in your request consists of more than 20 items, the [qs](https://www.npmjs.com/package/qs) parser implicitly [converts](https://github.com/ljharb/qs#parsing-arrays) it to an object with indices as keys. To extend this limit, you can set a custom query parser: `app.set('query parser', str => qs.parse(str, {arrayLimit: 1000}))`\n>\n\n### params.provider\n\nFor any [service method call](./services.md) made through REST `params.provider` will be set to `rest`. In a [hook](./hooks.md) this can for example be used to prevent external users from making a service method call:\n\n```ts\nimport { HookContext } from 'declarations'\n\napp.service('users').hooks({\n  before: {\n    remove: [\n      async (context: HookContext) => {\n        // check for if(context.params.provider) to prevent any external call\n        if (context.params.provider === 'rest') {\n          throw new Error('You can not delete a user via REST')\n        }\n      }\n    ]\n  }\n})\n```\n\n### params.headers\n\n`params.headers` will contain the original service request headers.\n\n### params.route\n\nExpress route placeholders in a service URL will be added to the services `params.route`. See the [FAQ entry on nested routes](../help/faq.md#how-do-i-do-nested-or-custom-routes) for more details on when and when not to use nested routes.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express, { rest } from '@feathersjs/express'\n\nconst app = express(feathers())\n\napp.configure(rest())\napp.use(function (req, res, next) {\n  req.feathers.fromMiddleware = 'Hello world'\n  next()\n})\n\napp.use('users/:userId/messages', {\n  async get(id, params) {\n    console.log(params.query) // -> ?query\n    console.log(params.provider) // -> 'rest'\n    console.log(params.fromMiddleware) // -> 'Hello world'\n    console.log(params.route.userId) // will be `1` for GET /users/1/messages\n\n    return {\n      id,\n      params,\n      read: false,\n      text: `Feathers is great!`,\n      createdAt: new Date().getTime()\n    }\n  }\n})\n\napp.listen(3030)\n```\n\n## Middleware\n\n`@feathersjs/express` comes with the following middleware\n\n### notFound(options)\n\n`notFound()` returns middleware that returns a `NotFound` (404) [Feathers error](./errors.md). It should be used as the last middleware **before** the error handler. The following options are available:\n\n- `verbose`: Set to `true` if the URL should be included in the error message (default: `false`)\n\n```ts\nimport { notFound, errorHandler } from '@feathersjs/express'\n\n// Return errors that include the URL\napp.use(notFound({ verbose: true }))\napp.use(errorHandler())\n```\n\n### errorHandler()\n\n`errorHandler` is an [Express error handler](https://expressjs.com/en/guide/error-handling.html) middleware that formats any error response to a REST call as JSON (or HTML if e.g. someone hits our API directly in the browser) and sets the appropriate error code.\n\n> **tip:**\n> \n> You can still use any other Express compatible [error middleware](http://expressjs.com/en/guide/error-handling.html) with Feathers.\n> \n\n> **Important:**\n> \n> Just like in Express, the error handler has to be registered _after_ all middleware and services.\n> \n\n#### app.use(errorHandler())\n\nSet up the error handler with the default configuration.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express from '@feathersjs/express'\n\nconst app = express(feathers())\n\n// before starting the app\napp.use(express.errorHandler())\n```\n\n#### app.use(errorHandler(options))\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express from '@feathersjs/express'\n\nconst app = express(feathers())\n\n// Just like Express your error middleware needs to be\n// set up last in your middleware chain.\napp.use(\n  express.errorHandler({\n    html: function (error, req, res, next) {\n      // render your error view with the error object\n      res.render('error', error)\n    }\n  })\n)\n\napp.use(\n  errorHandler({\n    html: {\n      404: 'path/to/notFound.html',\n      500: 'there/will/be/robots.html'\n    }\n  })\n)\n```\n\n> **important:**\n> \n> If you want to have the response in json format be sure to set the `Accept` header in your request to `application/json` otherwise the default error handler will return HTML.\n> \n\nThe following options can be passed when creating a new error handler:\n\n- `html` (Function|Object) [optional] - A custom formatter function or an object that contains the path to your custom html error pages. Can also be set to `false` to disable html error pages altogether so that only JSON is returned.\n- `logger` (Function|false) (default: `console`) - Set a logger object to log the error (it will be logger with `logger.error(error)`\n\n### authenticate()\n\n`express.authenticate(...strategies)` allows to protect an Express middleware with an [authentication service](./authentication/service.md) that has [strategies](./authentication/strategy.md) registered that can parse HTTP headers. It will set the authentication information on the `req.feathers` object (e.g. `req.feathers.user`). The following example protects the `/hello` endpoint with the JWT strategy (so the `Authorization: Bearer <JWT>` header needs to be set) and uses the user email to render the message:\n\n```ts\nimport { authenticate } from '@feathersjs/express'\n\napp.use('/hello', authenticate('jwt'), (req, res) => {\n  const { user } = req.feathers\n\n  res.render(`Hello ${user.email}`)\n})\n\n// When using with the non-default authentication service\napp.use(\n  '/hello',\n  authenticate({\n    service: 'v2/auth',\n    strategies: ['jwt', 'api-key']\n  }),\n  (req, res) => {\n    const { user } = req.feathers\n\n    res.render(`Hello ${user.email}`)\n  }\n)\n```\n\nWhen clicking a normal link, web browsers do _not_ send the appropriate header. In order to initate an authenticated request to a middleware from a browser link, there are two options. One is using a session which is described in the [Server Side rendering guide](../cookbook/express/view-engine.md), another is to add the JWT access token to the query string and mapping it to an authentication request:\n\n```ts\nimport { authenticate } from '@feathersjs/express'\n\nconst setQueryAuthentication = (req, res, next) => {\n  const { access_token } = req.query\n\n  if (access_token) {\n    req.authentication = {\n      strategy: 'jwt',\n      accessToken: access_token\n    }\n  }\n\n  next()\n}\n\n// Request this with `hello?access_token=<your jwt>`\napp.use('/hello', setQueryAuthentication, authenticate('jwt'), (req, res) => {\n  const { user } = req.feathers\n\n  res.render(`Hello ${user.email}`)\n})\n```\n\nHow to get the access token from the authentication client is described in the [authentication client documentation](../api/authentication/client.md#app-get-authentication).\n\n> **warning:**\n> \n> When using HTTPS URLs are safely encrypted but when using this method you have to make sure that access tokens are not logged through any of your logging mechanisms.\n>\n\n### parseAuthentication\n\nThe `parseAuthentication` middleware is registered automatically and will use the strategies of the default [authentication service](./authentication/service.md) to parse headers for authentication information. If you want to additionally parse authentication with a different authentication service this middleware can be registered again with that service configured.\n\n```ts\nimport { parseAuthentication } from '@feathersjs/express'\n\napp.use(\n  parseAuthentication({\n    service: 'api/v1/authentication',\n    strategies: ['jwt', 'local']\n  })\n)\n```\n\n### cors\n\nA reference to the [cors](https://github.com/expressjs/cors) module.\n\n### compression\n\nA reference to the [compression](https://github.com/expressjs/compression) module.\n\n### Built ins\n\nNote that `@feathersjs/express` also exposes the standard [Express middleware](http://expressjs.com/en/4x/api.html#express):\n\n- `json` - A JSON body parser\n- `urlencoded` - A URL encoded form body parser\n- `serveStatic` - To statically host files in a folder\n- `Router` - Creates an Express router object",
    "rawContent": "## express(app)\n\n`express(app) -> app` is a function that turns a [Feathers application](./application.md) into a fully Express (4+) compatible application that additionally to Feathers functionality also lets you use the [Express API](http://expressjs.com/en/4x/api.html).\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express from '@feathersjs/express'\n\nconst app = express(feathers())\n```\n\nNote that `@feathersjs/express` also exposes the Express [built-in middleware](#built-ins)\n\n## express(app, expressApp)\n\n`express(app, expressApp) -> app` allows to extend an existing Express application with the Feathers application `app`.\n\n## express()\n\nIf no Feathers application is passed, `express() -> app` returns a plain Express application just like a normal call to Express would.\n\n## app.use(path, service|mw|\\[mw\\])\n\n`app.use(path, service|mw|[mw]) -> app` registers either a [service object](./services.md), an [Express middleware](http://expressjs.com/en/guide/writing-middleware.html) or an array of [Express middleware](http://expressjs.com/en/guide/writing-middleware.html) on the given path. If [a service object](./services.md) is passed it will use Feathers registration mechanism, for a middleware function Express.\n\n```ts\n// Register a service\napp.use('todos', {\n  async get(id) {\n    return { id }\n  }\n})\n\n// Register an Express middleware\napp.use('/test', (req, res) => {\n  res.json({\n    message: 'Hello world from Express middleware'\n  })\n})\n\n// Register multiple Express middleware functions\napp.use(\n  '/test',\n  (req, res, next) => {\n    res.data = 'Step 1 worked'\n    next()\n  },\n  (req, res) => {\n    res.json({\n      message: `Hello world from Express middleware ${res.data}`\n    })\n  }\n)\n```\n\n## app.listen(port)\n\n`app.listen(port) -> Promise<HttpServer>` will first call Express [app.listen](http://expressjs.com/en/4x/api.html#app.listen) and then internally also call the [app.setup(server)](./application.md#setup-server).\n\n```ts\n// Listen on port 3030\nconst server = await app.listen(3030)\n```\n\n## app.setup(server)\n\n`app.setup(server) -> app` is usually called internally by `app.listen` but in the cases described below needs to be called explicitly.\n\n### Sub-Apps\n\nWhen registering an application as a sub-app, `app.setup(server)` has to be called to initialize the sub-apps services.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express from '@feathersjs/express'\n\nconst api = feathers()\n\napi.use('service', myService)\n\nconst mainApp = express(feathers()).use('/api/v1', api)\n\nconst server = await mainApp.listen(3030)\n\n// Now call setup on the Feathers app with the server\nawait api.setup(server)\n```\n\n### HTTPS\n\nHTTPS requires creating a separate server in which case `app.setup(server)` also has to be called explicitly. In a generated application `src/index.js` should look like this:\n\n```ts\nimport https from 'https'\nimport { app } from './app'\n\nconst port = app.get('port')\nconst server = https\n  .createServer(\n    {\n      key: fs.readFileSync('privatekey.pem'),\n      cert: fs.readFileSync('certificate.pem')\n    },\n    app\n  )\n  .listen(443)\n\n// Call app.setup to initialize all services and SocketIO\napp.setup(server)\n\nserver.on('listening', () => logger.info('Feathers application started'))\n```\n\n### Virtual Hosts\n\nThe [vhost](https://github.com/expressjs/vhost) Express middleware can be used to run a Feathers application on a virtual host but again requires `app.setup(server)` to be called explicitly.\n\n```ts\nimport vhost from 'vhost'\nimport { feathers } from '@feathersjs/feathers'\nimport express from '@feathersjs/express'\n\nconst app = express(feathers())\n\napp.use('/todos', todoService)\n\nconst host = express().use(vhost('foo.com', app))\nconst server = await host.listen(8080)\n\n// Here we need to call app.setup because .listen on our virtual hosted\n// app is never called\napp.setup(server)\n```\n\n## rest()\n\nRegisters a Feathers transport mechanism that allows you to expose and consume [services](./services.md) through a [RESTful API](https://en.wikipedia.org/wiki/Representational_state_transfer). This means that you can call a service method through the `GET`, `POST`, `PUT`, `PATCH` and `DELETE` [HTTP methods](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol):\n\n| Service method | HTTP method | Path        |\n| -------------- | ----------- | ----------- |\n| .find()        | GET         | /messages   |\n| .get()         | GET         | /messages/1 |\n| .create()      | POST        | /messages   |\n| .update()      | PUT         | /messages/1 |\n| .patch()       | PATCH       | /messages/1 |\n| .remove()      | DELETE      | /messages/1 |\n\n### app.configure(rest())\n\nConfigures the transport provider with a standard formatter sending JSON response via [res.json](http://expressjs.com/en/4x/api.html#res.json).\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express, { json, urlencoded, rest } from '@feathersjs/express'\n\n// Create an Express compatible Feathers application\nconst app = express(feathers())\n\n// Turn on JSON parser for REST services\napp.use(json())\n// Turn on URL-encoded parser for REST services\napp.use(urlencoded({ extended: true }))\n// Set up REST transport\napp.configure(rest())\n```\n\n> **Important:**\n> \n> The `json` and `urlencoded` body parser and [params middleware](#params) has to be registered **before** any service.\n>\n\n### app.configure(rest(formatter))\n\nThe default REST response formatter is a middleware that formats the data retrieved by the service as JSON. If you would like to configure your own `formatter` middleware pass a `formatter(req, res)` function. This middleware will have access to `res.data` which is the data returned by the service. [res.format](http://expressjs.com/en/4x/api.html#res.format) can be used for content negotiation.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express, { json, urlencoded, rest } from '@feathersjs/express'\n\nconst app = express(feathers())\n\n// Turn on JSON parser for REST services\napp.use(json())\n// Turn on URL-encoded parser for REST services\napp.use(urlencoded({ extended: true }))\n// Set up REST transport\napp.configure(\n  rest(function (req, res) {\n    // Format the message as text/plain\n    res.format({\n      'text/plain': function () {\n        res.end(`The Message is: \"${res.data.text}\"`)\n      }\n    })\n  })\n)\n```\n\n## Custom service middleware\n\nCustom Express middleware that only should run before or after a specific service can be passed to `app.use` in the order it should run:\n\n```ts\nconst todoService = {\n  async get(id: Id) {\n    return {\n      id,\n      description: `You have to do ${id}!`\n    }\n  }\n}\n\napp.use('todos', logRequest, todoService, updateData)\n```\n\n> **danger:**\n> \n> Custom middleware will only run for REST requests and not when used with other transports (like Socket.io). If possible try to avoid custom middleware and use [hooks](hooks.md) or customized services instead which will work for all transports.\n> \n\nMiddleware that runs after the service has the service call information available as\n\n- `res.data` - The data that will be sent\n- `res.hook` - The [hook](./hooks.md) context of the service method call\n\nFor example `updateData` could look like this:\n\n```js\nfunction updateData(req, res, next) {\n  res.data.updateData = true\n  next()\n}\n```\n\nIf you run `res.send` in a custom middleware after the service and don't call `next`, other middleware (like the REST formatter) will be skipped. This can be used to e.g. render different views for certain service method calls, for example to export a file as CSV:\n\n```ts\nimport json2csv from 'json2csv'\n\nconst fields = ['done', 'description']\n\napp.use('todos', todoService, function (req, res) {\n  const result = res.data\n  const data = result.data // will be either `result` as an array or `data` if it is paginated\n  const csv = json2csv({ data, fields })\n\n  res.type('csv')\n  res.end(csv)\n})\n```\n\n## params\n\nAll Express middleware will have access to the `req.feathers` object to set properties on the service method `params`:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Id, Params } from '@feathersjs/feathers'\nimport express, { json, urlencoded, rest } from '@feathersjs/express'\n\nconst app = express(feathers())\n\napp.use(json())\napp.use(urlencoded({ extended: true }))\napp.use(function (req, res, next) {\n  req.feathers.fromMiddleware = 'Hello world'\n  next()\n})\napp.configure(rest())\n\napp.use('todos', {\n  async get(id: Id, params: Params) {\n    console.log(params.provider) // -> 'rest'\n    console.log(params.fromMiddleware) // -> 'Hello world'\n\n    return {\n      id,\n      params,\n      description: `You have to do ${id}!`\n    }\n  }\n})\n\napp.listen(3030)\n```\n\nAvoid setting `req.feathers = something` directly since it may already contain information that other Feathers plugins rely on. Adding individual properties or using `{ ...req.feathers, something }` is the more reliable option.\n\n> **Important:**\n> \n> Since the order of Express middleware matters, any middleware that sets service parameters has to be registered **before** `app.configure(rest())` or as a [custom service middleware](#custom-service-middleware)\n> \n\n> **tip:**\n> \n> Although it may be convenient to set `req.feathers.req = req` to have access to the request object in the service, we recommend keeping your services as provider independent as possible. There usually is a way to pre-process your data in a middleware so that the service does not need to know about the HTTP request or response.\n>\n\n### params.query\n\n`params.query` will contain the URL query parameters sent from the client. For the REST transport the query string is parsed using the [qs](https://github.com/ljharb/qs) module. For some query string examples see the [database querying](./databases/querying.md) chapter.\n\n> **warning:**\n> \n> Only `params.query` is passed between the server and the client, other parts of `params` are not. This is for security reasons so that a client can't set things like `params.user` or the database options. You can always map from `params.query` to other `params` properties in a [hook](./hooks.md).\n> \n\nFor example:\n\n```\nGET /messages?read=true&$sort[createdAt]=-1\n```\n\nWill set `params.query` to\n\n```json\n{\n  \"read\": \"true\",\n  \"$sort\": { \"createdAt\": \"-1\" }\n}\n```\n\n> **tip:**\n> \n> Note that the URL is a string so type conversion may be necessary. This is usually done with [query schemas and resolvers](./schema/index.md).\n> \n\n> **danger:**\n> \n> If an array in your request consists of more than 20 items, the [qs](https://www.npmjs.com/package/qs) parser implicitly [converts](https://github.com/ljharb/qs#parsing-arrays) it to an object with indices as keys. To extend this limit, you can set a custom query parser: `app.set('query parser', str => qs.parse(str, {arrayLimit: 1000}))`\n>\n\n### params.provider\n\nFor any [service method call](./services.md) made through REST `params.provider` will be set to `rest`. In a [hook](./hooks.md) this can for example be used to prevent external users from making a service method call:\n\n```ts\nimport { HookContext } from 'declarations'\n\napp.service('users').hooks({\n  before: {\n    remove: [\n      async (context: HookContext) => {\n        // check for if(context.params.provider) to prevent any external call\n        if (context.params.provider === 'rest') {\n          throw new Error('You can not delete a user via REST')\n        }\n      }\n    ]\n  }\n})\n```\n\n### params.headers\n\n`params.headers` will contain the original service request headers.\n\n### params.route\n\nExpress route placeholders in a service URL will be added to the services `params.route`. See the [FAQ entry on nested routes](../help/faq.md#how-do-i-do-nested-or-custom-routes) for more details on when and when not to use nested routes.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express, { rest } from '@feathersjs/express'\n\nconst app = express(feathers())\n\napp.configure(rest())\napp.use(function (req, res, next) {\n  req.feathers.fromMiddleware = 'Hello world'\n  next()\n})\n\napp.use('users/:userId/messages', {\n  async get(id, params) {\n    console.log(params.query) // -> ?query\n    console.log(params.provider) // -> 'rest'\n    console.log(params.fromMiddleware) // -> 'Hello world'\n    console.log(params.route.userId) // will be `1` for GET /users/1/messages\n\n    return {\n      id,\n      params,\n      read: false,\n      text: `Feathers is great!`,\n      createdAt: new Date().getTime()\n    }\n  }\n})\n\napp.listen(3030)\n```\n\n## Middleware\n\n`@feathersjs/express` comes with the following middleware\n\n### notFound(options)\n\n`notFound()` returns middleware that returns a `NotFound` (404) [Feathers error](./errors.md). It should be used as the last middleware **before** the error handler. The following options are available:\n\n- `verbose`: Set to `true` if the URL should be included in the error message (default: `false`)\n\n```ts\nimport { notFound, errorHandler } from '@feathersjs/express'\n\n// Return errors that include the URL\napp.use(notFound({ verbose: true }))\napp.use(errorHandler())\n```\n\n### errorHandler()\n\n`errorHandler` is an [Express error handler](https://expressjs.com/en/guide/error-handling.html) middleware that formats any error response to a REST call as JSON (or HTML if e.g. someone hits our API directly in the browser) and sets the appropriate error code.\n\n> **tip:**\n> \n> You can still use any other Express compatible [error middleware](http://expressjs.com/en/guide/error-handling.html) with Feathers.\n> \n\n> **Important:**\n> \n> Just like in Express, the error handler has to be registered _after_ all middleware and services.\n> \n\n#### app.use(errorHandler())\n\nSet up the error handler with the default configuration.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express from '@feathersjs/express'\n\nconst app = express(feathers())\n\n// before starting the app\napp.use(express.errorHandler())\n```\n\n#### app.use(errorHandler(options))\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport express from '@feathersjs/express'\n\nconst app = express(feathers())\n\n// Just like Express your error middleware needs to be\n// set up last in your middleware chain.\napp.use(\n  express.errorHandler({\n    html: function (error, req, res, next) {\n      // render your error view with the error object\n      res.render('error', error)\n    }\n  })\n)\n\napp.use(\n  errorHandler({\n    html: {\n      404: 'path/to/notFound.html',\n      500: 'there/will/be/robots.html'\n    }\n  })\n)\n```\n\n> **important:**\n> \n> If you want to have the response in json format be sure to set the `Accept` header in your request to `application/json` otherwise the default error handler will return HTML.\n> \n\nThe following options can be passed when creating a new error handler:\n\n- `html` (Function|Object) [optional] - A custom formatter function or an object that contains the path to your custom html error pages. Can also be set to `false` to disable html error pages altogether so that only JSON is returned.\n- `logger` (Function|false) (default: `console`) - Set a logger object to log the error (it will be logger with `logger.error(error)`\n\n### authenticate()\n\n`express.authenticate(...strategies)` allows to protect an Express middleware with an [authentication service](./authentication/service.md) that has [strategies](./authentication/strategy.md) registered that can parse HTTP headers. It will set the authentication information on the `req.feathers` object (e.g. `req.feathers.user`). The following example protects the `/hello` endpoint with the JWT strategy (so the `Authorization: Bearer <JWT>` header needs to be set) and uses the user email to render the message:\n\n```ts\nimport { authenticate } from '@feathersjs/express'\n\napp.use('/hello', authenticate('jwt'), (req, res) => {\n  const { user } = req.feathers\n\n  res.render(`Hello ${user.email}`)\n})\n\n// When using with the non-default authentication service\napp.use(\n  '/hello',\n  authenticate({\n    service: 'v2/auth',\n    strategies: ['jwt', 'api-key']\n  }),\n  (req, res) => {\n    const { user } = req.feathers\n\n    res.render(`Hello ${user.email}`)\n  }\n)\n```\n\nWhen clicking a normal link, web browsers do _not_ send the appropriate header. In order to initate an authenticated request to a middleware from a browser link, there are two options. One is using a session which is described in the [Server Side rendering guide](../cookbook/express/view-engine.md), another is to add the JWT access token to the query string and mapping it to an authentication request:\n\n```ts\nimport { authenticate } from '@feathersjs/express'\n\nconst setQueryAuthentication = (req, res, next) => {\n  const { access_token } = req.query\n\n  if (access_token) {\n    req.authentication = {\n      strategy: 'jwt',\n      accessToken: access_token\n    }\n  }\n\n  next()\n}\n\n// Request this with `hello?access_token=<your jwt>`\napp.use('/hello', setQueryAuthentication, authenticate('jwt'), (req, res) => {\n  const { user } = req.feathers\n\n  res.render(`Hello ${user.email}`)\n})\n```\n\nHow to get the access token from the authentication client is described in the [authentication client documentation](../api/authentication/client.md#app-get-authentication).\n\n> **warning:**\n> \n> When using HTTPS URLs are safely encrypted but when using this method you have to make sure that access tokens are not logged through any of your logging mechanisms.\n>\n\n### parseAuthentication\n\nThe `parseAuthentication` middleware is registered automatically and will use the strategies of the default [authentication service](./authentication/service.md) to parse headers for authentication information. If you want to additionally parse authentication with a different authentication service this middleware can be registered again with that service configured.\n\n```ts\nimport { parseAuthentication } from '@feathersjs/express'\n\napp.use(\n  parseAuthentication({\n    service: 'api/v1/authentication',\n    strategies: ['jwt', 'local']\n  })\n)\n```\n\n### cors\n\nA reference to the [cors](https://github.com/expressjs/cors) module.\n\n### compression\n\nA reference to the [compression](https://github.com/expressjs/compression) module.\n\n### Built ins\n\nNote that `@feathersjs/express` also exposes the standard [Express middleware](http://expressjs.com/en/4x/api.html#express):\n\n- `json` - A JSON body parser\n- `urlencoded` - A URL encoded form body parser\n- `serveStatic` - To statically host files in a folder\n- `Router` - Creates an Express router object",
    "breadcrumb": "Express",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/express.md",
    "heading": "Express",
    "subHeadings": [
      "express(app)",
      "express(app, expressApp)",
      "express()",
      "app.use(path, service|mw|\\[mw\\])",
      "app.listen(port)",
      "app.setup(server)",
      "Sub-Apps",
      "HTTPS",
      "Virtual Hosts",
      "rest()",
      "app.configure(rest())",
      "app.configure(rest(formatter))",
      "Custom service middleware",
      "params",
      "params.query",
      "params.provider",
      "params.headers",
      "params.route",
      "Middleware",
      "notFound(options)",
      "errorHandler()",
      "app.use(errorHandler())",
      "app.use(errorHandler(options))",
      "authenticate()",
      "parseAuthentication",
      "cors",
      "compression",
      "Built ins"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js",
      "json"
    ],
    "tokens": 4609,
    "category": "express",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "provider",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "setup",
      "authentication",
      "authorization",
      "jwt",
      "github",
      "schema",
      "resolver",
      "database",
      "querying",
      "socket.io",
      "rest",
      "http",
      "transport",
      "express",
      "middleware",
      "browser",
      "client",
      "configuration",
      "errors",
      "declarations",
      "cli",
      "generate",
      "test",
      "security",
      "cors",
      "logging",
      "logger",
      "users",
      "custom service"
    ],
    "embedding": [
      -0.000865,
      0.017101,
      -0.049954,
      0.001984,
      -0.021471,
      -0.038864,
      -0.013814,
      0.002134,
      -0.007455,
      0.022994,
      -0.032205,
      0.010983,
      -0.017806,
      -0.00066,
      0.005405,
      0.007602,
      -0.013535,
      -0.023481,
      0.016583,
      -0.035743,
      -0.027676,
      0.036077,
      0.014222,
      -0.001394,
      0.009061,
      0.028217,
      -0.020387,
      -0.024172,
      0.024233,
      -0.026772,
      -0.005947,
      -0.024905,
      -0.004329,
      0.002292,
      -0.046567,
      0.002773,
      -0.026819,
      -0.029709,
      -0.041984,
      0.031499,
      -0.001293,
      -0.014869,
      -0.008346,
      -0.009213,
      0.02589,
      -0.043301,
      0.010952,
      -0.019953,
      0.02135,
      -0.010425,
      -0.0496,
      0.00387,
      0.01513,
      -0.056898,
      0.056808,
      0.035742,
      -0.034236,
      -0.002612,
      -0.056326,
      0.014284,
      -0.032413,
      0.008483,
      -0.029128,
      0.001494,
      0.009403,
      0.031426,
      -0.008698,
      -0.001103,
      0.00279,
      -0.003766,
      -0.003164,
      0.007636,
      -0.013489,
      0.007728,
      -0.062417,
      0.026858,
      0.005143,
      0.011331,
      -0.004554,
      0.029819,
      -0.023922,
      -0.021518,
      -0.019058,
      0.013323,
      0.019346,
      -0.022733,
      -0.041874,
      0.047516,
      0.038162,
      0.001768,
      -0.003953,
      -0.014067,
      0.042772,
      -0.066712,
      -0.01964,
      0.012182,
      -0.003648,
      0.014376,
      0.02025,
      0.01641,
      -0.009221,
      0.005947,
      -0.00711,
      -0.03202,
      0.058916,
      0.036431,
      0.04617,
      0.015792,
      -0.001613,
      -0.051413,
      -0.003306,
      0.003526,
      0.01216,
      0.015967,
      -0.015382,
      -0.024006,
      0.018721,
      0.008583,
      -0.012489,
      -0.02249,
      0.020607,
      0.055238,
      0.039582,
      -0.008565,
      -0.029303,
      0.01064,
      -0.040437,
      0.029907,
      0.007077,
      0.013609,
      0.057549,
      -0.061105,
      0.00454,
      -0.000615,
      -0.024366,
      0.03089,
      0.046785,
      0.014083,
      -0.013493,
      -0.045577,
      0.036702,
      -0.006943,
      0.025019,
      0.002198,
      0.029546,
      -0.089081,
      0.066641,
      0.02217,
      -0.012632,
      -0.03767,
      -0.002571,
      -0.003249,
      -0.009763,
      -0.070648,
      0.025943,
      -0.05118,
      0.012048,
      0.001429,
      0.02773,
      -0.025374,
      -0.01198,
      0.025649,
      -0.026383,
      -0.011849,
      0.06654,
      -0.016485,
      -0.000479,
      -0.039086,
      -0.023326,
      -0.04181,
      0.009731,
      -0.010917,
      0.023406,
      -0.001284,
      0.031881,
      0.023553,
      0.086255,
      0.016364,
      0.019351,
      -0.039158,
      -0.053153,
      0.02359,
      -0.038948,
      -0.047454,
      -0.026625,
      -0.033733,
      -0.012163,
      -0.053588,
      -0.018208,
      0.037768,
      -0.027159,
      -0.022224,
      0.060511,
      0.021642,
      0.001034,
      0.042087,
      0.045639,
      -0.01043,
      0.013837,
      0.025608,
      0.018404,
      0.029812,
      0.065783,
      0.00584,
      -0.053983,
      -0.021629,
      0.002872,
      -0.023458,
      0.003442,
      -0.060579,
      0.000753,
      -0.016225,
      -0.001491,
      -0.039145,
      0.002107,
      0.0334,
      0.015202,
      0.034447,
      -0.010901,
      -0.01396,
      -0.015692,
      -0.009423,
      0.015552,
      -0.006013,
      0.041908,
      -0.006893,
      0.019817,
      -0.002998,
      -0.007494,
      -0.013489,
      -0.00013,
      0.035445,
      -0.002256,
      -0.01543,
      0.029356,
      -0.023962,
      -0.015748,
      0.024189,
      -0.013842,
      0.00732,
      0.000037,
      -0.051122,
      -0.000647,
      -0.028764,
      -0.056796,
      0.025646,
      0.037734,
      -0.009215,
      -0.022761,
      -0.018854,
      -0.018329,
      -0.000046,
      0.01248,
      0.034598,
      0.021219,
      0.009469,
      0.030538,
      -0.000869,
      -0.001001,
      -0.030792,
      -0.007784,
      0.035102,
      -0.008887,
      -0.004345,
      0.00734,
      0.013047,
      -0.048191,
      -0.033414,
      0.004222,
      -0.006226,
      -0.023435,
      -0.005921,
      0.018626,
      -0.017627,
      -0.000915,
      0.029791,
      0.013211,
      -0.059409,
      0.09609,
      0.047773,
      0.007498,
      0.045166,
      0.030156,
      0.056994,
      0.025366,
      0.033752,
      0.007884,
      0.009643,
      0.030715,
      -0.030962,
      -0.00741,
      -0.001376,
      0.072006,
      0.004941,
      -0.01623,
      0.015691,
      0.000333,
      -0.167296,
      0.009557,
      0.080046,
      -0.014846,
      0.012385,
      0.005741,
      -0.055475,
      0.005997,
      -0.078957,
      0.042072,
      -0.005901,
      -0.049315,
      -0.031987,
      -0.00401,
      -0.015766,
      0.011863,
      -0.007674,
      0.019133,
      0.03408,
      -0.039508,
      0.00017,
      -0.00693,
      0.041076,
      -0.009849,
      0.001838,
      -0.027794,
      0.023984,
      0.024017,
      -0.052044,
      -0.010961,
      -0.008695,
      0.051815,
      -0.011987,
      0.008098,
      -0.007657,
      -0.004927,
      0.015207,
      0.019758,
      0.029899,
      -0.030103,
      -0.006004,
      0.052476,
      0.010739,
      -0.009937,
      -0.00448,
      -0.008512,
      0.02792,
      0.009949,
      -0.013257,
      -0.05288,
      -0.011087,
      -0.021974,
      0.011704,
      0.025184,
      -0.050939,
      0.012598,
      0.036354,
      0.043631,
      0.011952,
      -0.010171,
      -0.005128,
      -0.012822,
      0.031808,
      -0.024438,
      -0.031884,
      -0.003562,
      -0.013119,
      0.029964,
      0.036551,
      -0.032943,
      0.044988,
      -0.066435,
      0.020966,
      0.031013,
      -0.030539,
      -0.018576,
      0.03416,
      -0.020339,
      -0.039238,
      -0.091317,
      -0.019102,
      0.019989,
      -0.00382,
      0.016625,
      -0.048033,
      -0.032101,
      -0.021505,
      -0.018781,
      0.015277,
      0.266568,
      -0.005649,
      -0.000398,
      0.005938,
      0.053801,
      -0.010615,
      0.023454,
      0.07277,
      0.050164,
      -0.023454,
      0.027784,
      0.012769,
      -0.023872,
      0.018618,
      -0.019538,
      0.010862,
      -0.061643,
      0.035549,
      0.04308,
      -0.015434,
      0.01555,
      -0.030266,
      0.044501,
      0.015199,
      -0.050773,
      -0.032028,
      -0.013364,
      0.024901,
      -0.070173,
      -0.004872,
      -0.024906,
      -0.010389,
      0.03151,
      -0.052128,
      -0.078971,
      -0.01874,
      -0.005166,
      -0.017667,
      -0.045625,
      0.019947,
      -0.030191,
      -0.029295,
      0.01055,
      0.012625,
      0.015524,
      0.007227,
      -0.023977,
      -0.005694,
      -0.059779,
      -0.04488,
      -0.025051,
      -0.005202,
      -0.008847,
      0.001143,
      -0.008961,
      -0.050305,
      0.003414,
      -0.019585,
      -0.018594,
      0.012587,
      0.019847,
      0.002785,
      -0.03833,
      0.019456,
      -0.034559,
      0.015055,
      0.028625,
      -0.060674,
      -0.012967,
      0.049794,
      -0.040788,
      -0.006268,
      0.041518,
      -0.002568,
      0.000077,
      0.007621,
      0.049118,
      0.017262,
      -0.012221,
      0.080127,
      -0.017477,
      -0.003107,
      -0.025465,
      0.006545,
      -0.004188,
      0.031779,
      -0.007824,
      0.05161,
      -0.000636,
      -0.046744,
      -0.000697,
      -0.015828,
      0.017636,
      0.02451,
      -0.012792,
      0.015352,
      0.023791,
      -0.001242,
      0.005191,
      -0.030677,
      0.025721,
      0.002253,
      -0.000524,
      -0.009062,
      0.039639,
      -0.013693,
      0.009131,
      0.030878,
      -0.00912,
      -0.015554,
      -0.026666,
      -0.004403,
      0.045585,
      -0.034425,
      0.007259,
      0.03188,
      0.022491,
      0.021376,
      0.076346,
      0.018379,
      -0.003143,
      0.022238,
      -0.029734,
      0.003752,
      0.007604,
      -0.064381,
      -0.019377,
      0.00121,
      -0.016488,
      0.059803,
      0.026773,
      -0.020339,
      0.008825,
      0.010697,
      0.026385,
      0.02366,
      0.08702,
      0.068838,
      0.019504,
      -0.030104,
      -0.003631,
      -0.022545,
      -0.030556,
      0.013133,
      0.006824,
      0.054652,
      0.016925,
      0.011724,
      -0.004638,
      -0.009252,
      0.031707,
      0.020411,
      0.041031,
      -0.049486,
      -0.023313,
      -0.024569,
      -0.012532,
      -0.021682,
      0.034343,
      -0.020441,
      0.006517,
      -0.004425,
      0.012442,
      0.045416,
      0.030753,
      -0.017476,
      0.040355,
      0.002384,
      -0.010237,
      -0.022984,
      -0.000509,
      -0.060566,
      -0.04167,
      0.025851,
      0.00272,
      -0.000094,
      -0.055066,
      -0.013543,
      0.02132,
      -0.025157,
      -0.007327,
      0.000065,
      -0.035778,
      -0.061336,
      0.017709,
      0.016518,
      0.020081,
      -0.006796,
      0.001573,
      -0.061867,
      0.00195,
      0.097971,
      0.003539,
      0.004914,
      0.042792,
      0.014266,
      0.055004,
      0.011348,
      -0.012741,
      -0.015304,
      -0.009291,
      0.005504,
      -0.013896,
      -0.0058,
      -0.009015,
      -0.040506,
      0.007557,
      0.021387,
      -0.06303,
      0.018182,
      0.010447,
      0.022507,
      -0.016177,
      -0.008196,
      0.026486,
      -0.033205,
      0.067113,
      0.042602,
      0.005505,
      -0.039207,
      -0.046114,
      0.002688,
      0.00768,
      -0.037368,
      0.032091,
      0.024757,
      0.018991,
      0.007817,
      -0.013435,
      0.004455,
      -0.007068,
      0.034719,
      0.053279,
      -0.038679,
      -0.009871,
      -0.031768,
      0.040352,
      0.018681,
      0.040152,
      -0.029314,
      0.039361,
      -0.007074,
      0.030664,
      0.073615,
      -0.014734,
      0.016334,
      -0.037108,
      -0.024799,
      -0.006745,
      -0.008464,
      -0.02855,
      -0.012836,
      0.028749,
      -0.022506,
      0.01373,
      0.023907,
      0.036887,
      -0.024612,
      -0.013192,
      0.004846,
      -0.001665,
      0.04011,
      -0.003696,
      0.000685,
      -0.003814,
      -0.024764,
      0.008576,
      0.00502,
      -0.042825,
      -0.025757,
      -0.023197,
      -0.000588,
      -0.041581,
      -0.058984,
      0.051318,
      0.002932,
      -0.013082,
      -0.008389,
      0.024297,
      0.007983,
      -0.045673,
      0.020225,
      0.052415,
      -0.007306,
      0.013227,
      0.031705,
      0.016533,
      -0.018315,
      0.00197,
      -0.068229,
      -0.016022,
      0.026583,
      -0.02587,
      0.024771,
      -0.019226,
      -0.000675,
      -0.034531,
      0.027923,
      0.00363,
      -0.008497,
      -0.007016,
      0.015444,
      -0.014349,
      -0.011644,
      -0.009609,
      0.042739,
      -0.001529,
      -0.052574,
      0.015392,
      0.053905,
      -0.000452,
      -0.026356,
      0.02896,
      0.010784,
      0.076398,
      -0.05808,
      0.070584,
      -0.009062,
      -0.007649,
      -0.028961,
      0.033475,
      -0.012833,
      -0.020181,
      -0.001797,
      0.004633,
      -0.017642,
      -0.009997,
      -0.059568,
      -0.003022,
      0.008279,
      -0.033953,
      -0.009419,
      0.00358,
      -0.021264,
      -0.032379,
      0.014261,
      0.024384,
      -0.037733,
      0.004632,
      -0.045886,
      0.001192,
      0.010548,
      0.030075,
      -0.031858,
      0.04093,
      -0.019928,
      0.004109,
      0.01183,
      -0.01721,
      0.017804,
      -0.017431,
      -0.022686,
      -0.010678,
      -0.045151,
      0.03082,
      -0.023559,
      -0.070002,
      0.004787,
      0.029036,
      0.002517,
      -0.017739,
      0.074395,
      -0.016189,
      -0.014506,
      -0.001238,
      -0.021033,
      0.036825,
      -0.024311,
      0.002454,
      -0.022712,
      -0.033898,
      0.022919,
      0.056399,
      0.020693,
      -0.04415,
      0.02354,
      -0.009649,
      0.02812,
      -0.001988,
      -0.034916,
      -0.036203,
      -0.009955,
      -0.021336,
      -0.03409,
      -0.021653,
      0.007591,
      0.001642,
      0.002107,
      -0.014859,
      0.044965,
      -0.007308,
      0.038493,
      -0.023088,
      0.024887,
      -0.143793,
      0.028287,
      0.00963,
      -0.009355,
      -0.01665,
      0.022104,
      0.011097,
      -0.008485,
      0.018025,
      -0.006139,
      -0.054172,
      -0.007579,
      0.03903,
      -0.046401,
      0.006283,
      0.022164,
      -0.007983,
      -0.018848,
      0.004903,
      -0.020665,
      0.027877,
      0.006167,
      0.039124,
      -0.0472,
      0.018402,
      0.001874,
      -0.058374,
      -0.027963,
      -0.024156,
      0.03777,
      0.03996,
      0.009316,
      0.020303,
      0.010417,
      -0.024025,
      0.002811,
      0.014498,
      -0.010095,
      -0.033037,
      0.019831,
      -0.026505,
      0.023809,
      -0.051106,
      0.011445,
      0.032552,
      0.035158,
      0.001329,
      -0.018978,
      -0.013554,
      -0.011454,
      -0.025575,
      -0.022254,
      0.043735,
      0.04979,
      0.021959,
      -0.032377,
      -0.042308,
      0.000366,
      -0.053876,
      0.049649,
      -0.046423,
      0.043966,
      -0.022527,
      -0.034154,
      -0.015141,
      0.00454,
      -0.026533,
      0.031923,
      0.006419,
      -0.020599,
      0.003441,
      -0.029101,
      -0.036252,
      -0.0068,
      0.017446,
      -0.007648,
      0.055172,
      -0.011488,
      -0.015522,
      -0.015114,
      -0.026757,
      -0.001637,
      -0.038081,
      0.079719,
      0.062372,
      -0.003656,
      -0.004362,
      0.031768,
      -0.016109,
      -0.030502,
      -0.05206,
      -0.041047,
      -0.010023,
      0.0452,
      -0.016191,
      0.020779,
      0.009465,
      -0.015683,
      -0.006468,
      0.009462,
      -0.044938,
      0.025143,
      0.014102,
      -0.014174,
      -0.01591,
      0.009503,
      0.006422,
      -0.00807,
      0.012511,
      -0.005513,
      0.00133,
      0.010705,
      -0.009934,
      0.00637,
      -0.085141,
      0.009101,
      -0.008432,
      0.035193,
      -0.020073,
      -0.007836,
      0.011113,
      0.007536,
      -0.034292,
      -0.022251,
      0.03835,
      0.037019,
      0.041053,
      0.009321,
      0.046673,
      -0.033282,
      0.013277,
      -0.048469,
      -0.004146,
      -0.035465,
      0.020809,
      -0.025467,
      -0.048401,
      0.036394,
      0.004361,
      -0.023848,
      -0.05127,
      -0.001205,
      0.023713,
      -0.068126,
      -0.011414,
      -0.030609,
      -0.006259,
      0.010922,
      -0.042226,
      -0.038143,
      -0.010958,
      0.006945,
      -0.023206,
      0.051071,
      0.011384,
      0.03718,
      0.003892,
      0.014522,
      -0.019636,
      0.038473,
      0.008547,
      -0.026737,
      -0.009157,
      -0.025774,
      -0.008365,
      -0.012046,
      -0.00097,
      -0.014986,
      -0.008078,
      0.042905,
      0.008293,
      0.066567,
      -0.002961,
      -0.005514,
      0.03009,
      -0.007379,
      -0.02128,
      -0.022778,
      0.001863,
      -0.017001,
      0.018983,
      0.005625,
      0.060611,
      0.032948,
      0.010161,
      -0.006281,
      -0.014863,
      0.02593,
      0.040351,
      -0.004761,
      0.024086,
      -0.021252,
      0.020232,
      -0.00784,
      -0.009399,
      -0.022271,
      0.033716,
      -0.027603,
      -0.006144,
      0.064578,
      0.045636,
      -0.014882,
      0.003101,
      -0.012514,
      0.006518,
      0.006528,
      -0.024283,
      -0.023137,
      0.024781,
      0.018794,
      -0.031386,
      -0.016118,
      0.021187,
      0.004025,
      -0.019092,
      0.012503,
      0.032226,
      0.00939,
      0.002634,
      -0.019522,
      0.023958,
      0.031911,
      -0.002023,
      -0.081463,
      -0.05,
      -0.019381,
      -0.012138,
      0.00433,
      -0.025368,
      -0.01642,
      -0.028348,
      -0.037256,
      -0.014635,
      0.028127,
      -0.005406,
      -0.018953,
      -0.009087,
      0.032096,
      -0.006336,
      -0.01862,
      0.036812,
      0.039577,
      0.002468,
      -0.007289
    ]
  },
  {
    "id": "v5-hooks-0",
    "content": "# Hooks\nBreadcrumb: Hooks\nCovers: Quick Example | Hook functions | before, after and error | around | Hook flow | Throwing an error | Setting `context.result` | Hook context | `context.app` | `context.service` | `context.path` | `context.method` | `context.type` | `context.params` | `context.id` | `context.data` | `context.error` | `context.result` | `context.dispatch` | `context.http` | `context.event` | `context.toJSON()` | Registering hooks | Application hooks | Service hooks | Setup and teardown\nTopics: hooks, services, application, context, params, around hooks, error hooks, hook context, hook functions, hook flow, find, get, create, update, patch, remove, custom methods, setup, teardown, authentication, github, schema, resolver, validation, database, mongodb, real-time, events, socket.io, rest, http, transport, express, client, configuration, declarations, cli, generator, logging, users\n\n## Quick Example\n\nThe following example logs the runtime of any service method on the `messages` service and adds `createdAt` property before saving the data to the database:\n\n```ts\nimport { feathers, type HookContext, type NextFunction } from '@feathersjs/feathers'\n\nconst app = feathers()\n\napp.service('messages').hooks({\n  around: {\n    all: [\n      // A hook that wraps around all other hooks and the service method\n      // logging the total runtime of a successful call\n      async (context: HookContext, next: NextFunction) => {\n        const startTime = Date.now()\n\n        await next()\n\n        console.log(`Method ${context.method} on ${context.path} took ${Date.now() - startTime}ms`)\n      }\n    ]\n  },\n  before: {\n    create: [\n      async (context: HookContext) => {\n        context.data = {\n          ...context.data,\n          createdAt: Date.now()\n        }\n      }\n    ]\n  }\n})\n```\n\n> **info:**\n> \n> While it is always possible to add properties like `createdAt` in the above example via hooks, the preferred way to make data modifications like this in Feathers 5 is via [schemas and resolvers](./schema/index.md).\n>\n\n## Hook functions\n\n\n\n### before, after and error\n\n`before`, `after` and `error` hook functions are functions that are `async` or return a promise and take the [hook context](#hook-context) as the parameter and return nothing or throw an error.\n\n```ts\nimport { HookContext } from '../declarations'\n\nexport const hookFunction = async (context: HookContext) => {\n  // Do things here\n}\n```\n\nFor more information see the [hook flow](#hook-flow) section.\n\n### around\n\n`around` hooks are a special kind of hook that allow to control the entire `before`, `after` and `error` flow in a single function. They are a Feathers specific version of the generic [@feathersjs/hooks](https://github.com/feathersjs/hooks). An `around` hook is an `async` function that accepts two arguments:\n\n- The [hook context](#hook-context)\n- An asynchronous `next` function. Somewhere in the body of the hook function, there is a call to `await next()`, which calls the `next` hooks OR the original function if all other hooks have run.\n\nIn its simplest form, an around hook looks like this:\n\n```js\nimport { HookContext, NextFunction } from '../declarations'\n\nexport const myAfoundHook = async (context: HookContext, next: NextFunction) => {\n  try {\n    // Code before `await next()` runs before the main function\n    await next()\n    // Code after `await next()` runs after the main function.\n  } catch (error) {\n    // Do things on error\n  } finally {\n    // Do things always\n  }\n}\n```\n\nAny around hook can be wrapped around another function. Calling `await next()` will either call the next hook in the chain or the service method if all other hooks have run.\n\n## Hook flow\n\nIn general, hooks are executed in the order [they are registered](#registering-hooks) with `around` hooks running first:\n\n- `around` hooks (before `await next()`)\n- `before` hooks\n- service method\n- `after` hooks\n- `around` hooks (after `await next()`)\n\nNote that since `around` hooks wrap **around** everything, the first hook to run will be the last to execute its code after `await next()`. This is reverse of the order `after` hooks execute.\n\nThe hook flow can be affected as follows.\n\n### Throwing an error\n\nWhen an error is thrown (or the promise is rejected), all subsequent hooks - and the service method call if it didn't run already - will be skipped and only the error hooks will run.\n\nThe following example throws an error when the text for creating a new message is empty. You can also create very similar hooks to use your Node validation library of choice.\n\n```ts\napp.service('messages').hooks({\n  before: {\n    create: [\n      async (context: HookContext) => {\n        if (context.data.text.trim() === '') {\n          throw new Error('Message text can not be empty')\n        }\n      }\n    ]\n  }\n})\n```\n\n### Setting `context.result`\n\nWhen `context.result` is set in an `around` hook before calling `await next()` or in a `before` hook, the original [service method](./services.md) call will be skipped. All other hooks will still execute in their normal order. The following example always returns the currently [authenticated user](./authentication/service.md) instead of the actual user for all `get` method calls:\n\n```js\napp.service('users').hooks({\n  before: {\n    get: [\n      async (context: HookContext) => {\n        // Never call the actual users service\n        // just use the authenticated user\n        context.result = context.params.user\n      }\n    ]\n  }\n})\n```\n\n## Hook context\n\nThe hook `context` is passed to a hook function and contains information about the service method call. It has **read only** properties that should not be modified and **_writeable_** properties that can be changed for subsequent hooks.\n\n> **tip:**\n> \n> The `context` object is the same throughout a service method call so it is possible to add properties and use them in other hooks at a later time.\n> \n\n> **Important:**\n> \n> If you want to inspect the hook context, e.g. via `console.log`, the object returned by [context.toJSON()](#contexttojson) should be used, otherwise you won't see all properties that are available.\n>\n\n### `context.app`\n\n`context.app` is a _read only_ property that contains the [Feathers application object](./application.md). This can be used to retrieve other services (via `context.app.service('name')`) or configuration values.\n\n### `context.service`\n\n`context.service` is a _read only_ property and contains the service this hook currently runs on.\n\n### `context.path`\n\n`context.path` is a _read only_ property and contains the service name (or path) without leading or trailing slashes.\n\n### `context.method`\n\n`context.method` is a _read only_ property with the name of the [service method](./services.md) (`find`, `get`, `create`, `update`, `patch`, `remove`).\n\n### `context.type`\n\n`context.type` is a _read only_ property with the hook type (one of `around`, `before`, `after` or `error`).\n\n### `context.params`\n\n`context.params` is a **writeable** property that contains the [service method](./services.md) parameters (including `params.query`). For more information see the [service params documentation](./services.md#params).\n\n### `context.id`\n\n`context.id` is a **writeable** property and the `id` for a `get`, `remove`, `update` and `patch` service method call. For `remove`, `update` and `patch`, `context.id` can also be `null` when modifying multiple entries. In all other cases it will be `undefined`.\n\n### `context.data`\n\n`context.data` is a **writeable** property containing the data of a `create`, `update` and `patch` service method call.\n\n> **info:**\n> \n> `context.data` will only be available for `create`, `update`, `patch` and [custom methods](./services.md#custom-methods).\n>\n\n### `context.error`\n\n`context.error` is a **writeable** property with the error object that was thrown in a failed method call. It can be modified to change the error that is returned at the end.\n\n> **info:**\n> \n> `context.error` will only be available if `context.type` is `error`.\n>\n\n### `context.result`\n\n`context.result` is a **writeable** property containing the result of the successful service method call. It is only available in `after` hooks. `context.result` can also be set in\n\n- An `around` or `before` hook to skip the actual service method (database) call\n- An `error` hook to swallow the error and return a result instead\n\n> **info:**\n> \n> `context.result` will only be available if `context.type` is `after` or if `context.result` has been set.\n>\n\n### `context.dispatch`\n\n`context.dispatch` is a **writeable, optional** property and contains a \"safe\" version of the data that should be sent to any client. If `context.dispatch` has not been set `context.result` will be sent to the client instead. `context.dispatch` only affects the data sent through a Feathers Transport like [REST](./express.md) or [Socket.io](./socketio.md). An internal method call will still get the data set in `context.result`.\n\n> **Important:**\n> \n> `context.dispatch` is used by the `schemaHooks.resolveDispatch` [resolver](./schema/resolvers.md). Use dispatch resolvers whenever possible to get safe representations external data.\n>\n\n### `context.http`\n\n`context.http` is a **writeable, optional** property that allows customizing HTTP response specific properties. The following properties can be set:\n\n- `context.http.status` - Sets the [HTTP status code](https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) that should be returned. Usually the most appropriate status code will be picked automatically but there are cases where it needs to be customized.\n- `context.http.headers` - An object with additional HTTP response headers\n- `context.http.location` - Setting this property will trigger a redirect for HTTP requests.\n\n> **Important:**\n> \n> Setting `context.http` properties will have no effect when using a websocket real-time connection.\n>\n\n### `context.event`\n\n`context.event` is a **writeable, optional** property that allows service events to be skipped by setting it to `null`\n\n### `context.toJSON()`\n\n`context.toJSON()` returns a full object representation of the hook context and all its properties.\n\n## Registering hooks\n\nHook functions are registered on a service through the `app.service(<servicename>).hooks(hooks)` method. The most commonly used registration format is\n\n```js\n{\n  [type]: { // around, before, after or error\n    all: [\n      // list of hooks that should run for every method here\n    ],\n    [methodName]: [\n      // list of method hooks here\n    ]\n  }\n}\n```\n\nThis means usual hook registration looks like this:\n\n```ts\n// The standard all at once way (also used by the generator)\n// an array of functions per service method name (and for `all` methods)\napp.service('servicename').hooks({\n  around: {\n    all: [\n      async (context: HookContext, next: NextFunction) => {\n        console.log('around all hook ran')\n        await next()\n      }\n    ],\n    find: [\n      /* other hook functions here */\n    ],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: [],\n    // Custom methods use hooks as well\n    myCustomMethod: []\n  },\n  before: {\n    all: [async (context: HookContext) => console.log('before all hook ran')],\n    find: [\n      /* other hook functions here */\n    ],\n    get: []\n    // ...etc\n  },\n  after: {\n    find: [async (context: HookContext) => console.log('after find hook ran')]\n  },\n  error: {}\n})\n```\n\n> **warning:**\n> \n> Hooks will only be available for the standard service methods or methods passed in `options.methods` to [app.use](application.md#usepath-service--options). See the [documentation for @feathersjs/hooks](https://github.com/feathersjs/hooks) how to use hooks on other methods.\n> \n\nSince around hooks offer the same functionality as `before`, `after` and `error` hooks at the same time they can also be registered without a nested object:\n\n```ts\nimport { HookContext, NextFunction } from './declarations'\n\n// Passing an array of around hooks that run for every method\napp.service('servicename').hooks([\n  async (context: HookContext, next: NextFunction) => {\n    console.log('around all hook ran')\n    await next()\n  }\n])\n\n// Passing an object with method names and a list of around hooks\napp.service('servicename').hooks({\n  get: [\n    async (context: HookContext, next: NextFunction) => {\n      console.log('around get hook ran')\n      await next()\n    }\n  ],\n  create: [],\n  update: [],\n  patch: [],\n  remove: [],\n  myCustomMethod: []\n})\n```\n\n## Application hooks\n\n\n\n### Service hooks\n\nTo add hooks to every service `app.hooks(hooks)` can be used. Application hooks are [registered in the same format as service hooks](#registering-hooks) and also work exactly the same. Note when application hooks will be executed:\n\n- `around` application hook will run around all other hooks\n- `before` application hooks will always run _before_ all service `before` hooks\n- `after` application hooks will always run _after_ all service `after` hooks\n- `error` application hooks will always run _after_ all service `error` hooks\n\nHere is an example for a very useful application hook that logs every service method error with the service and method name as well as the error stack.\n\n```ts\nimport { HookContext } from './declarations'\n\napp.hooks({\n  error: {\n    all: [\n      async (context: HookContext) => {\n        console.error(`Error in '${context.path}' service method '${context.method}'`, context.error.stack)\n      }\n    ]\n  }\n})\n```\n\n### Setup and teardown\n\nA special kind of application hooks are [app.setup](./application.md#setupserver) and [app.teardown](./application.md#teardownserver) hooks. They are around hooks that can be used to initialize database connections etc. and only run once when the application starts or shuts down. Setup and teardown hooks only have `context.app` and `context.server` available in the hook context.\n\n```ts\nimport { MongoClient } from 'mongodb'\n\napp.hooks({\n  setup: [\n    async (context: HookContext, next: NextFunction) => {\n      // E.g. wait for MongoDB connection to complete\n      await context.app.get('mongoClient').connect()\n      await next()\n    }\n  ],\n  teardown: [\n    async (context: HookContext, next: NextFunction) => {\n      // Close MongoDB connection\n      await context.app.get('mongoClient').close()\n      await next()\n    }\n  ]\n})\n```",
    "rawContent": "## Quick Example\n\nThe following example logs the runtime of any service method on the `messages` service and adds `createdAt` property before saving the data to the database:\n\n```ts\nimport { feathers, type HookContext, type NextFunction } from '@feathersjs/feathers'\n\nconst app = feathers()\n\napp.service('messages').hooks({\n  around: {\n    all: [\n      // A hook that wraps around all other hooks and the service method\n      // logging the total runtime of a successful call\n      async (context: HookContext, next: NextFunction) => {\n        const startTime = Date.now()\n\n        await next()\n\n        console.log(`Method ${context.method} on ${context.path} took ${Date.now() - startTime}ms`)\n      }\n    ]\n  },\n  before: {\n    create: [\n      async (context: HookContext) => {\n        context.data = {\n          ...context.data,\n          createdAt: Date.now()\n        }\n      }\n    ]\n  }\n})\n```\n\n> **info:**\n> \n> While it is always possible to add properties like `createdAt` in the above example via hooks, the preferred way to make data modifications like this in Feathers 5 is via [schemas and resolvers](./schema/index.md).\n>\n\n## Hook functions\n\n\n\n### before, after and error\n\n`before`, `after` and `error` hook functions are functions that are `async` or return a promise and take the [hook context](#hook-context) as the parameter and return nothing or throw an error.\n\n```ts\nimport { HookContext } from '../declarations'\n\nexport const hookFunction = async (context: HookContext) => {\n  // Do things here\n}\n```\n\nFor more information see the [hook flow](#hook-flow) section.\n\n### around\n\n`around` hooks are a special kind of hook that allow to control the entire `before`, `after` and `error` flow in a single function. They are a Feathers specific version of the generic [@feathersjs/hooks](https://github.com/feathersjs/hooks). An `around` hook is an `async` function that accepts two arguments:\n\n- The [hook context](#hook-context)\n- An asynchronous `next` function. Somewhere in the body of the hook function, there is a call to `await next()`, which calls the `next` hooks OR the original function if all other hooks have run.\n\nIn its simplest form, an around hook looks like this:\n\n```js\nimport { HookContext, NextFunction } from '../declarations'\n\nexport const myAfoundHook = async (context: HookContext, next: NextFunction) => {\n  try {\n    // Code before `await next()` runs before the main function\n    await next()\n    // Code after `await next()` runs after the main function.\n  } catch (error) {\n    // Do things on error\n  } finally {\n    // Do things always\n  }\n}\n```\n\nAny around hook can be wrapped around another function. Calling `await next()` will either call the next hook in the chain or the service method if all other hooks have run.\n\n## Hook flow\n\nIn general, hooks are executed in the order [they are registered](#registering-hooks) with `around` hooks running first:\n\n- `around` hooks (before `await next()`)\n- `before` hooks\n- service method\n- `after` hooks\n- `around` hooks (after `await next()`)\n\nNote that since `around` hooks wrap **around** everything, the first hook to run will be the last to execute its code after `await next()`. This is reverse of the order `after` hooks execute.\n\nThe hook flow can be affected as follows.\n\n### Throwing an error\n\nWhen an error is thrown (or the promise is rejected), all subsequent hooks - and the service method call if it didn't run already - will be skipped and only the error hooks will run.\n\nThe following example throws an error when the text for creating a new message is empty. You can also create very similar hooks to use your Node validation library of choice.\n\n```ts\napp.service('messages').hooks({\n  before: {\n    create: [\n      async (context: HookContext) => {\n        if (context.data.text.trim() === '') {\n          throw new Error('Message text can not be empty')\n        }\n      }\n    ]\n  }\n})\n```\n\n### Setting `context.result`\n\nWhen `context.result` is set in an `around` hook before calling `await next()` or in a `before` hook, the original [service method](./services.md) call will be skipped. All other hooks will still execute in their normal order. The following example always returns the currently [authenticated user](./authentication/service.md) instead of the actual user for all `get` method calls:\n\n```js\napp.service('users').hooks({\n  before: {\n    get: [\n      async (context: HookContext) => {\n        // Never call the actual users service\n        // just use the authenticated user\n        context.result = context.params.user\n      }\n    ]\n  }\n})\n```\n\n## Hook context\n\nThe hook `context` is passed to a hook function and contains information about the service method call. It has **read only** properties that should not be modified and **_writeable_** properties that can be changed for subsequent hooks.\n\n> **tip:**\n> \n> The `context` object is the same throughout a service method call so it is possible to add properties and use them in other hooks at a later time.\n> \n\n> **Important:**\n> \n> If you want to inspect the hook context, e.g. via `console.log`, the object returned by [context.toJSON()](#contexttojson) should be used, otherwise you won't see all properties that are available.\n>\n\n### `context.app`\n\n`context.app` is a _read only_ property that contains the [Feathers application object](./application.md). This can be used to retrieve other services (via `context.app.service('name')`) or configuration values.\n\n### `context.service`\n\n`context.service` is a _read only_ property and contains the service this hook currently runs on.\n\n### `context.path`\n\n`context.path` is a _read only_ property and contains the service name (or path) without leading or trailing slashes.\n\n### `context.method`\n\n`context.method` is a _read only_ property with the name of the [service method](./services.md) (`find`, `get`, `create`, `update`, `patch`, `remove`).\n\n### `context.type`\n\n`context.type` is a _read only_ property with the hook type (one of `around`, `before`, `after` or `error`).\n\n### `context.params`\n\n`context.params` is a **writeable** property that contains the [service method](./services.md) parameters (including `params.query`). For more information see the [service params documentation](./services.md#params).\n\n### `context.id`\n\n`context.id` is a **writeable** property and the `id` for a `get`, `remove`, `update` and `patch` service method call. For `remove`, `update` and `patch`, `context.id` can also be `null` when modifying multiple entries. In all other cases it will be `undefined`.\n\n### `context.data`\n\n`context.data` is a **writeable** property containing the data of a `create`, `update` and `patch` service method call.\n\n> **info:**\n> \n> `context.data` will only be available for `create`, `update`, `patch` and [custom methods](./services.md#custom-methods).\n>\n\n### `context.error`\n\n`context.error` is a **writeable** property with the error object that was thrown in a failed method call. It can be modified to change the error that is returned at the end.\n\n> **info:**\n> \n> `context.error` will only be available if `context.type` is `error`.\n>\n\n### `context.result`\n\n`context.result` is a **writeable** property containing the result of the successful service method call. It is only available in `after` hooks. `context.result` can also be set in\n\n- An `around` or `before` hook to skip the actual service method (database) call\n- An `error` hook to swallow the error and return a result instead\n\n> **info:**\n> \n> `context.result` will only be available if `context.type` is `after` or if `context.result` has been set.\n>\n\n### `context.dispatch`\n\n`context.dispatch` is a **writeable, optional** property and contains a \"safe\" version of the data that should be sent to any client. If `context.dispatch` has not been set `context.result` will be sent to the client instead. `context.dispatch` only affects the data sent through a Feathers Transport like [REST](./express.md) or [Socket.io](./socketio.md). An internal method call will still get the data set in `context.result`.\n\n> **Important:**\n> \n> `context.dispatch` is used by the `schemaHooks.resolveDispatch` [resolver](./schema/resolvers.md). Use dispatch resolvers whenever possible to get safe representations external data.\n>\n\n### `context.http`\n\n`context.http` is a **writeable, optional** property that allows customizing HTTP response specific properties. The following properties can be set:\n\n- `context.http.status` - Sets the [HTTP status code](https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) that should be returned. Usually the most appropriate status code will be picked automatically but there are cases where it needs to be customized.\n- `context.http.headers` - An object with additional HTTP response headers\n- `context.http.location` - Setting this property will trigger a redirect for HTTP requests.\n\n> **Important:**\n> \n> Setting `context.http` properties will have no effect when using a websocket real-time connection.\n>\n\n### `context.event`\n\n`context.event` is a **writeable, optional** property that allows service events to be skipped by setting it to `null`\n\n### `context.toJSON()`\n\n`context.toJSON()` returns a full object representation of the hook context and all its properties.\n\n## Registering hooks\n\nHook functions are registered on a service through the `app.service(<servicename>).hooks(hooks)` method. The most commonly used registration format is\n\n```js\n{\n  [type]: { // around, before, after or error\n    all: [\n      // list of hooks that should run for every method here\n    ],\n    [methodName]: [\n      // list of method hooks here\n    ]\n  }\n}\n```\n\nThis means usual hook registration looks like this:\n\n```ts\n// The standard all at once way (also used by the generator)\n// an array of functions per service method name (and for `all` methods)\napp.service('servicename').hooks({\n  around: {\n    all: [\n      async (context: HookContext, next: NextFunction) => {\n        console.log('around all hook ran')\n        await next()\n      }\n    ],\n    find: [\n      /* other hook functions here */\n    ],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: [],\n    // Custom methods use hooks as well\n    myCustomMethod: []\n  },\n  before: {\n    all: [async (context: HookContext) => console.log('before all hook ran')],\n    find: [\n      /* other hook functions here */\n    ],\n    get: []\n    // ...etc\n  },\n  after: {\n    find: [async (context: HookContext) => console.log('after find hook ran')]\n  },\n  error: {}\n})\n```\n\n> **warning:**\n> \n> Hooks will only be available for the standard service methods or methods passed in `options.methods` to [app.use](application.md#usepath-service--options). See the [documentation for @feathersjs/hooks](https://github.com/feathersjs/hooks) how to use hooks on other methods.\n> \n\nSince around hooks offer the same functionality as `before`, `after` and `error` hooks at the same time they can also be registered without a nested object:\n\n```ts\nimport { HookContext, NextFunction } from './declarations'\n\n// Passing an array of around hooks that run for every method\napp.service('servicename').hooks([\n  async (context: HookContext, next: NextFunction) => {\n    console.log('around all hook ran')\n    await next()\n  }\n])\n\n// Passing an object with method names and a list of around hooks\napp.service('servicename').hooks({\n  get: [\n    async (context: HookContext, next: NextFunction) => {\n      console.log('around get hook ran')\n      await next()\n    }\n  ],\n  create: [],\n  update: [],\n  patch: [],\n  remove: [],\n  myCustomMethod: []\n})\n```\n\n## Application hooks\n\n\n\n### Service hooks\n\nTo add hooks to every service `app.hooks(hooks)` can be used. Application hooks are [registered in the same format as service hooks](#registering-hooks) and also work exactly the same. Note when application hooks will be executed:\n\n- `around` application hook will run around all other hooks\n- `before` application hooks will always run _before_ all service `before` hooks\n- `after` application hooks will always run _after_ all service `after` hooks\n- `error` application hooks will always run _after_ all service `error` hooks\n\nHere is an example for a very useful application hook that logs every service method error with the service and method name as well as the error stack.\n\n```ts\nimport { HookContext } from './declarations'\n\napp.hooks({\n  error: {\n    all: [\n      async (context: HookContext) => {\n        console.error(`Error in '${context.path}' service method '${context.method}'`, context.error.stack)\n      }\n    ]\n  }\n})\n```\n\n### Setup and teardown\n\nA special kind of application hooks are [app.setup](./application.md#setupserver) and [app.teardown](./application.md#teardownserver) hooks. They are around hooks that can be used to initialize database connections etc. and only run once when the application starts or shuts down. Setup and teardown hooks only have `context.app` and `context.server` available in the hook context.\n\n```ts\nimport { MongoClient } from 'mongodb'\n\napp.hooks({\n  setup: [\n    async (context: HookContext, next: NextFunction) => {\n      // E.g. wait for MongoDB connection to complete\n      await context.app.get('mongoClient').connect()\n      await next()\n    }\n  ],\n  teardown: [\n    async (context: HookContext, next: NextFunction) => {\n      // Close MongoDB connection\n      await context.app.get('mongoClient').close()\n      await next()\n    }\n  ]\n})\n```",
    "breadcrumb": "Hooks",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/hooks.md",
    "heading": "Hooks",
    "subHeadings": [
      "Quick Example",
      "Hook functions",
      "before, after and error",
      "around",
      "Hook flow",
      "Throwing an error",
      "Setting `context.result`",
      "Hook context",
      "`context.app`",
      "`context.service`",
      "`context.path`",
      "`context.method`",
      "`context.type`",
      "`context.params`",
      "`context.id`",
      "`context.data`",
      "`context.error`",
      "`context.result`",
      "`context.dispatch`",
      "`context.http`",
      "`context.event`",
      "`context.toJSON()`",
      "Registering hooks",
      "Application hooks",
      "Service hooks",
      "Setup and teardown"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 3354,
    "category": "hooks",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "around hooks",
      "error hooks",
      "hook context",
      "hook functions",
      "hook flow",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "custom methods",
      "setup",
      "teardown",
      "authentication",
      "github",
      "schema",
      "resolver",
      "validation",
      "database",
      "mongodb",
      "real-time",
      "events",
      "socket.io",
      "rest",
      "http",
      "transport",
      "express",
      "client",
      "configuration",
      "declarations",
      "cli",
      "generator",
      "logging",
      "users"
    ],
    "embedding": [
      0.016058,
      0.01493,
      -0.074994,
      0.035169,
      -0.004324,
      -0.011149,
      -0.020583,
      0.037334,
      -0.027992,
      0.004896,
      -0.001833,
      0.001037,
      0.004498,
      0.017237,
      0.017601,
      0.015158,
      -0.025726,
      -0.023868,
      0.014327,
      -0.03686,
      -0.061111,
      0.040901,
      0.010871,
      0.000441,
      0.012057,
      0.041138,
      -0.04254,
      -0.049781,
      -0.029798,
      -0.016294,
      0.024067,
      0.03456,
      -0.02956,
      -0.010751,
      -0.04822,
      -0.012314,
      -0.010585,
      0.008947,
      -0.04272,
      0.062542,
      -0.016837,
      0.003817,
      -0.023512,
      -0.00527,
      0.03211,
      -0.022368,
      0.006196,
      0.005392,
      -0.004071,
      -0.037534,
      -0.026121,
      -0.004571,
      0.016254,
      -0.059614,
      0.049916,
      0.043815,
      -0.042417,
      -0.031499,
      -0.052364,
      0.023639,
      -0.028897,
      0.013605,
      -0.021271,
      0.020158,
      -0.001315,
      0.059406,
      -0.011667,
      -0.031395,
      -0.037117,
      -0.020395,
      0.013469,
      0.005089,
      -0.004977,
      -0.012333,
      -0.046438,
      0.031906,
      0.007693,
      0.000541,
      0.006137,
      0.033419,
      -0.022198,
      -0.011614,
      0.012308,
      -0.007673,
      -0.005009,
      0.021431,
      -0.055767,
      0.001225,
      0.00139,
      0.020116,
      0.023844,
      -0.001525,
      0.059372,
      -0.045916,
      -0.007913,
      0.026503,
      -0.052454,
      -0.011511,
      0.027787,
      0.012077,
      -0.009551,
      0.025009,
      0.005241,
      -0.018214,
      0.036011,
      0.048701,
      0.035157,
      0.01556,
      0.005016,
      -0.033528,
      0.036984,
      -0.025439,
      -0.004247,
      0.013932,
      -0.010169,
      -0.020127,
      -0.018751,
      0.015325,
      -0.013294,
      -0.005342,
      0.011974,
      0.062088,
      0.041623,
      0.002688,
      -0.02569,
      -0.005538,
      0.000568,
      0.037258,
      0.004398,
      0.02198,
      0.005797,
      -0.013114,
      -0.016581,
      0.032985,
      -0.054262,
      0.00784,
      -0.006101,
      -0.023778,
      0.00613,
      -0.015256,
      0.045598,
      0.007296,
      -0.056274,
      -0.000109,
      0.017764,
      -0.019775,
      0.015711,
      0.035667,
      -0.005643,
      -0.007332,
      0.039534,
      0.003617,
      -0.01159,
      -0.039975,
      0.002237,
      -0.051052,
      0.021455,
      0.032644,
      0.013909,
      0.012847,
      0.019248,
      0.003088,
      -0.033295,
      -0.000691,
      0.063169,
      -0.008147,
      -0.006958,
      -0.05278,
      -0.01374,
      -0.016302,
      -0.004643,
      -0.030794,
      0.039703,
      0.003601,
      0.008751,
      0.035832,
      0.085404,
      0.01973,
      0.004179,
      -0.036476,
      -0.051519,
      0.030471,
      0.006736,
      -0.071814,
      -0.026108,
      -0.013151,
      -0.006978,
      -0.009606,
      -0.023363,
      0.032559,
      -0.026719,
      -0.015851,
      0.062697,
      0.023346,
      -0.021246,
      -0.009152,
      0.015099,
      0.013655,
      0.031503,
      0.001938,
      0.039235,
      0.011849,
      0.017383,
      0.013203,
      -0.054141,
      -0.021893,
      -0.016376,
      -0.060247,
      0.005979,
      -0.018178,
      0.030729,
      0.031527,
      -0.007483,
      -0.033679,
      -0.010064,
      0.021421,
      -0.008844,
      -0.018974,
      -0.002054,
      -0.032374,
      0.006176,
      0.011376,
      0.023311,
      0.00139,
      0.008268,
      0.014802,
      0.013019,
      0.043047,
      0.000511,
      -0.003226,
      -0.013943,
      0.007504,
      0.038826,
      -0.047637,
      -0.00303,
      -0.028978,
      0.000179,
      0.019858,
      0.019136,
      0.011342,
      -0.022527,
      -0.016266,
      0.060232,
      -0.000949,
      -0.031773,
      -0.00564,
      0.068099,
      0.007586,
      -0.040879,
      -0.008357,
      -0.007362,
      -0.000425,
      -0.037887,
      0.006447,
      0.041489,
      0.016651,
      0.012404,
      0.005308,
      -0.015039,
      -0.060757,
      -0.011923,
      0.047513,
      0.014645,
      0.009418,
      0.031188,
      -0.001235,
      -0.045776,
      -0.045645,
      0.002955,
      0.016284,
      -0.014699,
      -0.01836,
      0.055347,
      -0.020058,
      -0.020706,
      0.006432,
      0.030529,
      -0.058855,
      0.083808,
      0.003834,
      0.02375,
      -0.011852,
      0.048967,
      0.046923,
      0.000396,
      0.023068,
      -0.02109,
      -0.016603,
      0.040607,
      -0.028813,
      0.030968,
      -0.008802,
      0.051887,
      -0.022554,
      -0.025526,
      0.019615,
      0.009118,
      -0.154263,
      -0.03075,
      0.027788,
      -0.015694,
      0.035575,
      0.009106,
      -0.013034,
      -0.005445,
      -0.01202,
      0.035332,
      -0.007652,
      -0.062205,
      -0.008633,
      -0.02287,
      0.029258,
      0.000155,
      0.001681,
      -0.01648,
      0.028373,
      -0.039503,
      -0.013948,
      -0.013805,
      0.011085,
      -0.004908,
      -0.018876,
      0.008608,
      0.033467,
      -0.022817,
      -0.036517,
      0.0024,
      0.012159,
      -0.005717,
      0.002281,
      0.016936,
      0.02504,
      0.014391,
      0.023864,
      -0.003794,
      -0.009505,
      -0.006757,
      0.029297,
      0.027916,
      -0.002229,
      0.00951,
      0.000197,
      -0.050214,
      0.050252,
      0.016904,
      -0.027905,
      -0.007105,
      -0.010345,
      -0.013456,
      0.022305,
      0.014004,
      -0.02457,
      -0.01888,
      0.023524,
      0.073214,
      -0.016969,
      0.011491,
      -0.011945,
      -0.025387,
      0.039363,
      0.02199,
      -0.031681,
      -0.030513,
      -0.007836,
      -0.004121,
      0.002833,
      -0.052126,
      0.061094,
      -0.065237,
      0.00108,
      0.021439,
      0.003389,
      0.008151,
      0.026635,
      0.001591,
      -0.032004,
      -0.110907,
      -0.0202,
      0.002206,
      -0.020284,
      -0.004187,
      -0.033547,
      0.022047,
      -0.019731,
      -0.018051,
      0.042039,
      0.233297,
      0.010849,
      0.000187,
      -0.003052,
      0.095333,
      0.007174,
      0.017334,
      0.048773,
      0.025181,
      -0.046186,
      -0.020725,
      -0.000824,
      0.000042,
      -0.010158,
      -0.035427,
      0.000899,
      -0.068395,
      0.009944,
      0.08241,
      -0.002039,
      0.032182,
      -0.012985,
      0.040279,
      0.041561,
      -0.087513,
      -0.03756,
      -0.016124,
      -0.013151,
      0.003576,
      -0.006253,
      -0.032162,
      -0.008916,
      0.0172,
      -0.045761,
      -0.070038,
      -0.002284,
      -0.027895,
      -0.018133,
      -0.03566,
      -0.00989,
      -0.00737,
      -0.007354,
      0.029308,
      -0.007811,
      -0.003696,
      -0.019482,
      -0.036692,
      -0.008222,
      -0.045395,
      -0.005092,
      -0.016447,
      0.003019,
      -0.009349,
      -0.004716,
      -0.01323,
      -0.023522,
      0.004581,
      0.000704,
      0.013866,
      0.015253,
      0.03075,
      0.012924,
      -0.045374,
      0.020852,
      -0.027094,
      0.013395,
      0.029835,
      -0.040664,
      0.004797,
      0.063203,
      0.010837,
      0.000771,
      0.018366,
      -0.003003,
      -0.004778,
      -0.027987,
      0.033157,
      0.054599,
      -0.01547,
      0.032296,
      -0.035934,
      -0.017676,
      -0.01912,
      0.015375,
      0.016424,
      0.006474,
      -0.041816,
      0.080706,
      0.00334,
      -0.025002,
      -0.03142,
      0.005431,
      -0.037263,
      0.020478,
      -0.013808,
      0.035265,
      0.016685,
      -0.025766,
      -0.004572,
      -0.043295,
      0.04459,
      -0.008581,
      0.009495,
      -0.004322,
      0.051863,
      0.002446,
      -0.049311,
      0.010862,
      0.02021,
      -0.00389,
      -0.040558,
      0.003224,
      0.048752,
      -0.047465,
      0.033443,
      0.041928,
      0.080682,
      0.027294,
      0.048577,
      0.03293,
      -0.00576,
      0.028472,
      -0.009193,
      -0.00705,
      0.014497,
      -0.042947,
      -0.022503,
      -0.016883,
      0.001396,
      0.07291,
      0.034439,
      -0.035125,
      -0.002962,
      0.078596,
      0.040618,
      0.050413,
      0.038171,
      0.020115,
      -0.005294,
      0.015529,
      -0.001449,
      -0.016547,
      -0.010039,
      0.007513,
      -0.014186,
      0.025812,
      -0.018728,
      0.014244,
      -0.031356,
      -0.003443,
      0.035047,
      0.081163,
      -0.006655,
      -0.055749,
      -0.018741,
      -0.030175,
      -0.005361,
      0.007644,
      -0.013698,
      -0.011653,
      -0.051422,
      -0.004918,
      -0.011572,
      0.028881,
      0.020725,
      -0.026597,
      0.048096,
      0.043521,
      -0.003252,
      -0.021517,
      -0.038898,
      -0.060429,
      -0.034618,
      0.044883,
      -0.02986,
      -0.036143,
      -0.069076,
      0.003657,
      -0.024384,
      -0.022506,
      0.002507,
      0.045443,
      -0.010127,
      0.001084,
      -0.010251,
      0.017592,
      0.01746,
      -0.0181,
      -0.012166,
      -0.023738,
      -0.020266,
      0.140502,
      0.030646,
      -0.006312,
      0.053021,
      -0.025291,
      0.052372,
      0.021542,
      0.012067,
      -0.026414,
      -0.042924,
      0.001721,
      -0.00917,
      0.056326,
      0.002037,
      -0.002724,
      0.027075,
      0.014173,
      -0.07735,
      0.041473,
      0.02311,
      0.001174,
      -0.01529,
      -0.022018,
      -0.01605,
      -0.019699,
      0.03221,
      0.051891,
      0.016902,
      -0.045329,
      -0.043153,
      -0.020742,
      0.028978,
      -0.017591,
      0.01327,
      0.01487,
      0.031208,
      0.019751,
      -0.000382,
      -0.014381,
      -0.000839,
      -0.013249,
      0.029943,
      -0.046907,
      0.001497,
      -0.007138,
      0.030162,
      0.001242,
      0.006127,
      -0.025514,
      0.044079,
      0.040049,
      0.052237,
      0.008505,
      -0.016025,
      0.010983,
      0.008602,
      -0.050878,
      -0.022374,
      0.031997,
      -0.025809,
      0.005274,
      0.021959,
      -0.014706,
      0.01083,
      0.019444,
      0.011995,
      -0.041668,
      -0.019892,
      -0.028159,
      0.022368,
      0.012666,
      -0.017929,
      0.012669,
      -0.020275,
      -0.022915,
      0.049883,
      0.001621,
      -0.026775,
      0.000128,
      -0.029677,
      0.002864,
      -0.001385,
      -0.070258,
      0.005426,
      0.011453,
      -0.047572,
      -0.045169,
      0.002705,
      -0.007079,
      -0.022845,
      0.024055,
      0.052686,
      0.007826,
      -0.009385,
      0.056881,
      -0.002133,
      0.012294,
      0.002089,
      -0.042885,
      0.024995,
      -0.021853,
      -0.010463,
      -0.012328,
      -0.043991,
      -0.003275,
      -0.004825,
      0.023845,
      -0.023215,
      0.023733,
      -0.020644,
      0.002602,
      0.012075,
      -0.027755,
      -0.018371,
      0.018417,
      -0.022512,
      -0.079723,
      0.040576,
      0.015863,
      -0.018306,
      -0.024734,
      0.021265,
      0.027648,
      0.063141,
      -0.017698,
      0.047499,
      -0.038534,
      -0.012838,
      -0.022125,
      0.031463,
      -0.002188,
      -0.029861,
      0.012,
      -0.007335,
      0.004043,
      0.013414,
      -0.024245,
      -0.050973,
      -0.004856,
      -0.056466,
      -0.009,
      -0.006457,
      -0.039391,
      -0.018229,
      0.007255,
      0.017019,
      -0.003665,
      -0.002739,
      -0.056073,
      -0.014238,
      0.017499,
      0.074337,
      -0.036889,
      0.012617,
      -0.042302,
      -0.001909,
      -0.023815,
      0.024723,
      0.006705,
      -0.030987,
      -0.007146,
      -0.021607,
      -0.042228,
      0.010981,
      0.02679,
      -0.026584,
      -0.022042,
      0.034897,
      0.001728,
      -0.016115,
      0.053002,
      -0.00923,
      -0.026367,
      0.033455,
      -0.002112,
      0.023846,
      -0.053945,
      -0.001322,
      -0.032351,
      -0.012199,
      -0.022035,
      0.016137,
      -0.02941,
      -0.035477,
      0.008115,
      -0.020515,
      0.017525,
      -0.017344,
      -0.017882,
      -0.041133,
      -0.048492,
      -0.01043,
      0.001985,
      -0.039578,
      -0.012838,
      -0.022876,
      0.028038,
      0.024965,
      0.001021,
      -0.009691,
      0.045733,
      -0.015351,
      0.03341,
      -0.146954,
      0.017587,
      -0.003605,
      0.030058,
      -0.0172,
      0.021167,
      0.023131,
      -0.017539,
      0.004544,
      -0.015938,
      0.00908,
      0.004529,
      0.002133,
      -0.035576,
      -0.030484,
      0.030897,
      -0.017764,
      -0.006605,
      0.003651,
      -0.035439,
      -0.000476,
      -0.005398,
      0.004213,
      -0.034577,
      -0.004982,
      0.035145,
      -0.049988,
      -0.036355,
      -0.017604,
      -0.00307,
      -0.027346,
      -0.034562,
      -0.003968,
      0.019611,
      -0.008199,
      0.035648,
      0.004654,
      0.009695,
      -0.02727,
      0.004054,
      -0.037445,
      0.022606,
      -0.033866,
      0.02382,
      0.030257,
      0.005429,
      -0.010692,
      -0.043802,
      -0.024167,
      -0.011796,
      0.024219,
      0.007832,
      0.022139,
      0.045634,
      -0.009476,
      0.006361,
      -0.027915,
      0.025216,
      -0.046425,
      0.043751,
      -0.024775,
      0.052557,
      -0.041466,
      -0.030881,
      -0.049141,
      0.009513,
      -0.035392,
      0.035845,
      -0.000219,
      -0.003731,
      -0.020068,
      -0.022504,
      -0.073121,
      0.003885,
      0.034776,
      -0.023468,
      0.048837,
      -0.013477,
      -0.022765,
      0.005652,
      -0.023872,
      -0.030707,
      -0.079281,
      0.078902,
      0.039909,
      0.0219,
      0.008912,
      0.025839,
      -0.012507,
      -0.033183,
      -0.025705,
      -0.02965,
      0.006777,
      0.0549,
      -0.016136,
      0.009736,
      -0.014521,
      0.004552,
      0.008309,
      0.002591,
      -0.027109,
      0.003217,
      0.014848,
      0.017144,
      -0.030275,
      0.007251,
      0.015562,
      0.03702,
      -0.023829,
      -0.003466,
      0.033127,
      -0.031451,
      -0.015653,
      0.025717,
      -0.061473,
      -0.011278,
      0.01906,
      0.048116,
      0.006825,
      0.026361,
      -0.002776,
      -0.013436,
      0.007138,
      -0.01451,
      0.01818,
      0.012274,
      0.05595,
      0.020011,
      0.002518,
      -0.011372,
      0.055948,
      -0.067174,
      -0.017665,
      0.016525,
      0.033199,
      -0.031708,
      -0.103101,
      0.042891,
      -0.043549,
      0.017688,
      -0.005224,
      -0.008994,
      0.023414,
      -0.020516,
      -0.024894,
      -0.042683,
      -0.000837,
      -0.002439,
      0.011888,
      -0.001685,
      0.000156,
      -0.002639,
      -0.012163,
      0.072737,
      -0.001668,
      0.055405,
      -0.002254,
      0.046609,
      -0.075456,
      0.042145,
      -0.012827,
      -0.019503,
      -0.037736,
      -0.041097,
      -0.009294,
      0.017973,
      -0.028669,
      0.002924,
      -0.009705,
      0.000469,
      -0.003676,
      0.064432,
      -0.022074,
      -0.005395,
      -0.007032,
      0.000203,
      0.02303,
      -0.0001,
      0.049314,
      -0.016583,
      0.044718,
      -0.003183,
      0.047071,
      0.002657,
      0.004811,
      -0.016428,
      0.020571,
      0.03573,
      0.027906,
      -0.010625,
      -0.021866,
      0.001818,
      0.036317,
      0.003773,
      0.009947,
      0.016369,
      0.00225,
      -0.013726,
      0.011962,
      0.079432,
      -0.021176,
      -0.005202,
      -0.010116,
      -0.005328,
      -0.006377,
      0.010164,
      -0.021951,
      -0.019331,
      -0.023655,
      0.020684,
      -0.003459,
      -0.004245,
      0.006046,
      0.0207,
      0.002786,
      0.037439,
      0.000056,
      0.006805,
      -0.009962,
      -0.010746,
      0.037075,
      0.043705,
      -0.039372,
      -0.054149,
      -0.035491,
      0.001087,
      -0.009821,
      -0.032267,
      -0.013932,
      0.001628,
      -0.046698,
      -0.023227,
      -0.005941,
      0.062058,
      -0.002461,
      -0.007324,
      -0.024032,
      0.043806,
      -0.030464,
      -0.011697,
      0.047264,
      0.023836,
      0.008446,
      -0.021148
    ]
  },
  {
    "id": "v5-index-0",
    "content": "# API\nBreadcrumb: API\nCovers: Core | Transports | Authentication | Client | Schema | Databases\nTopics: hooks, services, application, provider, authentication, jwt, oauth, facebook, schema, resolver, typebox, validation, validators, database, adapter, mongodb, knex, memory, querying, collection, real-time, channels, events, socket.io, rest, transport, express, koa, middleware, browser, feathers client, client, configuration, errors, cli, login\n\n## Core\n\nFeathers core functionality that works on the client and the server\n\n- [Application](./application.md) - The main Feathers application API\n- [Services](./services.md) - Service objects and their methods and Feathers specific functionality\n- [Hooks](./hooks.md) - Pluggable middleware for service methods\n- [Events](./events.md) - Events sent by Feathers service methods\n- [Errors](./errors.md) - A collection of error classes used throughout Feathers\n\n## Transports\n\nExpose a Feathers application as an API server\n\n- [Configuration](./configuration.md) - A node-config wrapper to initialize configuration of a server side application.\n- [Koa](./koa.md) - Feathers KoaJS framework bindings, REST API provider and error middleware.\n- [Express](./express.md) - Feathers Express framework bindings, REST API provider and error middleware.\n- [Socket.io](./socketio.md) - The Socket.io real-time transport provider\n- [Channels](./channels.md) - Channels are used to send real-time events to clients\n\n## Authentication\n\nFeathers authentication mechanism\n\n- [Service](./authentication/service.md) - The main authentication service configuration\n- [Hook](./authentication/hook.md) - The hook used to authenticate service method calls\n- [Strategies](./authentication/strategy.md) - More about authentication strategies\n- [Local](./authentication/local.md) - Local email/password authentication\n- [JWT](./authentication/jwt.md) - JWT authentication\n- [OAuth](./authentication/oauth.md) - Using OAuth logins (Facebook, Twitter etc.)\n\n## Client\n\nMore details on how to use Feathers on the client\n\n- [Usage](./client.md) - Feathers client usage in Node, React Native and the browser (also with Webpack and Browserify)\n- [REST](./client/rest.md) - Feathers client and direct REST API server usage\n- [Socket.io](./client/socketio.md) - Feathers client and direct Socket.io API server usage\n- [Authentication](authentication/client) - A client for Feathers authentication\n\n## Schema\n\nModel definitions for validating and resolving data.\n\n- [TypeBox](./schema/typebox.md) - Integration for TypeBox, a JSON schema type builder\n- [JSON schema](./schema/schema.md) - JSON schema integration\n- [Validators](./schema/validators.md) - Schema validators and validation hooks\n- [Resolvers](./schema/resolvers.md) - Dynamic data resolvers\n\n## Databases\n\nFeathers common database adapter API and querying mechanism\n\n- [Adapters](./databases/adapters.md) - A list of supported database adapters\n- [Common API](./databases/common.md) - Database adapter common initialization and configuration API\n- [Querying](./databases/querying.md) - The common querying mechanism\n- [MongoDB](./databases/querying.md) - The adapter for MongoDB databases\n- [SQL](./databases/knex.md) - The adapter for SQL databases using KnexJS\n- [Memory](./databases/memory.md) - The adapter for in-memory data storage",
    "rawContent": "## Core\n\nFeathers core functionality that works on the client and the server\n\n- [Application](./application.md) - The main Feathers application API\n- [Services](./services.md) - Service objects and their methods and Feathers specific functionality\n- [Hooks](./hooks.md) - Pluggable middleware for service methods\n- [Events](./events.md) - Events sent by Feathers service methods\n- [Errors](./errors.md) - A collection of error classes used throughout Feathers\n\n## Transports\n\nExpose a Feathers application as an API server\n\n- [Configuration](./configuration.md) - A node-config wrapper to initialize configuration of a server side application.\n- [Koa](./koa.md) - Feathers KoaJS framework bindings, REST API provider and error middleware.\n- [Express](./express.md) - Feathers Express framework bindings, REST API provider and error middleware.\n- [Socket.io](./socketio.md) - The Socket.io real-time transport provider\n- [Channels](./channels.md) - Channels are used to send real-time events to clients\n\n## Authentication\n\nFeathers authentication mechanism\n\n- [Service](./authentication/service.md) - The main authentication service configuration\n- [Hook](./authentication/hook.md) - The hook used to authenticate service method calls\n- [Strategies](./authentication/strategy.md) - More about authentication strategies\n- [Local](./authentication/local.md) - Local email/password authentication\n- [JWT](./authentication/jwt.md) - JWT authentication\n- [OAuth](./authentication/oauth.md) - Using OAuth logins (Facebook, Twitter etc.)\n\n## Client\n\nMore details on how to use Feathers on the client\n\n- [Usage](./client.md) - Feathers client usage in Node, React Native and the browser (also with Webpack and Browserify)\n- [REST](./client/rest.md) - Feathers client and direct REST API server usage\n- [Socket.io](./client/socketio.md) - Feathers client and direct Socket.io API server usage\n- [Authentication](authentication/client) - A client for Feathers authentication\n\n## Schema\n\nModel definitions for validating and resolving data.\n\n- [TypeBox](./schema/typebox.md) - Integration for TypeBox, a JSON schema type builder\n- [JSON schema](./schema/schema.md) - JSON schema integration\n- [Validators](./schema/validators.md) - Schema validators and validation hooks\n- [Resolvers](./schema/resolvers.md) - Dynamic data resolvers\n\n## Databases\n\nFeathers common database adapter API and querying mechanism\n\n- [Adapters](./databases/adapters.md) - A list of supported database adapters\n- [Common API](./databases/common.md) - Database adapter common initialization and configuration API\n- [Querying](./databases/querying.md) - The common querying mechanism\n- [MongoDB](./databases/querying.md) - The adapter for MongoDB databases\n- [SQL](./databases/knex.md) - The adapter for SQL databases using KnexJS\n- [Memory](./databases/memory.md) - The adapter for in-memory data storage",
    "breadcrumb": "API",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/index.md",
    "heading": "API",
    "subHeadings": [
      "Core",
      "Transports",
      "Authentication",
      "Client",
      "Schema",
      "Databases"
    ],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 717,
    "category": "services",
    "tags": [
      "hooks",
      "services",
      "application",
      "provider",
      "authentication",
      "jwt",
      "oauth",
      "facebook",
      "schema",
      "resolver",
      "typebox",
      "validation",
      "validators",
      "database",
      "adapter",
      "mongodb",
      "knex",
      "memory",
      "querying",
      "collection",
      "real-time",
      "channels",
      "events",
      "socket.io",
      "rest",
      "transport",
      "express",
      "koa",
      "middleware",
      "browser",
      "feathers client",
      "client",
      "configuration",
      "errors",
      "cli",
      "login"
    ],
    "embedding": [
      0.007333,
      0.00625,
      -0.066157,
      -0.007672,
      -0.025718,
      -0.023211,
      0.009694,
      0.031048,
      -0.014741,
      0.021261,
      -0.012306,
      -0.007325,
      -0.018723,
      0.01725,
      0.013034,
      0.020579,
      -0.012128,
      -0.040277,
      0.013298,
      -0.043969,
      -0.047963,
      0.007405,
      0.008211,
      -0.001308,
      0.023615,
      0.014237,
      -0.014283,
      -0.031024,
      -0.002214,
      0.02779,
      0.017869,
      0.02566,
      -0.007719,
      0.016937,
      -0.03756,
      -0.034684,
      0.007356,
      0.011654,
      -0.054809,
      0.040797,
      -0.019799,
      -0.016467,
      0.001957,
      0.001418,
      0.013434,
      -0.031209,
      0.017272,
      -0.026224,
      -0.005855,
      -0.000064,
      -0.056062,
      -0.012991,
      0.014506,
      -0.011898,
      0.047441,
      0.007774,
      -0.046999,
      -0.007153,
      -0.057717,
      0.005042,
      -0.008527,
      0.028501,
      0.00802,
      -0.016509,
      -0.013027,
      0.035196,
      -0.011887,
      0.000197,
      -0.025038,
      -0.038924,
      0.004829,
      0.012616,
      0.013928,
      0.010857,
      -0.046883,
      0.009005,
      0.033349,
      0.012957,
      -0.021285,
      0.029176,
      -0.029281,
      -0.025392,
      -0.005717,
      0.003983,
      -0.023878,
      0.002121,
      -0.067925,
      0.037851,
      0.041567,
      0.024196,
      0.006828,
      -0.038364,
      0.056067,
      -0.046831,
      -0.054842,
      0.024052,
      -0.026432,
      0.005642,
      0.034972,
      0.035029,
      0.007805,
      0.01063,
      0.014124,
      -0.048715,
      0.038642,
      0.045989,
      0.051731,
      -0.002365,
      -0.02233,
      -0.024651,
      -0.005382,
      -0.029773,
      0.023252,
      0.027337,
      -0.036964,
      -0.0153,
      0.011002,
      -0.008117,
      -0.017124,
      0.002323,
      0.010493,
      0.038424,
      0.030079,
      -0.028449,
      -0.012545,
      0.011317,
      -0.010035,
      0.029652,
      0.033475,
      0.014013,
      0.015436,
      -0.069232,
      -0.013016,
      -0.010009,
      -0.048422,
      0.008091,
      0.02823,
      0.022457,
      -0.013636,
      -0.057417,
      0.040337,
      -0.013857,
      -0.018911,
      -0.024044,
      0.039939,
      -0.028718,
      0.071493,
      0.042326,
      -0.043028,
      -0.002436,
      0.038351,
      -0.033398,
      0.002481,
      -0.016036,
      0.000912,
      -0.050018,
      0.01969,
      0.012387,
      0.057207,
      -0.017151,
      0.007437,
      0.021481,
      -0.023617,
      0.011917,
      0.052811,
      -0.02232,
      0.04072,
      -0.041541,
      -0.000248,
      -0.036714,
      0.010274,
      -0.004531,
      0.001079,
      -0.008695,
      0.043178,
      0.015863,
      0.09728,
      0.03338,
      0.015535,
      -0.028653,
      -0.023992,
      -0.020726,
      -0.012086,
      -0.043079,
      0.006931,
      -0.012303,
      -0.007972,
      -0.034123,
      -0.028773,
      0.048458,
      -0.024961,
      -0.003688,
      0.038731,
      -0.00694,
      0.005629,
      0.015303,
      0.020137,
      0.020601,
      0.022374,
      0.025784,
      0.034004,
      0.01998,
      0.050764,
      0.025854,
      -0.038071,
      -0.032712,
      0.000703,
      -0.024099,
      -0.005918,
      -0.064249,
      0.025414,
      -0.011969,
      -0.01976,
      -0.017719,
      -0.020391,
      0.008538,
      -0.041866,
      -0.020353,
      -0.009176,
      -0.012022,
      0.033309,
      0.017167,
      0.008771,
      -0.008233,
      0.035068,
      -0.005763,
      0.010343,
      0.000152,
      -0.017905,
      -0.024789,
      0.003394,
      0.051144,
      0.019573,
      -0.023651,
      0.015688,
      -0.018553,
      -0.029054,
      -0.000353,
      0.020768,
      0.041594,
      0.011851,
      -0.041368,
      0.027502,
      -0.026798,
      -0.018041,
      0.000625,
      0.046213,
      -0.007214,
      -0.039972,
      -0.013182,
      -0.032444,
      -0.001217,
      -0.00844,
      -0.011319,
      0.013206,
      -0.017355,
      0.042432,
      -0.003885,
      0.018142,
      -0.039802,
      0.009495,
      0.015786,
      0.020238,
      0.01872,
      0.024311,
      0.002527,
      -0.025414,
      -0.048804,
      0.017306,
      0.023901,
      -0.042247,
      0.01894,
      0.040494,
      -0.001401,
      -0.008476,
      0.015832,
      0.010928,
      -0.047268,
      0.110163,
      0.052259,
      -0.000522,
      0.012115,
      0.026459,
      0.056503,
      0.010139,
      0.047183,
      0.007171,
      -0.017358,
      0.0158,
      -0.057576,
      0.011353,
      0.000209,
      0.070441,
      0.01934,
      -0.029765,
      0.028924,
      -0.002319,
      -0.147643,
      -0.009323,
      0.034723,
      0.019191,
      -0.005057,
      0.027703,
      -0.034136,
      0.00273,
      -0.064223,
      0.02701,
      0.022573,
      -0.057079,
      -0.06504,
      -0.005906,
      0.009838,
      -0.01895,
      0.020414,
      0.001648,
      0.058349,
      -0.038159,
      -0.045731,
      -0.035573,
      0.051236,
      0.022125,
      0.028693,
      -0.011761,
      0.024569,
      0.035526,
      -0.046647,
      -0.001894,
      -0.002913,
      -0.000605,
      0.006118,
      0.02393,
      0.006168,
      -0.030321,
      0.003809,
      0.000289,
      -0.021008,
      -0.032928,
      0.019411,
      0.028267,
      0.015632,
      -0.025623,
      0.022207,
      -0.069438,
      0.067493,
      0.008804,
      -0.029945,
      -0.036546,
      0.037634,
      -0.038724,
      0.023933,
      -0.007894,
      -0.06063,
      -0.01302,
      0.015108,
      0.064133,
      -0.004601,
      -0.004064,
      0.001845,
      0.011855,
      0.058846,
      -0.013767,
      -0.013815,
      -0.01127,
      0.02649,
      0.028429,
      0.00635,
      -0.043995,
      0.051928,
      -0.06126,
      -0.017499,
      -0.002826,
      -0.039074,
      -0.022025,
      -0.015952,
      -0.016212,
      -0.030245,
      -0.096701,
      0.024586,
      0.010278,
      -0.006704,
      0.007888,
      -0.028717,
      -0.02048,
      -0.035239,
      -0.005613,
      0.05375,
      0.262794,
      -0.01045,
      -0.018722,
      0.022021,
      0.07589,
      -0.01592,
      0.014127,
      0.055161,
      0.004755,
      -0.020112,
      0.042188,
      0.00062,
      0.024924,
      -0.016827,
      -0.032558,
      -0.010937,
      -0.050442,
      0.011536,
      0.05679,
      -0.01631,
      0.024291,
      -0.030633,
      0.016502,
      0.022049,
      -0.075101,
      -0.037895,
      -0.000169,
      0.042941,
      -0.037447,
      0.017917,
      -0.033986,
      -0.008176,
      0.006354,
      -0.042049,
      -0.071561,
      -0.016075,
      -0.033539,
      0.022132,
      0.001783,
      0.006364,
      -0.011483,
      -0.017383,
      0.036823,
      -0.009178,
      0.016661,
      -0.009991,
      0.006422,
      -0.002817,
      -0.02505,
      -0.038274,
      -0.05294,
      -0.002601,
      -0.020377,
      0.018168,
      -0.02236,
      -0.041231,
      -0.005684,
      -0.01825,
      -0.008439,
      0.013038,
      0.060869,
      0.012275,
      -0.102307,
      0.036296,
      0.018446,
      0.015835,
      0.02725,
      -0.062867,
      0.012094,
      0.024994,
      -0.009608,
      0.026582,
      0.019338,
      -0.004647,
      0.015559,
      0.018528,
      0.029336,
      0.042785,
      -0.029407,
      0.031294,
      -0.021829,
      0.008821,
      -0.009976,
      0.009918,
      0.024378,
      0.028981,
      -0.009523,
      0.014491,
      0.020399,
      -0.036361,
      -0.020797,
      -0.005736,
      -0.007753,
      0.02639,
      0.011459,
      0.03527,
      0.010275,
      0.001738,
      0.019878,
      -0.036674,
      0.036055,
      0.017284,
      -0.006835,
      -0.022591,
      0.053699,
      -0.030715,
      0.003069,
      0.025279,
      0.014499,
      -0.023748,
      -0.048949,
      0.003781,
      0.02302,
      -0.027789,
      0.001555,
      -0.017294,
      0.060425,
      0.033383,
      0.042404,
      0.044325,
      -0.024063,
      0.018112,
      0.005532,
      -0.000456,
      0.009978,
      -0.060175,
      -0.013292,
      -0.031569,
      -0.022192,
      0.097574,
      0.041828,
      -0.045615,
      0.016145,
      0.038186,
      -0.006579,
      0.021729,
      0.024196,
      0.031365,
      0.005705,
      -0.016372,
      -0.032358,
      -0.025928,
      -0.014198,
      0.018622,
      -0.0018,
      -0.002323,
      0.011893,
      0.011517,
      -0.005252,
      -0.022391,
      0.008391,
      0.063758,
      0.001198,
      -0.033197,
      -0.008326,
      -0.051546,
      -0.005783,
      0.001901,
      0.00985,
      -0.013904,
      -0.022382,
      -0.006159,
      0.020242,
      0.023419,
      0.038213,
      0.003634,
      0.074535,
      0.022266,
      0.010202,
      -0.023616,
      -0.027945,
      -0.060778,
      -0.056686,
      0.085838,
      0.006051,
      -0.026455,
      -0.059518,
      -0.007339,
      0.036438,
      -0.037102,
      0.008332,
      0.012425,
      -0.009966,
      -0.030542,
      -0.025413,
      0.071993,
      0.018394,
      -0.010135,
      -0.005898,
      -0.023282,
      -0.034807,
      0.089703,
      -0.013287,
      0.020905,
      0.053281,
      -0.025972,
      0.004715,
      0.017537,
      0.013867,
      0.015093,
      0.002918,
      0.013267,
      0.016192,
      0.010421,
      -0.005862,
      -0.033472,
      0.015172,
      0.018062,
      -0.020019,
      0.037841,
      0.017041,
      0.031759,
      -0.039984,
      -0.01402,
      0.011115,
      -0.029345,
      0.049134,
      0.046305,
      0.030452,
      -0.007349,
      -0.020341,
      -0.022333,
      0.019257,
      -0.04673,
      -0.006105,
      0.018891,
      0.011789,
      0.014299,
      0.016263,
      0.017229,
      -0.003519,
      0.015632,
      0.006381,
      -0.069403,
      0.008767,
      -0.025594,
      0.036531,
      0.003884,
      0.017401,
      -0.002648,
      0.031987,
      -0.016571,
      0.013006,
      0.030325,
      -0.0196,
      0.009679,
      0.004992,
      0.013742,
      -0.042808,
      0.02036,
      -0.022296,
      -0.005883,
      0.014518,
      -0.024762,
      0.018103,
      0.001496,
      0.06527,
      -0.027204,
      -0.016228,
      -0.016672,
      -0.015316,
      0.031654,
      -0.00414,
      -0.012036,
      -0.026582,
      -0.049797,
      -0.001385,
      -0.042372,
      -0.044724,
      -0.011435,
      -0.00745,
      -0.006151,
      -0.028885,
      -0.067763,
      0.005902,
      0.008303,
      -0.031297,
      -0.008926,
      0.014933,
      0.002317,
      -0.054907,
      -0.007427,
      0.021703,
      0.009166,
      0.019936,
      0.034967,
      0.011041,
      0.001583,
      0.009103,
      -0.050112,
      0.012143,
      0.021146,
      -0.016209,
      0.042946,
      -0.051603,
      -0.003089,
      -0.019182,
      0.025721,
      -0.018914,
      0.000045,
      -0.007294,
      0.024809,
      0.002432,
      -0.040286,
      0.00581,
      0.02607,
      -0.016352,
      -0.080472,
      0.028458,
      0.017719,
      -0.00016,
      -0.021485,
      0.028936,
      0.035847,
      0.032733,
      -0.034652,
      0.04699,
      -0.049309,
      0.008794,
      -0.02095,
      0.024558,
      0.005377,
      -0.020619,
      0.010063,
      0.019172,
      -0.029856,
      0.016947,
      -0.013802,
      -0.030738,
      0.034606,
      -0.048634,
      -0.014137,
      -0.009321,
      -0.023256,
      -0.009862,
      0.037246,
      0.038683,
      -0.039061,
      0.005028,
      -0.025632,
      -0.013288,
      -0.001368,
      0.064164,
      -0.019667,
      0.014423,
      -0.021056,
      -0.002792,
      -0.020477,
      -0.00927,
      -0.005274,
      -0.002651,
      -0.021981,
      0.000978,
      -0.048424,
      0.013158,
      0.011163,
      -0.052095,
      0.000518,
      -0.018528,
      -0.001695,
      -0.003106,
      0.065876,
      -0.013287,
      -0.031132,
      0.033187,
      0.002165,
      0.036233,
      -0.030341,
      0.016012,
      -0.042971,
      -0.024548,
      0.015497,
      0.012812,
      -0.009567,
      -0.031701,
      0.036694,
      -0.023056,
      0.026446,
      -0.004664,
      -0.037923,
      -0.031725,
      -0.018018,
      -0.033189,
      -0.015094,
      -0.030052,
      -0.005104,
      0.001929,
      0.023805,
      -0.010712,
      -0.020359,
      0.022791,
      0.030236,
      -0.023075,
      0.00357,
      -0.129586,
      0.023995,
      0.009305,
      0.024754,
      -0.02012,
      0.010937,
      -0.016861,
      -0.021877,
      0.006906,
      -0.047422,
      -0.036415,
      0.016531,
      0.032063,
      -0.018511,
      0.004891,
      -0.029415,
      -0.021957,
      -0.017631,
      0.000952,
      -0.034675,
      0.005401,
      -0.013176,
      0.035138,
      -0.010463,
      -0.01363,
      0.019708,
      -0.011626,
      -0.001067,
      -0.013517,
      -0.005542,
      -0.006285,
      -0.027452,
      0.0069,
      0.023432,
      -0.013597,
      0.015139,
      0.00147,
      0.0065,
      -0.035258,
      0.040779,
      -0.003628,
      0.023552,
      -0.028493,
      0.061485,
      0.031708,
      0.034995,
      -0.037119,
      -0.058152,
      -0.027625,
      -0.009131,
      -0.023688,
      0.038755,
      -0.000612,
      0.003137,
      -0.008419,
      -0.015247,
      -0.045874,
      -0.029337,
      -0.062932,
      0.028658,
      -0.023698,
      0.051243,
      -0.02649,
      -0.044345,
      -0.012288,
      0.028192,
      -0.037805,
      0.024484,
      0.009218,
      0.005357,
      0.015542,
      -0.037676,
      -0.020951,
      0.007566,
      -0.006515,
      -0.01052,
      0.041494,
      -0.003872,
      -0.012706,
      0.004731,
      -0.00679,
      -0.000817,
      -0.049973,
      0.089,
      0.061469,
      0.046879,
      0.004814,
      0.01219,
      0.001648,
      -0.009832,
      -0.035975,
      -0.046201,
      0.026204,
      0.027069,
      -0.009551,
      0.006322,
      -0.012574,
      -0.028369,
      0.004092,
      0.018128,
      -0.023939,
      -0.006473,
      0.048082,
      -0.000782,
      -0.02994,
      0.00137,
      0.004844,
      0.004638,
      -0.012682,
      0.005509,
      0.065345,
      0.005716,
      -0.021557,
      0.008788,
      -0.061063,
      -0.001698,
      -0.001616,
      0.020346,
      -0.049998,
      -0.013055,
      0.000781,
      0.00919,
      -0.030383,
      -0.023163,
      0.022657,
      0.044411,
      0.019564,
      0.014042,
      0.05404,
      -0.030797,
      0.023809,
      -0.067151,
      -0.032263,
      0.022205,
      0.041942,
      -0.033069,
      -0.074706,
      0.060444,
      -0.01212,
      -0.028411,
      -0.036172,
      -0.01736,
      0.001428,
      -0.012757,
      -0.018569,
      -0.015783,
      -0.00513,
      0.009249,
      -0.008264,
      -0.011263,
      0.005973,
      -0.026217,
      -0.054637,
      0.070199,
      0.011521,
      0.01264,
      0.005713,
      0.002339,
      -0.044341,
      0.041939,
      0.002106,
      -0.040738,
      -0.010048,
      -0.017509,
      -0.00762,
      -0.017106,
      -0.012746,
      -0.010353,
      -0.002125,
      0.003351,
      -0.012047,
      0.067612,
      -0.018119,
      -0.010981,
      0.033912,
      0.028938,
      0.020402,
      0.000986,
      0.051621,
      0.001621,
      0.027384,
      0.010753,
      0.023441,
      0.004038,
      0.025257,
      0.0166,
      0.004187,
      -0.00646,
      0.027439,
      0.002782,
      -0.018204,
      0.014171,
      0.044981,
      0.010024,
      0.009603,
      -0.041017,
      0.016432,
      -0.024725,
      0.001591,
      0.076994,
      -0.019476,
      -0.042047,
      -0.020283,
      0.001618,
      0.001225,
      0.043049,
      -0.041867,
      -0.035198,
      0.003839,
      0.036196,
      -0.000865,
      -0.01634,
      0.021912,
      0.000691,
      0.029628,
      0.010842,
      0.026271,
      0.016412,
      -0.033802,
      -0.038841,
      0.025183,
      0.008727,
      0.013824,
      -0.046084,
      -0.074771,
      -0.018446,
      0.012857,
      -0.02911,
      -0.033679,
      0.007887,
      -0.053415,
      -0.065298,
      0.001118,
      0.031809,
      0.017507,
      -0.028614,
      -0.049437,
      0.009627,
      -0.006851,
      -0.027209,
      0.05412,
      0.020788,
      0.010997,
      -0.005846
    ]
  },
  {
    "id": "v5-koa-0",
    "content": "# Koa\nBreadcrumb: Koa\nCovers: koa(app) | koa(app, koaApp) | koa() | app.use(location|mw[, service]) | app.listen(port) | app.setup(server) | HTTPS | params | params.query | params.provider | params.route | Service middleware | Middleware | rest | errorHandler | authenticate | parseAuthentication | bodyParser | cors | serveStatic\nTopics: hooks, services, application, context, params, provider, hook context, get, create, setup, authentication, jwt, github, database, rest, http, koa, middleware, client, errors, cli, generate, security, cors, logger, users\n\n## koa(app)\n\n`koa(app) -> app` is a function that turns a [Feathers application](./application.md) into a fully KoaJS compatible application that additionally to Feathers functionality also lets you use the [KoaJS API](https://koajs.com/).\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport { koa, errorHandler, bodyParser, rest } from '@feathersjs/koa'\n\nconst app = koa(feathers())\n\napp.use(errorHandler())\napp.use(authentication())\napp.use(bodyParser())\napp.configure(rest())\n```\n\nAlso see the [additional middleware](#middleware) that `@feathersjs/koa` exposes.\n\n## koa(app, koaApp)\n\n`koa(app, koaApp) -> app` allows to extend an existing Koa application with the Feathers application `app`.\n\n## koa()\n\nIf no Feathers application is passed, `koa() -> app` returns a plain Koa application (`new Koa()`).\n\n## app.use(location|mw[, service])\n\n`app.use(location|mw[, service]) -> app` registers either a [service object](./services.md), or a Koa middleware. If a path and [service object](./services.md) is passed it will use Feathers registration mechanism, for a middleware function Koa.\n\n## app.listen(port)\n\n`app.listen(port) -> HttpServer` will first call Koa [app.listen](https://github.com/koajs/koa/blob/master/docs/api/index.md#applisten) and then internally also call the [Feathers app.setup(server)](./application.md#setupserver).\n\n```js\n// Listen on port 3030\nconst server = await app.listen(3030)\n```\n\n## app.setup(server)\n\n`app.setup(server) -> app` is usually called internally by `app.listen` but in the cases described below needs to be called explicitly.\n\n### HTTPS\n\nHTTPS requires creating a separate server in which case `app.setup(server)` also has to be called explicitly. In a generated application `src/index.js` should look like this:\n\n```ts\nimport https from 'https'\nimport { app } from './app'\n\nconst port = app.get('port')\nconst server = https\n  .createServer(\n    {\n      key: fs.readFileSync('privatekey.pem'),\n      cert: fs.readFileSync('certificate.pem')\n    },\n    app.callback()\n  )\n  .listen(443)\n\n// Call app.setup to initialize all services and SocketIO\napp.setup(server)\n\nserver.on('listening', () => logger.info('Feathers application started'))\n```\n\n## params\n\nIn a Koa middleware, `ctx.feathers` is an object which will be extended as `params` in a service method call.\n\n```ts\nimport { rest } from '@feathersjs/koa'\nimport type { NextFunction } from '@feathersjs/koa'\nimport type { Id, Params } from '@feathersjs/feathers'\n\nclass TodoService {\n  async get(id: Id, params: Params & { fromMiddleware: string }) {\n    const { fromMiddleware } = params\n\n    return { id, fromMiddleware }\n  }\n}\n\n// Register Koa middleware\napp.use(async (ctx: any, next: NextFunction) => {\n  ctx.feathers = {\n    ...ctx.feathers,\n    fromMiddleware: 'Hello from Koa middleware'\n  }\n\n  await next()\n})\napp.configure(rest())\n\n// Register a service\napp.use('todos', new TodoService())\n```\n\n> **Important:**\n> \n> Note that `app.configure(rest())` has to happen **after** any custom middleware.\n>\n\n### params.query\n\n`params.query` will contain the URL query parameters sent from the client parsed using [koa-qs](https://github.com/koajs/qs).\n\n> **important:**\n> \n> Only `params.query` is passed between the server and the client, other parts of `params` are not. This is for security reasons so that a client can't set things like `params.user` or the database options. You can always map from `params.query` to other `params` properties in a [hook](./hooks.md).\n> \n\nTo increase the array limit in query strings, `koa-qs` can be reinitalized with the options for the [qs](https://www.npmjs.com/package/qs) module:\n\n```ts\n// app.ts\nimport koaQs from 'koa-qs'\n\n// ...\nkoaQs(app, 'extended', {\n  arrayLimit: 200\n})\n```\n\n### params.provider\n\nFor any [service method call](./services.md) made through REST `params.provider` will be set to `rest`.\n\n### params.route\n\nRoute placeholders in a service URL will be added to the services `params.route`. See the [FAQ entry on nested routes](../help/faq.md#how-do-i-do-nested-or-custom-routes) for more details on when and when not to use nested routes.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport { koa, errorHandler, bodyParser, rest } from '@feathersjs/koa'\n\nconst app = koa(feathers())\n\napp.use('users/:userId/messages', {\n  async get(id, params) {\n    console.log(params.query) // -> ?query\n    console.log(params.provider) // -> 'rest'\n    console.log(params.fromMiddleware) // -> 'Hello world'\n    console.log(params.route) // will be `{ userId: '1' }` for GET /users/1/messages\n\n    return {\n      id,\n      params,\n      read: false,\n      text: `Feathers is great!`,\n      createdAt: new Date().getTime()\n    }\n  }\n})\n\napp.listen(3030)\n```\n\n## Service middleware\n\nWhen registering a service, it is also possible to pass custom Koa middleware that should run `before` the specific service method in the `koa` [service option](./application.md#usepath-service--options):\n\n```ts\napp.use('/todos', new TodoService(), {\n  koa: {\n    before: [\n      async (ctx, next) => {\n        ctx.feathers // data that will be merged into sevice `params`\n\n        // This will run all subsequent middleware and the service call\n        await next()\n\n        // Then we have additional properties available on the context\n        ctx.hook // the hook context from the method call\n        ctx.body // the return value\n      }\n    ]\n  }\n})\n```\n\nNote that the order of middleware will be `[...before, serviceMethod]`.\n\n## Middleware\n\n\n\n### rest\n\n```ts\nimport { rest } from '@feathersjs/koa'\n\napp.configure(rest())\n```\n\nConfigures the middleware for handling service calls via HTTP. It will also register authentication header parsing. The following (optional) options are available:\n\n- `formatter` - A middleware that formats the response body\n- `authentication` - The authentication `service` and `strategies` to use for parsing authentication information\n\n### errorHandler\n\n```ts\nimport { errorHandler } from '@feathersjs/koa'\n\napp.use(errorHandler())\n```\n\nA middleware that formats errors as a Feathers error and sets the proper status code. Needs to be the first middleware registered in order to catch all other errors.\n\n### authenticate\n\nA middleware that allows to authenticate a user (or other authentication entity) using the [authentication service](./authentication/service.md) setting `ctx.feathers.user`. Not necessary for use with services but can be used in custom middleware.\n\n```ts\nimport { authenticate } from '@feathersjs/koa'\n\n// Authenticate other middleware with the JWT strategy\napp.use(authenticate('jwt'))\n\n// Authenticate a non default service\napp.use(\n  authenticate({\n    service: 'api/v1',\n    strategies: ['jwt']\n  })\n)\n```\n\n### parseAuthentication\n\nThe `parseAuthentication` middleware is registered automatically and will use the strategies of the default [authentication service](./authentication/service.md) to parse headers for authentication information. If you want to additionally parse authentication with a different authentication service this middleware can be registered again with that service configured.\n\n```ts\nimport { parseAuthentication } from '@feathersjs/koa'\n\napp.use(\n  parseAuthentication({\n    service: 'api/v1/authentication',\n    strategies: ['jwt', 'local']\n  })\n)\n```\n\n### bodyParser\n\nA reference to the [koa-body](https://github.com/koajs/koa-body) module.\n\n### cors\n\nA reference to the [@koa/cors](https://github.com/koajs/cors) module.\n\n### serveStatic\n\nA reference to the [koa-static](https://github.com/koajs/static) module.",
    "rawContent": "## koa(app)\n\n`koa(app) -> app` is a function that turns a [Feathers application](./application.md) into a fully KoaJS compatible application that additionally to Feathers functionality also lets you use the [KoaJS API](https://koajs.com/).\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport { koa, errorHandler, bodyParser, rest } from '@feathersjs/koa'\n\nconst app = koa(feathers())\n\napp.use(errorHandler())\napp.use(authentication())\napp.use(bodyParser())\napp.configure(rest())\n```\n\nAlso see the [additional middleware](#middleware) that `@feathersjs/koa` exposes.\n\n## koa(app, koaApp)\n\n`koa(app, koaApp) -> app` allows to extend an existing Koa application with the Feathers application `app`.\n\n## koa()\n\nIf no Feathers application is passed, `koa() -> app` returns a plain Koa application (`new Koa()`).\n\n## app.use(location|mw[, service])\n\n`app.use(location|mw[, service]) -> app` registers either a [service object](./services.md), or a Koa middleware. If a path and [service object](./services.md) is passed it will use Feathers registration mechanism, for a middleware function Koa.\n\n## app.listen(port)\n\n`app.listen(port) -> HttpServer` will first call Koa [app.listen](https://github.com/koajs/koa/blob/master/docs/api/index.md#applisten) and then internally also call the [Feathers app.setup(server)](./application.md#setupserver).\n\n```js\n// Listen on port 3030\nconst server = await app.listen(3030)\n```\n\n## app.setup(server)\n\n`app.setup(server) -> app` is usually called internally by `app.listen` but in the cases described below needs to be called explicitly.\n\n### HTTPS\n\nHTTPS requires creating a separate server in which case `app.setup(server)` also has to be called explicitly. In a generated application `src/index.js` should look like this:\n\n```ts\nimport https from 'https'\nimport { app } from './app'\n\nconst port = app.get('port')\nconst server = https\n  .createServer(\n    {\n      key: fs.readFileSync('privatekey.pem'),\n      cert: fs.readFileSync('certificate.pem')\n    },\n    app.callback()\n  )\n  .listen(443)\n\n// Call app.setup to initialize all services and SocketIO\napp.setup(server)\n\nserver.on('listening', () => logger.info('Feathers application started'))\n```\n\n## params\n\nIn a Koa middleware, `ctx.feathers` is an object which will be extended as `params` in a service method call.\n\n```ts\nimport { rest } from '@feathersjs/koa'\nimport type { NextFunction } from '@feathersjs/koa'\nimport type { Id, Params } from '@feathersjs/feathers'\n\nclass TodoService {\n  async get(id: Id, params: Params & { fromMiddleware: string }) {\n    const { fromMiddleware } = params\n\n    return { id, fromMiddleware }\n  }\n}\n\n// Register Koa middleware\napp.use(async (ctx: any, next: NextFunction) => {\n  ctx.feathers = {\n    ...ctx.feathers,\n    fromMiddleware: 'Hello from Koa middleware'\n  }\n\n  await next()\n})\napp.configure(rest())\n\n// Register a service\napp.use('todos', new TodoService())\n```\n\n> **Important:**\n> \n> Note that `app.configure(rest())` has to happen **after** any custom middleware.\n>\n\n### params.query\n\n`params.query` will contain the URL query parameters sent from the client parsed using [koa-qs](https://github.com/koajs/qs).\n\n> **important:**\n> \n> Only `params.query` is passed between the server and the client, other parts of `params` are not. This is for security reasons so that a client can't set things like `params.user` or the database options. You can always map from `params.query` to other `params` properties in a [hook](./hooks.md).\n> \n\nTo increase the array limit in query strings, `koa-qs` can be reinitalized with the options for the [qs](https://www.npmjs.com/package/qs) module:\n\n```ts\n// app.ts\nimport koaQs from 'koa-qs'\n\n// ...\nkoaQs(app, 'extended', {\n  arrayLimit: 200\n})\n```\n\n### params.provider\n\nFor any [service method call](./services.md) made through REST `params.provider` will be set to `rest`.\n\n### params.route\n\nRoute placeholders in a service URL will be added to the services `params.route`. See the [FAQ entry on nested routes](../help/faq.md#how-do-i-do-nested-or-custom-routes) for more details on when and when not to use nested routes.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport { koa, errorHandler, bodyParser, rest } from '@feathersjs/koa'\n\nconst app = koa(feathers())\n\napp.use('users/:userId/messages', {\n  async get(id, params) {\n    console.log(params.query) // -> ?query\n    console.log(params.provider) // -> 'rest'\n    console.log(params.fromMiddleware) // -> 'Hello world'\n    console.log(params.route) // will be `{ userId: '1' }` for GET /users/1/messages\n\n    return {\n      id,\n      params,\n      read: false,\n      text: `Feathers is great!`,\n      createdAt: new Date().getTime()\n    }\n  }\n})\n\napp.listen(3030)\n```\n\n## Service middleware\n\nWhen registering a service, it is also possible to pass custom Koa middleware that should run `before` the specific service method in the `koa` [service option](./application.md#usepath-service--options):\n\n```ts\napp.use('/todos', new TodoService(), {\n  koa: {\n    before: [\n      async (ctx, next) => {\n        ctx.feathers // data that will be merged into sevice `params`\n\n        // This will run all subsequent middleware and the service call\n        await next()\n\n        // Then we have additional properties available on the context\n        ctx.hook // the hook context from the method call\n        ctx.body // the return value\n      }\n    ]\n  }\n})\n```\n\nNote that the order of middleware will be `[...before, serviceMethod]`.\n\n## Middleware\n\n\n\n### rest\n\n```ts\nimport { rest } from '@feathersjs/koa'\n\napp.configure(rest())\n```\n\nConfigures the middleware for handling service calls via HTTP. It will also register authentication header parsing. The following (optional) options are available:\n\n- `formatter` - A middleware that formats the response body\n- `authentication` - The authentication `service` and `strategies` to use for parsing authentication information\n\n### errorHandler\n\n```ts\nimport { errorHandler } from '@feathersjs/koa'\n\napp.use(errorHandler())\n```\n\nA middleware that formats errors as a Feathers error and sets the proper status code. Needs to be the first middleware registered in order to catch all other errors.\n\n### authenticate\n\nA middleware that allows to authenticate a user (or other authentication entity) using the [authentication service](./authentication/service.md) setting `ctx.feathers.user`. Not necessary for use with services but can be used in custom middleware.\n\n```ts\nimport { authenticate } from '@feathersjs/koa'\n\n// Authenticate other middleware with the JWT strategy\napp.use(authenticate('jwt'))\n\n// Authenticate a non default service\napp.use(\n  authenticate({\n    service: 'api/v1',\n    strategies: ['jwt']\n  })\n)\n```\n\n### parseAuthentication\n\nThe `parseAuthentication` middleware is registered automatically and will use the strategies of the default [authentication service](./authentication/service.md) to parse headers for authentication information. If you want to additionally parse authentication with a different authentication service this middleware can be registered again with that service configured.\n\n```ts\nimport { parseAuthentication } from '@feathersjs/koa'\n\napp.use(\n  parseAuthentication({\n    service: 'api/v1/authentication',\n    strategies: ['jwt', 'local']\n  })\n)\n```\n\n### bodyParser\n\nA reference to the [koa-body](https://github.com/koajs/koa-body) module.\n\n### cors\n\nA reference to the [@koa/cors](https://github.com/koajs/cors) module.\n\n### serveStatic\n\nA reference to the [koa-static](https://github.com/koajs/static) module.",
    "breadcrumb": "Koa",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/koa.md",
    "heading": "Koa",
    "subHeadings": [
      "koa(app)",
      "koa(app, koaApp)",
      "koa()",
      "app.use(location|mw[, service])",
      "app.listen(port)",
      "app.setup(server)",
      "HTTPS",
      "params",
      "params.query",
      "params.provider",
      "params.route",
      "Service middleware",
      "Middleware",
      "rest",
      "errorHandler",
      "authenticate",
      "parseAuthentication",
      "bodyParser",
      "cors",
      "serveStatic"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 1889,
    "category": "koa",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "provider",
      "hook context",
      "get",
      "create",
      "setup",
      "authentication",
      "jwt",
      "github",
      "database",
      "rest",
      "http",
      "koa",
      "middleware",
      "client",
      "errors",
      "cli",
      "generate",
      "security",
      "cors",
      "logger",
      "users"
    ],
    "embedding": [
      -0.006622,
      0.030504,
      -0.075247,
      -0.029122,
      -0.018925,
      -0.018925,
      0.009323,
      0.038227,
      -0.04758,
      0.029999,
      -0.000236,
      -0.006251,
      -0.023145,
      0.013293,
      0.01066,
      0.029031,
      -0.014907,
      -0.008524,
      0.01817,
      -0.029224,
      -0.047806,
      -0.000431,
      -0.017661,
      -0.011278,
      0.010782,
      -0.000389,
      0.011574,
      -0.059546,
      -0.002686,
      0.01873,
      -0.005919,
      0.029222,
      0.026149,
      -0.02637,
      -0.016394,
      -0.007576,
      -0.021484,
      -0.021022,
      -0.048315,
      -0.011458,
      0.003843,
      -0.013714,
      -0.02862,
      -0.019593,
      0.048846,
      -0.021038,
      0.008343,
      -0.016705,
      0.001954,
      -0.014932,
      -0.024454,
      -0.001193,
      0.039244,
      -0.040468,
      0.04662,
      0.01659,
      -0.046817,
      -0.029868,
      -0.067075,
      0.013575,
      -0.051726,
      0.003678,
      -0.013255,
      -0.023237,
      -0.01747,
      0.034286,
      -0.030062,
      -0.01935,
      -0.021954,
      -0.008037,
      0.023157,
      0.019351,
      -0.005063,
      -0.010206,
      -0.050547,
      0.009354,
      0.046247,
      0.005972,
      -0.01018,
      0.04251,
      -0.018662,
      0.005027,
      -0.010804,
      0.005405,
      -0.007233,
      -0.012416,
      -0.050299,
      0.049417,
      0.004752,
      0.001008,
      -0.024817,
      -0.037937,
      0.041741,
      -0.057168,
      -0.008984,
      0.034316,
      -0.0306,
      -0.014272,
      0.011599,
      0.023129,
      -0.005024,
      -0.03789,
      0.029762,
      -0.056056,
      0.069934,
      0.046068,
      0.013772,
      0.020871,
      -0.019966,
      -0.044819,
      0.024369,
      0.00856,
      0.018932,
      -0.022424,
      -0.012177,
      -0.003583,
      -0.002218,
      -0.018885,
      -0.031393,
      0.002652,
      0.007998,
      0.040556,
      0.04768,
      -0.002913,
      -0.030771,
      -0.010775,
      -0.03981,
      0.053935,
      0.003697,
      0.029172,
      0.01661,
      -0.044284,
      0.013024,
      0.00986,
      -0.04434,
      -0.005882,
      0.00572,
      0.015923,
      -0.046197,
      -0.048963,
      0.049805,
      -0.00931,
      -0.012453,
      0.005581,
      0.014693,
      -0.043519,
      0.057104,
      0.01572,
      -0.034964,
      0.022575,
      -0.015102,
      0.010494,
      -0.022873,
      -0.019208,
      0.000146,
      -0.044639,
      0.00969,
      0.014329,
      0.015252,
      -0.006627,
      0.01225,
      0.028852,
      0.011497,
      0.016552,
      0.028366,
      -0.035293,
      0.008946,
      -0.032783,
      -0.010587,
      -0.020532,
      0.013458,
      0.022941,
      0.036448,
      -0.002489,
      0.047669,
      0.029366,
      0.056601,
      0.028572,
      0.001118,
      -0.042631,
      -0.041576,
      -0.023043,
      -0.025856,
      -0.036734,
      -0.024831,
      -0.020043,
      -0.003054,
      -0.031993,
      -0.009277,
      0.065416,
      -0.033467,
      -0.022704,
      0.020079,
      0.033491,
      -0.006983,
      0.025218,
      0.018052,
      0.011701,
      -0.008343,
      0.037018,
      -0.034985,
      0.039188,
      0.04433,
      -0.010736,
      -0.040293,
      -0.028154,
      0.00443,
      -0.024727,
      0.006129,
      -0.018662,
      0.049533,
      0.008324,
      -0.003889,
      0.031932,
      -0.008206,
      0.034299,
      -0.004918,
      -0.033514,
      -0.000967,
      -0.005821,
      0.032751,
      0.030055,
      0.027872,
      0.020746,
      0.025755,
      0.000063,
      0.026467,
      0.009041,
      -0.029199,
      -0.032446,
      -0.000026,
      0.025643,
      0.029472,
      -0.045902,
      0.050685,
      -0.020929,
      -0.018374,
      0.020366,
      0.033717,
      0.014963,
      -0.025716,
      -0.055464,
      0.014966,
      0.00532,
      0.012463,
      0.001125,
      0.053867,
      0.014933,
      -0.038486,
      0.00588,
      -0.004326,
      -0.0168,
      0.028114,
      0.01413,
      0.014872,
      0.01323,
      0.038562,
      0.007809,
      -0.003292,
      -0.036675,
      0.019534,
      0.006974,
      -0.002982,
      0.018937,
      0.023306,
      -0.004117,
      -0.038339,
      -0.060701,
      0.024529,
      -0.000157,
      0.017055,
      0.029671,
      -0.000599,
      -0.007027,
      0.004246,
      0.006311,
      -0.003645,
      -0.059205,
      0.084455,
      0.013082,
      0.005821,
      0.036555,
      0.040435,
      0.028195,
      -0.015855,
      0.02921,
      -0.02359,
      0.006433,
      0.031977,
      -0.052333,
      0.019519,
      0.023105,
      0.062635,
      -0.012411,
      -0.028806,
      0.019112,
      -0.015049,
      -0.150922,
      -0.020316,
      0.044249,
      -0.021811,
      0.016947,
      0.014794,
      -0.054734,
      -0.012377,
      -0.0445,
      0.04786,
      -0.006741,
      -0.046888,
      -0.016832,
      -0.009095,
      0.017945,
      -0.002612,
      -0.005357,
      -0.004544,
      0.030085,
      -0.04993,
      0.006887,
      -0.023834,
      0.050447,
      -0.004365,
      0.013081,
      -0.021203,
      -0.005931,
      0.021136,
      -0.059206,
      -0.010161,
      0.005671,
      0.019383,
      0.001854,
      -0.000849,
      -0.010817,
      -0.030321,
      0.034947,
      0.020417,
      -0.005268,
      0.004557,
      0.019122,
      0.052655,
      0.012357,
      -0.019844,
      0.006426,
      -0.034327,
      0.042124,
      0.016219,
      -0.019146,
      -0.006716,
      0.024597,
      -0.032401,
      0.02615,
      0.024797,
      -0.036571,
      -0.025693,
      -0.01466,
      0.0623,
      -0.015729,
      0.009694,
      -0.006402,
      -0.010058,
      0.036977,
      -0.033608,
      -0.006637,
      0.007895,
      -0.028522,
      0.024051,
      0.038121,
      -0.066703,
      0.04593,
      -0.065346,
      -0.037018,
      0.003366,
      -0.06629,
      -0.006572,
      0.01759,
      -0.02604,
      -0.066577,
      -0.115636,
      -0.031822,
      -0.02972,
      -0.003332,
      0.021527,
      -0.038357,
      -0.03955,
      -0.045265,
      0.00403,
      0.043084,
      0.264468,
      -0.004172,
      -0.023466,
      -0.002116,
      0.096319,
      0.001325,
      0.010154,
      0.050728,
      0.00534,
      -0.040627,
      0.047967,
      0.001695,
      -0.011337,
      -0.021333,
      -0.010717,
      0.002285,
      -0.050183,
      0.019998,
      0.065824,
      0.00654,
      -0.018122,
      0.010525,
      -0.00226,
      0.036808,
      -0.099712,
      -0.048574,
      -0.006402,
      -0.02007,
      -0.06363,
      0.001059,
      -0.030209,
      0.006956,
      -0.006995,
      -0.035773,
      -0.05652,
      -0.011121,
      -0.056402,
      0.040332,
      -0.033121,
      -0.023252,
      -0.002068,
      0.003699,
      0.025782,
      0.026093,
      0.021243,
      0.006628,
      -0.000231,
      0.016118,
      -0.031305,
      -0.049655,
      -0.027626,
      -0.026561,
      -0.012587,
      0.01658,
      -0.021345,
      -0.050787,
      -0.000228,
      -0.0057,
      -0.004746,
      0.024047,
      0.029615,
      0.017902,
      -0.06606,
      0.03102,
      0.006397,
      0.045917,
      0.009718,
      -0.058474,
      -0.007273,
      0.049138,
      -0.020064,
      -0.013253,
      0.026928,
      -0.021006,
      -0.004039,
      0.005954,
      0.017605,
      0.020267,
      -0.043829,
      0.051247,
      -0.003953,
      0.00352,
      -0.039448,
      0.006743,
      0.035416,
      0.038698,
      -0.03556,
      0.050817,
      0.001623,
      -0.019827,
      -0.028972,
      -0.007036,
      -0.016994,
      0.01069,
      -0.009385,
      0.029853,
      0.016743,
      0.012247,
      0.006557,
      -0.047797,
      0.023611,
      0.045393,
      0.024536,
      -0.019346,
      0.046831,
      -0.019326,
      -0.009512,
      0.020705,
      -0.004935,
      -0.033047,
      -0.028543,
      0.008955,
      0.046918,
      -0.022357,
      0.021589,
      0.013944,
      0.038546,
      0.03561,
      0.100247,
      0.045916,
      -0.02411,
      -0.014895,
      -0.026571,
      0.002112,
      0.022399,
      -0.064181,
      -0.070037,
      -0.006881,
      -0.023467,
      0.068228,
      0.041181,
      -0.040412,
      0.031295,
      0.048306,
      -0.012591,
      -0.000324,
      0.028684,
      0.037575,
      0.031531,
      -0.029535,
      -0.015217,
      -0.052129,
      -0.05763,
      0.027721,
      0.007061,
      -0.012649,
      -0.009688,
      -0.014083,
      -0.015452,
      -0.009409,
      0.01313,
      0.054701,
      0.020564,
      -0.053255,
      0.009274,
      -0.03961,
      -0.003856,
      -0.002806,
      0.01955,
      -0.02817,
      -0.019894,
      0.002767,
      0.0474,
      0.023617,
      0.031318,
      -0.000089,
      0.033986,
      0.026251,
      -0.001044,
      -0.008835,
      0.00096,
      -0.051789,
      -0.051097,
      0.064524,
      -0.004342,
      -0.065633,
      -0.070273,
      -0.018307,
      0.027201,
      -0.005778,
      0.034355,
      0.048189,
      -0.011207,
      -0.055033,
      0.013799,
      0.06051,
      0.018247,
      -0.015992,
      0.005536,
      -0.053062,
      0.000371,
      0.119351,
      0.003565,
      0.012621,
      0.055069,
      -0.008345,
      0.040765,
      0.046499,
      0.010124,
      0.035168,
      -0.015031,
      0.029966,
      0.00653,
      0.01349,
      -0.012397,
      -0.029708,
      0.012149,
      0.026889,
      -0.029503,
      0.013601,
      0.009376,
      -0.000221,
      -0.014582,
      -0.018156,
      0.006141,
      -0.013465,
      0.026762,
      0.032127,
      0.001888,
      -0.026911,
      -0.022772,
      -0.014939,
      0.027875,
      -0.040263,
      0.007695,
      0.008457,
      0.033143,
      -0.014997,
      0.010994,
      -0.019082,
      -0.002427,
      0.010189,
      0.03081,
      -0.027415,
      -0.021087,
      -0.044175,
      0.03989,
      0.0131,
      0.043351,
      -0.031495,
      0.028495,
      0.010191,
      0.05649,
      0.032648,
      0.011751,
      -0.01121,
      -0.005263,
      0.002424,
      -0.022739,
      0.054288,
      -0.025723,
      -0.017785,
      0.023381,
      -0.012227,
      0.017672,
      0.03201,
      0.03394,
      -0.005995,
      -0.001062,
      0.001135,
      0.013745,
      0.009053,
      -0.010136,
      0.007955,
      0.003056,
      -0.042479,
      0.027239,
      -0.045262,
      -0.037317,
      -0.032698,
      -0.006617,
      -0.009966,
      -0.039262,
      -0.062206,
      0.032386,
      -0.001087,
      -0.03646,
      0.001285,
      -0.002486,
      0.000244,
      -0.059083,
      0.020036,
      0.033542,
      0.021435,
      0.003845,
      0.04818,
      -0.008145,
      0.010502,
      -0.018627,
      -0.066305,
      0.020626,
      0.009982,
      -0.01876,
      0.022692,
      -0.036171,
      -0.007921,
      -0.007944,
      0.020613,
      -0.004309,
      0.031893,
      -0.006828,
      0.026725,
      -0.022179,
      -0.03582,
      0.008417,
      0.000098,
      -0.007297,
      -0.027412,
      0.027753,
      0.074126,
      -0.014957,
      -0.065964,
      0.002505,
      0.009018,
      0.05906,
      -0.034569,
      0.051002,
      -0.047147,
      0.000811,
      -0.031347,
      -0.018167,
      -0.001454,
      0.020782,
      -0.000251,
      -0.0311,
      -0.018832,
      -0.043294,
      -0.013295,
      -0.040936,
      0.046482,
      -0.044712,
      -0.009015,
      -0.022415,
      0.003201,
      -0.018492,
      0.057501,
      0.027359,
      0.013399,
      0.013675,
      -0.028272,
      -0.037365,
      0.018605,
      0.02396,
      0.010556,
      0.030722,
      -0.008616,
      -0.022176,
      -0.007588,
      -0.000413,
      -0.013161,
      -0.005566,
      -0.001312,
      -0.025379,
      -0.029233,
      0.057724,
      -0.017479,
      -0.045587,
      -0.025733,
      0.009081,
      -0.007947,
      -0.012403,
      0.049873,
      0.003005,
      -0.018096,
      0.02087,
      0.031249,
      0.030689,
      -0.025381,
      0.020298,
      -0.02227,
      -0.039654,
      0.012284,
      0.030213,
      0.008075,
      -0.05248,
      0.015676,
      0.009998,
      0.024565,
      0.001745,
      -0.02097,
      -0.017985,
      -0.024239,
      -0.0191,
      -0.022014,
      -0.022742,
      0.017307,
      -0.004461,
      -0.029512,
      0.010301,
      0.017873,
      0.012068,
      0.049538,
      -0.032314,
      0.019407,
      -0.130695,
      0.00554,
      0.023388,
      -0.004588,
      0.003356,
      -0.001124,
      0.024782,
      0.011623,
      0.005176,
      -0.02443,
      -0.048488,
      -0.00173,
      0.035661,
      -0.022362,
      -0.002753,
      0.04032,
      0.008091,
      -0.021582,
      -0.016944,
      0.012113,
      -0.012886,
      -0.019509,
      0.036692,
      -0.042938,
      0.053552,
      -0.011011,
      -0.068263,
      0.009655,
      -0.018189,
      -0.013153,
      0.023235,
      -0.007449,
      0.005478,
      0.001052,
      -0.006121,
      0.003565,
      0.009588,
      -0.007767,
      -0.005245,
      0.031792,
      -0.034476,
      0.012766,
      -0.046287,
      0.031687,
      0.02158,
      0.041737,
      -0.021912,
      -0.051659,
      -0.032859,
      0.018621,
      0.005248,
      -0.009484,
      0.045212,
      0.024804,
      0.01304,
      -0.035644,
      -0.040366,
      0.004065,
      -0.02728,
      0.01399,
      -0.042618,
      0.030138,
      -0.020021,
      -0.036177,
      -0.006774,
      0.008029,
      -0.032598,
      0.028228,
      0.001978,
      0.017817,
      -0.003427,
      -0.023954,
      -0.037976,
      0.017812,
      0.000353,
      0.004619,
      0.013313,
      0.013149,
      0.008432,
      0.016386,
      -0.021975,
      -0.0299,
      -0.040099,
      0.050513,
      0.06444,
      0.021797,
      0.005007,
      0.059189,
      -0.012475,
      -0.002608,
      0.005299,
      -0.05495,
      -0.011815,
      0.025653,
      -0.00652,
      0.046808,
      -0.014787,
      -0.043687,
      0.004549,
      0.008563,
      -0.0191,
      0.009221,
      0.019819,
      0.004848,
      -0.034983,
      0.017486,
      0.021243,
      -0.005063,
      -0.000944,
      0.019382,
      0.01985,
      0.002574,
      0.003885,
      0.000073,
      -0.051038,
      -0.018097,
      0.034381,
      0.034621,
      0.004871,
      0.024558,
      -0.004083,
      -0.030006,
      -0.005806,
      -0.004579,
      0.007425,
      0.017443,
      0.029664,
      0.004283,
      0.067555,
      -0.042715,
      0.013691,
      -0.059974,
      -0.030139,
      -0.002537,
      0.027848,
      -0.011967,
      -0.06686,
      0.044934,
      -0.010086,
      -0.046084,
      -0.042131,
      -0.007225,
      0.016476,
      -0.021017,
      -0.011266,
      -0.0222,
      -0.001461,
      0.02092,
      -0.056753,
      -0.019959,
      0.02258,
      0.000084,
      -0.05219,
      0.016907,
      -0.02764,
      0.030188,
      -0.011321,
      0.012118,
      -0.002105,
      0.055984,
      0.002052,
      -0.01009,
      -0.012553,
      -0.040205,
      -0.003078,
      0.009459,
      0.011141,
      -0.040494,
      -0.008858,
      0.01921,
      -0.008493,
      0.029436,
      0.000768,
      -0.000033,
      0.036522,
      0.005771,
      0.009024,
      -0.022971,
      0.048599,
      0.012945,
      0.015257,
      0.015059,
      0.064334,
      0.007313,
      -0.005275,
      -0.038661,
      -0.024709,
      -0.002075,
      0.048861,
      -0.014891,
      -0.013482,
      -0.011011,
      0.010349,
      -0.007075,
      0.015953,
      -0.006491,
      0.010988,
      -0.022814,
      -0.015753,
      0.091279,
      -0.001519,
      -0.00383,
      -0.011383,
      0.018992,
      -0.026722,
      0.003242,
      -0.039529,
      -0.033852,
      -0.023111,
      0.009616,
      -0.036277,
      -0.019934,
      0.007325,
      0.033931,
      -0.013509,
      0.022231,
      0.039997,
      0.01563,
      -0.020333,
      -0.032683,
      0.014036,
      0.026672,
      -0.011672,
      -0.023412,
      -0.052599,
      -0.005221,
      0.011058,
      -0.000527,
      -0.011181,
      -0.008642,
      -0.018588,
      -0.032424,
      0.007734,
      0.02801,
      -0.006182,
      -0.010309,
      0.005093,
      0.059566,
      -0.024383,
      -0.025348,
      0.046936,
      0.012451,
      -0.000353,
      0.031285
    ]
  },
  {
    "id": "v5-index-0",
    "content": "# Schema Overview\nBreadcrumb: Schema Overview\n\n",
    "rawContent": "",
    "breadcrumb": "Schema Overview",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/schema/index.md",
    "heading": "Schema Overview",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "schema",
    "tags": [],
    "embedding": [
      0.028808,
      -0.000814,
      -0.031989,
      -0.003321,
      -0.012681,
      0.009995,
      0.001036,
      0.051549,
      0.010864,
      0.012222,
      -0.007398,
      0.006534,
      -0.006993,
      0.000125,
      -0.027158,
      -0.013647,
      -0.017159,
      -0.011787,
      0.005483,
      0.018555,
      0.009993,
      -0.01327,
      0.018752,
      -0.03177,
      -0.019776,
      -0.004882,
      0.048097,
      0.00171,
      -0.065576,
      -0.001148,
      0.040272,
      -0.02745,
      0.049854,
      -0.024505,
      0.000828,
      -0.030638,
      0.007126,
      -0.02613,
      -0.047221,
      0.046086,
      -0.029514,
      -0.033939,
      0.0213,
      -0.0067,
      0.042808,
      0.003396,
      -0.019451,
      -0.031313,
      0.000164,
      0.000313,
      -0.023571,
      -0.007465,
      0.068449,
      -0.021109,
      0.004706,
      -0.02949,
      -0.037507,
      -0.020887,
      -0.060297,
      0.00797,
      -0.02132,
      0.011361,
      0.031016,
      -0.00566,
      0.07324,
      0.001923,
      -0.011561,
      -0.00584,
      -0.012845,
      0.003681,
      0.010428,
      0.002981,
      -0.036574,
      -0.032958,
      -0.024306,
      0.028585,
      -0.001972,
      -0.053218,
      -0.025981,
      0.047301,
      -0.031563,
      0.004005,
      0.005478,
      -0.018468,
      -0.037068,
      -0.000167,
      -0.003499,
      0.074248,
      -0.007635,
      -0.00599,
      0.019598,
      -0.020989,
      0.002796,
      0.00603,
      -0.011652,
      -0.027169,
      -0.031025,
      -0.017131,
      -0.012731,
      0.045686,
      -0.005912,
      0.001982,
      0.015593,
      0.034537,
      -0.006045,
      -0.039373,
      0.040102,
      -0.00495,
      0.001726,
      -0.021669,
      0.017273,
      0.024746,
      0.046579,
      0.0279,
      0.023571,
      0.011402,
      0.027254,
      -0.053149,
      0.017062,
      -0.013523,
      0.034074,
      0.036932,
      0.036744,
      -0.052007,
      0.008297,
      -0.040085,
      -0.014585,
      -0.012171,
      -0.033199,
      -0.031931,
      -0.034503,
      0.026741,
      -0.029984,
      0.028024,
      0.013704,
      -0.025343,
      0.045265,
      -0.033984,
      -0.034142,
      -0.015628,
      0.025056,
      -0.010999,
      -0.051696,
      -0.011456,
      0.040766,
      -0.053939,
      0.063772,
      -0.002178,
      0.012812,
      0.004956,
      0.006143,
      0.016461,
      0.040247,
      0.00976,
      0.072708,
      -0.013511,
      -0.035687,
      0.046019,
      0.044288,
      0.004001,
      0.008674,
      0.035788,
      0.032773,
      -0.035711,
      0.058694,
      -0.036549,
      0.02817,
      0.046277,
      0.008161,
      -0.072066,
      0.050089,
      -0.025897,
      -0.033892,
      -0.032396,
      0.010838,
      0.023411,
      0.018726,
      0.001362,
      0.020494,
      -0.043481,
      -0.059247,
      0.005828,
      -0.031679,
      -0.006358,
      -0.020695,
      -0.029729,
      0.019952,
      -0.021946,
      -0.012018,
      0.028897,
      0.001993,
      -0.020544,
      0.025579,
      -0.046695,
      0.010948,
      -0.009441,
      -0.048527,
      -0.034415,
      -0.009336,
      -0.023468,
      0.040271,
      0.05273,
      0.012646,
      -0.014587,
      -0.03747,
      0.008968,
      -0.020294,
      -0.016853,
      -0.052048,
      -0.010823,
      0.023478,
      0.020291,
      -0.02138,
      -0.03152,
      -0.027064,
      -0.036843,
      0.022143,
      0.014791,
      -0.013184,
      -0.005533,
      -0.003416,
      -0.00227,
      0.036595,
      0.01358,
      0.0167,
      0.004636,
      0.001836,
      0.002401,
      0.013187,
      -0.016587,
      -0.05326,
      0.001683,
      0.02377,
      0.009298,
      0.012236,
      -0.041845,
      -0.013167,
      0.031884,
      0.057139,
      -0.062394,
      -0.037018,
      -0.043437,
      0.025954,
      -0.023316,
      -0.043777,
      -0.027297,
      0.008422,
      0.030303,
      -0.020142,
      -0.076545,
      0.041689,
      -0.012718,
      -0.034997,
      -0.00238,
      0.012738,
      -0.010821,
      -0.005834,
      -0.063705,
      -0.014575,
      -0.00303,
      0.022026,
      -0.00843,
      -0.03956,
      0.015092,
      0.032789,
      -0.023628,
      -0.002823,
      -0.021539,
      0.052984,
      0.014693,
      -0.016412,
      0.022073,
      0.015069,
      -0.015118,
      -0.08426,
      -0.007388,
      -0.065244,
      0.005224,
      0.099859,
      0.030731,
      0.00902,
      -0.002083,
      0.066303,
      -0.004221,
      0.058506,
      -0.014382,
      -0.058681,
      -0.001343,
      -0.016162,
      0.000558,
      -0.027908,
      0.025988,
      0.060441,
      -0.006754,
      0.023268,
      0.048493,
      -0.028411,
      -0.133391,
      -0.022183,
      -0.014088,
      -0.004886,
      0.028109,
      -0.023936,
      0.015013,
      0.012042,
      -0.012753,
      0.069208,
      0.037432,
      -0.040092,
      -0.002124,
      -0.01779,
      -0.022577,
      -0.001111,
      -0.027059,
      -0.013872,
      0.039352,
      -0.017763,
      -0.030865,
      -0.032922,
      -0.000452,
      -0.020115,
      0.000835,
      -0.025484,
      0.079277,
      -0.035861,
      -0.076103,
      -0.019752,
      -0.035185,
      0.017605,
      0.008919,
      0.012567,
      0.016235,
      0.071203,
      0.00887,
      0.019083,
      0.031864,
      0.003453,
      0.040162,
      -0.021155,
      -0.034415,
      -0.002292,
      -0.034761,
      0.028991,
      0.016969,
      0.001343,
      -0.018495,
      0.002558,
      0.036525,
      -0.014219,
      -0.007641,
      0.015133,
      -0.052633,
      0.026401,
      0.004465,
      0.006709,
      -0.016968,
      0.007518,
      0.023787,
      -0.086954,
      0.006798,
      -0.069945,
      -0.034584,
      -0.050447,
      -0.002392,
      -0.042444,
      0.011752,
      -0.034769,
      0.000259,
      -0.074797,
      -0.004977,
      0.030358,
      -0.036615,
      0.016555,
      0.021527,
      0.000621,
      -0.021017,
      -0.046704,
      -0.073531,
      -0.039227,
      -0.019649,
      -0.013582,
      -0.052717,
      0.02646,
      -0.000032,
      -0.007628,
      -0.000373,
      0.191656,
      0.039267,
      0.015782,
      -0.071876,
      0.050177,
      0.035633,
      -0.02196,
      0.043917,
      0.022758,
      -0.033832,
      -0.03367,
      -0.027523,
      0.019153,
      -0.019972,
      0.013107,
      -0.021613,
      -0.038373,
      0.003921,
      0.037236,
      0.017349,
      0.02169,
      0.005071,
      0.055821,
      -0.017972,
      -0.055589,
      -0.037054,
      -0.024945,
      -0.002895,
      -0.0051,
      0.040448,
      0.008127,
      0.028026,
      0.043802,
      -0.006076,
      -0.041284,
      -0.052268,
      0.012287,
      -0.046971,
      -0.007844,
      0.018981,
      -0.0206,
      -0.034428,
      0.02418,
      -0.004995,
      0.004687,
      -0.00986,
      0.049048,
      -0.021279,
      0.044453,
      -0.005349,
      0.018314,
      -0.066634,
      -0.022166,
      -0.009978,
      0.009107,
      -0.020391,
      -0.037095,
      -0.004086,
      -0.057792,
      0.021066,
      0.037841,
      -0.013418,
      -0.018331,
      0.016255,
      0.00704,
      0.023436,
      0.047869,
      -0.020005,
      0.001322,
      0.005044,
      0.025372,
      0.031399,
      0.000373,
      -0.014459,
      0.038166,
      -0.023121,
      0.056157,
      0.004344,
      0.014382,
      0.060613,
      -0.005931,
      0.011149,
      -0.013657,
      0.011315,
      0.026571,
      -0.01264,
      0.017977,
      0.044774,
      -0.038974,
      -0.034289,
      -0.005351,
      0.021164,
      0.019911,
      0.07227,
      -0.049651,
      0.026595,
      0.036245,
      -0.010015,
      -0.052963,
      -0.001897,
      0.040672,
      -0.001214,
      -0.010063,
      -0.033118,
      0.019867,
      -0.066171,
      -0.000835,
      0.006303,
      -0.008426,
      0.006873,
      0.007342,
      0.039398,
      0.036025,
      -0.000792,
      -0.012707,
      0.030779,
      0.021657,
      0.03095,
      0.028096,
      0.05365,
      0.002665,
      -0.014114,
      -0.000367,
      0.009241,
      0.026117,
      -0.06637,
      -0.022501,
      0.026045,
      -0.030972,
      0.040778,
      0.013892,
      -0.026897,
      -0.04313,
      0.018051,
      0.031784,
      0.018547,
      -0.008589,
      -0.002729,
      0.041041,
      -0.02156,
      -0.013378,
      0.019167,
      -0.004221,
      -0.037273,
      -0.001706,
      0.070469,
      -0.001547,
      -0.013,
      0.013198,
      0.027592,
      0.056674,
      0.013945,
      0.036572,
      -0.087661,
      -0.008733,
      -0.024883,
      -0.029459,
      0.030647,
      0.010391,
      -0.013375,
      -0.010849,
      0.020061,
      0.015472,
      0.01116,
      -0.005393,
      0.045103,
      0.048772,
      0.020514,
      -0.005744,
      -0.02421,
      -0.003069,
      -0.034427,
      -0.051403,
      0.048342,
      0.01999,
      -0.013125,
      -0.001055,
      0.006118,
      0.03219,
      -0.024398,
      0.023002,
      -0.030348,
      -0.013993,
      0.006451,
      -0.014642,
      0.039014,
      -0.042148,
      -0.017207,
      -0.032927,
      0.013493,
      0.003554,
      0.089231,
      -0.022003,
      -0.001192,
      0.013584,
      -0.000212,
      -0.0056,
      0.017631,
      -0.001295,
      -0.036956,
      -0.033803,
      -0.019104,
      0.016911,
      -0.066041,
      0.007976,
      0.042837,
      -0.011628,
      0.036333,
      -0.001686,
      0.006155,
      0.050605,
      -0.027019,
      -0.040378,
      -0.013297,
      -0.020774,
      -0.019099,
      0.065874,
      0.060679,
      -0.032554,
      -0.019677,
      -0.004044,
      -0.028065,
      0.032205,
      -0.01572,
      -0.008195,
      0.046868,
      0.046634,
      0.046508,
      0.005076,
      -0.030203,
      -0.007154,
      -0.007919,
      -0.011956,
      -0.043416,
      -0.010765,
      -0.003586,
      0.072283,
      0.046814,
      -0.008724,
      -0.04649,
      0.028238,
      -0.071964,
      0.005255,
      0.039165,
      -0.018884,
      -0.015125,
      -0.02061,
      -0.02221,
      0.041364,
      0.033257,
      -0.001724,
      -0.011111,
      0.010037,
      -0.005146,
      -0.06085,
      -0.044772,
      0.02629,
      0.004728,
      0.01129,
      0.003557,
      -0.039515,
      0.055985,
      0.03342,
      0.002129,
      0.00446,
      -0.040872,
      -0.002706,
      -0.029396,
      -0.03677,
      0.008259,
      -0.028734,
      -0.022971,
      -0.05375,
      -0.00425,
      -0.004575,
      -0.007762,
      -0.065777,
      0.005051,
      0.022021,
      0.026366,
      0.010574,
      -0.014214,
      0.027118,
      0.008597,
      0.022499,
      -0.003019,
      -0.021076,
      0.061288,
      0.017994,
      -0.030592,
      0.028862,
      -0.022377,
      -0.034258,
      0.062237,
      -0.037546,
      0.017068,
      -0.002991,
      0.020093,
      -0.024549,
      -0.03136,
      0.010857,
      -0.008922,
      0.014828,
      -0.028663,
      0.023469,
      0.02153,
      0.025241,
      -0.074092,
      -0.000653,
      0.018633,
      -0.002298,
      -0.019168,
      -0.013149,
      0.028008,
      0.048196,
      -0.002756,
      0.048248,
      -0.060723,
      0.035816,
      0.007027,
      -0.016509,
      -0.035803,
      -0.008154,
      -0.003033,
      -0.000586,
      0.015428,
      -0.012291,
      0.002793,
      -0.012643,
      0.012257,
      -0.04456,
      0.014472,
      -0.013251,
      -0.005978,
      0.033051,
      0.003515,
      0.07026,
      0.04976,
      -0.003141,
      -0.027789,
      0.032824,
      -0.041126,
      0.093713,
      -0.056839,
      0.045882,
      0.016796,
      -0.018239,
      0.007416,
      -0.012521,
      -0.006806,
      -0.002959,
      0.026851,
      -0.018011,
      -0.017372,
      0.000702,
      -0.028849,
      0.05177,
      -0.013467,
      0.022565,
      -0.023756,
      -0.036634,
      0.021752,
      0.022985,
      -0.029407,
      -0.020029,
      0.002656,
      -0.021965,
      -0.004922,
      -0.002835,
      0.008432,
      -0.015643,
      0.01692,
      0.03174,
      -0.023992,
      -0.022713,
      0.000107,
      -0.002647,
      0.006296,
      0.005751,
      0.014316,
      -0.010432,
      -0.002772,
      -0.04007,
      0.008276,
      -0.015658,
      -0.037164,
      -0.025251,
      0.027279,
      0.014419,
      0.025207,
      -0.014999,
      -0.002441,
      -0.011238,
      0.000212,
      -0.1064,
      0.029412,
      -0.020323,
      -0.011596,
      -0.000052,
      -0.017835,
      -0.039578,
      -0.023807,
      0.027618,
      -0.04402,
      0.00471,
      0.024019,
      0.008907,
      -0.004641,
      0.016206,
      0.021003,
      0.007566,
      0.010318,
      -0.049785,
      -0.000056,
      0.034599,
      0.00213,
      0.030951,
      0.014971,
      0.016639,
      -0.032243,
      0.010513,
      -0.039669,
      -0.01472,
      -0.011335,
      0.023183,
      -0.068674,
      0.014003,
      0.029503,
      0.05032,
      0.043687,
      0.005911,
      -0.013702,
      -0.018664,
      0.045188,
      0.002356,
      0.011908,
      -0.01242,
      -0.007323,
      0.002323,
      0.066384,
      0.055395,
      -0.008575,
      0.019256,
      0.000084,
      0.020019,
      0.007632,
      -0.084213,
      0.041779,
      -0.007017,
      -0.045195,
      -0.039924,
      0.016843,
      -0.009331,
      0.000663,
      -0.04377,
      0.069258,
      0.015427,
      -0.073344,
      -0.007438,
      0.043001,
      -0.01924,
      -0.020236,
      -0.001235,
      0.053153,
      0.036724,
      -0.017742,
      -0.008606,
      0.001181,
      0.012499,
      0.038212,
      0.017034,
      -0.002938,
      0.025084,
      0.02373,
      -0.038285,
      0.014541,
      -0.022596,
      0.054926,
      0.038569,
      -0.004156,
      -0.025365,
      0.003306,
      -0.076052,
      0.029396,
      -0.042302,
      -0.032548,
      -0.002335,
      0.039018,
      0.015111,
      0.050087,
      -0.007186,
      -0.019857,
      0.016182,
      0.001497,
      0.020513,
      -0.009844,
      -0.049006,
      -0.026714,
      0.007314,
      0.044121,
      -0.006429,
      -0.02468,
      0.030935,
      -0.010832,
      0.010831,
      -0.006939,
      0.010064,
      -0.011871,
      -0.064576,
      -0.025831,
      -0.001979,
      0.020507,
      0.024019,
      0.004681,
      0.018815,
      -0.026652,
      0.034677,
      -0.039813,
      0.007545,
      0.002767,
      0.027485,
      0.026346,
      -0.012904,
      0.02715,
      -0.004027,
      -0.037525,
      0.032562,
      -0.014136,
      0.020732,
      0.004703,
      -0.034649,
      0.034658,
      -0.029115,
      -0.027595,
      -0.05421,
      -0.024874,
      0.029768,
      -0.0374,
      0.007057,
      -0.062637,
      -0.011609,
      -0.006064,
      -0.018379,
      -0.004893,
      0.003952,
      -0.012547,
      -0.008705,
      0.025977,
      -0.010016,
      0.061968,
      -0.052314,
      0.015475,
      -0.006038,
      0.021068,
      -0.026531,
      0.012741,
      -0.017613,
      0.020071,
      0.016525,
      -0.012242,
      -0.011766,
      0.008597,
      -0.006931,
      0.028157,
      0.014033,
      -0.00501,
      -0.011509,
      0.013286,
      0.062911,
      0.009314,
      -0.008816,
      0.037927,
      0.029308,
      0.024973,
      0.034175,
      -0.00259,
      0.068359,
      0.035855,
      0.030168,
      0.018473,
      0.001224,
      -0.002271,
      -0.023538,
      -0.057697,
      -0.025067,
      -0.013842,
      -0.01855,
      -0.021686,
      0.001381,
      0.013529,
      0.008459,
      0.005707,
      -0.010732,
      -0.016806,
      -0.030462,
      0.013354,
      -0.018621,
      0.002225,
      -0.011183,
      0.023241,
      -0.015876,
      0.011617,
      -0.022947,
      0.019221,
      -0.005334,
      -0.007265,
      -0.017908,
      0.029538,
      -0.018686,
      -0.020025,
      -0.035788,
      0.035691,
      -0.002809,
      0.043626,
      0.047382,
      0.02107,
      -0.035185,
      -0.031839,
      -0.056062,
      -0.00755,
      -0.002582,
      -0.009908,
      -0.006357,
      -0.015585,
      -0.013244,
      -0.015147,
      0.006378,
      0.04067,
      0.028687,
      0.006113,
      -0.039184,
      -0.009048,
      -0.034111,
      -0.076925,
      0.051008,
      -0.004514,
      0.061144,
      -0.01019
    ]
  },
  {
    "id": "v5-resolvers-0",
    "content": "# Resolvers\nBreadcrumb: Resolvers\nCovers: Example | Property resolvers | Virtual property resolvers | Options | Hooks | resolveData | resolveResult | resolveExternal | resolveQuery\nTopics: hooks, services, application, context, params, hook context, get, create, update, patch, remove, custom methods, schema, resolver, typebox, database, adapter, querying, real-time, events, client, declarations, cli, users\n\n## Example\n\nHere is an example for a standalone resolver using a custom context:\n\n```ts\nimport { resolve } from '@feathersjs/schema'\n\ntype User = {\n  id: number\n  name: string\n}\n\ntype Message = {\n  id: number\n  userId: number\n  likes: number\n  text: string\n  user: User\n}\n\nclass MyContext {\n  getUser(id) {\n    return {\n      id,\n      name: 'David'\n    }\n  }\n\n  getLikes(messageId) {\n    return 10\n  }\n}\n\nconst messageResolver = resolve<Message, MyContext>({\n  likes: (value, message, context) => {\n    return context.getLikes(message.id)\n  },\n  user: (value, message, context) => {\n    return context.getUser(message.userId)\n  }\n})\n\nconst resolvedMessage = await messageResolver.resolve(\n  {\n    id: 1,\n    userId: 23,\n    text: 'Hello!'\n  },\n  new MyContext()\n)\n```\n\n## Property resolvers\n\nProperty resolvers are a map of property names to resolver functions. A resolver function is an `async` or regular function that resolves a property on a data object. If it returns `undefined` the property will not be included. It gets passed the following parameters:\n\n- `value` - The current value which can also be `undefined`\n- `data` - The initial data object\n- `context` - The context for this resolver\n- `status` - Additional status information like current property resolver path, the properties that should be resolved or a reference to the initial context.\n\n```ts\nconst userResolver = resolve<User, MyContext>({\n  isDrinkingAge: async (value, user, context) => {\n    const drinkingAge = await context.getDrinkingAge(user.country)\n\n    return user.age >= drinkingAge\n  },\n  fullName: (value, user, context) => {\n    return `${user.firstName} ${user.lastName}`\n  }\n})\n```\n\n> **danger:**\n> \n> Property resolver functions should only return a value and not have side effects. This means a property resolver **should not** do things like create new data or modify the `data` or `context` object. [Hooks](../hooks.md) should be used for side effects.\n>\n\n## Virtual property resolvers\n\nVirtual resolvers are property resolvers that do not use the `value` but instead always return a value of their own. The parameters are (`(data, context, status)`). The above example can be written like this:\n\n```ts\nimport { resolve, virtual } from '@feathersjs/schema'\n\nconst userResolver = resolve<User, MyContext>({\n  isDrinkingAge: virtual(async (user, context) => {\n    const drinkingAge = await context.getDrinkingAge(user.country)\n\n    return user.age >= drinkingAge\n  }),\n  fullName: virtual((user, context) => {\n    return `${user.firstName} ${user.lastName}`\n  })\n})\n```\n\n> **Important:**\n> \n> Virtual resolvers should always be used when combined with a [database adapter](../databases/adapters.md) in order to make valid [$select queries](../databases/querying.md#select). Otherwise queries could try to select fields that do not exist in the database which will throw an error.\n>\n\n## Options\n\nA resolver takes the following options as the second parameter:\n\n- `converter` (optional): A `(data, context) => {}` or `async (data, context) => {}` function that can return a completely new representation of the data. A `converter` runs before `properties` resolvers.\n\n```ts\nconst userResolver = resolve<User, MyContext>(\n  {\n    isDrinkingAge: async (value, user, context) => {\n      const drinkingAge = await context.getDrinkingAge(user.country)\n\n      return user.age >= drinkingAge\n    },\n    fullName: async (value, user, context) => {\n      return `${user.firstName} ${user.lastName}`\n    }\n  },\n  {\n    // Convert the raw data into a new structure before running property resolvers\n    converter: async (rawData, context) => {\n      return {\n        firstName: rawData.data.first_name,\n        lastName: rawData.data.last_name\n      }\n    }\n  }\n)\n```\n\n## Hooks\n\nIn a Feathers application, resolvers are used through [hooks](../hooks.md) to convert service `query`, `data` and `response`. The context for these resolvers is always the [hook context](../hooks.md#hook-context).\n\n### resolveData\n\nData resolvers use the `hooks.resolveData(...resolvers)` hook and convert the `data` from a `create`, `update` or `patch` [service method](../services.md) or a [custom method](../services.md#custom-methods). This can be used to validate against the schema and e.g. hash a password before storing it in the database or to remove properties the user is not allowed to write. It is possible to pass multiple objects containing resolvers which will run in the order they are passed. Subsequent resolver objects will receive the output from previous resolvers. `schemaHooks.resolveData` can be used as an `around` and `before` hook.\n\n```ts\nimport { hooks as schemaHooks, resolve } from '@feathersjs/schema'\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport type { HookContext } from '../declarations'\n\nconst messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    updatedAt: Type.Number(),\n    userId: Type.Number()\n  },\n  { $id: 'Message', additionalProperties: false }\n)\n\ntype Message = Static<typeof messageSchema>\n\n// Pick the data for creating a new message\nconst messageDataSchema = Type.Pick(messageSchema, ['text'])\ntype MessageData = Static<typeof messageDataSchema>\n\n// Resolver that automatically set `userId` and `createdAt`\nconst messageDataResolver = resolve<Message, HookContext>({\n  // Associate the currently authenticated user\n  userId: (value, message, context) => context.params?.user.id,\n  // Return the current date\n  createdAt: () => Date.now()\n})\n\n// Resolver that automatically sets `updatedAt`\nconst messagePatchResolver = resolve<Message, HookContext>({\n  // Return the current date\n  updatedAt: () => Date.now()\n})\n\napp.service('users').hooks({\n  before: {\n    create: [schemaHooks.resolveData(messageDataResolver)],\n    patch: [schemaHooks.resolveData(messagePatchResolver)]\n  }\n})\n```\n\nNote that as an `all` hook `resolveData` will run for any method that has `data`, including [custom methods](../services.md#custom-methods). If you want to validate custom methods differently the hook should be registered on each service method it is used:\n\n```ts\napp.service('users').hooks({\n  before: {\n    create: [schemaHooks.resolveData(messageDataResolver)],\n    update: [schemaHooks.resolveData(messageDataResolver)],\n    patch: [schemaHooks.resolveData(messageDataResolver)],\n    customMethod: [schemaHooks.resolveData(customMethodDataResolver)]\n  }\n})\n```\n\n### resolveResult\n\nResult resolvers use the `hooks.resolveResult(...resolvers)` hook and resolve the data that is returned by a service call ([context.result](../hooks.md#context-result) in a hook). This can be used to populate associations or add other computed properties etc. It is possible to pass multiple resolvers which will run in the order they are passed, using the previous data.\n\n> **Important:**\n> \n> `schemaHooks.resolveResult` must be used as an `around` hook. This is to ensure that the database adapters will be able to handle [$select queries](../databases/querying.md#select) properly when using [virtual properties](#virtual-property-resolvers).\n> \n\n```ts\nimport { hooks as schemaHooks, resolve, virtual } from '@feathersjs/schema'\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport type { HookContext } from '../declarations'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\nconst messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    userId: Type.Number(),\n    user: Type.Ref(userSchema)\n  },\n  { $id: 'Message', additionalProperties: false }\n)\n\ntype Message = Static<typeof messageSchema>\n\nexport const messageResolver = resolve<Message, HookContext>({\n  user: virtual(async (message, context) => {\n    // Populate the user associated via `userId`\n    const user = await context.app.service('users').get(message.userId)\n    return user\n  })\n})\n\napp.service('messages').hooks({\n  around: {\n    all: [schemaHooks.resolveResult(messageResolver)]\n  }\n})\n```\n\n### resolveExternal\n\nExternal (or dispatch) resolver use the `hooks.resolveDispatch(...resolvers)` hook to return a safe version of the data that will be sent to external clients. It is possible to pass multiple resolvers which will run in the order they are passed, using the previous data. Returning `undefined` for a property resolver will exclude the property which can be used to hide sensitive data like the user password. This includes nested associations and real-time events. `schemaHooks.resolveExternal` can be used as an `around` or `after` hook.\n\n```ts\nimport { hooks as schemaHooks, resolve } from '@feathersjs/schema'\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport type { HookContext } from '../declarations'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\nexport const userExternalResolver = resolve<User, HookContext>({\n  // Always hide the password for external responses\n  password: () => undefined\n})\n\n// Dispatch should be resolved on every method\napp.service('users').hooks({\n  around: {\n    all: [schemaHooks.resolveExternal(userExternalResolver)]\n  }\n})\n```\n\n> **important:**\n> \n> In order to get the safe data from resolved associations **all services** involved need the `schemaHooks.resolveExternal` hook registered even if it does not need a resolver (`schemaHooks.resolveExternal()`).\n> \n> `schemaHooks.resolveExternal` should be registered first when used as an `around` hook or last when used as an `after` hook so that it gets the final result data.\n>\n\n### resolveQuery\n\nQuery resolvers use the `hooks.resolveQuery(...resolvers)` hook to modify `params.query`. This is often used to set default values or limit the query so a user can only request data they are allowed to see. It is possible to pass multiple resolvers which will run in the order they are passed, using the previous data. `schemaHooks.resolveQuery` can be used as an `around` or `before` hook.\n\nIn this example for a `User` schema we are first checking if a user is available in our request. In the case a user is available we are returning the user's ID. Otherwise we return whatever value was provided for `id`.\n\n`context.params.user` would only be set if the request contains a user. This is usually the case when an external request is made. In the case of an internal request we may not have a specific user we are dealing with, and we will just return `value`.\n\nIf we were to receive an internal request, such as `app.service('users').get(123)`, `context.params.user` would be `undefined` and we would just return the `value` which is `123`.\n\n```ts\nimport { hooks as schemaHooks, resolve } from '@feathersjs/schema'\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport type { HookContext } from '../declarations'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\nexport const userQueryProperties = Type.Pick(userSchema, ['id', 'email'])\nexport const userQuerySchema = querySyntax(userQueryProperties)\nexport type UserQuery = Static<typeof userQuerySchema>\n\nexport const userQueryResolver = resolve<UserQuery, HookContext>({\n  // If there is an authenticated user, they can only see their own data\n  id: (value, query, context) => {\n    if (context.params.user) {\n      return context.params.user.id\n    }\n\n    return value\n  }\n})\n\n// The query can be resolved on every method\napp.service('users').hooks({\n  before: {\n    all: [resolveQuery(userQueryResolver)]\n  }\n})\n```\n\nFor a more complicated example. We will make a separate `queryResolver`, called `companyFilterQueryResolver`, that will act as a ownership filter. We will have a `Company` service that is owned by a `User`. We will assume our app has two registered users and two companies. Each user owning one company. For simplicity, `User1` owns `Company1`, and `User2` owns `Company2`\n\nWe want to make sure only the user that owns the company can make any requests related to it. Our schema contains a `ownerUser` field, this is the owner of the company. When a request is made to the company schema, we are effectivly filtering our search for companies to be only those whose `ownerUser` matches the requesting user's id.\n\nSo if a `GET /company` request is made by `User1`, our resolver will convert our query to `GET /company?name=Company1&ownerUser={User1.id}`. The result will only return an array of 1 company to `User1`\n\nSimilarily, if a patch request was made by `User1` to modify `Company2`. A `404` would occur, as resulting query would search the database for a `Company2` that is owned by `User1` which does not exist.\n\n```ts\n// Main data model schema\nexport const companySchema = Type.Object(\n  {\n    id: Type.String({ format: 'uuid' }),\n    name: Type.String(),\n    ownerUser: Type.Ref(userSchema)\n  },\n  { $id: 'Company', additionalProperties: false }\n)\n\n// Schema for allowed query properties\nexport const companyQueryProperties = Type.Pick(companySchema, ['id'])\nexport const companyQuerySchema = Type.Intersect(\n  [\n    querySyntax(companyQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type CompanyQuery = Static<typeof companyQuerySchema>\nexport const companyQueryValidator = getValidator(companyQuerySchema, queryValidator)\nexport const companyQueryResolver = resolve<CompanyQuery, HookContext>({})\n\nexport const companyFilterQueryResolver = resolve<Company, HookContext>({\n  ownerUser: (value, obj, context) => {\n    if (context.params.user) {\n      return context.params.user.id\n    }\n    return value\n  }\n})\n```",
    "rawContent": "## Example\n\nHere is an example for a standalone resolver using a custom context:\n\n```ts\nimport { resolve } from '@feathersjs/schema'\n\ntype User = {\n  id: number\n  name: string\n}\n\ntype Message = {\n  id: number\n  userId: number\n  likes: number\n  text: string\n  user: User\n}\n\nclass MyContext {\n  getUser(id) {\n    return {\n      id,\n      name: 'David'\n    }\n  }\n\n  getLikes(messageId) {\n    return 10\n  }\n}\n\nconst messageResolver = resolve<Message, MyContext>({\n  likes: (value, message, context) => {\n    return context.getLikes(message.id)\n  },\n  user: (value, message, context) => {\n    return context.getUser(message.userId)\n  }\n})\n\nconst resolvedMessage = await messageResolver.resolve(\n  {\n    id: 1,\n    userId: 23,\n    text: 'Hello!'\n  },\n  new MyContext()\n)\n```\n\n## Property resolvers\n\nProperty resolvers are a map of property names to resolver functions. A resolver function is an `async` or regular function that resolves a property on a data object. If it returns `undefined` the property will not be included. It gets passed the following parameters:\n\n- `value` - The current value which can also be `undefined`\n- `data` - The initial data object\n- `context` - The context for this resolver\n- `status` - Additional status information like current property resolver path, the properties that should be resolved or a reference to the initial context.\n\n```ts\nconst userResolver = resolve<User, MyContext>({\n  isDrinkingAge: async (value, user, context) => {\n    const drinkingAge = await context.getDrinkingAge(user.country)\n\n    return user.age >= drinkingAge\n  },\n  fullName: (value, user, context) => {\n    return `${user.firstName} ${user.lastName}`\n  }\n})\n```\n\n> **danger:**\n> \n> Property resolver functions should only return a value and not have side effects. This means a property resolver **should not** do things like create new data or modify the `data` or `context` object. [Hooks](../hooks.md) should be used for side effects.\n>\n\n## Virtual property resolvers\n\nVirtual resolvers are property resolvers that do not use the `value` but instead always return a value of their own. The parameters are (`(data, context, status)`). The above example can be written like this:\n\n```ts\nimport { resolve, virtual } from '@feathersjs/schema'\n\nconst userResolver = resolve<User, MyContext>({\n  isDrinkingAge: virtual(async (user, context) => {\n    const drinkingAge = await context.getDrinkingAge(user.country)\n\n    return user.age >= drinkingAge\n  }),\n  fullName: virtual((user, context) => {\n    return `${user.firstName} ${user.lastName}`\n  })\n})\n```\n\n> **Important:**\n> \n> Virtual resolvers should always be used when combined with a [database adapter](../databases/adapters.md) in order to make valid [$select queries](../databases/querying.md#select). Otherwise queries could try to select fields that do not exist in the database which will throw an error.\n>\n\n## Options\n\nA resolver takes the following options as the second parameter:\n\n- `converter` (optional): A `(data, context) => {}` or `async (data, context) => {}` function that can return a completely new representation of the data. A `converter` runs before `properties` resolvers.\n\n```ts\nconst userResolver = resolve<User, MyContext>(\n  {\n    isDrinkingAge: async (value, user, context) => {\n      const drinkingAge = await context.getDrinkingAge(user.country)\n\n      return user.age >= drinkingAge\n    },\n    fullName: async (value, user, context) => {\n      return `${user.firstName} ${user.lastName}`\n    }\n  },\n  {\n    // Convert the raw data into a new structure before running property resolvers\n    converter: async (rawData, context) => {\n      return {\n        firstName: rawData.data.first_name,\n        lastName: rawData.data.last_name\n      }\n    }\n  }\n)\n```\n\n## Hooks\n\nIn a Feathers application, resolvers are used through [hooks](../hooks.md) to convert service `query`, `data` and `response`. The context for these resolvers is always the [hook context](../hooks.md#hook-context).\n\n### resolveData\n\nData resolvers use the `hooks.resolveData(...resolvers)` hook and convert the `data` from a `create`, `update` or `patch` [service method](../services.md) or a [custom method](../services.md#custom-methods). This can be used to validate against the schema and e.g. hash a password before storing it in the database or to remove properties the user is not allowed to write. It is possible to pass multiple objects containing resolvers which will run in the order they are passed. Subsequent resolver objects will receive the output from previous resolvers. `schemaHooks.resolveData` can be used as an `around` and `before` hook.\n\n```ts\nimport { hooks as schemaHooks, resolve } from '@feathersjs/schema'\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport type { HookContext } from '../declarations'\n\nconst messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    updatedAt: Type.Number(),\n    userId: Type.Number()\n  },\n  { $id: 'Message', additionalProperties: false }\n)\n\ntype Message = Static<typeof messageSchema>\n\n// Pick the data for creating a new message\nconst messageDataSchema = Type.Pick(messageSchema, ['text'])\ntype MessageData = Static<typeof messageDataSchema>\n\n// Resolver that automatically set `userId` and `createdAt`\nconst messageDataResolver = resolve<Message, HookContext>({\n  // Associate the currently authenticated user\n  userId: (value, message, context) => context.params?.user.id,\n  // Return the current date\n  createdAt: () => Date.now()\n})\n\n// Resolver that automatically sets `updatedAt`\nconst messagePatchResolver = resolve<Message, HookContext>({\n  // Return the current date\n  updatedAt: () => Date.now()\n})\n\napp.service('users').hooks({\n  before: {\n    create: [schemaHooks.resolveData(messageDataResolver)],\n    patch: [schemaHooks.resolveData(messagePatchResolver)]\n  }\n})\n```\n\nNote that as an `all` hook `resolveData` will run for any method that has `data`, including [custom methods](../services.md#custom-methods). If you want to validate custom methods differently the hook should be registered on each service method it is used:\n\n```ts\napp.service('users').hooks({\n  before: {\n    create: [schemaHooks.resolveData(messageDataResolver)],\n    update: [schemaHooks.resolveData(messageDataResolver)],\n    patch: [schemaHooks.resolveData(messageDataResolver)],\n    customMethod: [schemaHooks.resolveData(customMethodDataResolver)]\n  }\n})\n```\n\n### resolveResult\n\nResult resolvers use the `hooks.resolveResult(...resolvers)` hook and resolve the data that is returned by a service call ([context.result](../hooks.md#context-result) in a hook). This can be used to populate associations or add other computed properties etc. It is possible to pass multiple resolvers which will run in the order they are passed, using the previous data.\n\n> **Important:**\n> \n> `schemaHooks.resolveResult` must be used as an `around` hook. This is to ensure that the database adapters will be able to handle [$select queries](../databases/querying.md#select) properly when using [virtual properties](#virtual-property-resolvers).\n> \n\n```ts\nimport { hooks as schemaHooks, resolve, virtual } from '@feathersjs/schema'\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport type { HookContext } from '../declarations'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\nconst messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    userId: Type.Number(),\n    user: Type.Ref(userSchema)\n  },\n  { $id: 'Message', additionalProperties: false }\n)\n\ntype Message = Static<typeof messageSchema>\n\nexport const messageResolver = resolve<Message, HookContext>({\n  user: virtual(async (message, context) => {\n    // Populate the user associated via `userId`\n    const user = await context.app.service('users').get(message.userId)\n    return user\n  })\n})\n\napp.service('messages').hooks({\n  around: {\n    all: [schemaHooks.resolveResult(messageResolver)]\n  }\n})\n```\n\n### resolveExternal\n\nExternal (or dispatch) resolver use the `hooks.resolveDispatch(...resolvers)` hook to return a safe version of the data that will be sent to external clients. It is possible to pass multiple resolvers which will run in the order they are passed, using the previous data. Returning `undefined` for a property resolver will exclude the property which can be used to hide sensitive data like the user password. This includes nested associations and real-time events. `schemaHooks.resolveExternal` can be used as an `around` or `after` hook.\n\n```ts\nimport { hooks as schemaHooks, resolve } from '@feathersjs/schema'\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport type { HookContext } from '../declarations'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\nexport const userExternalResolver = resolve<User, HookContext>({\n  // Always hide the password for external responses\n  password: () => undefined\n})\n\n// Dispatch should be resolved on every method\napp.service('users').hooks({\n  around: {\n    all: [schemaHooks.resolveExternal(userExternalResolver)]\n  }\n})\n```\n\n> **important:**\n> \n> In order to get the safe data from resolved associations **all services** involved need the `schemaHooks.resolveExternal` hook registered even if it does not need a resolver (`schemaHooks.resolveExternal()`).\n> \n> `schemaHooks.resolveExternal` should be registered first when used as an `around` hook or last when used as an `after` hook so that it gets the final result data.\n>\n\n### resolveQuery\n\nQuery resolvers use the `hooks.resolveQuery(...resolvers)` hook to modify `params.query`. This is often used to set default values or limit the query so a user can only request data they are allowed to see. It is possible to pass multiple resolvers which will run in the order they are passed, using the previous data. `schemaHooks.resolveQuery` can be used as an `around` or `before` hook.\n\nIn this example for a `User` schema we are first checking if a user is available in our request. In the case a user is available we are returning the user's ID. Otherwise we return whatever value was provided for `id`.\n\n`context.params.user` would only be set if the request contains a user. This is usually the case when an external request is made. In the case of an internal request we may not have a specific user we are dealing with, and we will just return `value`.\n\nIf we were to receive an internal request, such as `app.service('users').get(123)`, `context.params.user` would be `undefined` and we would just return the `value` which is `123`.\n\n```ts\nimport { hooks as schemaHooks, resolve } from '@feathersjs/schema'\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport type { HookContext } from '../declarations'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\nexport const userQueryProperties = Type.Pick(userSchema, ['id', 'email'])\nexport const userQuerySchema = querySyntax(userQueryProperties)\nexport type UserQuery = Static<typeof userQuerySchema>\n\nexport const userQueryResolver = resolve<UserQuery, HookContext>({\n  // If there is an authenticated user, they can only see their own data\n  id: (value, query, context) => {\n    if (context.params.user) {\n      return context.params.user.id\n    }\n\n    return value\n  }\n})\n\n// The query can be resolved on every method\napp.service('users').hooks({\n  before: {\n    all: [resolveQuery(userQueryResolver)]\n  }\n})\n```\n\nFor a more complicated example. We will make a separate `queryResolver`, called `companyFilterQueryResolver`, that will act as a ownership filter. We will have a `Company` service that is owned by a `User`. We will assume our app has two registered users and two companies. Each user owning one company. For simplicity, `User1` owns `Company1`, and `User2` owns `Company2`\n\nWe want to make sure only the user that owns the company can make any requests related to it. Our schema contains a `ownerUser` field, this is the owner of the company. When a request is made to the company schema, we are effectivly filtering our search for companies to be only those whose `ownerUser` matches the requesting user's id.\n\nSo if a `GET /company` request is made by `User1`, our resolver will convert our query to `GET /company?name=Company1&ownerUser={User1.id}`. The result will only return an array of 1 company to `User1`\n\nSimilarily, if a patch request was made by `User1` to modify `Company2`. A `404` would occur, as resulting query would search the database for a `Company2` that is owned by `User1` which does not exist.\n\n```ts\n// Main data model schema\nexport const companySchema = Type.Object(\n  {\n    id: Type.String({ format: 'uuid' }),\n    name: Type.String(),\n    ownerUser: Type.Ref(userSchema)\n  },\n  { $id: 'Company', additionalProperties: false }\n)\n\n// Schema for allowed query properties\nexport const companyQueryProperties = Type.Pick(companySchema, ['id'])\nexport const companyQuerySchema = Type.Intersect(\n  [\n    querySyntax(companyQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type CompanyQuery = Static<typeof companyQuerySchema>\nexport const companyQueryValidator = getValidator(companyQuerySchema, queryValidator)\nexport const companyQueryResolver = resolve<CompanyQuery, HookContext>({})\n\nexport const companyFilterQueryResolver = resolve<Company, HookContext>({\n  ownerUser: (value, obj, context) => {\n    if (context.params.user) {\n      return context.params.user.id\n    }\n    return value\n  }\n})\n```",
    "breadcrumb": "Resolvers",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/schema/resolvers.md",
    "heading": "Resolvers",
    "subHeadings": [
      "Example",
      "Property resolvers",
      "Virtual property resolvers",
      "Options",
      "Hooks",
      "resolveData",
      "resolveResult",
      "resolveExternal",
      "resolveQuery"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 3570,
    "category": "schema",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "hook context",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "custom methods",
      "schema",
      "resolver",
      "typebox",
      "database",
      "adapter",
      "querying",
      "real-time",
      "events",
      "client",
      "declarations",
      "cli",
      "users"
    ],
    "embedding": [
      0.003095,
      0.021106,
      -0.04393,
      0.023634,
      -0.021846,
      0.002966,
      0.020429,
      0.016295,
      0.030711,
      -0.012132,
      -0.027783,
      0.037924,
      -0.036158,
      0.009313,
      0.033531,
      0.003056,
      -0.034199,
      -0.021793,
      0.027541,
      0.013059,
      -0.041187,
      0.004895,
      -0.020914,
      0.022228,
      0.04876,
      0.025658,
      0.008939,
      -0.014509,
      -0.027042,
      0.038071,
      -0.001186,
      0.002871,
      -0.003915,
      -0.033304,
      0.005266,
      -0.014433,
      -0.010655,
      -0.023079,
      -0.038869,
      0.045133,
      -0.02244,
      -0.00945,
      -0.001287,
      -0.012264,
      0.007262,
      -0.024665,
      0.002477,
      -0.027891,
      0.006648,
      -0.048578,
      -0.048148,
      0.016277,
      0.036111,
      -0.051327,
      0.032268,
      0.033349,
      -0.065554,
      0.011402,
      -0.018441,
      -0.009294,
      -0.009275,
      0.013714,
      -0.018158,
      -0.019794,
      0.019964,
      0.037617,
      0.000117,
      0.01784,
      -0.022977,
      -0.021008,
      -0.012603,
      -0.013522,
      -0.054372,
      -0.022101,
      -0.061065,
      -0.000814,
      0.02044,
      0.016596,
      -0.044121,
      0.004,
      -0.024336,
      -0.002439,
      -0.013997,
      0.002019,
      0.014571,
      0.021214,
      -0.023372,
      0.01047,
      0.020546,
      -0.009297,
      0.016183,
      -0.003216,
      0.042911,
      -0.045072,
      -0.017191,
      0.015324,
      -0.052282,
      -0.000159,
      0.034531,
      -0.001692,
      -0.008735,
      0.007167,
      -0.005499,
      -0.021055,
      0.051991,
      0.008365,
      0.029389,
      0.010584,
      0.014384,
      -0.032188,
      0.024926,
      -0.056571,
      0.028178,
      -0.000414,
      0.002227,
      -0.029619,
      -0.001017,
      -0.025404,
      0.052154,
      -0.016897,
      0.015492,
      0.024332,
      0.035832,
      -0.028518,
      -0.046475,
      0.026645,
      -0.029005,
      0.054708,
      0.005171,
      -0.014283,
      0.000273,
      -0.040135,
      -0.035997,
      0.013347,
      -0.0392,
      -0.009149,
      0.02416,
      0.029477,
      -0.011429,
      -0.083378,
      0.045343,
      0.029109,
      -0.017234,
      -0.022153,
      0.069611,
      0.001806,
      0.071459,
      0.046582,
      0.015377,
      -0.003402,
      0.01935,
      0.026161,
      -0.014378,
      0.003451,
      0.004423,
      -0.060789,
      -0.025557,
      0.047864,
      0.011317,
      0.005213,
      -0.023465,
      0.006394,
      -0.023788,
      0.009988,
      0.050318,
      -0.013318,
      -0.010529,
      -0.013594,
      -0.010663,
      -0.014604,
      0.031646,
      -0.019939,
      0.014336,
      -0.011117,
      0.013725,
      0.014496,
      0.068612,
      0.026865,
      0.015631,
      -0.016815,
      -0.047791,
      0.002809,
      -0.040136,
      -0.055456,
      -0.013786,
      0.039078,
      -0.003967,
      0.002842,
      -0.00106,
      0.060659,
      -0.028653,
      0.001432,
      0.074582,
      0.034375,
      0.01782,
      -0.028082,
      -0.044542,
      -0.032851,
      0.01697,
      0.02549,
      -0.005246,
      0.070987,
      -0.010098,
      0.017372,
      -0.042844,
      -0.022892,
      -0.031553,
      -0.067912,
      0.003331,
      -0.02016,
      0.008769,
      0.034678,
      -0.003225,
      0.006076,
      -0.027741,
      0.022187,
      -0.013368,
      -0.011261,
      -0.004458,
      -0.026652,
      0.023269,
      0.024383,
      -0.006634,
      0.025205,
      0.003084,
      0.018385,
      0.028456,
      0.010424,
      0.025076,
      0.031989,
      0.006432,
      -0.003255,
      0.035062,
      -0.015069,
      0.054645,
      -0.029155,
      -0.00099,
      0.011385,
      0.012099,
      0.02416,
      -0.043966,
      -0.028436,
      0.049285,
      -0.019184,
      -0.046362,
      0.015359,
      0.037525,
      0.003176,
      -0.065198,
      -0.031812,
      -0.008881,
      -0.022658,
      0.000689,
      0.035108,
      0.037213,
      0.00598,
      0.004873,
      -0.005396,
      -0.000668,
      -0.013699,
      0.024896,
      0.028968,
      0.023934,
      0.011645,
      0.049989,
      -0.007814,
      -0.025305,
      -0.034159,
      0.024543,
      0.031792,
      -0.028354,
      -0.013053,
      0.057384,
      -0.027996,
      -0.039235,
      -0.006037,
      -0.010524,
      -0.000776,
      0.070594,
      0.024786,
      0.004169,
      -0.013544,
      0.022021,
      0.008995,
      0.036883,
      -0.009667,
      -0.040007,
      -0.004521,
      0.026209,
      -0.014518,
      0.041894,
      -0.017504,
      0.064952,
      0.024853,
      -0.026757,
      -0.024176,
      0.007208,
      -0.170925,
      0.016454,
      0.02544,
      0.005626,
      0.011734,
      -0.021076,
      -0.032457,
      0.025143,
      -0.03437,
      0.063225,
      -0.011793,
      -0.050482,
      -0.007261,
      -0.003066,
      0.005448,
      -0.023642,
      -0.003725,
      0.006502,
      0.04915,
      -0.052907,
      -0.031867,
      -0.040585,
      0.063625,
      -0.066989,
      0.018854,
      -0.006586,
      0.041285,
      0.019507,
      -0.033581,
      -0.023592,
      -0.034449,
      0.001817,
      -0.000931,
      0.032254,
      -0.010324,
      -0.007984,
      0.000686,
      -0.045206,
      -0.002031,
      -0.029002,
      0.016478,
      0.023496,
      -0.001355,
      0.046547,
      0.020811,
      -0.008936,
      0.046425,
      0.00038,
      0.011801,
      -0.00843,
      -0.006679,
      -0.002553,
      0.010701,
      -0.016531,
      -0.034781,
      -0.013178,
      0.02186,
      0.0684,
      -0.015826,
      0.001683,
      0.000766,
      -0.027067,
      0.048958,
      -0.007921,
      -0.041144,
      -0.013135,
      0.043648,
      0.004981,
      0.023816,
      -0.025147,
      0.042266,
      -0.061062,
      -0.022536,
      -0.010403,
      0.005189,
      0.009558,
      0.035015,
      0.015567,
      -0.010452,
      -0.10369,
      -0.016944,
      0.000352,
      -0.012233,
      0.020539,
      -0.031983,
      0.014282,
      0.019917,
      -0.025284,
      0.051303,
      0.290995,
      0.060724,
      -0.013919,
      -0.008413,
      0.030717,
      0.01373,
      0.02296,
      0.050278,
      -0.000862,
      -0.033494,
      0.016447,
      0.043309,
      0.00628,
      0.020654,
      -0.020613,
      0.033812,
      -0.041087,
      0.016472,
      0.058573,
      0.002397,
      0.028806,
      -0.034148,
      -0.007206,
      0.022204,
      -0.032303,
      -0.034422,
      -0.036071,
      0.055104,
      -0.024223,
      0.015803,
      -0.017309,
      0.010827,
      0.048179,
      -0.045697,
      -0.019405,
      -0.01058,
      -0.00159,
      -0.013077,
      -0.060607,
      0.040237,
      -0.010598,
      -0.030614,
      0.012732,
      0.006299,
      -0.022491,
      -0.02416,
      -0.008752,
      0.017558,
      -0.047776,
      -0.005386,
      -0.063971,
      -0.050874,
      0.001009,
      0.023767,
      -0.013638,
      -0.0175,
      0.020215,
      -0.009526,
      -0.03725,
      -0.000062,
      0.032528,
      -0.000696,
      -0.050874,
      0.001764,
      0.015216,
      0.011037,
      -0.000638,
      -0.029191,
      0.003709,
      0.050335,
      0.003722,
      0.019888,
      0.032058,
      -0.009485,
      0.035043,
      0.014744,
      0.003544,
      0.018725,
      -0.006356,
      0.061128,
      -0.029513,
      0.007968,
      0.011205,
      -0.012266,
      0.024373,
      -0.004732,
      0.007739,
      0.05928,
      -0.013939,
      -0.010038,
      -0.017691,
      -0.001831,
      -0.011189,
      0.029925,
      0.000101,
      0.021816,
      0.030225,
      0.009239,
      -0.034928,
      -0.005228,
      0.074491,
      0.027361,
      0.007891,
      -0.0387,
      0.020837,
      -0.059532,
      0.001994,
      0.034302,
      -0.009147,
      -0.020025,
      -0.044367,
      0.007106,
      -0.016415,
      -0.022067,
      0.016479,
      0.071956,
      0.029263,
      0.002741,
      0.045534,
      0.021269,
      -0.011585,
      0.047022,
      -0.028645,
      0.003896,
      0.01017,
      -0.051853,
      -0.037003,
      0.011511,
      -0.046013,
      0.057599,
      0.026962,
      -0.029375,
      0.022197,
      0.017427,
      0.028012,
      0.002158,
      -0.004695,
      0.04556,
      0.002695,
      0.015001,
      -0.020299,
      -0.045602,
      -0.020806,
      0.025681,
      0.001072,
      0.040781,
      -0.026023,
      0.002244,
      -0.034247,
      -0.010342,
      0.062443,
      0.034879,
      0.018482,
      -0.053809,
      -0.020187,
      -0.045057,
      -0.014746,
      -0.005173,
      -0.01812,
      -0.00557,
      -0.001334,
      0.017554,
      -0.0077,
      0.046891,
      0.011293,
      0.015293,
      0.032548,
      0.024819,
      -0.04378,
      -0.011424,
      -0.018906,
      -0.050743,
      -0.059742,
      0.014917,
      -0.024583,
      0.03425,
      -0.025775,
      0.034134,
      0.007883,
      -0.028235,
      -0.012221,
      0.002094,
      -0.079115,
      0.052324,
      -0.043983,
      0.041831,
      0.027753,
      -0.012536,
      0.016461,
      -0.045733,
      -0.043394,
      0.114875,
      -0.019003,
      -0.007371,
      0.034023,
      -0.0048,
      0.037816,
      0.058682,
      0.00495,
      -0.002026,
      0.00513,
      -0.005956,
      0.020228,
      0.031304,
      -0.016744,
      -0.013885,
      -0.004031,
      0.004513,
      -0.04814,
      0.020543,
      -0.00464,
      -0.016493,
      -0.041067,
      -0.012184,
      0.029613,
      -0.027162,
      0.029212,
      0.037528,
      -0.008731,
      0.016029,
      -0.032631,
      0.013224,
      0.007259,
      -0.016471,
      -0.017947,
      -0.006892,
      0.035584,
      -0.010428,
      -0.002451,
      0.001002,
      0.005009,
      -0.026786,
      -0.026712,
      -0.036006,
      -0.031141,
      -0.000641,
      0.035418,
      0.02151,
      -0.015881,
      0.011958,
      0.021511,
      -0.012412,
      0.027158,
      0.04046,
      -0.004931,
      -0.02206,
      -0.030172,
      -0.002471,
      -0.0096,
      0.065997,
      -0.003976,
      -0.001708,
      0.003415,
      -0.004028,
      -0.009109,
      0.038111,
      0.012069,
      -0.02804,
      -0.027606,
      -0.041645,
      0.025208,
      -0.003382,
      -0.002392,
      0.015385,
      0.012047,
      -0.080861,
      0.007162,
      -0.02743,
      -0.003728,
      0.012053,
      -0.015938,
      0.003351,
      -0.008945,
      -0.011866,
      -0.016008,
      -0.000564,
      -0.033503,
      0.037894,
      0.059685,
      0.025853,
      -0.0494,
      0.022546,
      0.020525,
      0.026432,
      -0.000115,
      0.009117,
      -0.015897,
      -0.038642,
      0.021882,
      -0.044963,
      0.015675,
      -0.010652,
      0.001166,
      0.03958,
      -0.026892,
      0.014428,
      -0.026856,
      -0.016679,
      0.0098,
      0.022686,
      -0.043167,
      0.002505,
      0.01221,
      -0.001271,
      0.002366,
      0.011917,
      -0.016354,
      -0.031396,
      0.006594,
      0.011687,
      -0.017955,
      -0.049393,
      0.027103,
      0.023575,
      0.026429,
      -0.022556,
      0.064956,
      -0.008129,
      -0.001506,
      -0.010464,
      0.025237,
      0.000833,
      -0.046119,
      -0.008296,
      0.044316,
      0.031042,
      -0.001335,
      -0.060252,
      -0.042154,
      0.026558,
      -0.05406,
      -0.020029,
      0.004006,
      -0.033395,
      -0.016303,
      0.008426,
      0.036509,
      -0.00047,
      0.039892,
      -0.044988,
      0.025465,
      -0.015264,
      0.057847,
      -0.019444,
      0.017173,
      -0.010152,
      -0.020289,
      0.010537,
      -0.021943,
      -0.008557,
      0.016523,
      0.000824,
      -0.014194,
      -0.014573,
      0.029503,
      0.020783,
      -0.003879,
      0.013365,
      0.013279,
      -0.006787,
      -0.042602,
      0.011302,
      -0.003224,
      -0.003945,
      0.027808,
      0.018249,
      -0.005373,
      -0.018469,
      0.019199,
      0.01266,
      0.0107,
      -0.00774,
      -0.016086,
      0.004673,
      -0.057493,
      0.012235,
      -0.024728,
      0.002279,
      0.019858,
      -0.010407,
      -0.04383,
      -0.035792,
      -0.04322,
      -0.010507,
      -0.043617,
      0.009615,
      0.002414,
      0.036214,
      0.013578,
      0.002667,
      0.00315,
      -0.015256,
      -0.021074,
      0.019485,
      -0.160721,
      0.009993,
      0.009078,
      -0.002722,
      -0.011221,
      0.002663,
      0.006692,
      -0.039529,
      0.007934,
      -0.030165,
      -0.047387,
      -0.026978,
      0.014529,
      -0.019872,
      -0.007221,
      0.027102,
      -0.004037,
      -0.011972,
      -0.02379,
      -0.044019,
      0.007184,
      0.013653,
      0.002996,
      -0.009302,
      0.048747,
      -0.003222,
      -0.00405,
      -0.028045,
      -0.024414,
      -0.005097,
      -0.008318,
      -0.032942,
      0.004212,
      0.036303,
      -0.017087,
      0.039887,
      0.020144,
      -0.008572,
      -0.03716,
      -0.009976,
      0.002613,
      0.017678,
      -0.010836,
      -0.024254,
      0.017471,
      0.051689,
      0.014598,
      -0.036742,
      -0.049906,
      -0.022862,
      0.003888,
      0.026098,
      -0.014428,
      0.031166,
      -0.012875,
      0.008649,
      -0.055864,
      0.003469,
      -0.048651,
      0.027573,
      -0.025378,
      0.055716,
      -0.032985,
      -0.068642,
      0.007146,
      -0.010313,
      -0.016147,
      -0.007554,
      -0.039997,
      0.008398,
      0.029926,
      -0.028995,
      -0.018828,
      -0.002895,
      0.027831,
      -0.013141,
      0.019751,
      -0.011773,
      -0.034051,
      -0.003228,
      0.022232,
      -0.033228,
      -0.054101,
      0.030259,
      0.043787,
      -0.009144,
      0.013551,
      -0.000207,
      -0.040359,
      0.006754,
      -0.057988,
      -0.05415,
      0.000961,
      0.044413,
      -0.006633,
      0.022744,
      -0.052684,
      0.016161,
      0.026441,
      0.013652,
      -0.01489,
      -0.034772,
      0.023537,
      -0.000991,
      0.002969,
      -0.015644,
      0.041465,
      -0.004935,
      0.0168,
      -0.007697,
      -0.015941,
      -0.009851,
      0.002475,
      0.005707,
      -0.047429,
      0.022313,
      0.004532,
      0.057921,
      0.005521,
      0.028308,
      0.005904,
      -0.002641,
      -0.020203,
      -0.023637,
      0.018585,
      0.029283,
      0.061633,
      0.00723,
      0.073276,
      0.007897,
      0.044931,
      -0.052473,
      -0.002707,
      0.038467,
      0.022925,
      -0.022427,
      -0.051598,
      0.036488,
      -0.011754,
      -0.029602,
      -0.030811,
      -0.037056,
      -0.001976,
      -0.02185,
      -0.034226,
      -0.033851,
      -0.065824,
      0.011566,
      -0.02166,
      -0.063015,
      0.034179,
      -0.046299,
      -0.028196,
      0.033098,
      -0.026388,
      0.012189,
      -0.01828,
      -0.017877,
      -0.010375,
      0.045394,
      -0.014171,
      -0.000982,
      -0.010807,
      -0.006298,
      -0.015146,
      0.000618,
      -0.035569,
      0.015046,
      0.031639,
      0.004437,
      -0.015906,
      0.032206,
      -0.013585,
      -0.007553,
      0.011191,
      -0.030015,
      -0.003782,
      0.011712,
      0.035615,
      -0.022806,
      0.040909,
      0.017781,
      0.017007,
      0.010682,
      0.042312,
      0.018736,
      -0.002428,
      0.031644,
      0.022421,
      -0.003801,
      -0.053551,
      -0.007248,
      0.005676,
      -0.013513,
      0.031691,
      0.001113,
      0.026135,
      0.023184,
      -0.018266,
      0.036757,
      -0.017333,
      -0.011757,
      -0.052515,
      -0.016679,
      -0.030974,
      -0.016836,
      0.001163,
      -0.002934,
      -0.025395,
      0.038352,
      -0.031859,
      -0.007247,
      -0.04394,
      0.007461,
      0.015739,
      0.0367,
      0.024515,
      0.051864,
      0.005251,
      -0.038934,
      0.039603,
      -0.001096,
      -0.047622,
      -0.055437,
      -0.051574,
      -0.020316,
      -0.00646,
      0.005665,
      -0.010442,
      -0.059908,
      -0.060945,
      -0.047337,
      0.023934,
      0.014098,
      0.022674,
      -0.048112,
      0.024055,
      0.046114,
      -0.069286,
      0.020677,
      0.054482,
      -0.000574,
      0.024353,
      -0.008029
    ]
  },
  {
    "id": "v5-schema-0",
    "content": "# JSON Schema\nBreadcrumb: JSON Schema\nCovers: Creating Schemas | Definitions | Generating Correct Types | Extending Schemas | References | Query Helpers | querySyntax | queryProperty | queryProperties | Validators | getDataValidator | getValidator\nTopics: find, get, create, update, patch, github, schema, validators, database, querying, http, typescript, types, generate, users\n\n## Creating Schemas\n\n\n\n### Definitions\n\nIf you are not familiar with JSON schema have a look at the [official getting started guide](https://json-schema.org/learn/getting-started-step-by-step). Here is an example for a possible user schema:\n\n```ts\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userSchema = {\n  $id: 'User',\n  type: 'object',\n  additionalProperties: false,\n  required: ['email', 'password'],\n  properties: {\n    id: { type: 'number' },\n    email: { type: 'string' },\n    password: { type: 'string' }\n  }\n} as const\n\nexport type User = FromSchema<typeof userSchema>\n```\n\n### Generating Correct Types\n\nFor correct TypeScript types, the definition always **needs to be declared `as const`**. This first example will not produce correct types because the definition is not immediately followed by `as const`:\n```ts\n// Will not produce correct types.\nconst definition = { type: 'object' } // `as const` is missing, here.\n```\nThis next example does declare `as const` after the `definition`, so the types will be generated correctly:\n```ts\n// Produces correct types.\nconst definition = { type: 'object' } as const\n```\n\n## Extending Schemas\n\nTo create a new schema that extends an existing one, combine the schema properties (and `schema.required`, if used) with the new properties:\n\n```ts\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userDataSchema = {\n  $id: 'User',\n  type: 'object',\n  additionalProperties: false,\n  required: ['email', 'password'],\n  properties: {\n    email: { type: 'string' },\n    password: { type: 'string' }\n  }\n} as const\n\nexport type UserData = FromSchema<typeof userDataSchema>\n\nexport const userSchema = {\n  $id: 'UserResult',\n  type: 'object',\n  additionalProperties: false,\n  required: [...userDataSchema.required, 'id'],\n  properties: {\n    ...userDataSchema.properties,\n    id: { type: 'number' }\n  }\n} as const\n\nexport type User = FromSchema<typeof userSchema>\n```\n\n## References\n\nAssociated schemas can be initialized via the `$ref` keyword referencing the `$id` set during schema definition.\n\nIn TypeScript, the referenced type needs to be added explicitly.\n\n```ts\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userSchema = {\n  $id: 'User',\n  type: 'object',\n  additionalProperties: false,\n  required: ['email', 'password'],\n  properties: {\n    id: { type: 'number' },\n    email: { type: 'string' },\n    password: { type: 'string' }\n  }\n} as const\n\nexport type User = FromSchema<typeof userSchema>\n\nexport const messageSchema = {\n  $id: 'Message',\n  type: 'object',\n  additionalProperties: false,\n  required: ['text'],\n  properties: {\n    text: { type: 'string' },\n    user: { $ref: 'User' }\n  }\n} as const\n\nexport type Message = FromSchema<\n  typeof messageSchema,\n  {\n    // All schema references need to be passed to get the correct type\n    references: [typeof userSchema]\n  }\n>\n```\n\n## Query Helpers\n\nSchema ships with a few helpers to automatically create schemas that comply with the [Feathers query syntax](../databases/querying.md) (like `$gt`, `$ne` etc.):\n\n### querySyntax\n\n`querySyntax(schema.properties, extensions)` initializes all properties the additional query syntax properties `$limit`, `$skip`, `$select` and `$sort`. `$select` and `$sort` will be typed so they only allow existing schema properties.\n\n```ts\nimport { querySyntax } from '@feathersjs/schema'\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userQuerySchema = {\n  $id: 'UserQuery',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    ...querySyntax(userSchema.properties)\n  }\n} as const\n\nexport type UserQuery = FromSchema<typeof userQuerySchema>\n\nconst userQuery: UserQuery = {\n  $limit: 10,\n  $select: ['email', 'id'],\n  $sort: {\n    email: 1\n  }\n}\n```\n\nAdditional special query properties [that are not already included in the query syntax](../databases/querying.md) like `$ilike` can be added like this:\n\n```ts\nimport { querySyntax } from '@feathersjs/schema'\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userQuerySchema = {\n  $id: 'UserQuery',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    ...querySyntax(userSchema.properties, {\n      email: {\n        $ilike: {\n          type: 'string'\n        }\n      }\n    } as const)\n  }\n} as const\n\nexport type UserQuery = FromSchema<typeof userQuerySchema>\n\nconst userQuery: UserQuery = {\n  $limit: 10,\n  $select: ['email', 'id'],\n  $sort: {\n    email: 1\n  },\n  email: {\n    $ilike: '%@example.com'\n  }\n}\n```\n\n### queryProperty\n\n`queryProperty` helper takes a definition for a single property and returns a schema that allows the default query operators. This helper supports the operators listed, below. Learn what each one means in the [common query operator](/api/databases/querying#operators) documentation.\n\n- `$gt`\n- `$gte`\n- `$lt`\n- `$lte`\n- `$ne`\n- `$in`\n- `$nin`\n\nThe `name` property in the example, below, shows how `queryProperty` wraps a single property's definition.\n\n```ts\nimport { queryProperty } from '@feathersjs/schema'\n\nexport const userQuerySchema = {\n  $id: 'UserQuery',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    name: queryProperty({ type: 'string' })\n  }\n} as const\n```\n\nWith the `queryProperty` utility in place, the schema will allow querying on `name` using any of the above-listed operators. With it in place, the query in the following example will not throw an error:\n\n```ts\nconst query = { name: { $in: ['Marco', 'Polo'] } }\n\napp.service('users').find({ query })\n```\n\nYou can learn how it works, [here](https://github.com/feathersjs/feathers/blob/dove/packages/schema/src/query.ts#L29-L55).\n\n### queryProperties\n\n`queryProperties(schema.properties)` takes the all properties of a schema and converts them into query schema properties (using `queryProperty`)\n\n## Validators\n\nThe following functions are available to get a [validator function](./validators.md) from a JSON schema definition.\n\n> **note:**\n> \n> See the [validators](./validators.md) chapter for more information on validators and validator functions.\n>\n\n### getDataValidator\n\n`getDataValidator(definition, validator)` returns validators for the data of `create`, `update` and `patch` service methods. You can either pass a single definition in which case all properties of the `patch` schema will be optional or individual validators for `create`, `update` and `patch`.\n\n```ts\nimport { getDataValidator, Ajv } from '@feathersjs/schema'\nimport type { FromSchema } from '@feathersjs/schema'\n\nconst userDataSchema = {\n  $id: 'User',\n  type: 'object',\n  additionalProperties: false,\n  required: ['email', 'password'],\n  properties: {\n    email: { type: 'string' },\n    password: { type: 'string' }\n  }\n} as const\n\ntype UserData = FromSchema<typeof userDataSchema>\n\nconst dataValidator = new Ajv()\n\nconst dataValidator = getDataValidator(userDataSchema, dataValidator)\n```\n\n### getValidator\n\n`getValidator(definition, validator)` returns a single validator function for a JSON schema.\n\n```ts\nimport { querySyntax, Ajv, getValidator } from '@feathersjs/schema'\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userQuerySchema = {\n  $id: 'UserQuery',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    ...querySyntax(userSchema.properties)\n  }\n} as const\n\nexport type UserQuery = FromSchema<typeof userQuerySchema>\n\n// Since queries can be only strings we can to coerce them\nconst queryValidator = new Ajv({\n  coerceTypes: true\n})\n\nconst messageValidator = getValidator(userQuerySchema, queryValidator)\n```",
    "rawContent": "## Creating Schemas\n\n\n\n### Definitions\n\nIf you are not familiar with JSON schema have a look at the [official getting started guide](https://json-schema.org/learn/getting-started-step-by-step). Here is an example for a possible user schema:\n\n```ts\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userSchema = {\n  $id: 'User',\n  type: 'object',\n  additionalProperties: false,\n  required: ['email', 'password'],\n  properties: {\n    id: { type: 'number' },\n    email: { type: 'string' },\n    password: { type: 'string' }\n  }\n} as const\n\nexport type User = FromSchema<typeof userSchema>\n```\n\n### Generating Correct Types\n\nFor correct TypeScript types, the definition always **needs to be declared `as const`**. This first example will not produce correct types because the definition is not immediately followed by `as const`:\n```ts\n// Will not produce correct types.\nconst definition = { type: 'object' } // `as const` is missing, here.\n```\nThis next example does declare `as const` after the `definition`, so the types will be generated correctly:\n```ts\n// Produces correct types.\nconst definition = { type: 'object' } as const\n```\n\n## Extending Schemas\n\nTo create a new schema that extends an existing one, combine the schema properties (and `schema.required`, if used) with the new properties:\n\n```ts\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userDataSchema = {\n  $id: 'User',\n  type: 'object',\n  additionalProperties: false,\n  required: ['email', 'password'],\n  properties: {\n    email: { type: 'string' },\n    password: { type: 'string' }\n  }\n} as const\n\nexport type UserData = FromSchema<typeof userDataSchema>\n\nexport const userSchema = {\n  $id: 'UserResult',\n  type: 'object',\n  additionalProperties: false,\n  required: [...userDataSchema.required, 'id'],\n  properties: {\n    ...userDataSchema.properties,\n    id: { type: 'number' }\n  }\n} as const\n\nexport type User = FromSchema<typeof userSchema>\n```\n\n## References\n\nAssociated schemas can be initialized via the `$ref` keyword referencing the `$id` set during schema definition.\n\nIn TypeScript, the referenced type needs to be added explicitly.\n\n```ts\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userSchema = {\n  $id: 'User',\n  type: 'object',\n  additionalProperties: false,\n  required: ['email', 'password'],\n  properties: {\n    id: { type: 'number' },\n    email: { type: 'string' },\n    password: { type: 'string' }\n  }\n} as const\n\nexport type User = FromSchema<typeof userSchema>\n\nexport const messageSchema = {\n  $id: 'Message',\n  type: 'object',\n  additionalProperties: false,\n  required: ['text'],\n  properties: {\n    text: { type: 'string' },\n    user: { $ref: 'User' }\n  }\n} as const\n\nexport type Message = FromSchema<\n  typeof messageSchema,\n  {\n    // All schema references need to be passed to get the correct type\n    references: [typeof userSchema]\n  }\n>\n```\n\n## Query Helpers\n\nSchema ships with a few helpers to automatically create schemas that comply with the [Feathers query syntax](../databases/querying.md) (like `$gt`, `$ne` etc.):\n\n### querySyntax\n\n`querySyntax(schema.properties, extensions)` initializes all properties the additional query syntax properties `$limit`, `$skip`, `$select` and `$sort`. `$select` and `$sort` will be typed so they only allow existing schema properties.\n\n```ts\nimport { querySyntax } from '@feathersjs/schema'\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userQuerySchema = {\n  $id: 'UserQuery',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    ...querySyntax(userSchema.properties)\n  }\n} as const\n\nexport type UserQuery = FromSchema<typeof userQuerySchema>\n\nconst userQuery: UserQuery = {\n  $limit: 10,\n  $select: ['email', 'id'],\n  $sort: {\n    email: 1\n  }\n}\n```\n\nAdditional special query properties [that are not already included in the query syntax](../databases/querying.md) like `$ilike` can be added like this:\n\n```ts\nimport { querySyntax } from '@feathersjs/schema'\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userQuerySchema = {\n  $id: 'UserQuery',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    ...querySyntax(userSchema.properties, {\n      email: {\n        $ilike: {\n          type: 'string'\n        }\n      }\n    } as const)\n  }\n} as const\n\nexport type UserQuery = FromSchema<typeof userQuerySchema>\n\nconst userQuery: UserQuery = {\n  $limit: 10,\n  $select: ['email', 'id'],\n  $sort: {\n    email: 1\n  },\n  email: {\n    $ilike: '%@example.com'\n  }\n}\n```\n\n### queryProperty\n\n`queryProperty` helper takes a definition for a single property and returns a schema that allows the default query operators. This helper supports the operators listed, below. Learn what each one means in the [common query operator](/api/databases/querying#operators) documentation.\n\n- `$gt`\n- `$gte`\n- `$lt`\n- `$lte`\n- `$ne`\n- `$in`\n- `$nin`\n\nThe `name` property in the example, below, shows how `queryProperty` wraps a single property's definition.\n\n```ts\nimport { queryProperty } from '@feathersjs/schema'\n\nexport const userQuerySchema = {\n  $id: 'UserQuery',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    name: queryProperty({ type: 'string' })\n  }\n} as const\n```\n\nWith the `queryProperty` utility in place, the schema will allow querying on `name` using any of the above-listed operators. With it in place, the query in the following example will not throw an error:\n\n```ts\nconst query = { name: { $in: ['Marco', 'Polo'] } }\n\napp.service('users').find({ query })\n```\n\nYou can learn how it works, [here](https://github.com/feathersjs/feathers/blob/dove/packages/schema/src/query.ts#L29-L55).\n\n### queryProperties\n\n`queryProperties(schema.properties)` takes the all properties of a schema and converts them into query schema properties (using `queryProperty`)\n\n## Validators\n\nThe following functions are available to get a [validator function](./validators.md) from a JSON schema definition.\n\n> **note:**\n> \n> See the [validators](./validators.md) chapter for more information on validators and validator functions.\n>\n\n### getDataValidator\n\n`getDataValidator(definition, validator)` returns validators for the data of `create`, `update` and `patch` service methods. You can either pass a single definition in which case all properties of the `patch` schema will be optional or individual validators for `create`, `update` and `patch`.\n\n```ts\nimport { getDataValidator, Ajv } from '@feathersjs/schema'\nimport type { FromSchema } from '@feathersjs/schema'\n\nconst userDataSchema = {\n  $id: 'User',\n  type: 'object',\n  additionalProperties: false,\n  required: ['email', 'password'],\n  properties: {\n    email: { type: 'string' },\n    password: { type: 'string' }\n  }\n} as const\n\ntype UserData = FromSchema<typeof userDataSchema>\n\nconst dataValidator = new Ajv()\n\nconst dataValidator = getDataValidator(userDataSchema, dataValidator)\n```\n\n### getValidator\n\n`getValidator(definition, validator)` returns a single validator function for a JSON schema.\n\n```ts\nimport { querySyntax, Ajv, getValidator } from '@feathersjs/schema'\nimport type { FromSchema } from '@feathersjs/schema'\n\nexport const userQuerySchema = {\n  $id: 'UserQuery',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    ...querySyntax(userSchema.properties)\n  }\n} as const\n\nexport type UserQuery = FromSchema<typeof userQuerySchema>\n\n// Since queries can be only strings we can to coerce them\nconst queryValidator = new Ajv({\n  coerceTypes: true\n})\n\nconst messageValidator = getValidator(userQuerySchema, queryValidator)\n```",
    "breadcrumb": "JSON Schema",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/schema/schema.md",
    "heading": "JSON Schema",
    "subHeadings": [
      "Creating Schemas",
      "Definitions",
      "Generating Correct Types",
      "Extending Schemas",
      "References",
      "Query Helpers",
      "querySyntax",
      "queryProperty",
      "queryProperties",
      "Validators",
      "getDataValidator",
      "getValidator"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 1894,
    "category": "schema",
    "tags": [
      "find",
      "get",
      "create",
      "update",
      "patch",
      "github",
      "schema",
      "validators",
      "database",
      "querying",
      "http",
      "typescript",
      "types",
      "generate",
      "users"
    ],
    "embedding": [
      0.01195,
      0.013018,
      -0.052764,
      0.006687,
      0.00779,
      -0.018416,
      -0.000626,
      0.000231,
      -0.014724,
      0.012554,
      -0.006019,
      0.046671,
      -0.051952,
      -0.016226,
      -0.049946,
      -0.002958,
      -0.026417,
      -0.012979,
      0.026674,
      -0.006451,
      -0.02839,
      0.000236,
      0.015813,
      -0.016057,
      0.024659,
      0.024543,
      0.013103,
      0.002253,
      0.027408,
      -0.012308,
      0.020747,
      -0.011687,
      0.017477,
      -0.032061,
      -0.034237,
      -0.013881,
      -0.017955,
      -0.011349,
      -0.02675,
      0.035138,
      -0.019882,
      -0.016133,
      0.000457,
      -0.051098,
      0.030537,
      -0.035693,
      0.021415,
      -0.026416,
      0.030231,
      -0.027313,
      -0.055143,
      0.022462,
      0.051285,
      -0.058658,
      0.075699,
      -0.013743,
      -0.075246,
      0.004734,
      -0.041552,
      -0.010209,
      -0.025426,
      0.019699,
      -0.030659,
      0.022256,
      -0.013265,
      -0.006596,
      -0.004892,
      -0.009915,
      -0.008873,
      -0.034528,
      -0.01404,
      0.002827,
      -0.052619,
      -0.010062,
      -0.055608,
      0.014678,
      0.022109,
      -0.002914,
      -0.039496,
      0.044348,
      -0.031502,
      -0.009641,
      -0.005193,
      -0.003538,
      0.033725,
      -0.029946,
      -0.016044,
      0.079803,
      0.02056,
      0.010288,
      0.007831,
      -0.003987,
      0.074589,
      -0.035046,
      -0.005008,
      -0.005325,
      -0.038359,
      0.017354,
      -0.022516,
      0.007676,
      -0.021759,
      -0.022181,
      -0.014461,
      -0.009566,
      0.059983,
      -0.007471,
      0.045625,
      -0.014342,
      -0.021656,
      -0.041014,
      0.006259,
      0.004,
      0.018562,
      0.008737,
      0.005343,
      0.014438,
      0.04583,
      -0.013501,
      0.016945,
      0.000113,
      -0.018125,
      0.062961,
      0.051868,
      -0.052848,
      -0.035341,
      -0.009987,
      -0.019345,
      0.015889,
      -0.018988,
      0.013199,
      0.026139,
      -0.014708,
      -0.020282,
      -0.004602,
      -0.036328,
      0.019125,
      0.021108,
      0.017266,
      0.010525,
      -0.040268,
      0.040527,
      -0.001329,
      0.021328,
      -0.062219,
      0.01822,
      -0.021257,
      0.057846,
      -0.028702,
      0.009004,
      -0.024016,
      0.011554,
      0.022797,
      0.022514,
      -0.017985,
      0.021039,
      -0.053859,
      -0.031841,
      0.003572,
      0.005674,
      0.000199,
      0.02409,
      0.065276,
      -0.041072,
      0.003474,
      0.056125,
      -0.045449,
      0.021479,
      0.011189,
      -0.041783,
      -0.032444,
      0.057349,
      -0.036404,
      0.001214,
      0.005716,
      0.001843,
      0.022029,
      0.058824,
      0.029376,
      0.023414,
      -0.030529,
      -0.01295,
      0.019962,
      -0.007794,
      -0.030844,
      -0.014815,
      -0.03542,
      0.025293,
      -0.040821,
      -0.008192,
      0.01556,
      -0.038905,
      -0.061007,
      0.053641,
      0.023384,
      0.02551,
      -0.016216,
      0.003153,
      -0.045771,
      0.02267,
      -0.02239,
      -0.014759,
      0.0254,
      0.013706,
      0.005857,
      -0.024806,
      -0.058139,
      -0.021902,
      -0.010786,
      -0.01926,
      -0.010223,
      0.027591,
      0.020449,
      -0.013342,
      -0.029782,
      -0.034774,
      0.005862,
      -0.010291,
      0.050207,
      -0.021555,
      0.013159,
      -0.010908,
      0.001714,
      0.00994,
      0.009729,
      0.043046,
      0.001917,
      0.041455,
      -0.010334,
      0.008145,
      0.00217,
      -0.02594,
      -0.006129,
      0.004242,
      -0.008597,
      0.004611,
      0.0094,
      -0.020011,
      -0.002854,
      0.037157,
      -0.03226,
      -0.033958,
      -0.068383,
      -0.013318,
      -0.018481,
      -0.055792,
      -0.045769,
      0.031076,
      -0.00709,
      -0.044523,
      -0.042095,
      0.001466,
      0.028135,
      -0.026326,
      0.002881,
      0.066135,
      0.008144,
      0.027987,
      -0.029392,
      -0.005038,
      -0.01997,
      0.058149,
      0.014992,
      0.002029,
      0.028357,
      0.015224,
      -0.02431,
      -0.036156,
      -0.030467,
      0.00061,
      0.026113,
      0.00289,
      0.002174,
      0.038473,
      -0.024542,
      -0.033496,
      0.005016,
      -0.000776,
      -0.034247,
      0.128691,
      0.017165,
      0.002783,
      0.024884,
      0.04055,
      0.007395,
      0.02458,
      -0.010967,
      -0.005043,
      -0.032247,
      0.045388,
      -0.041765,
      -0.013866,
      -0.009651,
      0.052495,
      -0.029933,
      0.008142,
      0.021242,
      0.0126,
      -0.151104,
      -0.033114,
      0.02132,
      0.019688,
      0.014839,
      0.00648,
      -0.064687,
      0.009472,
      -0.051065,
      0.039289,
      -0.006897,
      -0.0245,
      -0.022766,
      -0.001937,
      -0.007301,
      -0.002957,
      -0.019376,
      -0.010538,
      0.02982,
      -0.029333,
      0.015574,
      -0.109094,
      0.058186,
      -0.013585,
      0.006286,
      -0.003629,
      0.003176,
      -0.007024,
      -0.05067,
      0.005231,
      -0.024425,
      0.008066,
      -0.001058,
      0.01455,
      -0.010816,
      -0.006504,
      0.012026,
      -0.035949,
      0.033429,
      -0.03465,
      0.006982,
      0.016534,
      -0.046583,
      0.001,
      -0.032695,
      0.033122,
      0.038719,
      0.00479,
      -0.002752,
      0.013322,
      0.013623,
      -0.018464,
      -0.027396,
      -0.035739,
      -0.035939,
      -0.015813,
      0.00197,
      0.038896,
      0.01173,
      -0.029437,
      0.034341,
      -0.015225,
      0.028492,
      -0.05617,
      -0.038927,
      -0.017034,
      0.047402,
      0.023949,
      0.021761,
      -0.039778,
      0.026201,
      -0.060621,
      -0.005821,
      -0.002477,
      0.0053,
      -0.003452,
      0.03992,
      0.008968,
      -0.015102,
      -0.094887,
      -0.030496,
      -0.010358,
      0.014578,
      0.018103,
      -0.036714,
      0.01523,
      -0.009086,
      0.032677,
      -0.008198,
      0.25217,
      0.02378,
      0.029252,
      -0.041216,
      0.008707,
      -0.032232,
      0.025107,
      0.039019,
      -0.004406,
      -0.03095,
      0.003626,
      0.015774,
      0.044491,
      -0.006295,
      0.002815,
      0.038027,
      -0.028207,
      0.010979,
      0.011373,
      -0.0225,
      0.021726,
      -0.056588,
      0.038911,
      0.05808,
      -0.051294,
      -0.050847,
      -0.018003,
      0.03139,
      -0.048104,
      0.039486,
      -0.007008,
      0.00941,
      0.084876,
      -0.057523,
      -0.038319,
      -0.000438,
      0.020396,
      -0.027107,
      -0.017135,
      0.014359,
      -0.038117,
      0.005822,
      0.025928,
      0.004285,
      0.017547,
      0.004582,
      -0.017717,
      0.002178,
      -0.005917,
      -0.0611,
      -0.02296,
      -0.039042,
      -0.009915,
      0.005673,
      -0.009953,
      -0.006554,
      -0.018004,
      0.014346,
      -0.038197,
      0.036532,
      0.032004,
      0.03067,
      -0.063417,
      0.028419,
      -0.026173,
      0.003643,
      0.062352,
      -0.081613,
      -0.002097,
      0.017045,
      -0.016048,
      0.022846,
      0.023166,
      -0.035604,
      -0.014941,
      -0.014962,
      0.035524,
      0.010317,
      0.022219,
      0.051632,
      0.009246,
      0.021194,
      -0.039111,
      -0.016981,
      0.037161,
      -0.013563,
      0.019633,
      0.058473,
      0.01877,
      0.002246,
      0.01356,
      0.000511,
      -0.005016,
      0.082062,
      0.019889,
      0.022538,
      0.022459,
      0.004173,
      -0.024077,
      -0.023325,
      0.037698,
      0.033703,
      0.013624,
      -0.000204,
      0.010884,
      -0.069849,
      -0.019363,
      0.032566,
      -0.009256,
      0.000714,
      -0.051292,
      0.001973,
      0.002492,
      -0.015723,
      0.007926,
      0.030525,
      0.025411,
      0.005943,
      0.019787,
      0.00757,
      0.019743,
      0.031981,
      -0.003873,
      -0.004036,
      0.030923,
      -0.060051,
      -0.039928,
      -0.010709,
      -0.036924,
      0.042767,
      -0.007191,
      -0.031738,
      0.015675,
      0.031669,
      0.023567,
      -0.0188,
      0.043803,
      0.010557,
      -0.01168,
      -0.007826,
      -0.029674,
      -0.031826,
      -0.006583,
      0.004251,
      0.021347,
      0.040411,
      -0.009143,
      -0.005632,
      -0.015336,
      0.020416,
      0.04347,
      0.060835,
      0.011583,
      -0.021283,
      -0.004187,
      0.001709,
      -0.016598,
      0.001478,
      0.011406,
      -0.003182,
      0.010742,
      0.02701,
      0.017081,
      0.050505,
      0.007776,
      -0.029445,
      0.056072,
      -0.007398,
      -0.026153,
      -0.043423,
      0.011477,
      -0.079834,
      -0.056988,
      0.036854,
      0.016569,
      0.020406,
      -0.066505,
      0.011265,
      -0.00011,
      -0.06266,
      -0.007645,
      0.000919,
      -0.033682,
      0.007475,
      -0.014754,
      -0.011032,
      0.020555,
      -0.006539,
      0.02316,
      -0.011083,
      -0.007073,
      0.106396,
      -0.052512,
      0.016687,
      0.051242,
      -0.03261,
      0.014899,
      0.029919,
      -0.006732,
      -0.018566,
      -0.006831,
      -0.017131,
      -0.000238,
      -0.007813,
      -0.029887,
      -0.004396,
      0.00556,
      0.02971,
      -0.044758,
      -0.000933,
      -0.005646,
      0.026441,
      -0.035817,
      0.011341,
      0.011384,
      -0.057916,
      0.036311,
      0.03799,
      -0.017651,
      0.028279,
      0.036077,
      -0.015452,
      0.009855,
      0.007455,
      -0.010128,
      -0.027148,
      0.032459,
      -0.000345,
      -0.010827,
      0.026243,
      -0.00164,
      -0.017485,
      -0.008386,
      -0.017478,
      0.011823,
      -0.029131,
      0.010639,
      0.044159,
      0.027802,
      -0.002589,
      0.007799,
      -0.010976,
      0.077814,
      0.02819,
      -0.022024,
      0.000763,
      0.018859,
      0.033906,
      0.002221,
      0.04031,
      0.005639,
      -0.009775,
      -0.011066,
      -0.00619,
      -0.00526,
      0.028062,
      0.018057,
      0.018831,
      -0.042707,
      0.006511,
      0.003113,
      0.009803,
      0.015086,
      0.02491,
      0.01261,
      -0.087647,
      -0.008083,
      -0.043718,
      -0.046166,
      0.029893,
      0.005122,
      -0.014576,
      -0.010678,
      -0.026061,
      0.030665,
      0.004016,
      -0.023,
      -0.001415,
      0.023743,
      0.023978,
      -0.003224,
      0.000018,
      0.020611,
      0.029646,
      0.013319,
      0.011009,
      0.024012,
      0.01012,
      -0.005003,
      -0.052749,
      -0.026841,
      0.020043,
      -0.012005,
      0.002461,
      0.001037,
      0.007475,
      -0.038968,
      0.012358,
      0.009837,
      -0.021427,
      0.018104,
      0.008148,
      0.005711,
      0.000368,
      -0.012034,
      0.030125,
      -0.007963,
      -0.042375,
      0.010601,
      0.04757,
      0.006708,
      -0.031064,
      0.017004,
      0.028147,
      0.024658,
      -0.009921,
      0.031937,
      -0.009073,
      0.028591,
      0.006746,
      -0.018043,
      -0.001858,
      -0.032667,
      0.030431,
      0.04717,
      -0.022,
      -0.011929,
      -0.030826,
      -0.045533,
      0.011967,
      -0.040217,
      -0.029694,
      0.013045,
      -0.040238,
      -0.001179,
      -0.022005,
      0.023518,
      0.005563,
      0.023794,
      0.017273,
      0.044546,
      -0.015413,
      0.088169,
      -0.048565,
      0.031514,
      -0.005918,
      -0.036376,
      0.002107,
      -0.028923,
      -0.001808,
      -0.018196,
      0.017769,
      -0.012714,
      -0.01748,
      0.059178,
      -0.030164,
      -0.05041,
      0.023978,
      0.078286,
      0.015328,
      -0.031542,
      0.010913,
      -0.045074,
      -0.023403,
      -0.006398,
      0.001841,
      0.011858,
      0.005555,
      0.00112,
      -0.036078,
      -0.004921,
      0.028884,
      0.001284,
      -0.007613,
      -0.028596,
      -0.008444,
      -0.020056,
      -0.012672,
      -0.030033,
      0.000078,
      -0.026486,
      -0.033708,
      -0.042982,
      0.007033,
      -0.013716,
      0.025466,
      -0.005651,
      0.008101,
      -0.007415,
      0.032543,
      0.008756,
      0.022398,
      -0.016323,
      -0.004537,
      -0.146719,
      0.036341,
      0.00874,
      0.050079,
      -0.011038,
      -0.011601,
      0.026376,
      -0.024256,
      0.004452,
      -0.035136,
      -0.005508,
      -0.006081,
      -0.00788,
      -0.030479,
      0.053894,
      0.037302,
      0.031827,
      -0.01399,
      -0.050856,
      -0.028454,
      -0.00953,
      -0.010052,
      0.034381,
      0.010479,
      0.012752,
      -0.038355,
      0.025155,
      -0.021506,
      0.001051,
      -0.030578,
      -0.016807,
      -0.023209,
      0.026981,
      0.015034,
      -0.013899,
      0.065095,
      0.012501,
      0.002938,
      -0.021544,
      0.054164,
      0.000545,
      -0.002003,
      -0.035088,
      0.001486,
      0.022992,
      0.067005,
      -0.005873,
      -0.049824,
      -0.005764,
      -0.010511,
      -0.012791,
      -0.003772,
      -0.072151,
      0.003592,
      -0.008485,
      0.013023,
      -0.012247,
      0.003702,
      -0.064975,
      0.020533,
      -0.005148,
      0.04126,
      -0.010301,
      -0.048329,
      0.025842,
      0.03099,
      -0.048224,
      0.0149,
      0.005558,
      0.002326,
      0.008301,
      -0.039826,
      -0.044737,
      -0.04156,
      0.012666,
      0.038807,
      0.016246,
      -0.010566,
      -0.021099,
      -0.001139,
      0.021122,
      -0.025306,
      -0.038664,
      0.083241,
      0.024046,
      0.037329,
      0.012998,
      0.019857,
      -0.059793,
      0.001122,
      0.017374,
      -0.049828,
      0.009595,
      0.070985,
      -0.030427,
      0.066856,
      -0.034939,
      0.022808,
      0.02626,
      -0.044855,
      0.014229,
      0.029612,
      0.020284,
      -0.00135,
      -0.030263,
      0.007451,
      0.001694,
      -0.011697,
      0.008696,
      0.000225,
      0.038065,
      -0.008351,
      0.009849,
      -0.017204,
      -0.041518,
      -0.014927,
      -0.011351,
      0.036136,
      -0.028837,
      0.012319,
      0.016422,
      -0.015954,
      -0.009111,
      -0.025549,
      0.044015,
      0.016623,
      0.026735,
      -0.001546,
      0.027952,
      -0.002743,
      0.019391,
      -0.025232,
      -0.007204,
      0.037236,
      0.024184,
      -0.014521,
      -0.046033,
      0.029428,
      -0.035792,
      -0.027351,
      -0.016754,
      -0.039419,
      0.027979,
      -0.030712,
      0.01628,
      -0.034811,
      0.005771,
      -0.013353,
      -0.01163,
      -0.088338,
      0.052991,
      -0.003346,
      0.02648,
      0.023825,
      -0.019877,
      0.062475,
      -0.022794,
      0.014238,
      0.024594,
      0.074148,
      -0.023712,
      -0.079091,
      -0.016142,
      0.001502,
      -0.005872,
      -0.000526,
      0.01555,
      -0.016297,
      -0.025626,
      -0.005022,
      -0.017932,
      -0.015206,
      -0.022974,
      -0.000585,
      0.016597,
      -0.047648,
      0.002558,
      0.012209,
      0.05078,
      -0.002482,
      0.021174,
      0.00146,
      0.034645,
      -0.02654,
      0.022435,
      0.03226,
      -0.008673,
      -0.001978,
      -0.014029,
      -0.044343,
      -0.017619,
      -0.000905,
      0.02663,
      -0.007948,
      0.017005,
      -0.015246,
      0.011104,
      0.009208,
      -0.053393,
      0.02033,
      -0.026537,
      -0.001217,
      0.025033,
      -0.036785,
      -0.022792,
      0.031078,
      0.004064,
      0.01985,
      -0.039905,
      0.044391,
      -0.017496,
      0.021591,
      -0.009361,
      0.038187,
      -0.014292,
      0.008597,
      0.029229,
      0.064437,
      -0.002988,
      -0.010372,
      0.009846,
      -0.012371,
      -0.002528,
      -0.036347,
      -0.08544,
      -0.025415,
      -0.003379,
      0.022902,
      0.000507,
      -0.008533,
      -0.002244,
      -0.011901,
      0.002829,
      0.05408,
      0.026998,
      0.009143,
      0.023287,
      0.004864,
      0.000894,
      -0.036463,
      0.048067,
      -0.015248,
      0.012233,
      -0.036416
    ]
  },
  {
    "id": "v5-typebox-0",
    "content": "# TypeBox (part 1)\nBreadcrumb: TypeBox > TypeBox (part 1)\nCovers: Usage | Result and data schemas | Query schemas | querySyntax | queryProperty\nTopics: application, get, create, schema, typebox, validators, database, querying, client, cli, users\n\n## Usage\n\nThe module exports all of TypeBox functionality with additional support for [query schemas](#query-schemas) and [validators](#validators). The following is an example for defining the message schema [from the guide](../../guides/basics/schemas.md#handling-messages) using TypeBox:\n\n```ts\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\n\nconst messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    userId: Type.Number()\n  },\n  { $id: 'Message', additionalProperties: false }\n)\n\ntype Message = Static<typeof messageSchema>\n```\n\n## Result and data schemas\n\nA good approach to define schemas in a Feathers application is to create the main schema first. This is usually the properties that are in the database and things like associated entries. Then we can get the data schema by e.g. picking the properties a client submits using `Type.Pick`\n\n```ts\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\n// Pick the data for creating a new user\nconst userDataSchema = Type.Pick(userSchema, ['email', 'password'])\n\ntype UserData = Static<typeof userDataSchema>\n\nconst messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    userId: Type.Number(),\n    // Reference the user\n    user: Type.Ref(userSchema)\n  },\n  { $id: 'Message', additionalProperties: false }\n)\n\ntype Message = Static<typeof messageSchema>\n\n// Pick the data for creating a new message\nconst messageDataSchema = Type.Pick(messageSchema, ['text'])\n\ntype MessageData = Static<typeof messageDataSchema>\n```\n\n## Query schemas\n\n\n\n### querySyntax\n\n`querySyntax(definition, extensions, options)` returns a schema to validate the [Feathers query syntax](../databases/querying.md) for all properties in a TypeBox definition.\n\n```ts\nimport { querySyntax } from '@feathersjs/typebox'\n\n// Schema for allowed query properties\nconst messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'], {\n  additionalProperties: false\n})\nconst messageQuerySchema = querySyntax(messageQueryProperties)\n\ntype MessageQuery = Static<typeof messageQuerySchema>\n```\n\nAdditional special query properties [that are not already included in the query syntax](../databases/querying.md) like `$ilike` can be added like this:\n\n```ts\nimport { querySyntax } from '@feathersjs/typebox'\n\n// Schema for allowed query properties\nconst messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'], {\n  additionalProperties: false\n})\nconst messageQuerySchema = Type.Intersect(\n  [\n    // This will additionally allow querying for `{ name: { $ilike: 'Dav%' } }`\n    querySyntax(messageQueryProperties, {\n      name: {\n        $ilike: Type.String()\n      }\n    }),\n    // Add additional query properties here\n    Type.Object({})\n  ],\n  { additionalProperties: false }\n)\n```\n\nTo allow additional query properties outside of the query syntax use the intersection type:\n\n```ts\nimport { querySyntax } from '@feathersjs/typebox'\n\n// Schema for allowed query properties\nconst messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'], {\n  additionalProperties: false\n})\nconst messageQuerySchema = Type.Intersect(\n  [\n    querySyntax(messageQueryProperties),\n    Type.Object({\n      isActive: Type.Boolean()\n    })\n  ],\n  { additionalProperties: false }\n)\n\ntype MessageQuery = Static<typeof messageQuerySchema>\n```\n\n### queryProperty\n\n`queryProperty(definition)` returns a schema for the [Feathers query syntax](../databases/querying.md) for a single property.",
    "rawContent": "## Usage\n\nThe module exports all of TypeBox functionality with additional support for [query schemas](#query-schemas) and [validators](#validators). The following is an example for defining the message schema [from the guide](../../guides/basics/schemas.md#handling-messages) using TypeBox:\n\n```ts\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\n\nconst messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    userId: Type.Number()\n  },\n  { $id: 'Message', additionalProperties: false }\n)\n\ntype Message = Static<typeof messageSchema>\n```\n\n## Result and data schemas\n\nA good approach to define schemas in a Feathers application is to create the main schema first. This is usually the properties that are in the database and things like associated entries. Then we can get the data schema by e.g. picking the properties a client submits using `Type.Pick`\n\n```ts\nimport { Type } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\n// Pick the data for creating a new user\nconst userDataSchema = Type.Pick(userSchema, ['email', 'password'])\n\ntype UserData = Static<typeof userDataSchema>\n\nconst messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    userId: Type.Number(),\n    // Reference the user\n    user: Type.Ref(userSchema)\n  },\n  { $id: 'Message', additionalProperties: false }\n)\n\ntype Message = Static<typeof messageSchema>\n\n// Pick the data for creating a new message\nconst messageDataSchema = Type.Pick(messageSchema, ['text'])\n\ntype MessageData = Static<typeof messageDataSchema>\n```\n\n## Query schemas\n\n\n\n### querySyntax\n\n`querySyntax(definition, extensions, options)` returns a schema to validate the [Feathers query syntax](../databases/querying.md) for all properties in a TypeBox definition.\n\n```ts\nimport { querySyntax } from '@feathersjs/typebox'\n\n// Schema for allowed query properties\nconst messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'], {\n  additionalProperties: false\n})\nconst messageQuerySchema = querySyntax(messageQueryProperties)\n\ntype MessageQuery = Static<typeof messageQuerySchema>\n```\n\nAdditional special query properties [that are not already included in the query syntax](../databases/querying.md) like `$ilike` can be added like this:\n\n```ts\nimport { querySyntax } from '@feathersjs/typebox'\n\n// Schema for allowed query properties\nconst messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'], {\n  additionalProperties: false\n})\nconst messageQuerySchema = Type.Intersect(\n  [\n    // This will additionally allow querying for `{ name: { $ilike: 'Dav%' } }`\n    querySyntax(messageQueryProperties, {\n      name: {\n        $ilike: Type.String()\n      }\n    }),\n    // Add additional query properties here\n    Type.Object({})\n  ],\n  { additionalProperties: false }\n)\n```\n\nTo allow additional query properties outside of the query syntax use the intersection type:\n\n```ts\nimport { querySyntax } from '@feathersjs/typebox'\n\n// Schema for allowed query properties\nconst messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'], {\n  additionalProperties: false\n})\nconst messageQuerySchema = Type.Intersect(\n  [\n    querySyntax(messageQueryProperties),\n    Type.Object({\n      isActive: Type.Boolean()\n    })\n  ],\n  { additionalProperties: false }\n)\n\ntype MessageQuery = Static<typeof messageQuerySchema>\n```\n\n### queryProperty\n\n`queryProperty(definition)` returns a schema for the [Feathers query syntax](../databases/querying.md) for a single property.",
    "breadcrumb": "TypeBox > TypeBox (part 1)",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/schema/typebox.md",
    "heading": "TypeBox (part 1)",
    "subHeadings": [
      "Usage",
      "Result and data schemas",
      "Query schemas",
      "querySyntax",
      "queryProperty"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 979,
    "category": "schema",
    "tags": [
      "application",
      "get",
      "create",
      "schema",
      "typebox",
      "validators",
      "database",
      "querying",
      "client",
      "cli",
      "users"
    ],
    "embedding": [
      0.01576,
      0.015956,
      -0.05388,
      -0.007007,
      0.003822,
      -0.022174,
      -0.001676,
      0.046901,
      -0.020165,
      0.000118,
      -0.019558,
      0.012059,
      -0.024677,
      0.00935,
      -0.018789,
      0.003797,
      -0.013637,
      -0.0153,
      0.031132,
      -0.000571,
      -0.01109,
      -0.003815,
      0.039102,
      -0.030006,
      -0.005743,
      -0.01161,
      0.049586,
      -0.02965,
      0.005062,
      0.006357,
      0.034064,
      -0.001396,
      -0.01338,
      -0.028625,
      -0.002049,
      -0.012123,
      0.002137,
      0.008344,
      -0.027979,
      0.038557,
      -0.035941,
      0.012423,
      -0.002435,
      -0.062166,
      0.020956,
      -0.024336,
      0.00912,
      -0.029395,
      0.027699,
      -0.044145,
      -0.003706,
      0.005864,
      -0.003975,
      -0.049201,
      0.062342,
      0.013453,
      -0.043675,
      -0.000619,
      -0.038876,
      -0.009785,
      -0.024649,
      0.018926,
      0.000435,
      -0.018915,
      0.005149,
      0.012805,
      -0.033989,
      -0.020154,
      -0.021414,
      -0.053031,
      -0.016691,
      0.007353,
      -0.056465,
      -0.009552,
      -0.038895,
      0.020557,
      0.004009,
      0.010217,
      -0.049333,
      0.03591,
      -0.024492,
      0.002658,
      0.035521,
      -0.004314,
      0.042181,
      0.027191,
      -0.0017,
      0.080551,
      0.002953,
      0.036681,
      0.006572,
      -0.026124,
      0.055811,
      -0.05051,
      -0.023077,
      0.011075,
      -0.022708,
      0.001907,
      0.028552,
      0.011523,
      -0.051706,
      0.006545,
      0.003193,
      -0.037529,
      0.004961,
      0.015464,
      0.030456,
      0.004273,
      -0.014325,
      -0.02983,
      0.008701,
      -0.014781,
      0.040662,
      -0.004014,
      -0.0189,
      -0.034109,
      0.039432,
      -0.027392,
      0.026145,
      -0.000728,
      0.037647,
      0.005319,
      0.062095,
      -0.04195,
      -0.030852,
      -0.010087,
      -0.036506,
      0.050127,
      -0.023699,
      -0.024782,
      0.023973,
      -0.014241,
      -0.002436,
      -0.012306,
      -0.029816,
      -0.008043,
      0.014737,
      0.015751,
      -0.014285,
      -0.056737,
      0.037955,
      0.000374,
      -0.014212,
      -0.024016,
      0.030169,
      -0.044074,
      0.082326,
      0.005261,
      -0.020478,
      -0.061338,
      0.049052,
      0.03785,
      0.030495,
      -0.04689,
      -0.004117,
      -0.08081,
      -0.007526,
      0.017188,
      0.047712,
      -0.000008,
      -0.026799,
      0.013792,
      -0.007779,
      0.014323,
      0.056037,
      -0.002589,
      0.021603,
      0.007725,
      -0.011043,
      -0.032288,
      0.033721,
      -0.014906,
      -0.012244,
      -0.005802,
      0.001867,
      0.014872,
      0.075483,
      0.030474,
      0.021735,
      -0.037031,
      -0.042116,
      -0.00697,
      -0.023892,
      -0.039277,
      -0.021275,
      -0.041121,
      -0.009643,
      -0.040764,
      -0.005342,
      0.044146,
      -0.047736,
      -0.010287,
      0.031924,
      0.012345,
      0.008422,
      0.006021,
      0.014621,
      -0.027723,
      0.026066,
      -0.002055,
      -0.001523,
      0.028965,
      0.034263,
      0.012212,
      -0.045376,
      -0.054581,
      0.002343,
      -0.039432,
      -0.003123,
      -0.031813,
      0.018188,
      0.017601,
      -0.02123,
      -0.017094,
      -0.005703,
      0.027921,
      -0.013912,
      0.032208,
      -0.015217,
      -0.033972,
      0.043143,
      0.002519,
      0.000528,
      0.038343,
      -0.00874,
      0.014035,
      0.014504,
      0.017035,
      -0.047562,
      -0.015242,
      -0.019089,
      0.034888,
      0.002275,
      -0.004142,
      0.018715,
      -0.033564,
      0.020086,
      0.02531,
      0.029345,
      -0.000134,
      -0.044635,
      -0.040386,
      0.024159,
      -0.019318,
      -0.046385,
      -0.010254,
      0.047352,
      0.015777,
      -0.037171,
      -0.05447,
      0.004489,
      0.047456,
      0.004914,
      -0.018515,
      0.051147,
      0.009506,
      0.054027,
      -0.021195,
      0.036426,
      -0.031115,
      0.035959,
      -0.013696,
      -0.019768,
      0.024374,
      0.036085,
      -0.027681,
      -0.009439,
      -0.030831,
      0.014052,
      0.006625,
      -0.014251,
      -0.004477,
      0.009089,
      -0.004651,
      -0.036428,
      -0.015526,
      -0.011912,
      -0.010508,
      0.11603,
      0.041148,
      0.004003,
      0.002407,
      0.006979,
      0.051297,
      0.015182,
      0.024207,
      -0.037399,
      -0.049924,
      0.04105,
      -0.038166,
      -0.044912,
      -0.026842,
      0.050881,
      0.006925,
      0.027668,
      0.019784,
      0.008254,
      -0.134243,
      -0.022608,
      0.035432,
      0.010059,
      0.003837,
      0.013115,
      -0.034441,
      -0.014824,
      -0.054586,
      0.051038,
      -0.000811,
      -0.037061,
      -0.006302,
      -0.010108,
      -0.009754,
      0.008027,
      0.006835,
      0.013727,
      0.039084,
      -0.030727,
      -0.024708,
      -0.028954,
      0.039169,
      0.008567,
      0.014809,
      -0.009485,
      0.005013,
      0.0213,
      -0.040036,
      0.005204,
      -0.027718,
      -0.004968,
      -0.001141,
      0.025261,
      -0.019116,
      -0.020566,
      -0.021057,
      -0.010385,
      -0.030428,
      -0.046755,
      -0.001241,
      0.04394,
      -0.025508,
      0.028284,
      0.000575,
      -0.004317,
      0.031663,
      0.011375,
      -0.051922,
      -0.023102,
      0.019422,
      -0.031698,
      -0.033523,
      -0.014925,
      -0.029828,
      0.005049,
      -0.00055,
      0.078404,
      0.015021,
      0.014986,
      0.019455,
      -0.040078,
      0.03651,
      -0.019749,
      -0.040479,
      -0.00483,
      0.002204,
      0.017277,
      0.01294,
      -0.021867,
      0.020284,
      -0.076838,
      -0.012211,
      -0.006777,
      -0.01881,
      -0.007143,
      0.020442,
      0.004916,
      -0.024557,
      -0.094412,
      -0.00927,
      -0.012522,
      0.021772,
      0.017157,
      -0.024257,
      0.014478,
      -0.013673,
      0.008785,
      0.040219,
      0.26506,
      -0.010878,
      -0.029387,
      -0.014936,
      0.023983,
      0.017125,
      0.019524,
      0.084998,
      0.012893,
      -0.024455,
      0.001288,
      0.018167,
      0.001343,
      -0.005442,
      -0.024746,
      -0.015423,
      -0.037164,
      0.009062,
      0.044858,
      0.005964,
      -0.012367,
      -0.055414,
      0.027003,
      0.027946,
      -0.07971,
      -0.035924,
      -0.013175,
      0.033259,
      -0.050672,
      0.003652,
      -0.015215,
      0.016841,
      0.073217,
      -0.040048,
      -0.041123,
      -0.010883,
      0.003596,
      -0.037939,
      -0.031053,
      0.012496,
      -0.026096,
      -0.007078,
      0.042988,
      -0.000856,
      -0.013771,
      -0.018956,
      -0.005946,
      0.005291,
      -0.045923,
      -0.111852,
      -0.019807,
      -0.028265,
      -0.017136,
      -0.001068,
      -0.003659,
      -0.004931,
      0.001213,
      0.00653,
      -0.041538,
      0.009333,
      0.035609,
      0.018407,
      -0.051822,
      0.007975,
      -0.011596,
      0.019477,
      0.026899,
      -0.055524,
      0.0226,
      0.035814,
      0.037845,
      0.035718,
      0.014282,
      -0.041435,
      0.007976,
      -0.015789,
      0.026902,
      0.025765,
      0.026183,
      0.048655,
      0.000658,
      0.022699,
      -0.011623,
      0.024836,
      0.011097,
      0.038068,
      0.021656,
      0.04556,
      -0.00678,
      -0.046236,
      -0.026825,
      0.003442,
      0.012762,
      0.052807,
      0.010639,
      0.046181,
      0.008442,
      0.00405,
      -0.028064,
      -0.04815,
      0.016629,
      0.054641,
      0.022249,
      -0.020207,
      0.037895,
      -0.036549,
      0.025592,
      0.010769,
      -0.003962,
      0.004074,
      -0.06031,
      0.037899,
      -0.001618,
      -0.017049,
      -0.016836,
      0.022811,
      0.010576,
      0.017963,
      0.006325,
      0.005409,
      0.010418,
      -0.003761,
      0.016113,
      -0.004308,
      0.027823,
      -0.083761,
      -0.017409,
      -0.003484,
      -0.027269,
      0.046885,
      0.004301,
      -0.045527,
      0.013097,
      0.024302,
      0.015362,
      -0.000883,
      0.044421,
      0.02595,
      -0.021414,
      0.002264,
      -0.036981,
      -0.026808,
      -0.009461,
      0.036214,
      0.004974,
      0.102524,
      -0.021885,
      -0.028981,
      0.014694,
      -0.000785,
      0.047302,
      0.038206,
      0.011848,
      -0.037358,
      -0.014038,
      0.004737,
      -0.005553,
      -0.012546,
      0.021458,
      0.001871,
      -0.007294,
      0.031741,
      -0.001321,
      0.038919,
      0.01443,
      -0.01458,
      0.052786,
      0.000909,
      0.00711,
      -0.001561,
      -0.005199,
      -0.068916,
      -0.042644,
      0.061927,
      0.001687,
      0.033433,
      -0.075914,
      -0.00627,
      0.01635,
      -0.02295,
      -0.020409,
      0.030377,
      -0.071301,
      0.025958,
      -0.005204,
      0.013146,
      0.002079,
      -0.012903,
      0.013693,
      -0.004404,
      -0.023478,
      0.096953,
      -0.04483,
      -0.002832,
      -0.000351,
      0.000956,
      0.022203,
      0.057498,
      0.008031,
      -0.012276,
      0.000219,
      0.001454,
      -0.026584,
      0.006082,
      -0.021068,
      -0.012235,
      0.012721,
      0.044475,
      -0.050512,
      0.02036,
      0.006187,
      0.041871,
      -0.037454,
      -0.000344,
      0.003718,
      -0.048027,
      0.063796,
      0.031087,
      0.000592,
      0.005834,
      -0.00671,
      -0.000292,
      0.009736,
      0.001333,
      -0.018867,
      -0.013932,
      0.046937,
      0.001697,
      -0.041363,
      0.027276,
      -0.008106,
      0.029751,
      0.055477,
      -0.067799,
      0.009837,
      -0.04737,
      0.015062,
      0.025488,
      0.024168,
      -0.019166,
      0.013843,
      -0.023273,
      0.070243,
      0.006011,
      -0.019924,
      -0.006905,
      0.01079,
      0.017038,
      -0.010138,
      0.033704,
      -0.001228,
      -0.001406,
      -0.000627,
      0.011095,
      -0.020595,
      0.00181,
      0.025882,
      -0.00418,
      -0.055736,
      -0.024393,
      -0.01416,
      0.001885,
      0.015462,
      -0.005372,
      0.011141,
      -0.072314,
      -0.010969,
      -0.050956,
      -0.029479,
      0.025064,
      -0.03303,
      -0.024133,
      -0.019399,
      -0.035206,
      0.024417,
      -0.000314,
      0.005701,
      -0.025723,
      -0.005903,
      0.004908,
      -0.01708,
      0.019912,
      0.010753,
      0.029244,
      0.01105,
      0.022824,
      0.022673,
      0.020635,
      -0.002258,
      -0.066481,
      0.014219,
      0.012836,
      -0.036952,
      0.042149,
      -0.050667,
      0.005583,
      -0.049004,
      -0.001104,
      0.005478,
      -0.010258,
      -0.000894,
      0.001869,
      -0.002927,
      -0.00824,
      -0.013884,
      0.000364,
      -0.003402,
      -0.067656,
      0.005483,
      0.047465,
      0.002881,
      -0.030877,
      0.00788,
      -0.012592,
      0.030224,
      -0.032864,
      0.008931,
      -0.010886,
      0.015317,
      -0.005009,
      -0.009553,
      0.00054,
      -0.025717,
      -0.010498,
      0.0117,
      -0.004871,
      0.010436,
      -0.030876,
      -0.050777,
      0.004774,
      -0.091082,
      -0.027264,
      0.025199,
      -0.033166,
      -0.027655,
      0.002642,
      0.058315,
      -0.032627,
      0.043364,
      0.02312,
      0.02228,
      -0.017057,
      0.064482,
      -0.017624,
      0.066732,
      0.018971,
      -0.01964,
      -0.022079,
      -0.017013,
      -0.021303,
      -0.005614,
      -0.02594,
      0.011601,
      -0.028153,
      0.040098,
      -0.000811,
      -0.031459,
      0.004377,
      0.046559,
      0.01335,
      -0.02207,
      0.056401,
      0.001614,
      -0.021476,
      0.013485,
      -0.003727,
      0.032174,
      -0.052366,
      -0.029938,
      -0.024752,
      0.00383,
      0.014533,
      0.028668,
      -0.013435,
      -0.023176,
      0.018176,
      -0.037205,
      -0.006923,
      0.016395,
      -0.044349,
      -0.027074,
      -0.020024,
      0.004311,
      0.012927,
      -0.013174,
      0.029754,
      -0.041202,
      0.047532,
      0.026341,
      0.021165,
      0.02252,
      0.017923,
      -0.00752,
      0.001592,
      -0.139112,
      0.03521,
      0.024216,
      0.010639,
      -0.0133,
      0.005465,
      0.007567,
      -0.016035,
      0.030398,
      -0.057584,
      -0.013281,
      -0.007638,
      0.023644,
      -0.039471,
      0.020832,
      0.026282,
      0.016634,
      -0.004361,
      -0.028207,
      -0.003968,
      0.002343,
      -0.004898,
      0.064683,
      -0.010102,
      0.026913,
      -0.001828,
      -0.0192,
      0.00154,
      -0.007808,
      -0.000299,
      -0.017005,
      0.004597,
      0.012249,
      0.030984,
      0.007501,
      0.035138,
      0.000055,
      -0.00703,
      -0.030644,
      0.024189,
      -0.032199,
      0.009156,
      -0.042344,
      0.004239,
      0.005412,
      0.070531,
      -0.002947,
      -0.050163,
      -0.0246,
      0.006848,
      -0.021184,
      0.015925,
      -0.035226,
      0.032636,
      -0.015026,
      -0.016844,
      -0.052295,
      0.015966,
      -0.075779,
      0.008341,
      -0.001529,
      0.056134,
      -0.017731,
      -0.040603,
      0.033126,
      0.016529,
      -0.028078,
      0.028894,
      -0.008498,
      0.026828,
      0.009624,
      -0.029539,
      -0.020908,
      -0.003703,
      0.01832,
      0.032987,
      0.033412,
      -0.030005,
      -0.036204,
      -0.015208,
      0.026929,
      0.007795,
      -0.065059,
      0.039554,
      0.021793,
      0.004981,
      0.018838,
      0.022216,
      -0.089705,
      -0.016286,
      -0.001641,
      -0.057408,
      -0.011363,
      0.115674,
      -0.042703,
      0.054059,
      0.012921,
      -0.000062,
      0.000375,
      -0.037894,
      0.008124,
      0.003646,
      0.008238,
      -0.0107,
      -0.009228,
      -0.011731,
      0.023999,
      -0.006307,
      0.012392,
      0.012806,
      0.025451,
      0.002051,
      -0.007071,
      -0.01946,
      -0.050256,
      -0.003075,
      -0.005723,
      0.047061,
      -0.04479,
      0.002365,
      0.008883,
      0.03602,
      -0.019957,
      -0.028776,
      0.030305,
      0.033227,
      0.066757,
      -0.01782,
      0.045543,
      -0.04263,
      0.031981,
      -0.052235,
      -0.037235,
      0.001916,
      0.052435,
      -0.000176,
      -0.072861,
      0.036939,
      -0.01791,
      -0.013776,
      -0.043047,
      -0.005293,
      0.012105,
      -0.014893,
      -0.00361,
      -0.000277,
      -0.008512,
      -0.007702,
      -0.033368,
      -0.030983,
      0.036237,
      0.010668,
      -0.004787,
      0.034912,
      0.00734,
      0.013513,
      -0.017313,
      -0.013943,
      0.016206,
      0.049283,
      -0.01704,
      -0.030455,
      -0.005742,
      0.010393,
      -0.006829,
      -0.01985,
      -0.020009,
      -0.008943,
      -0.026209,
      0.011386,
      -0.003314,
      -0.016359,
      -0.006014,
      -0.01192,
      0.030322,
      -0.027356,
      0.025362,
      0.005839,
      0.024237,
      -0.000397,
      0.021552,
      -0.03563,
      0.023359,
      0.018899,
      0.046819,
      0.031899,
      -0.006018,
      0.045798,
      0.0258,
      -0.01447,
      -0.025035,
      -0.016545,
      0.006023,
      0.003769,
      0.023672,
      -0.003982,
      0.023761,
      0.006768,
      -0.036124,
      0.047378,
      -0.012393,
      -0.009377,
      -0.042531,
      -0.013227,
      0.001113,
      0.02116,
      -0.007711,
      0.009667,
      0.008808,
      0.037303,
      -0.02209,
      0.019423,
      0.003198,
      0.007278,
      -0.004232,
      0.04467,
      0.034681,
      0.03937,
      -0.021471,
      -0.001407,
      0.030692,
      0.020955,
      -0.014264,
      -0.062362,
      -0.061298,
      -0.005343,
      -0.029981,
      0.00366,
      0.00126,
      -0.049448,
      -0.026324,
      -0.027391,
      0.035504,
      0.029114,
      -0.031233,
      -0.0068,
      -0.001543,
      -0.000297,
      0.00861,
      -0.022871,
      0.054805,
      -0.005354,
      0.045493,
      -0.015652
    ]
  },
  {
    "id": "v5-typebox-1",
    "content": "# TypeBox (part 2)\nBreadcrumb: TypeBox > TypeBox (part 2)\nCovers: Validators | getDataValidator | getValidator | Validating Dates | Types | Standard | Primitive Types | Object & Array Types | Utility Types | Modifiers | Optional | Readonly | ReadonlyOptional | Options by Type | For Numbers | For Strings | For Arrays | For Objects | Extended | Extended Configuration | Constructor | Function | Promise | Uint8Array | Date | Undefined | Symbol | BigInt | Void | Reference\nTopics: application, get, create, update, patch, github, schema, typebox, validation, validators, database, mongodb, http, express, bun, client, configuration, typescript, types, cli, generate, test, upgrade, users\n\n## Validators\n\nThe following functions are available to get a [validator function](./validators.md) from a TypeBox schema.\n\n> **note:**\n> \n> See the [validators](./validators.md) chapter for more information on validators and validator functions.\n>\n\n### getDataValidator\n\n`getDataValidator(definition, validator)` returns validators for the data of `create`, `update` and `patch` service methods. You can either pass a single definition in which case all properties of the `patch` schema will be optional or individual validators for `create`, `update` and `patch`.\n\n```ts\nimport { Ajv } from '@feathersjs/schema'\nimport { Type, getDataValidator } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\n// Pick the data for creating a new user\nconst userDataSchema = Type.Pick(userSchema, ['email', 'password'])\n\nconst dataValidator = new Ajv()\n\nconst userDataValidator = getDataValidator(userDataSchema, dataValidator)\n\n// For more granular control\nconst userDataValidator = getDataValidator(\n  {\n    create: userDataSchema,\n    update: userDataSchema,\n    patch: Type.Partial(userDataSchema)\n  },\n  dataValidator\n)\n```\n\n### getValidator\n\n`getValidator(definition, validator)` returns a single validator function for a TypeBox schema.\n\n```ts\nimport { Ajv } from '@feathersjs/schema'\nimport { Type, getValidator } from '@feathersjs/typebox'\n\n// Schema for allowed query properties\nconst messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'], {\n  additionalProperties: false\n})\nconst messageQuerySchema = querySyntax(messageQueryProperties)\ntype MessageQuery = Static<typeof messageQuerySchema>\n\n// Since queries can be only strings we can to coerce them\nconst queryValidator = new Ajv({\n  coerceTypes: true\n})\n\nconst messageQueryValidator = getValidator(messageQuerySchema, queryValidator)\n```\n\n## Validating Dates\n\nWhen validating dates sent from the client, the most spec-compliant solution is to use the [ISO8601 format](https://www.rfc-editor.org/rfc/rfc3339#section-5.6). For example, SQLite date values are strings in the [ISO8601 format](https://www.rfc-editor.org/rfc/rfc3339#section-5.6), which is `YYYY-MM-DDTHH:MM:SS.SSS`. The character between the date and time formats is generally specified as the letter `T`, as in `2016-01-01T10:20:05.123`. For date values, you implement this spec with `Type.String` and not `Type.Date`.\n\nWhen using AJV you can validate this format with the `ajv-formats` package, which the Feathers CLI installs for you. Using it with `@feathersjs/typebox` looks like this:\n\n```ts\nconst userSchema = Type.Object(\n  {\n    createdAt: Type.String({ format: 'date-time' })\n  },\n  { $id: 'User', additionalProperties: false }\n)\n```\n\nSee the `@feathersjs/mongodb` docs for more information on [validating dates with MongoDB](/api/databases/mongodb#dates).\n\n## Types\n\nTypeBox provides a set of functions that allow you to compose JSON Schema similar to how you would compose static types with TypeScript. Each function creates a JSON schema fragment which can compose into more complex types. The schemas produced by TypeBox can be passed directly to any JSON Schema-compliant validator, or used to reflect runtime metadata for a type.\n\n### Standard\n\nThese are the standard TypeBox types. Each section shows equivalent code in three formats:\n\n- TypeBox\n- TypeScript type\n- JSON Schema\n\nThe following information comes from the TypeBox documentation. It has been formatted to make it easier to copy/paste examples.\n\n#### Primitive Types\n\nPrimitive type utilities create schemas for individual values.\n\n##### Any\n\nCreates a schema that will always pass validation. It's the equivalent of TypeScript's [any](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#any) type.\n\n```js\nconst T = Type.Any()\n```\n\n```js\ntype T = any\n```\n\n```js\nconst T = {}\n```\n\n##### Unknown\n\nSimilar to [any](#any), it creates a schema that will always pass validation. It's the equivalent of TypeScript's [unknown](https://www.typescriptlang.org/docs/handbook/2/functions.html#unknown) type.\n\n```js\nconst T = Type.Unknown()\n```\n\n```js\ntype T = unknown\n```\n\n```js\nconst T = {}\n```\n\n##### String\n\nCreates a string schema and type. `Type.String` will generally be used for validating dates sent from clients, as well. See [Validating Dates](#validating-dates).\n\n```js\nconst T = Type.String()\n```\n\n```js\ntype T = string\n```\n\n```js\nconst T = {\n  type: 'string'\n}\n```\n\n###### String Formats Bundled\n\nStrings are the most versatile, serializable type which can be transmitted from clients. Because of their versatility, several custom string formatters are supported, by default, in Feathers CLI-generated applications. [Additional formats](#additional-formats) can be manually enabled.\n\n<hr/>\n\n###### `date-time`\n\n```ts\nType.String({ format: 'date-time' })\n```\n\nValidates against the [date-time](https://www.rfc-editor.org/rfc/rfc3339#section-5.6) described in RFC3339/ISO8601, which is the following format:\n\n```\nYYYY-MM-DDTHH:MM:SS.SSS+HH:MM\n2022-11-30T11:21:44.000-08:00\n```\n\nThe sections of this format are described as follows:\n\n- **full-date**: `YYYY-MM-DD`\n- **partial-time**: `HH:MM:SS.SSS` (where `.SSS` represents optional milliseconds)\n- **time-offset**: `+HH:MM` (where `+` can be `-` and which value represents UTC offset or \"time zone\") **required**\n\n<hr/>\n\n###### `time`\n\n```ts\nType.String({ format: 'time' })\n```\n\nValidates against the following format:\n\n```\nHH:MM:SS.SSS+HH:MM\n11:21:44.000-08:00\n```\n\nThe sections of this format are described as follows:\n\n- **partial-time**: `HH:MM:SS.SSS` (where `.SSS` represents optional milliseconds)\n- **time-offset**: `+HH:MM` (where `+` can be `-` and which value represents UTC offset or \"time zone\") **optional**\n\n<hr/>\n\n###### `date`\n\n```ts\nType.String({ format: 'date' })\n```\n\nValidates against the [full date](https://www.rfc-editor.org/rfc/rfc3339#section-5.6) described in RFC3339/ISO8601, which is the following format:\n\n```\nYYYY-MM-DD\n2022-11-30\n```\n\n<hr/>\n\n###### `email`\n\n```ts\nType.String({ format: 'email' })\n```\n\nValidates email addresses against the format specified by [RFC 1034](https://rumkin.com/software/email/rules/).\n\n<hr/>\n\n###### `hostname`\n\n```ts\nType.String({ format: 'hostname' })\n```\n\nValidates hostnames against the format specified by [RFC 1034](https://rumkin.com/software/email/rules/).\n\n<hr/>\n\n###### `ipv4`\n\n```ts\nType.String({ format: 'ipv4' })\n```\n\nValidates an IPV4-formatted IP Address.\n\n```\n0.0.0.0 to 255.255.255.255\n```\n\n<hr/>\n\n###### `ipv6`\n\n```ts\nType.String({ format: 'ipv6' })\n```\n\nValidates an IPV6-formatted IP Address.\n\n<hr/>\n\n###### `uri`\n\n```ts\nType.String({ format: 'uri' })\n```\n\nValidates a full URI.\n\n<hr/>\n\n###### `uri-reference`\n\n```ts\nType.String({ format: 'uri-reference' })\n```\n\n<hr/>\n\n###### `uuid`\n\n```ts\nType.String({ format: 'uuid' })\n```\n\nValidates a Universally Unique Identifier according to [rfc4122](https://www.rfc-editor.org/rfc/rfc4122).\n\n<hr/>\n\n###### `uri-template`\n\n```ts\nType.String({ format: 'uri-template' })\n```\n\nValidates a URI Template according to [rfc6570](https://www.rfc-editor.org/rfc/rfc6570).\n\n<hr/>\n\n###### `json-pointer`\n\n```ts\nType.String({ format: 'json-pointer' })\n```\n\nValidates a JSON Pointer, according to [RFC6901](https://www.rfc-editor.org/rfc/rfc6901).\n\n<hr/>\n\n###### `relative-json-pointer`\n\n```ts\nType.String({ format: 'relative-json-pointer' })\n```\n\nValidates a Relative JSON Pointer, according to [this draft](https://datatracker.ietf.org/doc/html/draft-luff-relative-json-pointer-00).\n\n<hr/>\n\n###### `regex`\n\n```ts\nType.String({ format: 'regex' })\n```\n\nTests whether a string is a valid regular expression by passing it to RegExp constructor.\n\n<hr/>\n\n###### Additional Formats\n\nThe `ajv-formats` package bundled with CLI-generated apps includes additional utilities, listed below, which can be manually enabled by modifying the array of formats in `src/schema/validators.ts`. The additional formats are highlighted in this code example:\n\n```ts{16-25}\nconst formats: FormatsPluginOptions = [\n  'date-time',\n  'time',\n  'date',\n  'email',\n  'hostname',\n  'ipv4',\n  'ipv6',\n  'uri',\n  'uri-reference',\n  'uuid',\n  'uri-template',\n  'json-pointer',\n  'relative-json-pointer',\n  'regex',\n  'iso-time',\n  'iso-date-time',\n  'duration',\n  'byte',\n  'int32',\n  'int64',\n  'float',\n  'double',\n  'password',\n  'binary',\n]\n```\n\nBe aware that there is also an [ajv-formats-draft2019 package](https://github.com/luzlab/ajv-formats-draft2019) which can be manually installed. The package allows use of several international formats for urls, domains, and emails. The formats are included in [JSON Schema draft-07](https://json-schema.org/draft-07/json-schema-release-notes.html).\n\n<hr/>\n\n###### iso-time\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'iso-time' })\n```\n\nValidates against UTC-based time format:\n\n```\nHH:MM:SS.SSSZ\n11:21:44.000Z\n\nHH:MM:SSZ\n11:21:44Z\n```\n\nThe sections of this format are described as follows:\n\n- **partial-time**: `HH:MM:SS.SSS` (where `.SSS` represents optional milliseconds)\n- **Z**: `Z` (where Z represents UTC time zone, or time offset 00:00)\n\n<hr/>\n\n###### `iso-date-time`\n\n```ts\nType.String({ format: 'iso-date-time' })\n```\n\nValidates against the [date-time](https://www.rfc-editor.org/rfc/rfc3339#section-5.6) described in RFC3339/ISO8601, which is the following format:\n\n```\nYYYY-MM-DDTHH:MM:SS.SSSZ\n2022-11-30T11:21:44.000Z\n\nYYYY-MM-DDTHH:MM:SSZ\n2022-11-30T11:21:44Z\n```\n\nThe sections of this format are described as follows:\n\n- **full-date**: `YYYY-MM-DD`\n- **partial-time**: `HH:MM:SS.SSS` (where `.SSS` represents optional milliseconds)\n- **Z**: `Z` (where Z represents UTC time zone, or time offset 00:00)\n\n<hr/>\n\n###### Duration\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'duration' })\n```\n\nA duration string representing a period of time, as specified in [rfc3339 appendix-A](https://www.rfc-editor.org/rfc/rfc3339#appendix-A) undder the \"Durations\" heading. Here's an excerpt of the spec.\n\n```\nDurations:\n\ndur-second        = 1*DIGIT \"S\"\ndur-minute        = 1*DIGIT \"M\" [dur-second]\ndur-hour          = 1*DIGIT \"H\" [dur-minute]\ndur-time          = \"T\" (dur-hour / dur-minute / dur-second)\ndur-day           = 1*DIGIT \"D\"\ndur-week          = 1*DIGIT \"W\"\ndur-month         = 1*DIGIT \"M\" [dur-day]\ndur-year          = 1*DIGIT \"Y\" [dur-month]\ndur-date          = (dur-day / dur-month / dur-year) [dur-time]\n\nduration          = \"P\" (dur-date / dur-time / dur-week)\n```\n\n<hr/>\n\n###### Byte\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'byte' })\n```\n\nValidates base64-encoded data according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### int32\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'int32' })\n```\n\nValidates signed (+/-), 32-bit integers according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### int64\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'int64' })\n```\n\nValidates signed (+/-), 64-bit integers according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### float\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'float' })\n```\n\nValidates floats according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### double\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'double' })\n```\n\nValidates doubles according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### password\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'password' })\n```\n\nValidates passwords according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### binary\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'binary' })\n```\n\nValidates a binary string according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n##### Number\n\nCreates a number schema and type.\n\n```js\nconst T = Type.Number()\n```\n\n```js\ntype T = number\n```\n\n```js\nconst T = {\n  type: 'number'\n}\n```\n\n##### Integer\n\nCreates a number schema and type. The number has to be an integer (not a float).\n\n```js\nconst T = Type.Integer()\n```\n\n```js\ntype T = number\n```\n\n```js\nconst T = {\n  type: 'integer'\n}\n```\n\n##### Boolean\n\nCreates a boolean schema and type.\n\n```js\nconst T = Type.Boolean()\n```\n\n```js\ntype T = boolean\n```\n\n```js\nconst T = {\n  type: 'boolean'\n}\n```\n\n##### Null\n\nCreates a schema and type only allowing `null`.\n\n```js\nconst T = Type.Null()\n```\n\n```js\ntype T = null\n```\n\n```js\nconst T = {\n  type: 'null'\n}\n```\n\n##### Literal\n\nCreates a schema and type that must match the provided value.\n\n```js\nconst T = Type.Literal(42)\n```\n\n```js\ntype T = 42\n```\n\n```js\nconst T = {\n  const: 42,\n  type: 'number'\n}\n```\n\n#### Object & Array Types\n\nThese utilities creates schemas and types for objects and arrays.\n\n##### RegEx\n\nCreates a string schema that validates against a regular expression object. The TypeScript type will be `string`.\n\n```js\nconst T = Type.RegEx(/foo/)\n```\n\n```js\ntype T = string\n```\n\n```js\nconst T = {\n  type: 'string',\n  pattern: 'foo'\n}\n```\n\n##### Array\n\nCreates an array of the provided type. You can use any of the utility types to specify what can go in the array, even complex types using [union](#union) and [intersect](#intersect).\n\n```js\nconst T = Type.Array(Type.Number())\n```\n\n```js\ntype T = number[]\n```\n\n```js\nconst T = {\n  type: 'array',\n  items: {\n    type: 'number'\n  }\n}\n```\n\n##### Object\n\nCreates an object schema where all properties are required by default. You can use the [Type.Optional](#optional) utility to mark a key as optional.\n\n```js\nconst T = Type.Object({\n  x: Type.Number(),\n  y: Type.Number()\n})\n```\n\n```js\ntype T = {\n  x: number,\n  y: number\n}\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    x: {\n      type: 'number'\n    },\n    y: {\n      type: 'number'\n    }\n  },\n  required: ['x', 'y']\n}\n```\n\n##### Tuple\n\nCreates an array type with exactly two items matching the specified types.\n\n```js\nconst T = Type.Tuple([Type.Number(), Type.Number()])\n```\n\n```js\ntype T = [number, number]\n```\n\n```js\nconst T = {\n  type: 'array',\n  items: [{ type: 'number' }, { type: 'number' }],\n  additionalItems: false,\n  minItems: 2,\n  maxItems: 2\n}\n```\n\n##### StringEnum\n\n`StringEnum` is a standalone utility to for specifying an array of allowed string values on a property. It is directly exported from `@feathersjs/typebox`:\n\n```js\n// import the module, first\nimport { StringEnum } from '@feathersjs/typebox'\n\nconst T = StringEnum(['crow', 'dove', 'eagle'])\n// Add additional options\nconst T = StringEnum(['crow', 'dove', 'eagle'], {\n    default: 'crow'\n})\n```\n\nTo obtain the TypeScript type, use the `Static` utility:\n\n```js\nimport { Static } from '@feathersjs/typebox'\n\ntype T = Static<typeof T>\n```\n\n```js\nconst T = {\n  enum: ['crow', 'dove', 'eagle']\n}\n```\n\n##### Enum\n\n<BlockQuote>\n\nFor string values, use [StringEnum](#stringenum).\n\n</BlockQuote>\n\n```js\nenum Foo {\n  A,\n  B,\n}\nconst T = Type.Enum(Foo)\n```\n\n```js\nenum Foo {\n  A,\n  B,\n}\ntype T = Foo\n```\n\n```js\nconst T = {\n  anyOf: [\n    { type: 'number', const: 0 },\n    { type: 'number', const: 1 }\n  ]\n}\n```\n\n#### Utility Types\n\nThe utility types create types which are derived from other types.\n\n##### KeyOf\n\nCreates a schema for a string that can be any of the keys of a provided `Type.Object`. It's similar to TypeScript's [KeyOf](https://www.typescriptlang.org/docs/handbook/2/keyof-types.html#handbook-content) operator.\n\n```js\nconst T = Type.KeyOf(\n  Type.Object({\n    x: Type.Number(),\n    y: Type.Number()\n  })\n)\n```\n\n```js\ntype T = keyof {\n  x: number,\n  y: number,\n}\n```\n\n```js\nconst T = {\n  anyOf: [\n    { type: 'string', const: 'x' },\n    { type: 'string', const: 'y' }\n  ]\n}\n```\n\n##### Union\n\nCreates a type which can be one of the types in the provided array. It's the equivalent to using `|` to form a TypeScript [Union](https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes-func.html#unions).\n\n```js\nconst T = Type.Union([Type.String(), Type.Number()])\n```\n\n```js\ntype T = string | number\n```\n\n```js\nconst T = {\n  anyOf: [{ type: 'string' }, { type: 'number' }]\n}\n```\n\n##### Intersect\n\nCreates an object type by combining two or more other object types.\n\n```js\nconst T = Type.Intersect([\n  Type.Object({\n    x: Type.Number()\n  }),\n  Type.Object({\n    y: Type.Number()\n  })\n])\n```\n\n```js\ntype T = { x: number } & { y: number }\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    x: { type: 'number' },\n    y: { type: 'number' }\n  },\n  required: ['x', 'y']\n}\n```\n\n##### Never\n\nCreates a type that will never validate if the attribute is present. This is useful if you are allowing [additionalProperties](#additionalproperties) but need to prevent using specific keys.\n\n```js\nconst T = Type.Never()\n```\n\n```js\ntype T = never\n```\n\n```js\nconst T = {\n  allOf: [\n    { type: 'boolean', const: false },\n    { type: 'boolean', const: true }\n  ]\n}\n```\n\n##### Record\n\nCreates the JSON Schema equivalent of TypeScript's [Record](https://www.typescriptlang.org/docs/handbook/utility-types.html#recordkeys-type) utility type.\n\n```js\nconst T = Type.Record(Type.String(), Type.Number())\n```\n\n```js\ntype T = Record<string, number>\n```\n\n```js\nconst T = {\n  type: 'object',\n  patternProperties: {\n    '^.*$': {\n      type: 'number'\n    }\n  }\n}\n```\n\n##### Partial\n\nCreates a schema for an object where all keys are optional. It's the opposite of [Required](#required), and the JSON Schema equivalent of TypeScript's [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype) utility type.\n\n```js\nconst T = Type.Partial(\n  Type.Object({\n    x: Type.Number(),\n    y: Type.Number()\n  })\n)\n```\n\n```js\ntype T = Partial<{\n  x: number,\n  y: number\n}>\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    x: { type: 'number' },\n    y: { type: 'number' }\n  }\n}\n```\n\n##### Required\n\nCreates a schema for an object where all keys are required, even ignoring if keys are marked with `Type.Optional`. It's the opposite of [Partial](#partial), and the JSON Schema equivalent of TypeScript's [Required](https://www.typescriptlang.org/docs/handbook/utility-types.html#requiredtype) utility type.\n\n```js\nconst T = Type.Required(\n  Type.Object({\n    x: Type.Optional(Type.Number()),\n    y: Type.Optional(Type.Number())\n  })\n)\n```\n\n```js\ntype T = Required<{\n  x?: number,\n  y?: number\n}>\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    x: { type: 'number' },\n    y: { type: 'number' }\n  },\n  required: ['x', 'y']\n}\n```\n\n##### Pick\n\nForms a new object containing only the array of keys provided in the second argument. It's the JSON Schema equivalent of TypeScript's [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys) utility type.\n\n```js\nconst T = Type.Pick(\n  Type.Object({\n    x: Type.Number(),\n    y: Type.Number()\n  }),\n  ['x']\n)\n```\n\n```js\ntype T = Pick<\n  {\n    x: number,\n    y: number\n  },\n  'x'\n>\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    x: { type: 'number' }\n  },\n  required: ['x']\n}\n```\n\n##### Omit\n\nForms a new object containing all keys except those provided in the second argument. It's the JSON Schema equivalent of TypeScript's [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys) utility type.\n\n```js\nconst T = Type.Omit(\n  Type.Object({\n    x: Type.Number(),\n    y: Type.Number()\n  }),\n  ['x']\n)\n```\n\n```js\ntype T = Omit<\n  {\n    x: number,\n    y: number\n  },\n  'x'\n>\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    y: { type: 'number' }\n  },\n  required: ['y']\n}\n```\n\n### Modifiers\n\nTypeBox provides modifiers that can be applied to an objects properties. This allows for `optional` and `readonly` to be applied to that property. The following table illustrates how they map between TypeScript and JSON Schema.\n\n#### Optional\n\nAllows marking a key in [Type.Object](#object) as optional.\n\n```js\nconst T = Type.Object({\n  name: Type.Optional(Type.String())\n})\n```\n\n```js\ntype T = {\n  name?: string\n}\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    name: {\n      type: 'string'\n    }\n  }\n}\n```\n\n#### Readonly\n\nAllows marking a key in [Type.Object](#object) as readonly. It's the equivalent of TypeScript's [Readonly](https://www.typescriptlang.org/docs/handbook/utility-types.html#readonlytype) utility type.\n\n```js\nconst T = Type.Object({\n  name: Type.Readonly(Type.String())\n})\n```\n\n```js\ntype T = {\n  readonly name: string\n}\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    name: {\n      type: 'string'\n    }\n  },\n  required: ['name']\n}\n```\n\n#### ReadonlyOptional\n\nAllows marking a key in [Type.Object](#object) as both [readonly](#readonly) and [optional](#optional).\n\n```js\nconst T = Type.Object({\n  name: Type.ReadonlyOptional(Type.String())\n})\n```\n\n```js\ntype T = {\n  readonly name?: string\n}\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    name: {\n      type: 'string'\n    }\n  }\n}\n```\n\n### Options by Type\n\nYou can pass additional JSON schema options on the last argument of any given type. The [JSON Schema specification](https://json-schema.org/draft/2020-12/json-schema-validation.html#name-a-vocabulary-for-structural) describes options for each data type. Descriptions from the specification are copied here for easy reference.\n\n#### For Numbers\n\nNumber types support the following options, which can be used simultaneously.\n\n##### `multipleOf`\n\nThe value of \"multipleOf\" MUST be a number, strictly greater than 0. Values are valid only if division by this keyword's value results in an integer.\n\n```ts\nconst T = Type.Number({ multipleOf: 2 })\n```\n\n##### `maximum`\n\nThe value of \"maximum\" MUST be a number, representing an inclusive upper limit for a numeric instance. If the instance is a number, then this keyword validates only if the instance is less than or exactly equal to \"maximum\".\n\n```ts\nconst T = Type.Number({ maximum: 20 })\n```\n\n##### `exclusiveMaximum`\n\nThe value of \"exclusiveMaximum\" MUST be a number, representing an exclusive upper limit for a numeric instance. If the instance is a number, then the instance is valid only if it has a value strictly less than (not equal to) \"exclusiveMaximum\".\n\n```ts\nconst T = Type.Number({ exclusiveMaximum: 20 })\n```\n\n##### `minimum`\n\nThe value of \"minimum\" MUST be a number, representing an inclusive lower limit for a numeric instance. If the instance is a number, then this keyword validates only if the instance is greater than or exactly equal to \"minimum\".\n\n```ts\nconst T = Type.Number({ minimum: 20 })\n```\n\n##### `exclusiveMinimum`\n\nThe value of \"exclusiveMinimum\" MUST be a number, representing an exclusive lower limit for a numeric instance. If the instance is a number, then the instance is valid only if it has a value strictly greater than (not equal to) \"exclusiveMinimum\".\n\n```ts\nconst T = Type.Number({ exclusiveMinimum: 20 })\n```\n\n#### For Strings\n\nString types support the following options, which can be used simultaneously.\n\n##### `maxLength`\n\nThe value of this keyword MUST be a non-negative integer. A string instance is valid against this keyword if its length is less than, or equal to, the value of this keyword. The length of a string instance is defined as the number of its characters as defined by RFC 8259 [RFC8259].\n\n##### `minLength`\n\nThe value of this keyword MUST be a non-negative integer. A string instance is valid against this keyword if its length is greater than, or equal to, the value of this keyword. The length of a string instance is defined as the number of its characters as defined by RFC 8259 [RFC8259]. Omitting this keyword has the same behavior as a value of 0.\n\n##### `pattern`\n\nUse `Type.Regex`, instead of this option.\n\n##### With AJV Formats\n\nThere are four custom options which are only available for certain formats when using the `ajv-formats` package:\n\n- [formatMinimum](#formatminimum)\n- [formatMaximum](#formatmaximum)\n- [formatExclusiveMinimum](#formatexclusiveminimum)\n- [formatExclusiveMaximum](#formatexclusivemaximum)\n\nThe above-listed options are only available when using the following [string formats](#string-formats).\n\n- [date](#date)\n- [time](#time)\n- [date-time](#date-time)\n- [iso-time](#iso-time)\n- [iso-date-time](#iso-date-time)\n\n##### `formatMinimum`\n\nAllows defining minimum constraints when the `format` keyword defines ordering (using the compare function in format definition). Available when using [ajv-formats](#with-ajv-formats).\n\nThe following example validates that the provided date is on or after November 13, 2022.\n\n```ts\nType.String({ format: 'date', formatMinimum: '2022-11-13' })\n```\n\n##### `formatMaximum`\n\nAllows defining maximum constraints when the `format` keyword defines ordering (using the compare function in format definition). Available when using [ajv-formats](#with-ajv-formats).\n\nThe following example validates that the provided date is on or before November 13, 2022.\n\n```ts\nType.String({ format: 'date', formatMaximum: '2022-11-13' })\n```\n\n##### `formatExclusiveMinimum`\n\nAllows defining exclusive minimum constraints when the `format` keyword defines ordering (using the compare function in format definition). Available when using [ajv-formats](#with-ajv-formats).\n\nThe following example validates that the provided date is after (and not on) November 13, 2022.\n\n```ts\nType.String({ format: 'date', formatExclusiveMinimum: '2022-11-13' })\n```\n\n##### `formatExclusiveMaximum`\n\nAllows defining exclusive maximum constraints when the `format` keyword defines ordering (using the compare function in format definition). Available when using [ajv-formats](#with-ajv-formats).\n\nThe following example validates that the provided date is before (and not on) November 13, 2022.\n\n```ts\nType.String({ format: 'date', formatExclusiveMaximum: '2022-11-13' })\n```\n\n#### For Arrays\n\nArray types support the following options, which can be used simultaneously.\n\n##### `maxItems`\n\nThe value of this keyword MUST be a non-negative integer. An array instance is valid against \"maxItems\" if its size is less than, or equal to, the value of this keyword.\n\n##### `minItems`\n\nThe value of this keyword MUST be a non-negative integer. An array instance is valid against \"minItems\" if its size is greater than, or equal to, the value of this keyword. Omitting this keyword has the same behavior as a value of 0.\n\n##### `uniqueItems`\n\nThe value of this keyword MUST be a boolean. If this keyword has boolean value false, the instance validates successfully. If it has boolean value true, the instance validates successfully if all of its elements are unique. Omitting this keyword has the same behavior as a value of false.\n\n##### `maxContains`\n\nThe value of this keyword MUST be a non-negative integer.\n\nIf \"contains\" is not present within the same schema object, then this keyword has no effect.\n\nAn instance array is valid against \"maxContains\" in two ways, depending on the form of the annotation result of an adjacent \"contains\" [json-schema] keyword. The first way is if the annotation result is an array and the length of that array is less than or equal to the \"maxContains\" value. The second way is if the annotation result is a boolean \"true\" and the instance array length is less than or equal to the \"maxContains\" value.\n\n##### `minContains`\n\nThe value of this keyword MUST be a non-negative integer.\n\nIf \"contains\" is not present within the same schema object, then this keyword has no effect.\n\nAn instance array is valid against \"minContains\" in two ways, depending on the form of the annotation result of an adjacent \"contains\" [json-schema] keyword. The first way is if the annotation result is an array and the length of that array is greater than or equal to the \"minContains\" value. The second way is if the annotation result is a boolean \"true\" and the instance array length is greater than or equal to the \"minContains\" value.\n\nA value of 0 is allowed, but is only useful for setting a range of occurrences from 0 to the value of \"maxContains\". A value of 0 causes \"minContains\" and \"contains\" to always pass validation (but validation can still fail against a \"maxContains\" keyword).\n\nOmitting this keyword has the same behavior as a value of 1.\n\n#### For Objects\n\nArray types support the following options, which can be used simultaneously.\n\n##### `additionalProperties`\n\nSpecifies if keys other than the ones specified in the schema are allowed to be present in the object.\n\n##### `maxProperties`\n\nThe value of this keyword MUST be a non-negative integer. An object instance is valid against \"maxProperties\" if its number of properties is less than, or equal to, the value of this keyword.\n\n##### `minProperties`\n\nThe value of this keyword MUST be a non-negative integer. An object instance is valid against \"minProperties\" if its number of properties is greater than, or equal to, the value of this keyword. Omitting this keyword has the same behavior as a value of 0.\n\n##### `required`\n\nAll TypeBox types are required unless you wrap them in [Type.Optional](#optional), so you don't need to use this option, manually.\n\n##### `dependentRequired`\n\nThe value of this keyword MUST be an object. Properties in this object, if any, MUST be arrays. Elements in each array, if any, MUST be strings, and MUST be unique.\n\nThis keyword specifies properties that are required if a specific other property is present. Their requirement is dependent on the presence of the other property.\n\nValidation succeeds if, for each name that appears in both the instance and as a name within this keyword's value, every item in the corresponding array is also the name of a property in the instance.\n\nOmitting this keyword has the same behavior as an empty object.\n\n### Extended\n\nIn addition to JSON schema types, TypeBox provides several extended types that allow for the composition of `function` and `constructor` types. These additional types are not valid JSON Schema and will not validate using typical JSON Schema validation. However, these types can be used to frame JSON schema and describe callable interfaces that may receive JSON validated data. Since these are nonstandard types, most applications will not need them. Consider using the [Standard Types](#standard), instead, as using these types may make it difficult to upgrade your application in the future.\n\n#### Extended Configuration\n\nUtilities in this section require updating `src/schemas/validators.ts` to the Extended Ajv Configuration, as shown here: \n\n```ts\nimport { TypeGuard } from '@sinclair/typebox'\nimport { Value } from '@sinclair/typebox/value'\nimport addFormats from 'ajv-formats'\nimport type { Options } from 'ajv'\nimport Ajv from 'ajv'\n\nfunction schemaOf(schemaOf: string, value: unknown, schema: unknown) {\n  switch (schemaOf) {\n    case 'Constructor':\n      return TypeGuard.IsConstructor(schema) && Value.Check(schema, value) // not supported\n    case 'Function':\n      return TypeGuard.IsFunction(schema) && Value.Check(schema, value) // not supported\n    case 'Date':\n      return TypeGuard.IsDate(schema) && Value.Check(schema, value)\n    case 'Promise':\n      return TypeGuard.IsPromise(schema) && Value.Check(schema, value) // not supported\n    case 'Uint8Array':\n      return TypeGuard.IsUint8Array(schema) && Value.Check(schema, value)\n    case 'Undefined':\n      return TypeGuard.IsUndefined(schema) && Value.Check(schema, value) // not supported\n    case 'Void':\n      return TypeGuard.IsVoid(schema) && Value.Check(schema, value)\n    default:\n      return false\n  }\n}\n\nexport function createAjv(options: Options = {}) {\n  return addFormats(new Ajv(options), [\n    'date-time',\n    'time',\n    'date',\n    'email',\n    'hostname',\n    'ipv4',\n    'ipv6',\n    'uri',\n    'uri-reference',\n    'uuid',\n    'uri-template',\n    'json-pointer',\n    'relative-json-pointer',\n    'regex',\n  ])\n  .addKeyword({ type: 'object', keyword: 'instanceOf', validate: schemaOf })\n  .addKeyword({ type: 'null', keyword: 'typeOf', validate: schemaOf })\n  .addKeyword('exclusiveMinimumTimestamp')\n  .addKeyword('exclusiveMaximumTimestamp')\n  .addKeyword('minimumTimestamp')\n  .addKeyword('maximumTimestamp')\n  .addKeyword('minByteLength')\n  .addKeyword('maxByteLength')\n}\n\nexport const dataValidator: Ajv = createAjv({})\nexport const queryValidator: Ajv = createAjv({ coerceTypes: true })\n```\n\nIf you see an error stating `Error: strict mode: unknown keyword: \"instanceOf\"`, it's likely because you need to extend your configuration, as shown above.\n\n#### Constructor\n\nVerifies that the value is a constructor with typed arguments and return value. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Constructor([Type.String(), Type.Number()], Type.Boolean())\n```\n\n```js\ntype T = new (\n  arg0: string,\n  arg1: number,\n) => boolean\n```\n\n```js\nconst T = {\n  type: 'constructor',\n  parameters: [\n    { type: 'string' },\n    { type: 'number' },\n  ],\n  return {\n    type: 'boolean',\n  },\n}\n```\n\n#### Function\n\nVerifies that the value is a function with typed arguments and return value. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Function([Type.String(), Type.Number()], Type.Boolean())\n```\n\n```js\ntype T = ({\n  arg0: string,\n  arg1: number\n}) => boolean\n```\n\n```js\nconst T = {\n  type: 'function',\n  parameters: [\n    { type: 'string' },\n    { type: 'number' },\n  ],\n  return {\n    type: 'boolean',\n  },\n}\n```\n\n#### Promise\n\nVerifies that the value is an instanceof Promise which resolves to the provided type. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Promise(Type.String())\n```\n\n```js\ntype T = Promise<string>\n```\n\n```js\nconst T = {\n  type: 'promise',\n  item: { type: 'string' }\n}\n```\n\n#### Uint8Array\n\nVerifies that the value is an instanceof Uint8Array. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Uint8Array()\n```\n\n```js\ntype T = Uint8Array\n```\n\n```js\nconst T = {\n  type: 'object',\n  instanceOf: 'Uint8Array'\n}\n```\n\n#### Date\n\nVerifies that the value is an instanceof Date. This is likely not the validator to use for storing dates in a database. See [Validating Dates](#validating-dates). Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Date()\n```\n\n```js\ntype T = Date\n```\n\n```js\nconst T = {\n  type: 'object',\n  instanceOf: 'Date'\n}\n```\n\n#### Undefined\n\nVerifies that the value is `undefined`. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Undefined()\n```\n\n```js\ntype T = undefined\n```\n\n```js\nconst T = {\n  type: 'object',\n  specialized: 'Undefined'\n}\n```\n\n\n#### Symbol\n\nVerifies that the value is of type `Symbol`. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Symbol()\n```\n\n```js\ntype T = symbol\n```\n\n```js\nconst T = {\n  type: 'null',\n  typeOf: 'Symbol'\n}\n```\n\n#### BigInt\n\nVerifies that the value is of type `BigInt`. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.BigInt()\n```\n\n```js\ntype T = bigint\n```\n\n```js\nconst T = {\n  type: 'null',\n  typeOf: 'BigInt'\n}\n```\n\n#### Void\n\nVerifies that the value is `null`. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Void()\n```\n\n```js\ntype T = void\n```\n\n```js\nconst T = {\n  type: 'null'\n}\n```\n\n### Reference\n\nUse `Type.Ref(...)` to create referenced types. The target type must specify an `$id`.\n\n```ts\nconst T = Type.String({ $id: 'T' })\nconst R = Type.Ref(T)\n```\n\nFor a more detailed example see the [result and data schema](#result-and-data-schemas) section.",
    "rawContent": "## Validators\n\nThe following functions are available to get a [validator function](./validators.md) from a TypeBox schema.\n\n> **note:**\n> \n> See the [validators](./validators.md) chapter for more information on validators and validator functions.\n>\n\n### getDataValidator\n\n`getDataValidator(definition, validator)` returns validators for the data of `create`, `update` and `patch` service methods. You can either pass a single definition in which case all properties of the `patch` schema will be optional or individual validators for `create`, `update` and `patch`.\n\n```ts\nimport { Ajv } from '@feathersjs/schema'\nimport { Type, getDataValidator } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\n// Pick the data for creating a new user\nconst userDataSchema = Type.Pick(userSchema, ['email', 'password'])\n\nconst dataValidator = new Ajv()\n\nconst userDataValidator = getDataValidator(userDataSchema, dataValidator)\n\n// For more granular control\nconst userDataValidator = getDataValidator(\n  {\n    create: userDataSchema,\n    update: userDataSchema,\n    patch: Type.Partial(userDataSchema)\n  },\n  dataValidator\n)\n```\n\n### getValidator\n\n`getValidator(definition, validator)` returns a single validator function for a TypeBox schema.\n\n```ts\nimport { Ajv } from '@feathersjs/schema'\nimport { Type, getValidator } from '@feathersjs/typebox'\n\n// Schema for allowed query properties\nconst messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'], {\n  additionalProperties: false\n})\nconst messageQuerySchema = querySyntax(messageQueryProperties)\ntype MessageQuery = Static<typeof messageQuerySchema>\n\n// Since queries can be only strings we can to coerce them\nconst queryValidator = new Ajv({\n  coerceTypes: true\n})\n\nconst messageQueryValidator = getValidator(messageQuerySchema, queryValidator)\n```\n\n## Validating Dates\n\nWhen validating dates sent from the client, the most spec-compliant solution is to use the [ISO8601 format](https://www.rfc-editor.org/rfc/rfc3339#section-5.6). For example, SQLite date values are strings in the [ISO8601 format](https://www.rfc-editor.org/rfc/rfc3339#section-5.6), which is `YYYY-MM-DDTHH:MM:SS.SSS`. The character between the date and time formats is generally specified as the letter `T`, as in `2016-01-01T10:20:05.123`. For date values, you implement this spec with `Type.String` and not `Type.Date`.\n\nWhen using AJV you can validate this format with the `ajv-formats` package, which the Feathers CLI installs for you. Using it with `@feathersjs/typebox` looks like this:\n\n```ts\nconst userSchema = Type.Object(\n  {\n    createdAt: Type.String({ format: 'date-time' })\n  },\n  { $id: 'User', additionalProperties: false }\n)\n```\n\nSee the `@feathersjs/mongodb` docs for more information on [validating dates with MongoDB](/api/databases/mongodb#dates).\n\n## Types\n\nTypeBox provides a set of functions that allow you to compose JSON Schema similar to how you would compose static types with TypeScript. Each function creates a JSON schema fragment which can compose into more complex types. The schemas produced by TypeBox can be passed directly to any JSON Schema-compliant validator, or used to reflect runtime metadata for a type.\n\n### Standard\n\nThese are the standard TypeBox types. Each section shows equivalent code in three formats:\n\n- TypeBox\n- TypeScript type\n- JSON Schema\n\nThe following information comes from the TypeBox documentation. It has been formatted to make it easier to copy/paste examples.\n\n#### Primitive Types\n\nPrimitive type utilities create schemas for individual values.\n\n##### Any\n\nCreates a schema that will always pass validation. It's the equivalent of TypeScript's [any](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#any) type.\n\n```js\nconst T = Type.Any()\n```\n\n```js\ntype T = any\n```\n\n```js\nconst T = {}\n```\n\n##### Unknown\n\nSimilar to [any](#any), it creates a schema that will always pass validation. It's the equivalent of TypeScript's [unknown](https://www.typescriptlang.org/docs/handbook/2/functions.html#unknown) type.\n\n```js\nconst T = Type.Unknown()\n```\n\n```js\ntype T = unknown\n```\n\n```js\nconst T = {}\n```\n\n##### String\n\nCreates a string schema and type. `Type.String` will generally be used for validating dates sent from clients, as well. See [Validating Dates](#validating-dates).\n\n```js\nconst T = Type.String()\n```\n\n```js\ntype T = string\n```\n\n```js\nconst T = {\n  type: 'string'\n}\n```\n\n###### String Formats Bundled\n\nStrings are the most versatile, serializable type which can be transmitted from clients. Because of their versatility, several custom string formatters are supported, by default, in Feathers CLI-generated applications. [Additional formats](#additional-formats) can be manually enabled.\n\n<hr/>\n\n###### `date-time`\n\n```ts\nType.String({ format: 'date-time' })\n```\n\nValidates against the [date-time](https://www.rfc-editor.org/rfc/rfc3339#section-5.6) described in RFC3339/ISO8601, which is the following format:\n\n```\nYYYY-MM-DDTHH:MM:SS.SSS+HH:MM\n2022-11-30T11:21:44.000-08:00\n```\n\nThe sections of this format are described as follows:\n\n- **full-date**: `YYYY-MM-DD`\n- **partial-time**: `HH:MM:SS.SSS` (where `.SSS` represents optional milliseconds)\n- **time-offset**: `+HH:MM` (where `+` can be `-` and which value represents UTC offset or \"time zone\") **required**\n\n<hr/>\n\n###### `time`\n\n```ts\nType.String({ format: 'time' })\n```\n\nValidates against the following format:\n\n```\nHH:MM:SS.SSS+HH:MM\n11:21:44.000-08:00\n```\n\nThe sections of this format are described as follows:\n\n- **partial-time**: `HH:MM:SS.SSS` (where `.SSS` represents optional milliseconds)\n- **time-offset**: `+HH:MM` (where `+` can be `-` and which value represents UTC offset or \"time zone\") **optional**\n\n<hr/>\n\n###### `date`\n\n```ts\nType.String({ format: 'date' })\n```\n\nValidates against the [full date](https://www.rfc-editor.org/rfc/rfc3339#section-5.6) described in RFC3339/ISO8601, which is the following format:\n\n```\nYYYY-MM-DD\n2022-11-30\n```\n\n<hr/>\n\n###### `email`\n\n```ts\nType.String({ format: 'email' })\n```\n\nValidates email addresses against the format specified by [RFC 1034](https://rumkin.com/software/email/rules/).\n\n<hr/>\n\n###### `hostname`\n\n```ts\nType.String({ format: 'hostname' })\n```\n\nValidates hostnames against the format specified by [RFC 1034](https://rumkin.com/software/email/rules/).\n\n<hr/>\n\n###### `ipv4`\n\n```ts\nType.String({ format: 'ipv4' })\n```\n\nValidates an IPV4-formatted IP Address.\n\n```\n0.0.0.0 to 255.255.255.255\n```\n\n<hr/>\n\n###### `ipv6`\n\n```ts\nType.String({ format: 'ipv6' })\n```\n\nValidates an IPV6-formatted IP Address.\n\n<hr/>\n\n###### `uri`\n\n```ts\nType.String({ format: 'uri' })\n```\n\nValidates a full URI.\n\n<hr/>\n\n###### `uri-reference`\n\n```ts\nType.String({ format: 'uri-reference' })\n```\n\n<hr/>\n\n###### `uuid`\n\n```ts\nType.String({ format: 'uuid' })\n```\n\nValidates a Universally Unique Identifier according to [rfc4122](https://www.rfc-editor.org/rfc/rfc4122).\n\n<hr/>\n\n###### `uri-template`\n\n```ts\nType.String({ format: 'uri-template' })\n```\n\nValidates a URI Template according to [rfc6570](https://www.rfc-editor.org/rfc/rfc6570).\n\n<hr/>\n\n###### `json-pointer`\n\n```ts\nType.String({ format: 'json-pointer' })\n```\n\nValidates a JSON Pointer, according to [RFC6901](https://www.rfc-editor.org/rfc/rfc6901).\n\n<hr/>\n\n###### `relative-json-pointer`\n\n```ts\nType.String({ format: 'relative-json-pointer' })\n```\n\nValidates a Relative JSON Pointer, according to [this draft](https://datatracker.ietf.org/doc/html/draft-luff-relative-json-pointer-00).\n\n<hr/>\n\n###### `regex`\n\n```ts\nType.String({ format: 'regex' })\n```\n\nTests whether a string is a valid regular expression by passing it to RegExp constructor.\n\n<hr/>\n\n###### Additional Formats\n\nThe `ajv-formats` package bundled with CLI-generated apps includes additional utilities, listed below, which can be manually enabled by modifying the array of formats in `src/schema/validators.ts`. The additional formats are highlighted in this code example:\n\n```ts{16-25}\nconst formats: FormatsPluginOptions = [\n  'date-time',\n  'time',\n  'date',\n  'email',\n  'hostname',\n  'ipv4',\n  'ipv6',\n  'uri',\n  'uri-reference',\n  'uuid',\n  'uri-template',\n  'json-pointer',\n  'relative-json-pointer',\n  'regex',\n  'iso-time',\n  'iso-date-time',\n  'duration',\n  'byte',\n  'int32',\n  'int64',\n  'float',\n  'double',\n  'password',\n  'binary',\n]\n```\n\nBe aware that there is also an [ajv-formats-draft2019 package](https://github.com/luzlab/ajv-formats-draft2019) which can be manually installed. The package allows use of several international formats for urls, domains, and emails. The formats are included in [JSON Schema draft-07](https://json-schema.org/draft-07/json-schema-release-notes.html).\n\n<hr/>\n\n###### iso-time\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'iso-time' })\n```\n\nValidates against UTC-based time format:\n\n```\nHH:MM:SS.SSSZ\n11:21:44.000Z\n\nHH:MM:SSZ\n11:21:44Z\n```\n\nThe sections of this format are described as follows:\n\n- **partial-time**: `HH:MM:SS.SSS` (where `.SSS` represents optional milliseconds)\n- **Z**: `Z` (where Z represents UTC time zone, or time offset 00:00)\n\n<hr/>\n\n###### `iso-date-time`\n\n```ts\nType.String({ format: 'iso-date-time' })\n```\n\nValidates against the [date-time](https://www.rfc-editor.org/rfc/rfc3339#section-5.6) described in RFC3339/ISO8601, which is the following format:\n\n```\nYYYY-MM-DDTHH:MM:SS.SSSZ\n2022-11-30T11:21:44.000Z\n\nYYYY-MM-DDTHH:MM:SSZ\n2022-11-30T11:21:44Z\n```\n\nThe sections of this format are described as follows:\n\n- **full-date**: `YYYY-MM-DD`\n- **partial-time**: `HH:MM:SS.SSS` (where `.SSS` represents optional milliseconds)\n- **Z**: `Z` (where Z represents UTC time zone, or time offset 00:00)\n\n<hr/>\n\n###### Duration\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'duration' })\n```\n\nA duration string representing a period of time, as specified in [rfc3339 appendix-A](https://www.rfc-editor.org/rfc/rfc3339#appendix-A) undder the \"Durations\" heading. Here's an excerpt of the spec.\n\n```\nDurations:\n\ndur-second        = 1*DIGIT \"S\"\ndur-minute        = 1*DIGIT \"M\" [dur-second]\ndur-hour          = 1*DIGIT \"H\" [dur-minute]\ndur-time          = \"T\" (dur-hour / dur-minute / dur-second)\ndur-day           = 1*DIGIT \"D\"\ndur-week          = 1*DIGIT \"W\"\ndur-month         = 1*DIGIT \"M\" [dur-day]\ndur-year          = 1*DIGIT \"Y\" [dur-month]\ndur-date          = (dur-day / dur-month / dur-year) [dur-time]\n\nduration          = \"P\" (dur-date / dur-time / dur-week)\n```\n\n<hr/>\n\n###### Byte\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'byte' })\n```\n\nValidates base64-encoded data according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### int32\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'int32' })\n```\n\nValidates signed (+/-), 32-bit integers according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### int64\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'int64' })\n```\n\nValidates signed (+/-), 64-bit integers according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### float\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'float' })\n```\n\nValidates floats according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### double\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'double' })\n```\n\nValidates doubles according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### password\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'password' })\n```\n\nValidates passwords according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n###### binary\n\nMust be manually enabled. See [Additional Formats](#additional-formats).\n\n```ts\nType.String({ format: 'binary' })\n```\n\nValidates a binary string according to the [openApi 3.0.0 specification](https://spec.openapis.org/oas/v3.0.0#data-types).\n\n<hr/>\n\n##### Number\n\nCreates a number schema and type.\n\n```js\nconst T = Type.Number()\n```\n\n```js\ntype T = number\n```\n\n```js\nconst T = {\n  type: 'number'\n}\n```\n\n##### Integer\n\nCreates a number schema and type. The number has to be an integer (not a float).\n\n```js\nconst T = Type.Integer()\n```\n\n```js\ntype T = number\n```\n\n```js\nconst T = {\n  type: 'integer'\n}\n```\n\n##### Boolean\n\nCreates a boolean schema and type.\n\n```js\nconst T = Type.Boolean()\n```\n\n```js\ntype T = boolean\n```\n\n```js\nconst T = {\n  type: 'boolean'\n}\n```\n\n##### Null\n\nCreates a schema and type only allowing `null`.\n\n```js\nconst T = Type.Null()\n```\n\n```js\ntype T = null\n```\n\n```js\nconst T = {\n  type: 'null'\n}\n```\n\n##### Literal\n\nCreates a schema and type that must match the provided value.\n\n```js\nconst T = Type.Literal(42)\n```\n\n```js\ntype T = 42\n```\n\n```js\nconst T = {\n  const: 42,\n  type: 'number'\n}\n```\n\n#### Object & Array Types\n\nThese utilities creates schemas and types for objects and arrays.\n\n##### RegEx\n\nCreates a string schema that validates against a regular expression object. The TypeScript type will be `string`.\n\n```js\nconst T = Type.RegEx(/foo/)\n```\n\n```js\ntype T = string\n```\n\n```js\nconst T = {\n  type: 'string',\n  pattern: 'foo'\n}\n```\n\n##### Array\n\nCreates an array of the provided type. You can use any of the utility types to specify what can go in the array, even complex types using [union](#union) and [intersect](#intersect).\n\n```js\nconst T = Type.Array(Type.Number())\n```\n\n```js\ntype T = number[]\n```\n\n```js\nconst T = {\n  type: 'array',\n  items: {\n    type: 'number'\n  }\n}\n```\n\n##### Object\n\nCreates an object schema where all properties are required by default. You can use the [Type.Optional](#optional) utility to mark a key as optional.\n\n```js\nconst T = Type.Object({\n  x: Type.Number(),\n  y: Type.Number()\n})\n```\n\n```js\ntype T = {\n  x: number,\n  y: number\n}\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    x: {\n      type: 'number'\n    },\n    y: {\n      type: 'number'\n    }\n  },\n  required: ['x', 'y']\n}\n```\n\n##### Tuple\n\nCreates an array type with exactly two items matching the specified types.\n\n```js\nconst T = Type.Tuple([Type.Number(), Type.Number()])\n```\n\n```js\ntype T = [number, number]\n```\n\n```js\nconst T = {\n  type: 'array',\n  items: [{ type: 'number' }, { type: 'number' }],\n  additionalItems: false,\n  minItems: 2,\n  maxItems: 2\n}\n```\n\n##### StringEnum\n\n`StringEnum` is a standalone utility to for specifying an array of allowed string values on a property. It is directly exported from `@feathersjs/typebox`:\n\n```js\n// import the module, first\nimport { StringEnum } from '@feathersjs/typebox'\n\nconst T = StringEnum(['crow', 'dove', 'eagle'])\n// Add additional options\nconst T = StringEnum(['crow', 'dove', 'eagle'], {\n    default: 'crow'\n})\n```\n\nTo obtain the TypeScript type, use the `Static` utility:\n\n```js\nimport { Static } from '@feathersjs/typebox'\n\ntype T = Static<typeof T>\n```\n\n```js\nconst T = {\n  enum: ['crow', 'dove', 'eagle']\n}\n```\n\n##### Enum\n\n<BlockQuote>\n\nFor string values, use [StringEnum](#stringenum).\n\n</BlockQuote>\n\n```js\nenum Foo {\n  A,\n  B,\n}\nconst T = Type.Enum(Foo)\n```\n\n```js\nenum Foo {\n  A,\n  B,\n}\ntype T = Foo\n```\n\n```js\nconst T = {\n  anyOf: [\n    { type: 'number', const: 0 },\n    { type: 'number', const: 1 }\n  ]\n}\n```\n\n#### Utility Types\n\nThe utility types create types which are derived from other types.\n\n##### KeyOf\n\nCreates a schema for a string that can be any of the keys of a provided `Type.Object`. It's similar to TypeScript's [KeyOf](https://www.typescriptlang.org/docs/handbook/2/keyof-types.html#handbook-content) operator.\n\n```js\nconst T = Type.KeyOf(\n  Type.Object({\n    x: Type.Number(),\n    y: Type.Number()\n  })\n)\n```\n\n```js\ntype T = keyof {\n  x: number,\n  y: number,\n}\n```\n\n```js\nconst T = {\n  anyOf: [\n    { type: 'string', const: 'x' },\n    { type: 'string', const: 'y' }\n  ]\n}\n```\n\n##### Union\n\nCreates a type which can be one of the types in the provided array. It's the equivalent to using `|` to form a TypeScript [Union](https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes-func.html#unions).\n\n```js\nconst T = Type.Union([Type.String(), Type.Number()])\n```\n\n```js\ntype T = string | number\n```\n\n```js\nconst T = {\n  anyOf: [{ type: 'string' }, { type: 'number' }]\n}\n```\n\n##### Intersect\n\nCreates an object type by combining two or more other object types.\n\n```js\nconst T = Type.Intersect([\n  Type.Object({\n    x: Type.Number()\n  }),\n  Type.Object({\n    y: Type.Number()\n  })\n])\n```\n\n```js\ntype T = { x: number } & { y: number }\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    x: { type: 'number' },\n    y: { type: 'number' }\n  },\n  required: ['x', 'y']\n}\n```\n\n##### Never\n\nCreates a type that will never validate if the attribute is present. This is useful if you are allowing [additionalProperties](#additionalproperties) but need to prevent using specific keys.\n\n```js\nconst T = Type.Never()\n```\n\n```js\ntype T = never\n```\n\n```js\nconst T = {\n  allOf: [\n    { type: 'boolean', const: false },\n    { type: 'boolean', const: true }\n  ]\n}\n```\n\n##### Record\n\nCreates the JSON Schema equivalent of TypeScript's [Record](https://www.typescriptlang.org/docs/handbook/utility-types.html#recordkeys-type) utility type.\n\n```js\nconst T = Type.Record(Type.String(), Type.Number())\n```\n\n```js\ntype T = Record<string, number>\n```\n\n```js\nconst T = {\n  type: 'object',\n  patternProperties: {\n    '^.*$': {\n      type: 'number'\n    }\n  }\n}\n```\n\n##### Partial\n\nCreates a schema for an object where all keys are optional. It's the opposite of [Required](#required), and the JSON Schema equivalent of TypeScript's [Partial](https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype) utility type.\n\n```js\nconst T = Type.Partial(\n  Type.Object({\n    x: Type.Number(),\n    y: Type.Number()\n  })\n)\n```\n\n```js\ntype T = Partial<{\n  x: number,\n  y: number\n}>\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    x: { type: 'number' },\n    y: { type: 'number' }\n  }\n}\n```\n\n##### Required\n\nCreates a schema for an object where all keys are required, even ignoring if keys are marked with `Type.Optional`. It's the opposite of [Partial](#partial), and the JSON Schema equivalent of TypeScript's [Required](https://www.typescriptlang.org/docs/handbook/utility-types.html#requiredtype) utility type.\n\n```js\nconst T = Type.Required(\n  Type.Object({\n    x: Type.Optional(Type.Number()),\n    y: Type.Optional(Type.Number())\n  })\n)\n```\n\n```js\ntype T = Required<{\n  x?: number,\n  y?: number\n}>\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    x: { type: 'number' },\n    y: { type: 'number' }\n  },\n  required: ['x', 'y']\n}\n```\n\n##### Pick\n\nForms a new object containing only the array of keys provided in the second argument. It's the JSON Schema equivalent of TypeScript's [Pick](https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys) utility type.\n\n```js\nconst T = Type.Pick(\n  Type.Object({\n    x: Type.Number(),\n    y: Type.Number()\n  }),\n  ['x']\n)\n```\n\n```js\ntype T = Pick<\n  {\n    x: number,\n    y: number\n  },\n  'x'\n>\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    x: { type: 'number' }\n  },\n  required: ['x']\n}\n```\n\n##### Omit\n\nForms a new object containing all keys except those provided in the second argument. It's the JSON Schema equivalent of TypeScript's [Omit](https://www.typescriptlang.org/docs/handbook/utility-types.html#omittype-keys) utility type.\n\n```js\nconst T = Type.Omit(\n  Type.Object({\n    x: Type.Number(),\n    y: Type.Number()\n  }),\n  ['x']\n)\n```\n\n```js\ntype T = Omit<\n  {\n    x: number,\n    y: number\n  },\n  'x'\n>\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    y: { type: 'number' }\n  },\n  required: ['y']\n}\n```\n\n### Modifiers\n\nTypeBox provides modifiers that can be applied to an objects properties. This allows for `optional` and `readonly` to be applied to that property. The following table illustrates how they map between TypeScript and JSON Schema.\n\n#### Optional\n\nAllows marking a key in [Type.Object](#object) as optional.\n\n```js\nconst T = Type.Object({\n  name: Type.Optional(Type.String())\n})\n```\n\n```js\ntype T = {\n  name?: string\n}\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    name: {\n      type: 'string'\n    }\n  }\n}\n```\n\n#### Readonly\n\nAllows marking a key in [Type.Object](#object) as readonly. It's the equivalent of TypeScript's [Readonly](https://www.typescriptlang.org/docs/handbook/utility-types.html#readonlytype) utility type.\n\n```js\nconst T = Type.Object({\n  name: Type.Readonly(Type.String())\n})\n```\n\n```js\ntype T = {\n  readonly name: string\n}\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    name: {\n      type: 'string'\n    }\n  },\n  required: ['name']\n}\n```\n\n#### ReadonlyOptional\n\nAllows marking a key in [Type.Object](#object) as both [readonly](#readonly) and [optional](#optional).\n\n```js\nconst T = Type.Object({\n  name: Type.ReadonlyOptional(Type.String())\n})\n```\n\n```js\ntype T = {\n  readonly name?: string\n}\n```\n\n```js\nconst T = {\n  type: 'object',\n  properties: {\n    name: {\n      type: 'string'\n    }\n  }\n}\n```\n\n### Options by Type\n\nYou can pass additional JSON schema options on the last argument of any given type. The [JSON Schema specification](https://json-schema.org/draft/2020-12/json-schema-validation.html#name-a-vocabulary-for-structural) describes options for each data type. Descriptions from the specification are copied here for easy reference.\n\n#### For Numbers\n\nNumber types support the following options, which can be used simultaneously.\n\n##### `multipleOf`\n\nThe value of \"multipleOf\" MUST be a number, strictly greater than 0. Values are valid only if division by this keyword's value results in an integer.\n\n```ts\nconst T = Type.Number({ multipleOf: 2 })\n```\n\n##### `maximum`\n\nThe value of \"maximum\" MUST be a number, representing an inclusive upper limit for a numeric instance. If the instance is a number, then this keyword validates only if the instance is less than or exactly equal to \"maximum\".\n\n```ts\nconst T = Type.Number({ maximum: 20 })\n```\n\n##### `exclusiveMaximum`\n\nThe value of \"exclusiveMaximum\" MUST be a number, representing an exclusive upper limit for a numeric instance. If the instance is a number, then the instance is valid only if it has a value strictly less than (not equal to) \"exclusiveMaximum\".\n\n```ts\nconst T = Type.Number({ exclusiveMaximum: 20 })\n```\n\n##### `minimum`\n\nThe value of \"minimum\" MUST be a number, representing an inclusive lower limit for a numeric instance. If the instance is a number, then this keyword validates only if the instance is greater than or exactly equal to \"minimum\".\n\n```ts\nconst T = Type.Number({ minimum: 20 })\n```\n\n##### `exclusiveMinimum`\n\nThe value of \"exclusiveMinimum\" MUST be a number, representing an exclusive lower limit for a numeric instance. If the instance is a number, then the instance is valid only if it has a value strictly greater than (not equal to) \"exclusiveMinimum\".\n\n```ts\nconst T = Type.Number({ exclusiveMinimum: 20 })\n```\n\n#### For Strings\n\nString types support the following options, which can be used simultaneously.\n\n##### `maxLength`\n\nThe value of this keyword MUST be a non-negative integer. A string instance is valid against this keyword if its length is less than, or equal to, the value of this keyword. The length of a string instance is defined as the number of its characters as defined by RFC 8259 [RFC8259].\n\n##### `minLength`\n\nThe value of this keyword MUST be a non-negative integer. A string instance is valid against this keyword if its length is greater than, or equal to, the value of this keyword. The length of a string instance is defined as the number of its characters as defined by RFC 8259 [RFC8259]. Omitting this keyword has the same behavior as a value of 0.\n\n##### `pattern`\n\nUse `Type.Regex`, instead of this option.\n\n##### With AJV Formats\n\nThere are four custom options which are only available for certain formats when using the `ajv-formats` package:\n\n- [formatMinimum](#formatminimum)\n- [formatMaximum](#formatmaximum)\n- [formatExclusiveMinimum](#formatexclusiveminimum)\n- [formatExclusiveMaximum](#formatexclusivemaximum)\n\nThe above-listed options are only available when using the following [string formats](#string-formats).\n\n- [date](#date)\n- [time](#time)\n- [date-time](#date-time)\n- [iso-time](#iso-time)\n- [iso-date-time](#iso-date-time)\n\n##### `formatMinimum`\n\nAllows defining minimum constraints when the `format` keyword defines ordering (using the compare function in format definition). Available when using [ajv-formats](#with-ajv-formats).\n\nThe following example validates that the provided date is on or after November 13, 2022.\n\n```ts\nType.String({ format: 'date', formatMinimum: '2022-11-13' })\n```\n\n##### `formatMaximum`\n\nAllows defining maximum constraints when the `format` keyword defines ordering (using the compare function in format definition). Available when using [ajv-formats](#with-ajv-formats).\n\nThe following example validates that the provided date is on or before November 13, 2022.\n\n```ts\nType.String({ format: 'date', formatMaximum: '2022-11-13' })\n```\n\n##### `formatExclusiveMinimum`\n\nAllows defining exclusive minimum constraints when the `format` keyword defines ordering (using the compare function in format definition). Available when using [ajv-formats](#with-ajv-formats).\n\nThe following example validates that the provided date is after (and not on) November 13, 2022.\n\n```ts\nType.String({ format: 'date', formatExclusiveMinimum: '2022-11-13' })\n```\n\n##### `formatExclusiveMaximum`\n\nAllows defining exclusive maximum constraints when the `format` keyword defines ordering (using the compare function in format definition). Available when using [ajv-formats](#with-ajv-formats).\n\nThe following example validates that the provided date is before (and not on) November 13, 2022.\n\n```ts\nType.String({ format: 'date', formatExclusiveMaximum: '2022-11-13' })\n```\n\n#### For Arrays\n\nArray types support the following options, which can be used simultaneously.\n\n##### `maxItems`\n\nThe value of this keyword MUST be a non-negative integer. An array instance is valid against \"maxItems\" if its size is less than, or equal to, the value of this keyword.\n\n##### `minItems`\n\nThe value of this keyword MUST be a non-negative integer. An array instance is valid against \"minItems\" if its size is greater than, or equal to, the value of this keyword. Omitting this keyword has the same behavior as a value of 0.\n\n##### `uniqueItems`\n\nThe value of this keyword MUST be a boolean. If this keyword has boolean value false, the instance validates successfully. If it has boolean value true, the instance validates successfully if all of its elements are unique. Omitting this keyword has the same behavior as a value of false.\n\n##### `maxContains`\n\nThe value of this keyword MUST be a non-negative integer.\n\nIf \"contains\" is not present within the same schema object, then this keyword has no effect.\n\nAn instance array is valid against \"maxContains\" in two ways, depending on the form of the annotation result of an adjacent \"contains\" [json-schema] keyword. The first way is if the annotation result is an array and the length of that array is less than or equal to the \"maxContains\" value. The second way is if the annotation result is a boolean \"true\" and the instance array length is less than or equal to the \"maxContains\" value.\n\n##### `minContains`\n\nThe value of this keyword MUST be a non-negative integer.\n\nIf \"contains\" is not present within the same schema object, then this keyword has no effect.\n\nAn instance array is valid against \"minContains\" in two ways, depending on the form of the annotation result of an adjacent \"contains\" [json-schema] keyword. The first way is if the annotation result is an array and the length of that array is greater than or equal to the \"minContains\" value. The second way is if the annotation result is a boolean \"true\" and the instance array length is greater than or equal to the \"minContains\" value.\n\nA value of 0 is allowed, but is only useful for setting a range of occurrences from 0 to the value of \"maxContains\". A value of 0 causes \"minContains\" and \"contains\" to always pass validation (but validation can still fail against a \"maxContains\" keyword).\n\nOmitting this keyword has the same behavior as a value of 1.\n\n#### For Objects\n\nArray types support the following options, which can be used simultaneously.\n\n##### `additionalProperties`\n\nSpecifies if keys other than the ones specified in the schema are allowed to be present in the object.\n\n##### `maxProperties`\n\nThe value of this keyword MUST be a non-negative integer. An object instance is valid against \"maxProperties\" if its number of properties is less than, or equal to, the value of this keyword.\n\n##### `minProperties`\n\nThe value of this keyword MUST be a non-negative integer. An object instance is valid against \"minProperties\" if its number of properties is greater than, or equal to, the value of this keyword. Omitting this keyword has the same behavior as a value of 0.\n\n##### `required`\n\nAll TypeBox types are required unless you wrap them in [Type.Optional](#optional), so you don't need to use this option, manually.\n\n##### `dependentRequired`\n\nThe value of this keyword MUST be an object. Properties in this object, if any, MUST be arrays. Elements in each array, if any, MUST be strings, and MUST be unique.\n\nThis keyword specifies properties that are required if a specific other property is present. Their requirement is dependent on the presence of the other property.\n\nValidation succeeds if, for each name that appears in both the instance and as a name within this keyword's value, every item in the corresponding array is also the name of a property in the instance.\n\nOmitting this keyword has the same behavior as an empty object.\n\n### Extended\n\nIn addition to JSON schema types, TypeBox provides several extended types that allow for the composition of `function` and `constructor` types. These additional types are not valid JSON Schema and will not validate using typical JSON Schema validation. However, these types can be used to frame JSON schema and describe callable interfaces that may receive JSON validated data. Since these are nonstandard types, most applications will not need them. Consider using the [Standard Types](#standard), instead, as using these types may make it difficult to upgrade your application in the future.\n\n#### Extended Configuration\n\nUtilities in this section require updating `src/schemas/validators.ts` to the Extended Ajv Configuration, as shown here: \n\n```ts\nimport { TypeGuard } from '@sinclair/typebox'\nimport { Value } from '@sinclair/typebox/value'\nimport addFormats from 'ajv-formats'\nimport type { Options } from 'ajv'\nimport Ajv from 'ajv'\n\nfunction schemaOf(schemaOf: string, value: unknown, schema: unknown) {\n  switch (schemaOf) {\n    case 'Constructor':\n      return TypeGuard.IsConstructor(schema) && Value.Check(schema, value) // not supported\n    case 'Function':\n      return TypeGuard.IsFunction(schema) && Value.Check(schema, value) // not supported\n    case 'Date':\n      return TypeGuard.IsDate(schema) && Value.Check(schema, value)\n    case 'Promise':\n      return TypeGuard.IsPromise(schema) && Value.Check(schema, value) // not supported\n    case 'Uint8Array':\n      return TypeGuard.IsUint8Array(schema) && Value.Check(schema, value)\n    case 'Undefined':\n      return TypeGuard.IsUndefined(schema) && Value.Check(schema, value) // not supported\n    case 'Void':\n      return TypeGuard.IsVoid(schema) && Value.Check(schema, value)\n    default:\n      return false\n  }\n}\n\nexport function createAjv(options: Options = {}) {\n  return addFormats(new Ajv(options), [\n    'date-time',\n    'time',\n    'date',\n    'email',\n    'hostname',\n    'ipv4',\n    'ipv6',\n    'uri',\n    'uri-reference',\n    'uuid',\n    'uri-template',\n    'json-pointer',\n    'relative-json-pointer',\n    'regex',\n  ])\n  .addKeyword({ type: 'object', keyword: 'instanceOf', validate: schemaOf })\n  .addKeyword({ type: 'null', keyword: 'typeOf', validate: schemaOf })\n  .addKeyword('exclusiveMinimumTimestamp')\n  .addKeyword('exclusiveMaximumTimestamp')\n  .addKeyword('minimumTimestamp')\n  .addKeyword('maximumTimestamp')\n  .addKeyword('minByteLength')\n  .addKeyword('maxByteLength')\n}\n\nexport const dataValidator: Ajv = createAjv({})\nexport const queryValidator: Ajv = createAjv({ coerceTypes: true })\n```\n\nIf you see an error stating `Error: strict mode: unknown keyword: \"instanceOf\"`, it's likely because you need to extend your configuration, as shown above.\n\n#### Constructor\n\nVerifies that the value is a constructor with typed arguments and return value. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Constructor([Type.String(), Type.Number()], Type.Boolean())\n```\n\n```js\ntype T = new (\n  arg0: string,\n  arg1: number,\n) => boolean\n```\n\n```js\nconst T = {\n  type: 'constructor',\n  parameters: [\n    { type: 'string' },\n    { type: 'number' },\n  ],\n  return {\n    type: 'boolean',\n  },\n}\n```\n\n#### Function\n\nVerifies that the value is a function with typed arguments and return value. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Function([Type.String(), Type.Number()], Type.Boolean())\n```\n\n```js\ntype T = ({\n  arg0: string,\n  arg1: number\n}) => boolean\n```\n\n```js\nconst T = {\n  type: 'function',\n  parameters: [\n    { type: 'string' },\n    { type: 'number' },\n  ],\n  return {\n    type: 'boolean',\n  },\n}\n```\n\n#### Promise\n\nVerifies that the value is an instanceof Promise which resolves to the provided type. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Promise(Type.String())\n```\n\n```js\ntype T = Promise<string>\n```\n\n```js\nconst T = {\n  type: 'promise',\n  item: { type: 'string' }\n}\n```\n\n#### Uint8Array\n\nVerifies that the value is an instanceof Uint8Array. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Uint8Array()\n```\n\n```js\ntype T = Uint8Array\n```\n\n```js\nconst T = {\n  type: 'object',\n  instanceOf: 'Uint8Array'\n}\n```\n\n#### Date\n\nVerifies that the value is an instanceof Date. This is likely not the validator to use for storing dates in a database. See [Validating Dates](#validating-dates). Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Date()\n```\n\n```js\ntype T = Date\n```\n\n```js\nconst T = {\n  type: 'object',\n  instanceOf: 'Date'\n}\n```\n\n#### Undefined\n\nVerifies that the value is `undefined`. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Undefined()\n```\n\n```js\ntype T = undefined\n```\n\n```js\nconst T = {\n  type: 'object',\n  specialized: 'Undefined'\n}\n```\n\n\n#### Symbol\n\nVerifies that the value is of type `Symbol`. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Symbol()\n```\n\n```js\ntype T = symbol\n```\n\n```js\nconst T = {\n  type: 'null',\n  typeOf: 'Symbol'\n}\n```\n\n#### BigInt\n\nVerifies that the value is of type `BigInt`. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.BigInt()\n```\n\n```js\ntype T = bigint\n```\n\n```js\nconst T = {\n  type: 'null',\n  typeOf: 'BigInt'\n}\n```\n\n#### Void\n\nVerifies that the value is `null`. Requires [Extended Ajv Configuration](#extended-configuration).\n\n```js\nconst T = Type.Void()\n```\n\n```js\ntype T = void\n```\n\n```js\nconst T = {\n  type: 'null'\n}\n```\n\n### Reference\n\nUse `Type.Ref(...)` to create referenced types. The target type must specify an `$id`.\n\n```ts\nconst T = Type.String({ $id: 'T' })\nconst R = Type.Ref(T)\n```\n\nFor a more detailed example see the [result and data schema](#result-and-data-schemas) section.",
    "breadcrumb": "TypeBox > TypeBox (part 2)",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/schema/typebox.md",
    "heading": "TypeBox (part 2)",
    "subHeadings": [
      "Validators",
      "getDataValidator",
      "getValidator",
      "Validating Dates",
      "Types",
      "Standard",
      "Primitive Types",
      "Object & Array Types",
      "Utility Types",
      "Modifiers",
      "Optional",
      "Readonly",
      "ReadonlyOptional",
      "Options by Type",
      "For Numbers",
      "For Strings",
      "For Arrays",
      "For Objects",
      "Extended",
      "Extended Configuration",
      "Constructor",
      "Function",
      "Promise",
      "Uint8Array",
      "Date",
      "Undefined",
      "Symbol",
      "BigInt",
      "Void",
      "Reference"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 9081,
    "category": "schema",
    "tags": [
      "application",
      "get",
      "create",
      "update",
      "patch",
      "github",
      "schema",
      "typebox",
      "validation",
      "validators",
      "database",
      "mongodb",
      "http",
      "express",
      "bun",
      "client",
      "configuration",
      "typescript",
      "types",
      "cli",
      "generate",
      "test",
      "upgrade",
      "users"
    ],
    "embedding": [
      0.010126,
      0.006824,
      -0.042943,
      0.00107,
      0.037614,
      -0.035836,
      -0.001228,
      0.0425,
      -0.002946,
      -0.006136,
      -0.011694,
      -0.03053,
      -0.026881,
      0.010004,
      -0.016786,
      0.01816,
      -0.007919,
      -0.008502,
      0.046746,
      -0.011077,
      -0.036598,
      -0.012968,
      0.007924,
      -0.028425,
      -0.01241,
      -0.02136,
      0.038921,
      -0.028278,
      0.01536,
      -0.006833,
      0.009265,
      -0.015948,
      -0.027468,
      -0.030125,
      0.037197,
      0.002298,
      0.024221,
      0.030378,
      -0.032081,
      0.043477,
      -0.036726,
      -0.022021,
      -0.016396,
      -0.039853,
      0.007387,
      -0.017972,
      -0.004786,
      -0.02029,
      0.030561,
      -0.043278,
      -0.004585,
      0.025803,
      0.03982,
      0.006918,
      0.078855,
      0.03414,
      -0.021717,
      -0.031783,
      -0.010411,
      -0.014219,
      -0.017411,
      0.045482,
      -0.033338,
      0.012111,
      -0.009803,
      0.021399,
      -0.028237,
      -0.01386,
      -0.02707,
      -0.022382,
      -0.002624,
      0.023996,
      -0.060396,
      0.048076,
      -0.041257,
      0.001833,
      0.038643,
      0.009177,
      -0.040742,
      0.019272,
      -0.018511,
      -0.007875,
      0.04706,
      -0.02282,
      0.019139,
      0.035837,
      -0.008527,
      0.05789,
      0.009584,
      0.076857,
      0.011288,
      -0.015466,
      0.02924,
      -0.039259,
      -0.055316,
      0.031588,
      -0.000679,
      -0.009592,
      0.047307,
      0.009182,
      -0.024354,
      0.002322,
      0.003589,
      -0.000549,
      0.031346,
      0.005218,
      0.017645,
      -0.026663,
      -0.027609,
      -0.035822,
      0.000054,
      -0.008613,
      0.058052,
      0.016364,
      -0.017346,
      -0.015879,
      -0.000133,
      -0.042421,
      0.052991,
      0.009655,
      0.029747,
      0.001284,
      0.03666,
      -0.050183,
      -0.032838,
      0.006348,
      -0.012522,
      0.035612,
      -0.010017,
      -0.007982,
      0.02273,
      -0.016519,
      -0.022466,
      -0.003428,
      -0.053885,
      -0.008692,
      0.004598,
      0.033223,
      -0.009348,
      -0.059047,
      0.059918,
      0.026837,
      -0.059991,
      -0.024682,
      0.027657,
      -0.046231,
      0.060647,
      -0.020427,
      0.029452,
      -0.043465,
      0.049613,
      0.026613,
      -0.014974,
      -0.051911,
      0.012334,
      -0.050252,
      -0.032461,
      0.013152,
      0.001691,
      -0.004403,
      0.000649,
      0.008995,
      -0.027612,
      0.03454,
      0.038955,
      0.012679,
      0.02067,
      0.000891,
      -0.006283,
      0.011072,
      0.039525,
      -0.023778,
      -0.00178,
      0.004428,
      0.021814,
      0.011065,
      0.083214,
      0.026823,
      0.023742,
      -0.029498,
      -0.056381,
      0.016795,
      -0.011279,
      -0.038948,
      -0.022079,
      -0.028455,
      -0.02659,
      -0.026986,
      -0.012636,
      0.018309,
      -0.039599,
      -0.007579,
      0.031636,
      0.018156,
      0.008203,
      0.040703,
      0.004942,
      -0.014597,
      0.005292,
      0.004908,
      -0.00917,
      0.02032,
      0.000946,
      -0.002063,
      -0.032721,
      -0.022877,
      -0.030254,
      -0.04784,
      0.003943,
      -0.016603,
      0.012584,
      0.00989,
      0.003297,
      -0.00385,
      -0.019495,
      -0.003501,
      -0.01749,
      0.025135,
      -0.036321,
      0.002289,
      0.048602,
      -0.014229,
      0.019412,
      -0.011449,
      0.014091,
      -0.011756,
      -0.018476,
      0.018301,
      -0.042226,
      -0.009434,
      0.014071,
      0.049524,
      0.000431,
      0.009356,
      0.041987,
      -0.015871,
      -0.04646,
      0.027756,
      0.032822,
      0.002554,
      -0.035849,
      -0.013226,
      0.02938,
      -0.002477,
      -0.021052,
      0.016706,
      0.013682,
      0.026101,
      -0.039386,
      -0.01544,
      0.008114,
      0.024748,
      -0.010679,
      -0.003673,
      0.035865,
      0.02884,
      0.050332,
      -0.007548,
      0.027153,
      -0.029199,
      0.032862,
      -0.002838,
      0.00549,
      0.032943,
      0.033106,
      -0.00757,
      0.011943,
      -0.047254,
      0.002435,
      -0.027722,
      0.002118,
      -0.037041,
      0.021977,
      0.001302,
      -0.000232,
      -0.009378,
      -0.008827,
      -0.013036,
      0.127189,
      0.043638,
      0.000498,
      0.008129,
      0.012782,
      0.026375,
      0.028671,
      0.023402,
      -0.007517,
      -0.030538,
      0.035784,
      -0.054841,
      -0.004325,
      -0.026759,
      0.04514,
      -0.016185,
      -0.017324,
      -0.008226,
      0.012859,
      -0.149997,
      -0.029079,
      0.023476,
      0.017722,
      -0.009808,
      0.016541,
      -0.06885,
      0.00122,
      -0.066574,
      0.015351,
      -0.000791,
      -0.03273,
      0.027397,
      0.001592,
      0.026392,
      -0.00247,
      -0.01232,
      0.01381,
      0.016518,
      -0.007717,
      -0.033961,
      -0.048465,
      0.068302,
      -0.039833,
      0.016921,
      0.008655,
      0.041261,
      0.020284,
      -0.03365,
      -0.00694,
      -0.025138,
      0.025313,
      0.003473,
      0.018201,
      -0.022723,
      0.015139,
      -0.004789,
      -0.00729,
      -0.020956,
      -0.013946,
      0.036621,
      0.055028,
      0.002373,
      0.024258,
      0.009846,
      -0.021814,
      0.027089,
      0.018527,
      -0.033064,
      -0.002192,
      0.001258,
      -0.003479,
      -0.001423,
      -0.013084,
      -0.055574,
      0.010778,
      -0.0203,
      0.072852,
      0.000472,
      -0.000744,
      0.010079,
      -0.014382,
      0.052788,
      -0.013557,
      -0.04642,
      -0.017536,
      0.063025,
      -0.008074,
      0.0175,
      -0.013968,
      0.025785,
      -0.06482,
      -0.01282,
      -0.034416,
      0.00839,
      -0.014459,
      0.034176,
      0.013843,
      -0.009559,
      -0.114265,
      0.011814,
      0.007489,
      0.016796,
      0.00717,
      -0.016763,
      0.008218,
      -0.019371,
      0.020707,
      -0.002013,
      0.250117,
      0.049933,
      -0.016018,
      0.014942,
      0.019631,
      -0.03098,
      0.026402,
      0.054573,
      -0.004776,
      -0.026281,
      0.040349,
      0.015594,
      0.014857,
      -0.023499,
      0.013969,
      -0.020669,
      -0.031687,
      0.036873,
      0.037131,
      0.011654,
      0.034294,
      -0.054924,
      -0.006399,
      0.021722,
      -0.072026,
      -0.004949,
      0.023639,
      0.013427,
      -0.033098,
      0.011816,
      -0.024356,
      0.004037,
      0.066355,
      -0.03896,
      -0.026381,
      -0.026267,
      -0.001571,
      0.001368,
      -0.030652,
      -0.001744,
      -0.033785,
      0.002235,
      0.03971,
      0.024242,
      0.009801,
      0.014575,
      0.002132,
      -0.012789,
      -0.029601,
      -0.080389,
      -0.029299,
      -0.057469,
      -0.028656,
      -0.000505,
      -0.009453,
      -0.016727,
      -0.016206,
      -0.010427,
      -0.021489,
      0.004408,
      0.045017,
      0.047289,
      -0.074286,
      0.023242,
      0.000443,
      0.046884,
      0.02665,
      -0.034542,
      0.01448,
      0.030142,
      0.02836,
      0.04547,
      -0.00108,
      -0.056133,
      0.025497,
      0.003288,
      0.008349,
      0.014593,
      -0.016137,
      0.048387,
      -0.007296,
      0.004255,
      -0.023784,
      0.025045,
      0.014331,
      0.009375,
      -0.013166,
      0.026444,
      -0.004864,
      -0.013558,
      -0.009714,
      0.003194,
      0.018585,
      0.005687,
      0.013858,
      0.040602,
      0.011123,
      -0.012642,
      -0.016413,
      -0.035567,
      0.024525,
      0.053549,
      0.003382,
      -0.017812,
      0.049014,
      -0.020896,
      0.036889,
      0.030029,
      -0.006281,
      0.009341,
      -0.053962,
      0.012749,
      -0.017013,
      0.005402,
      -0.012099,
      0.045908,
      0.017522,
      -0.001437,
      0.01842,
      -0.035138,
      -0.000192,
      0.021968,
      0.006001,
      0.01811,
      0.012918,
      -0.075727,
      -0.016842,
      0.025098,
      -0.035515,
      0.044126,
      -0.021409,
      -0.037397,
      0.005338,
      0.0308,
      0.009107,
      0.007236,
      -0.001391,
      0.042588,
      -0.041167,
      0.015725,
      -0.038024,
      -0.0601,
      -0.018288,
      0.029885,
      0.000779,
      0.045223,
      -0.028956,
      0.009451,
      -0.008104,
      0.004049,
      0.077773,
      0.050911,
      0.00867,
      -0.018839,
      -0.021587,
      0.016982,
      -0.02618,
      -0.020555,
      0.017971,
      -0.006286,
      0.004533,
      0.023045,
      0.002782,
      0.059594,
      0.014173,
      -0.042019,
      0.052513,
      -0.005149,
      -0.039544,
      0.014606,
      -0.014063,
      -0.07012,
      -0.048592,
      0.051528,
      0.003653,
      0.026808,
      -0.100058,
      -0.032194,
      -0.000888,
      -0.046898,
      -0.013153,
      0.029959,
      -0.05148,
      0.010904,
      0.005151,
      0.016911,
      0.006885,
      -0.018783,
      0.036907,
      -0.017312,
      -0.041087,
      0.096097,
      -0.031069,
      0.005534,
      0.006499,
      0.01238,
      0.00875,
      0.023357,
      -0.015567,
      -0.014613,
      -0.005047,
      0.007097,
      -0.003805,
      0.024783,
      -0.024157,
      -0.014235,
      -0.017459,
      0.017073,
      -0.04528,
      0.003379,
      -0.00294,
      -0.014005,
      -0.031669,
      -0.008377,
      0.019209,
      -0.030638,
      0.077238,
      0.039332,
      0.041311,
      0.020244,
      -0.010503,
      0.003484,
      0.019598,
      -0.009947,
      -0.028695,
      0.005395,
      0.007374,
      0.029817,
      -0.020233,
      0.016028,
      -0.004249,
      0.025448,
      0.037546,
      -0.053782,
      0.019611,
      -0.032008,
      0.035821,
      0.027225,
      0.00556,
      0.000885,
      0.039611,
      -0.001769,
      0.030493,
      0.00297,
      -0.017283,
      0.022433,
      -0.001015,
      -0.00041,
      0.013232,
      0.035021,
      -0.001039,
      -0.016587,
      0.006551,
      -0.000712,
      0.007066,
      0.020728,
      0.002592,
      -0.005332,
      -0.072609,
      -0.038168,
      -0.018462,
      0.01833,
      0.005232,
      0.007439,
      0.030216,
      -0.064703,
      -0.00963,
      -0.041077,
      -0.018417,
      0.029333,
      -0.042118,
      0.014913,
      -0.004909,
      -0.051789,
      -0.018381,
      0.019826,
      0.011671,
      -0.005776,
      -0.01024,
      0.031473,
      -0.006966,
      0.049587,
      0.01764,
      0.047412,
      -0.016095,
      -0.004101,
      -0.009916,
      -0.032956,
      0.002984,
      -0.044246,
      0.021007,
      0.018213,
      -0.012923,
      0.049648,
      -0.029883,
      -0.003942,
      -0.032311,
      0.035002,
      -0.008929,
      0.011437,
      -0.004781,
      -0.000363,
      -0.012003,
      0.022946,
      -0.000016,
      0.020006,
      -0.003773,
      -0.070384,
      0.029363,
      0.012675,
      -0.027325,
      -0.031842,
      0.024786,
      -0.003637,
      0.023324,
      -0.069351,
      0.007274,
      -0.030134,
      0.008715,
      0.001672,
      -0.029228,
      -0.005252,
      -0.048591,
      0.036149,
      0.035779,
      -0.009434,
      0.034035,
      -0.013113,
      -0.061263,
      0.009863,
      -0.083456,
      -0.044795,
      -0.004664,
      -0.049944,
      -0.026491,
      0.03829,
      0.05613,
      -0.023733,
      0.017527,
      -0.009012,
      -0.001188,
      -0.044062,
      0.066578,
      -0.013001,
      0.024112,
      -0.009671,
      -0.00185,
      -0.03302,
      -0.019184,
      -0.015636,
      -0.000544,
      -0.037828,
      -0.031207,
      -0.032397,
      0.028753,
      0.020728,
      -0.070909,
      0.013928,
      0.036963,
      0.015812,
      -0.000119,
      0.041461,
      -0.030189,
      -0.020002,
      0.017852,
      -0.007457,
      0.031027,
      -0.009604,
      -0.016605,
      0.01672,
      -0.001483,
      0.040951,
      0.020436,
      -0.005596,
      -0.030525,
      0.034714,
      -0.039946,
      -0.013445,
      0.040596,
      -0.008523,
      -0.047433,
      -0.011051,
      -0.025088,
      0.000137,
      0.016234,
      0.013915,
      -0.009454,
      0.027215,
      0.002241,
      0.016358,
      0.02141,
      0.009705,
      0.008099,
      -0.000948,
      -0.136589,
      0.014792,
      0.003534,
      0.011414,
      -0.024048,
      0.005338,
      0.006342,
      -0.025574,
      0.01246,
      -0.04783,
      -0.035154,
      -0.029486,
      0.029138,
      -0.013712,
      -0.026579,
      -0.019211,
      0.000983,
      0.022271,
      -0.05976,
      0.023732,
      -0.003728,
      -0.022177,
      0.034882,
      -0.003549,
      -0.004298,
      0.047921,
      -0.005379,
      -0.0138,
      -0.007507,
      0.018804,
      -0.033691,
      0.003764,
      0.018563,
      0.048631,
      -0.039768,
      0.011677,
      0.002536,
      0.02964,
      -0.031003,
      0.029349,
      0.00308,
      0.021861,
      -0.009399,
      0.014412,
      0.028441,
      0.045912,
      -0.035056,
      -0.066649,
      -0.065647,
      0.012681,
      0.002205,
      0.00677,
      -0.033573,
      0.01865,
      -0.029452,
      -0.014181,
      -0.009832,
      0.021481,
      -0.059816,
      0.00421,
      0.015534,
      0.026889,
      -0.019259,
      -0.048039,
      -0.015169,
      0.00593,
      -0.028575,
      0.008279,
      -0.017859,
      -0.002139,
      0.010301,
      -0.033863,
      -0.023255,
      -0.006133,
      0.020386,
      0.019995,
      0.056215,
      -0.042981,
      -0.046022,
      -0.01471,
      0.010191,
      -0.023244,
      -0.053685,
      0.047482,
      0.036957,
      0.002798,
      0.03836,
      0.033853,
      -0.094499,
      -0.00551,
      0.009333,
      -0.049547,
      -0.004289,
      0.085539,
      -0.019343,
      0.03456,
      -0.017809,
      0.034164,
      0.010033,
      -0.025109,
      0.015659,
      0.008985,
      0.009827,
      -0.001637,
      -0.013248,
      -0.036368,
      0.020134,
      -0.013577,
      0.019194,
      -0.005921,
      0.014246,
      0.003993,
      -0.012079,
      -0.017591,
      -0.060369,
      -0.003056,
      -0.011681,
      0.025444,
      -0.071481,
      -0.011404,
      0.032402,
      -0.001917,
      -0.019009,
      -0.027068,
      0.053694,
      0.022426,
      0.044698,
      0.016713,
      0.060611,
      -0.044283,
      0.002813,
      -0.04699,
      -0.014758,
      0.016918,
      0.041235,
      -0.033915,
      -0.084022,
      0.033772,
      -0.018863,
      -0.032456,
      -0.044634,
      -0.021907,
      -0.03193,
      -0.005187,
      -0.009235,
      -0.035356,
      -0.022083,
      -0.021419,
      -0.031728,
      -0.056624,
      0.013429,
      -0.010531,
      -0.021619,
      0.005557,
      -0.02598,
      0.033662,
      0.017457,
      -0.036362,
      -0.001303,
      0.065642,
      -0.004063,
      -0.010144,
      -0.008199,
      -0.001626,
      -0.021592,
      -0.021926,
      -0.011587,
      -0.006213,
      -0.005656,
      0.035703,
      0.005695,
      0.009274,
      -0.017399,
      -0.000812,
      0.030448,
      -0.011826,
      -0.006996,
      -0.007797,
      0.037744,
      -0.013173,
      0.028143,
      -0.007344,
      0.01635,
      -0.001938,
      0.058038,
      0.00782,
      -0.001549,
      -0.01923,
      0.046247,
      -0.003274,
      -0.019155,
      -0.011978,
      0.025334,
      0.018168,
      0.005825,
      -0.023813,
      0.003407,
      0.015129,
      -0.045616,
      0.05823,
      -0.031178,
      -0.027722,
      -0.032555,
      -0.025561,
      -0.011744,
      0.035976,
      -0.004467,
      -0.023921,
      -0.002315,
      0.04381,
      -0.029595,
      0.020048,
      -0.017441,
      0.003211,
      0.012311,
      0.054117,
      0.059617,
      0.024475,
      -0.026767,
      -0.003535,
      0.044528,
      -0.000416,
      -0.022469,
      -0.034084,
      -0.048386,
      -0.03783,
      -0.005948,
      -0.003646,
      0.026821,
      -0.001102,
      -0.05836,
      -0.01509,
      -0.004962,
      0.03933,
      -0.007735,
      0.001219,
      -0.029134,
      -0.001353,
      0.005594,
      -0.02926,
      0.10192,
      -0.000049,
      -0.002161,
      -0.039167
    ]
  },
  {
    "id": "v5-validators-0",
    "content": "# Validators\nBreadcrumb: Validators\nCovers: Usage | Validation functions | Hooks | validateData | validateQuery | Using validators with custom methods\nTopics: hooks, services, context, hook context, find, get, create, update, patch, custom methods, schema, typebox, validation, validators, collection, http, types, users, custom service\n\n## Usage\n\nThe following is the standard `validators.ts` file that sets up a validator for data and queries (for which string types will be coerced automatically). It also sets up a collection of additional formats using [ajv-formats](https://ajv.js.org/packages/ajv-formats.html). The validators in this file can be customized according to the [Ajv documentation](https://ajv.js.org/) and [its plugins](https://ajv.js.org/packages/). You can find the available Ajv options in the [Ajv class API docs](https://ajv.js.org/options.html).\n\n```ts\nimport { Ajv, addFormats } from '@feathersjs/schema'\nimport type { FormatsPluginOptions } from '@feathersjs/schema'\n\nconst formats: FormatsPluginOptions = [\n  'date-time',\n  'time',\n  'date',\n  'email',\n  'hostname',\n  'ipv4',\n  'ipv6',\n  'uri',\n  'uri-reference',\n  'uuid',\n  'uri-template',\n  'json-pointer',\n  'relative-json-pointer',\n  'regex'\n]\n\nexport const dataValidator = addFormats(new Ajv({}), formats)\n\nexport const queryValidator = addFormats(\n  new Ajv({\n    coerceTypes: true\n  }),\n  formats\n)\n```\n\n## Validation functions\n\nA validation function takes data and validates them against a schema using a validator. They can be used with any validation library. Currently the `getValidator` functions are available for:\n\n- [TypeBox schema](./typebox.md#validators) to validate a TypeBox definition using an Ajv validator instance\n- [JSON schema](./schema.md#validators) to validate a JSON schema object using an Ajv validator instance\n\n## Hooks\n\nThe following hooks take a [validation function](#validation-functions) and validate parts of the [hook context](../hooks.md#hook-context).\n\n### validateData\n\n`schemaHooks.validateData` takes a [validation function](#validation-functions) and allows to validate the `data` in a `create`, `update` and `patch` request as well as [custom service methods](../services.md#custom-methods). It can be used as an `around` or `before` hook.\n\n```ts\nimport { Ajv, hooks as schemaHooks } from '@feathersjs/schema'\nimport { Type, getValidator } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport { dataValidator } from '../validators'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\nconst userDataSchema = Type.Pick(userSchema, ['email', 'password'])\n\n// Returns validation functions for `create`, `update` and `patch`\nconst userDataValidator = getValidator(userDataSchema, dataValidator)\n\napp.service('users').hooks({\n  before: {\n    all: [schemaHooks.validateData(userDataValidator)]\n  }\n})\n```\n\n### validateQuery\n\n`schemaHooks.validateQuery` takes a [validation function](#validation-functions) and validates the `query` of a request. It can be used as an `around` or `before` hook. When using the `queryValidator` from the [usage](#usage) section, strings will automatically be converted to the right type using [Ajv's type coercion rules](https://ajv.js.org/coercion.html).\n\n```ts\nimport { Ajv, schemaHooks } from '@feathersjs/schema'\nimport { Type, getValidator } from '@feathersjs/typebox'\nimport { queryValidator } from '../validators'\n\n// Schema for allowed query properties\nconst messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'], {\n  additionalProperties: false\n})\nconst messageQuerySchema = querySyntax(messageQueryProperties)\ntype MessageQuery = Static<typeof messageQuerySchema>\n\nconst messageQueryValidator = getValidator(messageQuerySchema, queryValidator)\n\napp.service('messages').hooks({\n  around: {\n    all: [schemaHooks.validateQuery(messageQueryValidator)]\n  }\n})\n```\n\n### Using validators with custom methods\n\nYou can optionally create validators for your custom methods. For example we will create a custom method in our `user` service that simply says \"Hello ${name}\" to the requestor.\n\nFor the example we can use this TypeBox schema\n\n```ts\n//Our request object, we expect something like {name: \"Bob\"}\nexport const sayHelloRequest = Type.Object(\n  {\n    name: Type.String({\n      description: \"Who are we saying hello to!\",\n      examples: [\"Bob\"],\n      minLength: 2,\n    }),\n  },\n  { $id: \"sayHelloRequest\", additionalProperties: false },\n);\n\n//We intend on returning an object with a string response property\nexport const sayHelloResponse = Type.Object(\n  { response: Type.String() },\n  { $id: \"sayHelloResponse\", additionalProperties: false },\n);\n\nexport const sayHelloValidator = getValidator(sayHelloRequest, dataValidator);\n```\n\nIn our user class file, we can define our custom method\n\n```ts\nasync sayHello(data: Static<typeof sayHelloRequest>): Promise<Static<typeof sayHelloResponse>> {  \n  const { name } = data  \n  return { response: `Hello ${name}` }  \n}\n```\n\nFinally, we can add our validator in our service hooks\n\n```ts\nsayHello: [schemaHooks.validateData(sayHelloValidator)]\n```",
    "rawContent": "## Usage\n\nThe following is the standard `validators.ts` file that sets up a validator for data and queries (for which string types will be coerced automatically). It also sets up a collection of additional formats using [ajv-formats](https://ajv.js.org/packages/ajv-formats.html). The validators in this file can be customized according to the [Ajv documentation](https://ajv.js.org/) and [its plugins](https://ajv.js.org/packages/). You can find the available Ajv options in the [Ajv class API docs](https://ajv.js.org/options.html).\n\n```ts\nimport { Ajv, addFormats } from '@feathersjs/schema'\nimport type { FormatsPluginOptions } from '@feathersjs/schema'\n\nconst formats: FormatsPluginOptions = [\n  'date-time',\n  'time',\n  'date',\n  'email',\n  'hostname',\n  'ipv4',\n  'ipv6',\n  'uri',\n  'uri-reference',\n  'uuid',\n  'uri-template',\n  'json-pointer',\n  'relative-json-pointer',\n  'regex'\n]\n\nexport const dataValidator = addFormats(new Ajv({}), formats)\n\nexport const queryValidator = addFormats(\n  new Ajv({\n    coerceTypes: true\n  }),\n  formats\n)\n```\n\n## Validation functions\n\nA validation function takes data and validates them against a schema using a validator. They can be used with any validation library. Currently the `getValidator` functions are available for:\n\n- [TypeBox schema](./typebox.md#validators) to validate a TypeBox definition using an Ajv validator instance\n- [JSON schema](./schema.md#validators) to validate a JSON schema object using an Ajv validator instance\n\n## Hooks\n\nThe following hooks take a [validation function](#validation-functions) and validate parts of the [hook context](../hooks.md#hook-context).\n\n### validateData\n\n`schemaHooks.validateData` takes a [validation function](#validation-functions) and allows to validate the `data` in a `create`, `update` and `patch` request as well as [custom service methods](../services.md#custom-methods). It can be used as an `around` or `before` hook.\n\n```ts\nimport { Ajv, hooks as schemaHooks } from '@feathersjs/schema'\nimport { Type, getValidator } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport { dataValidator } from '../validators'\n\nconst userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.String(),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\ntype User = Static<typeof userSchema>\n\nconst userDataSchema = Type.Pick(userSchema, ['email', 'password'])\n\n// Returns validation functions for `create`, `update` and `patch`\nconst userDataValidator = getValidator(userDataSchema, dataValidator)\n\napp.service('users').hooks({\n  before: {\n    all: [schemaHooks.validateData(userDataValidator)]\n  }\n})\n```\n\n### validateQuery\n\n`schemaHooks.validateQuery` takes a [validation function](#validation-functions) and validates the `query` of a request. It can be used as an `around` or `before` hook. When using the `queryValidator` from the [usage](#usage) section, strings will automatically be converted to the right type using [Ajv's type coercion rules](https://ajv.js.org/coercion.html).\n\n```ts\nimport { Ajv, schemaHooks } from '@feathersjs/schema'\nimport { Type, getValidator } from '@feathersjs/typebox'\nimport { queryValidator } from '../validators'\n\n// Schema for allowed query properties\nconst messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'], {\n  additionalProperties: false\n})\nconst messageQuerySchema = querySyntax(messageQueryProperties)\ntype MessageQuery = Static<typeof messageQuerySchema>\n\nconst messageQueryValidator = getValidator(messageQuerySchema, queryValidator)\n\napp.service('messages').hooks({\n  around: {\n    all: [schemaHooks.validateQuery(messageQueryValidator)]\n  }\n})\n```\n\n### Using validators with custom methods\n\nYou can optionally create validators for your custom methods. For example we will create a custom method in our `user` service that simply says \"Hello ${name}\" to the requestor.\n\nFor the example we can use this TypeBox schema\n\n```ts\n//Our request object, we expect something like {name: \"Bob\"}\nexport const sayHelloRequest = Type.Object(\n  {\n    name: Type.String({\n      description: \"Who are we saying hello to!\",\n      examples: [\"Bob\"],\n      minLength: 2,\n    }),\n  },\n  { $id: \"sayHelloRequest\", additionalProperties: false },\n);\n\n//We intend on returning an object with a string response property\nexport const sayHelloResponse = Type.Object(\n  { response: Type.String() },\n  { $id: \"sayHelloResponse\", additionalProperties: false },\n);\n\nexport const sayHelloValidator = getValidator(sayHelloRequest, dataValidator);\n```\n\nIn our user class file, we can define our custom method\n\n```ts\nasync sayHello(data: Static<typeof sayHelloRequest>): Promise<Static<typeof sayHelloResponse>> {  \n  const { name } = data  \n  return { response: `Hello ${name}` }  \n}\n```\n\nFinally, we can add our validator in our service hooks\n\n```ts\nsayHello: [schemaHooks.validateData(sayHelloValidator)]\n```",
    "breadcrumb": "Validators",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/schema/validators.md",
    "heading": "Validators",
    "subHeadings": [
      "Usage",
      "Validation functions",
      "Hooks",
      "validateData",
      "validateQuery",
      "Using validators with custom methods"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 1244,
    "category": "schema",
    "tags": [
      "hooks",
      "services",
      "context",
      "hook context",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "custom methods",
      "schema",
      "typebox",
      "validation",
      "validators",
      "collection",
      "http",
      "types",
      "users",
      "custom service"
    ],
    "embedding": [
      0.017616,
      -0.002737,
      -0.016784,
      0.016748,
      0.001314,
      -0.031348,
      0.010424,
      -0.002318,
      -0.013527,
      0.001612,
      -0.005482,
      0.006703,
      -0.032992,
      0.006594,
      -0.016416,
      0.020755,
      -0.009345,
      -0.008396,
      0.038853,
      -0.025917,
      -0.089699,
      0.001262,
      -0.014327,
      -0.035943,
      0.008581,
      -0.00051,
      -0.003411,
      -0.030194,
      -0.004052,
      -0.010681,
      0.028385,
      0.014434,
      -0.035655,
      -0.019047,
      0.02696,
      0.010573,
      0.013264,
      0.001693,
      -0.030018,
      0.066159,
      -0.024334,
      -0.044474,
      -0.028937,
      -0.054173,
      0.045314,
      0.006776,
      0.005814,
      -0.035226,
      0.008688,
      -0.024964,
      -0.025056,
      0.019761,
      0.079554,
      -0.010003,
      0.074942,
      0.021748,
      -0.02626,
      -0.032719,
      -0.020217,
      -0.000782,
      0.012829,
      0.032891,
      -0.039191,
      0.009846,
      -0.014152,
      0.02208,
      -0.013105,
      -0.000431,
      -0.022438,
      -0.0231,
      0.011318,
      0.023109,
      -0.04653,
      0.048886,
      -0.044827,
      -0.005799,
      0.018814,
      -0.0147,
      -0.007244,
      -0.007313,
      -0.025763,
      -0.006247,
      0.037688,
      0.000733,
      0.02882,
      -0.005937,
      0.006403,
      0.042302,
      0.017669,
      0.034637,
      0.002558,
      0.008863,
      0.034367,
      -0.026444,
      -0.056302,
      0.032612,
      -0.032508,
      -0.01805,
      0.035159,
      0.018743,
      -0.01196,
      0.011232,
      -0.010962,
      0.004478,
      0.044765,
      0.01048,
      0.013367,
      -0.000479,
      0.00063,
      -0.038114,
      -0.015915,
      -0.015855,
      0.054912,
      -0.005528,
      -0.041434,
      0.000522,
      -0.021498,
      -0.025757,
      0.036131,
      0.005513,
      0.025501,
      -0.015253,
      0.038011,
      -0.049318,
      -0.034971,
      0.012536,
      0.009194,
      0.036992,
      -0.010407,
      -0.011855,
      0.013594,
      -0.041533,
      -0.011742,
      -0.022389,
      -0.047433,
      -0.006206,
      0.004271,
      0.031253,
      -0.00863,
      -0.032102,
      0.055614,
      0.049109,
      -0.045511,
      -0.017733,
      0.043456,
      -0.063531,
      0.079374,
      0.007737,
      0.018376,
      -0.04263,
      0.037295,
      0.021592,
      -0.019154,
      -0.007848,
      0.011529,
      -0.057682,
      0.006132,
      0.039006,
      0.010946,
      0.014874,
      -0.018459,
      0.01237,
      -0.018578,
      0.006059,
      0.045833,
      0.000506,
      0.025508,
      0.00576,
      0.002492,
      0.017827,
      0.04756,
      -0.036523,
      0.002982,
      -0.014756,
      0.032749,
      0.009698,
      0.058374,
      0.013094,
      0.024272,
      -0.014016,
      -0.033253,
      0.029638,
      -0.019276,
      -0.033514,
      -0.039148,
      -0.003282,
      -0.017396,
      -0.036724,
      -0.003108,
      0.016114,
      -0.052842,
      -0.004583,
      0.04911,
      0.055826,
      0.009716,
      0.01309,
      0.000509,
      0.018333,
      -0.002275,
      0.009694,
      -0.007036,
      0.026961,
      -0.0321,
      -0.017708,
      -0.055685,
      -0.027887,
      -0.023786,
      -0.023588,
      0.020822,
      -0.026372,
      0.009325,
      0.032985,
      0.006175,
      -0.006541,
      0.00285,
      0.01244,
      -0.02887,
      0.003802,
      -0.032977,
      0.007694,
      0.026208,
      0.007342,
      0.043916,
      -0.000431,
      0.016966,
      0.0002,
      -0.010676,
      0.018926,
      -0.016604,
      -0.025838,
      0.008851,
      0.023289,
      0.013762,
      -0.028161,
      0.014626,
      -0.016465,
      -0.05942,
      0.018122,
      0.03414,
      0.037745,
      -0.022289,
      -0.000568,
      0.015107,
      0.000812,
      -0.019955,
      0.026238,
      0.032368,
      0.0285,
      -0.042797,
      -0.045031,
      0.005065,
      0.012725,
      -0.027199,
      0.008507,
      0.015502,
      0.037048,
      0.033215,
      -0.005213,
      -0.003686,
      -0.023051,
      0.018485,
      -0.005077,
      0.012212,
      0.036616,
      0.022723,
      -0.010191,
      -0.000296,
      -0.052321,
      0.011748,
      -0.008816,
      -0.006684,
      -0.022006,
      0.024325,
      -0.003139,
      -0.033301,
      -0.01964,
      0.013615,
      -0.031453,
      0.101638,
      0.018026,
      0.000339,
      0.016641,
      0.029709,
      0.039558,
      0.037282,
      0.030075,
      -0.010509,
      -0.043958,
      0.044213,
      -0.028341,
      0.013909,
      -0.020232,
      0.061228,
      -0.008457,
      -0.050428,
      -0.00113,
      0.005859,
      -0.16014,
      -0.05135,
      0.007182,
      -0.014719,
      0.006719,
      0.032758,
      -0.074963,
      0.007676,
      -0.049013,
      0.010381,
      0.006942,
      -0.055926,
      0.023556,
      -0.030652,
      0.035198,
      0.004798,
      0.002917,
      0.013474,
      0.023255,
      -0.017119,
      -0.046259,
      -0.055474,
      0.085052,
      -0.038362,
      0.027366,
      -0.003662,
      0.035887,
      0.023,
      -0.010641,
      -0.015312,
      -0.020323,
      0.028692,
      -0.002641,
      0.002901,
      -0.015319,
      0.01547,
      0.008611,
      -0.028671,
      -0.014896,
      -0.005731,
      0.044235,
      0.062432,
      0.002148,
      0.028712,
      0.005206,
      -0.041734,
      0.052736,
      0.019271,
      -0.030465,
      0.037634,
      -0.022014,
      -0.017104,
      -0.010416,
      -0.022186,
      -0.056858,
      -0.009318,
      -0.03388,
      0.058029,
      0.00626,
      0.007132,
      -0.000474,
      -0.022542,
      0.066514,
      0.001381,
      -0.043928,
      0.003727,
      0.034378,
      -0.021291,
      0.010369,
      -0.015127,
      0.045521,
      -0.069994,
      -0.053258,
      -0.00945,
      -0.012621,
      -0.012839,
      0.048299,
      0.001973,
      0.000807,
      -0.117106,
      -0.007512,
      -0.003475,
      -0.000515,
      0.005483,
      -0.03286,
      -0.003013,
      -0.015211,
      0.020131,
      0.014997,
      0.213465,
      0.016473,
      0.017116,
      0.03634,
      0.061901,
      -0.030986,
      0.018028,
      0.062398,
      0.036435,
      -0.02256,
      0.029998,
      0.028841,
      0.014871,
      -0.00351,
      0.00131,
      -0.008751,
      -0.040617,
      0.054858,
      0.063964,
      0.02452,
      0.080771,
      -0.023204,
      -0.005765,
      0.024675,
      -0.076891,
      -0.010425,
      -0.003892,
      0.004281,
      -0.036537,
      -0.002736,
      -0.00919,
      0.018868,
      0.048373,
      -0.046837,
      -0.010573,
      -0.034458,
      -0.02945,
      0.000768,
      -0.039331,
      -0.0092,
      -0.041287,
      -0.011831,
      0.027753,
      0.033767,
      0.008841,
      0.018647,
      -0.017756,
      0.00889,
      -0.021878,
      -0.048677,
      -0.038642,
      -0.043077,
      -0.013994,
      0.011881,
      -0.024033,
      -0.018523,
      -0.000262,
      0.005763,
      -0.026525,
      0.03386,
      0.057526,
      0.017548,
      -0.073627,
      0.043997,
      0.037796,
      0.03826,
      0.002294,
      -0.026374,
      0.03087,
      0.062933,
      0.035077,
      0.051074,
      0.022172,
      -0.021903,
      0.014642,
      -0.00431,
      -0.008735,
      -0.003037,
      -0.016428,
      0.046154,
      -0.009322,
      0.031392,
      -0.020474,
      0.00845,
      0.042899,
      0.012264,
      -0.009671,
      -0.009902,
      -0.004306,
      0.029905,
      -0.016,
      0.009872,
      0.007943,
      0.001559,
      -0.012025,
      0.033019,
      -0.001294,
      0.012223,
      -0.017116,
      -0.03496,
      0.06606,
      0.051319,
      -0.003861,
      -0.003812,
      0.063014,
      -0.00979,
      -0.014894,
      0.028136,
      -0.009877,
      0.001026,
      -0.024249,
      0.001474,
      0.012122,
      -0.023846,
      0.021144,
      0.066249,
      0.014705,
      -0.003488,
      0.039025,
      0.002397,
      -0.017873,
      0.017945,
      -0.018114,
      0.027404,
      0.017865,
      -0.089119,
      -0.002826,
      0.04078,
      -0.03872,
      0.048187,
      -0.006848,
      -0.043201,
      0.012693,
      0.054173,
      0.012098,
      0.022898,
      0.030567,
      0.046292,
      -0.016671,
      0.012303,
      -0.021107,
      -0.035538,
      0.002049,
      0.040424,
      0.003181,
      0.013878,
      -0.044293,
      0.018329,
      0.00109,
      0.024788,
      0.049899,
      0.07926,
      0.008658,
      -0.039822,
      -0.035684,
      0.024908,
      -0.006762,
      -0.026068,
      -0.023475,
      -0.014391,
      -0.024823,
      0.029047,
      -0.007608,
      0.026378,
      -0.001108,
      -0.012662,
      0.053973,
      0.003664,
      -0.043874,
      0.004783,
      -0.004407,
      -0.046094,
      -0.057372,
      0.067037,
      0.015895,
      0.005387,
      -0.099718,
      0.005277,
      -0.000294,
      -0.07502,
      0.009138,
      0.031534,
      -0.066433,
      0.016954,
      -0.003789,
      0.007162,
      0.013185,
      -0.003142,
      0.042458,
      -0.039346,
      -0.044691,
      0.073626,
      -0.030025,
      0.005724,
      0.016186,
      0.022991,
      0.024104,
      0.019162,
      -0.023109,
      -0.005135,
      -0.011257,
      0.010981,
      0.001169,
      0.049316,
      -0.022245,
      0.015266,
      0.001271,
      0.000165,
      -0.043832,
      -0.014872,
      -0.009244,
      -0.009893,
      -0.022699,
      0.015614,
      0.042985,
      -0.060976,
      0.036306,
      0.018266,
      0.033777,
      -0.008008,
      0.014145,
      0.003177,
      0.015839,
      -0.019847,
      0.007997,
      -0.010395,
      0.018743,
      0.033563,
      0.00074,
      -0.005631,
      -0.008447,
      0.009383,
      0.030913,
      -0.033683,
      0.019014,
      -0.021362,
      0.033457,
      0.021441,
      -0.000847,
      -0.002702,
      0.05819,
      0.02467,
      0.018345,
      0.002753,
      -0.018071,
      0.013676,
      -0.004184,
      -0.005964,
      -0.013167,
      0.064795,
      -0.019967,
      -0.025162,
      0.00326,
      -0.026828,
      -0.003475,
      0.062523,
      0.022534,
      -0.022528,
      -0.046862,
      -0.020743,
      -0.004372,
      -0.007815,
      -0.025179,
      0.015068,
      0.014235,
      -0.079998,
      -0.015441,
      -0.028593,
      -0.022225,
      -0.007308,
      -0.028287,
      0.011196,
      -0.001433,
      -0.076838,
      -0.021249,
      -0.010932,
      -0.022312,
      -0.002649,
      -0.006221,
      0.01659,
      -0.048909,
      0.037424,
      0.007534,
      0.048712,
      0.031496,
      -0.007252,
      -0.017111,
      -0.020131,
      -0.00432,
      -0.015837,
      0.01789,
      0.009401,
      -0.007973,
      0.031487,
      -0.007125,
      0.00309,
      -0.02961,
      0.03894,
      0.000336,
      0.044169,
      -0.02671,
      0.006758,
      0.013717,
      0.015265,
      -0.002526,
      -0.000554,
      0.007403,
      -0.041735,
      0.022579,
      0.002028,
      -0.014024,
      -0.034649,
      0.022035,
      -0.013114,
      0.019555,
      -0.037606,
      0.016662,
      -0.045434,
      0.003269,
      -0.01192,
      -0.0052,
      -0.004773,
      -0.046282,
      0.035424,
      0.010291,
      -0.014314,
      -0.001063,
      -0.023079,
      -0.052383,
      0.027362,
      -0.057661,
      -0.033317,
      -0.020122,
      -0.050686,
      -0.015252,
      0.009527,
      0.032244,
      0.00015,
      0.003783,
      -0.049511,
      -0.040919,
      -0.042764,
      0.040529,
      -0.018867,
      0.011181,
      -0.012846,
      -0.00692,
      -0.040302,
      -0.022794,
      -0.007967,
      -0.0076,
      0.000713,
      -0.018552,
      -0.025841,
      0.01815,
      0.030166,
      -0.051937,
      0.008997,
      0.001484,
      0.020495,
      0.002924,
      0.022248,
      -0.017579,
      -0.006337,
      0.011338,
      -0.000749,
      0.030067,
      0.004379,
      0.012982,
      -0.016714,
      0.005526,
      0.013419,
      -0.012709,
      -0.035116,
      -0.036076,
      0.018481,
      -0.031413,
      0.004738,
      0.025884,
      -0.016706,
      -0.02867,
      -0.014144,
      -0.016589,
      0.000406,
      0.001258,
      0.010656,
      0.013373,
      0.023637,
      -0.003151,
      0.012181,
      0.03031,
      0.03051,
      -0.014811,
      0.05763,
      -0.148218,
      0.010334,
      -0.012572,
      0.004843,
      0.003277,
      0.003998,
      0.026092,
      -0.033938,
      0.013922,
      -0.034951,
      -0.031847,
      -0.041199,
      0.007641,
      -0.004873,
      0.018843,
      -0.018835,
      -0.009971,
      0.010988,
      -0.03572,
      0.018505,
      0.007844,
      -0.014018,
      0.024082,
      -0.012258,
      -0.021661,
      0.010068,
      0.008987,
      -0.042569,
      -0.021589,
      -0.019191,
      -0.054197,
      -0.035226,
      0.002657,
      0.055622,
      -0.051619,
      0.002989,
      -0.005591,
      0.034402,
      -0.021011,
      0.033518,
      0.015062,
      0.017474,
      -0.018369,
      0.012682,
      0.035879,
      0.029167,
      -0.023455,
      -0.068139,
      -0.036277,
      -0.016943,
      -0.0107,
      -0.006968,
      -0.012509,
      0.033842,
      -0.015373,
      -0.003983,
      -0.035943,
      0.016286,
      -0.064858,
      -0.009929,
      0.014985,
      0.042609,
      -0.040774,
      -0.044793,
      -0.058131,
      0.016792,
      -0.026777,
      0.003864,
      -0.005039,
      -0.02528,
      0.000494,
      -0.014251,
      -0.037582,
      -0.025206,
      0.035497,
      -0.010696,
      0.064587,
      -0.041276,
      -0.023048,
      -0.013886,
      -0.001362,
      -0.040473,
      -0.030563,
      0.060713,
      0.074975,
      0.03621,
      0.030127,
      0.061737,
      -0.05749,
      0.012241,
      0.002152,
      -0.067939,
      0.003005,
      0.043385,
      0.009695,
      0.005037,
      -0.037968,
      0.010955,
      0.012677,
      -0.024479,
      -0.012755,
      0.021239,
      0.035166,
      0.005937,
      -0.017498,
      0.004386,
      0.008327,
      -0.014075,
      0.014305,
      0.00741,
      0.027982,
      -0.013437,
      0.002327,
      -0.010253,
      -0.045055,
      0.005564,
      -0.003444,
      0.011371,
      -0.052581,
      0.020408,
      0.044678,
      -0.001134,
      -0.00717,
      -0.031036,
      0.038228,
      0.003545,
      0.033657,
      0.034627,
      0.02109,
      -0.045302,
      0.02138,
      -0.057806,
      -0.025156,
      0.008744,
      0.024758,
      -0.035081,
      -0.082927,
      0.040498,
      0.003848,
      -0.031712,
      -0.04698,
      -0.022798,
      -0.013729,
      -0.009323,
      -0.008622,
      -0.038986,
      -0.037499,
      -0.001683,
      -0.034805,
      -0.063042,
      0.015835,
      -0.047941,
      -0.047355,
      -0.006279,
      -0.034222,
      0.025946,
      0.026754,
      -0.03269,
      -0.02511,
      0.07395,
      -0.028872,
      -0.030263,
      -0.007873,
      -0.015319,
      -0.02426,
      -0.021588,
      0.004108,
      -0.002823,
      -0.011586,
      0.019741,
      0.009143,
      0.035461,
      -0.012641,
      0.011849,
      0.003195,
      -0.018692,
      -0.013001,
      0.000872,
      0.049885,
      -0.026418,
      0.042958,
      -0.004738,
      0.031381,
      -0.006886,
      0.053714,
      -0.011944,
      -0.007373,
      -0.017317,
      0.057179,
      -0.017015,
      -0.035772,
      0.027456,
      0.019936,
      0.027539,
      0.002815,
      -0.018798,
      -0.008709,
      -0.013506,
      -0.031449,
      0.048115,
      -0.00542,
      -0.008097,
      -0.060306,
      -0.036603,
      -0.021769,
      0.049745,
      0.007125,
      -0.013889,
      -0.032683,
      0.032551,
      -0.03125,
      0.009536,
      -0.020427,
      0.012591,
      0.019537,
      0.033697,
      0.05611,
      0.015189,
      -0.011103,
      -0.023161,
      0.052092,
      0.009509,
      -0.038266,
      -0.035986,
      -0.037533,
      -0.023802,
      -0.001072,
      0.018703,
      -0.019798,
      0.011498,
      -0.075415,
      0.004994,
      0.016314,
      0.043353,
      -0.02186,
      0.024432,
      0.012248,
      0.008849,
      -0.006645,
      -0.027168,
      0.073473,
      0.00001,
      -0.00074,
      -0.030856
    ]
  },
  {
    "id": "v5-services-0",
    "content": "# Services\nBreadcrumb: Services\nCovers: Service methods | params | .find(params) | .get(id, params) | .create(data, params) | .update(id, data, params) | .patch(id, data, params) | .remove(id, params) | .setup(app, path) | .teardown(app, path) | Custom Methods | Feathers functionality | .hooks(hooks) | .publish([event, ] publisher) | .on(eventname, listener) | .emit(eventname, data) | .removeListener(eventname)\nTopics: hooks, services, application, params, provider, find, get, create, update, patch, remove, custom methods, setup, teardown, authentication, database, adapter, pagination, real-time, websockets, channels, events, socket.io, publish, rest, http, transport, express, client, types, cli, security, custom service\n\n## Service methods\n\nService methods are pre-defined [CRUD](https://en.wikipedia.org/wiki/Create,_read,_update_and_delete) and [custom methods](#custom-methods) that your service provides or that have already been implemented by one of the [database adapters](./databases/common.md). Below is an example of a Feathers service as a class or object.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Params, Id, NullableId } from '@feathersjs/feathers'\n\nclass MyServiceClass {\n  async find(params: Params) {\n    return []\n  }\n  async get(id: Id, params: Params) {}\n  async create(data: any, params: Params) {}\n  async update(id: NullableId, data: any, params: Params) {}\n  async patch(id: NullableId, data: any, params: Params) {}\n  async remove(id: NullableId, params: Params) {}\n  async setup(app: Application, path: string) {}\n  async teardown(app: Application, path: string) {}\n}\n\nconst myServiceObject = {\n  async find(params: Params) {\n    return []\n  },\n  async get(id: Id, params: Params) {},\n  async create(data: any, params: Params) {},\n  async update(id: NullableId, data: any, params: Params) {},\n  async patch(id: NullableId, data: any, params: Params) {},\n  async remove(id: NullableId, params: Params) {},\n  async setup(app: Application, path: string) {},\n  async teardown(app: Application, path: string) {}\n}\n\ntype ServiceTypes = {\n  'my-service': MyServiceClass\n  'my-service-object': typeof myServiceObject\n}\n\nconst app = feathers<ServiceTypes>()\n\napp.use('my-service', new MyServiceClass())\napp.use('my-service-object', myServiceObject)\n```\n\n> **danger:**\n> \n> Always use the service returned by `app.service(path)` not the service object or class directly or you will not get any of the [Feathers service functionality](services.md#feathers-functionality)\n> \n\n> **tip:**\n> \n> Methods are optional and if a method is not implemented Feathers will automatically emit a `NotImplemented` error. At least one standard service method must be implemented to be considered a service. If you used `methods` option when registering the service via [app.use](./application.md#usepath-service--options), all methods listed must be available.\n> \n\nService methods must use [async/await](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function) or return a [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) and have the following parameters:\n\n- `id` â€” The identifier for the resource. A resource is the data identified by a unique id.\n- `data` â€” The resource data.\n- `params` - Additional parameters for the method call (see [params](#params))\n\nOnce registered, the service can be retrieved and used via [app.service()](./application.md#servicepath):\n\n```js\nconst myService = app.service('my-service')\n\nconst items = await myService.find()\n\nconst item = await app.service('my-service').get(1)\n\nconsole.log('.get(1)', item)\n```\n\n> **info:**\n> \n> Although probably the most common use case, a service does not necessarily have to connect to a database. A custom service can implement any functionality like talking to another API or send an email etc.\n> \n\n> **Important:**\n> \n> This section describes the general usage of service methods and how to implement them. They are already implemented by the official Feathers database adapters. For specifics on how to use the database adapters, see the [database adapters documentation](./databases/common.md).\n>\n\n### params\n\n`params` contain additional information for the service method call. Some properties in `params` can be set by Feathers already. Commonly used are:\n\n- `params.query` - the query parameters from the client, either passed as URL query parameters (see the [REST](./express.md) chapter) or through websockets (see [Socket.io](./socketio.md)).\n- `params.provider` - The transport (`rest` or `socketio`) used for this service call. Will be `undefined` for internal calls from the server (unless passed explicitly).\n- `params.authentication` - The authentication information to use for the [authentication service](./authentication/service.md)\n- `params.user` - The authenticated user, either set by [Feathers authentication](./authentication/) or passed explicitly.\n- `params.connection` - If the service call has been made by a real-time transport (e.g. through websockets), `params.connection` is the connection object that can be used with [channels](./channels.md).\n- `params.headers` - The HTTP headers connected to this service call if available. This is either the headers of the REST call or the headers passed when initializing a websocket connection.\n\n> **Important:**\n> \n> For external calls only `params.query` will be sent between the client and server. This is because other parameters in `params` on the server often contain security critical information (like `params.user` or `params.authentication`).\n>\n\n### .find(params)\n\n`service.find(params) -> Promise` - Retrieves a list of all resources from the service. `params.query` can be used to filter and limit the returned data.\n\n```ts\nclass MessageService {\n  async find(params: Params) {\n    return [\n      {\n        id: 1,\n        text: 'Message 1'\n      },\n      {\n        id: 2,\n        text: 'Message 2'\n      }\n    ]\n  }\n}\n\napp.use('messages', new MessageService())\n```\n\n> **info:**\n> \n> `find` does not have to return an array. It can also return an object. The database adapters already do this for [pagination](./databases/common.md#pagination).\n>\n\n### .get(id, params)\n\n`service.get(id, params) -> Promise` - Retrieves a single resource with the given `id` from the service.\n\n```ts\nimport type { Id, Params } from '@feathersjs/feathers'\n\nclass TodoService {\n  async get(id: Id, params: Params) {\n    return {\n      id,\n      text: `You have to do ${id}!`\n    }\n  }\n}\n\napp.use('todos', new TodoService())\n```\n\n### .create(data, params)\n\n`service.create(data, params) -> Promise` - Creates a new resource with `data`. The method should return with the newly created data. `data` may also be an array.\n\nA successful `create` method call emits the [`created` service event](./events.md#created) with the returned data or a separate event for every item if the returned data is an array.\n\n```ts\nimport type { Id, Params } from '@feathersjs/feathers'\n\ntype Message = { text: string }\n\nclass MessageService {\n  messages: Message[] = []\n\n  async create(data: Message, params: Params) {\n    this.messages.push(data)\n\n    return data\n  }\n}\n\napp.use('messages', new MessageService())\n```\n\n> **Important:**\n> \n> Note that `data` may also be an array. When using a [database adapters](./databases/adapters.md) the [`multi` option](./databases/common.md) has to be set to allow arrays.\n>\n\n### .update(id, data, params)\n\n`service.update(id, data, params) -> Promise` - Replaces the resource identified by `id` with `data`. The method should return with the complete, updated resource data. `id` can also be `null` when updating multiple records.\n\nA successful `update` method call emits the [`updated` service event](./events.md#updated-patched). If an array is returned, it will send an individual `updated` event for every item.\n\n> **info:**\n> \n> The [database adapters](./databases/adapters.md) do not support completely replacing multiple entries.\n>\n\n### .patch(id, data, params)\n\n`patch(id, data, params) -> Promise` - Merges the existing data of the resource identified by `id` with the new `data`. `id` can also be `null` indicating that multiple resources should be patched with `params.query` containing the query criteria.\n\nA successful `patch` method call emits the [`patched` service event](./events.md#updated-patched) with the returned data. When an array is returned when patching mutiple items, it will send an individual `patched` event for every item in the array.\n\nThe method should return with the complete, updated resource data. Implement `patch` additionally (or instead of) `update` if you want to distinguish between partial and full updates and support the `PATCH` HTTP method.\n\n> **info:**\n> \n> With [database adapters](./databases/adapters.md) the [`multi` option](./databases/common.md) has to be set explicitly to support patching multiple entries.\n>\n\n### .remove(id, params)\n\n`service.remove(id, params) -> Promise` - Removes the resource with `id`. The method should return with the removed data. `id` can also be `null`, which indicates the deletion of multiple resources, with `params.query` containing the query criteria.\n\nA successful `remove` method call emits the [`removed` service event](./events.md#removed) with the returned data or a separate event for every item if the returned data is an array.\n\n> **info:**\n> \n> With [database adapters](./databases/adapters.md) the [`multi` option](./databases/common.md) has to be set explicitly to support removing multiple entries.\n>\n\n### .setup(app, path)\n\n`service.setup(app, path) -> Promise` is a special method that initializes the service, passing an instance of the Feathers application and the path it has been registered on.\n\nWhen calling [app.listen](application.md#listenport) or [app.setup](application.md#setupserver) all registered services `setup` methods will be called. If a service is registered afterwards, the `setup` method will be called immediately.\n\n### .teardown(app, path)\n\n`service.teardown(app, path) -> Promise` is a special method that shuts down the service, passing an instance of the Feathers application and the path it has been registered on. If a service implements a `teardown` method, it will be called during [app.teardown()](application.md#teardownserver) or when unregistering the service via [app.unuse](./application.md#unusepath).\n\n## Custom Methods\n\nA custom method is any other service method you want to expose publicly. A custom method **must have** the signature of `(data, params)` with the same semantics as standard service methods (`data` is the payload, `params` is the service [params](#params)). They can be used with [hooks](./hooks.md) (including authentication) and must be `async` or return a Promise.\n\nIn order to register a public custom method, the names of _all methods_ have to be passed as the `methods` option when registering the service with [app.use()](./application.md#usepath-service--options)\n\n```ts\nimport type { Id, Params } from '@feathersjs/feathers'\n\ntype CustomData = {\n  name: string\n}\n\nclass MyService {\n  async get(id: Id, params: Params) {\n    return {\n      id,\n      message: `You have to do ${id}`\n    }\n  }\n\n  async myCustomMethod(data: CustomData, params: Params) {\n    return data\n  }\n}\n\ntype ServiceTypes = {\n  'my-service': MyService\n}\n\nconst app = feathers<ServiceTypes>()\n  .configure(rest())\n  .use('my-service', new MyService(), {\n    // Pass all methods you want to expose\n    methods: ['get', 'myCustomMethod']\n  })\n```\n\nSee the [REST client](./client/rest.md) and [Socket.io client](./client/socketio.md) chapters on how to use those custom methods on the client.\n\n> **Important:**\n> \n> When passing the `methods` option **all methods** you want to expose, including standard service methods, must be listed. This allows to completely disable standard service method you might not want to expose. The `methods` option only applies to external access (via a transport like HTTP or websockets). All methods continue to be available internally on the server.\n>\n\n## Feathers functionality\n\nWhen registering a service, Feathers (or its plugins) can also add its own methods to a service. Most notably, every service will automatically become an instance of a [NodeJS EventEmitter](https://nodejs.org/api/events.html#events_class_eventemitter).\n\n### .hooks(hooks)\n\nRegister [hooks](./hooks.md) for this service.\n\n### .publish([event, ] publisher)\n\nRegister an event publishing callback. For more information, see the [channels chapter](./channels.md).\n\n### .on(eventname, listener)\n\nProvided by the core [NodeJS EventEmitter .on](https://nodejs.org/api/events.html#events_emitter_on_eventname_listener). Registers a `listener` method (`function(data) {}`) for the given `eventname`.\n\n> **info:**\n> \n> For more information about service events, see the [Events chapter](./events.md).\n>\n\n### .emit(eventname, data)\n\nProvided by the core [NodeJS EventEmitter .emit](https://nodejs.org/api/events.html#events_emitter_emit_eventname_args). Emits the event `eventname` to all event listeners.\n\n### .removeListener(eventname)\n\nProvided by the core [NodeJS EventEmitter .removeListener](https://nodejs.org/api/events.html#events_emitter_removelistener_eventname_listener). Removes all listeners, or the given listener, for `eventname`.",
    "rawContent": "## Service methods\n\nService methods are pre-defined [CRUD](https://en.wikipedia.org/wiki/Create,_read,_update_and_delete) and [custom methods](#custom-methods) that your service provides or that have already been implemented by one of the [database adapters](./databases/common.md). Below is an example of a Feathers service as a class or object.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Params, Id, NullableId } from '@feathersjs/feathers'\n\nclass MyServiceClass {\n  async find(params: Params) {\n    return []\n  }\n  async get(id: Id, params: Params) {}\n  async create(data: any, params: Params) {}\n  async update(id: NullableId, data: any, params: Params) {}\n  async patch(id: NullableId, data: any, params: Params) {}\n  async remove(id: NullableId, params: Params) {}\n  async setup(app: Application, path: string) {}\n  async teardown(app: Application, path: string) {}\n}\n\nconst myServiceObject = {\n  async find(params: Params) {\n    return []\n  },\n  async get(id: Id, params: Params) {},\n  async create(data: any, params: Params) {},\n  async update(id: NullableId, data: any, params: Params) {},\n  async patch(id: NullableId, data: any, params: Params) {},\n  async remove(id: NullableId, params: Params) {},\n  async setup(app: Application, path: string) {},\n  async teardown(app: Application, path: string) {}\n}\n\ntype ServiceTypes = {\n  'my-service': MyServiceClass\n  'my-service-object': typeof myServiceObject\n}\n\nconst app = feathers<ServiceTypes>()\n\napp.use('my-service', new MyServiceClass())\napp.use('my-service-object', myServiceObject)\n```\n\n> **danger:**\n> \n> Always use the service returned by `app.service(path)` not the service object or class directly or you will not get any of the [Feathers service functionality](services.md#feathers-functionality)\n> \n\n> **tip:**\n> \n> Methods are optional and if a method is not implemented Feathers will automatically emit a `NotImplemented` error. At least one standard service method must be implemented to be considered a service. If you used `methods` option when registering the service via [app.use](./application.md#usepath-service--options), all methods listed must be available.\n> \n\nService methods must use [async/await](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function) or return a [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) and have the following parameters:\n\n- `id` â€” The identifier for the resource. A resource is the data identified by a unique id.\n- `data` â€” The resource data.\n- `params` - Additional parameters for the method call (see [params](#params))\n\nOnce registered, the service can be retrieved and used via [app.service()](./application.md#servicepath):\n\n```js\nconst myService = app.service('my-service')\n\nconst items = await myService.find()\n\nconst item = await app.service('my-service').get(1)\n\nconsole.log('.get(1)', item)\n```\n\n> **info:**\n> \n> Although probably the most common use case, a service does not necessarily have to connect to a database. A custom service can implement any functionality like talking to another API or send an email etc.\n> \n\n> **Important:**\n> \n> This section describes the general usage of service methods and how to implement them. They are already implemented by the official Feathers database adapters. For specifics on how to use the database adapters, see the [database adapters documentation](./databases/common.md).\n>\n\n### params\n\n`params` contain additional information for the service method call. Some properties in `params` can be set by Feathers already. Commonly used are:\n\n- `params.query` - the query parameters from the client, either passed as URL query parameters (see the [REST](./express.md) chapter) or through websockets (see [Socket.io](./socketio.md)).\n- `params.provider` - The transport (`rest` or `socketio`) used for this service call. Will be `undefined` for internal calls from the server (unless passed explicitly).\n- `params.authentication` - The authentication information to use for the [authentication service](./authentication/service.md)\n- `params.user` - The authenticated user, either set by [Feathers authentication](./authentication/) or passed explicitly.\n- `params.connection` - If the service call has been made by a real-time transport (e.g. through websockets), `params.connection` is the connection object that can be used with [channels](./channels.md).\n- `params.headers` - The HTTP headers connected to this service call if available. This is either the headers of the REST call or the headers passed when initializing a websocket connection.\n\n> **Important:**\n> \n> For external calls only `params.query` will be sent between the client and server. This is because other parameters in `params` on the server often contain security critical information (like `params.user` or `params.authentication`).\n>\n\n### .find(params)\n\n`service.find(params) -> Promise` - Retrieves a list of all resources from the service. `params.query` can be used to filter and limit the returned data.\n\n```ts\nclass MessageService {\n  async find(params: Params) {\n    return [\n      {\n        id: 1,\n        text: 'Message 1'\n      },\n      {\n        id: 2,\n        text: 'Message 2'\n      }\n    ]\n  }\n}\n\napp.use('messages', new MessageService())\n```\n\n> **info:**\n> \n> `find` does not have to return an array. It can also return an object. The database adapters already do this for [pagination](./databases/common.md#pagination).\n>\n\n### .get(id, params)\n\n`service.get(id, params) -> Promise` - Retrieves a single resource with the given `id` from the service.\n\n```ts\nimport type { Id, Params } from '@feathersjs/feathers'\n\nclass TodoService {\n  async get(id: Id, params: Params) {\n    return {\n      id,\n      text: `You have to do ${id}!`\n    }\n  }\n}\n\napp.use('todos', new TodoService())\n```\n\n### .create(data, params)\n\n`service.create(data, params) -> Promise` - Creates a new resource with `data`. The method should return with the newly created data. `data` may also be an array.\n\nA successful `create` method call emits the [`created` service event](./events.md#created) with the returned data or a separate event for every item if the returned data is an array.\n\n```ts\nimport type { Id, Params } from '@feathersjs/feathers'\n\ntype Message = { text: string }\n\nclass MessageService {\n  messages: Message[] = []\n\n  async create(data: Message, params: Params) {\n    this.messages.push(data)\n\n    return data\n  }\n}\n\napp.use('messages', new MessageService())\n```\n\n> **Important:**\n> \n> Note that `data` may also be an array. When using a [database adapters](./databases/adapters.md) the [`multi` option](./databases/common.md) has to be set to allow arrays.\n>\n\n### .update(id, data, params)\n\n`service.update(id, data, params) -> Promise` - Replaces the resource identified by `id` with `data`. The method should return with the complete, updated resource data. `id` can also be `null` when updating multiple records.\n\nA successful `update` method call emits the [`updated` service event](./events.md#updated-patched). If an array is returned, it will send an individual `updated` event for every item.\n\n> **info:**\n> \n> The [database adapters](./databases/adapters.md) do not support completely replacing multiple entries.\n>\n\n### .patch(id, data, params)\n\n`patch(id, data, params) -> Promise` - Merges the existing data of the resource identified by `id` with the new `data`. `id` can also be `null` indicating that multiple resources should be patched with `params.query` containing the query criteria.\n\nA successful `patch` method call emits the [`patched` service event](./events.md#updated-patched) with the returned data. When an array is returned when patching mutiple items, it will send an individual `patched` event for every item in the array.\n\nThe method should return with the complete, updated resource data. Implement `patch` additionally (or instead of) `update` if you want to distinguish between partial and full updates and support the `PATCH` HTTP method.\n\n> **info:**\n> \n> With [database adapters](./databases/adapters.md) the [`multi` option](./databases/common.md) has to be set explicitly to support patching multiple entries.\n>\n\n### .remove(id, params)\n\n`service.remove(id, params) -> Promise` - Removes the resource with `id`. The method should return with the removed data. `id` can also be `null`, which indicates the deletion of multiple resources, with `params.query` containing the query criteria.\n\nA successful `remove` method call emits the [`removed` service event](./events.md#removed) with the returned data or a separate event for every item if the returned data is an array.\n\n> **info:**\n> \n> With [database adapters](./databases/adapters.md) the [`multi` option](./databases/common.md) has to be set explicitly to support removing multiple entries.\n>\n\n### .setup(app, path)\n\n`service.setup(app, path) -> Promise` is a special method that initializes the service, passing an instance of the Feathers application and the path it has been registered on.\n\nWhen calling [app.listen](application.md#listenport) or [app.setup](application.md#setupserver) all registered services `setup` methods will be called. If a service is registered afterwards, the `setup` method will be called immediately.\n\n### .teardown(app, path)\n\n`service.teardown(app, path) -> Promise` is a special method that shuts down the service, passing an instance of the Feathers application and the path it has been registered on. If a service implements a `teardown` method, it will be called during [app.teardown()](application.md#teardownserver) or when unregistering the service via [app.unuse](./application.md#unusepath).\n\n## Custom Methods\n\nA custom method is any other service method you want to expose publicly. A custom method **must have** the signature of `(data, params)` with the same semantics as standard service methods (`data` is the payload, `params` is the service [params](#params)). They can be used with [hooks](./hooks.md) (including authentication) and must be `async` or return a Promise.\n\nIn order to register a public custom method, the names of _all methods_ have to be passed as the `methods` option when registering the service with [app.use()](./application.md#usepath-service--options)\n\n```ts\nimport type { Id, Params } from '@feathersjs/feathers'\n\ntype CustomData = {\n  name: string\n}\n\nclass MyService {\n  async get(id: Id, params: Params) {\n    return {\n      id,\n      message: `You have to do ${id}`\n    }\n  }\n\n  async myCustomMethod(data: CustomData, params: Params) {\n    return data\n  }\n}\n\ntype ServiceTypes = {\n  'my-service': MyService\n}\n\nconst app = feathers<ServiceTypes>()\n  .configure(rest())\n  .use('my-service', new MyService(), {\n    // Pass all methods you want to expose\n    methods: ['get', 'myCustomMethod']\n  })\n```\n\nSee the [REST client](./client/rest.md) and [Socket.io client](./client/socketio.md) chapters on how to use those custom methods on the client.\n\n> **Important:**\n> \n> When passing the `methods` option **all methods** you want to expose, including standard service methods, must be listed. This allows to completely disable standard service method you might not want to expose. The `methods` option only applies to external access (via a transport like HTTP or websockets). All methods continue to be available internally on the server.\n>\n\n## Feathers functionality\n\nWhen registering a service, Feathers (or its plugins) can also add its own methods to a service. Most notably, every service will automatically become an instance of a [NodeJS EventEmitter](https://nodejs.org/api/events.html#events_class_eventemitter).\n\n### .hooks(hooks)\n\nRegister [hooks](./hooks.md) for this service.\n\n### .publish([event, ] publisher)\n\nRegister an event publishing callback. For more information, see the [channels chapter](./channels.md).\n\n### .on(eventname, listener)\n\nProvided by the core [NodeJS EventEmitter .on](https://nodejs.org/api/events.html#events_emitter_on_eventname_listener). Registers a `listener` method (`function(data) {}`) for the given `eventname`.\n\n> **info:**\n> \n> For more information about service events, see the [Events chapter](./events.md).\n>\n\n### .emit(eventname, data)\n\nProvided by the core [NodeJS EventEmitter .emit](https://nodejs.org/api/events.html#events_emitter_emit_eventname_args). Emits the event `eventname` to all event listeners.\n\n### .removeListener(eventname)\n\nProvided by the core [NodeJS EventEmitter .removeListener](https://nodejs.org/api/events.html#events_emitter_removelistener_eventname_listener). Removes all listeners, or the given listener, for `eventname`.",
    "breadcrumb": "Services",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/services.md",
    "heading": "Services",
    "subHeadings": [
      "Service methods",
      "params",
      ".find(params)",
      ".get(id, params)",
      ".create(data, params)",
      ".update(id, data, params)",
      ".patch(id, data, params)",
      ".remove(id, params)",
      ".setup(app, path)",
      ".teardown(app, path)",
      "Custom Methods",
      "Feathers functionality",
      ".hooks(hooks)",
      ".publish([event, ] publisher)",
      ".on(eventname, listener)",
      ".emit(eventname, data)",
      ".removeListener(eventname)"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 3159,
    "category": "services",
    "tags": [
      "hooks",
      "services",
      "application",
      "params",
      "provider",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "custom methods",
      "setup",
      "teardown",
      "authentication",
      "database",
      "adapter",
      "pagination",
      "real-time",
      "websockets",
      "channels",
      "events",
      "socket.io",
      "publish",
      "rest",
      "http",
      "transport",
      "express",
      "client",
      "types",
      "cli",
      "security",
      "custom service"
    ],
    "embedding": [
      0.035309,
      0.017996,
      -0.057496,
      0.016769,
      -0.003101,
      -0.025482,
      0.029659,
      0.035937,
      -0.025038,
      0.010915,
      -0.019549,
      0.005912,
      -0.015957,
      -0.01079,
      0.009222,
      0.034132,
      -0.018322,
      -0.013357,
      0.041672,
      -0.024685,
      -0.020003,
      0.042876,
      0.006976,
      0.020629,
      0.036966,
      0.029171,
      -0.043155,
      -0.021149,
      -0.001067,
      0.006576,
      -0.002705,
      -0.009542,
      -0.013644,
      -0.009852,
      -0.028407,
      -0.038839,
      -0.034631,
      -0.010212,
      -0.029982,
      0.036627,
      -0.021721,
      0.002397,
      -0.0234,
      -0.015872,
      0.022897,
      -0.021732,
      -0.005841,
      -0.024438,
      -0.010017,
      -0.018673,
      -0.032391,
      -0.023734,
      0.04003,
      -0.09462,
      0.028883,
      0.029307,
      -0.023303,
      -0.020525,
      -0.061234,
      0.028574,
      -0.022404,
      0.004556,
      -0.017439,
      0.006317,
      0.021838,
      0.020349,
      -0.049006,
      -0.005493,
      -0.019126,
      -0.019367,
      0.015507,
      0.019636,
      -0.016416,
      -0.0082,
      -0.049508,
      0.011072,
      0.011079,
      0.006039,
      -0.043214,
      0.032463,
      -0.042643,
      -0.039883,
      0.001292,
      -0.007702,
      -0.004112,
      0.022951,
      -0.001856,
      0.008436,
      0.045859,
      0.026829,
      0.02761,
      -0.030185,
      0.056125,
      -0.064053,
      -0.013489,
      -0.026525,
      -0.015395,
      -0.001382,
      0.031952,
      0.011921,
      -0.001366,
      0.028006,
      0.009812,
      -0.032907,
      0.060115,
      0.019908,
      0.013308,
      0.007349,
      0.006663,
      -0.03576,
      0.005724,
      -0.011618,
      0.019121,
      0.027118,
      -0.00887,
      -0.015801,
      0.018172,
      -0.03179,
      0.013435,
      -0.004402,
      0.036192,
      0.030454,
      0.034371,
      -0.007132,
      -0.0379,
      0.019424,
      -0.027017,
      0.04913,
      -0.000894,
      0.007167,
      0.016981,
      -0.015119,
      0.010632,
      0.012984,
      -0.055614,
      0.020195,
      0.034148,
      -0.003232,
      -0.020029,
      -0.046996,
      0.028233,
      -0.01642,
      -0.02518,
      -0.035415,
      0.037193,
      -0.068803,
      0.073907,
      0.032996,
      -0.032096,
      -0.018723,
      0.016669,
      0.017,
      0.027054,
      -0.056892,
      0.027147,
      -0.068905,
      -0.023741,
      0.003835,
      0.048417,
      -0.012071,
      0.016807,
      0.020185,
      -0.057645,
      0.00664,
      0.035076,
      -0.021972,
      -0.006539,
      -0.028124,
      -0.016221,
      -0.021541,
      0.027659,
      -0.022222,
      0.038508,
      -0.020072,
      0.029094,
      0.025887,
      0.096521,
      0.028293,
      0.005884,
      -0.013925,
      -0.026169,
      0.028314,
      -0.036424,
      -0.063903,
      -0.012292,
      0.002361,
      -0.032122,
      -0.047532,
      -0.019229,
      0.018919,
      -0.02697,
      -0.028822,
      0.051483,
      0.014642,
      -0.018577,
      -0.008623,
      0.01804,
      0.056989,
      0.012571,
      0.030207,
      0.005751,
      0.048479,
      0.036869,
      0.042302,
      -0.05619,
      -0.034427,
      -0.012568,
      -0.048635,
      0.020457,
      -0.029424,
      0.018049,
      -0.001476,
      -0.036187,
      -0.032552,
      -0.031496,
      0.021991,
      -0.000993,
      0.005694,
      -0.025225,
      -0.014405,
      -0.002374,
      0.032297,
      0.014836,
      -0.005996,
      0.010981,
      0.002579,
      0.055487,
      0.017505,
      0.027646,
      -0.011758,
      -0.043345,
      0.034773,
      0.024117,
      -0.041569,
      0.033898,
      -0.017929,
      -0.02758,
      -0.004594,
      0.012071,
      0.030582,
      -0.059577,
      -0.023415,
      -0.01272,
      -0.006751,
      -0.044566,
      -0.014201,
      0.066586,
      -0.003284,
      -0.02903,
      -0.047074,
      0.007977,
      0.032125,
      -0.00349,
      -0.00498,
      0.009701,
      -0.01419,
      0.054798,
      -0.013496,
      -0.019518,
      -0.036161,
      -0.018494,
      0.030776,
      -0.005078,
      0.009543,
      0.03158,
      -0.007173,
      -0.032967,
      -0.044078,
      -0.002762,
      0.047634,
      -0.019359,
      -0.038056,
      0.042025,
      -0.00797,
      -0.011762,
      0.011719,
      0.007128,
      -0.038041,
      0.100478,
      0.015255,
      -0.023252,
      0.021727,
      0.056309,
      0.041436,
      0.017129,
      0.014918,
      -0.022507,
      -0.007199,
      0.036482,
      -0.023288,
      0.020235,
      -0.00946,
      0.071676,
      -0.012941,
      -0.034603,
      0.024494,
      0.014155,
      -0.15974,
      -0.035706,
      0.028789,
      0.017228,
      0.015446,
      0.002025,
      -0.023322,
      0.023087,
      -0.026847,
      0.037144,
      -0.006075,
      -0.06408,
      -0.02793,
      -0.015469,
      0.006427,
      -0.014806,
      0.000952,
      0.026384,
      0.019218,
      -0.032539,
      -0.02815,
      -0.012323,
      0.020329,
      0.000529,
      -0.008273,
      -0.001664,
      0.048578,
      0.024156,
      -0.040413,
      -0.014245,
      0.009031,
      0.048655,
      0.012844,
      0.006377,
      -0.004907,
      -0.031124,
      0.028391,
      -0.003163,
      -0.005851,
      -0.026111,
      -0.000842,
      0.072137,
      -0.027416,
      -0.00535,
      0.003831,
      -0.001092,
      0.019931,
      0.006735,
      0.010321,
      0.002969,
      0.011998,
      -0.010398,
      0.009806,
      -0.037421,
      -0.055043,
      0.002852,
      0.030698,
      0.069953,
      0.019229,
      0.002913,
      -0.031306,
      -0.003304,
      0.031325,
      -0.040542,
      0.000387,
      -0.032892,
      0.02326,
      -0.002653,
      0.033663,
      -0.067859,
      0.033432,
      -0.045862,
      0.009379,
      -0.006628,
      -0.02748,
      0.00385,
      0.042221,
      -0.024598,
      -0.03135,
      -0.103408,
      -0.022447,
      0.009348,
      -0.002393,
      0.049176,
      -0.045441,
      -0.035372,
      -0.017708,
      -0.03692,
      0.020908,
      0.248267,
      -0.021796,
      0.001626,
      0.023895,
      0.08426,
      -0.034273,
      0.028349,
      0.077961,
      0.026259,
      -0.029433,
      0.013161,
      0.019167,
      -0.014099,
      -0.011624,
      -0.031271,
      -0.000753,
      -0.069436,
      0.008862,
      0.056369,
      -0.011878,
      0.025408,
      0.025521,
      0.022002,
      0.018544,
      -0.07565,
      -0.007684,
      0.001005,
      0.014157,
      -0.017665,
      0.001658,
      -0.029215,
      -0.047876,
      0.036187,
      -0.073437,
      -0.032587,
      -0.04529,
      -0.014903,
      -0.015776,
      -0.037632,
      0.024726,
      0.00718,
      0.00509,
      0.030425,
      0.031611,
      -0.017681,
      -0.014902,
      -0.002577,
      -0.009279,
      -0.040491,
      -0.045469,
      0.001493,
      -0.010624,
      -0.008815,
      0.001287,
      -0.045221,
      -0.030132,
      -0.011995,
      -0.013277,
      -0.014002,
      -0.012075,
      0.02265,
      0.005063,
      -0.039949,
      0.02459,
      -0.020274,
      0.048149,
      0.010919,
      -0.056159,
      0.000022,
      0.063691,
      -0.004467,
      0.03737,
      0.028949,
      0.003193,
      0.009336,
      -0.0033,
      0.049728,
      0.040978,
      -0.019061,
      0.027577,
      -0.017498,
      0.009389,
      -0.020602,
      0.025497,
      0.01542,
      0.015638,
      -0.022598,
      0.05576,
      -0.021558,
      -0.029008,
      -0.015616,
      -0.00857,
      -0.01174,
      0.037994,
      0.005727,
      0.053578,
      0.034439,
      0.004547,
      -0.004154,
      -0.044598,
      -0.005555,
      0.024223,
      0.025473,
      0.002647,
      0.067118,
      0.003501,
      0.00914,
      0.023398,
      -0.010282,
      -0.013598,
      -0.042195,
      0.004109,
      0.013718,
      -0.026569,
      0.020931,
      -0.000578,
      0.042512,
      0.026464,
      0.062189,
      -0.000093,
      -0.04306,
      0.043875,
      0.012532,
      -0.00185,
      0.020839,
      -0.071188,
      -0.013463,
      -0.000583,
      -0.007935,
      0.046282,
      0.061151,
      -0.043599,
      0.003313,
      0.023956,
      0.039646,
      0.016892,
      0.019897,
      0.035482,
      0.006841,
      0.018059,
      -0.012656,
      -0.021719,
      -0.016246,
      0.012281,
      0.015581,
      0.040624,
      -0.008579,
      0.02357,
      -0.016407,
      -0.013006,
      0.030722,
      0.056697,
      0.013138,
      -0.041556,
      -0.004322,
      -0.044229,
      -0.009862,
      0.010985,
      0.024472,
      -0.033833,
      -0.017991,
      0.005647,
      -0.018338,
      0.045424,
      0.031602,
      -0.025314,
      0.026788,
      0.029204,
      -0.033924,
      -0.025591,
      -0.008481,
      -0.050088,
      -0.035105,
      0.047882,
      -0.028653,
      -0.019327,
      -0.048894,
      -0.002832,
      0.004062,
      -0.007365,
      -0.009449,
      0.038938,
      -0.000169,
      -0.017344,
      -0.018767,
      0.032872,
      0.002382,
      -0.01517,
      -0.009116,
      -0.034039,
      -0.02532,
      0.108002,
      0.010986,
      0.00203,
      0.071727,
      -0.004274,
      0.038802,
      0.003649,
      0.017918,
      -0.020418,
      -0.016206,
      -0.021996,
      0.001739,
      0.005717,
      -0.008034,
      -0.009473,
      0.014845,
      0.040621,
      -0.054225,
      0.031428,
      0.023223,
      0.045195,
      -0.00213,
      -0.003581,
      -0.003627,
      -0.043723,
      0.049744,
      0.065818,
      0.013043,
      0.006691,
      -0.057028,
      0.000057,
      0.020798,
      -0.011415,
      0.028942,
      0.029419,
      0.051763,
      0.017245,
      -0.026619,
      0.006018,
      -0.012264,
      0.050266,
      0.06833,
      -0.030028,
      -0.002553,
      -0.015896,
      0.03216,
      -0.006357,
      0.003107,
      -0.031443,
      0.024999,
      0.011534,
      0.022939,
      0.030678,
      -0.041154,
      0.0014,
      -0.018967,
      -0.034982,
      -0.039433,
      0.026339,
      -0.018805,
      -0.032788,
      0.021887,
      -0.035139,
      0.006084,
      0.000978,
      0.010551,
      -0.021685,
      -0.022476,
      -0.017556,
      -0.006182,
      0.043478,
      -0.006156,
      0.000833,
      0.001749,
      -0.01764,
      0.011329,
      -0.034425,
      -0.033702,
      -0.009705,
      -0.012842,
      -0.012991,
      -0.040151,
      -0.077655,
      0.003213,
      0.041535,
      -0.01521,
      -0.010917,
      0.01278,
      0.022236,
      -0.047566,
      -0.013111,
      0.041296,
      -0.002447,
      0.035374,
      0.019802,
      0.007973,
      -0.004989,
      0.013483,
      -0.043361,
      0.035078,
      0.002976,
      -0.005366,
      0.02174,
      -0.002254,
      -0.003814,
      -0.028506,
      0.029194,
      -0.021152,
      -0.026273,
      -0.015558,
      0.011808,
      0.018168,
      -0.030648,
      -0.00942,
      0.021332,
      -0.013609,
      -0.061367,
      0.000802,
      0.031649,
      -0.005179,
      -0.022508,
      0.027013,
      0.018684,
      0.018544,
      -0.038967,
      0.059918,
      -0.009133,
      0.004793,
      -0.050243,
      0.000565,
      -0.006144,
      -0.04249,
      0.00718,
      -0.02531,
      -0.00274,
      0.028554,
      -0.019334,
      -0.022939,
      -0.001294,
      -0.057864,
      -0.007066,
      -0.006539,
      -0.021482,
      -0.027745,
      0.011209,
      0.05275,
      -0.026758,
      0.016928,
      -0.054584,
      -0.013641,
      0.00736,
      0.062307,
      -0.022371,
      0.009593,
      -0.043825,
      0.012788,
      0.01053,
      -0.025923,
      -0.000337,
      -0.034157,
      -0.033426,
      -0.002042,
      -0.048481,
      0.012499,
      -0.036815,
      -0.043836,
      0.008106,
      -0.011664,
      -0.009154,
      -0.037598,
      0.060561,
      -0.007189,
      -0.024499,
      0.015613,
      0.000552,
      0.008695,
      -0.054887,
      -0.000184,
      -0.021373,
      -0.021508,
      0.016966,
      0.00448,
      0.014587,
      -0.025673,
      0.027017,
      -0.026822,
      0.014458,
      0.004404,
      -0.01424,
      -0.034281,
      -0.026074,
      -0.036714,
      0.001639,
      -0.039501,
      -0.003381,
      -0.031233,
      0.000161,
      -0.000892,
      0.013107,
      -0.010116,
      -0.004794,
      -0.011378,
      0.017758,
      -0.146653,
      0.005805,
      0.043834,
      0.001988,
      0.015594,
      0.015807,
      0.009118,
      -0.057649,
      0.025107,
      -0.055283,
      -0.00119,
      0.010978,
      0.031792,
      -0.026479,
      -0.011223,
      0.054559,
      0.0162,
      -0.020169,
      0.009691,
      -0.012727,
      0.00499,
      -0.000365,
      0.06787,
      0.004583,
      0.025234,
      -0.014941,
      -0.023163,
      -0.001119,
      -0.0189,
      -0.009055,
      0.004893,
      -0.006779,
      0.005191,
      0.012297,
      0.034583,
      0.015063,
      0.000196,
      0.011537,
      -0.013514,
      0.047926,
      -0.028306,
      0.0079,
      -0.064898,
      0.022671,
      0.017083,
      0.034351,
      -0.025472,
      -0.047056,
      -0.003865,
      0.00618,
      0.002546,
      0.011421,
      0.005733,
      0.057794,
      -0.039078,
      0.014751,
      -0.05307,
      -0.010427,
      -0.042207,
      0.035666,
      -0.033982,
      0.069535,
      -0.014145,
      -0.024545,
      0.01068,
      0.003021,
      -0.026964,
      0.015671,
      0.017612,
      -0.008856,
      0.006816,
      -0.026856,
      -0.05579,
      -0.004318,
      0.040953,
      -0.027307,
      0.038105,
      0.019321,
      -0.031438,
      -0.007409,
      0.002312,
      -0.028367,
      -0.062672,
      0.057232,
      0.043804,
      0.006134,
      0.012454,
      0.003099,
      -0.018156,
      -0.017315,
      -0.023729,
      -0.051844,
      0.000255,
      0.046233,
      -0.020367,
      0.058353,
      -0.002816,
      0.001997,
      0.016297,
      0.004154,
      -0.043594,
      0.000613,
      0.011977,
      0.006772,
      -0.028842,
      0.007644,
      -0.006456,
      -0.002987,
      0.008989,
      -0.021024,
      -0.017889,
      0.028372,
      -0.03118,
      0.018105,
      -0.065149,
      0.011011,
      -0.005481,
      0.049786,
      -0.018807,
      0.015571,
      0.032155,
      -0.003933,
      0.012667,
      -0.034336,
      0.042076,
      0.052941,
      0.028086,
      0.005507,
      0.045648,
      -0.010872,
      0.017347,
      -0.042892,
      -0.010233,
      -0.002002,
      -0.009418,
      -0.090297,
      -0.046172,
      0.069577,
      -0.026249,
      -0.012306,
      -0.045054,
      0.00059,
      -0.011428,
      -0.021725,
      -0.005824,
      -0.035905,
      0.009882,
      0.01936,
      0.012519,
      -0.050151,
      -0.007808,
      -0.004867,
      -0.031172,
      0.06067,
      0.011806,
      0.028455,
      -0.023376,
      0.006352,
      -0.015332,
      0.041599,
      0.018641,
      -0.074679,
      -0.025367,
      -0.011094,
      0.004511,
      0.002167,
      -0.005324,
      -0.00444,
      -0.015726,
      0.026542,
      -0.017978,
      0.051512,
      -0.016332,
      -0.01706,
      0.002104,
      -0.01481,
      0.004845,
      -0.006808,
      0.051948,
      -0.01536,
      0.004985,
      0.025188,
      0.049836,
      0.005347,
      0.064089,
      -0.004071,
      -0.007841,
      -0.009042,
      0.040311,
      -0.017037,
      -0.033636,
      0.004746,
      0.008481,
      0.013396,
      0.022249,
      0.001055,
      0.022093,
      0.001535,
      0.00386,
      0.059157,
      0.021284,
      -0.032401,
      -0.008248,
      0.007949,
      -0.02483,
      0.009797,
      -0.024954,
      -0.01884,
      -0.009306,
      0.032934,
      -0.021925,
      0.004736,
      0.006224,
      0.016524,
      0.029111,
      0.009869,
      0.025831,
      0.027411,
      -0.0195,
      -0.036549,
      0.036069,
      0.003992,
      -0.024477,
      -0.031683,
      -0.048993,
      -0.040474,
      0.021429,
      0.000309,
      -0.046504,
      -0.007475,
      0.032676,
      -0.046884,
      -0.027359,
      0.0155,
      0.002723,
      -0.002348,
      -0.00403,
      0.020974,
      -0.014697,
      0.008494,
      0.053642,
      -0.010243,
      -0.026022,
      0.012435
    ]
  },
  {
    "id": "v5-socketio-0",
    "content": "# Socket.io\nBreadcrumb: Socket.io\nCovers: Configuration | socketio() | socketio(callback) | Using uWebSockets.js | socketio(options [, callback]) | socketio(port, [options], [callback]) | params | params.provider | params.query | params.connection | params.headers\nTopics: hooks, services, application, context, params, provider, get, create, patch, remove, setup, github, database, memory, websockets, channels, events, socket.io, http, transport, express, middleware, client, configuration, cli, security, users\n\n## Configuration\n\n`@feathersjs/socketio` can be used standalone or together with a Feathers framework integration like [Express](./express.md).\n\n### socketio()\n\n`app.configure(socketio())` sets up the Socket.io transport with the default configuration using either the server provided by [app.listen](./application.md#listenport) or passed in [app.setup(server)](./application.md#setupserver).\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio'\n\nconst app = feathers()\n\napp.configure(socketio())\n\napp.listen(3030)\n```\n\n> **Important:**\n> \n> Once the server has been started with `app.listen()` or `app.setup(server)` the Socket.io object is available as `app.io`. Usually you should not have to send or listen to events on `app.io` directly.\n>\n\n### socketio(callback)\n\n`app.configure(socketio(callback))` sets up the Socket.io transport with the default configuration and call `callback` with the [Socket.io server object](http://socket.io/docs/server-api/).\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio'\n\nconst app = feathers()\n\napp.configure(\n  socketio((io) => {\n    io.on('connection', (socket) => {\n      // Do something here\n    })\n\n    // Registering Socket.io middleware\n    io.use(function (socket, next) {\n      // Exposing a request property to services and hooks\n      socket.feathers.referrer = socket.request.referrer\n      next()\n    })\n  })\n)\n\napp.listen(3030)\n```\n\n> **danger:**\n> \n> Try to avoid listening and sending events on the `socket` directly since it circumvents Feathers secure dispatch mechanisms available through [channels](./channels.md) and [hooks](./hooks.md).\n> \n\n#### Using uWebSockets.js\n\nuWS can be used as a drop in replacement for socket handling.  \nAs a result you'll see lower latencies, a better memory footprint and even slightly less overall resource usage.  \nYou will on the other hand need to install the following extra package to get things working.\n\n```\nnpm install uNetworking/uWebSockets.js#20.31.0 --save\n```\n\nNow you can use the `io.attachApp` function to attach uWS as a replacement.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio'\nimport { App } from 'uWebSockets.js'\n\nconst app = feathers()\n\napp.configure(\n  socketio((io) => {\n    io.attachApp(App())\n  })\n)\n\napp.listen(3030)\n```\n\n### socketio(options [, callback])\n\n`app.configure(socketio(options [, callback]))` sets up the Socket.io transport with the given [Socket.io options object](https://github.com/socketio/engine.io#methods-1) and optionally calls the callback described above.\n\nThis can be used to e.g. configure the path where Socket.io is initialize (`socket.io/` by default). The following changes the path to `ws/`:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio'\n\nconst app = feathers()\n\napp.configure(\n  socketio(\n    {\n      path: '/ws/'\n    },\n    (io) => {\n      // Do something here\n      // This function is optional\n    }\n  )\n)\n\napp.listen(3030)\n```\n\n### socketio(port, [options], [callback])\n\n`app.configure(socketio(port, [options], [callback]))` creates a new Socket.io server on a separate port. Options and a callback are optional and work as described above.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio'\n\nconst app = feathers()\n\napp.configure(socketio(3031))\napp.listen(3030)\n```\n\n## params\n\n[Socket.io middleware](https://socket.io/docs/v4/middlewares/) can modify the `feathers` property on the `socket` which will then be used as the service call `params`:\n\n```ts\napp.configure(\n  socketio((io) => {\n    io.use((socket, next) => {\n      socket.feathers.user = { name: 'David' }\n      next()\n    })\n  })\n)\n\napp.use('messages', {\n  async create(data, params, callback) {\n    // When called via SocketIO:\n    params.provider // -> socketio\n    params.user // -> { name: 'David' }\n    return data\n  }\n})\n```\n\n> **info:**\n> \n> `socket.feathers` is the same object as the `connection` in a [channel](./channels.md). `socket.request` and `socket.handshake` contains information the HTTP request that initiated the connection (see the [Socket.io documentation](https://socket.io/docs/server-api/#socket-request)).\n>\n\n### params.provider\n\nFor any [service method call](./services.md) made through Socket.io `params.provider` will be set to `socketio`. In a [hook](./hooks.md) this can for example be used to prevent external users from making a service method call:\n\n```js\napp.service('users').hooks({\n  before: {\n    remove(context) {\n      // check for if(context.params.provider) to prevent any external call\n      if (context.params.provider === 'socketio') {\n        throw new Error('You can not delete a user via Socket.io')\n      }\n    }\n  }\n})\n```\n\n### params.query\n\n`params.query` will contain the query parameters sent from the client.\n\n> **warning:**\n> \n> Only `params.query` is passed between the server and the client, other parts of `params` are not. This is for security reasons so that a client can't set things like `params.user` or the database options. You can always map from `params.query` to `params` in a before [hook](./hooks.md).\n>\n\n### params.connection\n\n`params.connection` is the connection object that can be used with [channels](./channels.md). It is the same object as `socket.feathers` in a Socket.io middleware as [shown in the `params` section](#params).\n\n### params.headers\n\n`params.headers` contains the headers from the original handshake. This is usually sent with the `extraHeaders` option when initialising the connection on the client:\n\n```ts\nconst socket = io('http://localhost:9777', {\n  extraHeaders: {\n    MyHeader: 'somevalue'\n  }\n})\n```",
    "rawContent": "## Configuration\n\n`@feathersjs/socketio` can be used standalone or together with a Feathers framework integration like [Express](./express.md).\n\n### socketio()\n\n`app.configure(socketio())` sets up the Socket.io transport with the default configuration using either the server provided by [app.listen](./application.md#listenport) or passed in [app.setup(server)](./application.md#setupserver).\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio'\n\nconst app = feathers()\n\napp.configure(socketio())\n\napp.listen(3030)\n```\n\n> **Important:**\n> \n> Once the server has been started with `app.listen()` or `app.setup(server)` the Socket.io object is available as `app.io`. Usually you should not have to send or listen to events on `app.io` directly.\n>\n\n### socketio(callback)\n\n`app.configure(socketio(callback))` sets up the Socket.io transport with the default configuration and call `callback` with the [Socket.io server object](http://socket.io/docs/server-api/).\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio'\n\nconst app = feathers()\n\napp.configure(\n  socketio((io) => {\n    io.on('connection', (socket) => {\n      // Do something here\n    })\n\n    // Registering Socket.io middleware\n    io.use(function (socket, next) {\n      // Exposing a request property to services and hooks\n      socket.feathers.referrer = socket.request.referrer\n      next()\n    })\n  })\n)\n\napp.listen(3030)\n```\n\n> **danger:**\n> \n> Try to avoid listening and sending events on the `socket` directly since it circumvents Feathers secure dispatch mechanisms available through [channels](./channels.md) and [hooks](./hooks.md).\n> \n\n#### Using uWebSockets.js\n\nuWS can be used as a drop in replacement for socket handling.  \nAs a result you'll see lower latencies, a better memory footprint and even slightly less overall resource usage.  \nYou will on the other hand need to install the following extra package to get things working.\n\n```\nnpm install uNetworking/uWebSockets.js#20.31.0 --save\n```\n\nNow you can use the `io.attachApp` function to attach uWS as a replacement.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio'\nimport { App } from 'uWebSockets.js'\n\nconst app = feathers()\n\napp.configure(\n  socketio((io) => {\n    io.attachApp(App())\n  })\n)\n\napp.listen(3030)\n```\n\n### socketio(options [, callback])\n\n`app.configure(socketio(options [, callback]))` sets up the Socket.io transport with the given [Socket.io options object](https://github.com/socketio/engine.io#methods-1) and optionally calls the callback described above.\n\nThis can be used to e.g. configure the path where Socket.io is initialize (`socket.io/` by default). The following changes the path to `ws/`:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio'\n\nconst app = feathers()\n\napp.configure(\n  socketio(\n    {\n      path: '/ws/'\n    },\n    (io) => {\n      // Do something here\n      // This function is optional\n    }\n  )\n)\n\napp.listen(3030)\n```\n\n### socketio(port, [options], [callback])\n\n`app.configure(socketio(port, [options], [callback]))` creates a new Socket.io server on a separate port. Options and a callback are optional and work as described above.\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio'\n\nconst app = feathers()\n\napp.configure(socketio(3031))\napp.listen(3030)\n```\n\n## params\n\n[Socket.io middleware](https://socket.io/docs/v4/middlewares/) can modify the `feathers` property on the `socket` which will then be used as the service call `params`:\n\n```ts\napp.configure(\n  socketio((io) => {\n    io.use((socket, next) => {\n      socket.feathers.user = { name: 'David' }\n      next()\n    })\n  })\n)\n\napp.use('messages', {\n  async create(data, params, callback) {\n    // When called via SocketIO:\n    params.provider // -> socketio\n    params.user // -> { name: 'David' }\n    return data\n  }\n})\n```\n\n> **info:**\n> \n> `socket.feathers` is the same object as the `connection` in a [channel](./channels.md). `socket.request` and `socket.handshake` contains information the HTTP request that initiated the connection (see the [Socket.io documentation](https://socket.io/docs/server-api/#socket-request)).\n>\n\n### params.provider\n\nFor any [service method call](./services.md) made through Socket.io `params.provider` will be set to `socketio`. In a [hook](./hooks.md) this can for example be used to prevent external users from making a service method call:\n\n```js\napp.service('users').hooks({\n  before: {\n    remove(context) {\n      // check for if(context.params.provider) to prevent any external call\n      if (context.params.provider === 'socketio') {\n        throw new Error('You can not delete a user via Socket.io')\n      }\n    }\n  }\n})\n```\n\n### params.query\n\n`params.query` will contain the query parameters sent from the client.\n\n> **warning:**\n> \n> Only `params.query` is passed between the server and the client, other parts of `params` are not. This is for security reasons so that a client can't set things like `params.user` or the database options. You can always map from `params.query` to `params` in a before [hook](./hooks.md).\n>\n\n### params.connection\n\n`params.connection` is the connection object that can be used with [channels](./channels.md). It is the same object as `socket.feathers` in a Socket.io middleware as [shown in the `params` section](#params).\n\n### params.headers\n\n`params.headers` contains the headers from the original handshake. This is usually sent with the `extraHeaders` option when initialising the connection on the client:\n\n```ts\nconst socket = io('http://localhost:9777', {\n  extraHeaders: {\n    MyHeader: 'somevalue'\n  }\n})\n```",
    "breadcrumb": "Socket.io",
    "version": "v5",
    "sourceFile": "docs/v5_docs/api/socketio.md",
    "heading": "Socket.io",
    "subHeadings": [
      "Configuration",
      "socketio()",
      "socketio(callback)",
      "Using uWebSockets.js",
      "socketio(options [, callback])",
      "socketio(port, [options], [callback])",
      "params",
      "params.provider",
      "params.query",
      "params.connection",
      "params.headers"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 1443,
    "category": "socketio",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "provider",
      "get",
      "create",
      "patch",
      "remove",
      "setup",
      "github",
      "database",
      "memory",
      "websockets",
      "channels",
      "events",
      "socket.io",
      "http",
      "transport",
      "express",
      "middleware",
      "client",
      "configuration",
      "cli",
      "security",
      "users"
    ],
    "embedding": [
      0.003422,
      0.006604,
      -0.081338,
      0.001177,
      -0.019217,
      -0.0404,
      0.005291,
      0.028623,
      -0.028936,
      0.023848,
      0.010082,
      0.029388,
      0.020266,
      -0.004908,
      0.019612,
      -0.020575,
      -0.009241,
      -0.018477,
      0.025203,
      -0.0356,
      -0.040025,
      -0.042202,
      0.01122,
      0.004898,
      0.005092,
      -0.014477,
      0.005046,
      -0.033289,
      -0.010539,
      0.011628,
      0.030792,
      0.013785,
      -0.009863,
      -0.01812,
      -0.030024,
      -0.007742,
      -0.009372,
      0.016757,
      -0.035188,
      0.007332,
      -0.001733,
      -0.004745,
      0.005342,
      0.009806,
      0.02927,
      -0.033528,
      0.024976,
      -0.025065,
      0.002213,
      -0.027825,
      -0.031993,
      -0.005987,
      0.014955,
      -0.051639,
      0.047337,
      0.028922,
      -0.006798,
      -0.024519,
      -0.054538,
      0.009372,
      -0.063613,
      -0.003703,
      -0.024468,
      -0.017309,
      0.014218,
      0.047976,
      -0.017232,
      -0.004178,
      -0.020632,
      -0.018689,
      0.006212,
      0.005655,
      0.00749,
      -0.006407,
      -0.050368,
      0.033765,
      -0.001242,
      -0.001023,
      0.000951,
      0.01549,
      -0.017653,
      -0.019665,
      -0.003044,
      0.025945,
      0.000462,
      -0.008011,
      -0.037266,
      0.041247,
      -0.010658,
      0.033642,
      -0.015781,
      -0.040095,
      0.033311,
      -0.039454,
      -0.015164,
      0.01074,
      0.011111,
      -0.01899,
      0.026863,
      0.001631,
      -0.012796,
      0.004558,
      0.036325,
      -0.069644,
      0.070716,
      0.054643,
      -0.00108,
      0.001626,
      -0.001282,
      -0.025255,
      0.00575,
      0.00556,
      0.008074,
      0.003127,
      -0.0124,
      -0.036981,
      0.02107,
      -0.008204,
      -0.006628,
      -0.019079,
      0.021125,
      0.000343,
      0.036535,
      -0.018973,
      -0.01119,
      0.024453,
      -0.005684,
      0.055245,
      -0.001748,
      0.008094,
      0.015674,
      -0.086444,
      -0.011981,
      0.017715,
      -0.072402,
      0.003546,
      0.044611,
      0.018361,
      -0.027864,
      -0.072665,
      0.041718,
      0.0072,
      0.003355,
      -0.000398,
      0.046701,
      -0.057053,
      0.07649,
      0.032265,
      0.001262,
      -0.006805,
      0.011918,
      0.033756,
      -0.009165,
      -0.028012,
      0.045922,
      -0.06604,
      0.01026,
      0.010342,
      0.051848,
      -0.007722,
      -0.007962,
      0.034559,
      -0.02569,
      -0.01383,
      0.03329,
      0.01824,
      -0.007706,
      -0.043523,
      0.004756,
      0.010488,
      -0.012676,
      -0.035017,
      0.055013,
      -0.002751,
      0.015086,
      0.025844,
      0.072058,
      0.011551,
      0.016738,
      -0.023593,
      -0.094177,
      0.008205,
      -0.050439,
      -0.061166,
      -0.033676,
      -0.031751,
      -0.032917,
      -0.06322,
      -0.019115,
      0.047311,
      -0.002003,
      0.015191,
      0.056629,
      0.023884,
      0.008415,
      0.046455,
      0.03223,
      -0.016754,
      0.04387,
      0.042702,
      0.012159,
      -0.003991,
      0.036401,
      0.026375,
      -0.02336,
      -0.025488,
      -0.006533,
      -0.045865,
      0.018577,
      -0.036292,
      0.02204,
      -0.014318,
      -0.048599,
      -0.000639,
      -0.02606,
      0.043746,
      -0.032456,
      -0.017783,
      -0.031813,
      -0.040783,
      0.000642,
      0.018951,
      0.011624,
      0.029062,
      0.00156,
      0.028532,
      0.04183,
      -0.023568,
      -0.016971,
      -0.016061,
      -0.017722,
      0.024804,
      0.012,
      -0.035627,
      0.041061,
      -0.02573,
      -0.049771,
      -0.004909,
      -0.032721,
      0.001438,
      0.021841,
      -0.008402,
      0.033151,
      -0.038646,
      -0.036422,
      -0.011454,
      0.037729,
      -0.025311,
      -0.020549,
      -0.012122,
      -0.007577,
      0.004105,
      -0.028342,
      0.011765,
      0.064661,
      0.020144,
      0.045607,
      0.007589,
      -0.001661,
      -0.005634,
      0.021243,
      0.024475,
      -0.00076,
      0.013183,
      0.021587,
      -0.020006,
      -0.032268,
      -0.027767,
      -0.024841,
      0.001407,
      -0.012962,
      0.033081,
      0.032299,
      0.026723,
      -0.002563,
      -0.012853,
      0.01084,
      -0.036493,
      0.072814,
      0.052681,
      0.008724,
      0.032527,
      0.043636,
      0.047145,
      -0.007304,
      0.046337,
      0.005567,
      0.024553,
      0.021843,
      -0.040439,
      0.004064,
      -0.012143,
      0.079289,
      -0.013349,
      -0.049224,
      0.01821,
      -0.007159,
      -0.175245,
      -0.010137,
      0.038987,
      0.014479,
      0.001726,
      0.011559,
      -0.046117,
      -0.006401,
      -0.044021,
      0.069408,
      -0.003422,
      -0.053417,
      0.025898,
      -0.006785,
      -0.005915,
      0.006932,
      0.001264,
      -0.009266,
      0.020288,
      -0.030979,
      -0.023408,
      -0.002389,
      0.043897,
      0.038821,
      -0.023034,
      -0.00927,
      0.032477,
      0.00804,
      -0.044521,
      0.014458,
      0.006381,
      0.003309,
      -0.006219,
      0.01776,
      -0.006843,
      -0.030886,
      -0.003564,
      -0.007948,
      -0.032053,
      0.007722,
      0.00408,
      0.014749,
      0.003295,
      0.004484,
      -0.021508,
      -0.040729,
      0.012282,
      0.020121,
      -0.016211,
      -0.039038,
      0.031223,
      -0.011231,
      0.005229,
      0.000306,
      -0.041059,
      -0.021762,
      0.024614,
      0.079627,
      0.012661,
      0.002197,
      0.002129,
      0.014722,
      0.033015,
      -0.016198,
      -0.009311,
      -0.032421,
      0.010589,
      0.009478,
      0.046355,
      -0.032249,
      0.050334,
      -0.03389,
      0.032465,
      0.010304,
      -0.015129,
      -0.028591,
      0.029872,
      -0.036682,
      -0.032091,
      -0.09574,
      0.022127,
      0.01208,
      0.014039,
      0.057784,
      -0.021956,
      -0.015175,
      -0.019004,
      -0.027448,
      -0.017115,
      0.230782,
      -0.00804,
      -0.012678,
      0.014671,
      0.067368,
      -0.037371,
      0.002325,
      0.072907,
      0.042671,
      -0.016867,
      0.029075,
      0.00189,
      -0.024602,
      -0.011312,
      -0.029002,
      -0.01748,
      -0.060846,
      0.021083,
      0.036669,
      -0.018786,
      0.004182,
      -0.038306,
      -0.013704,
      -0.003498,
      -0.080596,
      -0.011828,
      0.000468,
      0.003081,
      -0.023128,
      -0.006193,
      -0.03799,
      0.007559,
      0.033265,
      -0.048218,
      -0.070291,
      0.016594,
      -0.005573,
      0.001791,
      -0.034295,
      -0.035373,
      0.014125,
      -0.012144,
      0.051835,
      0.034565,
      0.017477,
      -0.019924,
      0.004465,
      0.008396,
      -0.051073,
      -0.042169,
      -0.045068,
      -0.011075,
      -0.016486,
      -0.016988,
      -0.03499,
      -0.064004,
      0.001371,
      -0.043743,
      -0.004842,
      0.030157,
      0.025653,
      0.019995,
      -0.040084,
      0.027144,
      0.001069,
      0.011778,
      0.012044,
      -0.028517,
      0.044081,
      0.045854,
      0.004301,
      -0.012975,
      0.007217,
      -0.011081,
      -0.017286,
      -0.000174,
      0.036961,
      0.062566,
      -0.039337,
      0.0519,
      -0.031723,
      -0.011959,
      -0.015683,
      0.012211,
      0.019546,
      -0.009021,
      -0.052922,
      0.036543,
      0.00006,
      -0.026091,
      -0.011907,
      -0.021857,
      0.001759,
      0.035142,
      -0.016383,
      0.028147,
      0.03088,
      -0.019578,
      0.018755,
      -0.045235,
      0.002242,
      0.03245,
      0.010341,
      -0.041437,
      0.052482,
      -0.035883,
      -0.007789,
      -0.007182,
      -0.003502,
      0.003936,
      -0.054684,
      0.009803,
      0.07228,
      -0.043156,
      -0.003228,
      -0.002683,
      0.040314,
      0.030478,
      0.065972,
      -0.019352,
      0.004164,
      -0.021626,
      -0.030798,
      0.031025,
      0.010666,
      -0.080928,
      -0.053956,
      -0.024866,
      -0.009656,
      0.051593,
      0.032581,
      -0.041924,
      0.021998,
      0.047679,
      0.052347,
      0.019433,
      0.024566,
      0.038252,
      0.02642,
      0.00589,
      0.002397,
      -0.040794,
      -0.031854,
      0.023761,
      -0.00015,
      -0.001077,
      -0.021387,
      -0.009178,
      0.003003,
      -0.004221,
      0.00875,
      0.068777,
      0.012316,
      -0.043387,
      -0.029801,
      -0.03638,
      -0.009451,
      0.005734,
      0.041685,
      -0.018902,
      -0.02827,
      0.016412,
      -0.009921,
      0.03906,
      0.045818,
      -0.029696,
      0.005081,
      0.024906,
      0.001603,
      -0.013983,
      0.019609,
      -0.072933,
      -0.046953,
      0.045145,
      -0.000692,
      -0.032443,
      -0.060274,
      0.005678,
      0.025728,
      -0.002705,
      0.027695,
      0.016401,
      -0.032047,
      -0.02369,
      -0.011579,
      0.031854,
      -0.002424,
      -0.002862,
      0.031539,
      -0.045499,
      -0.016916,
      0.105933,
      0.015056,
      -0.009732,
      0.060021,
      -0.004767,
      0.059634,
      0.062025,
      -0.020132,
      -0.020225,
      -0.008244,
      0.020689,
      -0.001346,
      0.002583,
      0.005703,
      -0.038013,
      0.028287,
      0.022969,
      -0.049947,
      0.019944,
      0.022272,
      0.023061,
      -0.058671,
      0.025818,
      0.007343,
      -0.041636,
      0.072663,
      0.050245,
      0.008653,
      -0.043652,
      -0.030107,
      -0.009358,
      0.005808,
      -0.059926,
      0.025124,
      0.054526,
      0.05388,
      -0.009648,
      -0.008692,
      -0.021708,
      -0.005196,
      0.011228,
      0.017318,
      -0.049386,
      0.010963,
      -0.040206,
      0.039397,
      0.011214,
      0.03966,
      -0.013595,
      0.016642,
      0.004757,
      0.033635,
      0.052221,
      -0.023726,
      0.003557,
      -0.014216,
      -0.027007,
      -0.060688,
      0.023807,
      -0.027474,
      0.002265,
      -0.017147,
      -0.005031,
      -0.004657,
      0.008715,
      0.032716,
      -0.017579,
      -0.018986,
      -0.00735,
      0.020009,
      0.011605,
      -0.010694,
      0.006928,
      0.001801,
      -0.036677,
      -0.00812,
      -0.035549,
      -0.031495,
      -0.008407,
      0.018444,
      -0.001367,
      -0.077377,
      -0.045206,
      0.041414,
      0.030886,
      -0.000309,
      0.006229,
      -0.010792,
      0.033629,
      -0.047989,
      -0.035346,
      0.013346,
      0.024462,
      0.004873,
      0.018548,
      0.022937,
      0.017032,
      -0.011428,
      -0.069157,
      0.061529,
      0.005499,
      -0.039918,
      0.00039,
      -0.033105,
      -0.011503,
      0.002927,
      0.014029,
      0.001062,
      0.018097,
      -0.013898,
      0.046649,
      0.005884,
      -0.015823,
      0.013404,
      -0.005805,
      0.008875,
      -0.045179,
      -0.032156,
      0.054674,
      -0.026598,
      -0.03998,
      0.006181,
      0.052149,
      0.073306,
      -0.00462,
      0.071606,
      -0.037833,
      -0.003956,
      0.018973,
      -0.002145,
      -0.002136,
      -0.010787,
      -0.017447,
      -0.027352,
      -0.005388,
      0.021513,
      -0.019872,
      -0.056013,
      -0.002653,
      -0.044618,
      -0.000077,
      -0.025351,
      -0.028935,
      -0.002848,
      0.028732,
      0.044016,
      -0.011953,
      -0.007355,
      -0.025423,
      -0.015415,
      -0.004746,
      0.047842,
      -0.032471,
      0.059794,
      -0.019099,
      -0.026611,
      0.005349,
      0.005979,
      0.023044,
      -0.020133,
      -0.03187,
      -0.007705,
      -0.028307,
      0.046178,
      -0.011939,
      -0.050661,
      0.005139,
      -0.007292,
      -0.010959,
      -0.039485,
      0.039937,
      -0.00589,
      -0.025149,
      -0.012902,
      -0.016318,
      0.019522,
      -0.005973,
      0.007081,
      -0.016826,
      -0.004056,
      0.008144,
      0.01468,
      0.007383,
      -0.030121,
      0.025303,
      0.000562,
      0.025458,
      0.031744,
      -0.020242,
      -0.052948,
      -0.028628,
      -0.004174,
      0.010818,
      -0.032497,
      -0.027281,
      0.018244,
      0.021005,
      -0.003206,
      0.028385,
      -0.02054,
      0.033288,
      0.004316,
      0.036856,
      -0.136551,
      0.031098,
      0.007312,
      0.010628,
      -0.001413,
      0.008937,
      -0.02615,
      -0.011134,
      0.010814,
      -0.021961,
      -0.067088,
      0.011724,
      0.0484,
      -0.022784,
      -0.001663,
      0.038003,
      -0.020157,
      -0.033068,
      0.003983,
      -0.006119,
      -0.004905,
      -0.011478,
      0.044921,
      -0.02961,
      0.017575,
      0.006046,
      -0.039946,
      0.010043,
      -0.028438,
      -0.014087,
      -0.009093,
      -0.014271,
      0.005836,
      0.046509,
      0.00005,
      0.007016,
      0.014888,
      0.014106,
      0.011158,
      0.044882,
      -0.018604,
      0.027533,
      -0.032566,
      0.021576,
      -0.003687,
      0.032517,
      -0.028487,
      -0.037611,
      -0.012529,
      0.000051,
      -0.022627,
      -0.010621,
      0.052602,
      0.064474,
      -0.019874,
      -0.000442,
      -0.01094,
      -0.002197,
      -0.025069,
      0.008175,
      -0.036618,
      0.026673,
      -0.040291,
      -0.016678,
      -0.014568,
      -0.005255,
      -0.048094,
      0.009542,
      0.000141,
      0.002255,
      0.024942,
      -0.041046,
      -0.049579,
      0.03983,
      0.032165,
      -0.025733,
      0.047533,
      -0.011296,
      0.004913,
      0.037696,
      -0.008563,
      -0.04672,
      -0.068233,
      0.052527,
      0.047257,
      0.041243,
      0.011816,
      -0.002122,
      -0.013371,
      -0.013928,
      -0.05041,
      -0.040804,
      0.02239,
      0.038555,
      -0.003179,
      0.024498,
      0.011929,
      -0.028496,
      -0.006437,
      -0.017702,
      -0.059736,
      -0.014607,
      -0.005872,
      0.00546,
      -0.005443,
      0.010765,
      -0.004777,
      -0.002024,
      0.012467,
      0.004395,
      -0.015786,
      0.008422,
      -0.037535,
      -0.000951,
      -0.054728,
      0.018203,
      0.001954,
      0.025848,
      -0.025482,
      -0.029061,
      -0.013472,
      -0.012851,
      -0.041896,
      -0.022897,
      0.032528,
      0.020504,
      0.030522,
      0.013644,
      0.044303,
      -0.016866,
      0.041233,
      -0.028878,
      -0.033532,
      0.026194,
      0.020127,
      -0.02607,
      -0.046723,
      0.055239,
      -0.010903,
      -0.015345,
      -0.052698,
      0.022625,
      0.013932,
      -0.015513,
      0.002581,
      -0.033999,
      0.025713,
      0.020497,
      -0.03503,
      0.012013,
      -0.001109,
      0.016142,
      -0.032313,
      0.047398,
      0.00661,
      0.024524,
      -0.015175,
      -0.012476,
      -0.007419,
      0.038708,
      0.037491,
      -0.008684,
      -0.016192,
      -0.023257,
      -0.019999,
      0.002552,
      -0.012836,
      0.002932,
      -0.02464,
      0.020952,
      -0.014107,
      0.053659,
      -0.018675,
      -0.00667,
      0.045792,
      -0.016136,
      0.023918,
      -0.023816,
      0.028971,
      0.021958,
      0.011133,
      -0.01228,
      0.065589,
      -0.030232,
      0.026007,
      -0.006466,
      0.012362,
      0.02168,
      0.033405,
      -0.001467,
      -0.015146,
      -0.026756,
      0.028201,
      0.004558,
      0.019908,
      -0.005424,
      0.017668,
      -0.061319,
      -0.008284,
      0.052015,
      0.008305,
      -0.041706,
      -0.011572,
      -0.008419,
      -0.033208,
      0.030976,
      -0.038172,
      -0.031948,
      -0.024838,
      0.030516,
      -0.011397,
      -0.020058,
      0.029121,
      0.002802,
      0.007725,
      0.020738,
      0.023106,
      0.0205,
      -0.007868,
      -0.030677,
      0.002936,
      -0.016448,
      -0.008958,
      -0.050504,
      -0.019691,
      -0.004256,
      -0.001624,
      0.013009,
      -0.015868,
      -0.002889,
      0.002937,
      -0.023035,
      0.007968,
      0.031949,
      -0.037356,
      0.008337,
      0.012316,
      0.042387,
      0.007682,
      -0.006577,
      0.02469,
      0.00501,
      0.02466,
      0.023722
    ]
  },
  {
    "id": "v5-comparison-0",
    "content": "# Feathers vs others\nBreadcrumb: Feathers vs others\n\n",
    "rawContent": "",
    "breadcrumb": "Feathers vs others",
    "version": "v5",
    "sourceFile": "docs/v5_docs/comparison.md",
    "heading": "Feathers vs others",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "comparison",
    "tags": [],
    "embedding": [
      0.007254,
      -0.003641,
      -0.042893,
      0.015095,
      -0.037683,
      -0.007005,
      0.02061,
      0.071895,
      0.009176,
      0.039915,
      0.006154,
      -0.018072,
      -0.047321,
      -0.003547,
      -0.000074,
      -0.0039,
      -0.030441,
      -0.03054,
      -0.025509,
      -0.048112,
      -0.018023,
      -0.008273,
      -0.028814,
      -0.003977,
      -0.014198,
      -0.000078,
      -0.008562,
      -0.045828,
      0.006831,
      0.010831,
      0.024986,
      0.02768,
      0.051179,
      -0.012118,
      -0.004997,
      -0.035806,
      0.030434,
      0.03958,
      -0.047214,
      0.068278,
      -0.006525,
      -0.007574,
      -0.003797,
      -0.019278,
      0.012753,
      -0.052793,
      -0.001862,
      -0.019076,
      -0.067163,
      0.011966,
      0.008886,
      -0.000688,
      0.030992,
      -0.034602,
      0.005731,
      0.006792,
      -0.035578,
      0.00314,
      -0.096984,
      -0.011201,
      -0.026068,
      0.033314,
      -0.011723,
      -0.025093,
      0.046501,
      0.060401,
      -0.019565,
      -0.010107,
      -0.016828,
      -0.018504,
      -0.014972,
      -0.008273,
      -0.004932,
      -0.005298,
      -0.054962,
      0.024349,
      -0.020783,
      -0.038592,
      -0.018513,
      0.027186,
      -0.016813,
      -0.010654,
      0.0397,
      -0.004971,
      -0.076295,
      0.055402,
      -0.031066,
      -0.021745,
      0.024818,
      -0.001494,
      0.017288,
      -0.0344,
      0.018698,
      -0.038318,
      0.026444,
      0.035992,
      -0.018984,
      -0.014217,
      0.020574,
      0.024192,
      0.004776,
      0.040703,
      -0.008068,
      -0.000834,
      0.009635,
      -0.009195,
      0.047684,
      0.041981,
      0.015255,
      -0.006645,
      0.025952,
      0.052264,
      0.018745,
      0.024576,
      0.004158,
      0.021106,
      -0.013238,
      0.002105,
      -0.011489,
      -0.029349,
      0.031928,
      0.046821,
      0.054095,
      -0.070336,
      0.015942,
      -0.025943,
      -0.006535,
      0.026598,
      -0.006232,
      -0.016689,
      0.000259,
      -0.00523,
      -0.002621,
      0.001433,
      0.06581,
      -0.031048,
      -0.005952,
      -0.05053,
      -0.011757,
      -0.027726,
      0.018836,
      -0.001386,
      0.008966,
      -0.024493,
      0.018837,
      -0.023929,
      0.026146,
      0.025873,
      0.006786,
      -0.028639,
      0.01528,
      0.00528,
      0.038014,
      -0.029485,
      0.061277,
      0.010342,
      0.054929,
      0.039831,
      0.01777,
      0.0289,
      0.006366,
      -0.026139,
      -0.01118,
      0.003872,
      0.043889,
      0.042789,
      0.05636,
      0.007347,
      -0.010249,
      -0.041016,
      -0.020921,
      -0.02882,
      0.00881,
      -0.010069,
      0.051966,
      0.026862,
      0.049996,
      -0.010939,
      0.026346,
      -0.057146,
      -0.006506,
      -0.016163,
      -0.013845,
      -0.055869,
      -0.049275,
      -0.043823,
      -0.014209,
      -0.051394,
      0.012208,
      0.055817,
      -0.018018,
      -0.023452,
      0.034759,
      -0.018679,
      0.053011,
      -0.003274,
      -0.039675,
      0.003508,
      0.001034,
      0.003266,
      0.067652,
      0.013568,
      0.018588,
      -0.001157,
      -0.056244,
      0.00818,
      -0.035103,
      -0.021767,
      0.012751,
      -0.001342,
      -0.01173,
      0.005923,
      -0.03635,
      -0.029339,
      -0.008255,
      -0.025626,
      -0.018473,
      -0.000798,
      -0.005038,
      -0.003424,
      0.005464,
      -0.017232,
      0.042329,
      0.044306,
      0.007859,
      -0.01136,
      0.016523,
      0.021552,
      0.010154,
      -0.02541,
      -0.044148,
      0.049997,
      0.045383,
      -0.002712,
      -0.016807,
      -0.037159,
      -0.017495,
      0.038968,
      -0.005194,
      0.016701,
      0.00225,
      -0.035078,
      0.040906,
      -0.020105,
      -0.042938,
      0.014645,
      -0.000689,
      -0.000593,
      0.009659,
      -0.020238,
      0.042983,
      -0.000962,
      0.007015,
      -0.051942,
      -0.007976,
      -0.007591,
      0.03085,
      -0.043053,
      -0.000104,
      -0.019339,
      0.034935,
      0.02316,
      0.000234,
      0.005762,
      0.024888,
      0.004419,
      -0.017959,
      -0.00946,
      0.051035,
      -0.015288,
      -0.007155,
      0.001024,
      0.012674,
      -0.023512,
      -0.031275,
      0.029372,
      -0.007364,
      -0.040091,
      0.086596,
      0.029217,
      0.036916,
      0.02989,
      0.060354,
      0.030694,
      0.02617,
      -0.028271,
      0.023796,
      0.007059,
      0.030618,
      -0.024927,
      0.01247,
      0.012563,
      0.049095,
      0.015094,
      -0.073222,
      0.006854,
      -0.003188,
      -0.138741,
      -0.000743,
      -0.006269,
      0.012845,
      0.024755,
      0.01768,
      -0.010255,
      0.015635,
      -0.008423,
      0.004957,
      -0.019724,
      -0.060259,
      0.015246,
      0.016362,
      0.005625,
      0.018522,
      -0.009612,
      -0.010497,
      0.01625,
      -0.012031,
      -0.012261,
      -0.031269,
      -0.01628,
      -0.020101,
      -0.004465,
      0.003967,
      0.029477,
      -0.003524,
      -0.054275,
      -0.042401,
      -0.034477,
      0.022444,
      0.002122,
      0.022649,
      0.00082,
      0.059812,
      0.023151,
      0.013297,
      -0.011774,
      -0.023252,
      0.030159,
      0.057243,
      -0.009197,
      -0.054003,
      0.000745,
      -0.05744,
      -0.008443,
      0.028725,
      -0.045345,
      -0.027696,
      -0.002759,
      -0.033075,
      -0.003497,
      0.015382,
      -0.052818,
      0.046781,
      0.03631,
      -0.000302,
      0.03345,
      -0.005287,
      -0.043316,
      -0.047284,
      0.062538,
      -0.02671,
      -0.03388,
      -0.031778,
      -0.018702,
      -0.056132,
      0.027046,
      -0.030504,
      0.037392,
      -0.02029,
      0.011225,
      0.002208,
      -0.016667,
      0.048734,
      -0.016148,
      -0.016995,
      -0.042913,
      -0.060899,
      0.024705,
      0.015545,
      -0.017134,
      -0.000873,
      -0.038852,
      -0.042035,
      -0.038179,
      -0.024489,
      0.042362,
      0.197541,
      0.048222,
      0.025162,
      -0.078878,
      -0.000061,
      -0.005186,
      0.025775,
      0.085762,
      0.014904,
      -0.022189,
      -0.022305,
      -0.003395,
      -0.027052,
      -0.044618,
      0.007274,
      -0.04627,
      -0.045676,
      -0.023267,
      0.099186,
      0.001417,
      0.020732,
      -0.025777,
      0.045239,
      0.037197,
      -0.045448,
      -0.020326,
      -0.025802,
      0.017529,
      0.014653,
      0.013273,
      -0.050806,
      -0.015507,
      0.059153,
      -0.012233,
      -0.01535,
      -0.016715,
      -0.03077,
      -0.056296,
      -0.015562,
      0.014551,
      -0.044763,
      -0.044143,
      0.018912,
      -0.022683,
      0.013433,
      0.020387,
      0.011674,
      0.006317,
      0.008219,
      -0.01137,
      -0.004845,
      -0.015591,
      0.020523,
      -0.002337,
      -0.010729,
      -0.023698,
      -0.050641,
      -0.018654,
      -0.040014,
      0.025147,
      0.052355,
      -0.025256,
      -0.019655,
      0.022086,
      -0.034748,
      0.020379,
      0.03932,
      -0.033723,
      -0.000659,
      0.045809,
      0.022805,
      0.035129,
      -0.02924,
      -0.006744,
      0.025517,
      -0.006614,
      0.035895,
      0.004068,
      0.02715,
      0.034812,
      -0.038029,
      -0.020421,
      -0.02783,
      0.034686,
      -0.000985,
      0.014526,
      -0.001761,
      0.002432,
      0.003844,
      -0.061636,
      -0.015061,
      0.032469,
      -0.020533,
      0.00347,
      -0.052454,
      -0.00952,
      -0.010221,
      0.003958,
      -0.046391,
      -0.040344,
      0.014288,
      -0.019045,
      0.020208,
      -0.047717,
      0.039117,
      -0.044038,
      -0.010993,
      0.016716,
      -0.001213,
      0.003061,
      -0.026536,
      0.038416,
      0.012302,
      0.029745,
      0.0501,
      -0.004504,
      0.037756,
      -0.001891,
      0.026863,
      -0.007437,
      -0.020467,
      0.04249,
      0.017033,
      0.038343,
      0.012171,
      -0.05265,
      0.003728,
      0.04716,
      0.005189,
      0.04465,
      0.012814,
      -0.058223,
      -0.094608,
      0.036125,
      0.024294,
      0.019842,
      0.033232,
      0.021548,
      -0.014023,
      -0.031811,
      0.00283,
      -0.039398,
      -0.038833,
      -0.039703,
      -0.021557,
      0.049845,
      -0.028991,
      0.001362,
      -0.013759,
      0.023181,
      0.038442,
      0.007791,
      -0.00693,
      -0.074452,
      0.001916,
      -0.035051,
      -0.016768,
      0.038821,
      -0.040703,
      -0.021868,
      -0.02164,
      0.056676,
      -0.002254,
      0.021655,
      0.035845,
      0.063325,
      0.017145,
      0.001778,
      -0.011153,
      -0.032342,
      -0.013612,
      -0.031815,
      -0.048797,
      0.062808,
      0.015107,
      -0.059101,
      0.005264,
      0.01135,
      -0.004949,
      -0.00524,
      -0.010524,
      -0.021482,
      -0.024474,
      0.018865,
      -0.009019,
      0.020462,
      -0.004218,
      -0.017651,
      -0.059595,
      -0.020035,
      -0.002786,
      0.095529,
      0.027807,
      -0.006684,
      0.014974,
      -0.041219,
      0.032123,
      0.022317,
      0.027988,
      -0.001712,
      -0.024103,
      0.027302,
      0.006662,
      -0.045755,
      0.02982,
      0.026434,
      -0.010034,
      0.084159,
      -0.039382,
      -0.031097,
      0.030599,
      0.013212,
      -0.035196,
      -0.020755,
      -0.043824,
      0.008562,
      0.086361,
      0.02745,
      -0.024375,
      -0.027915,
      -0.042159,
      -0.019522,
      0.011753,
      -0.02054,
      -0.029297,
      0.012928,
      0.036111,
      0.045138,
      0.00486,
      -0.0055,
      -0.004604,
      0.015626,
      -0.002814,
      -0.002496,
      -0.004034,
      0.001824,
      0.037814,
      0.015416,
      -0.018939,
      -0.047827,
      0.016969,
      0.028623,
      -0.002564,
      0.063444,
      -0.017025,
      -0.025454,
      0.016055,
      -0.052251,
      -0.01444,
      0.017854,
      -0.026692,
      0.00333,
      0.016357,
      0.008227,
      -0.010085,
      -0.025878,
      0.040873,
      -0.006581,
      0.005921,
      -0.03255,
      -0.007474,
      0.026406,
      -0.006348,
      -0.010124,
      -0.041921,
      -0.002648,
      -0.006378,
      -0.025362,
      0.015912,
      0.003951,
      0.007813,
      -0.009292,
      -0.040521,
      -0.095976,
      0.030771,
      0.004883,
      -0.036879,
      -0.014061,
      0.036331,
      0.042198,
      -0.017201,
      0.021927,
      0.016606,
      0.047905,
      0.005925,
      0.026482,
      0.00276,
      0.050813,
      0.027886,
      -0.011139,
      0.027733,
      -0.014017,
      -0.062147,
      -0.008516,
      -0.035979,
      0.01282,
      0.013785,
      0.039433,
      -0.017586,
      -0.018949,
      -0.007894,
      -0.008237,
      0.030761,
      -0.056178,
      0.008456,
      0.027759,
      0.046093,
      -0.062373,
      0.038302,
      0.010494,
      -0.006158,
      -0.018667,
      0.010139,
      -0.035274,
      0.039192,
      -0.058404,
      0.054595,
      -0.022308,
      0.020287,
      -0.03858,
      0.022635,
      0.004089,
      -0.022442,
      0.016518,
      -0.031924,
      -0.010333,
      0.012307,
      -0.016138,
      -0.017657,
      -0.014189,
      -0.040648,
      0.00397,
      -0.020393,
      -0.026009,
      0.033188,
      0.014045,
      0.057733,
      -0.003136,
      0.013711,
      0.001154,
      -0.062343,
      -0.00532,
      0.080098,
      -0.056109,
      0.044393,
      -0.009248,
      0.002566,
      0.022474,
      0.000158,
      -0.001449,
      -0.030489,
      0.017941,
      -0.043496,
      -0.011487,
      -0.001257,
      0.013201,
      -0.002895,
      0.026392,
      0.017312,
      -0.018448,
      -0.049836,
      0.025542,
      -0.006221,
      -0.002689,
      -0.028844,
      -0.001397,
      0.01384,
      -0.054677,
      -0.012983,
      -0.033372,
      -0.024825,
      0.048097,
      0.011694,
      0.008278,
      -0.013817,
      0.019795,
      0.025944,
      -0.019401,
      0.008364,
      0.025136,
      -0.002868,
      0.008182,
      -0.004347,
      0.004511,
      -0.002378,
      -0.02562,
      -0.019298,
      0.026413,
      0.058951,
      0.022749,
      0.016198,
      -0.004843,
      -0.013697,
      -0.040807,
      -0.136584,
      0.01946,
      -0.013927,
      -0.017627,
      -0.02906,
      0.004377,
      -0.041807,
      -0.011531,
      0.019351,
      -0.029074,
      0.004853,
      0.021192,
      0.026437,
      -0.004795,
      -0.032964,
      0.004945,
      0.003881,
      0.009262,
      0.038116,
      0.019148,
      0.044398,
      -0.008013,
      0.001586,
      0.010278,
      -0.018522,
      0.010822,
      -0.03365,
      0.0106,
      -0.0346,
      -0.006317,
      0.033573,
      -0.001201,
      -0.009735,
      0.01487,
      0.046508,
      0.025162,
      0.005608,
      -0.030423,
      0.030306,
      0.061487,
      -0.000832,
      -0.002951,
      -0.030043,
      0.038915,
      0.064864,
      0.037296,
      0.014631,
      0.00499,
      0.001574,
      0.009989,
      -0.013256,
      0.017687,
      0.028485,
      0.046525,
      -0.004417,
      -0.028339,
      -0.034907,
      -0.009827,
      0.00623,
      0.010443,
      -0.076609,
      0.0333,
      0.009648,
      -0.052768,
      0.000065,
      0.033574,
      -0.048705,
      0.000751,
      -0.023717,
      0.028031,
      -0.019504,
      -0.017763,
      -0.017277,
      -0.010646,
      0.007309,
      0.00276,
      0.017801,
      0.013402,
      -0.02006,
      -0.010854,
      -0.03299,
      0.024707,
      0.005659,
      0.028519,
      -0.00612,
      0.006689,
      -0.021507,
      0.001926,
      -0.075799,
      -0.015702,
      -0.051942,
      -0.00926,
      0.02495,
      0.012177,
      0.000805,
      0.043534,
      -0.012855,
      -0.001646,
      -0.025269,
      0.00049,
      -0.047901,
      -0.015256,
      -0.009275,
      -0.025318,
      -0.011315,
      0.047719,
      -0.010942,
      -0.009351,
      0.018445,
      -0.022514,
      0.041967,
      -0.00766,
      -0.022609,
      0.009956,
      -0.0578,
      -0.010195,
      -0.008315,
      0.049401,
      -0.013746,
      -0.012556,
      0.033801,
      0.007412,
      0.057792,
      -0.036064,
      0.019101,
      0.009264,
      0.008719,
      -0.014504,
      -0.002905,
      0.047752,
      0.01145,
      -0.013993,
      0.03526,
      0.04009,
      0.01122,
      -0.01476,
      -0.080362,
      0.029649,
      -0.022734,
      -0.013096,
      -0.021628,
      -0.020147,
      -0.020284,
      -0.015621,
      0.002421,
      -0.046391,
      0.031122,
      0.028655,
      -0.037743,
      0.034741,
      -0.042657,
      -0.001937,
      -0.003984,
      0.021485,
      -0.002636,
      0.034098,
      0.028785,
      -0.018279,
      -0.012892,
      0.024421,
      -0.007489,
      -0.038232,
      -0.038868,
      -0.03349,
      -0.009804,
      0.006877,
      0.011412,
      -0.007199,
      -0.0092,
      0.004718,
      -0.007438,
      0.086413,
      -0.012809,
      -0.063217,
      0.011801,
      0.017672,
      0.019801,
      0.00861,
      0.006034,
      0.009789,
      0.026607,
      -0.012144,
      0.051986,
      0.077882,
      0.043538,
      0.020881,
      -0.007921,
      0.002518,
      -0.012711,
      0.024335,
      0.009474,
      -0.011327,
      -0.04027,
      0.02168,
      0.003721,
      0.022333,
      -0.009657,
      -0.014344,
      0.025965,
      0.020911,
      -0.028613,
      0.007043,
      -0.043893,
      0.00837,
      -0.0334,
      -0.027863,
      -0.072065,
      -0.008566,
      -0.004819,
      -0.001597,
      -0.005179,
      -0.015519,
      0.013606,
      -0.013777,
      0.021405,
      -0.036207,
      -0.024642,
      0.022368,
      -0.044036,
      0.033837,
      0.076276,
      0.046485,
      -0.033735,
      -0.030551,
      -0.030025,
      0.044584,
      -0.063698,
      0.0139,
      -0.015756,
      -0.00357,
      0.028358,
      -0.053111,
      -0.012656,
      0.014031,
      -0.005934,
      -0.013376,
      0.016117,
      -0.002085,
      0.004234,
      -0.030937,
      0.029,
      0.024319,
      -0.0058,
      0.017944
    ]
  },
  {
    "id": "v5-_discord-0",
    "content": "# Discord\nBreadcrumb: Discord\nCovers: Application client and secret\nTopics: application, get, remove, authentication, authorization, jwt, oauth, discord, http, client, declarations, cli, users\n\n## Application client and secret\n\nThe client id (App ID) and secret can be found [here](https://discord.com/developers/applications/):\n\nNow add this to your src/authentication.ts:\n\n```ts\nimport {OAuthProfile, OAuthStrategy} from \"@feathersjs/authentication-oauth\";\nimport {AuthenticationRequest} from \"@feathersjs/authentication\";\nimport axios, {AxiosRequestConfig} from 'axios'\nimport {ServiceAddons} from '@feathersjs/feathers';\nimport {AuthenticationService, JWTStrategy} from '@feathersjs/authentication';\nimport {LocalStrategy} from '@feathersjs/authentication-local';\nimport {oauth} from '@feathersjs/authentication-oauth';\nimport {Application} from './declarations';\n\n\nexport default function (app: Application) {\n  const authentication = new AuthenticationService(app);\n\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('discord', new DiscordStrategy());\n\n  app.use('/authentication', authentication);\n  app.configure(oauth());\n}\n\nexport class DiscordStrategy extends OAuthStrategy {\n  async getProfile(authResult: AuthenticationRequest) {\n    // This is the OAuth access token that can be used\n    // for Discord API requests as the Bearer token\n    const accessToken = authResult.access_token;\n    const userOptions: AxiosRequestConfig = {\n      method: 'GET',\n      headers: {'Authorization': `Bearer ${accessToken}`},\n      url: `https://discord.com/api/users/@me`,\n    };\n    const {data} = await axios(userOptions);\n    return data;\n  }\n\n  async getEntityData(profile: OAuthProfile) {\n    // `profile` is the data returned by getProfile\n    const baseData = await super.getEntityData(profile);\n\n    if (profile.avatar == null) {\n      profile.avatar = 'https://cdn.discordapp.com/embed/avatars/0.png'\n    } else {\n      const isGif = profile.avatar.startsWith('a_');\n      profile.avatar = `https://cdn.discordapp.com/avatars/${profile['id']}/${profile['avatar']}.${isGif ? 'gif' : 'png'}`\n    }\n\n    return {\n      ...baseData,\n      username: profile.username,\n      email: profile.email,\n      avatar: profile.avatar,\n    };\n  }\n}\n```\n\nIf you don't need the avatar then you can simply remove the lines of code.\nIf the user doesn't have an avatar then we will set it to Discord's default avatar.",
    "rawContent": "## Application client and secret\n\nThe client id (App ID) and secret can be found [here](https://discord.com/developers/applications/):\n\nNow add this to your src/authentication.ts:\n\n```ts\nimport {OAuthProfile, OAuthStrategy} from \"@feathersjs/authentication-oauth\";\nimport {AuthenticationRequest} from \"@feathersjs/authentication\";\nimport axios, {AxiosRequestConfig} from 'axios'\nimport {ServiceAddons} from '@feathersjs/feathers';\nimport {AuthenticationService, JWTStrategy} from '@feathersjs/authentication';\nimport {LocalStrategy} from '@feathersjs/authentication-local';\nimport {oauth} from '@feathersjs/authentication-oauth';\nimport {Application} from './declarations';\n\n\nexport default function (app: Application) {\n  const authentication = new AuthenticationService(app);\n\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('discord', new DiscordStrategy());\n\n  app.use('/authentication', authentication);\n  app.configure(oauth());\n}\n\nexport class DiscordStrategy extends OAuthStrategy {\n  async getProfile(authResult: AuthenticationRequest) {\n    // This is the OAuth access token that can be used\n    // for Discord API requests as the Bearer token\n    const accessToken = authResult.access_token;\n    const userOptions: AxiosRequestConfig = {\n      method: 'GET',\n      headers: {'Authorization': `Bearer ${accessToken}`},\n      url: `https://discord.com/api/users/@me`,\n    };\n    const {data} = await axios(userOptions);\n    return data;\n  }\n\n  async getEntityData(profile: OAuthProfile) {\n    // `profile` is the data returned by getProfile\n    const baseData = await super.getEntityData(profile);\n\n    if (profile.avatar == null) {\n      profile.avatar = 'https://cdn.discordapp.com/embed/avatars/0.png'\n    } else {\n      const isGif = profile.avatar.startsWith('a_');\n      profile.avatar = `https://cdn.discordapp.com/avatars/${profile['id']}/${profile['avatar']}.${isGif ? 'gif' : 'png'}`\n    }\n\n    return {\n      ...baseData,\n      username: profile.username,\n      email: profile.email,\n      avatar: profile.avatar,\n    };\n  }\n}\n```\n\nIf you don't need the avatar then you can simply remove the lines of code.\nIf the user doesn't have an avatar then we will set it to Discord's default avatar.",
    "breadcrumb": "Discord",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/authentication/_discord.md",
    "heading": "Discord",
    "subHeadings": [
      "Application client and secret"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 575,
    "category": "cookbook-authentication",
    "tags": [
      "application",
      "get",
      "remove",
      "authentication",
      "authorization",
      "jwt",
      "oauth",
      "discord",
      "http",
      "client",
      "declarations",
      "cli",
      "users"
    ],
    "embedding": [
      -0.006836,
      0.015211,
      -0.051905,
      -0.001308,
      -0.016494,
      -0.065034,
      0.007489,
      -0.047998,
      0.029301,
      0.01888,
      0.005147,
      -0.040269,
      -0.029034,
      0.000433,
      0.028438,
      0.032005,
      -0.007021,
      -0.007555,
      0.005477,
      0.007226,
      -0.050903,
      0.015456,
      0.017668,
      -0.030056,
      -0.004831,
      -0.019573,
      0.000008,
      -0.028732,
      0.02956,
      -0.005337,
      0.00403,
      -0.012232,
      -0.04403,
      0.005592,
      -0.008998,
      0.024453,
      0.019957,
      0.028161,
      -0.043518,
      0.030055,
      0.000598,
      -0.02523,
      0.014246,
      -0.034182,
      0.02566,
      -0.052657,
      0.024303,
      -0.006917,
      0.012343,
      0.004378,
      -0.049065,
      0.005163,
      0.048089,
      -0.049822,
      0.045146,
      0.054898,
      0.00592,
      0.026093,
      -0.026135,
      -0.005846,
      -0.012721,
      -0.00861,
      -0.025532,
      -0.022469,
      -0.018376,
      0.054359,
      -0.035288,
      -0.021808,
      -0.013389,
      -0.027037,
      -0.003494,
      0.038034,
      -0.084589,
      0.008095,
      -0.048643,
      -0.03424,
      -0.003712,
      0.02394,
      -0.044759,
      0.034452,
      -0.010675,
      0.014214,
      -0.019273,
      0.015038,
      -0.013822,
      0.004258,
      0.00136,
      0.105874,
      0.048072,
      0.025464,
      -0.008742,
      -0.052393,
      0.067341,
      -0.062479,
      0.007543,
      0.011558,
      0.008814,
      -0.016496,
      0.014278,
      0.015808,
      0.00892,
      -0.061185,
      -0.012039,
      -0.029053,
      0.040878,
      0.026224,
      0.0413,
      0.008811,
      0.000308,
      -0.023044,
      -0.030536,
      -0.008205,
      0.019957,
      -0.016726,
      -0.019728,
      -0.006467,
      0.022164,
      -0.011367,
      -0.023757,
      0.014009,
      0.023552,
      0.07176,
      0.00469,
      -0.006703,
      0.024269,
      -0.00164,
      0.002264,
      0.000564,
      0.025407,
      0.033847,
      0.043031,
      -0.040026,
      -0.011461,
      0.004451,
      -0.036062,
      -0.002927,
      0.017252,
      0.050254,
      -0.024784,
      -0.077223,
      0.014008,
      0.012073,
      0.001261,
      -0.047205,
      0.037321,
      -0.010502,
      0.082005,
      0.011997,
      -0.021258,
      -0.003873,
      0.011525,
      -0.02539,
      -0.017489,
      -0.057979,
      -0.015179,
      -0.059968,
      -0.00313,
      0.022751,
      0.061458,
      -0.01433,
      -0.014427,
      0.045325,
      -0.026926,
      0.028488,
      0.037328,
      -0.03732,
      -0.003237,
      -0.022812,
      0.018505,
      -0.057881,
      0.034539,
      0.001185,
      0.002791,
      -0.028113,
      -0.014089,
      0.042007,
      0.019368,
      0.033966,
      0.014625,
      -0.029965,
      -0.03005,
      0.020904,
      -0.034652,
      -0.012504,
      0.001497,
      -0.013257,
      -0.018667,
      0.020171,
      0.000958,
      0.029547,
      -0.025088,
      0.022297,
      -0.016338,
      0.019971,
      -0.039304,
      0.031192,
      0.011913,
      0.001136,
      0.003557,
      -0.02748,
      -0.059732,
      0.014671,
      0.031332,
      -0.019234,
      0.000177,
      -0.014472,
      0.0491,
      -0.025494,
      0.018546,
      -0.075517,
      -0.015967,
      -0.014108,
      0.016065,
      -0.008499,
      -0.062027,
      0.051366,
      0.028839,
      -0.007595,
      -0.038945,
      0.018767,
      -0.000791,
      -0.002381,
      -0.021621,
      -0.008914,
      0.031107,
      -0.003392,
      0.006529,
      -0.003922,
      -0.018271,
      0.039416,
      0.002534,
      -0.013723,
      0.027371,
      -0.029933,
      0.065581,
      -0.028701,
      -0.005659,
      -0.043532,
      -0.023889,
      0.005494,
      -0.034152,
      -0.018823,
      -0.002393,
      0.040965,
      -0.001996,
      0.001751,
      -0.00592,
      0.021577,
      -0.022426,
      -0.041327,
      -0.01028,
      0.001611,
      0.012544,
      0.008761,
      0.040329,
      0.029134,
      0.025408,
      0.006699,
      -0.050153,
      -0.002241,
      -0.00673,
      -0.000441,
      -0.030179,
      0.026398,
      0.00348,
      -0.004164,
      -0.043432,
      0.026249,
      0.009857,
      -0.015619,
      -0.045298,
      0.04247,
      0.011179,
      0.003377,
      -0.009182,
      0.033784,
      0.027035,
      -0.04533,
      0.08455,
      0.033747,
      -0.020117,
      0.005497,
      0.044537,
      0.02141,
      -0.013769,
      0.007327,
      -0.030907,
      -0.015283,
      0.017946,
      -0.03328,
      -0.018977,
      0.04044,
      0.078029,
      0.0034,
      -0.022724,
      -0.0262,
      0.009512,
      -0.132092,
      -0.017876,
      0.032309,
      0.042203,
      -0.007257,
      0.012584,
      -0.070196,
      -0.011937,
      -0.065631,
      0.00082,
      0.005862,
      -0.051944,
      -0.047554,
      -0.059861,
      -0.002013,
      0.000927,
      0.001092,
      0.006962,
      0.022505,
      -0.045207,
      -0.018808,
      -0.065859,
      0.056751,
      -0.004891,
      0.022619,
      0.017504,
      0.018271,
      0.003939,
      -0.037283,
      -0.011939,
      0.02082,
      -0.01627,
      0.011592,
      0.007653,
      -0.031426,
      -0.008458,
      0.022984,
      -0.035756,
      0.028878,
      0.022049,
      0.027768,
      0.016348,
      -0.021575,
      0.016509,
      0.006698,
      0.018451,
      0.036656,
      0.040325,
      -0.009811,
      -0.015674,
      0.011338,
      0.004654,
      -0.009409,
      -0.014248,
      -0.030471,
      0.027732,
      0.027908,
      0.044289,
      0.004979,
      0.020343,
      -0.020815,
      -0.028393,
      0.04753,
      -0.023814,
      -0.003543,
      -0.000485,
      0.020489,
      -0.002675,
      0.018705,
      -0.042829,
      0.013823,
      -0.049943,
      0.015355,
      0.016316,
      0.001667,
      0.009063,
      0.018659,
      -0.039454,
      -0.016749,
      -0.078233,
      -0.017276,
      0.020675,
      -0.003811,
      -0.030894,
      -0.0304,
      -0.058609,
      -0.014122,
      0.002564,
      0.03465,
      0.257516,
      0.032735,
      0.016732,
      -0.007986,
      0.040248,
      -0.035913,
      0.016114,
      0.056097,
      -0.007193,
      0.000266,
      -0.001289,
      0.011839,
      -0.002083,
      -0.011084,
      -0.002351,
      0.021561,
      -0.025274,
      0.045056,
      0.046063,
      -0.022069,
      0.037908,
      -0.012429,
      0.025358,
      0.002966,
      -0.077827,
      0.016717,
      -0.024304,
      0.053336,
      -0.032994,
      0.043674,
      0.008953,
      0.053925,
      0.035851,
      -0.030003,
      -0.045812,
      0.015741,
      -0.002296,
      -0.0419,
      -0.035133,
      0.010815,
      -0.026563,
      -0.025274,
      0.00542,
      -0.011165,
      0.01336,
      -0.0006,
      0.018978,
      0.008799,
      -0.00274,
      -0.018907,
      -0.039199,
      -0.031727,
      -0.006327,
      -0.007379,
      -0.00382,
      -0.022054,
      0.008928,
      -0.018952,
      -0.023214,
      -0.007529,
      0.009233,
      0.01615,
      -0.084484,
      0.055625,
      -0.009645,
      -0.016875,
      0.032571,
      -0.040873,
      -0.015325,
      0.032649,
      -0.030893,
      0.026202,
      0.013809,
      0.029032,
      0.029851,
      0.011537,
      0.033694,
      0.009651,
      -0.0521,
      0.014039,
      0.004036,
      0.001424,
      -0.002798,
      0.04312,
      0.013135,
      0.028598,
      -0.027468,
      0.026436,
      -0.017298,
      -0.024486,
      0.013083,
      -0.00785,
      -0.036182,
      0.003855,
      0.038627,
      0.023599,
      0.023675,
      0.0077,
      -0.035111,
      0.018077,
      0.032993,
      0.031299,
      -0.006303,
      -0.047275,
      0.07126,
      -0.056855,
      0.007378,
      -0.008755,
      -0.012683,
      -0.000758,
      -0.080793,
      -0.001208,
      0.026343,
      -0.025461,
      -0.012755,
      0.046106,
      0.03117,
      -0.026085,
      0.067208,
      0.036252,
      0.03613,
      0.002093,
      -0.056264,
      0.021596,
      0.027771,
      -0.039367,
      -0.038729,
      0.034225,
      -0.008182,
      0.047422,
      -0.006506,
      -0.037055,
      0.030155,
      0.077922,
      0.037043,
      0.003655,
      0.047739,
      0.025108,
      0.020116,
      -0.01375,
      -0.011683,
      -0.005555,
      -0.003755,
      0.023211,
      0.012434,
      0.023106,
      0.001579,
      0.024061,
      -0.01942,
      -0.001432,
      0.035191,
      0.020086,
      0.034709,
      -0.039631,
      -0.011691,
      -0.049428,
      0.001005,
      0.00734,
      0.010331,
      -0.012501,
      -0.007505,
      -0.037083,
      0.02752,
      0.058245,
      -0.010536,
      -0.029505,
      0.004867,
      0.012,
      -0.026017,
      -0.027817,
      0.029878,
      -0.084594,
      -0.031301,
      0.066287,
      -0.012958,
      -0.018932,
      -0.06906,
      0.012337,
      0.006832,
      -0.057795,
      -0.002194,
      -0.008246,
      -0.038505,
      0.008586,
      0.084565,
      0.010432,
      -0.021486,
      -0.016379,
      0.017283,
      -0.026437,
      -0.051446,
      0.082735,
      0.006946,
      -0.007086,
      0.035208,
      -0.04391,
      0.018648,
      0.051648,
      -0.02365,
      0.033613,
      0.016987,
      0.00671,
      -0.010993,
      -0.014389,
      -0.035742,
      -0.012215,
      -0.023846,
      0.002299,
      -0.035864,
      0.022229,
      0.010772,
      0.059476,
      -0.027869,
      -0.004246,
      0.066844,
      -0.020282,
      0.038233,
      0.072742,
      0.011388,
      -0.0163,
      -0.043626,
      0.00895,
      -0.001191,
      -0.055778,
      0.020594,
      -0.002449,
      -0.029194,
      -0.000958,
      -0.027762,
      -0.012005,
      -0.017363,
      0.005311,
      0.010806,
      -0.017956,
      -0.004254,
      -0.018434,
      0.006038,
      0.014473,
      0.061334,
      -0.01185,
      0.06703,
      -0.002624,
      0.010458,
      -0.003586,
      0.004411,
      0.035397,
      -0.032948,
      -0.01739,
      -0.047549,
      0.045361,
      -0.012548,
      -0.031601,
      -0.040219,
      -0.010001,
      0.028372,
      0.066664,
      0.028836,
      -0.021211,
      -0.03304,
      -0.000338,
      -0.039404,
      0.030225,
      -0.005377,
      0.007851,
      -0.017715,
      -0.044493,
      0.021285,
      -0.059698,
      -0.035036,
      -0.015299,
      -0.024855,
      0.032525,
      0.003473,
      0.015164,
      0.011933,
      -0.006056,
      -0.053266,
      0.008264,
      0.003352,
      0.013433,
      -0.049805,
      -0.021963,
      -0.002775,
      0.024648,
      0.023759,
      0.058317,
      -0.00109,
      0.010441,
      -0.022376,
      -0.065904,
      -0.017804,
      -0.017209,
      -0.00052,
      0.022054,
      0.003537,
      -0.026745,
      -0.015396,
      -0.014857,
      0.014773,
      0.019738,
      -0.000454,
      0.009754,
      -0.012701,
      -0.03211,
      0.011997,
      0.027387,
      -0.012448,
      -0.02412,
      0.0031,
      0.024949,
      0.001305,
      -0.062767,
      -0.001605,
      -0.013482,
      0.020985,
      0.001166,
      0.006906,
      -0.006982,
      -0.024137,
      0.001458,
      0.026377,
      0.008655,
      0.003128,
      -0.004268,
      0.017423,
      -0.002219,
      -0.069598,
      -0.019021,
      0.017014,
      0.00928,
      -0.043195,
      0.004936,
      -0.018778,
      -0.054901,
      -0.022444,
      0.023731,
      -0.022217,
      -0.01443,
      0.029082,
      -0.036293,
      -0.017689,
      0.018965,
      0.081292,
      0.001468,
      -0.023019,
      -0.002226,
      -0.009133,
      -0.037441,
      -0.024814,
      0.015705,
      -0.024582,
      0.042467,
      -0.011704,
      -0.016251,
      -0.00142,
      -0.048657,
      -0.009027,
      0.034361,
      0.024362,
      0.043275,
      0.009888,
      0.077243,
      0.01179,
      -0.003215,
      -0.004582,
      -0.01285,
      0.015866,
      -0.014802,
      0.008163,
      0.012719,
      -0.013254,
      0.03721,
      0.00499,
      -0.00986,
      -0.043917,
      0.003687,
      -0.016074,
      0.00854,
      0.003751,
      -0.034021,
      -0.01154,
      -0.023617,
      -0.047939,
      -0.01132,
      0.004477,
      0.001023,
      0.040796,
      0.023368,
      0.017365,
      -0.001045,
      -0.009446,
      0.021624,
      -0.023676,
      0.018471,
      -0.134627,
      0.037689,
      0.004967,
      -0.006552,
      -0.00637,
      0.015927,
      -0.015495,
      -0.02474,
      0.053105,
      -0.047992,
      -0.04383,
      -0.031284,
      0.048384,
      -0.033307,
      0.012224,
      -0.013756,
      -0.003308,
      0.013089,
      -0.033799,
      0.009601,
      -0.014051,
      -0.025887,
      0.049635,
      -0.028603,
      0.02938,
      -0.004677,
      -0.035736,
      0.001795,
      -0.01485,
      0.007249,
      -0.037937,
      0.003269,
      0.006014,
      0.04412,
      -0.016963,
      0.007228,
      -0.008598,
      0.028997,
      -0.01277,
      0.031608,
      -0.015703,
      0.010895,
      -0.046051,
      0.031237,
      0.013896,
      0.06648,
      -0.019716,
      -0.039873,
      -0.026304,
      0.003156,
      -0.00315,
      0.014943,
      0.022364,
      0.006906,
      0.010991,
      -0.028184,
      -0.023116,
      0.004181,
      -0.06065,
      0.016143,
      -0.00809,
      0.031301,
      -0.037364,
      0.000513,
      -0.025057,
      0.056932,
      -0.048596,
      0.039636,
      -0.031604,
      -0.014524,
      0.010515,
      -0.010778,
      -0.033429,
      0.002016,
      0.003513,
      -0.007299,
      0.027633,
      -0.034183,
      -0.026754,
      -0.027759,
      -0.017504,
      -0.012819,
      -0.071198,
      0.061729,
      0.017518,
      0.0107,
      0.005333,
      -0.018331,
      -0.035245,
      -0.029768,
      -0.084621,
      -0.048171,
      0.000364,
      0.054036,
      -0.013318,
      0.0175,
      -0.031525,
      -0.025453,
      0.000091,
      0.002165,
      -0.021275,
      -0.006513,
      0.038364,
      -0.0115,
      -0.034486,
      -0.045399,
      0.021881,
      -0.011767,
      -0.003035,
      -0.015838,
      -0.006637,
      0.012029,
      -0.044533,
      -0.013015,
      -0.039715,
      -0.025121,
      0.016731,
      0.0232,
      -0.009204,
      -0.021903,
      -0.000288,
      0.015895,
      -0.000477,
      -0.028655,
      0.015325,
      0.023939,
      0.051609,
      0.033726,
      0.050957,
      -0.057065,
      0.021844,
      -0.045453,
      -0.018929,
      0.034529,
      0.012241,
      -0.019332,
      -0.032229,
      0.021273,
      -0.032451,
      -0.021392,
      0.004097,
      0.004621,
      0.041909,
      0.001414,
      -0.011062,
      0.007056,
      0.035224,
      0.016589,
      0.039006,
      -0.066685,
      -0.012106,
      0.003826,
      -0.001128,
      0.038664,
      -0.010836,
      0.034575,
      0.004409,
      0.032164,
      0.003338,
      0.030473,
      0.001509,
      -0.012004,
      0.014756,
      -0.012936,
      -0.011658,
      0.005046,
      -0.010653,
      -0.022377,
      0.013882,
      0.029139,
      0.014804,
      0.014725,
      0.000516,
      -0.016436,
      0.052361,
      -0.035926,
      0.002681,
      0.034125,
      0.039597,
      -0.038476,
      0.023013,
      0.004656,
      0.031602,
      0.011537,
      0.049119,
      -0.006319,
      -0.008399,
      0.00781,
      0.002548,
      -0.007639,
      -0.034566,
      0.005167,
      0.025611,
      -0.037783,
      -0.020273,
      -0.045984,
      -0.041916,
      -0.046809,
      -0.028577,
      0.038025,
      0.005437,
      -0.018304,
      -0.026982,
      0.01056,
      -0.011713,
      -0.001765,
      -0.003579,
      -0.013401,
      0.001264,
      0.08412,
      -0.005936,
      -0.034672,
      0.00786,
      0.031872,
      0.021261,
      0.038117,
      0.016461,
      0.004423,
      0.01769,
      -0.021445,
      0.069647,
      0.003566,
      0.037649,
      -0.018505,
      -0.029811,
      -0.020158,
      0.038482,
      0.010776,
      0.021694,
      0.012532,
      -0.030054,
      -0.047558,
      0.003932,
      0.041702,
      0.011487,
      0.007843,
      0.027809,
      0.005807,
      -0.040802,
      0.043082,
      -0.000151,
      0.007669,
      0.025807,
      -0.024831
    ]
  },
  {
    "id": "v5-anonymous-0",
    "content": "# Anonymous authentication\nBreadcrumb: Anonymous authentication\n\n",
    "rawContent": "",
    "breadcrumb": "Anonymous authentication",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/authentication/anonymous.md",
    "heading": "Anonymous authentication",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "cookbook-authentication",
    "tags": [],
    "embedding": [
      0.018544,
      -0.012816,
      0.000935,
      0.030872,
      -0.018681,
      0.031194,
      0.067114,
      0.005487,
      -0.015802,
      0.002744,
      0.004253,
      -0.043858,
      -0.025976,
      -0.017812,
      0.024021,
      0.034438,
      -0.014222,
      -0.014977,
      0.012213,
      -0.023081,
      -0.041104,
      0.007862,
      -0.001597,
      -0.013886,
      -0.028027,
      0.012673,
      0.041538,
      -0.055491,
      -0.043927,
      -0.023678,
      0.019929,
      -0.028423,
      0.033047,
      -0.001141,
      0.021893,
      -0.009385,
      0.006582,
      0.03439,
      -0.054269,
      0.042148,
      -0.0031,
      -0.028738,
      0.012557,
      -0.0859,
      0.006097,
      -0.00652,
      -0.007029,
      -0.020966,
      -0.056286,
      0.013847,
      0.082532,
      0.014859,
      0.065768,
      -0.035521,
      -0.006546,
      0.021618,
      0.040021,
      -0.016766,
      -0.062038,
      -0.030955,
      -0.026353,
      0.009261,
      0.000124,
      0.031948,
      0.009458,
      0.019363,
      -0.012661,
      -0.015182,
      -0.008115,
      -0.029722,
      0.00985,
      0.002315,
      -0.041574,
      0.004176,
      -0.043546,
      0.008613,
      0.037099,
      -0.023401,
      -0.021498,
      0.041743,
      -0.012665,
      0.026721,
      0.015206,
      -0.032028,
      0.0069,
      -0.016339,
      -0.017787,
      -0.000726,
      0.019038,
      -0.001236,
      -0.01404,
      -0.04719,
      0.02616,
      -0.015101,
      -0.030063,
      0.015206,
      -0.017563,
      -0.017529,
      0.026145,
      0.013362,
      0.022778,
      0.008234,
      0.007715,
      -0.006792,
      -0.012698,
      0.017123,
      0.009295,
      0.010288,
      0.041339,
      -0.035232,
      -0.006856,
      0.050566,
      0.041726,
      0.036,
      0.005654,
      -0.018784,
      0.001333,
      -0.036099,
      -0.008178,
      -0.021942,
      0.019832,
      -0.012531,
      0.001293,
      -0.045856,
      0.072529,
      -0.008943,
      0.037946,
      -0.011592,
      -0.016058,
      -0.004109,
      0.025486,
      -0.014998,
      -0.017143,
      0.01986,
      0.012908,
      -0.014625,
      0.002098,
      -0.004633,
      -0.000099,
      -0.034483,
      -0.029433,
      0.015889,
      -0.056086,
      -0.010249,
      0.035852,
      -0.04896,
      -0.000546,
      -0.027398,
      -0.013154,
      -0.006054,
      0.010436,
      -0.012564,
      0.039933,
      -0.002731,
      0.022944,
      -0.024831,
      0.019762,
      0.025343,
      0.068709,
      0.027097,
      -0.002856,
      0.014289,
      0.001792,
      -0.041836,
      0.032347,
      -0.011363,
      -0.000143,
      0.020147,
      -0.007721,
      -0.024074,
      0.013731,
      -0.041796,
      -0.081713,
      -0.023889,
      0.026673,
      0.005333,
      0.0429,
      0.023545,
      0.024988,
      -0.066824,
      -0.042386,
      0.012953,
      -0.040793,
      -0.022355,
      0.038677,
      -0.006739,
      0.009313,
      0.037929,
      -0.004898,
      0.044411,
      -0.021218,
      0.033684,
      -0.009038,
      0.002374,
      -0.012978,
      -0.000677,
      -0.012166,
      -0.0124,
      -0.032741,
      -0.018722,
      -0.002764,
      0.06988,
      -0.002378,
      -0.066949,
      -0.019653,
      -0.002629,
      0.043541,
      -0.013998,
      -0.006207,
      -0.000964,
      -0.003121,
      0.013052,
      -0.003858,
      -0.049882,
      -0.036544,
      -0.013908,
      0.005218,
      -0.032886,
      -0.044574,
      0.006625,
      0.012559,
      0.040526,
      0.018391,
      0.036967,
      0.071689,
      0.007693,
      0.006391,
      -0.03077,
      0.043107,
      0.03572,
      -0.004099,
      -0.021612,
      0.021201,
      0.009188,
      0.020392,
      -0.005729,
      -0.005838,
      0.024561,
      0.007003,
      -0.041085,
      -0.001503,
      -0.046497,
      0.067241,
      0.010169,
      -0.037582,
      -0.026698,
      -0.021967,
      0.02172,
      -0.052552,
      -0.043171,
      -0.002653,
      -0.024114,
      -0.006213,
      0.023392,
      0.004453,
      -0.013774,
      -0.016462,
      -0.024047,
      -0.006876,
      -0.033426,
      0.033541,
      -0.026949,
      -0.025881,
      0.038991,
      0.040685,
      -0.029441,
      -0.006175,
      -0.040839,
      0.018948,
      0.040216,
      -0.015463,
      0.017763,
      0.032511,
      0.027207,
      -0.008775,
      -0.021144,
      -0.054124,
      -0.014505,
      0.100515,
      0.024625,
      0.002557,
      0.004477,
      0.003718,
      -0.003984,
      0.000238,
      -0.026609,
      0.01636,
      -0.029313,
      -0.014231,
      -0.05965,
      0.007039,
      0.000551,
      0.060229,
      -0.005571,
      -0.032408,
      -0.034072,
      -0.003747,
      -0.140144,
      -0.025638,
      0.002585,
      0.031567,
      0.019381,
      0.039313,
      -0.000745,
      0.003881,
      -0.013739,
      0.037585,
      -0.000176,
      -0.050317,
      -0.015494,
      -0.022357,
      0.046369,
      0.023257,
      0.007424,
      0.02238,
      0.026357,
      -0.011441,
      0.020164,
      -0.044576,
      0.023505,
      -0.024286,
      0.026478,
      -0.046165,
      0.071983,
      -0.035807,
      -0.071748,
      -0.046416,
      0.01714,
      -0.008732,
      0.00616,
      0.003077,
      0.033148,
      0.019244,
      -0.00748,
      0.010367,
      0.049928,
      -0.000385,
      0.017145,
      -0.021181,
      -0.0376,
      -0.038462,
      -0.010887,
      -0.042951,
      0.019478,
      0.016204,
      -0.033094,
      -0.016115,
      0.033463,
      -0.041474,
      -0.040207,
      0.012709,
      -0.050384,
      0.028933,
      -0.011602,
      -0.01376,
      -0.005168,
      0.02621,
      -0.040668,
      -0.031916,
      0.034614,
      -0.057413,
      -0.012718,
      -0.032348,
      0.040397,
      -0.032482,
      0.033317,
      -0.049879,
      0.017819,
      -0.06056,
      0.036613,
      -0.010328,
      -0.029202,
      0.009587,
      0.032301,
      0.000766,
      -0.062994,
      -0.097451,
      -0.011256,
      -0.017926,
      -0.039594,
      -0.039188,
      -0.049861,
      -0.034374,
      -0.003366,
      -0.01856,
      0.008095,
      0.202421,
      0.052394,
      -0.023374,
      -0.025485,
      0.061001,
      -0.004826,
      -0.027457,
      0.06441,
      0.001049,
      -0.011752,
      -0.013126,
      0.038359,
      0.027906,
      -0.000805,
      0.005519,
      -0.002327,
      -0.047061,
      0.025351,
      0.090155,
      0.039884,
      0.0147,
      -0.019353,
      0.039066,
      -0.012714,
      -0.056582,
      -0.034976,
      -0.033115,
      0.029187,
      -0.004084,
      -0.003633,
      -0.002239,
      0.035894,
      0.06205,
      -0.028247,
      -0.048057,
      -0.029205,
      -0.026542,
      0.019182,
      -0.008012,
      0.045322,
      -0.0077,
      -0.032544,
      0.005843,
      0.026209,
      -0.036385,
      0.031615,
      0.033834,
      0.025025,
      0.047533,
      -0.050812,
      -0.022523,
      -0.048646,
      -0.034899,
      0.01049,
      0.010922,
      0.005445,
      -0.017069,
      -0.014778,
      -0.040229,
      0.042427,
      0.045374,
      -0.004342,
      -0.060842,
      0.067308,
      0.036782,
      0.083855,
      -0.007106,
      -0.048368,
      0.012331,
      0.064571,
      -0.002068,
      0.031022,
      -0.008095,
      0.018234,
      0.038151,
      0.005665,
      0.072704,
      0.04893,
      -0.036887,
      0.033029,
      0.026882,
      0.019608,
      0.025298,
      0.059496,
      0.002366,
      -0.021082,
      0.013577,
      0.043042,
      0.00893,
      -0.052771,
      -0.033718,
      -0.004501,
      -0.007634,
      0.057796,
      -0.02889,
      0.015403,
      0.014799,
      0.024702,
      -0.013503,
      -0.063603,
      0.01944,
      0.001217,
      0.021236,
      0.011697,
      0.051971,
      -0.020556,
      -0.048,
      -0.006265,
      0.009668,
      0.029362,
      -0.020804,
      0.039302,
      0.013626,
      -0.033471,
      0.014307,
      0.005835,
      0.038155,
      0.005062,
      0.047831,
      0.028589,
      -0.012809,
      -0.006829,
      0.035606,
      -0.002518,
      -0.010638,
      -0.077849,
      -0.00659,
      0.037959,
      -0.038838,
      0.052989,
      0.022518,
      -0.025452,
      -0.004749,
      0.06533,
      0.057694,
      0.003687,
      0.060918,
      0.039203,
      0.019795,
      -0.014759,
      -0.028815,
      0.038977,
      -0.020143,
      -0.022389,
      -0.006017,
      0.008687,
      -0.031518,
      0.003375,
      0.001662,
      0.011205,
      0.048455,
      0.024891,
      0.015048,
      -0.042235,
      0.030007,
      -0.057908,
      -0.02118,
      -0.002437,
      -0.019594,
      -0.030049,
      -0.006949,
      0.0333,
      0.016843,
      0.032936,
      -0.028934,
      0.023491,
      0.047036,
      0.020161,
      -0.028243,
      0.021653,
      0.007133,
      -0.004295,
      -0.065969,
      0.095936,
      -0.006369,
      -0.078852,
      -0.039621,
      -0.045807,
      0.030126,
      0.000411,
      0.002812,
      -0.005343,
      -0.009401,
      -0.016839,
      0.031212,
      0.011802,
      -0.002125,
      -0.027663,
      -0.038584,
      -0.008163,
      0.02026,
      0.047179,
      0.023035,
      0.011172,
      -0.038216,
      0.007218,
      0.005495,
      0.046785,
      0.044529,
      0.019115,
      -0.051369,
      0.006236,
      -0.005742,
      -0.033736,
      -0.028679,
      -0.013024,
      -0.024078,
      0.057577,
      0.006675,
      -0.002386,
      0.001887,
      0.031571,
      -0.012695,
      -0.015651,
      0.001417,
      -0.003506,
      0.038268,
      0.056356,
      -0.0004,
      -0.017617,
      -0.010602,
      -0.026548,
      0.017739,
      -0.000713,
      -0.009188,
      -0.015095,
      0.010312,
      -0.004399,
      -0.027864,
      -0.032596,
      -0.011724,
      -0.03875,
      0.017797,
      -0.041168,
      0.053477,
      0.013414,
      0.031484,
      0.043063,
      -0.000301,
      -0.074977,
      0.04675,
      -0.022959,
      -0.08664,
      0.018254,
      -0.010318,
      0.030412,
      -0.001493,
      -0.008924,
      0.023102,
      -0.006102,
      -0.050115,
      -0.034516,
      0.033583,
      -0.019955,
      0.011083,
      -0.021894,
      0.048207,
      -0.036441,
      -0.01864,
      0.00156,
      -0.032156,
      0.051625,
      0.036203,
      -0.005144,
      0.017431,
      -0.020376,
      0.026024,
      -0.050998,
      -0.034023,
      0.011631,
      -0.018924,
      -0.014643,
      0.02396,
      -0.018376,
      0.0526,
      -0.008215,
      -0.038046,
      -0.014948,
      0.072951,
      0.031432,
      -0.019865,
      0.02398,
      0.025612,
      0.014721,
      -0.01148,
      0.056917,
      -0.050317,
      0.04938,
      0.020025,
      -0.042193,
      0.007406,
      -0.015643,
      -0.087844,
      0.012449,
      -0.045505,
      0.036403,
      0.003845,
      0.058067,
      -0.014965,
      0.007926,
      -0.015188,
      -0.015411,
      -0.006963,
      -0.011632,
      0.002887,
      0.004236,
      0.006322,
      -0.050239,
      0.01084,
      -0.02009,
      0.025716,
      -0.034868,
      -0.028372,
      0.024325,
      -0.013831,
      -0.041383,
      0.051449,
      -0.034112,
      0.04173,
      0.013933,
      0.004632,
      -0.030976,
      -0.041958,
      -0.000913,
      -0.042957,
      0.001937,
      -0.025114,
      0.014144,
      0.020034,
      0.014537,
      -0.040217,
      -0.015101,
      -0.037111,
      0.001809,
      0.040032,
      0.022233,
      0.01945,
      0.002205,
      -0.012826,
      0.019234,
      -0.032017,
      -0.015288,
      0.05978,
      -0.02691,
      -0.001611,
      0.021798,
      -0.052116,
      -0.010851,
      -0.003595,
      -0.007198,
      -0.030731,
      0.005712,
      -0.023858,
      -0.039697,
      0.035804,
      -0.002079,
      0.004726,
      0.04608,
      -0.010877,
      0.038371,
      0.004705,
      0.056356,
      0.003534,
      -0.0075,
      -0.00151,
      0.013066,
      -0.011418,
      0.011296,
      0.044927,
      0.000137,
      -0.041952,
      0.01467,
      0.005915,
      0.035569,
      -0.031492,
      0.015708,
      0.001245,
      -0.068775,
      0.00945,
      -0.015908,
      -0.022702,
      -0.007979,
      -0.040544,
      -0.021299,
      0.059675,
      0.014878,
      -0.015899,
      0.024149,
      0.013927,
      0.018791,
      -0.00117,
      -0.011654,
      -0.00834,
      -0.0183,
      -0.116482,
      -0.004758,
      -0.022004,
      0.009912,
      -0.013944,
      -0.023441,
      -0.033505,
      -0.012622,
      -0.003417,
      -0.057791,
      -0.036684,
      0.017504,
      0.042872,
      0.00589,
      0.001258,
      -0.026131,
      0.016037,
      0.014929,
      -0.028891,
      0.011933,
      0.018339,
      -0.021369,
      0.007054,
      -0.037458,
      -0.042125,
      -0.013283,
      -0.00175,
      0.015201,
      -0.0426,
      0.006719,
      0.008979,
      -0.021617,
      0.011416,
      -0.032886,
      -0.00165,
      -0.00055,
      -0.010718,
      0.033408,
      0.009306,
      0.037044,
      -0.002851,
      0.029193,
      -0.040119,
      -0.007768,
      0.019984,
      0.028697,
      -0.017056,
      -0.031878,
      -0.002052,
      -0.007666,
      -0.026239,
      -0.031471,
      0.019322,
      -0.005938,
      -0.008799,
      0.017211,
      -0.069992,
      0.03128,
      -0.039979,
      0.005563,
      -0.051383,
      0.05101,
      -0.032425,
      -0.010318,
      -0.018717,
      0.058248,
      -0.00951,
      -0.028191,
      -0.00603,
      0.032576,
      -0.008317,
      -0.022179,
      0.006017,
      -0.03183,
      -0.025617,
      -0.001938,
      0.04404,
      -0.025273,
      -0.018225,
      -0.001917,
      -0.017259,
      0.015556,
      -0.027152,
      0.026394,
      0.016654,
      0.036559,
      -0.019256,
      0.010495,
      -0.060734,
      0.006105,
      -0.062466,
      -0.052431,
      0.027732,
      -0.017839,
      0.013512,
      0.015528,
      -0.007768,
      0.021095,
      -0.016679,
      0.003948,
      -0.002685,
      -0.019973,
      0.011874,
      0.003518,
      0.013793,
      0.0112,
      0.017343,
      -0.037936,
      0.023234,
      -0.004855,
      0.027072,
      0.017987,
      0.012728,
      -0.016259,
      -0.014158,
      0.007116,
      0.00737,
      0.035065,
      -0.010489,
      -0.035291,
      0.039837,
      -0.029621,
      0.025555,
      -0.029558,
      0.011912,
      0.026962,
      -0.003718,
      0.023074,
      0.032356,
      -0.006518,
      -0.003875,
      -0.04121,
      0.009565,
      0.034645,
      0.024493,
      -0.068146,
      -0.055427,
      0.027748,
      -0.004546,
      -0.055288,
      -0.028059,
      0.008512,
      -0.019577,
      -0.008735,
      -0.00951,
      -0.033477,
      0.007484,
      -0.007143,
      -0.021304,
      -0.019285,
      -0.002078,
      -0.017926,
      -0.007532,
      0.040318,
      0.01383,
      0.065945,
      -0.031635,
      -0.03858,
      -0.003775,
      0.010404,
      -0.023168,
      0.005701,
      -0.015381,
      -0.013258,
      -0.016483,
      -0.033559,
      -0.015289,
      0.000948,
      -0.036063,
      0.039714,
      0.022332,
      0.051449,
      -0.043167,
      -0.016092,
      0.055081,
      -0.001649,
      0.004458,
      -0.01244,
      0.026465,
      0.008447,
      0.024413,
      0.00414,
      0.051227,
      0.033117,
      0.03594,
      -0.000418,
      -0.002815,
      0.013471,
      0.006536,
      -0.019338,
      -0.020462,
      0.022787,
      -0.007307,
      -0.000435,
      0.030239,
      -0.01328,
      0.004778,
      0.011195,
      0.009666,
      0.04491,
      -0.006578,
      -0.000956,
      -0.001219,
      0.030003,
      -0.022994,
      -0.02719,
      -0.043744,
      -0.023939,
      -0.007124,
      0.034347,
      -0.039819,
      -0.003349,
      -0.003162,
      0.010429,
      0.029023,
      -0.024229,
      0.049129,
      -0.006561,
      0.014936,
      -0.005279,
      0.052969,
      -0.02042,
      0.004604,
      0.01795,
      -0.01881,
      -0.002046,
      -0.025603,
      0.062954,
      0.026981,
      0.002206,
      0.023475,
      -0.033117,
      -0.003893,
      0.016677,
      0.031158,
      0.001089,
      0.01237,
      -0.039316,
      -0.03654,
      -0.024545,
      0.013135,
      0.026866,
      -0.014723,
      -0.004065
    ]
  },
  {
    "id": "v5-apiKey-0",
    "content": "# API Key Authentication\nBreadcrumb: API Key Authentication\n\n",
    "rawContent": "",
    "breadcrumb": "API Key Authentication",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/authentication/apiKey.md",
    "heading": "API Key Authentication",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "cookbook-authentication",
    "tags": [],
    "embedding": [
      0.035052,
      -0.013762,
      0.003447,
      0.032453,
      -0.022336,
      0.025592,
      0.033164,
      0.008017,
      -0.003083,
      -0.011622,
      0.005536,
      -0.061632,
      -0.00944,
      0.005675,
      0.018576,
      0.0451,
      -0.001569,
      0.005046,
      0.012029,
      -0.021611,
      -0.021564,
      0.009272,
      -0.003282,
      -0.033335,
      -0.025417,
      0.01555,
      0.050758,
      -0.058967,
      -0.03881,
      -0.013958,
      0.023914,
      -0.01552,
      -0.005908,
      -0.006525,
      0.005554,
      -0.028534,
      -0.005047,
      0.007374,
      -0.052315,
      0.046652,
      -0.020855,
      -0.04203,
      0.021401,
      -0.075616,
      -0.006352,
      -0.002354,
      -0.024367,
      -0.010311,
      -0.067035,
      0.01203,
      0.071628,
      0.017154,
      0.064912,
      -0.047883,
      -0.013922,
      0.019759,
      0.029706,
      -0.005393,
      -0.089948,
      -0.040915,
      -0.040964,
      -0.005495,
      0.017527,
      0.03699,
      0.004701,
      0.024749,
      -0.009321,
      -0.012203,
      -0.011602,
      -0.030779,
      0.025174,
      0.000074,
      -0.053371,
      0.0129,
      -0.031215,
      0.029442,
      0.023544,
      -0.008992,
      -0.021321,
      0.025824,
      -0.026349,
      0.019299,
      0.029815,
      -0.020002,
      -0.012168,
      -0.042032,
      -0.032511,
      -0.015839,
      0.00907,
      0.009595,
      -0.021367,
      -0.05333,
      0.036141,
      -0.002987,
      -0.024867,
      0.002746,
      0.005669,
      -0.014674,
      0.016517,
      0.017475,
      0.008283,
      -0.001912,
      0.02528,
      0.012036,
      -0.006351,
      0.006858,
      0.021708,
      0.014012,
      0.042371,
      -0.025343,
      -0.007707,
      0.048177,
      0.037504,
      0.054758,
      0.010017,
      -0.020259,
      0.002805,
      -0.032367,
      -0.001578,
      0.000286,
      0.012584,
      0.005829,
      -0.011595,
      -0.041695,
      0.061108,
      -0.029058,
      0.049517,
      -0.013641,
      -0.015639,
      -0.025294,
      0.033736,
      -0.022257,
      -0.027611,
      0.01026,
      0.014626,
      -0.001255,
      0.013493,
      -0.001867,
      -0.006677,
      -0.031755,
      -0.041877,
      0.017255,
      -0.051071,
      0.0059,
      0.045539,
      -0.049781,
      0.011523,
      -0.041404,
      -0.037083,
      0.006226,
      0.001649,
      -0.029084,
      0.039567,
      -0.015428,
      0.039352,
      -0.051169,
      0.000978,
      0.032338,
      0.095772,
      0.011118,
      -0.008872,
      0.00356,
      0.004203,
      -0.031143,
      0.027091,
      -0.007092,
      0.009604,
      0.020461,
      -0.019619,
      -0.019368,
      0.014905,
      -0.02032,
      -0.083975,
      -0.009756,
      0.024196,
      0.009424,
      0.027703,
      0.020709,
      0.044069,
      -0.072584,
      -0.041658,
      0.01282,
      -0.040484,
      -0.037325,
      0.038815,
      0.001143,
      0.024352,
      0.039173,
      0.001395,
      0.033403,
      -0.014907,
      0.034569,
      -0.004143,
      -0.00256,
      -0.019844,
      0.015844,
      -0.008139,
      0.006318,
      -0.019914,
      -0.002561,
      -0.011811,
      0.056031,
      -0.001414,
      -0.055226,
      -0.029232,
      -0.001651,
      0.036243,
      -0.010636,
      -0.003841,
      -0.009909,
      -0.009701,
      0.00003,
      0.001936,
      -0.03319,
      -0.051505,
      -0.022093,
      -0.007297,
      -0.015166,
      -0.012195,
      0.025705,
      0.025178,
      0.040698,
      0.01153,
      0.027764,
      0.059017,
      0.015672,
      -0.011602,
      -0.03074,
      0.033478,
      0.027566,
      -0.008321,
      -0.020367,
      -0.007104,
      0.000063,
      0.022061,
      -0.003647,
      -0.009419,
      0.00585,
      0.029641,
      -0.032782,
      -0.002546,
      -0.048679,
      0.060646,
      0.022436,
      -0.045054,
      -0.024462,
      -0.004775,
      0.032965,
      -0.059813,
      -0.053498,
      0.013374,
      -0.013831,
      -0.027919,
      0.004894,
      -0.022393,
      -0.015648,
      -0.021908,
      -0.025233,
      0.008398,
      -0.026863,
      0.033782,
      -0.011846,
      -0.010397,
      0.02448,
      0.048601,
      -0.015548,
      -0.023278,
      -0.039925,
      0.028704,
      0.038926,
      -0.011365,
      0.008956,
      0.048731,
      -0.008778,
      -0.006277,
      -0.035339,
      -0.046721,
      0.002066,
      0.08494,
      0.039114,
      0.010856,
      -0.003129,
      -0.008068,
      -0.020093,
      0.011814,
      -0.04116,
      -0.006554,
      -0.038072,
      -0.018914,
      -0.054085,
      -0.000068,
      0.00781,
      0.058704,
      -0.012884,
      -0.030193,
      -0.030788,
      0.002304,
      -0.141044,
      -0.024479,
      0.002711,
      0.029627,
      0.015353,
      0.027686,
      -0.023067,
      -0.001938,
      -0.032045,
      0.026861,
      0.033146,
      -0.047861,
      -0.010718,
      -0.022777,
      0.046071,
      0.022131,
      0.008758,
      0.024426,
      -0.000821,
      -0.019075,
      0.044895,
      -0.034663,
      0.014205,
      -0.009015,
      0.016585,
      -0.022462,
      0.0723,
      -0.031825,
      -0.062778,
      -0.036342,
      0.002547,
      -0.0162,
      0.010348,
      0.02052,
      0.021496,
      0.009567,
      -0.000699,
      0.038202,
      0.033261,
      -0.013009,
      0.019245,
      -0.032164,
      -0.020921,
      -0.038289,
      0.006581,
      -0.036744,
      0.025954,
      0.022906,
      -0.023097,
      -0.015668,
      0.01557,
      -0.063328,
      -0.020773,
      0.017352,
      -0.046919,
      0.021536,
      -0.007805,
      0.016133,
      -0.017425,
      0.029625,
      -0.042448,
      -0.044411,
      0.03326,
      -0.041527,
      -0.02897,
      -0.018417,
      0.021165,
      -0.031943,
      0.033773,
      -0.034892,
      0.018296,
      -0.065723,
      0.044104,
      -0.005777,
      -0.017338,
      0.008631,
      0.024688,
      0.009073,
      -0.076249,
      -0.080723,
      -0.016339,
      -0.02163,
      -0.034012,
      -0.042504,
      -0.056342,
      -0.037697,
      -0.005468,
      -0.006396,
      0.006285,
      0.188164,
      0.042223,
      -0.019875,
      -0.013728,
      0.093608,
      0.013108,
      -0.070099,
      0.055959,
      0.015259,
      -0.010106,
      -0.008107,
      0.036937,
      0.007175,
      -0.012589,
      0.005603,
      -0.010817,
      -0.045949,
      0.009443,
      0.081888,
      0.051305,
      0.008069,
      -0.005823,
      0.057908,
      -0.019269,
      -0.073468,
      -0.042858,
      -0.038004,
      0.016566,
      -0.018569,
      0.007864,
      0.012047,
      0.030493,
      0.058036,
      -0.023821,
      -0.04458,
      -0.029103,
      -0.028035,
      0.019224,
      -0.013014,
      0.045482,
      -0.012026,
      -0.027989,
      -0.002818,
      -0.003681,
      -0.039155,
      0.033773,
      0.020634,
      0.021542,
      0.025921,
      -0.047407,
      -0.025543,
      -0.087361,
      -0.023914,
      0.024315,
      0.045695,
      -0.002366,
      -0.004791,
      0.004989,
      -0.019944,
      0.037339,
      0.030639,
      -0.003816,
      -0.045814,
      0.068656,
      0.025789,
      0.066606,
      0.000579,
      -0.033863,
      0.016976,
      0.07078,
      0.006232,
      0.035293,
      0.000175,
      0.001333,
      0.04695,
      -0.023242,
      0.082867,
      0.063044,
      -0.051544,
      0.035595,
      0.009829,
      0.006141,
      -0.003392,
      0.048925,
      0.007081,
      -0.019037,
      0.02087,
      0.033164,
      0.00648,
      -0.054769,
      -0.030345,
      -0.002387,
      -0.00764,
      0.039424,
      -0.043908,
      0.005214,
      0.007356,
      0.005537,
      -0.013986,
      -0.074386,
      0.001793,
      0.015128,
      0.027423,
      -0.024183,
      0.029347,
      -0.038351,
      -0.012679,
      -0.014944,
      0.015443,
      0.033388,
      0.012998,
      0.042821,
      0.004705,
      -0.036456,
      0.005469,
      0.010671,
      0.055922,
      0.001713,
      0.048868,
      0.023223,
      0.004829,
      -0.007016,
      0.038398,
      0.007203,
      -0.003515,
      -0.10589,
      0.001936,
      0.028638,
      -0.040464,
      0.047667,
      0.049548,
      -0.023291,
      0.015001,
      0.017289,
      0.062886,
      -0.001807,
      0.025986,
      0.036953,
      0.002334,
      -0.009366,
      -0.032174,
      0.008727,
      -0.021432,
      -0.05335,
      -0.001106,
      0.006032,
      -0.018889,
      0.010286,
      -0.007338,
      -0.003749,
      0.062519,
      0.016262,
      0.022236,
      -0.04637,
      0.026462,
      -0.070013,
      -0.01245,
      -0.002124,
      -0.011734,
      -0.024677,
      -0.004445,
      0.044984,
      0.02308,
      0.037325,
      -0.021332,
      0.021184,
      0.056089,
      0.007249,
      -0.016511,
      0.040829,
      -0.011733,
      -0.014739,
      -0.062051,
      0.083088,
      0.021087,
      -0.051748,
      -0.027097,
      -0.03556,
      0.027913,
      -0.002813,
      -0.003412,
      -0.00825,
      -0.032836,
      -0.032098,
      0.034354,
      -0.009787,
      0.009511,
      -0.046702,
      -0.047873,
      -0.000878,
      0.013578,
      0.05284,
      -0.003744,
      0.010619,
      -0.014458,
      0.014249,
      -0.013462,
      0.057245,
      0.03218,
      0.021729,
      -0.046053,
      0.036602,
      -0.001069,
      -0.044738,
      -0.025163,
      0.005926,
      -0.003751,
      0.063166,
      0.000164,
      0.015457,
      0.020532,
      0.045487,
      -0.024821,
      -0.005848,
      0.005237,
      -0.005505,
      0.044792,
      0.069083,
      0.008758,
      -0.000469,
      -0.020597,
      -0.023894,
      0.026566,
      0.000226,
      -0.021875,
      0.014002,
      0.031486,
      -0.00688,
      -0.023506,
      -0.012912,
      -0.010397,
      -0.022163,
      0.032003,
      -0.050942,
      0.041837,
      0.012993,
      0.035731,
      0.036928,
      -0.004378,
      -0.068368,
      0.043687,
      -0.030469,
      -0.067224,
      0.016129,
      -0.011328,
      0.017299,
      -0.00147,
      -0.0239,
      0.011984,
      -0.01173,
      -0.035315,
      -0.026059,
      0.029438,
      -0.009043,
      0.026436,
      -0.035474,
      0.050585,
      -0.047054,
      -0.000403,
      0.000617,
      -0.032021,
      0.041326,
      0.019558,
      -0.012423,
      0.01292,
      -0.040867,
      0.008425,
      -0.069091,
      -0.032437,
      0.010778,
      -0.021271,
      -0.023753,
      0.027829,
      -0.026703,
      0.051766,
      0.009938,
      -0.015743,
      -0.023546,
      0.047175,
      0.024126,
      -0.022307,
      0.01786,
      0.003442,
      0.016512,
      -0.003487,
      0.037146,
      -0.040601,
      0.046112,
      0.018099,
      -0.033156,
      0.004757,
      -0.012129,
      -0.058115,
      0.013387,
      -0.038248,
      0.044544,
      0.008984,
      0.040048,
      -0.012496,
      0.012856,
      -0.014642,
      0.00046,
      -0.022598,
      -0.005544,
      0.014948,
      0.00265,
      0.019613,
      -0.034098,
      0.005704,
      -0.015671,
      0.039043,
      -0.018661,
      -0.01332,
      0.024441,
      -0.002917,
      -0.038861,
      0.062844,
      -0.03852,
      0.033988,
      0.009889,
      0.041595,
      -0.015635,
      -0.041553,
      0.018355,
      -0.05307,
      -0.016986,
      -0.016641,
      0.004963,
      0.015725,
      0.023927,
      -0.050495,
      -0.007027,
      -0.018313,
      0.007899,
      0.040537,
      0.054836,
      0.019611,
      -0.004769,
      -0.01035,
      0.018623,
      -0.031374,
      -0.036521,
      0.074804,
      -0.009902,
      0.00085,
      0.021145,
      -0.051678,
      -0.020848,
      -0.027486,
      -0.012725,
      -0.05225,
      0.013778,
      -0.025658,
      -0.040904,
      0.020158,
      -0.001622,
      0.009948,
      0.053568,
      -0.009056,
      0.028254,
      -0.005988,
      0.059667,
      0.011022,
      -0.029422,
      0.000127,
      0.026321,
      -0.013149,
      -0.045361,
      0.015294,
      0.00344,
      -0.039124,
      -0.003553,
      0.016037,
      0.049941,
      -0.021071,
      0.003068,
      0.003961,
      -0.037388,
      0.009355,
      -0.035303,
      -0.026716,
      -0.013129,
      -0.019926,
      -0.030661,
      0.052766,
      -0.010121,
      -0.02808,
      0.010358,
      0.000084,
      0.028481,
      0.016188,
      -0.007721,
      -0.004516,
      -0.019856,
      -0.103837,
      -0.004731,
      -0.027282,
      0.009926,
      -0.013908,
      -0.013985,
      -0.034283,
      -0.019724,
      -0.008704,
      -0.056624,
      -0.042269,
      0.039255,
      0.067747,
      0.015721,
      -0.00004,
      -0.014274,
      0.017118,
      0.017843,
      -0.033856,
      0.015234,
      0.014276,
      -0.008371,
      0.024709,
      -0.038335,
      -0.048185,
      -0.002554,
      0.00501,
      0.014025,
      -0.048582,
      0.005695,
      0.005922,
      -0.03414,
      0.007051,
      -0.029141,
      0.002314,
      -0.012742,
      -0.0165,
      0.034124,
      0.016153,
      0.041502,
      -0.00667,
      0.025311,
      -0.044298,
      -0.007629,
      0.034414,
      0.043744,
      -0.00062,
      -0.035766,
      0.024339,
      -0.011315,
      -0.028436,
      -0.034357,
      0.022222,
      -0.003716,
      0.012675,
      0.011315,
      -0.065759,
      0.000238,
      -0.017316,
      0.021919,
      -0.035464,
      0.069904,
      -0.033928,
      -0.022103,
      0.002381,
      0.056066,
      -0.023942,
      -0.024436,
      0.022871,
      0.041267,
      0.007966,
      -0.015043,
      0.011809,
      -0.015843,
      -0.021317,
      -0.003984,
      0.037056,
      -0.014706,
      -0.011392,
      0.01852,
      -0.033644,
      0.025836,
      -0.03001,
      0.052911,
      0.020969,
      0.039283,
      -0.009942,
      0.022406,
      -0.054191,
      -0.008678,
      -0.041028,
      -0.052479,
      0.02318,
      0.007508,
      -0.005637,
      0.037597,
      -0.00202,
      0.015541,
      -0.000188,
      0.021094,
      0.005382,
      -0.003364,
      -0.000592,
      0.008748,
      0.005243,
      0.002258,
      0.027533,
      -0.025906,
      0.015205,
      -0.015626,
      0.028807,
      0.010597,
      0.002537,
      -0.005987,
      -0.056034,
      0.002402,
      -0.001608,
      0.039321,
      -0.001689,
      -0.024657,
      0.041086,
      -0.008147,
      0.039608,
      -0.025767,
      0.007926,
      0.0112,
      0.012956,
      0.035897,
      0.007905,
      -0.001343,
      -0.001425,
      -0.024186,
      -0.018818,
      0.039642,
      0.022137,
      -0.038096,
      -0.0591,
      0.033229,
      0.001835,
      -0.038921,
      -0.048775,
      0.015437,
      -0.023995,
      -0.021501,
      -0.018505,
      -0.026762,
      0.010678,
      -0.014504,
      -0.029069,
      -0.011887,
      0.010458,
      -0.00834,
      -0.0108,
      0.039588,
      0.027741,
      0.033547,
      -0.036292,
      -0.020853,
      -0.036295,
      0.016822,
      -0.037642,
      0.001307,
      -0.011746,
      -0.017646,
      -0.00581,
      -0.054076,
      -0.022804,
      -0.007166,
      -0.05279,
      0.031486,
      0.0072,
      0.038423,
      -0.03665,
      -0.018277,
      0.066154,
      0.011654,
      0.004819,
      0.008139,
      0.027122,
      0.014314,
      0.021273,
      -0.002267,
      0.043025,
      0.031538,
      0.054458,
      0.000614,
      0.000057,
      -0.003541,
      0.01763,
      -0.046589,
      -0.047891,
      0.012893,
      -0.021617,
      0.021619,
      0.009937,
      0.002493,
      -0.004653,
      0.002073,
      0.001756,
      0.072744,
      0.003031,
      -0.016268,
      -0.01212,
      0.015605,
      -0.003978,
      -0.011513,
      -0.028045,
      -0.018142,
      0.006883,
      0.010847,
      -0.022841,
      -0.003688,
      0.002282,
      -0.005381,
      0.008759,
      -0.039849,
      0.013665,
      0.002127,
      0.00831,
      0.000136,
      0.050992,
      -0.017028,
      0.017754,
      -0.00824,
      -0.019252,
      -0.01011,
      -0.018414,
      0.046733,
      0.014978,
      -0.000411,
      0.031449,
      -0.034233,
      -0.019025,
      -0.00242,
      0.028124,
      0.003773,
      -0.002577,
      -0.039118,
      -0.024205,
      -0.044798,
      0.010548,
      0.036885,
      0.015107,
      0.032348
    ]
  },
  {
    "id": "v5-auth0-0",
    "content": "# Auth0\nBreadcrumb: Auth0\nCovers: Strategy\nTopics: application, params, get, authentication, jwt, oauth, github, auth0, express, types, declarations, login, users\n\n## Strategy\n\nTo use Auth0 in the chat application from the [Feathers guide](../../guides/) we have to do the same modifications as already shown [for the GitHub login in the authentication guide](../../guides/basics/authentication.md).\n\n\n\nIn `src/authentication.ts` like this:\n```ts\nimport { ServiceAddons, Params } from '@feathersjs/feathers';\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication';\nimport { LocalStrategy } from '@feathersjs/authentication-local';\nimport { oauth, OAuthStrategy, OAuthProfile } from '@feathersjs/authentication-oauth';\nimport { Application } from './declarations';\ndeclare module './declarations' {\n  interface ServiceTypes {\n    'authentication': AuthenticationService & ServiceAddons<any>;\n  }\n}\nclass Auth0Strategy extends OAuthStrategy {\n  async getEntityData(profile: OAuthProfile, existing: any, params: Params) {\n    const baseData = await super.getEntityData(profile, existing, params);\n    return {\n      ...baseData,\n      email: profile.email\n    };\n  }\n}\nexport default function(app: Application) {\n  const authentication = new AuthenticationService(app);\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('auth0', new Auth0Strategy());\n  app.use('/authentication', authentication);\n  app.configure(oauth());\n}\n```\n\nIn `src/authentication.js` like this:\n```js\nconst { AuthenticationService, JWTStrategy } = require('@feathersjs/authentication');\nconst { LocalStrategy } = require('@feathersjs/authentication-local');\nconst { expressOauth, OAuthStrategy } = require('@feathersjs/authentication-oauth');\nclass Auth0Strategy extends OAuthStrategy {\n  async getEntityData(profile) {\n    const baseData = await super.getEntityData(profile);\n    return {\n      ...baseData,\n      email: profile.email\n    };\n  }\n}\nmodule.exports = app => {\n  const authentication = new AuthenticationService(app);\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('auth0', new Auth0Strategy());\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n};\n```\n\n\n\nAdditionally, `auth0Id` needs to be included in the data in the users service class.",
    "rawContent": "## Strategy\n\nTo use Auth0 in the chat application from the [Feathers guide](../../guides/) we have to do the same modifications as already shown [for the GitHub login in the authentication guide](../../guides/basics/authentication.md).\n\n\n\nIn `src/authentication.ts` like this:\n```ts\nimport { ServiceAddons, Params } from '@feathersjs/feathers';\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication';\nimport { LocalStrategy } from '@feathersjs/authentication-local';\nimport { oauth, OAuthStrategy, OAuthProfile } from '@feathersjs/authentication-oauth';\nimport { Application } from './declarations';\ndeclare module './declarations' {\n  interface ServiceTypes {\n    'authentication': AuthenticationService & ServiceAddons<any>;\n  }\n}\nclass Auth0Strategy extends OAuthStrategy {\n  async getEntityData(profile: OAuthProfile, existing: any, params: Params) {\n    const baseData = await super.getEntityData(profile, existing, params);\n    return {\n      ...baseData,\n      email: profile.email\n    };\n  }\n}\nexport default function(app: Application) {\n  const authentication = new AuthenticationService(app);\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('auth0', new Auth0Strategy());\n  app.use('/authentication', authentication);\n  app.configure(oauth());\n}\n```\n\nIn `src/authentication.js` like this:\n```js\nconst { AuthenticationService, JWTStrategy } = require('@feathersjs/authentication');\nconst { LocalStrategy } = require('@feathersjs/authentication-local');\nconst { expressOauth, OAuthStrategy } = require('@feathersjs/authentication-oauth');\nclass Auth0Strategy extends OAuthStrategy {\n  async getEntityData(profile) {\n    const baseData = await super.getEntityData(profile);\n    return {\n      ...baseData,\n      email: profile.email\n    };\n  }\n}\nmodule.exports = app => {\n  const authentication = new AuthenticationService(app);\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('auth0', new Auth0Strategy());\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n};\n```\n\n\n\nAdditionally, `auth0Id` needs to be included in the data in the users service class.",
    "breadcrumb": "Auth0",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/authentication/auth0.md",
    "heading": "Auth0",
    "subHeadings": [
      "Strategy"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 573,
    "category": "cookbook-authentication",
    "tags": [
      "application",
      "params",
      "get",
      "authentication",
      "jwt",
      "oauth",
      "github",
      "auth0",
      "express",
      "types",
      "declarations",
      "login",
      "users"
    ],
    "embedding": [
      -0.006115,
      0.019176,
      -0.024368,
      0.010539,
      0.015423,
      -0.038576,
      -0.020909,
      -0.010838,
      -0.002896,
      0.04854,
      -0.004663,
      -0.008298,
      -0.019058,
      -0.012918,
      0.025039,
      0.022309,
      -0.020745,
      0.008934,
      0.039198,
      -0.018589,
      -0.045454,
      0.002125,
      0.028961,
      -0.042364,
      0.003361,
      -0.002586,
      0.010934,
      -0.026395,
      0.021301,
      -0.012761,
      0.033104,
      0.000822,
      -0.02324,
      -0.004006,
      -0.052544,
      -0.003584,
      0.020129,
      0.015025,
      -0.058831,
      0.012649,
      0.007537,
      -0.040109,
      0.011311,
      -0.028369,
      0.001611,
      -0.031578,
      0.005002,
      -0.003515,
      0.006511,
      -0.0096,
      -0.020112,
      -0.002945,
      0.053351,
      -0.035139,
      0.038737,
      0.032518,
      -0.007163,
      -0.009658,
      -0.070362,
      0.007315,
      -0.046291,
      0.013864,
      -0.020151,
      -0.016925,
      -0.00849,
      0.017703,
      -0.023625,
      -0.006799,
      -0.009435,
      0.007803,
      -0.001686,
      0.011685,
      -0.033684,
      0.030296,
      -0.026671,
      -0.01623,
      0.04576,
      0.012282,
      0.019543,
      0.031019,
      -0.035055,
      0.013208,
      0.00681,
      -0.008928,
      0.016422,
      -0.048127,
      -0.001169,
      0.043617,
      0.014345,
      0.055985,
      -0.030437,
      -0.060684,
      0.097135,
      -0.049742,
      0.008392,
      0.000675,
      0.010464,
      -0.005601,
      0.019227,
      0.029636,
      0.003213,
      -0.020541,
      -0.035713,
      -0.025116,
      0.026237,
      0.021504,
      0.048947,
      -0.011595,
      0.004748,
      -0.032058,
      -0.030044,
      0.038116,
      0.039157,
      -0.00922,
      -0.027118,
      -0.013313,
      -0.00426,
      -0.00709,
      -0.010193,
      -0.030991,
      -0.012005,
      -0.001595,
      -0.015839,
      -0.003175,
      -0.007423,
      0.001276,
      -0.020409,
      0.005042,
      0.001263,
      0.004534,
      0.039913,
      -0.088944,
      -0.028543,
      -0.031182,
      -0.03171,
      0.00752,
      0.042166,
      0.022506,
      -0.024431,
      -0.067519,
      -0.009229,
      0.00113,
      -0.036665,
      -0.015653,
      0.057783,
      -0.034412,
      0.045465,
      0.008684,
      -0.001367,
      0.010861,
      0.007268,
      -0.009477,
      -0.011591,
      -0.024154,
      0.011086,
      -0.032493,
      0.000904,
      0.015824,
      0.017662,
      -0.012912,
      -0.040424,
      0.041729,
      -0.042371,
      -0.01484,
      0.025289,
      -0.036792,
      -0.015642,
      -0.068943,
      0.000084,
      -0.039527,
      0.036876,
      0.011455,
      -0.005471,
      -0.027443,
      0.007487,
      0.024173,
      0.060992,
      0.044661,
      0.018001,
      -0.040724,
      -0.056777,
      0.021506,
      -0.005576,
      -0.052824,
      0.014712,
      -0.004967,
      -0.04604,
      -0.017528,
      -0.021214,
      0.033393,
      -0.030549,
      -0.013498,
      0.022572,
      0.015423,
      -0.044921,
      0.011886,
      0.026458,
      0.032381,
      -0.009244,
      0.020389,
      0.010282,
      0.021939,
      0.005876,
      -0.011267,
      -0.00406,
      -0.01125,
      0.024683,
      -0.018552,
      0.021785,
      -0.050047,
      0.001261,
      -0.007038,
      0.004026,
      -0.037839,
      -0.044888,
      0.064237,
      0.01481,
      -0.015296,
      -0.056576,
      0.004611,
      -0.00574,
      0.043267,
      0.026846,
      -0.005761,
      0.045268,
      0.000377,
      0.008343,
      -0.018195,
      0.015741,
      0.009905,
      0.008054,
      0.00705,
      0.028493,
      -0.041131,
      0.049109,
      -0.009697,
      -0.024014,
      0.004786,
      -0.016807,
      -0.001035,
      -0.037395,
      -0.013767,
      0.020953,
      0.034398,
      -0.028038,
      0.015168,
      0.005242,
      0.018476,
      -0.028201,
      -0.017759,
      -0.033462,
      -0.013785,
      -0.040695,
      0.014287,
      0.031566,
      -0.00053,
      0.023641,
      -0.006663,
      -0.042518,
      -0.031116,
      0.030952,
      -0.001509,
      -0.047574,
      0.00531,
      -0.001608,
      -0.009744,
      -0.057617,
      -0.020078,
      0.017198,
      0.012375,
      -0.037477,
      0.02681,
      -0.005801,
      -0.004883,
      -0.009705,
      -0.001133,
      -0.013265,
      -0.05337,
      0.083231,
      0.02289,
      0.016412,
      0.029667,
      0.026613,
      0.037408,
      -0.009649,
      0.019031,
      -0.00303,
      -0.024301,
      0.016826,
      -0.046235,
      -0.004947,
      0.049865,
      0.087451,
      -0.024725,
      -0.007742,
      -0.032188,
      0.007496,
      -0.129578,
      -0.045642,
      0.03926,
      0.021446,
      -0.000037,
      0.012253,
      -0.062723,
      -0.00163,
      -0.054553,
      0.013447,
      0.026256,
      -0.058104,
      0.005031,
      -0.02513,
      0.015778,
      0.028758,
      -0.019946,
      -0.004021,
      0.039502,
      -0.038495,
      -0.014586,
      -0.019932,
      0.02905,
      0.003815,
      0.029394,
      -0.037304,
      -0.00109,
      -0.006538,
      -0.061126,
      -0.009196,
      0.002487,
      -0.014107,
      0.007005,
      -0.004164,
      -0.007071,
      -0.005873,
      0.004612,
      -0.037635,
      0.023346,
      -0.005197,
      0.041691,
      -0.002905,
      -0.001517,
      -0.022984,
      0.004041,
      -0.008646,
      0.036298,
      -0.002319,
      -0.050223,
      0.009795,
      0.024173,
      0.00041,
      -0.041455,
      0.016967,
      -0.035377,
      -0.007196,
      0.040477,
      0.052423,
      0.004392,
      0.014637,
      0.028071,
      -0.000687,
      0.037059,
      -0.001075,
      -0.011677,
      -0.017026,
      0.023193,
      0.021941,
      0.02555,
      -0.050392,
      0.021963,
      -0.049911,
      0.027165,
      0.02225,
      -0.022742,
      0.019826,
      0.060954,
      -0.001784,
      -0.021141,
      -0.089869,
      0.002365,
      0.003887,
      0.008522,
      0.011341,
      -0.033926,
      -0.049088,
      0.010177,
      0.025857,
      0.015551,
      0.245054,
      0.025547,
      -0.007758,
      0.005923,
      0.045015,
      -0.030199,
      0.003829,
      0.058073,
      0.013377,
      -0.006252,
      -0.026926,
      0.016261,
      0.001787,
      -0.009771,
      -0.008994,
      -0.01824,
      -0.045186,
      0.040233,
      0.040053,
      0.001619,
      0.02764,
      -0.025027,
      0.055589,
      -0.002671,
      -0.091838,
      -0.031367,
      0.002329,
      0.045723,
      -0.017282,
      0.038642,
      0.006333,
      0.037759,
      0.01171,
      -0.003435,
      -0.056394,
      0.009897,
      -0.02333,
      -0.040786,
      -0.006003,
      0.023714,
      -0.03314,
      -0.047598,
      0.019995,
      -0.014388,
      0.029183,
      -0.005673,
      -0.002848,
      -0.02052,
      -0.027742,
      -0.024725,
      -0.071539,
      -0.029227,
      -0.043975,
      -0.024817,
      0.006501,
      -0.042517,
      -0.001683,
      -0.005248,
      -0.02645,
      -0.010219,
      0.010527,
      0.003406,
      -0.069171,
      0.063034,
      -0.036006,
      0.021081,
      0.028175,
      -0.045151,
      -0.011349,
      0.043155,
      -0.031454,
      0.037288,
      0.015359,
      0.033831,
      0.024877,
      0.012048,
      0.021798,
      0.028353,
      -0.032128,
      0.045377,
      0.02115,
      0.017777,
      -0.018143,
      0.006752,
      0.009101,
      0.005677,
      0.006906,
      0.028049,
      -0.013717,
      -0.01476,
      0.007861,
      -0.013147,
      0.009276,
      0.033885,
      0.002951,
      0.014746,
      0.03865,
      0.011147,
      0.003733,
      -0.025139,
      0.015594,
      0.035998,
      -0.021582,
      -0.026339,
      0.07814,
      -0.014029,
      -0.003655,
      -0.003102,
      -0.011135,
      0.008539,
      -0.068615,
      0.010647,
      0.029369,
      -0.065759,
      -0.008142,
      0.039673,
      0.036755,
      -0.002004,
      0.029305,
      0.048906,
      0.048887,
      0.027385,
      -0.043729,
      0.0252,
      0.036946,
      -0.061793,
      -0.040756,
      -0.022566,
      -0.052374,
      0.052909,
      0.008854,
      -0.024424,
      0.017833,
      0.081919,
      0.02615,
      -0.001451,
      0.03963,
      0.049453,
      0.049095,
      0.024139,
      -0.052827,
      -0.017669,
      -0.003878,
      -0.001714,
      -0.001781,
      0.013654,
      -0.014212,
      0.017,
      0.003711,
      0.019665,
      0.068622,
      0.024259,
      0.024112,
      -0.02476,
      0.015685,
      -0.049151,
      0.005665,
      0.016127,
      0.007862,
      -0.027691,
      -0.004887,
      -0.016276,
      0.038407,
      0.046655,
      0.014158,
      0.010144,
      -0.002986,
      0.000634,
      -0.03415,
      -0.031898,
      0.014,
      -0.060844,
      -0.062038,
      0.063612,
      0.004788,
      -0.030435,
      -0.072736,
      -0.030551,
      0.006408,
      -0.02801,
      0.014009,
      -0.008774,
      -0.033332,
      -0.016144,
      0.025073,
      0.001017,
      -0.035135,
      -0.006033,
      0.008356,
      -0.037917,
      -0.040508,
      0.083514,
      -0.014074,
      -0.004155,
      0.058851,
      -0.024201,
      0.021087,
      0.023,
      -0.005095,
      0.028528,
      -0.042107,
      0.025818,
      -0.026575,
      -0.031859,
      -0.013872,
      -0.017983,
      -0.012386,
      0.002208,
      -0.019152,
      0.003316,
      0.011539,
      0.006893,
      -0.010828,
      -0.008198,
      0.048171,
      -0.051559,
      0.067919,
      0.079772,
      0.037196,
      -0.037892,
      -0.026445,
      0.002838,
      -0.016644,
      -0.054269,
      0.044814,
      0.018325,
      0.019754,
      0.013842,
      -0.027693,
      0.006249,
      -0.010755,
      0.018867,
      0.026135,
      -0.011449,
      0.026696,
      -0.005854,
      0.014981,
      0.014047,
      0.006368,
      -0.020214,
      0.060067,
      -0.01327,
      0.002527,
      0.018987,
      -0.011751,
      0.034694,
      -0.013667,
      -0.009935,
      -0.025356,
      -0.010046,
      0.01839,
      -0.058989,
      -0.018348,
      -0.033789,
      0.029581,
      0.022685,
      0.03902,
      -0.03472,
      0.013555,
      0.021061,
      -0.027368,
      -0.026507,
      -0.000164,
      -0.006421,
      0.010728,
      -0.096675,
      0.01233,
      -0.046104,
      -0.026587,
      0.009854,
      -0.028621,
      0.03474,
      -0.021352,
      -0.062476,
      0.010211,
      -0.011075,
      -0.039139,
      -0.021921,
      0.01051,
      0.010325,
      -0.04558,
      -0.019935,
      0.030891,
      0.023552,
      -0.014195,
      0.035565,
      0.019319,
      0.011838,
      -0.013337,
      -0.084623,
      -0.004204,
      -0.004348,
      0.000578,
      0.008229,
      -0.026139,
      -0.024306,
      -0.007864,
      0.006866,
      0.011658,
      0.036385,
      0.004758,
      0.01788,
      0.023612,
      0.012397,
      0.047185,
      0.02588,
      -0.00078,
      -0.007003,
      0.007057,
      0.014977,
      0.025316,
      -0.040585,
      -0.023726,
      0.03195,
      0.020204,
      -0.055296,
      0.06285,
      -0.011474,
      -0.005295,
      0.018399,
      0.032378,
      0.006887,
      -0.007345,
      0.022957,
      -0.02198,
      -0.005018,
      0.001571,
      -0.039538,
      -0.01055,
      0.045319,
      -0.028903,
      -0.006333,
      -0.032601,
      -0.051715,
      -0.00009,
      0.003988,
      0.012906,
      -0.018665,
      0.029372,
      -0.004014,
      -0.016823,
      0.002146,
      0.074479,
      -0.006196,
      -0.005574,
      -0.046061,
      -0.024337,
      0.000126,
      -0.027948,
      0.013766,
      0.004608,
      0.027956,
      -0.020991,
      -0.007919,
      0.04821,
      -0.025315,
      -0.052891,
      0.064512,
      0.003756,
      0.026231,
      0.001917,
      0.061226,
      0.008771,
      -0.003354,
      -0.00805,
      0.011735,
      0.020468,
      0.006615,
      -0.010992,
      0.002189,
      -0.046227,
      0.029797,
      -0.01418,
      -0.012292,
      -0.000279,
      0.008612,
      0.000727,
      0.000334,
      0.029671,
      -0.032353,
      -0.014782,
      -0.032662,
      -0.05033,
      0.010983,
      -0.030201,
      0.046807,
      0.060263,
      0.031261,
      0.039134,
      0.008657,
      -0.007617,
      0.010496,
      -0.026463,
      0.036464,
      -0.133242,
      0.007975,
      -0.012192,
      0.014076,
      -0.018614,
      0.003322,
      -0.050767,
      -0.011928,
      0.042414,
      -0.038427,
      -0.017972,
      0.018669,
      0.030806,
      -0.014124,
      0.029923,
      0.008884,
      0.009777,
      -0.015676,
      -0.033722,
      -0.017156,
      -0.023898,
      -0.018989,
      0.022709,
      0.00183,
      -0.012652,
      0.000283,
      -0.034702,
      -0.022768,
      -0.038597,
      0.022601,
      0.003012,
      0.00698,
      0.003998,
      0.013993,
      -0.020987,
      0.013724,
      0.008468,
      0.036955,
      -0.005859,
      0.013169,
      -0.022472,
      0.041951,
      -0.054755,
      0.028701,
      0.026467,
      0.045737,
      -0.044227,
      -0.036775,
      -0.034907,
      -0.009488,
      -0.004163,
      -0.000644,
      -0.001933,
      0.003252,
      0.000744,
      -0.014545,
      0.003786,
      -0.014426,
      -0.076338,
      0.030731,
      -0.015445,
      0.056927,
      -0.057221,
      -0.002921,
      -0.044009,
      0.060852,
      -0.043167,
      -0.006979,
      -0.021785,
      -0.008858,
      0.020437,
      -0.033,
      -0.041001,
      0.031627,
      -0.000347,
      -0.031348,
      0.013519,
      -0.041757,
      -0.035289,
      -0.007046,
      -0.022887,
      -0.013238,
      -0.044542,
      0.071099,
      0.044668,
      0.03565,
      0.015341,
      0.00746,
      -0.035738,
      -0.000967,
      -0.067417,
      -0.057898,
      -0.013734,
      0.017898,
      0.011319,
      -0.009312,
      -0.006422,
      -0.022662,
      0.007228,
      0.037909,
      -0.038371,
      0.020885,
      0.038131,
      -0.016172,
      -0.017888,
      0.010705,
      0.014044,
      -0.000531,
      0.003185,
      -0.010467,
      0.021816,
      0.008672,
      -0.006234,
      0.003452,
      -0.073235,
      0.007095,
      0.02861,
      0.012636,
      -0.024012,
      -0.023015,
      0.015405,
      -0.005014,
      -0.01461,
      -0.014079,
      0.010983,
      0.032008,
      0.044227,
      0.020932,
      0.012029,
      -0.069403,
      0.014756,
      -0.057271,
      -0.011787,
      0.013282,
      0.010251,
      -0.035837,
      -0.080765,
      0.038053,
      -0.022327,
      -0.043983,
      -0.046666,
      -0.019848,
      0.031262,
      -0.002253,
      0.01169,
      0.015396,
      0.030923,
      0.037774,
      -0.045811,
      -0.052508,
      -0.007245,
      0.024936,
      0.004961,
      0.046792,
      0.016198,
      0.023187,
      0.01901,
      0.032538,
      -0.0004,
      0.042639,
      -0.015566,
      -0.028907,
      -0.002936,
      0.002733,
      -0.014945,
      -0.018881,
      -0.026039,
      -0.017888,
      -0.020066,
      0.035124,
      0.015274,
      0.015841,
      -0.024758,
      0.027244,
      0.015511,
      -0.019093,
      -0.000803,
      -0.003439,
      0.075858,
      -0.025055,
      0.018155,
      -0.006619,
      0.055617,
      0.006976,
      0.016808,
      -0.005543,
      0.019996,
      -0.022495,
      0.000636,
      -0.029175,
      -0.05597,
      -0.003998,
      0.00526,
      -0.031814,
      0.021634,
      -0.016668,
      0.012636,
      0.013821,
      -0.02989,
      0.053943,
      0.023224,
      -0.006444,
      -0.001965,
      0.008475,
      0.000165,
      0.018915,
      -0.031689,
      -0.015825,
      0.012547,
      0.081958,
      0.010122,
      -0.029554,
      0.010292,
      0.031173,
      0.016179,
      0.047596,
      0.064909,
      0.006379,
      0.026455,
      -0.052685,
      0.047748,
      -0.02393,
      0.045354,
      -0.020311,
      -0.013678,
      -0.028627,
      0.036996,
      0.020004,
      -0.011019,
      0.018856,
      -0.006659,
      -0.015141,
      -0.030079,
      0.068122,
      0.027698,
      0.024179,
      0.045114,
      0.010943,
      -0.027961,
      -0.042079,
      -0.008273,
      0.016311,
      -0.004316,
      0.012293
    ]
  },
  {
    "id": "v5-facebook-0",
    "content": "# Facebook\nBreadcrumb: Facebook\nCovers: Application client and secret | Getting profile data\nTopics: application, params, get, authentication, authorization, jwt, oauth, facebook, http, express, client, types, declarations, cli, test\n\n## Application client and secret\n\nThe client id (App ID) and secret can be found in the Settings of the [Facebook app](https://developers.facebook.com/apps):\n\n## Getting profile data\n\nThe standard OAuth strategy only returns the default profile fields (`id` and `name`). To get other fields, like the email or profile picture, the [getProfile](../../api/authentication/oauth.md#getprofile-data-params) method of the [OAuth strategy needs to be customized](../../api/authentication/oauth.md#customization) to call the Graph API profile endpoint `https://graph.facebook.com/me` with an HTTP request library like [Axios](https://developers.facebook.com/tools/explorer/) requesting the additional fields.\n\n> __Pro tip:__ Facebook API requests can be tested via the [Graph API explorer](https://developers.facebook.com/tools/explorer/).\n\nThe following example allows to log in with Facebook in the [chat application from the guide](../../guides/index.md):\n\n\n\n```ts\nimport { Params } from '@feathersjs/feathers';\nimport { AuthenticationService, JWTStrategy, AuthenticationRequest } from '@feathersjs/authentication';\nimport { LocalStrategy } from '@feathersjs/authentication-local';\nimport { expressOauth, OAuthStrategy, OAuthProfile } from '@feathersjs/authentication-oauth';\nimport axios from 'axios';\nimport { Application } from './declarations';\ndeclare module './declarations' {\n  interface ServiceTypes {\n    'authentication': AuthenticationService & ServiceAddons<any>;\n  }\n}\nclass FacebookStrategy extends OAuthStrategy {\n  async getProfile (authResult: AuthenticationRequest, _params: Params) {\n    // This is the OAuth access token that can be used\n    // for Facebook API requests as the Bearer token\n    const accessToken = authResult.access_token;\n    const { data } = await axios.get('https://graph.facebook.com/me', {\n      headers: {\n        authorization: `Bearer ${accessToken}`\n      },\n      params: {\n        // There are\n        fields: 'id,name,email'\n      }\n    });\n    return data;\n  }\n  async getEntityData(profile: OAuthProfile, existing: any, params: Params) {\n    // `profile` is the data returned by getProfile\n    const baseData = await super.getEntityData(profile, existing, params);\n    return {\n      ...baseData,\n      email: profile.email\n    };\n  }\n}\nexport default function(app: Application) {\n  const authentication = new AuthenticationService(app);\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('facebook', new FacebookStrategy());\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n}\n```\n\nIn `src/authentication.js`:\n```js\nconst axios = require('axios');\nconst { AuthenticationService, JWTStrategy } = require('@feathersjs/authentication');\nconst { LocalStrategy } = require('@feathersjs/authentication-local');\nconst { expressOauth, OAuthStrategy } = require('@feathersjs/authentication-oauth');\nclass FacebookStrategy extends OAuthStrategy {\n  async getProfile (authResult) {\n    // This is the OAuth access token that can be used\n    // for Facebook API requests as the Bearer token\n    const accessToken = authResult.access_token;\n    const { data } = await axios.get('https://graph.facebook.com/me', {\n      headers: {\n        authorization: `Bearer ${accessToken}`\n      },\n      params: {\n        // There are\n        fields: 'id,name,email,picture'\n      }\n    });\n    return data;\n  }\n  async getEntityData(profile) {\n    // `profile` is the data returned by getProfile\n    const baseData = await super.getEntityData(profile);\n    return {\n      ...baseData,\n      name:  profile.name,\n      email: profile.email\n    };\n  }\n}\nmodule.exports = app => {\n  const authentication = new AuthenticationService(app);\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('facebook', new FacebookStrategy());\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n};\n```\n\n\n\n> __Pro tip:__ [See all available Facebook user options here](https://developers.facebook.com/docs/graph-api/reference/user/).",
    "rawContent": "## Application client and secret\n\nThe client id (App ID) and secret can be found in the Settings of the [Facebook app](https://developers.facebook.com/apps):\n\n## Getting profile data\n\nThe standard OAuth strategy only returns the default profile fields (`id` and `name`). To get other fields, like the email or profile picture, the [getProfile](../../api/authentication/oauth.md#getprofile-data-params) method of the [OAuth strategy needs to be customized](../../api/authentication/oauth.md#customization) to call the Graph API profile endpoint `https://graph.facebook.com/me` with an HTTP request library like [Axios](https://developers.facebook.com/tools/explorer/) requesting the additional fields.\n\n> __Pro tip:__ Facebook API requests can be tested via the [Graph API explorer](https://developers.facebook.com/tools/explorer/).\n\nThe following example allows to log in with Facebook in the [chat application from the guide](../../guides/index.md):\n\n\n\n```ts\nimport { Params } from '@feathersjs/feathers';\nimport { AuthenticationService, JWTStrategy, AuthenticationRequest } from '@feathersjs/authentication';\nimport { LocalStrategy } from '@feathersjs/authentication-local';\nimport { expressOauth, OAuthStrategy, OAuthProfile } from '@feathersjs/authentication-oauth';\nimport axios from 'axios';\nimport { Application } from './declarations';\ndeclare module './declarations' {\n  interface ServiceTypes {\n    'authentication': AuthenticationService & ServiceAddons<any>;\n  }\n}\nclass FacebookStrategy extends OAuthStrategy {\n  async getProfile (authResult: AuthenticationRequest, _params: Params) {\n    // This is the OAuth access token that can be used\n    // for Facebook API requests as the Bearer token\n    const accessToken = authResult.access_token;\n    const { data } = await axios.get('https://graph.facebook.com/me', {\n      headers: {\n        authorization: `Bearer ${accessToken}`\n      },\n      params: {\n        // There are\n        fields: 'id,name,email'\n      }\n    });\n    return data;\n  }\n  async getEntityData(profile: OAuthProfile, existing: any, params: Params) {\n    // `profile` is the data returned by getProfile\n    const baseData = await super.getEntityData(profile, existing, params);\n    return {\n      ...baseData,\n      email: profile.email\n    };\n  }\n}\nexport default function(app: Application) {\n  const authentication = new AuthenticationService(app);\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('facebook', new FacebookStrategy());\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n}\n```\n\nIn `src/authentication.js`:\n```js\nconst axios = require('axios');\nconst { AuthenticationService, JWTStrategy } = require('@feathersjs/authentication');\nconst { LocalStrategy } = require('@feathersjs/authentication-local');\nconst { expressOauth, OAuthStrategy } = require('@feathersjs/authentication-oauth');\nclass FacebookStrategy extends OAuthStrategy {\n  async getProfile (authResult) {\n    // This is the OAuth access token that can be used\n    // for Facebook API requests as the Bearer token\n    const accessToken = authResult.access_token;\n    const { data } = await axios.get('https://graph.facebook.com/me', {\n      headers: {\n        authorization: `Bearer ${accessToken}`\n      },\n      params: {\n        // There are\n        fields: 'id,name,email,picture'\n      }\n    });\n    return data;\n  }\n  async getEntityData(profile) {\n    // `profile` is the data returned by getProfile\n    const baseData = await super.getEntityData(profile);\n    return {\n      ...baseData,\n      name:  profile.name,\n      email: profile.email\n    };\n  }\n}\nmodule.exports = app => {\n  const authentication = new AuthenticationService(app);\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('facebook', new FacebookStrategy());\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n};\n```\n\n\n\n> __Pro tip:__ [See all available Facebook user options here](https://developers.facebook.com/docs/graph-api/reference/user/).",
    "breadcrumb": "Facebook",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/authentication/facebook.md",
    "heading": "Facebook",
    "subHeadings": [
      "Application client and secret",
      "Getting profile data"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 1040,
    "category": "cookbook-authentication",
    "tags": [
      "application",
      "params",
      "get",
      "authentication",
      "authorization",
      "jwt",
      "oauth",
      "facebook",
      "http",
      "express",
      "client",
      "types",
      "declarations",
      "cli",
      "test"
    ],
    "embedding": [
      -0.022927,
      0.027628,
      -0.073762,
      -0.015257,
      -0.014116,
      -0.032887,
      0.022476,
      -0.017857,
      0.022407,
      0.041044,
      0.003147,
      -0.004295,
      -0.002694,
      -0.003804,
      0.007537,
      0.04541,
      -0.009433,
      0.009046,
      0.010944,
      0.001865,
      -0.055451,
      0.023357,
      0.017995,
      -0.060474,
      0.010715,
      0.02421,
      -0.015233,
      -0.035511,
      -0.014681,
      0.003361,
      0.042027,
      -0.020027,
      -0.012031,
      -0.011215,
      -0.025935,
      0.010959,
      -0.000877,
      0.009379,
      -0.056158,
      0.024019,
      0.00471,
      -0.032968,
      0.00865,
      -0.025246,
      0.022206,
      -0.032217,
      0.012345,
      -0.006367,
      -0.004998,
      -0.012916,
      -0.031559,
      0.001187,
      0.046816,
      -0.044996,
      0.049755,
      0.037276,
      0.024375,
      -0.012526,
      -0.032025,
      0.000712,
      -0.022855,
      0.01124,
      -0.019679,
      -0.021984,
      0.001713,
      0.017769,
      -0.036269,
      0.014502,
      -0.017079,
      -0.053518,
      -0.00232,
      0.044887,
      -0.041845,
      0.015868,
      -0.026936,
      -0.016588,
      0.03122,
      0.013524,
      -0.043782,
      0.042978,
      -0.033313,
      0.009963,
      0.011491,
      -0.006429,
      -0.037642,
      -0.042456,
      -0.009232,
      0.062076,
      0.044414,
      0.035468,
      -0.027183,
      -0.037819,
      0.068178,
      -0.06366,
      0.002728,
      -0.005272,
      0.01187,
      -0.026454,
      0.029927,
      0.020261,
      -0.015381,
      0.005998,
      -0.019887,
      -0.02685,
      0.016457,
      0.02907,
      -0.000489,
      0.020268,
      -0.043575,
      -0.033351,
      -0.030535,
      -0.006946,
      0.039217,
      0.019295,
      -0.011219,
      0.012665,
      0.02314,
      -0.012823,
      -0.016418,
      0.012704,
      0.004114,
      0.066408,
      0.024995,
      -0.002748,
      -0.019981,
      -0.019172,
      -0.002171,
      -0.001961,
      0.00012,
      0.030134,
      0.045879,
      -0.039282,
      -0.006843,
      -0.015315,
      -0.051933,
      -0.007418,
      0.034398,
      0.040074,
      -0.024405,
      -0.085419,
      0.029467,
      0.008355,
      0.00192,
      -0.029396,
      0.053455,
      -0.036884,
      0.051215,
      0.006393,
      -0.004127,
      -0.005541,
      -0.008125,
      -0.02925,
      -0.00162,
      -0.024578,
      -0.024481,
      -0.051078,
      0.021889,
      0.007083,
      0.027445,
      -0.019586,
      0.017207,
      0.062251,
      -0.040326,
      -0.027292,
      0.007101,
      -0.026535,
      0.005263,
      -0.040418,
      0.001421,
      -0.056002,
      0.044013,
      0.003171,
      0.007574,
      -0.033078,
      -0.016685,
      0.041328,
      0.077695,
      0.03303,
      -0.007258,
      -0.017645,
      -0.031314,
      0.004939,
      -0.025889,
      -0.022348,
      0.028457,
      -0.029244,
      -0.032779,
      -0.004511,
      -0.005314,
      0.042188,
      -0.022157,
      -0.010096,
      -0.007034,
      0.033096,
      -0.016872,
      -0.000278,
      0.00198,
      0.026409,
      0.007269,
      -0.002841,
      -0.019159,
      0.023867,
      0.055945,
      0.034488,
      0.000566,
      -0.013531,
      0.079786,
      -0.03494,
      0.030991,
      -0.066893,
      -0.01308,
      -0.03116,
      0.00708,
      -0.014619,
      -0.05095,
      0.057665,
      0.041818,
      0.011341,
      -0.021677,
      0.006818,
      0.020826,
      0.022966,
      -0.02836,
      -0.024194,
      0.04279,
      0.012405,
      0.01575,
      -0.014942,
      0.002246,
      -0.032763,
      0.01597,
      0.01994,
      0.016966,
      -0.034989,
      0.027768,
      -0.009796,
      -0.014031,
      -0.036374,
      -0.015004,
      0.016281,
      -0.011619,
      -0.00257,
      -0.01399,
      0.001292,
      -0.007236,
      -0.005892,
      0.00651,
      0.018058,
      -0.033522,
      -0.023159,
      -0.010596,
      0.011487,
      -0.024278,
      0.004165,
      0.026924,
      0.032073,
      0.025099,
      0.002461,
      -0.034787,
      -0.003569,
      0.015178,
      -0.013147,
      -0.034739,
      0.022457,
      -0.019454,
      -0.019175,
      -0.046204,
      -0.014706,
      -0.003627,
      0.006552,
      -0.048104,
      0.020844,
      0.037765,
      -0.008202,
      -0.002601,
      0.019951,
      0.021099,
      -0.063519,
      0.084541,
      -0.008507,
      0.00092,
      0.034135,
      0.043234,
      0.027141,
      0.005032,
      0.003772,
      -0.021048,
      -0.004577,
      0.010461,
      -0.032354,
      -0.02237,
      0.039761,
      0.066685,
      0.003927,
      -0.009495,
      -0.027028,
      0.003315,
      -0.137962,
      -0.032163,
      0.025359,
      0.035698,
      -0.003917,
      0.015588,
      -0.045872,
      -0.018159,
      -0.012765,
      0.048754,
      -0.019824,
      -0.040784,
      -0.058061,
      -0.043529,
      -0.007183,
      0.017169,
      -0.004476,
      0.00447,
      0.029542,
      -0.054007,
      -0.021347,
      -0.069218,
      0.07166,
      0.02171,
      0.010704,
      0.008156,
      0.017071,
      0.018091,
      -0.034551,
      0.012074,
      0.039803,
      -0.020656,
      0.004855,
      0.010148,
      -0.033136,
      0.005734,
      0.000868,
      -0.004986,
      0.035046,
      0.005377,
      0.023257,
      0.006038,
      -0.032326,
      -0.002738,
      0.033269,
      -0.011649,
      0.0197,
      0.035007,
      -0.020015,
      0.000076,
      0.035017,
      -0.020845,
      0.013298,
      0.004509,
      -0.042826,
      -0.008098,
      0.016301,
      0.047205,
      -0.011346,
      0.039405,
      0.008032,
      -0.011192,
      0.025848,
      -0.01848,
      0.034081,
      -0.008917,
      0.016379,
      0.007303,
      0.015856,
      -0.026475,
      0.026065,
      -0.076362,
      -0.008762,
      0.014583,
      -0.020354,
      -0.003501,
      0.015692,
      -0.024216,
      -0.030817,
      -0.083784,
      -0.026576,
      0.008449,
      -0.003873,
      0.006815,
      -0.028323,
      -0.04932,
      0.006455,
      -0.00391,
      0.010112,
      0.255713,
      0.026711,
      0.006903,
      0.012488,
      0.034249,
      -0.032058,
      0.005527,
      0.069955,
      -0.023248,
      0.002066,
      0.005749,
      0.038357,
      0.009492,
      -0.011232,
      -0.006005,
      0.022892,
      -0.046026,
      0.03727,
      0.034867,
      -0.017289,
      0.042416,
      -0.005794,
      0.038712,
      0.013806,
      -0.09684,
      -0.001003,
      -0.033438,
      0.039551,
      -0.02931,
      0.034217,
      -0.035862,
      0.015507,
      0.038717,
      -0.036791,
      -0.064145,
      0.021988,
      -0.005887,
      -0.022399,
      -0.031327,
      0.019483,
      -0.023834,
      -0.037285,
      -0.028331,
      -0.015958,
      0.039661,
      -0.010559,
      -0.005963,
      -0.03075,
      -0.00646,
      -0.034697,
      -0.039706,
      -0.025869,
      -0.006774,
      -0.021022,
      -0.000886,
      -0.00556,
      -0.005842,
      0.026352,
      -0.002193,
      0.002558,
      0.015221,
      0.013872,
      -0.078431,
      0.049063,
      -0.037055,
      -0.01478,
      0.028097,
      -0.064477,
      -0.014626,
      0.011838,
      -0.047686,
      0.031638,
      0.008038,
      0.044292,
      0.03901,
      -0.013289,
      0.052741,
      0.022066,
      -0.035858,
      0.002476,
      0.018602,
      0.025219,
      -0.004253,
      0.037915,
      0.010008,
      0.020457,
      0.00032,
      0.031235,
      -0.014231,
      -0.026556,
      0.010475,
      -0.00725,
      -0.025256,
      0.024845,
      0.012404,
      0.009576,
      -0.001142,
      -0.007753,
      0.027754,
      0.003261,
      -0.017495,
      0.04218,
      -0.013748,
      -0.018108,
      0.084121,
      -0.02839,
      0.016111,
      0.005067,
      0.009467,
      0.007724,
      -0.08399,
      0.004188,
      0.034623,
      -0.042882,
      -0.003404,
      0.050394,
      0.015192,
      -0.005944,
      0.046031,
      0.064289,
      0.022185,
      -0.017814,
      -0.025976,
      0.029355,
      0.003363,
      -0.049468,
      -0.035359,
      -0.039118,
      -0.038985,
      0.055111,
      0.001385,
      -0.029303,
      0.035454,
      0.044466,
      0.024444,
      -0.013409,
      0.047042,
      0.009153,
      0.051022,
      0.028294,
      -0.046357,
      -0.003139,
      0.004623,
      -0.00977,
      -0.006679,
      0.031475,
      -0.002683,
      0.004677,
      0.008843,
      0.000275,
      0.04833,
      0.038409,
      -0.009123,
      -0.01644,
      0.007281,
      -0.038581,
      0.019283,
      0.002907,
      0.002748,
      -0.021959,
      -0.010552,
      -0.034586,
      0.011717,
      0.072404,
      -0.0248,
      -0.015526,
      0.041977,
      0.006008,
      -0.005984,
      -0.038846,
      0.010979,
      -0.069961,
      -0.039632,
      0.054835,
      0.002988,
      -0.000171,
      -0.104389,
      -0.009221,
      -0.015145,
      -0.037402,
      0.01704,
      -0.012793,
      -0.025723,
      0.039004,
      0.047897,
      0.043951,
      -0.01419,
      -0.004754,
      0.006816,
      -0.032155,
      -0.017771,
      0.078005,
      -0.033488,
      -0.016035,
      0.061574,
      -0.019109,
      -0.009172,
      0.055682,
      -0.008975,
      0.030083,
      -0.016337,
      0.002198,
      0.001103,
      -0.036743,
      -0.011845,
      -0.021981,
      -0.02714,
      0.009711,
      -0.020389,
      0.030813,
      0.012179,
      0.068116,
      -0.017043,
      -0.022175,
      -0.000568,
      -0.034405,
      0.031826,
      0.063699,
      -0.003152,
      -0.023064,
      -0.034311,
      -0.005445,
      0.006391,
      -0.032497,
      0.013015,
      0.02896,
      0.019201,
      0.004962,
      -0.03986,
      0.007881,
      -0.014195,
      0.01518,
      0.059151,
      -0.020875,
      -0.00133,
      -0.011813,
      0.000266,
      0.030931,
      0.031708,
      -0.012847,
      0.070925,
      -0.016345,
      0.022379,
      0.005502,
      0.000152,
      0.020877,
      -0.011567,
      0.019115,
      -0.02831,
      0.023209,
      0.003178,
      -0.024416,
      -0.02919,
      -0.011942,
      0.034883,
      0.01706,
      0.022671,
      -0.02131,
      -0.004271,
      0.014095,
      -0.021899,
      0.020388,
      0.012668,
      -0.010635,
      -0.049862,
      -0.073591,
      -0.003245,
      -0.07682,
      -0.055933,
      -0.001692,
      -0.007648,
      0.04096,
      -0.040031,
      -0.015343,
      0.001168,
      -0.022861,
      -0.023801,
      -0.026353,
      -0.008673,
      0.031866,
      -0.034504,
      -0.031428,
      0.013448,
      0.018094,
      0.006513,
      0.033968,
      0.007681,
      0.026376,
      -0.000509,
      -0.082067,
      -0.01336,
      0.000014,
      -0.000296,
      0.006888,
      -0.000027,
      -0.009776,
      -0.038533,
      0.017845,
      -0.009451,
      0.025737,
      -0.000756,
      -0.001773,
      0.006029,
      -0.018464,
      0.014476,
      0.026805,
      -0.019714,
      -0.026372,
      -0.022829,
      -0.002706,
      -0.010983,
      -0.025769,
      0.02004,
      -0.003263,
      0.000002,
      -0.018742,
      0.043321,
      -0.032559,
      -0.007019,
      -0.004088,
      0.070709,
      -0.01022,
      -0.022593,
      -0.027965,
      -0.007667,
      -0.029516,
      -0.058586,
      -0.010231,
      0.007374,
      0.048232,
      -0.02674,
      -0.019669,
      -0.013892,
      -0.037382,
      -0.053752,
      0.033937,
      -0.000027,
      -0.021527,
      0.030649,
      0.014366,
      -0.005638,
      0.020367,
      0.025907,
      -0.005421,
      -0.006058,
      -0.016001,
      0.009308,
      -0.010843,
      -0.034542,
      0.017446,
      -0.034278,
      0.013555,
      -0.028354,
      -0.023305,
      0.033058,
      -0.020598,
      -0.057756,
      0.036348,
      0.038018,
      0.029215,
      -0.000618,
      0.059641,
      0.032646,
      -0.025493,
      -0.01019,
      0.005411,
      0.009366,
      -0.011089,
      -0.000501,
      -0.00929,
      -0.034981,
      0.041238,
      0.041294,
      0.005908,
      -0.033717,
      0.052603,
      -0.018751,
      -0.005062,
      0.005269,
      -0.0622,
      -0.001707,
      -0.006723,
      -0.041934,
      0.003203,
      -0.007998,
      0.002664,
      0.05431,
      0.011555,
      -0.001584,
      0.010932,
      0.014088,
      0.009661,
      -0.023826,
      0.000215,
      -0.150714,
      -0.000558,
      0.00624,
      -0.010627,
      0.007925,
      0.009112,
      -0.027616,
      -0.056237,
      0.034898,
      -0.056317,
      -0.002993,
      -0.057205,
      0.014856,
      -0.032731,
      0.031777,
      0.001654,
      -0.000325,
      -0.02248,
      -0.036992,
      -0.023643,
      -0.013235,
      0.012785,
      0.042061,
      0.017403,
      0.010867,
      -0.030043,
      -0.009877,
      0.004491,
      -0.022775,
      0.004116,
      -0.027732,
      0.005911,
      -0.007468,
      0.027588,
      0.01162,
      -0.00178,
      -0.011826,
      0.029638,
      -0.017078,
      0.025993,
      -0.045662,
      0.036736,
      -0.048337,
      0.031642,
      0.029277,
      0.065822,
      -0.00519,
      -0.045639,
      -0.014411,
      -0.004282,
      -0.000703,
      -0.000615,
      -0.00146,
      0.030643,
      -0.010237,
      -0.01958,
      -0.005399,
      -0.03874,
      -0.086145,
      0.019371,
      -0.00844,
      0.023179,
      -0.042846,
      0.011743,
      -0.012997,
      0.03949,
      -0.050769,
      0.003868,
      -0.010805,
      -0.02532,
      0.024036,
      -0.007996,
      -0.01823,
      0.004233,
      0.016791,
      -0.016728,
      0.042956,
      -0.024558,
      -0.024092,
      -0.017682,
      0.006465,
      -0.009628,
      -0.051114,
      0.07102,
      0.029037,
      0.035168,
      0.011132,
      -0.002849,
      -0.027791,
      -0.023671,
      -0.075957,
      -0.057092,
      0.013721,
      0.04279,
      0.034034,
      0.011075,
      -0.01953,
      -0.020546,
      -0.009038,
      0.003245,
      -0.006697,
      0.00149,
      0.037058,
      0.008541,
      -0.034722,
      -0.021269,
      0.009993,
      0.012067,
      -0.002535,
      -0.013173,
      -0.002543,
      0.019466,
      -0.038636,
      0.011501,
      -0.063728,
      -0.020512,
      0.002414,
      0.019884,
      -0.015799,
      -0.015539,
      -0.007576,
      0.012591,
      0.006378,
      -0.028,
      0.010784,
      0.03522,
      0.05692,
      0.015243,
      0.045545,
      -0.05791,
      0.043068,
      -0.081818,
      0.01867,
      0.008014,
      0.019391,
      -0.034073,
      -0.037434,
      0.025966,
      -0.014967,
      -0.06315,
      -0.013489,
      -0.024405,
      0.041008,
      -0.017348,
      0.016,
      0.015764,
      0.054489,
      0.017086,
      -0.002227,
      -0.045885,
      0.010921,
      -0.018484,
      -0.008637,
      0.044959,
      -0.014915,
      0.034221,
      -0.010477,
      0.023842,
      0.002604,
      0.051945,
      -0.01376,
      -0.032864,
      0.01245,
      -0.015774,
      0.022206,
      -0.022172,
      -0.024131,
      -0.042536,
      -0.01176,
      0.028048,
      0.010623,
      0.035549,
      -0.011264,
      -0.01258,
      0.025253,
      -0.015801,
      0.007316,
      0.011553,
      0.089437,
      -0.009027,
      0.0227,
      0.004515,
      0.038169,
      -0.007975,
      0.020536,
      -0.025371,
      -0.026781,
      0.027447,
      0.029377,
      0.001767,
      -0.020847,
      -0.006441,
      0.009027,
      -0.038425,
      0.040026,
      0.006363,
      -0.024909,
      -0.026798,
      -0.013443,
      0.064557,
      0.010991,
      -0.004193,
      -0.015851,
      -0.007323,
      0.013952,
      0.019792,
      -0.021432,
      -0.005873,
      0.01357,
      0.069662,
      0.004429,
      -0.03629,
      -0.023041,
      0.036957,
      0.035673,
      0.037118,
      0.02987,
      -0.004647,
      0.021802,
      -0.062241,
      0.041267,
      0.002542,
      0.022383,
      -0.010023,
      -0.030135,
      -0.035593,
      0.05903,
      0.008452,
      0.017192,
      -0.008415,
      -0.019062,
      -0.042963,
      0.012729,
      0.051074,
      0.051137,
      0.010548,
      0.011566,
      -0.010911,
      -0.038746,
      -0.028762,
      0.007194,
      0.018267,
      0.018376,
      -0.00177
    ]
  },
  {
    "id": "v5-firebase-0",
    "content": "# Firebase\nBreadcrumb: Firebase\nCovers: Authentation Setup | Authentication Strategy | Building frontend | Create auth page | Initialize client w/Firebase auth\nTopics: hooks, application, params, provider, get, create, update, setup, authentication, jwt, oauth, google, facebook, socket.io, http, express, feathers client, client, configuration, errors, cli, generate, logger, login\n\n## Authentation Setup\n\nUpdate `config/default.json`:\n\n```json\n{\n  \"authentication\": {\n    \"oauth\": {}\n  },\n  \"firebase\": {\n    \"type\": \"THIS SHOULD BE YOUR SERVICE ACCOUNT\",\n    \"project_id\": \"GENERATED UNDER FIREBASE CONSOLE\",\n    \"...\": \"...\"\n  }\n}\n\n```\n> Note: Since Firebase can be used for more than just authentication, we'll store our service account in the root of our config. Otherwise, if preferred, you can store under `authentication.oauth`.\n\n## Authentication Strategy\n\nCreate a file under `src/firebase.js`:\n\n```js\nconst firebase = require('firebase-admin');\nconst { OAuthStrategy } = require('@feathersjs/authentication-oauth');\nconst { NotAuthenticated } = require('@feathersjs/errors');\n\nconst logger = require('./logger');\n\nfunction initialize(app){\n  const firebaseConfig = app.get('firebase');\n\n  // Initialize app\n  try {\n    firebase.initializeApp({\n      credential: firebase.credential.cert(firebaseConfig)\n    });\n  } catch (e) {\n    console.log('erorr initializing firebase', e);\n  }\n}\n\nclass FirebaseStrategy extends OAuthStrategy {\n\n  async authenticate(authentication, params){\n    logger.debug('firebase:strategy:authenticate');\n    return super.authenticate(authentication, params);\n  }\n\n  async getProfile(data, _params){\n    const firebase = require('firebase-admin');\n    let user;\n\n    try {\n      user = await firebase.auth().verifyIdToken(data.access_token);\n    } catch(e){\n      logger.error(e);\n      throw new NotAuthenticated();\n    }\n\n    logger.debug(`firebase:strategy:getProfile:successful ${user.user_id}`);\n\n    return {\n      email: user.email,\n      id: user.user_id\n    };\n  }\n\n  async getEntityData(profile) {\n    const baseData = await super.getEntityData(profile);\n\n    return {\n      ...baseData,\n      email: profile.email\n    };\n  }\n}\n\nmodule.exports = { initialize, FirebaseStrategy };\n```\n\nNow we can edit `src/authentication.js`\n\n```js\nconst { AuthenticationService, JWTStrategy } = require('@feathersjs/authentication');\nconst { expressOauth } = require('@feathersjs/authentication-oauth');\n\nconst { FirebaseStrategy } = require('./firebase');\n\nmodule.exports = app => {\n  const authentication = new AuthenticationService(app);\n\n  authentication.register('firebase', new FirebaseStrategy());\n\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n};\n```\n\n## Building frontend\n\nTo save time, you can leverage the pre-built UI provided by [Firebase UI](https://firebase.google.com/docs/auth/web/firebaseui).\n\n### Create auth page\n\nFirst, create a `public/firebase_auth.html` file that initializes everything we'll need for our different auth components.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Firebase Authentication Example</title>\n  <!-- The core Firebase JS SDK is always required and must be listed first -->\n  <script src=\"https://www.gstatic.com/firebasejs/7.21.0/firebase-app.js\"></script>\n\n  <!-- TODO: Add SDKs for Firebase products that you want to use\n       https://firebase.google.com/docs/web/setup#available-libraries -->\n  <script src=\"https://www.gstatic.com/firebasejs/7.21.0/firebase-auth.js\"></script>\n\n  <!-- Firebase UI -->\n  <script src=\"https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.js\"></script>\n  <link type=\"text/css\" rel=\"stylesheet\" href=\"https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.css\" />\n\n</head>\n<body>\n  <!-- The surrounding HTML is left untouched by FirebaseUI.\n      Your app may use that space for branding, controls and other customizations.-->\n  <h1>Welcome to My Awesome App</h1>\n\n  <!-- Optionally show a preparing state, until the guest or member app is ready. Usually after authentication is determined -->\n  <div id=\"app-preparing\"></div>\n\n  <!-- App for guests to auth, etc. -->\n  <div id=\"app-guest\" style=\"display: none;\">\n    <div id=\"firebaseui-auth-container\"></div>\n    <div id=\"loader\">Loading...</div>\n  </div>\n\n  <!-- App for members only -->\n  <div id=\"app-member\" style=\"display: none;\"></div>\n\n  <!-- Custom -->\n  <script src=\"//unpkg.com/@feathersjs/client@^4.3.0/dist/feathers.js\"></script>\n  <script src=\"/socket.io/socket.io.js\"></script>\n  <script src=\"/client.js\"></script>\n</body>\n</html>\n```\n\n### Initialize client w/Firebase auth\n\nNow, let's make a `public/client.js` file where all of our JavaScript will live.\n\n> Be sure to update `firebaseConfig` with the one provided from your [Firebase Console](https://console.firebase.google.com/). Additionally, checkout [Firebase UI](https://firebase.google.com/docs/auth/web/firebaseui) docs for more information on customizing `ui.start`. This includes theming options, all providers supported by Firebase & more.\n\n\n```js\nlet client, ui;\n\ninit();\n\nfunction init(){\n  initializeFeathers();\n  initializeAuth();\n  initializeFirebase();\n}\n\nfunction initializeFeathers(){\n  // Establish a Socket.io connection\n  const socket = io();\n  // Initialize our Feathers client application through Socket.io\n  // with hooks and authentication.\n  client = feathers();\n\n  client.configure(feathers.socketio(socket));\n  // Use localStorage to store our login token\n  client.configure(feathers.authentication());\n}\n\n// Either re-authenticate existing session, or start Firebase UI\nasync function initializeAuth(){\n  try {\n    await client.reAuthenticate();\n    showMemberApp();\n  } catch(e){\n    // Error re-authenticating, so let's start Firebase UI\n    showGuestApp();\n  }\n\n  // No longer need to prepare anything\n  document.getElementById('app-preparing').style.display = 'none';\n}\n\nfunction initializeFirebase(){\n  // Your web app's Firebase configuration\n  // For Firebase JS SDK v7.20.0 and later, measurementId is optional\n  var firebaseConfig = {\n    // Copy this from your Firebase Console\n    // Under Project Settings -> Web App\n  };\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\n\n  // Initialize the FirebaseUI Widget using Firebase.\n  ui = new firebaseui.auth.AuthUI(firebase.auth());\n}\n\n\nasync function showMemberApp(){\n  // Get user information\n  const { user } = await client.get('authentication');\n\n  // Hide Guest App\n  document.getElementById('app-guest').style.display = 'none';\n\n  // Show member app\n  document.getElementById('app-member').style.display = 'block';\n  document.getElementById('app-member').innerHTML = `Logged in as, ${user.email}. <a href=\"#\" id=\"logout\">Logout</a>`;\n\n}\n\nfunction showGuestApp(){\n  // Hide & clear member app\n  document.getElementById('app-member').style.display = 'none';\n  document.getElementById('app-member').innerHTML = '';\n\n  // Show Guest app\n  document.getElementById('app-guest').style.display = 'block';\n  startFirebaseUI();\n}\n\nfunction startFirebaseUI(){\n  ui.start('#firebaseui-auth-container', {\n    callbacks: {\n      signInSuccessWithAuthResult: function(authResult, redirectUrl) {\n        // User successfully signed in.\n        // Return type determines whether we continue the redirect automatically\n        // or whether we leave that to developer to handle.\n        firebase.auth().currentUser.getIdToken(/* forceRefresh */ true).then(async function(idToken) {\n          await client.authenticate({\n            strategy: 'firebase',\n            access_token: idToken,\n          });\n          showMemberApp();\n        });\n\n        return false;\n      },\n      uiShown: function() {\n        // The widget is rendered.\n        // Hide the loader.\n        document.getElementById('loader').style.display = 'none';\n      }\n    },\n    // Will use popup for IDP Providers sign-in flow instead of the default, redirect.\n    signInFlow: 'popup',\n    credentialHelper: firebaseui.auth.CredentialHelper.NONE, // disable accountchooter.com helper\n    signInOptions: [\n      firebase.auth.EmailAuthProvider.PROVIDER_ID,\n      firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n      firebase.auth.TwitterAuthProvider.PROVIDER_ID,\n    ],\n    // Other config options...\n  });\n}\n\nconst addEventListener = (selector, event, handler) => {\n  document.addEventListener(event, async ev => {\n    if (ev.target.closest(selector)) {\n      handler(ev);\n    }\n  });\n};\n\n// \"Logout\" button click handler\naddEventListener('#logout', 'click', async () => {\n  await client.logout();\n\n  showGuestApp();\n});\n```\n\nNow you should be able to visit your Firebase auth at the\n\n```\nhttp://localhost:3030/firebase_auth.html\n```\n\npage locally and authenticate w/any Firebase Providers you've set up in your Firebase Project ðŸ”¥",
    "rawContent": "## Authentation Setup\n\nUpdate `config/default.json`:\n\n```json\n{\n  \"authentication\": {\n    \"oauth\": {}\n  },\n  \"firebase\": {\n    \"type\": \"THIS SHOULD BE YOUR SERVICE ACCOUNT\",\n    \"project_id\": \"GENERATED UNDER FIREBASE CONSOLE\",\n    \"...\": \"...\"\n  }\n}\n\n```\n> Note: Since Firebase can be used for more than just authentication, we'll store our service account in the root of our config. Otherwise, if preferred, you can store under `authentication.oauth`.\n\n## Authentication Strategy\n\nCreate a file under `src/firebase.js`:\n\n```js\nconst firebase = require('firebase-admin');\nconst { OAuthStrategy } = require('@feathersjs/authentication-oauth');\nconst { NotAuthenticated } = require('@feathersjs/errors');\n\nconst logger = require('./logger');\n\nfunction initialize(app){\n  const firebaseConfig = app.get('firebase');\n\n  // Initialize app\n  try {\n    firebase.initializeApp({\n      credential: firebase.credential.cert(firebaseConfig)\n    });\n  } catch (e) {\n    console.log('erorr initializing firebase', e);\n  }\n}\n\nclass FirebaseStrategy extends OAuthStrategy {\n\n  async authenticate(authentication, params){\n    logger.debug('firebase:strategy:authenticate');\n    return super.authenticate(authentication, params);\n  }\n\n  async getProfile(data, _params){\n    const firebase = require('firebase-admin');\n    let user;\n\n    try {\n      user = await firebase.auth().verifyIdToken(data.access_token);\n    } catch(e){\n      logger.error(e);\n      throw new NotAuthenticated();\n    }\n\n    logger.debug(`firebase:strategy:getProfile:successful ${user.user_id}`);\n\n    return {\n      email: user.email,\n      id: user.user_id\n    };\n  }\n\n  async getEntityData(profile) {\n    const baseData = await super.getEntityData(profile);\n\n    return {\n      ...baseData,\n      email: profile.email\n    };\n  }\n}\n\nmodule.exports = { initialize, FirebaseStrategy };\n```\n\nNow we can edit `src/authentication.js`\n\n```js\nconst { AuthenticationService, JWTStrategy } = require('@feathersjs/authentication');\nconst { expressOauth } = require('@feathersjs/authentication-oauth');\n\nconst { FirebaseStrategy } = require('./firebase');\n\nmodule.exports = app => {\n  const authentication = new AuthenticationService(app);\n\n  authentication.register('firebase', new FirebaseStrategy());\n\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n};\n```\n\n## Building frontend\n\nTo save time, you can leverage the pre-built UI provided by [Firebase UI](https://firebase.google.com/docs/auth/web/firebaseui).\n\n### Create auth page\n\nFirst, create a `public/firebase_auth.html` file that initializes everything we'll need for our different auth components.\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Firebase Authentication Example</title>\n  <!-- The core Firebase JS SDK is always required and must be listed first -->\n  <script src=\"https://www.gstatic.com/firebasejs/7.21.0/firebase-app.js\"></script>\n\n  <!-- TODO: Add SDKs for Firebase products that you want to use\n       https://firebase.google.com/docs/web/setup#available-libraries -->\n  <script src=\"https://www.gstatic.com/firebasejs/7.21.0/firebase-auth.js\"></script>\n\n  <!-- Firebase UI -->\n  <script src=\"https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.js\"></script>\n  <link type=\"text/css\" rel=\"stylesheet\" href=\"https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.css\" />\n\n</head>\n<body>\n  <!-- The surrounding HTML is left untouched by FirebaseUI.\n      Your app may use that space for branding, controls and other customizations.-->\n  <h1>Welcome to My Awesome App</h1>\n\n  <!-- Optionally show a preparing state, until the guest or member app is ready. Usually after authentication is determined -->\n  <div id=\"app-preparing\"></div>\n\n  <!-- App for guests to auth, etc. -->\n  <div id=\"app-guest\" style=\"display: none;\">\n    <div id=\"firebaseui-auth-container\"></div>\n    <div id=\"loader\">Loading...</div>\n  </div>\n\n  <!-- App for members only -->\n  <div id=\"app-member\" style=\"display: none;\"></div>\n\n  <!-- Custom -->\n  <script src=\"//unpkg.com/@feathersjs/client@^4.3.0/dist/feathers.js\"></script>\n  <script src=\"/socket.io/socket.io.js\"></script>\n  <script src=\"/client.js\"></script>\n</body>\n</html>\n```\n\n### Initialize client w/Firebase auth\n\nNow, let's make a `public/client.js` file where all of our JavaScript will live.\n\n> Be sure to update `firebaseConfig` with the one provided from your [Firebase Console](https://console.firebase.google.com/). Additionally, checkout [Firebase UI](https://firebase.google.com/docs/auth/web/firebaseui) docs for more information on customizing `ui.start`. This includes theming options, all providers supported by Firebase & more.\n\n\n```js\nlet client, ui;\n\ninit();\n\nfunction init(){\n  initializeFeathers();\n  initializeAuth();\n  initializeFirebase();\n}\n\nfunction initializeFeathers(){\n  // Establish a Socket.io connection\n  const socket = io();\n  // Initialize our Feathers client application through Socket.io\n  // with hooks and authentication.\n  client = feathers();\n\n  client.configure(feathers.socketio(socket));\n  // Use localStorage to store our login token\n  client.configure(feathers.authentication());\n}\n\n// Either re-authenticate existing session, or start Firebase UI\nasync function initializeAuth(){\n  try {\n    await client.reAuthenticate();\n    showMemberApp();\n  } catch(e){\n    // Error re-authenticating, so let's start Firebase UI\n    showGuestApp();\n  }\n\n  // No longer need to prepare anything\n  document.getElementById('app-preparing').style.display = 'none';\n}\n\nfunction initializeFirebase(){\n  // Your web app's Firebase configuration\n  // For Firebase JS SDK v7.20.0 and later, measurementId is optional\n  var firebaseConfig = {\n    // Copy this from your Firebase Console\n    // Under Project Settings -> Web App\n  };\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\n\n  // Initialize the FirebaseUI Widget using Firebase.\n  ui = new firebaseui.auth.AuthUI(firebase.auth());\n}\n\n\nasync function showMemberApp(){\n  // Get user information\n  const { user } = await client.get('authentication');\n\n  // Hide Guest App\n  document.getElementById('app-guest').style.display = 'none';\n\n  // Show member app\n  document.getElementById('app-member').style.display = 'block';\n  document.getElementById('app-member').innerHTML = `Logged in as, ${user.email}. <a href=\"#\" id=\"logout\">Logout</a>`;\n\n}\n\nfunction showGuestApp(){\n  // Hide & clear member app\n  document.getElementById('app-member').style.display = 'none';\n  document.getElementById('app-member').innerHTML = '';\n\n  // Show Guest app\n  document.getElementById('app-guest').style.display = 'block';\n  startFirebaseUI();\n}\n\nfunction startFirebaseUI(){\n  ui.start('#firebaseui-auth-container', {\n    callbacks: {\n      signInSuccessWithAuthResult: function(authResult, redirectUrl) {\n        // User successfully signed in.\n        // Return type determines whether we continue the redirect automatically\n        // or whether we leave that to developer to handle.\n        firebase.auth().currentUser.getIdToken(/* forceRefresh */ true).then(async function(idToken) {\n          await client.authenticate({\n            strategy: 'firebase',\n            access_token: idToken,\n          });\n          showMemberApp();\n        });\n\n        return false;\n      },\n      uiShown: function() {\n        // The widget is rendered.\n        // Hide the loader.\n        document.getElementById('loader').style.display = 'none';\n      }\n    },\n    // Will use popup for IDP Providers sign-in flow instead of the default, redirect.\n    signInFlow: 'popup',\n    credentialHelper: firebaseui.auth.CredentialHelper.NONE, // disable accountchooter.com helper\n    signInOptions: [\n      firebase.auth.EmailAuthProvider.PROVIDER_ID,\n      firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n      firebase.auth.TwitterAuthProvider.PROVIDER_ID,\n    ],\n    // Other config options...\n  });\n}\n\nconst addEventListener = (selector, event, handler) => {\n  document.addEventListener(event, async ev => {\n    if (ev.target.closest(selector)) {\n      handler(ev);\n    }\n  });\n};\n\n// \"Logout\" button click handler\naddEventListener('#logout', 'click', async () => {\n  await client.logout();\n\n  showGuestApp();\n});\n```\n\nNow you should be able to visit your Firebase auth at the\n\n```\nhttp://localhost:3030/firebase_auth.html\n```\n\npage locally and authenticate w/any Firebase Providers you've set up in your Firebase Project ðŸ”¥",
    "breadcrumb": "Firebase",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/authentication/firebase.md",
    "heading": "Firebase",
    "subHeadings": [
      "Authentation Setup",
      "Authentication Strategy",
      "Building frontend",
      "Create auth page",
      "Initialize client w/Firebase auth"
    ],
    "hasCode": true,
    "codeLanguages": [
      "json",
      "text",
      "js",
      "html"
    ],
    "tokens": 2126,
    "category": "cookbook-authentication",
    "tags": [
      "hooks",
      "application",
      "params",
      "provider",
      "get",
      "create",
      "update",
      "setup",
      "authentication",
      "jwt",
      "oauth",
      "google",
      "facebook",
      "socket.io",
      "http",
      "express",
      "feathers client",
      "client",
      "configuration",
      "errors",
      "cli",
      "generate",
      "logger",
      "login"
    ],
    "embedding": [
      0.033226,
      0.025405,
      -0.041531,
      0.018479,
      0.002779,
      -0.030132,
      0.054482,
      0.017535,
      -0.012399,
      0.028784,
      0.007179,
      -0.01432,
      -0.024924,
      0.010653,
      0.003476,
      0.01643,
      -0.002009,
      -0.01064,
      -0.013846,
      -0.008461,
      -0.047083,
      0.012341,
      0.056825,
      -0.035805,
      0.025857,
      0.004688,
      0.009593,
      -0.01882,
      0.000438,
      -0.013406,
      0.050969,
      -0.003264,
      -0.042042,
      0.024222,
      -0.016795,
      -0.02937,
      -0.013108,
      0.007813,
      -0.041747,
      0.01231,
      0.007055,
      -0.044976,
      0.00645,
      0.001499,
      0.02345,
      -0.056389,
      0.033597,
      -0.004357,
      -0.006616,
      0.003447,
      -0.023817,
      -0.011417,
      0.030484,
      -0.019261,
      0.059673,
      0.034452,
      0.008155,
      -0.004846,
      -0.071119,
      0.005755,
      -0.067506,
      0.00731,
      -0.030246,
      0.013604,
      -0.036756,
      0.033395,
      -0.002997,
      -0.015007,
      -0.024802,
      -0.040137,
      -0.010768,
      0.01995,
      -0.045661,
      0.00596,
      -0.04227,
      -0.013352,
      0.044264,
      -0.00406,
      0.005054,
      0.008395,
      -0.025208,
      -0.00402,
      0.022457,
      0.014926,
      0.023175,
      -0.025788,
      0.011518,
      0.055231,
      0.015188,
      0.038644,
      -0.014192,
      -0.040817,
      0.094749,
      -0.042862,
      -0.012683,
      -0.010453,
      0.028375,
      -0.032506,
      0.035936,
      -0.011185,
      -0.005431,
      -0.018925,
      -0.006706,
      -0.01646,
      0.007819,
      0.037606,
      -0.008035,
      -0.004349,
      0.010892,
      -0.041027,
      -0.009303,
      0.030475,
      0.039243,
      -0.001669,
      -0.020074,
      -0.000333,
      0.008129,
      -0.030459,
      -0.030965,
      -0.028475,
      -0.016387,
      0.024518,
      0.022348,
      -0.031057,
      0.006979,
      -0.025885,
      0.00018,
      -0.027156,
      -0.025667,
      0.016674,
      0.054378,
      -0.064797,
      -0.016171,
      -0.010274,
      -0.0397,
      0.021972,
      0.033023,
      0.031476,
      0.016969,
      -0.056146,
      0.024094,
      -0.008674,
      -0.026417,
      -0.017377,
      0.031815,
      -0.060201,
      0.049543,
      -0.016588,
      -0.005828,
      -0.006851,
      -0.039162,
      -0.009051,
      0.025829,
      -0.017078,
      0.009485,
      -0.067297,
      0.025303,
      0.03455,
      0.023856,
      -0.017219,
      -0.025151,
      0.03107,
      -0.064647,
      0.009674,
      0.02194,
      0.010076,
      -0.001601,
      -0.057209,
      -0.026855,
      -0.004319,
      0.009677,
      0.016232,
      0.029256,
      -0.032597,
      -0.000612,
      0.010771,
      0.06822,
      0.038819,
      0.008986,
      -0.015688,
      -0.072228,
      0.011964,
      -0.015083,
      -0.006011,
      0.045168,
      0.018273,
      -0.017665,
      0.005127,
      0.002479,
      0.036522,
      -0.007793,
      -0.014965,
      -0.000506,
      0.015217,
      -0.023936,
      -0.004006,
      0.036615,
      0.009982,
      0.009814,
      -0.009004,
      -0.002698,
      0.028374,
      0.047112,
      0.030963,
      -0.005054,
      -0.028046,
      -0.007062,
      -0.058456,
      0.021342,
      -0.058404,
      0.00727,
      -0.011566,
      -0.011433,
      0.004182,
      -0.070007,
      0.069382,
      0.022951,
      0.027862,
      -0.025667,
      -0.006406,
      -0.024911,
      0.001621,
      0.017523,
      0.007576,
      0.052051,
      0.005737,
      -0.005527,
      -0.026694,
      0.009721,
      0.015653,
      -0.010812,
      0.010186,
      0.018861,
      -0.025157,
      0.041259,
      -0.00372,
      -0.047782,
      0.007148,
      0.003346,
      0.001411,
      0.031082,
      -0.057182,
      0.03288,
      0.008935,
      -0.051972,
      -0.025015,
      -0.008952,
      0.011022,
      -0.037794,
      -0.016103,
      -0.024248,
      0.010289,
      -0.002637,
      -0.000449,
      0.033001,
      0.010497,
      0.011392,
      -0.012118,
      -0.022493,
      -0.027754,
      0.017403,
      0.011446,
      -0.047033,
      0.033459,
      0.003887,
      -0.031447,
      -0.061216,
      -0.02038,
      -0.004548,
      0.050461,
      -0.018355,
      0.0305,
      0.016846,
      -0.008385,
      -0.010812,
      -0.005556,
      0.006441,
      -0.04591,
      0.086451,
      0.013675,
      -0.002676,
      0.017492,
      0.045119,
      0.028783,
      0.015807,
      -0.002743,
      0.00003,
      -0.005344,
      0.012258,
      -0.043678,
      -0.00071,
      0.032051,
      0.053797,
      -0.02879,
      0.003631,
      -0.001134,
      -0.02891,
      -0.120457,
      -0.033696,
      0.024998,
      0.030759,
      -0.018733,
      0.03129,
      -0.049811,
      -0.037087,
      -0.011992,
      0.027852,
      -0.008619,
      -0.048395,
      -0.019478,
      -0.039964,
      0.004639,
      0.041081,
      -0.021148,
      0.002449,
      0.036884,
      -0.012671,
      -0.035576,
      -0.04021,
      0.052571,
      -0.001747,
      0.031153,
      0.000404,
      0.013756,
      0.003179,
      -0.043345,
      -0.003896,
      -0.012275,
      -0.035703,
      -0.000481,
      0.009492,
      -0.024912,
      -0.008749,
      -0.015348,
      -0.007346,
      0.005471,
      -0.019448,
      0.008731,
      0.022144,
      0.004678,
      -0.024722,
      0.024063,
      0.000353,
      0.038143,
      -0.023244,
      -0.041156,
      -0.021312,
      0.008736,
      -0.021151,
      -0.002136,
      0.021761,
      -0.034508,
      -0.057642,
      0.01936,
      0.04014,
      0.010203,
      0.015128,
      0.002629,
      -0.006476,
      0.032901,
      0.009658,
      -0.001756,
      0.022041,
      -0.015884,
      0.034146,
      0.004685,
      -0.024955,
      0.054564,
      -0.046146,
      0.051219,
      0.009786,
      -0.018935,
      0.018928,
      0.020795,
      -0.018882,
      0.003836,
      -0.102406,
      0.009653,
      0.025934,
      0.004147,
      0.027588,
      -0.033406,
      -0.059703,
      -0.027586,
      0.017427,
      0.043367,
      0.256335,
      0.008817,
      -0.000124,
      0.006607,
      0.042117,
      -0.024125,
      -0.016799,
      0.057998,
      -0.011064,
      -0.015961,
      -0.026182,
      0.024264,
      0.001633,
      -0.020338,
      -0.016966,
      -0.002279,
      -0.038625,
      0.050907,
      0.033709,
      -0.006239,
      0.028884,
      -0.012274,
      0.020453,
      0.046056,
      -0.085717,
      -0.043848,
      -0.028327,
      0.028233,
      -0.022078,
      0.016927,
      -0.018082,
      0.022981,
      0.028983,
      -0.020678,
      -0.055382,
      -0.014081,
      -0.009779,
      -0.039659,
      -0.042562,
      0.018726,
      -0.020041,
      -0.035851,
      0.040273,
      0.002408,
      0.029074,
      -0.012946,
      0.001791,
      0.007354,
      -0.024653,
      -0.061294,
      -0.051903,
      -0.027592,
      -0.030077,
      -0.007788,
      0.000095,
      -0.002525,
      0.007515,
      0.005335,
      -0.023627,
      0.027542,
      0.016101,
      0.011156,
      -0.075006,
      0.030641,
      -0.025391,
      0.018051,
      0.026544,
      -0.040771,
      0.006073,
      0.052074,
      -0.014237,
      0.047502,
      0.012469,
      0.023025,
      0.002003,
      -0.008534,
      0.039398,
      0.038334,
      -0.043031,
      0.055846,
      -0.01981,
      -0.01054,
      -0.013675,
      0.025462,
      -0.000736,
      0.021304,
      0.021248,
      0.045304,
      0.00479,
      -0.023656,
      0.009359,
      0.014218,
      -0.000637,
      0.042339,
      -0.019835,
      0.043828,
      0.016483,
      -0.011775,
      0.008243,
      -0.022978,
      0.043605,
      0.029332,
      0.009314,
      0.005457,
      0.067288,
      -0.030922,
      -0.018385,
      -0.01073,
      0.004622,
      0.006909,
      -0.054906,
      0.012982,
      0.008333,
      -0.026769,
      0.019179,
      0.020138,
      0.033743,
      0.001235,
      0.037704,
      0.041241,
      0.023064,
      0.014073,
      -0.015232,
      0.009079,
      0.009597,
      -0.088469,
      -0.015629,
      -0.032076,
      -0.03569,
      0.067069,
      0.016533,
      -0.02831,
      0.031167,
      0.062567,
      0.069313,
      0.016865,
      0.055316,
      0.018858,
      0.067546,
      0.013891,
      -0.071263,
      -0.011835,
      -0.032652,
      -0.012081,
      0.008238,
      0.009865,
      0.016688,
      0.034419,
      0.015376,
      -0.032911,
      0.061332,
      0.04105,
      0.02907,
      -0.038167,
      -0.00274,
      -0.028316,
      0.011049,
      0.012762,
      0.024556,
      -0.042516,
      -0.034427,
      0.027577,
      0.007107,
      0.080695,
      0.000533,
      -0.024935,
      0.034921,
      0.002462,
      -0.018073,
      -0.001953,
      -0.017519,
      -0.047893,
      -0.037048,
      0.065639,
      0.018617,
      0.028234,
      -0.059795,
      -0.009928,
      -0.007022,
      -0.004471,
      -0.002667,
      0.012894,
      -0.03484,
      -0.03688,
      0.026044,
      0.021299,
      -0.018541,
      -0.028365,
      -0.012121,
      -0.026294,
      -0.01368,
      0.092712,
      -0.022438,
      0.00307,
      0.045195,
      -0.023287,
      0.031008,
      0.053083,
      -0.002234,
      0.037187,
      -0.013526,
      -0.009664,
      -0.035382,
      -0.031677,
      -0.001688,
      -0.038305,
      0.012944,
      0.014103,
      -0.028463,
      0.030399,
      0.018249,
      0.033165,
      -0.035112,
      -0.02493,
      0.024436,
      -0.017484,
      0.037299,
      0.090285,
      0.035252,
      0.005945,
      -0.021163,
      0.025834,
      0.021106,
      -0.042908,
      0.034302,
      -0.034597,
      0.025658,
      -0.017848,
      -0.01721,
      0.0081,
      -0.011684,
      0.001444,
      0.057018,
      -0.04082,
      0.036217,
      -0.021263,
      0.024309,
      0.010417,
      0.057455,
      -0.036012,
      0.025186,
      -0.008199,
      0.018963,
      0.060969,
      -0.012516,
      0.013764,
      0.005428,
      0.014727,
      -0.014579,
      0.01307,
      -0.009521,
      -0.030264,
      0.017133,
      -0.030755,
      0.031347,
      -0.000201,
      0.045297,
      -0.046483,
      -0.026447,
      -0.00913,
      -0.025269,
      -0.003298,
      0.01555,
      -0.016821,
      0.041213,
      -0.071732,
      0.028741,
      -0.039142,
      -0.031826,
      -0.010982,
      -0.019179,
      -0.00744,
      -0.023378,
      -0.048314,
      0.008055,
      0.028083,
      -0.03327,
      -0.025146,
      0.042489,
      -0.018725,
      -0.051479,
      -0.006104,
      -0.003811,
      0.022634,
      -0.011579,
      0.051948,
      0.028353,
      -0.01754,
      -0.004206,
      -0.050253,
      -0.009752,
      0.001234,
      -0.035869,
      -0.024725,
      0.008624,
      -0.00562,
      -0.025404,
      0.032201,
      -0.034161,
      0.031039,
      -0.001232,
      -0.007745,
      0.0153,
      0.005392,
      0.009072,
      0.005922,
      -0.04295,
      -0.046647,
      0.01474,
      -0.000928,
      -0.017729,
      -0.016108,
      -0.020905,
      0.007308,
      -0.013623,
      -0.037303,
      0.014322,
      -0.028142,
      0.013527,
      -0.000219,
      0.053163,
      -0.011775,
      -0.005643,
      0.027394,
      -0.010005,
      -0.001793,
      -0.00898,
      -0.022636,
      -0.00947,
      0.030039,
      -0.019845,
      -0.018245,
      -0.034628,
      -0.027238,
      -0.010386,
      -0.024308,
      0.048028,
      -0.029102,
      0.014812,
      -0.041842,
      -0.003911,
      -0.010861,
      0.089055,
      -0.014947,
      0.034743,
      -0.045666,
      -0.020752,
      -0.008507,
      -0.033978,
      0.026489,
      0.012627,
      0.009145,
      -0.037114,
      -0.013655,
      0.00989,
      -0.029644,
      -0.042482,
      0.019961,
      -0.003572,
      0.015709,
      0.002064,
      0.051754,
      -0.020683,
      -0.014422,
      0.006764,
      0.008423,
      0.015501,
      -0.046017,
      -0.038482,
      0.000561,
      -0.045503,
      0.001755,
      0.008414,
      0.022572,
      -0.01589,
      -0.002881,
      -0.012577,
      0.009512,
      0.039451,
      -0.013744,
      -0.024761,
      -0.034955,
      -0.045789,
      0.00555,
      -0.012244,
      0.049742,
      0.019213,
      0.050578,
      0.006615,
      0.005196,
      -0.012582,
      -0.011105,
      -0.022528,
      0.023184,
      -0.133089,
      0.02777,
      -0.024825,
      0.020416,
      -0.016621,
      -0.0123,
      -0.004418,
      -0.041458,
      0.017613,
      -0.005261,
      -0.052738,
      0.017755,
      0.017469,
      -0.019123,
      0.029859,
      0.024674,
      0.016347,
      -0.016438,
      -0.022706,
      -0.043411,
      -0.003748,
      -0.017607,
      -0.009316,
      -0.047633,
      -0.032031,
      -0.028446,
      0.001243,
      -0.004051,
      -0.012956,
      0.031761,
      -0.016034,
      -0.016896,
      0.01228,
      0.024246,
      -0.012068,
      0.017551,
      -0.001931,
      0.01007,
      0.001133,
      -0.024361,
      -0.0158,
      0.031691,
      -0.067323,
      -0.000247,
      0.047366,
      0.017244,
      -0.037179,
      -0.049911,
      -0.019564,
      0.016059,
      -0.006677,
      -0.010486,
      0.033917,
      0.000826,
      -0.002924,
      0.002706,
      -0.01911,
      -0.016645,
      -0.099071,
      0.032964,
      -0.032823,
      0.040201,
      -0.033933,
      -0.017227,
      0.011713,
      0.035295,
      -0.040003,
      0.016998,
      -0.01769,
      -0.014115,
      0.00819,
      -0.051569,
      -0.043173,
      0.023176,
      0.018762,
      -0.010886,
      0.002651,
      -0.04166,
      -0.054855,
      -0.009593,
      0.008179,
      -0.015695,
      -0.042264,
      0.064743,
      0.080295,
      0.036206,
      -0.009826,
      -0.006176,
      0.035,
      -0.013596,
      -0.046181,
      -0.076013,
      -0.02564,
      0.043026,
      -0.010661,
      0.02671,
      0.008555,
      -0.020339,
      0.004854,
      0.012194,
      -0.018868,
      0.026688,
      0.043032,
      -0.008171,
      -0.052609,
      0.01544,
      -0.006615,
      0.023503,
      0.005397,
      -0.006654,
      0.00429,
      0.003516,
      0.025184,
      0.013222,
      -0.066209,
      0.021263,
      0.025091,
      0.045088,
      -0.019856,
      -0.01159,
      0.019061,
      -0.011108,
      -0.013508,
      -0.013183,
      0.025264,
      0.034158,
      0.024918,
      0.019605,
      0.013709,
      -0.045518,
      0.022658,
      -0.081864,
      -0.009586,
      0.036729,
      0.02222,
      -0.054329,
      -0.051058,
      0.028382,
      -0.015391,
      -0.054921,
      -0.031965,
      -0.022515,
      0.009759,
      -0.000129,
      -0.000261,
      -0.012669,
      0.018498,
      -0.022696,
      -0.002767,
      -0.053494,
      0.009296,
      -0.011801,
      -0.007613,
      0.002047,
      0.008616,
      0.053617,
      -0.003117,
      -0.000148,
      -0.022554,
      0.044292,
      0.004869,
      -0.057084,
      -0.007161,
      -0.009036,
      0.021969,
      0.01699,
      -0.031458,
      -0.017265,
      -0.046043,
      0.029856,
      -0.000422,
      0.061361,
      -0.012365,
      -0.031994,
      0.039346,
      -0.050049,
      0.025553,
      -0.026295,
      0.053454,
      0.009,
      0.021639,
      0.015936,
      0.026153,
      0.005622,
      0.023992,
      0.005513,
      0.004064,
      0.001949,
      0.013785,
      -0.046915,
      -0.02793,
      -0.014474,
      0.01382,
      -0.014206,
      0.017255,
      0.057849,
      0.034831,
      -0.00007,
      -0.023981,
      0.075057,
      0.011115,
      -0.016936,
      0.01628,
      -0.007168,
      -0.030717,
      0.002836,
      -0.015945,
      0.000269,
      0.03121,
      0.033465,
      -0.013146,
      -0.019474,
      -0.005112,
      0.012258,
      -0.004448,
      0.013591,
      0.06272,
      -0.012107,
      0.009145,
      -0.07541,
      0.026233,
      -0.004599,
      0.030105,
      0.008217,
      -0.011767,
      -0.045061,
      0.014551,
      0.029314,
      -0.004684,
      0.009266,
      0.020388,
      -0.046393,
      0.019126,
      0.042133,
      0.056387,
      -0.00722,
      -0.027691,
      0.02067,
      -0.010286,
      -0.023231,
      0.039814,
      0.030752,
      -0.019407,
      0.014602
    ]
  },
  {
    "id": "v5-google-0",
    "content": "# Google\nBreadcrumb: Google\nCovers: Application client and secret | Using the data returned from the Google App through a custom OAuth Strategy\nTopics: application, get, create, setup, authentication, jwt, oauth, google, database, http, express, client, cli, generate\n\n## Application client and secret\n\nThe client id (App ID) and secret can be acquired by creating a [OAuth client ID](https://console.developers.google.com/apis/credentials):\n1. Click on 'OAuth client ID'\n2. Select 'web application', fill in the information and click 'Create'\n\n**Important**: Fill in the callback url, in a default Feathers setup it will be /oauth/google/callback.\n\n3. Replace `<App ID>` and `<App Secret>` with the id and secret of the created OAuth client ID application\n\n```js\n{\n  \"authentication\": {\n    \"oauth\": {\n      \"google\": {\n        \"key\": \"<client-id>.apps.googleusercontent.com\",\n        \"secret\": \"<client-secret>\",\n        \"scope\": [\"openid\", \"email\"],\n        \"nonce\": true\n      }\n    }\n  }\n}\n```\n\nNote: Use the generated credentials of the OAuth client ID.\n\nNote: `<client-id>` will be replaced by a string similar to **481298021138-hv27glb811ocr7pdon5lsg8hh5a6pgjv**.apps.googleusercontent.com.\n\nNote: `<client-secret>` will be replaced by a string similar to **XkWl0witdP4ogeNIgyOi-CeS**.\n\n## Using the data returned from the Google App through a custom OAuth Strategy\n\nIn `src/authentication.js`:\n\n```js\nconst axios = require('axios');\nconst { OAuthStrategy } = require('@feathersjs/authentication-oauth');\n\nclass GoogleStrategy extends OAuthStrategy {\n  async getEntityData(profile) {\n\n    // this will set 'googleId'\n    const baseData = await super.getEntityData(profile);\n\n    // this will grab the picture and email address of the Google profile\n    return {\n      ...baseData,\n      profilePicture: profile.picture,\n      email: profile.email\n    };\n  }\n}\n\nmodule.exports = app => {\n  const authentication = new AuthenticationService(app);\n\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('google', new GoogleStrategy());\n\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n};\n```\n**Important**: googleId, profilePicture and email are properties that should exist on the database model!",
    "rawContent": "## Application client and secret\n\nThe client id (App ID) and secret can be acquired by creating a [OAuth client ID](https://console.developers.google.com/apis/credentials):\n1. Click on 'OAuth client ID'\n2. Select 'web application', fill in the information and click 'Create'\n\n**Important**: Fill in the callback url, in a default Feathers setup it will be /oauth/google/callback.\n\n3. Replace `<App ID>` and `<App Secret>` with the id and secret of the created OAuth client ID application\n\n```js\n{\n  \"authentication\": {\n    \"oauth\": {\n      \"google\": {\n        \"key\": \"<client-id>.apps.googleusercontent.com\",\n        \"secret\": \"<client-secret>\",\n        \"scope\": [\"openid\", \"email\"],\n        \"nonce\": true\n      }\n    }\n  }\n}\n```\n\nNote: Use the generated credentials of the OAuth client ID.\n\nNote: `<client-id>` will be replaced by a string similar to **481298021138-hv27glb811ocr7pdon5lsg8hh5a6pgjv**.apps.googleusercontent.com.\n\nNote: `<client-secret>` will be replaced by a string similar to **XkWl0witdP4ogeNIgyOi-CeS**.\n\n## Using the data returned from the Google App through a custom OAuth Strategy\n\nIn `src/authentication.js`:\n\n```js\nconst axios = require('axios');\nconst { OAuthStrategy } = require('@feathersjs/authentication-oauth');\n\nclass GoogleStrategy extends OAuthStrategy {\n  async getEntityData(profile) {\n\n    // this will set 'googleId'\n    const baseData = await super.getEntityData(profile);\n\n    // this will grab the picture and email address of the Google profile\n    return {\n      ...baseData,\n      profilePicture: profile.picture,\n      email: profile.email\n    };\n  }\n}\n\nmodule.exports = app => {\n  const authentication = new AuthenticationService(app);\n\n  authentication.register('jwt', new JWTStrategy());\n  authentication.register('local', new LocalStrategy());\n  authentication.register('google', new GoogleStrategy());\n\n  app.use('/authentication', authentication);\n  app.configure(expressOauth());\n};\n```\n**Important**: googleId, profilePicture and email are properties that should exist on the database model!",
    "breadcrumb": "Google",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/authentication/google.md",
    "heading": "Google",
    "subHeadings": [
      "Application client and secret",
      "Using the data returned from the Google App through a custom OAuth Strategy"
    ],
    "hasCode": true,
    "codeLanguages": [
      "js",
      "text"
    ],
    "tokens": 512,
    "category": "cookbook-authentication",
    "tags": [
      "application",
      "get",
      "create",
      "setup",
      "authentication",
      "jwt",
      "oauth",
      "google",
      "database",
      "http",
      "express",
      "client",
      "cli",
      "generate"
    ],
    "embedding": [
      -0.055768,
      0.015528,
      -0.04611,
      -0.032001,
      -0.004076,
      -0.057141,
      -0.003791,
      -0.006826,
      -0.017662,
      0.009882,
      -0.011414,
      -0.025123,
      -0.014037,
      -0.016598,
      -0.003036,
      0.026906,
      -0.000819,
      0.00859,
      0.013768,
      -0.03946,
      -0.058795,
      0.017979,
      0.019199,
      -0.064808,
      0.007032,
      0.008232,
      0.008558,
      -0.023797,
      -0.004145,
      -0.01921,
      0.016678,
      -0.002225,
      -0.020105,
      0.018002,
      -0.027021,
      0.024462,
      0.013253,
      0.010216,
      -0.052245,
      0.017925,
      0.031487,
      -0.004512,
      0.015068,
      -0.032466,
      0.035885,
      -0.05097,
      0.031974,
      -0.014404,
      0.012093,
      -0.005032,
      -0.007854,
      -0.001611,
      0.032067,
      -0.027251,
      0.019698,
      0.052103,
      0.020092,
      -0.025232,
      -0.023581,
      -0.003298,
      -0.027923,
      0.007906,
      -0.03599,
      -0.007297,
      0.002428,
      0.0152,
      -0.023021,
      0.009748,
      -0.0155,
      -0.032425,
      -0.014912,
      0.064733,
      -0.051995,
      0.007249,
      -0.017462,
      -0.020854,
      0.004654,
      0.043027,
      -0.031088,
      0.030246,
      -0.029262,
      0.019963,
      0.021782,
      -0.010818,
      -0.04613,
      -0.056662,
      -0.003815,
      0.058145,
      0.053853,
      0.035331,
      -0.006475,
      -0.048497,
      0.098943,
      -0.08073,
      0.026436,
      0.018708,
      0.028181,
      0.007443,
      0.017035,
      0.031298,
      0.013641,
      0.002579,
      -0.016007,
      -0.030339,
      0.029366,
      0.005225,
      0.014232,
      0.011013,
      -0.000249,
      -0.043366,
      0.001597,
      0.018466,
      0.037732,
      0.00555,
      -0.028365,
      0.027242,
      0.008752,
      0.000714,
      -0.00424,
      0.003093,
      -0.011257,
      0.045346,
      -0.011375,
      -0.009062,
      -0.004858,
      -0.021514,
      0.016181,
      0.002418,
      0.025499,
      0.030485,
      0.021575,
      -0.069982,
      -0.032985,
      -0.015047,
      -0.049913,
      0.003025,
      0.029389,
      -0.006836,
      -0.028339,
      -0.09012,
      0.024765,
      0.007641,
      -0.001048,
      -0.029036,
      0.039443,
      -0.054564,
      0.065257,
      0.031888,
      -0.001786,
      0.016155,
      0.011717,
      -0.018492,
      -0.006828,
      -0.0338,
      0.026084,
      -0.067931,
      -0.007096,
      -0.002547,
      0.043623,
      -0.009034,
      0.019114,
      0.035571,
      -0.052356,
      0.026116,
      0.015793,
      -0.028126,
      0.001684,
      -0.046134,
      0.005668,
      -0.05345,
      0.028953,
      -0.005328,
      -0.034744,
      0.000754,
      -0.010545,
      0.031896,
      0.047033,
      0.036561,
      -0.002121,
      -0.022913,
      -0.030011,
      0.002385,
      -0.009873,
      -0.061177,
      0.034706,
      0.005984,
      -0.036464,
      0.002653,
      -0.002752,
      0.03884,
      -0.036308,
      -0.017274,
      0.002163,
      0.04593,
      -0.033063,
      0.004134,
      0.020093,
      0.011398,
      0.017774,
      -0.01753,
      -0.033087,
      0.025279,
      0.04135,
      0.000452,
      -0.017384,
      -0.022536,
      0.060699,
      -0.047049,
      0.030829,
      -0.071973,
      -0.014515,
      -0.015995,
      0.025004,
      -0.035627,
      -0.059263,
      0.061493,
      0.042729,
      0.015303,
      -0.029701,
      -0.006405,
      0.03127,
      0.017706,
      -0.003501,
      -0.032586,
      0.042602,
      -0.000076,
      0.024574,
      -0.018282,
      0.039894,
      0.00558,
      0.007263,
      -0.011428,
      0.034551,
      -0.027848,
      0.034945,
      -0.023323,
      -0.020854,
      -0.02209,
      -0.023115,
      0.005722,
      -0.013585,
      -0.013775,
      0.015372,
      0.030955,
      -0.026203,
      -0.001138,
      0.013464,
      0.057257,
      -0.050604,
      -0.016046,
      -0.009463,
      -0.005612,
      0.016525,
      0.013707,
      0.037657,
      0.004979,
      0.025564,
      -0.004433,
      -0.022782,
      -0.012386,
      0.01513,
      0.013152,
      -0.061772,
      0.030215,
      0.012348,
      -0.012956,
      -0.027068,
      -0.047042,
      0.010916,
      0.024249,
      -0.045188,
      0.02274,
      0.03457,
      0.025816,
      -0.011689,
      0.021081,
      -0.003249,
      -0.049948,
      0.072088,
      -0.011131,
      -0.029147,
      0.025029,
      0.032495,
      0.009376,
      0.017099,
      -0.005558,
      -0.02894,
      0.018318,
      0.018426,
      -0.041154,
      -0.025916,
      0.035781,
      0.057479,
      0.002969,
      -0.010664,
      -0.029732,
      -0.006316,
      -0.146956,
      -0.027972,
      0.039128,
      0.048866,
      0.000847,
      0.016779,
      -0.060215,
      -0.03673,
      -0.038004,
      0.047489,
      -0.027841,
      -0.027482,
      -0.066765,
      -0.060233,
      0.021657,
      0.017397,
      -0.036496,
      0.002829,
      0.00849,
      -0.043134,
      -0.015329,
      -0.046198,
      0.068182,
      0.018648,
      0.058339,
      0.002695,
      0.002176,
      -0.002278,
      -0.052896,
      -0.006158,
      0.017417,
      -0.036782,
      0.001169,
      0.033227,
      -0.027299,
      -0.005797,
      -0.003921,
      0.022264,
      0.057957,
      -0.029707,
      0.027193,
      0.033824,
      -0.038379,
      -0.00538,
      0.023032,
      0.023937,
      0.013427,
      0.02302,
      -0.009966,
      0.000127,
      0.055187,
      -0.002808,
      -0.014389,
      -0.005977,
      -0.031726,
      0.003373,
      0.025683,
      0.074221,
      0.004637,
      0.005912,
      -0.006801,
      -0.014414,
      0.022774,
      -0.015139,
      0.023729,
      -0.002773,
      0.031455,
      0.00825,
      0.011816,
      -0.044187,
      0.029324,
      -0.027751,
      0.020178,
      0.005777,
      0.001635,
      0.020207,
      0.003616,
      -0.050003,
      -0.01765,
      -0.080716,
      -0.034127,
      0.009934,
      -0.000874,
      -0.002032,
      -0.04088,
      -0.017501,
      -0.014158,
      0.008915,
      0.00801,
      0.242674,
      0.059043,
      0.03035,
      0.002181,
      0.065937,
      -0.027648,
      -0.001577,
      0.067339,
      0.003705,
      -0.029743,
      0.019498,
      0.017984,
      0.010083,
      -0.014084,
      -0.021032,
      0.0267,
      -0.036079,
      0.039093,
      0.026203,
      0.002145,
      0.030658,
      -0.040918,
      0.041174,
      0.006704,
      -0.073091,
      0.000528,
      -0.014411,
      0.034928,
      -0.028314,
      0.026621,
      -0.019953,
      0.029767,
      0.047462,
      -0.004962,
      -0.046024,
      0.022171,
      0.004594,
      -0.016798,
      -0.039062,
      -0.003069,
      -0.020926,
      -0.025461,
      0.030108,
      -0.013257,
      -0.011069,
      0.02128,
      -0.002668,
      -0.008506,
      -0.003986,
      -0.01395,
      -0.08418,
      -0.020103,
      -0.017758,
      -0.002532,
      0.01644,
      -0.024486,
      -0.030073,
      0.03168,
      -0.016328,
      0.000504,
      0.001398,
      0.010249,
      -0.07642,
      0.036563,
      -0.021616,
      0.007624,
      0.039148,
      -0.050603,
      -0.026107,
      0.058791,
      -0.046499,
      0.018639,
      0.017219,
      0.027339,
      0.018121,
      -0.007666,
      0.03741,
      0.039464,
      -0.044295,
      0.026871,
      0.035692,
      0.013845,
      0.004173,
      0.041916,
      0.016252,
      0.016327,
      -0.003042,
      -0.001416,
      0.010747,
      -0.017652,
      -0.008829,
      -0.004213,
      -0.030961,
      0.010533,
      0.010475,
      0.017296,
      0.034995,
      0.000541,
      -0.032982,
      -0.002767,
      -0.001014,
      0.016485,
      0.003376,
      -0.029567,
      0.087384,
      -0.009909,
      0.023933,
      -0.01335,
      -0.002991,
      0.01764,
      -0.061555,
      -0.02167,
      0.019098,
      -0.061644,
      -0.003631,
      0.059221,
      0.00606,
      -0.007823,
      0.048384,
      0.037048,
      0.018993,
      -0.015624,
      -0.029833,
      0.007489,
      0.030433,
      -0.046358,
      -0.017204,
      -0.035635,
      -0.013402,
      0.041653,
      0.008933,
      -0.016802,
      0.034758,
      0.062581,
      0.051392,
      0.007731,
      0.074435,
      0.001301,
      -0.003269,
      0.001084,
      -0.046179,
      0.014256,
      -0.012154,
      0.003162,
      0.004507,
      0.008873,
      -0.013431,
      0.037925,
      -0.005874,
      0.00165,
      0.025188,
      0.016001,
      0.008379,
      -0.02544,
      0.014973,
      -0.065433,
      0.013425,
      -0.021837,
      -0.003741,
      -0.035069,
      0.007236,
      -0.023572,
      0.001668,
      0.072859,
      -0.028154,
      -0.039603,
      0.014679,
      0.020338,
      -0.004997,
      -0.025851,
      0.013507,
      -0.048985,
      -0.018369,
      0.077331,
      -0.014526,
      -0.025885,
      -0.073678,
      -0.023427,
      -0.012023,
      -0.067604,
      -0.000383,
      0.002099,
      -0.026796,
      -0.016336,
      0.038741,
      0.014155,
      -0.025849,
      -0.016189,
      -0.029295,
      -0.036952,
      -0.019147,
      0.090516,
      -0.007984,
      -0.006461,
      0.050875,
      -0.030041,
      0.013073,
      0.053957,
      -0.027241,
      0.00954,
      0.006814,
      -0.014778,
      0.000949,
      -0.015979,
      -0.008709,
      -0.018969,
      -0.033398,
      0.038401,
      -0.015307,
      0.03723,
      0.005052,
      0.086083,
      -0.059396,
      -0.030455,
      0.024175,
      -0.033621,
      0.045737,
      0.051847,
      0.043028,
      -0.002515,
      -0.018012,
      -0.016344,
      -0.000318,
      -0.027783,
      -0.016156,
      0.022294,
      -0.006388,
      -0.000151,
      -0.053785,
      0.017242,
      -0.01632,
      0.042983,
      0.005785,
      -0.016528,
      0.002716,
      0.013915,
      -0.000035,
      0.007082,
      0.045103,
      -0.021186,
      0.070797,
      0.00609,
      0.02008,
      0.02019,
      -0.005403,
      0.029504,
      -0.037048,
      -0.017378,
      -0.038262,
      0.019264,
      0.000504,
      -0.022577,
      -0.024353,
      -0.008445,
      0.040246,
      -0.012857,
      0.022689,
      -0.03821,
      -0.006856,
      -0.021699,
      0.012371,
      0.03336,
      0.018188,
      -0.018995,
      -0.004299,
      -0.047506,
      0.034573,
      -0.062148,
      -0.035043,
      -0.004576,
      0.001692,
      0.031731,
      -0.001219,
      -0.012374,
      0.017489,
      -0.009235,
      -0.036081,
      -0.016267,
      0.015632,
      0.009724,
      -0.053669,
      -0.00344,
      -0.018189,
      -0.002508,
      -0.012466,
      0.042601,
      0.010896,
      0.004263,
      -0.016782,
      -0.098242,
      -0.028832,
      0.015519,
      0.00674,
      0.053753,
      -0.004048,
      -0.023998,
      -0.032158,
      0.009694,
      -0.028546,
      0.000426,
      -0.002117,
      -0.007662,
      0.000569,
      -0.006942,
      -0.003242,
      0.044898,
      -0.018348,
      -0.038472,
      0.014206,
      -0.019405,
      -0.01707,
      -0.077649,
      0.008358,
      -0.038672,
      0.008911,
      -0.026813,
      0.036667,
      0.001569,
      0.009544,
      -0.008945,
      0.058063,
      -0.013908,
      -0.012025,
      -0.02288,
      -0.014288,
      -0.020723,
      -0.026779,
      -0.00407,
      -0.001706,
      0.004736,
      -0.050841,
      0.005335,
      -0.0188,
      -0.047177,
      -0.04265,
      0.030267,
      -0.009025,
      -0.016306,
      0.03763,
      -0.006624,
      -0.021993,
      0.021503,
      0.064519,
      -0.008797,
      0.008935,
      -0.034107,
      -0.027715,
      -0.004947,
      -0.07238,
      0.004552,
      -0.02063,
      0.005822,
      -0.015522,
      -0.028235,
      0.045129,
      -0.038632,
      -0.003803,
      0.04977,
      0.028791,
      0.050867,
      -0.031084,
      0.090699,
      -0.008345,
      -0.01337,
      0.01117,
      0.029482,
      -0.006174,
      -0.013606,
      0.00218,
      0.002605,
      -0.01184,
      -0.011616,
      0.000204,
      -0.01307,
      -0.042177,
      0.022155,
      -0.004917,
      0.020629,
      0.004259,
      -0.06692,
      0.020819,
      -0.01509,
      -0.070474,
      -0.017572,
      -0.020535,
      0.00415,
      0.031682,
      0.02322,
      -0.004646,
      0.005151,
      -0.017615,
      -0.009361,
      -0.022416,
      0.018572,
      -0.137127,
      -0.001312,
      -0.001656,
      0.005572,
      -0.000252,
      0.002141,
      0.007326,
      -0.043343,
      0.045528,
      -0.05289,
      -0.008429,
      -0.020049,
      0.043012,
      -0.023193,
      0.01856,
      0.001307,
      0.011221,
      -0.012291,
      -0.036881,
      -0.014057,
      -0.001314,
      0.002305,
      0.012488,
      -0.015075,
      0.009121,
      0.009248,
      -0.024283,
      0.020481,
      -0.027332,
      -0.005212,
      -0.034779,
      0.005048,
      0.006935,
      -0.017951,
      0.014906,
      0.015125,
      0.002054,
      0.02814,
      -0.018709,
      0.039786,
      -0.016277,
      0.005501,
      -0.033588,
      0.008992,
      0.024249,
      0.051499,
      -0.06545,
      -0.043418,
      -0.033332,
      -0.003645,
      0.000644,
      0.001923,
      0.034391,
      0.017023,
      -0.006852,
      0.024593,
      0.006623,
      0.006219,
      -0.067099,
      0.027038,
      -0.013207,
      0.033181,
      -0.059996,
      0.013207,
      -0.002046,
      0.041118,
      -0.050061,
      0.03947,
      0.013455,
      0.003951,
      0.008279,
      0.003086,
      -0.0447,
      0.011152,
      0.011609,
      -0.020784,
      0.049919,
      -0.016204,
      -0.040119,
      -0.023277,
      0.002586,
      -0.046919,
      -0.018207,
      0.074373,
      0.034296,
      0.018177,
      0.007502,
      0.007928,
      -0.02435,
      -0.022716,
      -0.071585,
      -0.048731,
      0.013451,
      0.015523,
      -0.009163,
      0.005431,
      -0.021187,
      -0.002257,
      0.022125,
      0.007486,
      -0.01916,
      -0.003131,
      0.018583,
      -0.002714,
      -0.050724,
      -0.02239,
      0.052269,
      -0.006132,
      0.002317,
      -0.009136,
      -0.006416,
      0.020366,
      -0.055604,
      -0.013259,
      -0.022673,
      -0.001975,
      -0.012702,
      0.012068,
      0.013376,
      0.032109,
      0.012414,
      -0.010185,
      -0.013251,
      -0.01836,
      0.042825,
      0.034966,
      0.066308,
      0.012346,
      0.037943,
      -0.030114,
      -0.00805,
      -0.047675,
      -0.001584,
      0.007128,
      -0.005548,
      -0.048024,
      -0.020887,
      0.012598,
      -0.036638,
      -0.038141,
      -0.0153,
      -0.02482,
      0.024094,
      -0.004906,
      -0.002688,
      -0.011982,
      0.041656,
      0.028349,
      -0.019051,
      -0.054959,
      -0.014037,
      0.000652,
      -0.008828,
      0.035074,
      -0.008381,
      0.036711,
      0.000728,
      0.020926,
      -0.05235,
      0.046955,
      -0.012219,
      -0.034209,
      -0.005718,
      -0.005825,
      0.038362,
      0.028689,
      -0.015599,
      -0.014124,
      0.011299,
      0.048817,
      0.014931,
      0.022752,
      -0.006318,
      -0.022426,
      0.056912,
      0.014252,
      0.014342,
      0.019947,
      0.035251,
      -0.022221,
      0.029715,
      -0.002693,
      0.014611,
      0.026232,
      0.052898,
      -0.010212,
      -0.014773,
      0.005684,
      0.03321,
      -0.030815,
      -0.028274,
      0.008631,
      0.007452,
      -0.029709,
      0.021645,
      -0.010371,
      -0.011345,
      -0.017196,
      -0.020606,
      0.063366,
      0.016106,
      -0.010444,
      -0.019059,
      0.010529,
      -0.012985,
      0.016155,
      -0.021057,
      0.008261,
      0.02489,
      0.06573,
      -0.002548,
      -0.01094,
      -0.004706,
      0.017342,
      -0.003827,
      0.011042,
      0.062003,
      -0.033855,
      0.028288,
      -0.03342,
      0.025282,
      -0.01943,
      0.023504,
      -0.010118,
      -0.016881,
      -0.028483,
      0.049922,
      0.049145,
      0.009015,
      -0.004847,
      0.012518,
      -0.001793,
      0.015502,
      0.033726,
      0.018381,
      -0.017512,
      0.012044,
      0.003194,
      -0.027725,
      -0.006628,
      0.004298,
      0.009526,
      -0.010576,
      -0.008703
    ]
  },
  {
    "id": "v5-revoke-jwt-0",
    "content": "# Revoking JWTs\nBreadcrumb: Revoking JWTs\nCovers: Basic example | Using Redis\nTopics: application, params, get, create, remove, authentication, jwt, revoke, adapter, http, client, errors, cli\n\n## Basic example\n\nThe following example shows the basic flow of how a JWT can be revoked by storing it in a plain object. In a normal application you would use something like the [Redis storage shown below](#using-redis).\n\n```js\nconst { AuthenticationService } = require('@feathersjs/authentication');\nconst { NotAuthenticated } = require('@feathersjs/errors');\n\nconst revokedTokens = {};\n\nclass RevokableAuthService extends AuthenticationService {\n  async revokeAccessToken (accessToken) {\n    // First make sure the access token is valid\n    const verified = await this.verifyAccessToken(accessToken);\n\n    revokedTokens[accessToken] = true;\n\n    return verified;\n  }\n\n  async verifyAccessToken(accessToken) {\n    // First check if the token has been revoked\n    if (revokedTokens[accessToken]) {\n      throw new NotAuthenticated('Token revoked');\n    }\n\n    return super.verifyAccessToken(accessToken);\n  }\n\n  async remove (id, params) {\n    const authResult = await super.remove(id, params);\n    const { accessToken } = authResult;\n\n    if (accessToken) {\n      // If there is an access token, revoke it\n      await this.revokeAccessToken(accessToken);\n    }\n\n    return authResult;\n  }\n}\n\napp.use('/authentication', new RevokableAuthService(app));\n```\n\n## Using Redis\n\n[Redis](https://redis.io/) is a great storage mechanism for revoked JWTs because it allows to remove keys after a certain time. A revoked JWT does not have to be stored forever and can be removed from storage after it has expired since it will no longer be valid anyway. The flow is the same as shown above but using the NodeJS Redis adapter instead:\n\n```\nnpm install redis\n```\n\n```js\nconst redis = require('redis');\n\nconst { AuthenticationService } = require('@feathersjs/authentication');\nconst { NotAuthenticated } = require('@feathersjs/errors');\n\nclass RedisAuthService extends AuthenticationService {\n  constructor (app, configKey) {\n    super(app, configKey);\n\n    const client = redis.createClient();\n\n    this.redis = {\n      client,\n      get: client.get.bind(client),\n      set: client.set.bind(client),\n      exists: client.exists.bind(client),\n      expireat: client.exists.bind(client)\n    }\n\n    (async () => {\n      await this.redis.client.connect();\n    })()\n  }\n\n  async revokeAccessToken (accessToken) {\n    // First make sure the access token is valid\n    const verified = await this.verifyAccessToken(accessToken);\n    // Calculate the remaining valid time for the token (in seconds)\n    const expiry = verified.exp - Math.floor(Date.now() / 1000);\n\n    // Add the revoked token to Redis and set expiration\n    await this.redis.set(accessToken, 1, { EX: expiry });\n\n    return verified;\n  }\n\n  async verifyAccessToken(accessToken) {\n    if (await this.redis.exists(accessToken)) {\n      throw new NotAuthenticated('Token revoked');\n    }\n\n    return super.verifyAccessToken(accessToken);\n  }\n\n  async remove (id, params) {\n    const authResult = await super.remove(id, params);\n    const { accessToken } = authResult;\n\n    if (accessToken) {\n      // If there is an access token, revoke it\n      await this.revokeAccessToken(accessToken);\n    }\n\n    return authResult;\n  }\n}\n\napp.use('/authentication', new RedisAuthService(app));\n```",
    "rawContent": "## Basic example\n\nThe following example shows the basic flow of how a JWT can be revoked by storing it in a plain object. In a normal application you would use something like the [Redis storage shown below](#using-redis).\n\n```js\nconst { AuthenticationService } = require('@feathersjs/authentication');\nconst { NotAuthenticated } = require('@feathersjs/errors');\n\nconst revokedTokens = {};\n\nclass RevokableAuthService extends AuthenticationService {\n  async revokeAccessToken (accessToken) {\n    // First make sure the access token is valid\n    const verified = await this.verifyAccessToken(accessToken);\n\n    revokedTokens[accessToken] = true;\n\n    return verified;\n  }\n\n  async verifyAccessToken(accessToken) {\n    // First check if the token has been revoked\n    if (revokedTokens[accessToken]) {\n      throw new NotAuthenticated('Token revoked');\n    }\n\n    return super.verifyAccessToken(accessToken);\n  }\n\n  async remove (id, params) {\n    const authResult = await super.remove(id, params);\n    const { accessToken } = authResult;\n\n    if (accessToken) {\n      // If there is an access token, revoke it\n      await this.revokeAccessToken(accessToken);\n    }\n\n    return authResult;\n  }\n}\n\napp.use('/authentication', new RevokableAuthService(app));\n```\n\n## Using Redis\n\n[Redis](https://redis.io/) is a great storage mechanism for revoked JWTs because it allows to remove keys after a certain time. A revoked JWT does not have to be stored forever and can be removed from storage after it has expired since it will no longer be valid anyway. The flow is the same as shown above but using the NodeJS Redis adapter instead:\n\n```\nnpm install redis\n```\n\n```js\nconst redis = require('redis');\n\nconst { AuthenticationService } = require('@feathersjs/authentication');\nconst { NotAuthenticated } = require('@feathersjs/errors');\n\nclass RedisAuthService extends AuthenticationService {\n  constructor (app, configKey) {\n    super(app, configKey);\n\n    const client = redis.createClient();\n\n    this.redis = {\n      client,\n      get: client.get.bind(client),\n      set: client.set.bind(client),\n      exists: client.exists.bind(client),\n      expireat: client.exists.bind(client)\n    }\n\n    (async () => {\n      await this.redis.client.connect();\n    })()\n  }\n\n  async revokeAccessToken (accessToken) {\n    // First make sure the access token is valid\n    const verified = await this.verifyAccessToken(accessToken);\n    // Calculate the remaining valid time for the token (in seconds)\n    const expiry = verified.exp - Math.floor(Date.now() / 1000);\n\n    // Add the revoked token to Redis and set expiration\n    await this.redis.set(accessToken, 1, { EX: expiry });\n\n    return verified;\n  }\n\n  async verifyAccessToken(accessToken) {\n    if (await this.redis.exists(accessToken)) {\n      throw new NotAuthenticated('Token revoked');\n    }\n\n    return super.verifyAccessToken(accessToken);\n  }\n\n  async remove (id, params) {\n    const authResult = await super.remove(id, params);\n    const { accessToken } = authResult;\n\n    if (accessToken) {\n      // If there is an access token, revoke it\n      await this.revokeAccessToken(accessToken);\n    }\n\n    return authResult;\n  }\n}\n\napp.use('/authentication', new RedisAuthService(app));\n```",
    "breadcrumb": "Revoking JWTs",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/authentication/revoke-jwt.md",
    "heading": "Revoking JWTs",
    "subHeadings": [
      "Basic example",
      "Using Redis"
    ],
    "hasCode": true,
    "codeLanguages": [
      "js",
      "text"
    ],
    "tokens": 808,
    "category": "cookbook-authentication",
    "tags": [
      "application",
      "params",
      "get",
      "create",
      "remove",
      "authentication",
      "jwt",
      "revoke",
      "adapter",
      "http",
      "client",
      "errors",
      "cli"
    ],
    "embedding": [
      0.00327,
      0.052371,
      -0.043788,
      0.048515,
      -0.010689,
      -0.035277,
      0.023328,
      -0.015968,
      0.010298,
      0.015333,
      -0.00529,
      0.002991,
      -0.045087,
      0.039504,
      0.027355,
      0.009978,
      0.001938,
      0.01655,
      -0.005255,
      0.030603,
      -0.028381,
      0.011559,
      0.028488,
      -0.015703,
      0.018288,
      0.008362,
      -0.028032,
      -0.007554,
      0.061948,
      0.019056,
      0.044992,
      -0.0174,
      -0.0127,
      -0.002036,
      0.015136,
      -0.005044,
      -0.01009,
      0.006026,
      -0.016507,
      0.020627,
      -0.002985,
      -0.048612,
      0.010833,
      -0.027253,
      0.030091,
      -0.032008,
      0.000926,
      -0.009974,
      -0.00714,
      -0.001796,
      -0.041792,
      0.010631,
      0.074414,
      -0.037155,
      0.026986,
      0.038988,
      -0.013736,
      -0.026042,
      -0.023126,
      0.036331,
      0.032131,
      0.017594,
      -0.039955,
      0.008954,
      -0.029774,
      0.045737,
      -0.047041,
      -0.031484,
      -0.018982,
      -0.038981,
      -0.011319,
      0.034462,
      -0.055437,
      0.010445,
      -0.037795,
      -0.026824,
      0.023188,
      0.027354,
      0.025084,
      0.00328,
      0.007698,
      -0.003627,
      -0.00112,
      0.038766,
      -0.016529,
      0.004137,
      0.006748,
      0.036771,
      -0.004846,
      0.000868,
      0.025577,
      -0.02076,
      0.024989,
      -0.035107,
      0.017713,
      0.029109,
      -0.032301,
      -0.013756,
      0.084,
      0.042627,
      -0.005381,
      -0.023234,
      -0.031649,
      0.0129,
      0.059071,
      0.019624,
      0.094882,
      0.010967,
      0.045586,
      -0.034173,
      -0.015398,
      0.016158,
      -0.00662,
      -0.001664,
      -0.02532,
      -0.026196,
      -0.017056,
      -0.000258,
      -0.024412,
      -0.01369,
      -0.01067,
      0.041726,
      0.012309,
      -0.020694,
      0.024645,
      0.022932,
      -0.008344,
      0.032544,
      -0.026885,
      0.033459,
      0.012289,
      -0.003388,
      -0.034245,
      0.021199,
      -0.039597,
      0.028765,
      0.03395,
      0.020033,
      0.029262,
      -0.053683,
      0.021228,
      0.017832,
      -0.04347,
      -0.030472,
      0.017515,
      -0.019796,
      0.041563,
      0.002274,
      0.010961,
      -0.03469,
      -0.013748,
      -0.014317,
      0.029113,
      -0.036672,
      0.013342,
      -0.043903,
      -0.024305,
      0.048375,
      0.027836,
      -0.007152,
      -0.025805,
      0.04828,
      -0.040336,
      0.035344,
      0.031874,
      -0.0167,
      0.037988,
      -0.068613,
      -0.019776,
      0.002259,
      0.001164,
      0.001621,
      0.023531,
      -0.012394,
      0.026202,
      0.022871,
      0.034669,
      0.024687,
      0.037138,
      -0.02541,
      -0.045688,
      0.043071,
      -0.010657,
      -0.040345,
      -0.000674,
      0.053487,
      0.006984,
      0.017995,
      0.006947,
      0.022965,
      -0.057205,
      0.004602,
      0.019583,
      0.033015,
      -0.021906,
      -0.017369,
      0.018316,
      -0.00629,
      0.026197,
      0.006,
      -0.038203,
      0.017485,
      0.027318,
      0.012787,
      -0.030642,
      -0.034476,
      -0.002644,
      -0.034064,
      0.023965,
      -0.070585,
      -0.002001,
      0.012632,
      0.002919,
      0.005248,
      -0.050239,
      0.025652,
      -0.002097,
      0.010888,
      -0.025173,
      0.005404,
      -0.017948,
      -0.010215,
      -0.029911,
      -0.004399,
      0.008446,
      0.000605,
      -0.009641,
      -0.00846,
      0.012729,
      -0.007379,
      -0.039392,
      -0.004487,
      0.038717,
      -0.023704,
      0.046285,
      -0.022275,
      -0.031838,
      0.012323,
      0.001689,
      0.006751,
      -0.010303,
      -0.028968,
      0.052548,
      0.015089,
      -0.028946,
      -0.002836,
      0.016198,
      0.010469,
      -0.050826,
      -0.035335,
      -0.034202,
      0.016639,
      -0.024916,
      0.025465,
      -0.009946,
      -0.007198,
      0.005939,
      -0.000743,
      -0.01064,
      -0.018892,
      0.043329,
      0.017997,
      0.01359,
      0.00862,
      0.033247,
      -0.003027,
      -0.04013,
      -0.009237,
      0.002698,
      0.032421,
      -0.043585,
      0.048878,
      0.002177,
      0.006828,
      -0.009146,
      0.033695,
      0.031771,
      -0.002394,
      0.072593,
      0.026952,
      -0.059495,
      -0.002334,
      0.036772,
      0.02507,
      0.01388,
      -0.003743,
      -0.033883,
      0.005925,
      0.013403,
      -0.03999,
      0.01193,
      -0.002309,
      0.082793,
      0.002429,
      -0.032061,
      -0.016432,
      -0.002447,
      -0.13621,
      -0.034572,
      0.02859,
      0.008465,
      0.00374,
      0.032105,
      -0.096292,
      -0.026364,
      -0.036701,
      0.00103,
      -0.003426,
      -0.064249,
      -0.004188,
      -0.056349,
      0.037263,
      -0.003949,
      -0.011404,
      0.015194,
      0.04073,
      -0.041607,
      -0.004063,
      -0.026168,
      0.083281,
      -0.014324,
      0.030688,
      -0.007424,
      0.030849,
      0.021573,
      -0.026863,
      0.003862,
      -0.01018,
      -0.00219,
      -0.007559,
      -0.015746,
      0.013347,
      0.012578,
      0.022913,
      -0.014396,
      0.021045,
      -0.039824,
      0.009809,
      -0.004085,
      -0.010845,
      0.009191,
      0.041866,
      0.007816,
      0.055698,
      -0.005579,
      -0.017232,
      0.006712,
      0.039314,
      -0.024546,
      -0.033161,
      0.012482,
      -0.014127,
      -0.00211,
      0.035611,
      0.046866,
      -0.042669,
      -0.0069,
      -0.010154,
      0.00821,
      0.027526,
      0.000209,
      -0.029409,
      -0.014622,
      0.040928,
      -0.010097,
      0.032237,
      -0.045652,
      0.0412,
      -0.043774,
      -0.002046,
      0.024932,
      -0.026522,
      -0.013601,
      0.019366,
      0.018822,
      0.010834,
      -0.108351,
      0.005416,
      0.001805,
      -0.020722,
      0.036191,
      -0.023111,
      0.009784,
      -0.030265,
      0.005434,
      0.015242,
      0.234798,
      0.012744,
      0.005049,
      -0.025932,
      0.08216,
      -0.020975,
      0.041522,
      0.049577,
      0.004569,
      -0.026096,
      -0.003608,
      0.04639,
      0.005393,
      0.005352,
      -0.028068,
      0.018312,
      -0.040194,
      0.072884,
      0.085565,
      -0.021892,
      0.068298,
      0.014714,
      -0.000559,
      0.059935,
      -0.038468,
      0.024269,
      0.016124,
      0.075301,
      -0.045406,
      0.049471,
      0.001337,
      0.031983,
      0.049482,
      -0.043374,
      -0.056078,
      -0.010632,
      -0.040304,
      -0.044291,
      -0.021899,
      0.037007,
      -0.014994,
      -0.031978,
      0.033313,
      0.002243,
      0.026955,
      0.00984,
      -0.027803,
      -0.000658,
      0.022197,
      -0.031562,
      -0.0182,
      0.002149,
      -0.001771,
      -0.011287,
      -0.019227,
      -0.036791,
      0.016438,
      -0.003171,
      -0.00608,
      0.024176,
      0.011887,
      0.011975,
      -0.048646,
      0.052828,
      0.00617,
      0.015099,
      0.017123,
      -0.035952,
      0.059949,
      0.062076,
      0.005461,
      0.00837,
      0.037081,
      -0.040776,
      0.023647,
      0.005203,
      0.010921,
      0.020201,
      -0.010736,
      0.000395,
      0.026676,
      0.011226,
      0.005461,
      0.01406,
      0.0214,
      -0.001102,
      0.000061,
      0.043978,
      -0.021076,
      -0.015991,
      -0.01838,
      -0.008323,
      -0.024353,
      0.039914,
      0.020305,
      0.01775,
      0.034752,
      0.004466,
      -0.019843,
      0.001146,
      0.020363,
      0.02601,
      0.024836,
      -0.055085,
      0.049759,
      -0.068311,
      -0.024272,
      -0.014498,
      0.005638,
      0.016098,
      -0.069892,
      0.046266,
      0.00157,
      -0.021047,
      -0.037565,
      0.046935,
      0.049538,
      0.030546,
      0.04136,
      0.023124,
      0.015462,
      -0.027164,
      -0.029706,
      0.002839,
      0.019597,
      -0.050036,
      -0.01405,
      -0.032308,
      -0.041289,
      0.035729,
      -0.009808,
      -0.017776,
      0.001888,
      0.058996,
      0.05974,
      0.02276,
      0.000654,
      0.01967,
      -0.004831,
      0.024233,
      -0.055301,
      0.007345,
      0.000732,
      -0.024015,
      0.012775,
      -0.014075,
      -0.015667,
      0.04955,
      -0.005706,
      -0.009813,
      0.023161,
      0.057881,
      0.012008,
      -0.034091,
      -0.044245,
      -0.034168,
      0.008394,
      0.0256,
      0.019258,
      -0.019511,
      -0.008326,
      -0.004381,
      0.010812,
      0.036121,
      0.059388,
      0.012954,
      0.034935,
      0.034922,
      -0.003803,
      -0.018632,
      0.008034,
      -0.094703,
      -0.032986,
      -0.020859,
      0.007997,
      -0.017535,
      -0.052424,
      0.014832,
      0.005438,
      -0.047793,
      -0.003161,
      -0.011197,
      -0.002768,
      -0.009595,
      0.044642,
      0.035611,
      0.004144,
      -0.007691,
      0.006049,
      -0.024598,
      -0.059777,
      0.080809,
      0.00727,
      -0.005111,
      0.004021,
      -0.051993,
      0.018876,
      0.013766,
      0.004446,
      0.004533,
      -0.039065,
      -0.014018,
      -0.017026,
      -0.006318,
      -0.016969,
      -0.015882,
      -0.014161,
      0.027647,
      -0.025781,
      0.005615,
      -0.024234,
      0.005099,
      -0.008876,
      0.005132,
      0.027454,
      -0.054623,
      0.065643,
      0.024666,
      0.04137,
      -0.023932,
      -0.062881,
      0.002797,
      0.037506,
      -0.032191,
      0.015289,
      0.008243,
      0.003574,
      -0.00082,
      -0.012997,
      0.039829,
      -0.008437,
      -0.002684,
      0.013824,
      -0.05247,
      -0.007822,
      0.012388,
      0.038117,
      0.011877,
      0.045478,
      -0.024565,
      0.055993,
      -0.008871,
      -0.021542,
      0.010184,
      -0.018923,
      0.01605,
      0.023365,
      0.007527,
      -0.002082,
      0.028761,
      -0.005416,
      -0.027306,
      -0.009185,
      -0.035532,
      0.014407,
      0.069921,
      0.017532,
      -0.033022,
      0.002855,
      -0.02491,
      -0.034954,
      0.006944,
      -0.007544,
      -0.013833,
      0.003195,
      -0.044692,
      0.02537,
      -0.027941,
      0.003785,
      -0.022754,
      -0.019723,
      0.015751,
      -0.018279,
      -0.019374,
      -0.006057,
      -0.020315,
      -0.026909,
      -0.024958,
      0.027896,
      0.018301,
      -0.041516,
      -0.024262,
      0.032242,
      0.022575,
      0.007294,
      0.018795,
      0.037825,
      -0.020494,
      -0.029715,
      -0.011751,
      0.003921,
      -0.024511,
      -0.023856,
      0.004504,
      -0.017928,
      -0.03811,
      -0.016853,
      0.020319,
      0.000121,
      0.032185,
      -0.00119,
      -0.019623,
      -0.007367,
      0.002227,
      -0.038949,
      0.038471,
      -0.025146,
      -0.029666,
      0.065949,
      0.023143,
      0.015471,
      -0.051035,
      0.025869,
      -0.001753,
      0.0204,
      -0.027468,
      0.05568,
      -0.048843,
      0.008047,
      -0.00543,
      0.025758,
      0.001063,
      -0.050498,
      -0.017201,
      0.02049,
      0.011351,
      -0.005099,
      -0.016291,
      0.008301,
      0.025991,
      -0.008894,
      -0.019429,
      -0.031034,
      -0.056822,
      -0.013674,
      0.014499,
      -0.006061,
      -0.008824,
      0.017707,
      -0.075226,
      -0.015859,
      -0.02642,
      0.053268,
      -0.021492,
      -0.028226,
      0.002368,
      -0.032782,
      -0.014622,
      -0.019485,
      -0.0109,
      0.011144,
      0.045899,
      -0.02779,
      -0.046114,
      0.002353,
      -0.043819,
      -0.020763,
      0.025774,
      0.00945,
      0.048091,
      0.015541,
      0.03333,
      -0.033192,
      -0.018253,
      -0.000634,
      -0.0007,
      0.044365,
      -0.022849,
      -0.044959,
      -0.016842,
      -0.026524,
      0.036934,
      0.029096,
      -0.020909,
      -0.017519,
      0.015198,
      -0.001268,
      0.035456,
      0.010258,
      -0.030824,
      -0.02273,
      -0.031392,
      -0.03427,
      -0.014453,
      -0.032087,
      0.060375,
      -0.030371,
      0.003962,
      -0.005849,
      -0.020956,
      -0.025257,
      0.017562,
      -0.029165,
      0.017516,
      -0.137932,
      -0.018961,
      -0.022594,
      0.039435,
      -0.027024,
      0.002645,
      0.012715,
      -0.052392,
      -0.011923,
      -0.016371,
      -0.0741,
      -0.034611,
      0.027736,
      -0.024214,
      0.029749,
      -0.004928,
      -0.013379,
      0.007256,
      -0.010021,
      -0.04236,
      -0.006259,
      -0.030591,
      0.005504,
      -0.040375,
      -0.033584,
      -0.020763,
      -0.002289,
      0.01857,
      -0.013771,
      -0.042934,
      0.018886,
      -0.002605,
      0.00526,
      0.044069,
      -0.010231,
      -0.004173,
      -0.025195,
      -0.005022,
      -0.016429,
      0.007979,
      0.017507,
      0.024668,
      -0.05735,
      0.03755,
      0.017247,
      0.037364,
      -0.043191,
      -0.011226,
      -0.00705,
      -0.051115,
      -0.02564,
      0.055812,
      0.037639,
      -0.038571,
      -0.0047,
      0.022076,
      -0.037074,
      -0.027116,
      -0.043734,
      -0.019806,
      0.005738,
      0.025453,
      -0.05879,
      -0.031751,
      -0.031143,
      0.023223,
      -0.045263,
      -0.002358,
      -0.028489,
      -0.015726,
      -0.001405,
      -0.003693,
      -0.047352,
      -0.013673,
      0.00154,
      -0.008146,
      0.049862,
      -0.027837,
      -0.028669,
      -0.023904,
      -0.019222,
      -0.029612,
      -0.021726,
      0.025522,
      0.057457,
      0.037292,
      0.006376,
      -0.003423,
      0.009746,
      -0.016518,
      -0.097312,
      -0.032858,
      0.015238,
      0.045068,
      0.010398,
      0.003117,
      -0.008676,
      0.012355,
      0.020817,
      0.007012,
      -0.010736,
      0.000987,
      0.0617,
      -0.016931,
      -0.031598,
      0.000195,
      -0.013469,
      0.039254,
      -0.014733,
      -0.024221,
      0.007511,
      -0.012376,
      -0.039716,
      0.020933,
      -0.051125,
      0.028906,
      -0.008498,
      0.019462,
      -0.032374,
      -0.010804,
      0.025148,
      -0.021783,
      0.019801,
      -0.026667,
      -0.020402,
      0.022832,
      0.068337,
      0.001248,
      0.027343,
      -0.051089,
      0.026599,
      -0.050785,
      -0.051602,
      0.022837,
      0.019718,
      -0.044375,
      -0.068816,
      0.027839,
      0.001367,
      -0.035917,
      -0.003087,
      -0.01222,
      0.032769,
      -0.022671,
      -0.015993,
      -0.015113,
      -0.00736,
      -0.006513,
      -0.006724,
      -0.078186,
      -0.011416,
      0.011597,
      -0.038316,
      0.036476,
      0.004231,
      0.003997,
      0.00738,
      0.002268,
      0.032512,
      0.021208,
      0.003805,
      -0.036851,
      -0.020894,
      0.015013,
      -0.026828,
      -0.001891,
      -0.051769,
      -0.014721,
      -0.011481,
      0.027433,
      0.011604,
      0.082109,
      -0.028905,
      -0.028284,
      0.036634,
      -0.035376,
      -0.012884,
      -0.033696,
      0.025503,
      -0.029781,
      0.017478,
      0.009776,
      0.033392,
      -0.035267,
      0.046717,
      0.004119,
      0.006327,
      0.014817,
      0.008975,
      -0.018627,
      -0.030927,
      -0.017887,
      0.004345,
      -0.016271,
      -0.021954,
      -0.017018,
      0.022556,
      0.018917,
      0.006349,
      0.039844,
      0.033232,
      -0.038611,
      -0.026495,
      -0.003941,
      -0.02494,
      -0.011433,
      0.00162,
      0.030111,
      -0.022037,
      0.064198,
      -0.057979,
      0.01659,
      -0.006205,
      0.020962,
      0.048449,
      -0.005043,
      0.076433,
      0.044811,
      0.014979,
      -0.048193,
      0.026812,
      -0.013061,
      0.007023,
      -0.024288,
      -0.047028,
      -0.031436,
      -0.022423,
      -0.019994,
      -0.020471,
      0.014663,
      -0.044101,
      -0.01322,
      -0.051471,
      0.06919,
      0.035335,
      -0.022264,
      0.006233,
      0.028755,
      0.004803,
      -0.017873,
      -0.008758,
      -0.034892,
      0.033253,
      -0.009547
    ]
  },
  {
    "id": "v5-stateless-0",
    "content": "# Stateless JWT\nBreadcrumb: Stateless JWT\nCovers: Configuration | Customizing the payload\nTopics: params, get, authentication, jwt, local strategy, stateless, http, configuration\n\n## Configuration\n\nStateless tokens can be issued by setting the `entity` option in the [JWT strategy authentication configuration](../../api/authentication/jwt.md#configuration) to `null` (in which case `service` option also won't be used):\n\n```json\n{\n  \"authentication\": {\n    \"secret\": \"CHANGE_ME\",\n    \"entity\": null,\n    \"authStrategies\": [ \"jwt\", \"local\" ],\n    \"jwtOptions\": {\n      \"header\": { \"typ\": \"access\" },\n      \"audience\": \"https://yourdomain.com\",\n      \"issuer\": \"feathers\",\n      \"algorithm\": \"HS256\",\n      \"expiresIn\": \"1d\"\n    }\n  }\n}\n```\n\n> __Note:__ When still using other built-in strategies (like the [local strategy](../../api/authentication/local.md)) with an entity, the option can be set for each strategy (e.g. `{ \"authentication\": { \"local\": { \"entity\": \"user\" } } }`).\n\n## Customizing the payload\n\nIn order for the token to contain information, the `getPayload` method needs to be customize by [extending the authentication service](../../api/authentication/service.md#customization):\n\n```js\nconst { AuthenticationService } = require('@feathersjs/authentication');\n\nclass MyAuthService extends AuthenticationService {\n  async getPayload(authResult, params) {\n    // Call original `getPayload` first\n    const payload = await super.getPayload(authResult, params);\n    const { user } = authResult;\n\n    if (user && user.permissions) {\n      payload.permissions = user.permissions;\n    }\n\n    return payload;\n  }\n}\n\napp.use('/authentication', new MyAuthService(app));\n```",
    "rawContent": "## Configuration\n\nStateless tokens can be issued by setting the `entity` option in the [JWT strategy authentication configuration](../../api/authentication/jwt.md#configuration) to `null` (in which case `service` option also won't be used):\n\n```json\n{\n  \"authentication\": {\n    \"secret\": \"CHANGE_ME\",\n    \"entity\": null,\n    \"authStrategies\": [ \"jwt\", \"local\" ],\n    \"jwtOptions\": {\n      \"header\": { \"typ\": \"access\" },\n      \"audience\": \"https://yourdomain.com\",\n      \"issuer\": \"feathers\",\n      \"algorithm\": \"HS256\",\n      \"expiresIn\": \"1d\"\n    }\n  }\n}\n```\n\n> __Note:__ When still using other built-in strategies (like the [local strategy](../../api/authentication/local.md)) with an entity, the option can be set for each strategy (e.g. `{ \"authentication\": { \"local\": { \"entity\": \"user\" } } }`).\n\n## Customizing the payload\n\nIn order for the token to contain information, the `getPayload` method needs to be customize by [extending the authentication service](../../api/authentication/service.md#customization):\n\n```js\nconst { AuthenticationService } = require('@feathersjs/authentication');\n\nclass MyAuthService extends AuthenticationService {\n  async getPayload(authResult, params) {\n    // Call original `getPayload` first\n    const payload = await super.getPayload(authResult, params);\n    const { user } = authResult;\n\n    if (user && user.permissions) {\n      payload.permissions = user.permissions;\n    }\n\n    return payload;\n  }\n}\n\napp.use('/authentication', new MyAuthService(app));\n```",
    "breadcrumb": "Stateless JWT",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/authentication/stateless.md",
    "heading": "Stateless JWT",
    "subHeadings": [
      "Configuration",
      "Customizing the payload"
    ],
    "hasCode": true,
    "codeLanguages": [
      "json",
      "text",
      "js"
    ],
    "tokens": 375,
    "category": "cookbook-authentication",
    "tags": [
      "params",
      "get",
      "authentication",
      "jwt",
      "local strategy",
      "stateless",
      "http",
      "configuration"
    ],
    "embedding": [
      -0.019703,
      0.011462,
      -0.015912,
      0.008729,
      -0.014753,
      -0.000234,
      0.040829,
      0.016932,
      0.010834,
      0.000055,
      0.001053,
      0.000955,
      -0.025653,
      -0.021128,
      -0.017173,
      -0.037145,
      -0.002212,
      0.02048,
      0.004026,
      -0.003621,
      -0.049623,
      -0.032042,
      0.00132,
      0.023293,
      0.012439,
      0.013749,
      0.005232,
      -0.028853,
      0.019057,
      -0.010665,
      0.033508,
      -0.026437,
      -0.013691,
      0.00426,
      0.00871,
      -0.028297,
      -0.03282,
      -0.001341,
      -0.02964,
      0.020682,
      -0.004909,
      -0.025251,
      -0.012718,
      -0.037713,
      -0.019905,
      -0.033582,
      -0.002606,
      0.000446,
      0.004285,
      -0.015399,
      -0.056248,
      0.011631,
      0.027507,
      -0.063415,
      0.010762,
      -0.000338,
      -0.009478,
      0.024591,
      -0.031075,
      -0.005209,
      -0.005557,
      0.01883,
      -0.005821,
      0.037746,
      0.015633,
      0.033444,
      -0.000606,
      -0.02041,
      -0.012829,
      -0.034422,
      0.009647,
      0.01352,
      -0.061513,
      0.021935,
      -0.038357,
      0.004306,
      0.047886,
      0.017016,
      -0.006459,
      0.010986,
      -0.011352,
      -0.000987,
      -0.007381,
      0.021947,
      0.051513,
      -0.004838,
      -0.004494,
      0.071914,
      0.029861,
      -0.018196,
      0.021,
      -0.014559,
      0.100538,
      -0.051572,
      0.008145,
      -0.019561,
      -0.009543,
      -0.004015,
      0.016098,
      0.023918,
      0.010698,
      -0.006184,
      -0.003225,
      -0.029199,
      0.022467,
      0.044807,
      0.039447,
      -0.01945,
      0.006959,
      -0.050578,
      -0.006717,
      0.017115,
      0.025481,
      0.023092,
      -0.0244,
      -0.016778,
      0.012421,
      0.00317,
      0.003067,
      -0.009997,
      -0.024788,
      0.008331,
      0.01658,
      -0.016526,
      0.033941,
      0.01345,
      0.028762,
      0.016608,
      -0.025153,
      0.022641,
      0.00133,
      -0.036068,
      -0.045212,
      0.000446,
      -0.048375,
      0.016209,
      0.005166,
      -0.006749,
      -0.03018,
      -0.048677,
      -0.000436,
      0.020172,
      0.010471,
      -0.022362,
      0.05114,
      -0.068562,
      0.058478,
      0.003133,
      0.026599,
      -0.015556,
      -0.013763,
      0.007833,
      0.007766,
      -0.064331,
      0.006582,
      -0.045026,
      -0.01335,
      0.031174,
      0.000289,
      0.016671,
      0.006163,
      0.037878,
      -0.063169,
      0.004513,
      0.033999,
      -0.038211,
      0.029713,
      -0.026775,
      -0.043503,
      -0.019906,
      0.048054,
      -0.012935,
      -0.000297,
      0.000986,
      -0.011213,
      0.03138,
      0.058045,
      0.03388,
      -0.016153,
      -0.022288,
      -0.063418,
      0.03803,
      -0.019595,
      -0.051386,
      0.03373,
      0.01283,
      -0.026763,
      0.001435,
      -0.012321,
      0.025593,
      -0.059262,
      0.026212,
      -0.008974,
      0.031664,
      0.001931,
      -0.019188,
      -0.006734,
      0.046848,
      0.011832,
      -0.001475,
      -0.045949,
      0.025846,
      0.024079,
      -0.013503,
      0.000322,
      -0.035614,
      0.042022,
      -0.039436,
      0.046483,
      -0.045123,
      0.001714,
      0.025402,
      -0.016794,
      -0.044342,
      -0.017984,
      0.043483,
      0.01226,
      0.008991,
      -0.014345,
      0.008828,
      -0.022129,
      0.037723,
      0.006654,
      0.015268,
      0.050588,
      0.014293,
      0.014786,
      -0.025838,
      0.019852,
      -0.010077,
      -0.037854,
      0.044665,
      -0.018428,
      -0.008213,
      0.03516,
      -0.004042,
      -0.056347,
      -0.004389,
      -0.015015,
      -0.03178,
      -0.009137,
      -0.019428,
      0.019793,
      0.004017,
      -0.056346,
      0.02355,
      0.029139,
      0.043027,
      -0.029013,
      -0.002498,
      -0.040279,
      0.005165,
      -0.017925,
      0.033258,
      0.007033,
      0.000686,
      0.004446,
      -0.022105,
      -0.042734,
      -0.026987,
      0.016193,
      -0.006174,
      0.023801,
      0.007271,
      -0.007305,
      0.012912,
      -0.058906,
      -0.034605,
      0.013795,
      0.014656,
      -0.008834,
      0.017368,
      0.053138,
      0.032108,
      -0.001691,
      0.044133,
      0.007897,
      -0.012935,
      0.063859,
      -0.006421,
      -0.012755,
      0.014365,
      0.051422,
      0.030055,
      0.043021,
      -0.021843,
      -0.021714,
      -0.036313,
      0.007623,
      -0.060213,
      -0.011368,
      0.009073,
      0.082343,
      -0.037658,
      -0.016354,
      -0.035822,
      -0.01512,
      -0.145366,
      -0.029439,
      0.032036,
      0.018628,
      -0.016055,
      0.016988,
      -0.05935,
      0.008623,
      -0.039489,
      0.015746,
      0.056936,
      -0.047645,
      0.004191,
      -0.012323,
      -0.005305,
      -0.023185,
      -0.017168,
      0.036465,
      0.006676,
      -0.030104,
      -0.000147,
      -0.025394,
      0.020719,
      -0.0242,
      -0.017816,
      0.027579,
      0.01163,
      0.014536,
      -0.022215,
      -0.002631,
      0.033547,
      0.018612,
      0.011494,
      0.002028,
      -0.014145,
      -0.038229,
      0.025465,
      -0.030361,
      0.04894,
      0.010032,
      0.025834,
      0.002803,
      0.011572,
      -0.037138,
      -0.001001,
      0.007262,
      0.043196,
      0.006776,
      0.015993,
      -0.001422,
      0.008456,
      -0.023747,
      -0.04497,
      -0.019676,
      -0.044584,
      -0.019629,
      -0.01319,
      0.027051,
      0.00065,
      -0.001326,
      0.002424,
      0.005795,
      0.056088,
      -0.04023,
      0.002764,
      0.010746,
      0.05087,
      0.001978,
      0.033971,
      -0.027209,
      0.038521,
      -0.061293,
      0.033584,
      -0.015817,
      -0.011189,
      0.013057,
      0.040996,
      -0.013428,
      -0.010509,
      -0.077738,
      0.001271,
      0.022981,
      -0.020368,
      0.015345,
      -0.013802,
      -0.082701,
      0.024508,
      -0.009513,
      0.025521,
      0.217813,
      0.020216,
      0.000497,
      0.022157,
      0.042901,
      -0.04513,
      0.005093,
      0.035024,
      -0.020453,
      -0.019681,
      0.009368,
      0.034382,
      0.007455,
      0.021889,
      -0.013322,
      0.006217,
      -0.073291,
      0.041113,
      0.051992,
      -0.018119,
      0.040943,
      0.002304,
      0.022097,
      0.020926,
      -0.093632,
      -0.020191,
      -0.021298,
      0.026967,
      -0.03179,
      0.013887,
      -0.022958,
      0.001353,
      0.052376,
      -0.021392,
      -0.012356,
      0.037925,
      -0.018389,
      -0.034572,
      -0.004112,
      0.043883,
      -0.005104,
      -0.013665,
      0.033313,
      -0.017026,
      -0.000101,
      0.015377,
      -0.002353,
      0.010267,
      0.009093,
      -0.008496,
      -0.032176,
      -0.027618,
      -0.03403,
      -0.011112,
      -0.012298,
      -0.037839,
      0.000628,
      0.009585,
      -0.020984,
      -0.005561,
      0.047042,
      -0.002252,
      -0.095727,
      0.033044,
      0.009412,
      -0.000921,
      -0.011799,
      -0.019859,
      0.028203,
      0.056334,
      -0.022593,
      -0.003094,
      0.011336,
      0.030875,
      0.006292,
      0.00674,
      0.054568,
      0.037185,
      -0.029976,
      0.012597,
      0.000388,
      -0.013021,
      0.023378,
      0.032478,
      -0.006028,
      0.022839,
      0.027484,
      0.021429,
      -0.016736,
      -0.037593,
      0.030524,
      -0.031789,
      -0.035666,
      0.061052,
      -0.032085,
      0.022213,
      0.03385,
      0.012811,
      -0.023481,
      0.000384,
      0.04349,
      0.03994,
      0.000002,
      -0.008356,
      0.056919,
      -0.034451,
      0.008527,
      -0.002871,
      -0.001172,
      0.014161,
      -0.055556,
      -0.001083,
      0.021747,
      -0.050433,
      -0.039665,
      0.038111,
      -0.018296,
      0.010037,
      0.062067,
      0.043,
      0.006872,
      0.020936,
      -0.03254,
      -0.023332,
      0.011423,
      -0.03658,
      -0.018175,
      -0.008794,
      -0.029156,
      0.035751,
      0.039471,
      -0.019732,
      0.040426,
      0.028507,
      0.031558,
      -0.018921,
      0.046837,
      0.038257,
      0.0042,
      0.00736,
      -0.09418,
      -0.008016,
      -0.020704,
      0.021879,
      0.01389,
      -0.031974,
      -0.015229,
      0.046207,
      -0.026148,
      0.027547,
      0.068096,
      0.076398,
      0.024107,
      -0.033034,
      -0.008255,
      -0.078157,
      0.002737,
      -0.009966,
      -0.004534,
      -0.053275,
      -0.023376,
      0.007939,
      0.019585,
      0.08362,
      0.031073,
      0.011819,
      0.006967,
      -0.006168,
      -0.030556,
      -0.044604,
      0.000856,
      -0.081235,
      -0.058252,
      0.04808,
      0.016852,
      -0.008529,
      -0.03183,
      0.009746,
      -0.020321,
      -0.042457,
      0.031725,
      -0.01589,
      -0.062864,
      -0.001866,
      0.009863,
      0.002783,
      -0.046239,
      -0.01134,
      -0.018322,
      -0.023706,
      -0.008801,
      0.093406,
      -0.029754,
      0.009058,
      0.056433,
      -0.003307,
      0.028747,
      0.057216,
      0.018616,
      0.032022,
      -0.007797,
      -0.015836,
      -0.040131,
      -0.019034,
      0.027009,
      -0.012506,
      -0.002422,
      0.030283,
      -0.014055,
      0.006847,
      -0.040118,
      0.015081,
      -0.033288,
      0.000448,
      0.051491,
      -0.043912,
      0.053663,
      0.072006,
      0.022042,
      0.007799,
      -0.020799,
      0.042647,
      -0.024528,
      0.005221,
      0.01576,
      0.004496,
      0.000808,
      -0.026783,
      -0.000493,
      0.008568,
      -0.008867,
      -0.046533,
      -0.03063,
      -0.016689,
      0.001049,
      0.005759,
      0.032852,
      0.027173,
      0.026479,
      -0.01048,
      -0.013956,
      -0.026646,
      0.007307,
      0.025236,
      -0.021308,
      0.014349,
      -0.021953,
      -0.011061,
      -0.032809,
      0.00873,
      -0.017934,
      -0.039947,
      0.012664,
      -0.060945,
      0.010124,
      0.026685,
      -0.01431,
      -0.036218,
      -0.027566,
      0.00821,
      -0.014867,
      0.026176,
      0.010299,
      -0.023402,
      0.053015,
      -0.095229,
      -0.007983,
      -0.079949,
      -0.009153,
      -0.012318,
      -0.047851,
      0.004308,
      -0.022556,
      -0.015102,
      0.011303,
      -0.016058,
      -0.021546,
      -0.007873,
      -0.007789,
      -0.01715,
      -0.055144,
      -0.025984,
      -0.024481,
      0.036203,
      -0.001956,
      0.058908,
      0.022663,
      -0.034409,
      -0.01712,
      -0.004772,
      -0.000621,
      0.019183,
      -0.001956,
      0.014819,
      -0.002574,
      0.004137,
      -0.036934,
      -0.007816,
      -0.001017,
      0.015001,
      -0.025214,
      0.014089,
      -0.01079,
      -0.000241,
      0.005719,
      0.02118,
      -0.031645,
      -0.026811,
      -0.02105,
      -0.005502,
      0.022314,
      -0.040248,
      -0.019746,
      0.013517,
      0.018904,
      -0.016635,
      0.071968,
      0.006441,
      0.021113,
      0.00996,
      0.022479,
      -0.009804,
      -0.02794,
      -0.020866,
      0.03638,
      -0.010385,
      -0.009807,
      -0.026517,
      -0.020276,
      0.013688,
      -0.041614,
      0.025388,
      -0.033099,
      -0.054337,
      -0.032741,
      0.01603,
      0.047211,
      0.01616,
      0.008712,
      -0.015257,
      -0.013427,
      -0.051442,
      0.029671,
      -0.017962,
      -0.007036,
      -0.033233,
      -0.009252,
      -0.009194,
      -0.025867,
      0.020373,
      -0.018227,
      0.005667,
      0.016374,
      -0.019739,
      0.056899,
      -0.039046,
      0.01366,
      0.031312,
      0.033557,
      0.06067,
      -0.007566,
      0.052076,
      0.018108,
      -0.043163,
      -0.0256,
      -0.016567,
      0.022235,
      -0.035291,
      0.000027,
      -0.003325,
      -0.026067,
      -0.015652,
      0.033842,
      0.019808,
      -0.017719,
      0.020907,
      0.013002,
      -0.003483,
      0.014119,
      -0.01533,
      -0.00009,
      -0.003653,
      -0.034651,
      0.012672,
      -0.003183,
      0.049558,
      0.03805,
      0.000608,
      0.030907,
      0.03561,
      -0.015537,
      0.012334,
      -0.016704,
      0.006036,
      -0.145326,
      0.013276,
      -0.020175,
      0.007109,
      -0.009242,
      0.008284,
      -0.039692,
      -0.005098,
      0.013051,
      -0.012627,
      -0.022632,
      -0.015541,
      0.034741,
      -0.001555,
      0.039278,
      -0.007666,
      0.031694,
      -0.031348,
      -0.010256,
      -0.028997,
      -0.028377,
      -0.025118,
      0.026649,
      0.002164,
      -0.002653,
      -0.012886,
      -0.02846,
      -0.023486,
      -0.029545,
      -0.019887,
      -0.029566,
      -0.015806,
      0.005449,
      0.051689,
      -0.002214,
      0.001979,
      0.011633,
      0.026814,
      -0.005623,
      0.003915,
      -0.06002,
      0.02969,
      -0.024984,
      0.006493,
      0.003164,
      0.072301,
      -0.004065,
      -0.036676,
      -0.015928,
      0.002519,
      -0.039421,
      0.018988,
      -0.00063,
      0.015124,
      -0.002892,
      0.020157,
      -0.019242,
      -0.023908,
      -0.031414,
      0.001106,
      0.008768,
      0.03158,
      -0.043021,
      0.017108,
      -0.036701,
      0.025073,
      -0.022512,
      -0.02557,
      -0.00872,
      -0.002029,
      0.025611,
      -0.031517,
      -0.025246,
      -0.00321,
      0.020231,
      -0.007337,
      0.070376,
      -0.014221,
      -0.081013,
      -0.015234,
      0.011947,
      -0.031448,
      -0.081611,
      0.077473,
      0.021613,
      0.027873,
      0.038125,
      -0.028035,
      -0.022402,
      0.013269,
      -0.054763,
      -0.029772,
      0.018107,
      0.024711,
      0.01427,
      0.023911,
      -0.003129,
      -0.031218,
      -0.007321,
      -0.027395,
      -0.005699,
      -0.022204,
      0.06025,
      0.012422,
      -0.054706,
      0.025859,
      0.04789,
      0.014644,
      0.038233,
      -0.012541,
      0.02265,
      0.012067,
      -0.040232,
      -0.023627,
      -0.046191,
      0.015439,
      0.020246,
      0.024527,
      -0.008566,
      -0.028569,
      0.03243,
      -0.03358,
      0.010331,
      -0.03775,
      0.010948,
      0.053752,
      0.068736,
      0.025005,
      0.046982,
      -0.034458,
      0.03795,
      -0.072998,
      -0.004315,
      0.026877,
      0.024736,
      -0.062729,
      -0.084702,
      0.063548,
      -0.008521,
      -0.043675,
      0.000296,
      -0.044139,
      -0.004866,
      0.010776,
      0.039185,
      -0.017705,
      0.024772,
      0.014793,
      -0.001928,
      -0.081482,
      0.013241,
      0.024865,
      0.008412,
      0.014947,
      0.024711,
      0.022811,
      -0.033281,
      0.03743,
      0.012271,
      0.024324,
      -0.028422,
      -0.013259,
      -0.007845,
      0.003169,
      0.019012,
      0.015566,
      -0.020135,
      -0.001232,
      -0.009589,
      0.061405,
      0.021204,
      0.013255,
      -0.035263,
      0.033449,
      0.01074,
      0.000777,
      0.021228,
      -0.017391,
      0.033804,
      -0.039178,
      0.03655,
      0.00594,
      0.040448,
      -0.010696,
      0.020344,
      0.020459,
      0.040034,
      0.000698,
      0.006452,
      -0.045609,
      -0.021062,
      -0.011637,
      0.003078,
      -0.053215,
      0.022062,
      0.024893,
      0.017474,
      -0.045118,
      -0.011691,
      0.027442,
      0.048987,
      -0.036263,
      -0.014088,
      -0.016796,
      -0.047846,
      -0.001612,
      -0.016841,
      0.026239,
      -0.00771,
      0.045563,
      -0.014181,
      -0.032629,
      -0.039659,
      0.004496,
      0.006087,
      0.003939,
      0.102788,
      0.002433,
      0.00726,
      -0.038991,
      0.025311,
      -0.052559,
      -0.004133,
      -0.010491,
      -0.027657,
      -0.041672,
      0.031999,
      0.055159,
      -0.00134,
      -0.020489,
      0.025047,
      -0.035628,
      0.005305,
      0.042436,
      0.014082,
      0.013605,
      -0.015845,
      -0.010266,
      -0.047491,
      -0.00371,
      0.017935,
      -0.014536,
      -0.013366,
      -0.006119
    ]
  },
  {
    "id": "v5-docker-0",
    "content": "# Dockerize a Feathers application\nBreadcrumb: Dockerize a Feathers application\nCovers: Create an app | Dockerfile | Build the image | Start the container\nTopics: create, generate, docker\n\n## Create an app\n\n```sh\nmkdir feathers-app\ncd feathers-app/\nfeathers generate app\n```\n\n### Dockerfile\n\nAdd the following `Dockerfile` to the project directory:\n\n```\nFROM node:lts-alpine\n\nWORKDIR /usr/src/app\n\nCOPY package*.json ./\n\nRUN npm install\n\nCOPY . .\n\nEXPOSE 3030\n\nCMD [\"npm\", \"run\", \"start\"]\n```\n\n## Build the image\n\n```sh\ndocker build -t my-feathers-image .\n```\n\n## Start the container\n\n```sh\ndocker run -d -p 3030:3030 --name my-feathers-container my-feathers-image\n```",
    "rawContent": "## Create an app\n\n```sh\nmkdir feathers-app\ncd feathers-app/\nfeathers generate app\n```\n\n### Dockerfile\n\nAdd the following `Dockerfile` to the project directory:\n\n```\nFROM node:lts-alpine\n\nWORKDIR /usr/src/app\n\nCOPY package*.json ./\n\nRUN npm install\n\nCOPY . .\n\nEXPOSE 3030\n\nCMD [\"npm\", \"run\", \"start\"]\n```\n\n## Build the image\n\n```sh\ndocker build -t my-feathers-image .\n```\n\n## Start the container\n\n```sh\ndocker run -d -p 3030:3030 --name my-feathers-container my-feathers-image\n```",
    "breadcrumb": "Dockerize a Feathers application",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/deploy/docker.md",
    "heading": "Dockerize a Feathers application",
    "subHeadings": [
      "Create an app",
      "Dockerfile",
      "Build the image",
      "Start the container"
    ],
    "hasCode": true,
    "codeLanguages": [
      "sh",
      "text"
    ],
    "tokens": 120,
    "category": "deployment",
    "tags": [
      "create",
      "generate",
      "docker"
    ],
    "embedding": [
      -0.01979,
      -0.010859,
      -0.038051,
      -0.012385,
      -0.045747,
      -0.022724,
      -0.017847,
      0.023012,
      -0.007575,
      0.004446,
      -0.005786,
      0.025681,
      -0.038824,
      -0.0144,
      0.012413,
      0.004126,
      -0.000854,
      0.004682,
      0.007976,
      -0.054866,
      0.011452,
      -0.049504,
      0.0663,
      -0.010694,
      -0.024177,
      -0.001205,
      -0.001232,
      -0.006452,
      0.025364,
      -0.039965,
      -0.000978,
      -0.00746,
      -0.040229,
      -0.028217,
      -0.03489,
      0.000824,
      -0.003615,
      0.04849,
      -0.026626,
      0.037519,
      -0.000359,
      0.022406,
      -0.011629,
      0.031838,
      -0.000476,
      -0.032715,
      0.030972,
      -0.017104,
      -0.003698,
      -0.029338,
      -0.04259,
      0.01978,
      0.00091,
      -0.04439,
      0.01491,
      0.023045,
      -0.040807,
      -0.004664,
      -0.044295,
      0.007749,
      -0.020734,
      0.009291,
      -0.035212,
      0.021549,
      -0.032474,
      0.043338,
      -0.020301,
      0.008948,
      -0.012245,
      -0.039019,
      -0.018753,
      0.006177,
      -0.009797,
      -0.04274,
      -0.072407,
      -0.02402,
      -0.006388,
      -0.010368,
      -0.037573,
      0.051573,
      0.008741,
      0.000673,
      0.007688,
      0.006389,
      0.026695,
      -0.047986,
      -0.038494,
      0.114188,
      0.016917,
      0.015798,
      -0.001347,
      -0.007853,
      0.022626,
      -0.030601,
      -0.049207,
      0.006905,
      0.021496,
      -0.007089,
      0.053718,
      0.040535,
      -0.05061,
      -0.010623,
      0.00341,
      0.00333,
      -0.005346,
      0.025291,
      -0.010577,
      0.028568,
      -0.020527,
      -0.034721,
      0.039937,
      -0.027746,
      0.02289,
      -0.005224,
      0.027017,
      0.015431,
      0.012891,
      -0.046762,
      -0.009788,
      0.015869,
      0.007874,
      0.013435,
      0.073734,
      -0.025119,
      0.014487,
      -0.001592,
      0.006579,
      0.031035,
      0.011468,
      0.00759,
      0.043949,
      0.002998,
      0.003232,
      0.000785,
      0.008121,
      0.024936,
      -0.003911,
      0.000456,
      0.00802,
      -0.026974,
      0.023047,
      -0.008066,
      0.025064,
      -0.034047,
      0.027249,
      -0.050651,
      0.036335,
      0.025736,
      -0.058003,
      -0.04284,
      -0.014471,
      0.025862,
      -0.004567,
      -0.032455,
      0.04153,
      -0.029062,
      0.026288,
      0.007214,
      0.016302,
      0.038157,
      0.015321,
      0.05382,
      -0.008273,
      0.022165,
      0.046664,
      -0.008361,
      0.042689,
      -0.000206,
      -0.001402,
      -0.02547,
      0.00432,
      0.039252,
      0.026582,
      0.018022,
      0.035457,
      0.042587,
      0.027142,
      -0.006671,
      0.005658,
      -0.029155,
      -0.068022,
      -0.004499,
      -0.045908,
      -0.046949,
      -0.022743,
      -0.008747,
      -0.023755,
      -0.05998,
      -0.005711,
      0.041527,
      -0.024564,
      -0.033437,
      0.016998,
      0.030315,
      0.004171,
      0.040181,
      0.041466,
      -0.002123,
      -0.006313,
      -0.013905,
      0.002923,
      0.02307,
      0.062837,
      -0.011852,
      0.0062,
      -0.040335,
      -0.015057,
      -0.052506,
      0.006083,
      -0.066902,
      -0.003301,
      -0.03424,
      -0.037866,
      -0.017508,
      -0.00326,
      0.015035,
      -0.018737,
      0.00451,
      0.019509,
      -0.033955,
      -0.004236,
      0.006026,
      0.033963,
      0.036764,
      0.04984,
      -0.02404,
      0.011942,
      0.014961,
      0.002583,
      -0.02398,
      -0.019323,
      0.026813,
      -0.009282,
      -0.013127,
      0.052743,
      -0.04478,
      -0.018884,
      0.016724,
      -0.002817,
      -0.029801,
      -0.019204,
      -0.01821,
      0.004888,
      0.011254,
      -0.006799,
      0.020551,
      0.026554,
      0.01978,
      0.013428,
      -0.012168,
      0.0098,
      0.032399,
      0.027218,
      0.029221,
      -0.003027,
      -0.000624,
      0.039008,
      -0.000742,
      -0.034826,
      -0.027624,
      0.012507,
      0.04422,
      -0.006275,
      0.01302,
      0.025794,
      0.012613,
      -0.01115,
      -0.017159,
      0.004155,
      -0.002359,
      0.036997,
      0.017326,
      0.022164,
      -0.015186,
      -0.014491,
      -0.014611,
      0.022168,
      -0.039942,
      0.099559,
      0.055003,
      -0.030895,
      0.017432,
      0.035583,
      0.066456,
      0.015291,
      0.016636,
      0.018751,
      -0.00965,
      0.016686,
      0.019235,
      -0.052967,
      0.001648,
      0.054321,
      0.000249,
      -0.008838,
      0.042983,
      -0.012315,
      -0.17064,
      -0.0611,
      0.03497,
      0.003249,
      -0.003517,
      0.038043,
      -0.058076,
      -0.002576,
      -0.037345,
      0.032827,
      0.011786,
      -0.046358,
      -0.027673,
      -0.027476,
      0.008482,
      0.025078,
      -0.011579,
      0.014842,
      -0.042457,
      -0.027741,
      -0.030635,
      -0.038049,
      0.015943,
      0.015433,
      0.007155,
      0.020587,
      -0.021667,
      0.033749,
      0.012357,
      -0.004998,
      -0.028734,
      -0.040439,
      0.010125,
      0.000675,
      -0.043187,
      0.016878,
      -0.000385,
      0.002571,
      -0.006181,
      -0.045173,
      -0.00626,
      0.083309,
      0.024147,
      0.006885,
      0.014865,
      0.033968,
      0.005415,
      0.04161,
      -0.076149,
      -0.077093,
      0.041645,
      0.005269,
      0.018219,
      0.000926,
      -0.036474,
      0.02722,
      -0.01323,
      0.014151,
      -0.00438,
      0.007102,
      -0.039242,
      -0.010375,
      0.027729,
      -0.023434,
      -0.007323,
      -0.023746,
      -0.026156,
      0.01706,
      0.021039,
      -0.002863,
      0.052611,
      -0.034346,
      0.009364,
      0.028601,
      0.009456,
      0.035046,
      -0.027871,
      -0.03719,
      -0.023323,
      -0.099693,
      -0.025875,
      0.000218,
      0.009236,
      -0.009531,
      -0.033813,
      -0.014161,
      -0.051718,
      -0.013998,
      -0.004343,
      0.207015,
      -0.016211,
      0.032724,
      -0.014051,
      0.062813,
      -0.055446,
      0.046378,
      0.05967,
      0.010987,
      -0.043359,
      0.048611,
      -0.005273,
      0.006858,
      -0.005785,
      0.032533,
      -0.00947,
      -0.018656,
      0.03449,
      0.071825,
      0.007082,
      0.006041,
      -0.03804,
      0.042212,
      0.041726,
      -0.040388,
      -0.033222,
      -0.031473,
      0.006139,
      -0.053324,
      0.009797,
      -0.012382,
      0.040879,
      0.025629,
      -0.031543,
      -0.037319,
      0.018064,
      0.037677,
      -0.008927,
      -0.042495,
      -0.002357,
      -0.029193,
      -0.030234,
      0.013523,
      -0.041875,
      0.010696,
      0.013706,
      0.038569,
      0.000088,
      0.02833,
      -0.070776,
      -0.015856,
      -0.027885,
      -0.037689,
      -0.026616,
      0.012292,
      -0.005461,
      0.025014,
      -0.045285,
      -0.040285,
      0.025729,
      0.012001,
      -0.001568,
      -0.036408,
      0.032477,
      -0.013163,
      -0.003902,
      0.037434,
      -0.041225,
      0.015346,
      0.057549,
      0.031957,
      0.025626,
      0.008582,
      -0.021277,
      -0.027094,
      0.000289,
      0.018599,
      0.080219,
      -0.028133,
      0.056456,
      -0.027863,
      0.040681,
      -0.032429,
      0.013474,
      0.028006,
      0.03327,
      -0.027261,
      -0.021522,
      0.007203,
      -0.036633,
      -0.021431,
      -0.000797,
      0.014238,
      0.058131,
      0.017339,
      0.017477,
      -0.00084,
      -0.007337,
      -0.041124,
      -0.050063,
      -0.021834,
      0.004652,
      -0.00201,
      0.000474,
      0.059483,
      -0.029516,
      -0.036313,
      0.015003,
      0.028535,
      0.014145,
      -0.035443,
      0.003295,
      -0.033229,
      -0.000165,
      0.01043,
      0.021578,
      0.050556,
      -0.014054,
      0.037531,
      0.003453,
      0.013523,
      -0.006686,
      -0.004735,
      0.032335,
      0.040441,
      -0.069867,
      -0.023222,
      0.023167,
      -0.036407,
      0.0704,
      0.012734,
      -0.047213,
      0.025952,
      0.050248,
      0.001895,
      -0.009672,
      0.096119,
      0.032312,
      -0.059697,
      0.005693,
      -0.040607,
      -0.022816,
      -0.02722,
      0.034712,
      0.021849,
      0.034858,
      0.021929,
      0.005071,
      0.003882,
      0.003442,
      0.014684,
      0.012289,
      0.047367,
      -0.051203,
      -0.032115,
      -0.052632,
      -0.010498,
      0.021768,
      0.070936,
      -0.031611,
      -0.043238,
      0.006881,
      0.064167,
      0.039008,
      0.02768,
      -0.030266,
      -0.043053,
      0.026635,
      0.003238,
      -0.070321,
      -0.000906,
      -0.047997,
      -0.046047,
      0.062288,
      -0.010454,
      -0.052386,
      -0.028219,
      -0.030777,
      -0.003124,
      -0.018751,
      0.009976,
      0.005862,
      -0.056179,
      0.009975,
      0.031607,
      -0.000283,
      -0.026892,
      -0.020376,
      0.006399,
      -0.009952,
      -0.04543,
      0.093475,
      0.022204,
      -0.019228,
      -0.016081,
      0.005448,
      0.058092,
      0.020763,
      0.002195,
      0.025057,
      0.038096,
      0.000379,
      -0.050148,
      0.001772,
      -0.031472,
      -0.067026,
      -0.025436,
      0.039481,
      -0.062339,
      0.033811,
      0.001088,
      0.008964,
      -0.021007,
      -0.035674,
      -0.021707,
      -0.012003,
      0.038708,
      0.048885,
      0.002304,
      -0.017461,
      0.028909,
      -0.029101,
      0.002971,
      -0.003893,
      -0.005335,
      0.002251,
      -0.001541,
      -0.00334,
      -0.016211,
      -0.010314,
      0.002107,
      0.017571,
      0.010597,
      -0.015639,
      -0.001222,
      -0.021755,
      0.025481,
      0.002638,
      0.026922,
      -0.032853,
      0.015871,
      0.005728,
      0.026209,
      0.086567,
      0.004961,
      0.000649,
      0.030522,
      0.005367,
      -0.026719,
      0.038179,
      -0.039448,
      -0.028605,
      -0.002725,
      0.010188,
      0.000552,
      -0.013699,
      -0.000998,
      -0.030373,
      -0.02424,
      -0.023323,
      0.000189,
      0.031598,
      0.002167,
      -0.02907,
      -0.008053,
      -0.01263,
      0.024054,
      -0.068827,
      -0.004587,
      -0.007747,
      -0.049133,
      -0.025895,
      0.043025,
      -0.025735,
      0.063274,
      -0.001151,
      -0.021657,
      0.016708,
      0.037176,
      -0.000355,
      -0.005067,
      0.030584,
      -0.006231,
      -0.022831,
      0.03892,
      0.008472,
      0.037457,
      0.020131,
      0.00178,
      -0.054709,
      -0.037157,
      0.006511,
      -0.05366,
      0.010514,
      -0.028674,
      -0.022565,
      -0.058005,
      -0.028365,
      -0.017003,
      0.016449,
      -0.023465,
      -0.017827,
      -0.020603,
      -0.041798,
      -0.017754,
      0.033163,
      -0.000203,
      -0.063615,
      0.052326,
      0.024473,
      0.002101,
      -0.04236,
      -0.015449,
      0.007291,
      0.040496,
      -0.022445,
      0.027083,
      -0.005695,
      -0.004347,
      -0.02171,
      -0.011383,
      0.0127,
      -0.016237,
      -0.062514,
      -0.034533,
      -0.016913,
      0.000607,
      0.028811,
      -0.0403,
      -0.020506,
      -0.004598,
      0.006485,
      -0.002487,
      -0.000655,
      -0.029411,
      -0.03128,
      0.045427,
      -0.028209,
      0.035991,
      -0.032413,
      -0.016481,
      0.032592,
      0.03673,
      -0.040004,
      0.045726,
      -0.030721,
      -0.004082,
      0.023227,
      -0.020039,
      -0.024012,
      -0.033685,
      -0.005039,
      0.001656,
      -0.019938,
      0.033341,
      -0.042589,
      0.013657,
      -0.00748,
      -0.030603,
      -0.024151,
      -0.019706,
      0.030738,
      0.011803,
      0.007635,
      -0.022934,
      -0.009877,
      0.018254,
      -0.010848,
      0.006858,
      -0.06369,
      -0.012523,
      -0.031187,
      -0.020759,
      0.027347,
      -0.06209,
      -0.018162,
      -0.019676,
      0.039899,
      -0.003035,
      -0.01714,
      -0.055879,
      0.012938,
      0.00867,
      -0.021007,
      -0.030606,
      -0.009731,
      0.004705,
      0.055811,
      0.036842,
      -0.011984,
      -0.037168,
      0.031143,
      -0.038812,
      0.011614,
      -0.136577,
      -0.004025,
      -0.039811,
      0.005583,
      -0.018727,
      -0.016566,
      -0.005072,
      0.00223,
      0.017778,
      0.00337,
      -0.033667,
      0.006894,
      0.037322,
      -0.041928,
      0.001273,
      0.027313,
      -0.002872,
      0.022991,
      0.014724,
      0.021891,
      0.003495,
      0.030362,
      0.011451,
      -0.045678,
      -0.010259,
      0.008851,
      0.021078,
      -0.008734,
      -0.011693,
      0.022969,
      -0.0112,
      -0.027664,
      -0.003626,
      0.025969,
      -0.05097,
      -0.022272,
      -0.016199,
      -0.006261,
      -0.01078,
      0.034548,
      -0.021805,
      0.013445,
      0.007023,
      0.046331,
      0.015338,
      0.025563,
      -0.059068,
      -0.014301,
      -0.027099,
      -0.003641,
      -0.009574,
      0.010772,
      -0.002316,
      0.019271,
      -0.012655,
      -0.00787,
      -0.04481,
      -0.013632,
      -0.044581,
      -0.012032,
      -0.056265,
      0.047976,
      -0.033385,
      0.011648,
      -0.004345,
      0.040704,
      -0.013233,
      0.026621,
      0.015238,
      0.02122,
      0.028728,
      -0.021129,
      -0.014257,
      0.003877,
      0.042262,
      0.010287,
      0.025608,
      -0.014207,
      0.000714,
      0.001356,
      -0.016909,
      0.005702,
      -0.030581,
      0.036771,
      0.053136,
      0.015864,
      -0.001229,
      0.037169,
      -0.01611,
      0.001548,
      -0.060754,
      -0.052776,
      0.00693,
      -0.029689,
      -0.043888,
      0.066896,
      -0.007154,
      -0.036668,
      0.009909,
      -0.016596,
      -0.015589,
      0.025009,
      -0.012064,
      -0.014932,
      -0.009255,
      0.023281,
      0.024026,
      -0.009963,
      0.022324,
      -0.006107,
      0.00087,
      -0.007002,
      -0.006172,
      -0.000957,
      -0.053497,
      -0.008245,
      0.023094,
      0.060311,
      0.000484,
      -0.015992,
      0.026077,
      0.023417,
      0.029785,
      -0.038232,
      0.045652,
      0.026839,
      0.016061,
      -0.027729,
      0.058315,
      0.028995,
      0.0057,
      -0.001248,
      0.027009,
      0.011793,
      0.050786,
      -0.010157,
      -0.032039,
      0.047318,
      -0.037695,
      0.027421,
      -0.033913,
      0.013267,
      0.010912,
      -0.003054,
      -0.006559,
      -0.039447,
      -0.006543,
      -0.017279,
      0.003928,
      0.0358,
      0.000863,
      -0.017136,
      -0.045999,
      0.035785,
      -0.028013,
      0.055328,
      0.002769,
      -0.025503,
      -0.013495,
      0.032832,
      0.00821,
      -0.049215,
      0.022466,
      0.020208,
      0.006403,
      0.018328,
      -0.009587,
      -0.011552,
      -0.012747,
      0.038211,
      0.019066,
      0.01658,
      -0.001908,
      -0.013023,
      0.068673,
      -0.048963,
      0.00737,
      0.012411,
      0.003934,
      -0.018465,
      0.032278,
      -0.031737,
      0.041127,
      0.023073,
      0.080502,
      0.031152,
      -0.012416,
      -0.005803,
      0.032401,
      -0.013441,
      -0.009543,
      0.031824,
      0.01741,
      -0.004541,
      0.019721,
      -0.009705,
      -0.035376,
      -0.034967,
      0.004879,
      0.06816,
      0.006622,
      -0.009947,
      -0.032564,
      -0.035268,
      0.001771,
      0.032673,
      -0.045788,
      0.025029,
      0.001661,
      0.027564,
      -0.010913,
      0.000019,
      -0.025443,
      0.013213,
      0.002564,
      -0.028367,
      0.024136,
      0.003298,
      -0.030612,
      0.007896,
      0.023447,
      -0.001343,
      -0.017353,
      -0.042939,
      -0.013527,
      0.040441,
      -0.059733,
      0.011095,
      -0.01477,
      0.008462,
      0.001358,
      -0.009319,
      0.025594,
      0.040578,
      -0.01595,
      -0.036412,
      0.024878,
      0.047219,
      -0.008829,
      0.001911,
      0.034103,
      0.01892,
      -0.029996,
      -0.021899
    ]
  },
  {
    "id": "v5-file-uploading-0",
    "content": "# File uploads in FeathersJS\nBreadcrumb: File uploads in FeathersJS\nCovers: Our Goals | Basic upload with feathers-blob and feathers-client | DataURI upload problems | Feathers-blob with multipart support. | Further improvements\nTopics: hooks, services, context, params, get, create, setup, authentication, authorization, anonymous, google, github, validation, memory, real-time, events, socket.io, rest, http, express, middleware, cloudflare, browser, feathers client, client, cli, generate, file upload\n\n## Our Goals\n\nWe want to implement an upload service to accomplish a few important things:\n\n1. It has to handle large files (+10MB).\n2. It needs to work with the app's authentication and authorization.\n3. The files need to be validated.\n4. At the moment there is no third party storage service involved, but this will change in the near future, so it has to be prepared.\n5. It has to show the upload progress.\n\nThe plan is to upload the files to a feathers service so we can take advantage of hooks for authentication, authorization and validation, and for service events.\n\nFortunately, there exists a file storage service: [feathers-blob](https://github.com/feathersjs/feathers-blob). With it we can meet our goals, but (spoiler alert) it isn't an ideal solution.  We discuss some of its problems below.\n\n## Basic upload with feathers-blob and feathers-client\n\nFor the sake of simplicity, we will be working over a very basic feathers server, with just the upload service.\n\nLets look at the server code:\n\n```javascript\n/* --- server.js --- */\n\nconst feathers = require('@feathersjs/feathers');\nconst express = require('@feathersjs/express');\nconst socketio = require('@feathersjs/socketio');\n\n// feathers-blob service\nconst blobService = require('feathers-blob');\n// Here we initialize a FileSystem storage,\n// but you can use feathers-blob with any other\n// storage service like AWS or Google Drive.\nconst fs = require('fs-blob-store');\nconst blobStorage = fs(__dirname + '/uploads');\n\n\n// Feathers app\nconst app = express(feathers());\n\n// Parse HTTP JSON bodies\napp.use(express.json());\n// Parse URL-encoded params\napp.use(express.urlencoded({ extended: true }));\n// Add REST API support\napp.configure(express.rest());\n// Configure Socket.io real-time APIs\napp.configure(socketio());\n\n\n// Upload Service\napp.use('/uploads', blobService({Model: blobStorage}));\n\n\n// Register a nicer error handler than the default Express one\napp.use(express.errorHandler());\n\n// Start the server\napp.listen(3030, function(){\n    console.log('Feathers app started at localhost:3030')\n});\n```\n\nLet's look at this implemented in the `@feathersjs/cli` generated server code:\n\n```javascript\n/* --- /src/services/uploads/uploads.service.js --- */\n\n// Initializes the `uploads` service on path `/uploads'\n\nconst createModel = require('../../models/uploads.model');\nconst hooks = require('./uploads.hooks');\nconst filters = require('./uploads.filters');\n\n\n// feathers-blob service\nconst blobService = require('feathers-blob');\n// Here we initialize a FileSystem storage,\n// but you can use feathers-blob with any other\n// storage service like AWS or Google Drive.\nconst fs = require('fs-blob-store');\n\n\n// File storage location. Folder must be created before upload.\n// Example: './uploads' will be located under feathers app top level.\nconst blobStorage = fs('./uploads');\n\nmodule.exports = function() {\n  const app = this;\n  const Model = createModel(app);\n  const paginate = app.get('paginate');\n\n  // Initialize our service with any options it requires\n  app.use('/uploads', blobService({ Model: blobStorage}));\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('uploads');\n\n  service.hooks(hooks);\n\n  if (service.filter) {\n    service.filter(filters);\n  }\n};\n```\n\n`feathers-blob` works over abstract-blob-store, which is an abstract interface to various storage backends, such as filesystem, AWS, or Google Drive. It only accepts and retrieves files encoded as dataURI strings.\n\nJust like that we have our backend ready, go ahead and POST something to localhost:3030/uploads`, for example with postman:\n\n```json\n{\n    'uri': 'data:image/gif;base64,R0lGODlhEwATAPcAAP/+//7/////+////fvzYvryYvvzZ/fxg/zxWfvxW/zwXPrtW/vxXvfrXv3xYvrvYvntYvnvY/ruZPrwZPfsZPjsZfjtZvfsZvHmY/zxavftaPrvavjuafzxbfnua/jta/ftbP3yb/zzcPvwb/zzcfvxcfzxc/3zdf3zdv70efvwd/rwd/vwefftd/3yfPvxfP70f/zzfvnwffvzf/rxf/rxgPjvgPjvgfnwhPvzhvjvhv71jfz0kPrykvz0mv72nvblTPnnUPjoUPrpUvnnUfnpUvXlUfnpU/npVPnqVPfnU/3uVvvsWPfpVvnqWfrrXPLiW/nrX/vtYv7xavrta/Hlcvnuf/Pphvbsif3zk/zzlPzylfjuk/z0o/LqnvbhSPbhSfjiS/jlS/jjTPfhTfjlTubUU+/iiPPokfrvl/Dll/ftovLWPfHXPvHZP/PbQ/bcRuDJP/PaRvjgSffdSe3ddu7fge7fi+zkuO7NMvPTOt2/Nu7SO+3OO/PWQdnGbOneqeneqvDqyu3JMuvJMu7KNfHNON7GZdnEbejanObXnOW8JOa9KOvCLOnBK9+4Ku3FL9ayKuzEMcenK9e+XODOiePSkODOkOW3ItisI9yxL+a9NtGiHr+VH5h5JsSfNM2bGN6rMJt4JMOYL5h4JZl5Jph3Jpl4J5h5J5h3KJl4KZp5Ks+sUN7Gi96lLL+PKMmbMZt2Jpp3Jpt3KZl4K7qFFdyiKdufKsedRdm7feOpQN2QKMKENrpvJbFfIrNjJL1mLMBpLr9oLrFhK69bJFkpE1kpFYNeTqFEIlsoFbmlnlsmFFwpGFkoF/////7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAANAALAAAAAATABMAAAj/AKEJHCgokKJKlhThGciQYSIva7r8SHPFzqGGAwPd4bKlh5YsPKy0qFLnT0NAaHTcsIHDho0aKkaAwGCGEkM1NmSkIjWLBosVJT6cOjUrzsBKPl54KmYsACoTMmk1WwaA1CRoeM7siJEqmTIAsjp40ICK2bEApfZcsoQlxwxRzgI8W8XhgoVYA+Kq6sMK0QEYKVCUkoVqQwQJFTwFEAAAFZ9PlFy4OEEiRIYJD55EodDA1ClTbPp0okRFxBQDBRgskAKhiRMlc+Sw4SNpFCIoBBwkUMBkCBIiY8qAgcPG0KBHrBTFQbCEV5EjQYQACfNFjp5CgxpxagVtUhIjwzaJYSHzhQ4cP3ryQHLEqJbASnu+6EIW6o2b2X0ISXK0CFSugazs0YYmwQhziyuE2PLLIv3h0hArkRhiCCzAENOLL7tgAoqDGLXSSSaPMLIIJpmAUst/GA3UCiuv1PIKLtw1FBAAOw=='\n}\n```\n\nThe service will respond with something like this:\n\n```json\n{\n  'id': '6454364d8facd7a88e627e4c4b11b032d2f83af8f7f9329ffc2b7a5c879dc838.gif',\n  'uri': 'the-same-uri-we-uploaded',\n  'size': 1156\n}\n```\n\nOr we can implement a very basic frontend with `feathers-client` and `jQuery`:\n\n```html\n<!doctype html>\n<html>\n    <head>\n        <title>Feathersjs File Upload</title>\n        <script   src='https://code.jquery.com/jquery-2.2.3.min.js'   integrity='sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo='   crossorigin='anonymous'></script>\n        <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/core-js/2.1.4/core.min.js'></script>\n        <script type='text/javascript' src='//unpkg.com/feathers-client@^2.0.0/dist/feathers.js'></script>\n        <script type='text/javascript'>\n            // feathers client initialization\n            const rest = feathers.rest('http://localhost:3030');\n            const app = feathers()\n            .configure(feathers.hooks())\n            .configure(rest.jquery($));\n\n            // setup jQuery to watch the ajax progress\n            $.ajaxSetup({\n                xhr: function () {\n                    var xhr = new window.XMLHttpRequest();\n                    // upload progress\n                    xhr.addEventListener('progress', function (evt) {\n                        if (evt.lengthComputable) {\n                            var percentComplete = evt.loaded / evt.total;\n                            console.log('upload progress: ', Math.round(percentComplete * 100) + '%');\n                        }\n                    }, false);\n                    return xhr;\n                }\n            });\n\n            const uploadService = app.service('uploads');\n            const reader  = new FileReader();\n\n            // encode selected files\n            $(document).ready(function(){\n                $('input#file').change(function(){\n                    var file = this.files[0];\n                    // encode dataURI\n                    reader.readAsDataURL(file);\n                })\n            });\n\n            // when encoded, upload\n            reader.addEventListener('load', function () {\n                console.log('encoded file: ', reader.result);\n                var upload = uploadService\n                    .create({uri: reader.result})\n                    .then(function(response){\n                        // success\n                        alert('UPLOADED!! ');\n                        console.log('Server responded with: ', response);\n                    });\n            }, false);\n        </script>\n    </head>\n    <body>\n        <h1>Let's upload some files!</h1>\n        <input type='file' id='file'/>\n    </body>\n</html>\n\n```\n\nThis code watches for file selection, then encodes it and does an ajax post to upload it, watching the upload progress via the xhr object. Everything works as expected.\n\nEvery file we select gets uploaded and saved to the `./uploads` directory.\n\nWork done!, let's call it a day, shall we?\n\n... But hey, there is something that doesn't feel quite right ...right?\n\n### DataURI upload problems\n\nIt doesn't feel right because it is not. Let's imagine what would happen if we try to upload a large file, say 25MB or more: The entire file (plus some extra MB due to the encoding) has to be kept in memory for the entire upload process, this could look like nothing for a normal computer but for mobile devices it's a big deal.\n\nWe have a big RAM consumption problem. Not to mention we have to encode the file before sending it...\n\nThe solution would be to modify the service, adding support for splitting the dataURI into small chunks, then uploading one at a time, collecting and reassembling everything on the server. But hey, it's not that the same thing   browsers and web servers have been doing since maybe the very early days of the web?  Maybe since Netscape Navigator?\n\nWell, actually it is, and doing a `multipart/form-data` post is still the easiest way to upload a file.\n\n## Feathers-blob with multipart support.\n\nBack with the backend, in order to accept multipart uploads, we need a way to handle the `multipart/form-data` received by the web server. Given that Feathers behaves like Express, let's just use `multer` and a custom middleware to handle that.\n\n``` javascript\n/* --- server.js --- */\nconst multer = require('multer');\nconst multipartMiddleware = multer();\n\n// Upload Service with multipart support\napp.use('/uploads',\n\n    // multer parses the file named 'uri'.\n    // Without extra params the data is\n    // temporarely kept in memory\n    multipartMiddleware.single('uri'),\n\n    // another middleware, this time to\n    // transfer the received file to feathers\n    function(req,res,next){\n        req.feathers.file = req.file;\n        next();\n    },\n    blobService({Model: blobStorage})\n);\n```\n\nNotice we kept the file field name as *uri* just to maintain uniformity, as the service will always work with that name anyways, but you can change it if you prefer.\n\nFeathers-blob only understands files encoded as dataURI, so we need to convert them first. Let's make a Hook for that:\n\n```javascript\n/* --- server.js --- */\nconst dauria = require('dauria');\n\n// before-create Hook to get the file (if there is any)\n// and turn it into a datauri,\n// transparently getting feathers-blob to work\n// with multipart file uploads\napp.service('/uploads').before({\n    create: [\n        function(context) {\n            if (!context.data.uri && context.params.file){\n                const file = context.params.file;\n                const uri = dauria.getBase64DataURI(file.buffer, file.mimetype);\n                context.data = {uri: uri};\n            }\n        }\n    ]\n});\n```\n\n*Et voilÃ !*. Now we have a FeathersJS file storage service working, with support for traditional multipart uploads, and a variety of storage options to choose.\n\n**Simply awesome.**\n\n## Further improvements\n\nThe service always returns the dataURI back to us, which may not be necessary as we just uploaded the file. We also need to validate the file and check for authorization.\n\nAll those things can be easily done with more Hooks, and that's the benefit of keeping all inside FeathersJS services. I leave that to you.\n\nFor the frontend, there is a problem with the client: in order to show the upload progress it's stuck with only REST functionality and not real-time with socket.io.\n\nThe solution is to switch `feathers-client` from REST to `socket.io`, and just use wherever you like for uploading the files, that's an easy task now that we are able to do a traditional `form-multipart` upload.\n\nHere is an example using dropzone:\n\n```html\n<!doctype html>\n<html>\n    <head>\n        <title>Feathersjs File Upload</title>\n\n        <link rel='stylesheet' href='assets/dropzone.css'>\n        <script src='assets/dropzone.js'></script>\n\n        <script type='text/javascript' src='socket.io/socket.io.js'></script>\n        <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/core-js/2.1.4/core.min.js'></script>\n        <script type='text/javascript' src='//unpkg.com/feathers-client@^2.0.0/dist/feathers.js'></script>\n        <script type='text/javascript'>\n            // feathers client initialization\n            var socket = io('http://localhost:3030');\n            const app = feathers()\n            .configure(feathers.hooks())\n            .configure(feathers.socketio(socket));\n            const uploadService = app.service('uploads');\n\n            // Now with Real-Time Support!\n            uploadService.on('created', function(file){\n                alert('Received file created event!', file);\n            });\n\n\n            // Let's use DropZone!\n            Dropzone.options.myAwesomeDropzone = {\n                paramName: 'uri',\n                uploadMultiple: false,\n                init: function(){\n                    this.on('uploadprogress', function(file, progress){\n                        console.log('progresss', progress);\n                    });\n                }\n            };\n        </script>\n    </head>\n    <body>\n        <h1>Let's upload some files!</h1>\n        <form action='/uploads'\n          class='dropzone'\n          id='my-awesome-dropzone'></form>\n    </body>\n</html>\n```\n\nAll the code is available via github here: https://github.com/CianCoders/feathers-example-fileupload\n\n\nHope you have learned something today, as I learned a lot writing this.\n\nCheers!",
    "rawContent": "## Our Goals\n\nWe want to implement an upload service to accomplish a few important things:\n\n1. It has to handle large files (+10MB).\n2. It needs to work with the app's authentication and authorization.\n3. The files need to be validated.\n4. At the moment there is no third party storage service involved, but this will change in the near future, so it has to be prepared.\n5. It has to show the upload progress.\n\nThe plan is to upload the files to a feathers service so we can take advantage of hooks for authentication, authorization and validation, and for service events.\n\nFortunately, there exists a file storage service: [feathers-blob](https://github.com/feathersjs/feathers-blob). With it we can meet our goals, but (spoiler alert) it isn't an ideal solution.  We discuss some of its problems below.\n\n## Basic upload with feathers-blob and feathers-client\n\nFor the sake of simplicity, we will be working over a very basic feathers server, with just the upload service.\n\nLets look at the server code:\n\n```javascript\n/* --- server.js --- */\n\nconst feathers = require('@feathersjs/feathers');\nconst express = require('@feathersjs/express');\nconst socketio = require('@feathersjs/socketio');\n\n// feathers-blob service\nconst blobService = require('feathers-blob');\n// Here we initialize a FileSystem storage,\n// but you can use feathers-blob with any other\n// storage service like AWS or Google Drive.\nconst fs = require('fs-blob-store');\nconst blobStorage = fs(__dirname + '/uploads');\n\n\n// Feathers app\nconst app = express(feathers());\n\n// Parse HTTP JSON bodies\napp.use(express.json());\n// Parse URL-encoded params\napp.use(express.urlencoded({ extended: true }));\n// Add REST API support\napp.configure(express.rest());\n// Configure Socket.io real-time APIs\napp.configure(socketio());\n\n\n// Upload Service\napp.use('/uploads', blobService({Model: blobStorage}));\n\n\n// Register a nicer error handler than the default Express one\napp.use(express.errorHandler());\n\n// Start the server\napp.listen(3030, function(){\n    console.log('Feathers app started at localhost:3030')\n});\n```\n\nLet's look at this implemented in the `@feathersjs/cli` generated server code:\n\n```javascript\n/* --- /src/services/uploads/uploads.service.js --- */\n\n// Initializes the `uploads` service on path `/uploads'\n\nconst createModel = require('../../models/uploads.model');\nconst hooks = require('./uploads.hooks');\nconst filters = require('./uploads.filters');\n\n\n// feathers-blob service\nconst blobService = require('feathers-blob');\n// Here we initialize a FileSystem storage,\n// but you can use feathers-blob with any other\n// storage service like AWS or Google Drive.\nconst fs = require('fs-blob-store');\n\n\n// File storage location. Folder must be created before upload.\n// Example: './uploads' will be located under feathers app top level.\nconst blobStorage = fs('./uploads');\n\nmodule.exports = function() {\n  const app = this;\n  const Model = createModel(app);\n  const paginate = app.get('paginate');\n\n  // Initialize our service with any options it requires\n  app.use('/uploads', blobService({ Model: blobStorage}));\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('uploads');\n\n  service.hooks(hooks);\n\n  if (service.filter) {\n    service.filter(filters);\n  }\n};\n```\n\n`feathers-blob` works over abstract-blob-store, which is an abstract interface to various storage backends, such as filesystem, AWS, or Google Drive. It only accepts and retrieves files encoded as dataURI strings.\n\nJust like that we have our backend ready, go ahead and POST something to localhost:3030/uploads`, for example with postman:\n\n```json\n{\n    'uri': 'data:image/gif;base64,R0lGODlhEwATAPcAAP/+//7/////+////fvzYvryYvvzZ/fxg/zxWfvxW/zwXPrtW/vxXvfrXv3xYvrvYvntYvnvY/ruZPrwZPfsZPjsZfjtZvfsZvHmY/zxavftaPrvavjuafzxbfnua/jta/ftbP3yb/zzcPvwb/zzcfvxcfzxc/3zdf3zdv70efvwd/rwd/vwefftd/3yfPvxfP70f/zzfvnwffvzf/rxf/rxgPjvgPjvgfnwhPvzhvjvhv71jfz0kPrykvz0mv72nvblTPnnUPjoUPrpUvnnUfnpUvXlUfnpU/npVPnqVPfnU/3uVvvsWPfpVvnqWfrrXPLiW/nrX/vtYv7xavrta/Hlcvnuf/Pphvbsif3zk/zzlPzylfjuk/z0o/LqnvbhSPbhSfjiS/jlS/jjTPfhTfjlTubUU+/iiPPokfrvl/Dll/ftovLWPfHXPvHZP/PbQ/bcRuDJP/PaRvjgSffdSe3ddu7fge7fi+zkuO7NMvPTOt2/Nu7SO+3OO/PWQdnGbOneqeneqvDqyu3JMuvJMu7KNfHNON7GZdnEbejanObXnOW8JOa9KOvCLOnBK9+4Ku3FL9ayKuzEMcenK9e+XODOiePSkODOkOW3ItisI9yxL+a9NtGiHr+VH5h5JsSfNM2bGN6rMJt4JMOYL5h4JZl5Jph3Jpl4J5h5J5h3KJl4KZp5Ks+sUN7Gi96lLL+PKMmbMZt2Jpp3Jpt3KZl4K7qFFdyiKdufKsedRdm7feOpQN2QKMKENrpvJbFfIrNjJL1mLMBpLr9oLrFhK69bJFkpE1kpFYNeTqFEIlsoFbmlnlsmFFwpGFkoF/////7+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAANAALAAAAAATABMAAAj/AKEJHCgokKJKlhThGciQYSIva7r8SHPFzqGGAwPd4bKlh5YsPKy0qFLnT0NAaHTcsIHDho0aKkaAwGCGEkM1NmSkIjWLBosVJT6cOjUrzsBKPl54KmYsACoTMmk1WwaA1CRoeM7siJEqmTIAsjp40ICK2bEApfZcsoQlxwxRzgI8W8XhgoVYA+Kq6sMK0QEYKVCUkoVqQwQJFTwFEAAAFZ9PlFy4OEEiRIYJD55EodDA1ClTbPp0okRFxBQDBRgskAKhiRMlc+Sw4SNpFCIoBBwkUMBkCBIiY8qAgcPG0KBHrBTFQbCEV5EjQYQACfNFjp5CgxpxagVtUhIjwzaJYSHzhQ4cP3ryQHLEqJbASnu+6EIW6o2b2X0ISXK0CFSugazs0YYmwQhziyuE2PLLIv3h0hArkRhiCCzAENOLL7tgAoqDGLXSSSaPMLIIJpmAUst/GA3UCiuv1PIKLtw1FBAAOw=='\n}\n```\n\nThe service will respond with something like this:\n\n```json\n{\n  'id': '6454364d8facd7a88e627e4c4b11b032d2f83af8f7f9329ffc2b7a5c879dc838.gif',\n  'uri': 'the-same-uri-we-uploaded',\n  'size': 1156\n}\n```\n\nOr we can implement a very basic frontend with `feathers-client` and `jQuery`:\n\n```html\n<!doctype html>\n<html>\n    <head>\n        <title>Feathersjs File Upload</title>\n        <script   src='https://code.jquery.com/jquery-2.2.3.min.js'   integrity='sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo='   crossorigin='anonymous'></script>\n        <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/core-js/2.1.4/core.min.js'></script>\n        <script type='text/javascript' src='//unpkg.com/feathers-client@^2.0.0/dist/feathers.js'></script>\n        <script type='text/javascript'>\n            // feathers client initialization\n            const rest = feathers.rest('http://localhost:3030');\n            const app = feathers()\n            .configure(feathers.hooks())\n            .configure(rest.jquery($));\n\n            // setup jQuery to watch the ajax progress\n            $.ajaxSetup({\n                xhr: function () {\n                    var xhr = new window.XMLHttpRequest();\n                    // upload progress\n                    xhr.addEventListener('progress', function (evt) {\n                        if (evt.lengthComputable) {\n                            var percentComplete = evt.loaded / evt.total;\n                            console.log('upload progress: ', Math.round(percentComplete * 100) + '%');\n                        }\n                    }, false);\n                    return xhr;\n                }\n            });\n\n            const uploadService = app.service('uploads');\n            const reader  = new FileReader();\n\n            // encode selected files\n            $(document).ready(function(){\n                $('input#file').change(function(){\n                    var file = this.files[0];\n                    // encode dataURI\n                    reader.readAsDataURL(file);\n                })\n            });\n\n            // when encoded, upload\n            reader.addEventListener('load', function () {\n                console.log('encoded file: ', reader.result);\n                var upload = uploadService\n                    .create({uri: reader.result})\n                    .then(function(response){\n                        // success\n                        alert('UPLOADED!! ');\n                        console.log('Server responded with: ', response);\n                    });\n            }, false);\n        </script>\n    </head>\n    <body>\n        <h1>Let's upload some files!</h1>\n        <input type='file' id='file'/>\n    </body>\n</html>\n\n```\n\nThis code watches for file selection, then encodes it and does an ajax post to upload it, watching the upload progress via the xhr object. Everything works as expected.\n\nEvery file we select gets uploaded and saved to the `./uploads` directory.\n\nWork done!, let's call it a day, shall we?\n\n... But hey, there is something that doesn't feel quite right ...right?\n\n### DataURI upload problems\n\nIt doesn't feel right because it is not. Let's imagine what would happen if we try to upload a large file, say 25MB or more: The entire file (plus some extra MB due to the encoding) has to be kept in memory for the entire upload process, this could look like nothing for a normal computer but for mobile devices it's a big deal.\n\nWe have a big RAM consumption problem. Not to mention we have to encode the file before sending it...\n\nThe solution would be to modify the service, adding support for splitting the dataURI into small chunks, then uploading one at a time, collecting and reassembling everything on the server. But hey, it's not that the same thing   browsers and web servers have been doing since maybe the very early days of the web?  Maybe since Netscape Navigator?\n\nWell, actually it is, and doing a `multipart/form-data` post is still the easiest way to upload a file.\n\n## Feathers-blob with multipart support.\n\nBack with the backend, in order to accept multipart uploads, we need a way to handle the `multipart/form-data` received by the web server. Given that Feathers behaves like Express, let's just use `multer` and a custom middleware to handle that.\n\n``` javascript\n/* --- server.js --- */\nconst multer = require('multer');\nconst multipartMiddleware = multer();\n\n// Upload Service with multipart support\napp.use('/uploads',\n\n    // multer parses the file named 'uri'.\n    // Without extra params the data is\n    // temporarely kept in memory\n    multipartMiddleware.single('uri'),\n\n    // another middleware, this time to\n    // transfer the received file to feathers\n    function(req,res,next){\n        req.feathers.file = req.file;\n        next();\n    },\n    blobService({Model: blobStorage})\n);\n```\n\nNotice we kept the file field name as *uri* just to maintain uniformity, as the service will always work with that name anyways, but you can change it if you prefer.\n\nFeathers-blob only understands files encoded as dataURI, so we need to convert them first. Let's make a Hook for that:\n\n```javascript\n/* --- server.js --- */\nconst dauria = require('dauria');\n\n// before-create Hook to get the file (if there is any)\n// and turn it into a datauri,\n// transparently getting feathers-blob to work\n// with multipart file uploads\napp.service('/uploads').before({\n    create: [\n        function(context) {\n            if (!context.data.uri && context.params.file){\n                const file = context.params.file;\n                const uri = dauria.getBase64DataURI(file.buffer, file.mimetype);\n                context.data = {uri: uri};\n            }\n        }\n    ]\n});\n```\n\n*Et voilÃ !*. Now we have a FeathersJS file storage service working, with support for traditional multipart uploads, and a variety of storage options to choose.\n\n**Simply awesome.**\n\n## Further improvements\n\nThe service always returns the dataURI back to us, which may not be necessary as we just uploaded the file. We also need to validate the file and check for authorization.\n\nAll those things can be easily done with more Hooks, and that's the benefit of keeping all inside FeathersJS services. I leave that to you.\n\nFor the frontend, there is a problem with the client: in order to show the upload progress it's stuck with only REST functionality and not real-time with socket.io.\n\nThe solution is to switch `feathers-client` from REST to `socket.io`, and just use wherever you like for uploading the files, that's an easy task now that we are able to do a traditional `form-multipart` upload.\n\nHere is an example using dropzone:\n\n```html\n<!doctype html>\n<html>\n    <head>\n        <title>Feathersjs File Upload</title>\n\n        <link rel='stylesheet' href='assets/dropzone.css'>\n        <script src='assets/dropzone.js'></script>\n\n        <script type='text/javascript' src='socket.io/socket.io.js'></script>\n        <script type='text/javascript' src='//cdnjs.cloudflare.com/ajax/libs/core-js/2.1.4/core.min.js'></script>\n        <script type='text/javascript' src='//unpkg.com/feathers-client@^2.0.0/dist/feathers.js'></script>\n        <script type='text/javascript'>\n            // feathers client initialization\n            var socket = io('http://localhost:3030');\n            const app = feathers()\n            .configure(feathers.hooks())\n            .configure(feathers.socketio(socket));\n            const uploadService = app.service('uploads');\n\n            // Now with Real-Time Support!\n            uploadService.on('created', function(file){\n                alert('Received file created event!', file);\n            });\n\n\n            // Let's use DropZone!\n            Dropzone.options.myAwesomeDropzone = {\n                paramName: 'uri',\n                uploadMultiple: false,\n                init: function(){\n                    this.on('uploadprogress', function(file, progress){\n                        console.log('progresss', progress);\n                    });\n                }\n            };\n        </script>\n    </head>\n    <body>\n        <h1>Let's upload some files!</h1>\n        <form action='/uploads'\n          class='dropzone'\n          id='my-awesome-dropzone'></form>\n    </body>\n</html>\n```\n\nAll the code is available via github here: https://github.com/CianCoders/feathers-example-fileupload\n\n\nHope you have learned something today, as I learned a lot writing this.\n\nCheers!",
    "breadcrumb": "File uploads in FeathersJS",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/express/file-uploading.md",
    "heading": "File uploads in FeathersJS",
    "subHeadings": [
      "Our Goals",
      "Basic upload with feathers-blob and feathers-client",
      "DataURI upload problems",
      "Feathers-blob with multipart support.",
      "Further improvements"
    ],
    "hasCode": true,
    "codeLanguages": [
      "javascript",
      "text",
      "json",
      "html"
    ],
    "tokens": 3414,
    "category": "cookbook-express",
    "tags": [
      "hooks",
      "services",
      "context",
      "params",
      "get",
      "create",
      "setup",
      "authentication",
      "authorization",
      "anonymous",
      "google",
      "github",
      "validation",
      "memory",
      "real-time",
      "events",
      "socket.io",
      "rest",
      "http",
      "express",
      "middleware",
      "cloudflare",
      "browser",
      "feathers client",
      "client",
      "cli",
      "generate",
      "file upload"
    ],
    "embedding": [
      0.018478,
      -0.011135,
      -0.045557,
      0.033756,
      -0.013667,
      -0.007492,
      0.000756,
      0.012105,
      -0.030605,
      0.005404,
      -0.01184,
      0.015661,
      -0.045178,
      0.010718,
      -0.01237,
      0.031922,
      0.003949,
      -0.032061,
      -0.0139,
      -0.013246,
      -0.035446,
      0.035472,
      0.008531,
      0.035136,
      0.037091,
      0.028207,
      -0.001354,
      -0.023448,
      0.005448,
      -0.020864,
      0.017858,
      0.047375,
      0.007285,
      -0.00561,
      -0.040325,
      -0.043404,
      0.009979,
      -0.006064,
      -0.019514,
      0.033226,
      0.010783,
      0.003551,
      -0.001626,
      -0.013452,
      0.006462,
      -0.028517,
      0.028579,
      -0.003523,
      -0.008246,
      -0.019465,
      -0.030241,
      0.012178,
      0.012863,
      -0.021462,
      0.076782,
      0.035735,
      -0.009984,
      -0.014669,
      -0.05734,
      -0.017155,
      -0.017835,
      0.015069,
      -0.027075,
      -0.006907,
      -0.021035,
      0.044581,
      -0.013124,
      0.014512,
      -0.016944,
      -0.033273,
      -0.007941,
      0.002723,
      -0.013863,
      0.019242,
      -0.036832,
      0.004266,
      0.023772,
      0.013132,
      0.024066,
      0.010376,
      -0.007919,
      -0.042335,
      0.00366,
      -0.011794,
      0.001593,
      0.029459,
      -0.045354,
      0.04919,
      0.032603,
      0.03925,
      0.005255,
      -0.002321,
      0.057361,
      -0.050666,
      -0.062125,
      0.025442,
      0.018173,
      0.009107,
      0.054533,
      0.004954,
      -0.013088,
      0.021859,
      -0.01986,
      -0.031138,
      0.0389,
      0.030017,
      0.029486,
      -0.013669,
      0.008274,
      -0.05035,
      -0.008046,
      0.004391,
      -0.001929,
      -0.00031,
      0.003727,
      -0.043856,
      -0.017147,
      -0.005678,
      -0.031263,
      -0.001648,
      -0.002604,
      0.028515,
      0.047926,
      -0.010132,
      -0.028976,
      0.014739,
      -0.03094,
      0.027028,
      -0.005942,
      0.042483,
      0.053857,
      -0.037681,
      -0.005143,
      -0.031006,
      -0.026107,
      -0.004581,
      -0.006768,
      0.067767,
      0.001181,
      -0.007583,
      0.011309,
      -0.048985,
      0.024003,
      -0.017714,
      0.034598,
      -0.023732,
      0.044638,
      0.04054,
      -0.04038,
      -0.01321,
      -0.007231,
      0.004634,
      -0.01369,
      -0.059515,
      0.032044,
      -0.077513,
      0.032527,
      -0.01255,
      0.033071,
      0.033364,
      0.023343,
      0.016795,
      -0.034439,
      -0.026792,
      0.041835,
      -0.021765,
      -0.004801,
      -0.004454,
      -0.031913,
      -0.012886,
      0.000473,
      -0.0092,
      0.035119,
      -0.003601,
      0.019014,
      0.017543,
      0.097863,
      0.003242,
      0.047992,
      -0.036246,
      -0.032309,
      0.015363,
      -0.005533,
      -0.054627,
      -0.015562,
      -0.031179,
      -0.005635,
      -0.037657,
      -0.013345,
      0.030893,
      -0.001982,
      -0.031709,
      0.029517,
      0.004465,
      -0.013205,
      0.027705,
      -0.010915,
      0.004624,
      0.03116,
      -0.007448,
      0.006869,
      0.003406,
      0.037923,
      0.016819,
      -0.03061,
      -0.029793,
      -0.020138,
      -0.052087,
      0.003462,
      -0.023349,
      0.007539,
      -0.023019,
      -0.007294,
      -0.00396,
      0.00065,
      -0.000389,
      0.016039,
      0.027794,
      -0.026104,
      -0.004317,
      -0.02207,
      -0.017717,
      0.032033,
      -0.019052,
      0.056062,
      0.031968,
      0.013616,
      -0.009979,
      -0.027564,
      -0.018202,
      -0.04838,
      0.061764,
      0.011007,
      -0.013125,
      0.027113,
      -0.040406,
      -0.072864,
      -0.017221,
      -0.034435,
      0.033356,
      -0.004503,
      -0.052783,
      0.012728,
      -0.008907,
      -0.03236,
      -0.001745,
      0.023948,
      -0.01156,
      -0.005768,
      -0.011863,
      -0.033041,
      0.032402,
      -0.021204,
      -0.01279,
      0.030159,
      -0.003388,
      0.034174,
      0.008356,
      -0.006563,
      -0.019093,
      0.018518,
      -0.009265,
      -0.013575,
      0.016992,
      0.013163,
      -0.016816,
      -0.069369,
      -0.040656,
      -0.03246,
      -0.014768,
      0.006421,
      0.026289,
      0.020682,
      0.015829,
      0.002456,
      0.002529,
      0.014804,
      -0.044004,
      0.091711,
      0.044551,
      -0.003041,
      0.034952,
      0.032452,
      0.047978,
      0.012764,
      0.048488,
      0.032283,
      -0.025908,
      0.014931,
      -0.031451,
      0.021898,
      -0.002127,
      0.056724,
      0.001459,
      -0.041141,
      0.025146,
      0.011641,
      -0.142744,
      -0.008051,
      0.067521,
      0.012297,
      -0.003728,
      0.052809,
      -0.060484,
      0.011715,
      -0.042762,
      0.040431,
      0.010479,
      -0.051796,
      -0.033192,
      -0.010658,
      -0.012706,
      0.008925,
      0.017342,
      -0.01615,
      0.052256,
      -0.025901,
      -0.011355,
      -0.01279,
      0.024282,
      0.018032,
      -0.013734,
      -0.003641,
      -0.012047,
      0.019399,
      -0.032065,
      -0.003489,
      -0.017326,
      0.031603,
      0.003927,
      -0.003368,
      -0.018817,
      -0.016442,
      0.020272,
      0.025448,
      -0.017498,
      -0.004594,
      -0.001184,
      0.07877,
      0.016979,
      -0.012676,
      0.01755,
      0.000063,
      0.048632,
      0.003446,
      -0.006413,
      -0.01939,
      0.040596,
      -0.018536,
      0.018593,
      -0.005405,
      -0.057324,
      -0.013493,
      0.027266,
      0.037985,
      -0.021919,
      0.001799,
      -0.00469,
      -0.017762,
      0.044151,
      -0.000443,
      -0.019934,
      0.007362,
      -0.002755,
      -0.004709,
      0.013561,
      -0.064969,
      0.050948,
      -0.059437,
      0.037625,
      0.029678,
      -0.017766,
      0.001085,
      0.01487,
      0.011776,
      -0.017624,
      -0.088324,
      0.028464,
      0.005551,
      -0.007498,
      -0.023365,
      -0.016029,
      -0.03123,
      -0.051347,
      0.016321,
      0.047845,
      0.258298,
      -0.026591,
      0.009919,
      0.021217,
      0.047121,
      -0.030258,
      0.010463,
      0.055119,
      0.02894,
      -0.022094,
      0.017197,
      0.057755,
      -0.026696,
      -0.014844,
      -0.03321,
      0.011204,
      -0.068555,
      0.005287,
      0.060356,
      -0.041062,
      -0.001341,
      -0.036848,
      0.044399,
      0.036971,
      -0.040935,
      -0.040415,
      0.000886,
      0.009818,
      0.000245,
      -0.005522,
      -0.041104,
      -0.014016,
      0.016836,
      -0.050902,
      -0.086864,
      -0.015315,
      -0.010037,
      -0.019438,
      -0.0264,
      0.039994,
      -0.010099,
      -0.033847,
      0.025697,
      -0.015812,
      0.025801,
      -0.010595,
      -0.010901,
      0.011553,
      -0.033926,
      -0.06119,
      -0.01782,
      -0.031868,
      -0.028345,
      0.022944,
      -0.025214,
      -0.016304,
      -0.042391,
      -0.031037,
      -0.00197,
      0.029401,
      0.030677,
      0.024091,
      -0.028388,
      0.029915,
      -0.038196,
      0.035768,
      0.021298,
      -0.074028,
      0.012642,
      0.010159,
      -0.043651,
      0.017871,
      0.052198,
      0.013357,
      -0.011872,
      -0.000066,
      0.024857,
      0.090671,
      -0.013184,
      0.04202,
      -0.030854,
      0.039107,
      -0.023052,
      0.026917,
      0.005861,
      0.024258,
      0.012288,
      0.037364,
      0.018108,
      -0.056579,
      -0.017617,
      -0.015423,
      0.025459,
      0.028298,
      0.032875,
      0.0312,
      -0.036873,
      -0.039131,
      0.01622,
      -0.014243,
      -0.010252,
      0.054195,
      0.006086,
      -0.035655,
      0.043552,
      -0.021621,
      -0.027767,
      0.027457,
      0.015649,
      -0.032254,
      -0.039647,
      0.020995,
      0.002797,
      -0.009672,
      0.017793,
      -0.011544,
      0.041932,
      -0.000781,
      0.051179,
      0.003526,
      -0.006622,
      0.006404,
      -0.008115,
      0.050653,
      0.034556,
      -0.077521,
      0.018566,
      -0.019316,
      -0.017822,
      0.05033,
      0.050689,
      -0.039328,
      0.029376,
      0.054011,
      0.058615,
      -0.007942,
      0.065482,
      0.044422,
      -0.012092,
      0.008391,
      -0.019779,
      -0.051391,
      -0.017483,
      0.006068,
      -0.000629,
      0.018973,
      -0.00072,
      0.018766,
      -0.011928,
      -0.002629,
      0.040856,
      0.043974,
      0.028118,
      -0.00617,
      -0.021741,
      -0.047068,
      -0.022869,
      -0.000525,
      0.031694,
      -0.039493,
      -0.026409,
      0.021823,
      0.009024,
      0.040766,
      0.025816,
      0.005389,
      0.019924,
      0.031932,
      -0.009996,
      -0.031981,
      -0.008277,
      -0.055164,
      -0.039065,
      0.028968,
      0.003475,
      -0.060345,
      -0.084395,
      -0.007768,
      0.034244,
      0.001714,
      -0.013539,
      0.032645,
      -0.035981,
      -0.026254,
      0.021201,
      -0.00434,
      0.006899,
      -0.017991,
      0.013821,
      -0.029435,
      -0.032063,
      0.083553,
      0.032991,
      0.012497,
      0.043269,
      -0.000232,
      0.085091,
      -0.023002,
      -0.009336,
      -0.004013,
      0.013205,
      0.001124,
      -0.032938,
      -0.017951,
      -0.00234,
      -0.012446,
      0.017345,
      0.01987,
      -0.065296,
      0.016704,
      -0.032124,
      0.011527,
      -0.025779,
      -0.018151,
      0.014259,
      -0.033251,
      0.033911,
      0.020139,
      0.010843,
      0.00803,
      -0.001528,
      -0.000322,
      0.031361,
      -0.011861,
      0.011651,
      -0.00276,
      -0.000118,
      0.012014,
      -0.00693,
      -0.001084,
      0.001762,
      0.043966,
      0.046111,
      -0.050571,
      0.010581,
      -0.024902,
      0.029716,
      -0.008179,
      0.048627,
      -0.019962,
      0.045996,
      0.013522,
      0.060822,
      0.060075,
      -0.029935,
      0.010787,
      0.031555,
      0.007655,
      -0.037287,
      0.015066,
      -0.032239,
      -0.027799,
      0.008866,
      -0.009608,
      0.016678,
      0.05066,
      0.018954,
      -0.026501,
      -0.022579,
      -0.030202,
      -0.024717,
      0.030594,
      0.010509,
      0.015499,
      -0.028842,
      -0.010421,
      -0.017004,
      -0.025496,
      -0.019556,
      0.001527,
      -0.03294,
      -0.00923,
      -0.001896,
      -0.087847,
      0.032614,
      0.027511,
      -0.029784,
      -0.009206,
      0.029692,
      -0.024714,
      -0.041493,
      -0.004198,
      0.032686,
      0.013034,
      0.020678,
      0.022654,
      0.024932,
      -0.002146,
      -0.005098,
      -0.064463,
      0.004714,
      0.015623,
      -0.016849,
      0.002394,
      -0.005769,
      -0.015513,
      -0.007043,
      0.006756,
      -0.022355,
      0.028868,
      -0.025155,
      -0.016613,
      0.024325,
      -0.013728,
      -0.004639,
      -0.004604,
      -0.028856,
      -0.024664,
      0.023607,
      0.039238,
      0.012355,
      -0.032576,
      0.03133,
      -0.006696,
      0.027832,
      -0.038712,
      0.067796,
      -0.044435,
      -0.03941,
      -0.007034,
      0.033369,
      -0.01079,
      -0.009474,
      0.021729,
      -0.019301,
      -0.031619,
      -0.020507,
      -0.010365,
      -0.009692,
      0.009724,
      -0.012545,
      -0.029891,
      -0.009806,
      -0.026308,
      0.0099,
      -0.030441,
      0.020015,
      -0.047793,
      0.047462,
      -0.02124,
      -0.022454,
      0.006883,
      0.047126,
      -0.038461,
      0.02974,
      -0.043607,
      -0.00098,
      -0.005142,
      -0.033164,
      0.052545,
      -0.003223,
      -0.014203,
      -0.025338,
      -0.036075,
      0.040666,
      -0.030748,
      -0.042284,
      0.000931,
      0.019018,
      -0.041618,
      -0.034837,
      0.047979,
      -0.009531,
      -0.033683,
      0.011639,
      -0.041553,
      0.023032,
      -0.026061,
      0.017762,
      -0.047953,
      -0.04115,
      -0.008526,
      0.024108,
      0.024539,
      -0.027986,
      0.035921,
      -0.014384,
      0.012053,
      0.008038,
      -0.027553,
      -0.068924,
      -0.010882,
      -0.021698,
      -0.039677,
      -0.009524,
      0.003072,
      -0.016655,
      0.032391,
      0.000143,
      0.007863,
      -0.022004,
      0.020031,
      -0.020335,
      -0.02754,
      -0.136926,
      0.025258,
      0.012714,
      0.026723,
      -0.018563,
      0.000046,
      0.03471,
      0.002741,
      -0.005743,
      -0.006628,
      -0.040929,
      0.017639,
      -0.008499,
      -0.033849,
      0.010615,
      0.036612,
      0.006628,
      -0.00403,
      -0.010195,
      0.010487,
      -0.001396,
      -0.030732,
      0.022374,
      -0.016441,
      -0.01742,
      -0.019912,
      0.023406,
      0.006304,
      -0.016811,
      0.037787,
      -0.024348,
      -0.008882,
      0.0177,
      0.017137,
      -0.004369,
      0.001584,
      -0.006999,
      -0.004634,
      -0.002422,
      0.014986,
      -0.04488,
      0.041399,
      -0.045576,
      0.039161,
      0.004343,
      0.038037,
      -0.022159,
      -0.019796,
      -0.024904,
      -0.011597,
      -0.048159,
      0.011818,
      0.011581,
      0.008062,
      0.003363,
      -0.009584,
      -0.030523,
      -0.062655,
      -0.065475,
      0.032721,
      -0.018682,
      0.023846,
      -0.071456,
      0.000142,
      -0.009329,
      -0.018609,
      -0.023113,
      0.030934,
      0.001556,
      0.008027,
      -0.041275,
      -0.007501,
      -0.01771,
      0.00343,
      0.010119,
      -0.013664,
      0.024773,
      -0.042475,
      -0.048078,
      -0.003471,
      0.01321,
      -0.031873,
      -0.054966,
      0.019638,
      0.081552,
      0.029758,
      -0.017875,
      0.001545,
      -0.012348,
      -0.026656,
      -0.047151,
      -0.045935,
      0.01089,
      0.015177,
      -0.028808,
      0.036182,
      0.012121,
      -0.009807,
      -0.025407,
      -0.013312,
      -0.036591,
      0.004033,
      0.036299,
      -0.001227,
      -0.006461,
      0.01724,
      -0.012954,
      0.011963,
      -0.000689,
      -0.013058,
      0.033521,
      -0.033949,
      0.015544,
      0.033165,
      -0.082057,
      0.030542,
      0.041943,
      0.029127,
      -0.035284,
      -0.027822,
      0.01343,
      -0.005549,
      -0.010916,
      -0.016105,
      0.008343,
      -0.011401,
      0.036954,
      -0.002312,
      0.045846,
      -0.033668,
      0.037937,
      -0.040173,
      -0.021063,
      0.038079,
      0.038926,
      -0.022944,
      -0.058475,
      0.039869,
      0.010803,
      0.002029,
      -0.032629,
      -0.009625,
      0.013311,
      -0.025687,
      -0.033808,
      -0.000132,
      -0.002816,
      0.024998,
      -0.006537,
      -0.013127,
      -0.020541,
      -0.012687,
      -0.015852,
      0.053674,
      -0.010636,
      -0.002556,
      0.03855,
      0.008454,
      -0.017748,
      0.064141,
      0.035877,
      -0.059729,
      -0.029054,
      -0.029377,
      -0.006955,
      0.000128,
      -0.020772,
      -0.018657,
      -0.004179,
      0.02369,
      -0.035391,
      0.080959,
      -0.021437,
      -0.047511,
      0.038828,
      -0.039712,
      0.00286,
      -0.0121,
      0.054947,
      0.013625,
      0.010772,
      -0.004358,
      0.022128,
      0.030301,
      0.027943,
      0.018599,
      -0.005775,
      0.031553,
      0.04893,
      0.024835,
      -0.007713,
      -0.040979,
      0.032128,
      0.000957,
      0.027127,
      -0.011441,
      0.008178,
      -0.00831,
      -0.005781,
      0.091075,
      0.04371,
      -0.022891,
      -0.006296,
      -0.00902,
      -0.022803,
      0.006544,
      -0.001823,
      -0.034666,
      0.031208,
      0.029575,
      -0.030196,
      0.005804,
      0.026324,
      0.015351,
      0.015428,
      0.01319,
      0.046108,
      0.014563,
      -0.012861,
      -0.017691,
      0.017478,
      -0.006117,
      0.00312,
      -0.048267,
      -0.067747,
      -0.005237,
      0.013637,
      -0.0124,
      0.000968,
      0.002095,
      -0.007806,
      -0.038106,
      -0.020096,
      0.076172,
      0.010975,
      -0.015089,
      0.019106,
      0.01253,
      -0.045887,
      -0.032716,
      0.007393,
      0.018563,
      -0.019691,
      0.020249
    ]
  },
  {
    "id": "v5-view-engine-0",
    "content": "# Server Side Rendering\nBreadcrumb: Server Side Rendering\nCovers: Rendering views from services | Using authentication\nTopics: hooks, services, context, params, provider, find, get, create, update, remove, authentication, authorization, jwt, stateless, adapter, memory, events, rest, http, express, middleware, browser, view engine, login\n\n## Rendering views from services\n\nYou probably already know that when you register a Feathers service, Feathers creates RESTful endpoints for that service automatically. Well, really those are just Express routes, so you can define your own as well.\n\n> **ProTip:** Your own defined REST endpoints won't work with hooks and won't emit socket events. If you find you need that functionality it's probably better for you to turn your endpoints into a minimal Feathers service.\n\nLet's say you want to render a list of messages from most recent to oldest using the [Pug](https://pugjs.org/) template engine.\n\n```js\n// You've set up your main Feathers app already\n\n// Register your view engine\napp.set('view engine', 'pug');\n\n// Register your message service\napp.use('/api/messages', memory());\n\n// Inside your main Feathers app\napp.get('/messages', function(req, res, next){\n  // You namespace your feathers service routes so that\n  // don't get route conflicts and have nice URLs.\n  app.service('api/messages')\n    .find({ query: {$sort: { updatedAt: -1 } } })\n    .then(result => res.render('message-list', result.data))\n    .catch(next);\n});\n```\n\nSimple right? We've now rendered a list of messages using the `/views/message-list.pug` view template. All your hooks will get triggered just like they would normally so you can use hooks to pre-filter your data and keep your template rendering routes super tight. See [Using Template Engines with Express](https://expressjs.com/en/guide/using-template-engines.html) for more information.\n\n> **ProTip:** If you call a Feathers service \"internally\" (ie. not over sockets or REST) you won't have a `context.params.provider` attribute. This allows you to have hooks only execute when services are called externally vs. from your own code.\n\n## Using authentication\n\nFeathers is by default stateless and does not use any sessions. You already can protect Express endpoints with the [express.authenticate](../../api/express.md#express-authenticate) middleware, however this will only work when passing the `Authorization` header (usually with a JWT) which a normal browser request does not support.\n\nIn order to render authenticated pages, [express-session](https://www.npmjs.com/package/express-session) can be used to add the authentication information to the (browser) session:\n\n> npm i express-session --save\n\nNow you can add the following to `src/middleware/index.js|ts`:\n\n```js\nconst session = require('express-session');\nconst { authenticate } = require('@feathersjs/express');\n\n// This sets `req.authentication` from the information added to the session\nconst setSessionAuthentication = (req, res, next) => {\n  req.authentication = req.session.authentication;\n  next();\n};\n\nmodule.exports = function (app) {\n  // Initialize Express-session - might have to be configured\n  // with a persisten storage adapter (like Redis)\n  app.use(session({\n    secret: 'session-secret',\n    saveUninitialized: false,\n    resave: true\n  }));\n\n  // An endpoint that you can POST to with `email` and `password` that\n  // will then perform a local user authentication\n  // e.g <form action=\"/login\" method=\"post\"></form>\n  app.post('/login', async (req, res, next) => {\n    try {\n      const { email, password } = req.body;\n      // Run normal local authentication through our service\n      const { accessToken } = await app.service('authentication').create({\n        strategy: 'local',\n        email,\n        password\n      });\n\n      // Register the JWT authentication information on the session\n      req.session.authentication = {\n        strategy: 'jwt',\n        accessToken\n      };\n\n      // Redirect to an authenticated page\n      res.redirect('/hello');\n    } catch (error) {\n      next(error);\n    }\n  });\n\n  // Remove the authentication information from the session to log out\n  app.get('logout', (req, res) => {\n    delete req.session.authentication;\n    res.end('You are now logged out');\n  });\n\n  // Renders an authenticated page or an 401 error page\n  // Always needs `setSessionAuthentication, authenticate('jwt')` middleware first\n  app.get('/hello', setSessionAuthentication, authenticate('jwt'), (req, res) => {\n    res.end(`Authenticated page with user ${req.user.email}`);\n  });\n};\n```",
    "rawContent": "## Rendering views from services\n\nYou probably already know that when you register a Feathers service, Feathers creates RESTful endpoints for that service automatically. Well, really those are just Express routes, so you can define your own as well.\n\n> **ProTip:** Your own defined REST endpoints won't work with hooks and won't emit socket events. If you find you need that functionality it's probably better for you to turn your endpoints into a minimal Feathers service.\n\nLet's say you want to render a list of messages from most recent to oldest using the [Pug](https://pugjs.org/) template engine.\n\n```js\n// You've set up your main Feathers app already\n\n// Register your view engine\napp.set('view engine', 'pug');\n\n// Register your message service\napp.use('/api/messages', memory());\n\n// Inside your main Feathers app\napp.get('/messages', function(req, res, next){\n  // You namespace your feathers service routes so that\n  // don't get route conflicts and have nice URLs.\n  app.service('api/messages')\n    .find({ query: {$sort: { updatedAt: -1 } } })\n    .then(result => res.render('message-list', result.data))\n    .catch(next);\n});\n```\n\nSimple right? We've now rendered a list of messages using the `/views/message-list.pug` view template. All your hooks will get triggered just like they would normally so you can use hooks to pre-filter your data and keep your template rendering routes super tight. See [Using Template Engines with Express](https://expressjs.com/en/guide/using-template-engines.html) for more information.\n\n> **ProTip:** If you call a Feathers service \"internally\" (ie. not over sockets or REST) you won't have a `context.params.provider` attribute. This allows you to have hooks only execute when services are called externally vs. from your own code.\n\n## Using authentication\n\nFeathers is by default stateless and does not use any sessions. You already can protect Express endpoints with the [express.authenticate](../../api/express.md#express-authenticate) middleware, however this will only work when passing the `Authorization` header (usually with a JWT) which a normal browser request does not support.\n\nIn order to render authenticated pages, [express-session](https://www.npmjs.com/package/express-session) can be used to add the authentication information to the (browser) session:\n\n> npm i express-session --save\n\nNow you can add the following to `src/middleware/index.js|ts`:\n\n```js\nconst session = require('express-session');\nconst { authenticate } = require('@feathersjs/express');\n\n// This sets `req.authentication` from the information added to the session\nconst setSessionAuthentication = (req, res, next) => {\n  req.authentication = req.session.authentication;\n  next();\n};\n\nmodule.exports = function (app) {\n  // Initialize Express-session - might have to be configured\n  // with a persisten storage adapter (like Redis)\n  app.use(session({\n    secret: 'session-secret',\n    saveUninitialized: false,\n    resave: true\n  }));\n\n  // An endpoint that you can POST to with `email` and `password` that\n  // will then perform a local user authentication\n  // e.g <form action=\"/login\" method=\"post\"></form>\n  app.post('/login', async (req, res, next) => {\n    try {\n      const { email, password } = req.body;\n      // Run normal local authentication through our service\n      const { accessToken } = await app.service('authentication').create({\n        strategy: 'local',\n        email,\n        password\n      });\n\n      // Register the JWT authentication information on the session\n      req.session.authentication = {\n        strategy: 'jwt',\n        accessToken\n      };\n\n      // Redirect to an authenticated page\n      res.redirect('/hello');\n    } catch (error) {\n      next(error);\n    }\n  });\n\n  // Remove the authentication information from the session to log out\n  app.get('logout', (req, res) => {\n    delete req.session.authentication;\n    res.end('You are now logged out');\n  });\n\n  // Renders an authenticated page or an 401 error page\n  // Always needs `setSessionAuthentication, authenticate('jwt')` middleware first\n  app.get('/hello', setSessionAuthentication, authenticate('jwt'), (req, res) => {\n    res.end(`Authenticated page with user ${req.user.email}`);\n  });\n};\n```",
    "breadcrumb": "Server Side Rendering",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/express/view-engine.md",
    "heading": "Server Side Rendering",
    "subHeadings": [
      "Rendering views from services",
      "Using authentication"
    ],
    "hasCode": true,
    "codeLanguages": [
      "js",
      "text"
    ],
    "tokens": 1059,
    "category": "cookbook-express",
    "tags": [
      "hooks",
      "services",
      "context",
      "params",
      "provider",
      "find",
      "get",
      "create",
      "update",
      "remove",
      "authentication",
      "authorization",
      "jwt",
      "stateless",
      "adapter",
      "memory",
      "events",
      "rest",
      "http",
      "express",
      "middleware",
      "browser",
      "view engine",
      "login"
    ],
    "embedding": [
      -0.009479,
      0.004397,
      -0.037957,
      0.013907,
      -0.041106,
      -0.025817,
      0.016012,
      0.007315,
      -0.007908,
      0.019476,
      -0.005666,
      0.012786,
      -0.015512,
      0.031195,
      -0.007772,
      -0.015438,
      0.022609,
      -0.01684,
      0.04312,
      -0.03466,
      -0.042398,
      -0.00486,
      -0.002633,
      0.006876,
      0.023286,
      -0.016917,
      -0.027893,
      -0.032687,
      0.04299,
      -0.009542,
      0.027093,
      0.013943,
      0.010227,
      0.002571,
      -0.051222,
      -0.052348,
      -0.010269,
      0.004463,
      -0.036511,
      0.037564,
      -0.025083,
      -0.013534,
      -0.004592,
      0.001239,
      -0.000392,
      -0.038873,
      0.001722,
      -0.008579,
      -0.014683,
      -0.00953,
      -0.053263,
      0.035663,
      0.015795,
      -0.061973,
      0.041582,
      0.051883,
      -0.020829,
      0.001454,
      -0.066573,
      0.015161,
      -0.035278,
      -0.009777,
      -0.031981,
      0.025824,
      0.001208,
      0.058827,
      -0.020891,
      0.010282,
      -0.015147,
      -0.010469,
      -0.00981,
      0.004457,
      -0.008591,
      0.001618,
      -0.056593,
      0.041945,
      0.04677,
      0.025648,
      -0.019186,
      -0.010019,
      -0.019998,
      -0.032347,
      0.002913,
      0.026398,
      0.030781,
      0.007867,
      -0.027792,
      0.045936,
      0.054914,
      -0.021022,
      0.005695,
      -0.011753,
      0.06442,
      -0.047756,
      -0.048522,
      0.003124,
      -0.046015,
      -0.01011,
      0.034632,
      0.011695,
      0.003179,
      0.008542,
      -0.006384,
      -0.049821,
      0.051928,
      0.007367,
      0.044172,
      -0.005832,
      -0.007539,
      -0.022574,
      -0.014299,
      0.002962,
      0.00923,
      0.009099,
      -0.009596,
      -0.024543,
      0.019661,
      -0.000305,
      -0.029684,
      -0.008197,
      -0.005105,
      0.039936,
      0.037806,
      -0.024177,
      -0.022337,
      0.014674,
      0.001939,
      0.031134,
      0.006438,
      0.02956,
      0.05599,
      -0.050246,
      -0.018768,
      -0.008193,
      -0.015865,
      0.022938,
      0.014011,
      0.021422,
      -0.021791,
      -0.048726,
      0.037869,
      0.005781,
      0.025965,
      -0.0165,
      0.023565,
      -0.067323,
      0.020646,
      0.0257,
      -0.021892,
      -0.00618,
      -0.028673,
      -0.002325,
      -0.003248,
      -0.03842,
      0.025032,
      -0.058729,
      0.014615,
      0.020933,
      0.023063,
      0.022965,
      -0.000068,
      0.026491,
      -0.033994,
      0.009599,
      0.065513,
      -0.015477,
      0.02277,
      -0.053355,
      -0.005934,
      -0.01533,
      0.047937,
      -0.030918,
      0.045718,
      -0.011229,
      0.013249,
      0.025209,
      0.087517,
      0.020219,
      0.030056,
      -0.023929,
      -0.03165,
      0.027557,
      -0.013929,
      -0.03094,
      -0.006897,
      0.025629,
      -0.04235,
      -0.051234,
      -0.01685,
      0.032311,
      -0.023756,
      -0.017651,
      0.070887,
      0.005519,
      0.049939,
      0.003831,
      0.026043,
      0.002671,
      0.033163,
      0.016846,
      0.000285,
      0.029972,
      0.038626,
      0.026163,
      -0.029899,
      -0.009727,
      0.001786,
      -0.038518,
      0.008146,
      -0.04773,
      -0.017412,
      -0.01149,
      0.00349,
      -0.054481,
      -0.012228,
      0.020016,
      -0.012051,
      0.058141,
      0.002287,
      -0.038098,
      -0.004944,
      0.009205,
      0.00878,
      -0.041408,
      0.008353,
      0.018312,
      0.017534,
      -0.023435,
      -0.017831,
      -0.035894,
      0.005761,
      0.055397,
      0.015219,
      -0.013498,
      0.022821,
      -0.046002,
      -0.017738,
      -0.008368,
      -0.009893,
      0.032554,
      0.010382,
      -0.020761,
      0.00278,
      -0.016412,
      -0.048871,
      -0.020537,
      0.052299,
      -0.001016,
      -0.039051,
      -0.032636,
      -0.047858,
      0.017037,
      -0.014933,
      0.03112,
      -0.01924,
      -0.006034,
      0.024034,
      -0.015565,
      0.002636,
      -0.036146,
      -0.002753,
      0.010679,
      0.011124,
      0.001043,
      -0.00609,
      0.003835,
      -0.062496,
      -0.004439,
      0.004654,
      0.006394,
      -0.014093,
      0.035599,
      0.051079,
      0.001091,
      -0.013391,
      0.010305,
      -0.024097,
      -0.026427,
      0.084802,
      0.037137,
      -0.011714,
      -0.000126,
      0.031488,
      0.055386,
      0.031466,
      0.034846,
      -0.004167,
      0.016102,
      0.016809,
      -0.049661,
      -0.01458,
      0.033259,
      0.082129,
      0.00389,
      -0.015301,
      0.019207,
      -0.008648,
      -0.1306,
      0.002904,
      0.062421,
      0.017299,
      -0.005355,
      0.00649,
      -0.055978,
      -0.011685,
      -0.04462,
      0.023644,
      -0.024216,
      -0.06339,
      -0.028056,
      -0.006374,
      -0.016732,
      0.005681,
      -0.010047,
      -0.00271,
      0.049919,
      -0.045971,
      -0.030991,
      0.006645,
      0.039329,
      0.015473,
      -0.034662,
      -0.020493,
      -0.013913,
      0.027066,
      -0.029414,
      -0.022397,
      0.036563,
      0.009843,
      0.003607,
      0.014337,
      -0.035578,
      -0.023421,
      -0.015865,
      0.038232,
      -0.000147,
      -0.005515,
      -0.019178,
      0.071771,
      0.018445,
      -0.0137,
      -0.012239,
      -0.038385,
      0.037059,
      0.007935,
      -0.031761,
      -0.015003,
      0.028832,
      -0.033341,
      -0.000537,
      0.028999,
      -0.045569,
      -0.008375,
      0.012782,
      0.055365,
      -0.018971,
      -0.004735,
      -0.014327,
      -0.003405,
      0.064012,
      0.017247,
      -0.014052,
      0.013407,
      0.007482,
      0.012412,
      0.024211,
      -0.034754,
      0.063744,
      -0.053132,
      0.008594,
      0.015,
      -0.030193,
      -0.005423,
      0.02978,
      -0.040104,
      0.012712,
      -0.086605,
      -0.024538,
      0.040744,
      -0.024093,
      0.00662,
      -0.027728,
      -0.012167,
      0.017219,
      -0.014659,
      0.041559,
      0.268619,
      0.027113,
      0.010482,
      0.006791,
      0.044843,
      -0.019687,
      -0.006473,
      0.072731,
      0.025224,
      -0.007606,
      0.016476,
      0.02308,
      0.006199,
      0.00444,
      0.006856,
      0.018909,
      -0.060002,
      0.029451,
      0.083119,
      -0.032471,
      0.015022,
      -0.017362,
      0.024706,
      0.021343,
      -0.068657,
      -0.031002,
      0.017677,
      0.043003,
      -0.033559,
      0.00429,
      -0.010153,
      0.012688,
      0.029305,
      -0.042696,
      -0.088661,
      -0.028819,
      0.007316,
      -0.009536,
      -0.010881,
      0.01085,
      -0.008783,
      -0.024608,
      0.016253,
      0.022931,
      0.024684,
      -0.016442,
      -0.017068,
      -0.02238,
      -0.042943,
      -0.044031,
      -0.038015,
      -0.002983,
      -0.02415,
      -0.026485,
      0.001405,
      -0.035763,
      0.005906,
      -0.010412,
      -0.013539,
      0.00118,
      0.031053,
      0.003686,
      -0.08486,
      0.03568,
      0.004846,
      0.026615,
      0.003442,
      -0.005551,
      0.011987,
      0.056967,
      -0.022041,
      -0.008251,
      0.048387,
      0.011148,
      -0.003765,
      0.029216,
      0.027911,
      0.048007,
      -0.031834,
      0.058106,
      -0.009256,
      0.02058,
      -0.002515,
      0.018693,
      0.006013,
      0.031851,
      -0.0121,
      0.031666,
      -0.003937,
      -0.02362,
      -0.009425,
      -0.02362,
      0.006772,
      0.044477,
      0.008651,
      0.005224,
      -0.025825,
      -0.020677,
      0.003926,
      -0.013269,
      0.037106,
      0.012912,
      0.013327,
      -0.027454,
      0.025776,
      -0.032309,
      0.000173,
      0.009761,
      0.005063,
      -0.006992,
      -0.040143,
      0.020386,
      0.017133,
      -0.027926,
      0.014488,
      -0.007916,
      0.006018,
      0.023366,
      0.035177,
      0.022777,
      -0.006956,
      -0.024976,
      -0.034994,
      0.00253,
      -0.00166,
      -0.053658,
      -0.040038,
      -0.032695,
      -0.042156,
      0.051897,
      0.005818,
      -0.017116,
      0.033635,
      0.056006,
      0.020572,
      0.02545,
      0.027206,
      0.027645,
      0.014619,
      0.016075,
      -0.02314,
      -0.012916,
      -0.005776,
      0.001608,
      0.029813,
      0.042965,
      -0.013578,
      0.013343,
      -0.002693,
      -0.014502,
      0.023901,
      0.070823,
      0.029796,
      -0.016946,
      -0.008109,
      -0.039539,
      0.005906,
      0.003465,
      0.030384,
      -0.028509,
      -0.014162,
      -0.029472,
      0.007973,
      0.033638,
      0.038207,
      -0.015481,
      0.011749,
      -0.016942,
      -0.0027,
      -0.062353,
      -0.018796,
      -0.06228,
      -0.01662,
      0.056443,
      0.013687,
      -0.019816,
      -0.044974,
      0.001315,
      0.050228,
      -0.037978,
      -0.001307,
      0.014331,
      -0.015629,
      -0.038007,
      0.033592,
      -0.001318,
      -0.007169,
      0.001151,
      -0.012389,
      -0.045237,
      -0.043615,
      0.075332,
      0.005817,
      0.004826,
      0.048584,
      -0.012953,
      0.044246,
      0.049,
      0.004342,
      -0.014545,
      -0.015633,
      0.012128,
      -0.009453,
      -0.009635,
      0.006234,
      -0.032022,
      0.005397,
      0.026948,
      -0.062172,
      0.016838,
      -0.016863,
      0.025937,
      -0.027675,
      0.004713,
      0.010006,
      -0.025138,
      0.082298,
      0.048763,
      0.007359,
      0.000915,
      -0.011678,
      -0.014537,
      0.009055,
      -0.061024,
      0.021285,
      0.021796,
      0.007488,
      -0.006239,
      -0.002823,
      0.029354,
      -0.002669,
      0.048739,
      0.026228,
      -0.052646,
      0.027658,
      -0.00165,
      0.021405,
      0.011573,
      0.045734,
      -0.02206,
      0.035293,
      -0.036745,
      0.046781,
      0.046268,
      -0.018498,
      -0.000563,
      0.016101,
      -0.011167,
      -0.051308,
      -0.015376,
      0.008903,
      -0.00921,
      0.028674,
      -0.032839,
      0.026268,
      0.039808,
      0.025961,
      -0.037268,
      -0.014929,
      -0.003646,
      -0.00574,
      0.009926,
      -0.01341,
      -0.007542,
      -0.000556,
      -0.041913,
      -0.004302,
      -0.0434,
      -0.023906,
      -0.022479,
      -0.023769,
      -0.017976,
      -0.038486,
      -0.086943,
      0.052041,
      0.002765,
      -0.056115,
      -0.041066,
      0.058898,
      0.001812,
      -0.054432,
      0.012434,
      -0.002311,
      0.006532,
      0.00314,
      0.025821,
      0.048499,
      -0.026731,
      0.009001,
      -0.029618,
      -0.024919,
      0.026529,
      -0.023751,
      -0.003035,
      -0.040436,
      -0.010337,
      -0.018498,
      0.015024,
      0.008485,
      0.004756,
      -0.035022,
      0.00831,
      -0.007536,
      -0.006818,
      0.003058,
      0.014743,
      -0.018241,
      -0.045223,
      0.023437,
      0.003695,
      -0.013753,
      -0.025559,
      0.029826,
      0.00527,
      0.052127,
      -0.040396,
      0.074242,
      -0.035934,
      -0.024581,
      -0.007698,
      0.05733,
      -0.03074,
      -0.006764,
      -0.026515,
      -0.018525,
      -0.00359,
      -0.016322,
      -0.046692,
      0.015772,
      0.011353,
      0.000012,
      -0.026106,
      -0.001737,
      -0.025868,
      -0.019967,
      -0.006171,
      0.041562,
      -0.038633,
      0.013788,
      -0.030826,
      -0.020714,
      -0.020406,
      0.043039,
      -0.024817,
      0.039795,
      -0.016818,
      -0.013449,
      0.021526,
      -0.014197,
      0.00612,
      -0.042356,
      0.007828,
      -0.005046,
      -0.068236,
      0.025529,
      0.00811,
      -0.064501,
      -0.001526,
      -0.002751,
      0.02506,
      -0.016414,
      0.084255,
      -0.02572,
      -0.023869,
      0.013081,
      0.018202,
      0.029314,
      -0.019856,
      0.002864,
      -0.026199,
      -0.035316,
      0.011379,
      0.042458,
      -0.016754,
      -0.040489,
      0.054923,
      -0.037119,
      0.015981,
      -0.010109,
      -0.021857,
      -0.019602,
      -0.000392,
      -0.030619,
      -0.012975,
      -0.007421,
      -0.012076,
      0.014966,
      0.037029,
      -0.027808,
      0.008328,
      -0.001038,
      0.017658,
      -0.02383,
      0.028223,
      -0.149215,
      0.040814,
      -0.005192,
      0.001776,
      -0.00649,
      0.03333,
      -0.009092,
      -0.004542,
      -0.008785,
      -0.001278,
      -0.047238,
      0.003684,
      0.008908,
      -0.029376,
      0.042593,
      -0.013827,
      -0.009885,
      -0.01724,
      0.001092,
      -0.037067,
      0.021033,
      -0.003975,
      0.023055,
      -0.021386,
      -0.001277,
      0.00667,
      -0.033587,
      0.01937,
      -0.025749,
      0.032596,
      -0.024021,
      0.022776,
      0.00532,
      0.008454,
      -0.01398,
      0.006712,
      0.010946,
      0.001383,
      -0.018479,
      0.018052,
      -0.012744,
      0.014541,
      -0.067897,
      0.023001,
      0.014049,
      0.058247,
      -0.008516,
      -0.009135,
      0.007599,
      -0.027751,
      -0.015563,
      -0.007488,
      0.049254,
      0.009824,
      0.00959,
      -0.011123,
      -0.041516,
      -0.017686,
      -0.059974,
      0.022901,
      -0.031513,
      0.053851,
      -0.038461,
      -0.026728,
      -0.014907,
      -0.004556,
      -0.029666,
      0.026887,
      -0.020055,
      -0.014641,
      0.007564,
      -0.035093,
      -0.056822,
      0.003801,
      0.025705,
      -0.017408,
      0.082075,
      -0.050284,
      -0.0402,
      -0.001264,
      -0.018038,
      -0.024649,
      -0.064443,
      0.060431,
      0.063402,
      0.049501,
      -0.009263,
      0.009364,
      -0.007956,
      -0.035955,
      -0.066951,
      -0.021795,
      0.033289,
      0.032119,
      0.000041,
      -0.010536,
      -0.00216,
      -0.008529,
      -0.011068,
      0.002102,
      -0.01917,
      0.001626,
      0.055227,
      0.003529,
      -0.046235,
      0.0051,
      0.012878,
      0.038227,
      0.023195,
      -0.000018,
      0.019072,
      -0.017267,
      0.010426,
      -0.009714,
      -0.100732,
      0.035623,
      0.013261,
      -0.002261,
      -0.031231,
      -0.009612,
      0.022202,
      0.002685,
      -0.026328,
      -0.043124,
      0.04033,
      0.038772,
      0.031519,
      -0.001751,
      0.027594,
      -0.020631,
      0.027874,
      -0.077782,
      -0.028441,
      0.00883,
      0.038173,
      -0.027825,
      -0.081731,
      0.044994,
      0.033281,
      0.000039,
      -0.02203,
      -0.016725,
      0.020612,
      -0.015917,
      -0.028671,
      -0.043268,
      0.019532,
      0.024902,
      -0.02244,
      -0.038806,
      0.028112,
      0.024829,
      -0.003648,
      0.011522,
      0.015441,
      0.01338,
      0.007147,
      0.005033,
      -0.015363,
      0.053027,
      0.013534,
      -0.029477,
      -0.010571,
      -0.035674,
      0.003304,
      -0.022853,
      -0.027433,
      -0.022677,
      -0.003918,
      0.036343,
      -0.015581,
      0.06978,
      -0.011295,
      -0.042505,
      -0.00291,
      -0.002539,
      0.000181,
      0.012681,
      0.033452,
      -0.029373,
      0.020284,
      0.006271,
      0.018792,
      -0.015325,
      0.011937,
      0.044689,
      0.045068,
      0.020109,
      0.028628,
      0.009503,
      0.008125,
      -0.034208,
      0.00757,
      -0.034034,
      -0.009576,
      -0.042905,
      0.016448,
      -0.019818,
      -0.010747,
      0.065291,
      0.028663,
      -0.052174,
      -0.048326,
      -0.03243,
      -0.00878,
      -0.00217,
      -0.039167,
      0.006644,
      0.010165,
      0.032865,
      -0.005988,
      -0.012469,
      -0.00543,
      0.006495,
      0.009073,
      0.022534,
      0.056839,
      0.010791,
      0.003671,
      -0.034267,
      0.008327,
      0.015265,
      -0.003869,
      -0.067764,
      -0.023177,
      -0.023701,
      0.007048,
      -0.016626,
      -0.003802,
      -0.038615,
      -0.000512,
      -0.019078,
      0.005421,
      0.03052,
      0.01867,
      -0.0157,
      -0.002539,
      0.031542,
      0.025782,
      -0.033662,
      0.021533,
      0.032485,
      -0.003023,
      0.007766
    ]
  },
  {
    "id": "v5-client-test-0",
    "content": "# Client/server testing\nBreadcrumb: Client/server testing\n\n",
    "rawContent": "",
    "breadcrumb": "Client/server testing",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/general/client-test.md",
    "heading": "Client/server testing",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "cookbook",
    "tags": [],
    "embedding": [
      -0.023317,
      -0.036911,
      -0.029444,
      0.013285,
      0.010104,
      0.024091,
      0.024612,
      0.015445,
      -0.0249,
      0.006009,
      0.033862,
      -0.028062,
      -0.008548,
      0.003864,
      0.027333,
      0.040584,
      -0.006315,
      -0.031098,
      0.001183,
      -0.042666,
      -0.029102,
      -0.004645,
      0.003599,
      0.020267,
      -0.020145,
      -0.006038,
      0.047294,
      -0.062636,
      -0.021184,
      0.023343,
      0.053901,
      0.006821,
      0.009587,
      -0.031729,
      0.006069,
      -0.02977,
      -0.005409,
      0.038971,
      -0.052069,
      0.036401,
      -0.008138,
      -0.027645,
      -0.000646,
      -0.077088,
      0.009047,
      -0.021579,
      -0.017225,
      -0.031269,
      -0.049263,
      0.024373,
      0.033956,
      0.014382,
      0.028639,
      -0.054639,
      0.012903,
      0.011441,
      -0.011314,
      -0.01894,
      -0.080031,
      -0.002232,
      -0.031221,
      0.015153,
      0.022034,
      0.029196,
      0.036426,
      0.04507,
      -0.01507,
      -0.013985,
      -0.021704,
      -0.020791,
      0.017747,
      -0.009028,
      -0.063868,
      0.001133,
      -0.039288,
      0.039216,
      0.014615,
      -0.047536,
      -0.026536,
      0.018997,
      -0.011334,
      0.013459,
      0.029112,
      -0.037915,
      -0.004181,
      -0.001825,
      -0.01604,
      -0.01114,
      -0.009765,
      -0.011021,
      -0.015293,
      -0.033787,
      -0.018302,
      0.000192,
      -0.02823,
      0.007979,
      0.001461,
      0.00844,
      0.025682,
      0.01986,
      0.005479,
      -0.051781,
      0.003626,
      0.014197,
      0.02086,
      0.008329,
      0.021963,
      0.011728,
      0.037355,
      -0.022136,
      -0.006434,
      0.066665,
      0.019696,
      0.064161,
      0.020779,
      0.007314,
      -0.002342,
      -0.043272,
      -0.006391,
      -0.011378,
      0.046557,
      -0.033934,
      0.012164,
      -0.043461,
      0.022069,
      -0.005251,
      0.027074,
      0.011085,
      -0.003648,
      -0.055433,
      0.008879,
      0.029725,
      0.013903,
      0.020448,
      0.014337,
      -0.010633,
      -0.007722,
      -0.024781,
      -0.050682,
      -0.026817,
      -0.035235,
      0.038886,
      -0.075218,
      0.000701,
      0.037644,
      -0.062011,
      0.034359,
      -0.026551,
      -0.015589,
      0.006504,
      0.000067,
      0.019382,
      0.037336,
      -0.004965,
      0.027177,
      -0.051182,
      0.021716,
      0.021266,
      0.079754,
      0.006756,
      -0.008312,
      0.00215,
      0.039719,
      -0.019718,
      0.039255,
      -0.001368,
      0.036455,
      0.030674,
      -0.022558,
      -0.021959,
      0.014528,
      -0.024955,
      -0.056752,
      -0.021393,
      0.054128,
      0.011272,
      0.052685,
      0.025234,
      0.03872,
      -0.064585,
      -0.049994,
      0.009363,
      -0.032233,
      -0.031889,
      -0.011065,
      0.005702,
      0.018308,
      0.009633,
      -0.003463,
      0.034371,
      -0.009005,
      -0.003879,
      0.035243,
      -0.015249,
      0.001209,
      0.00354,
      0.000385,
      -0.021787,
      -0.006186,
      0.003459,
      -0.014466,
      0.054885,
      0.005493,
      -0.015277,
      -0.03819,
      0.011813,
      0.011786,
      -0.020594,
      0.002511,
      -0.021936,
      0.008608,
      0.006923,
      0.01475,
      -0.041688,
      -0.031893,
      -0.017926,
      0.004082,
      -0.022134,
      -0.025234,
      -0.022494,
      0.030538,
      0.03708,
      0.037792,
      0.020898,
      0.047469,
      -0.023218,
      0.023157,
      -0.006038,
      0.022489,
      0.017936,
      -0.016652,
      -0.013339,
      0.010331,
      -0.018625,
      0.014762,
      -0.016074,
      0.01708,
      0.012085,
      0.038756,
      -0.01578,
      -0.020746,
      -0.037311,
      0.061508,
      -0.00027,
      -0.025865,
      -0.017305,
      0.019581,
      0.05406,
      -0.035186,
      -0.034412,
      -0.000387,
      -0.00819,
      -0.003709,
      0.001515,
      0.003929,
      0.002765,
      0.009781,
      -0.024835,
      0.001637,
      -0.027674,
      0.015429,
      0.028167,
      0.007375,
      0.032995,
      0.05374,
      -0.007909,
      -0.04129,
      -0.056113,
      0.041555,
      0.041955,
      -0.001503,
      -0.016138,
      0.09245,
      -0.007325,
      -0.006105,
      -0.011861,
      -0.061704,
      -0.017377,
      0.09509,
      0.044743,
      -0.006038,
      0.032917,
      -0.000039,
      -0.006546,
      0.013032,
      -0.051531,
      0.019716,
      -0.022577,
      0.015359,
      -0.001128,
      -0.007065,
      0.004847,
      0.070941,
      -0.011523,
      -0.029577,
      -0.025377,
      -0.00418,
      -0.128701,
      -0.043136,
      0.012185,
      0.020744,
      0.032283,
      0.015902,
      -0.006886,
      0.013922,
      -0.026937,
      0.049857,
      0.001818,
      -0.053343,
      -0.052621,
      -0.067055,
      -0.002736,
      -0.012019,
      -0.023964,
      0.016211,
      0.027485,
      -0.024927,
      0.030381,
      -0.051964,
      0.002374,
      0.006979,
      0.040355,
      -0.016568,
      0.088101,
      -0.036399,
      -0.046476,
      -0.03429,
      0.016956,
      0.033842,
      0.015446,
      0.03751,
      0.040617,
      -0.012294,
      0.036491,
      0.017597,
      0.039802,
      -0.025031,
      0.01485,
      0.029704,
      -0.034593,
      -0.007288,
      0.017417,
      -0.001788,
      0.002443,
      0.007463,
      -0.029868,
      -0.035662,
      0.048966,
      -0.05585,
      -0.026858,
      0.010089,
      -0.046847,
      0.017379,
      -0.0242,
      0.01877,
      0.004393,
      0.004134,
      -0.034813,
      -0.047522,
      0.038919,
      -0.010616,
      -0.006064,
      -0.039952,
      0.02736,
      -0.044975,
      0.031313,
      -0.034114,
      0.047536,
      -0.02606,
      0.05063,
      0.008041,
      -0.015973,
      0.004415,
      0.023701,
      0.004644,
      -0.042107,
      -0.064959,
      -0.051833,
      -0.004432,
      -0.024013,
      -0.032442,
      -0.069,
      -0.022589,
      -0.012754,
      -0.01898,
      0.026338,
      0.210869,
      0.031073,
      -0.024719,
      -0.0281,
      0.0453,
      0.036751,
      -0.069228,
      0.037057,
      -0.022305,
      -0.029584,
      -0.011532,
      0.012279,
      0.014867,
      -0.013074,
      -0.000815,
      -0.02379,
      -0.046546,
      -0.012665,
      0.09983,
      0.037083,
      -0.018691,
      -0.0386,
      0.018424,
      -0.01555,
      -0.071105,
      -0.035463,
      -0.011404,
      0.002485,
      -0.00241,
      -0.019037,
      0.009458,
      0.0205,
      0.039438,
      -0.053567,
      -0.037239,
      -0.041743,
      -0.010198,
      -0.003332,
      -0.0058,
      0.011602,
      -0.045761,
      -0.033714,
      0.003073,
      0.022269,
      -0.043896,
      0.023313,
      0.037659,
      0.022479,
      -0.001588,
      -0.038165,
      -0.021578,
      -0.08767,
      0.007225,
      0.026361,
      0.027521,
      -0.001053,
      -0.000218,
      -0.017935,
      -0.031874,
      0.047498,
      0.02894,
      -0.020134,
      -0.030593,
      0.07767,
      0.046301,
      0.120454,
      -0.024279,
      -0.013112,
      0.021917,
      0.059242,
      -0.016723,
      0.012649,
      0.006638,
      -0.013676,
      0.022174,
      -0.005226,
      0.069987,
      0.081097,
      -0.024222,
      0.089523,
      -0.005827,
      -0.016756,
      -0.019178,
      0.049239,
      0.014573,
      -0.033754,
      0.035144,
      0.045266,
      -0.013952,
      -0.04523,
      -0.02937,
      -0.005141,
      -0.008926,
      0.011292,
      -0.020828,
      0.01233,
      -0.012786,
      0.008605,
      -0.014571,
      -0.060401,
      0.029028,
      0.002269,
      0.028399,
      0.001146,
      0.039855,
      -0.019732,
      -0.024566,
      -0.037129,
      0.043767,
      0.013116,
      -0.048069,
      0.058365,
      -0.002985,
      -0.037622,
      0.011094,
      -0.032064,
      0.015121,
      0.013661,
      0.057054,
      0.031067,
      0.016559,
      0.014755,
      0.037485,
      -0.003213,
      0.007844,
      -0.098545,
      0.0013,
      0.022728,
      -0.003817,
      0.029307,
      0.059642,
      -0.034267,
      -0.015997,
      0.051922,
      0.053447,
      0.000319,
      -0.001314,
      0.037279,
      0.024848,
      0.009686,
      -0.012621,
      -0.024329,
      -0.027972,
      -0.049438,
      -0.020885,
      0.004651,
      -0.024579,
      -0.001439,
      -0.01996,
      -0.001643,
      0.057865,
      0.015398,
      0.010395,
      -0.062364,
      0.044904,
      -0.059599,
      -0.011792,
      0.009158,
      -0.012671,
      -0.022114,
      -0.031946,
      0.009938,
      0.001104,
      0.030241,
      0.031847,
      -0.012339,
      0.030253,
      0.008058,
      0.017738,
      0.022848,
      0.020625,
      0.00875,
      -0.070923,
      0.082866,
      -0.023115,
      -0.066909,
      -0.02386,
      -0.012249,
      0.034443,
      -0.027212,
      -0.005928,
      -0.005174,
      -0.013718,
      -0.009086,
      0.025116,
      -0.011981,
      0.010095,
      -0.031489,
      -0.046657,
      0.003056,
      -0.019202,
      0.071464,
      0.014342,
      0.005464,
      -0.009829,
      0.008679,
      0.021055,
      0.047101,
      0.013408,
      0.00441,
      -0.013605,
      0.047206,
      0.007834,
      -0.018271,
      -0.047997,
      0.005287,
      -0.040875,
      0.041341,
      -0.024088,
      0.028802,
      -0.013003,
      0.042378,
      -0.036161,
      0.018343,
      -0.006507,
      -0.01974,
      0.000169,
      0.064823,
      -0.001745,
      -0.006635,
      -0.022016,
      -0.041607,
      0.038469,
      0.007271,
      -0.016064,
      -0.017202,
      0.033159,
      -0.013789,
      -0.007618,
      -0.000235,
      -0.001868,
      -0.024823,
      0.001455,
      -0.058201,
      0.062545,
      -0.005537,
      0.041354,
      0.040014,
      -0.001182,
      -0.066159,
      -0.013037,
      0.00048,
      -0.05011,
      0.045261,
      -0.009047,
      0.011476,
      -0.009,
      -0.036697,
      0.011525,
      -0.007461,
      -0.014719,
      -0.005717,
      0.013257,
      -0.021897,
      -0.010166,
      0.006438,
      0.043178,
      -0.024115,
      -0.022955,
      0.004342,
      -0.020358,
      0.032584,
      0.00198,
      0.006814,
      0.028057,
      -0.025103,
      0.038627,
      -0.045931,
      -0.037504,
      -0.026395,
      -0.048886,
      -0.02111,
      -0.020657,
      -0.043541,
      0.06581,
      -0.013352,
      -0.047345,
      0.003678,
      0.035226,
      0.001947,
      -0.021637,
      0.004657,
      0.01832,
      -0.021411,
      0.008121,
      0.017619,
      -0.036134,
      0.016913,
      0.041677,
      -0.024197,
      0.021907,
      0.006275,
      -0.06879,
      -0.000592,
      -0.0397,
      0.028694,
      0.014161,
      0.035872,
      -0.010492,
      0.001766,
      -0.017335,
      0.035379,
      -0.010939,
      -0.063587,
      0.012817,
      0.006987,
      0.017596,
      -0.016816,
      0.003337,
      0.031086,
      0.024462,
      -0.043829,
      0.001284,
      -0.024991,
      -0.005647,
      -0.032803,
      0.028332,
      -0.011821,
      0.026859,
      -0.008391,
      -0.003431,
      -0.040387,
      -0.025317,
      -0.015429,
      -0.063712,
      -0.013421,
      0.013403,
      0.002228,
      0.010767,
      0.029404,
      -0.03998,
      0.002942,
      -0.023299,
      -0.010073,
      0.00175,
      0.029861,
      0.041993,
      0.013984,
      0.029778,
      -0.003857,
      -0.010126,
      -0.031351,
      0.066214,
      -0.032987,
      0.008739,
      0.031649,
      -0.050321,
      0.002823,
      -0.03345,
      0.006135,
      -0.024043,
      -0.004721,
      -0.027342,
      -0.026308,
      0.007807,
      -0.04854,
      0.020282,
      0.042662,
      -0.005489,
      -0.002287,
      -0.024929,
      0.042866,
      -0.002583,
      -0.043883,
      0.031165,
      -0.014311,
      0.005243,
      -0.015268,
      0.045298,
      0.010047,
      -0.019481,
      0.036778,
      -0.00751,
      0.072035,
      -0.009693,
      0.006106,
      0.002097,
      -0.025238,
      0.007488,
      0.004184,
      -0.02076,
      -0.014129,
      -0.051504,
      -0.014118,
      0.035924,
      -0.004544,
      -0.014191,
      -0.0075,
      0.03207,
      0.023276,
      -0.00259,
      -0.039967,
      -0.009885,
      -0.011305,
      -0.112727,
      0.001534,
      -0.009151,
      0.000121,
      -0.001322,
      -0.033627,
      -0.004335,
      -0.044292,
      -0.001383,
      -0.04149,
      -0.032004,
      0.024584,
      0.05105,
      -0.008121,
      0.004914,
      0.017254,
      0.019122,
      0.009544,
      -0.027364,
      0.020319,
      0.034686,
      -0.006706,
      0.03022,
      -0.039467,
      -0.047008,
      -0.026319,
      0.010777,
      -0.005662,
      -0.036888,
      -0.007428,
      0.03127,
      -0.004939,
      0.023899,
      -0.014654,
      -0.005012,
      0.005328,
      -0.0221,
      0.002129,
      -0.001515,
      0.028472,
      -0.019349,
      0.017823,
      -0.034849,
      -0.024534,
      0.01813,
      0.011776,
      -0.006282,
      -0.030826,
      0.011283,
      0.021328,
      -0.02137,
      0.008538,
      0.018355,
      0.017017,
      -0.014306,
      -0.012399,
      -0.060744,
      -0.009116,
      -0.014882,
      0.012183,
      -0.050999,
      0.069893,
      -0.030456,
      -0.028702,
      0.007082,
      0.0501,
      -0.009747,
      -0.004617,
      0.003208,
      0.042372,
      -0.000865,
      0.01112,
      0.016098,
      -0.020861,
      -0.005227,
      0.00216,
      0.016607,
      0.005982,
      -0.005966,
      0.002389,
      -0.059118,
      0.011646,
      -0.008064,
      0.05426,
      0.017225,
      0.025752,
      0.000476,
      0.010138,
      -0.09564,
      -0.010314,
      -0.033691,
      -0.04195,
      -0.002694,
      -0.033944,
      0.013237,
      0.037724,
      0.00814,
      -0.004036,
      -0.02009,
      0.024405,
      -0.013963,
      0.000653,
      -0.031175,
      0.007921,
      0.006193,
      0.002099,
      0.043568,
      -0.030808,
      0.007489,
      0.004153,
      0.020791,
      -0.000887,
      0.012309,
      -0.023509,
      -0.053453,
      0.00813,
      0.022773,
      0.032868,
      -0.009654,
      -0.015681,
      0.059578,
      0.005924,
      0.019666,
      -0.030036,
      0.011343,
      0.038497,
      0.048325,
      0.035764,
      0.029784,
      0.012613,
      0.008776,
      0.003109,
      0.003723,
      0.016026,
      0.021062,
      -0.038506,
      -0.074887,
      0.034205,
      -0.005103,
      -0.051583,
      -0.053227,
      -0.005232,
      -0.018335,
      -0.016823,
      0.01169,
      -0.033208,
      -0.016517,
      -0.01536,
      -0.035472,
      -0.016911,
      0.035109,
      -0.020334,
      -0.012819,
      0.009335,
      0.009642,
      0.052446,
      -0.011945,
      -0.029305,
      -0.015951,
      0.030396,
      -0.026604,
      0.048765,
      -0.012102,
      -0.006086,
      -0.019626,
      -0.000525,
      -0.0071,
      0.003426,
      -0.033996,
      0.00984,
      0.020091,
      0.004513,
      -0.022069,
      -0.025071,
      0.053515,
      -0.040818,
      0.008574,
      0.043896,
      0.027601,
      0.031129,
      0.028748,
      0.006678,
      0.059099,
      0.032861,
      0.055244,
      0.014598,
      0.006391,
      0.004937,
      -0.009765,
      0.005362,
      -0.020847,
      0.017253,
      -0.012101,
      -0.005758,
      0.042216,
      0.011431,
      0.004456,
      0.026646,
      0.012123,
      0.058329,
      -0.014813,
      -0.034414,
      -0.010906,
      0.005461,
      -0.038008,
      -0.031694,
      -0.033983,
      -0.006988,
      -0.000145,
      0.019744,
      -0.006908,
      0.000934,
      -0.016701,
      -0.024528,
      0.001671,
      -0.030816,
      0.010957,
      0.031952,
      0.010647,
      0.026618,
      0.029761,
      0.020351,
      0.013909,
      -0.025297,
      -0.036832,
      -0.007817,
      -0.023805,
      0.032908,
      0.015642,
      -0.048468,
      0.009723,
      -0.033451,
      -0.009092,
      -0.000416,
      0.015102,
      -0.006904,
      -0.00406,
      0.003175,
      -0.062432,
      -0.034153,
      0.00275,
      0.010815,
      -0.001892,
      0.022304
    ]
  },
  {
    "id": "v5-scaling-0",
    "content": "# Scaling\nBreadcrumb: Scaling\nCovers: Horizontal Scaling | Cluster configuration | Multiple instances\nTopics: application, provider, get, create, update, patch, remove, github, events, socket.io, http, transport, feathers client, client, configuration, errors, cli, scaling, upgrade\n\n## Horizontal Scaling\n\nScaling horizontally refers to either:\n\n- setting up a [cluster](https://nodejs.org/api/cluster.html), or\n- adding more machines to support your application\n\nTo achieve high availability, varying combinations of both strategies may be used.\n\n## Cluster configuration\n\n[Cluster](https://nodejs.org/api/cluster.html) support is built into core NodeJS. Since NodeJS is single threaded, clustering allows you to easily distribute application requests among multiple child processes (and multiple threads). Clustering is a good choice when running feathers in a multi-core environment.\n\nBelow is an example of adding clustering to feathers with the `feathers-socketio` provider. By default, websocket connections begin via a handshake of multiple HTTP requests and are upgraded to the websocket protocol. However, when clustering is enabled, the same worker will not process all HTTP requests for a handshake, leading to HTTP 400 errors. To ensure a successful handshake, force a single worker to process the handshake by disabling the http transport and exclusively using the `websocket` transport.\n\n```js\nimport cluster from 'cluster';\nimport feathers from '@feathersjs/feathers';\nimport socketio from '@feathersjs/socketio';\n\nconst CLUSTER_COUNT = 4;\n\nif (cluster.isMaster) {\n  for (let i = 0; i < CLUSTER_COUNT; i++) {\n    cluster.fork();\n  }\n} else {\n  const app = feathers();\n  // ensure the same worker handles websocket connections\n  app.configure(socketio({\n    transports: ['websocket']\n  }));\n  app.listen(4000);\n}\n```\n\nIn your feathers client code, limit the socket.io-client to the `websocket` transport and disable `upgrade`.\n\n```js\nimport feathers from '@feathersjs/client';\nimport socketio from '@feathersjs/socketio-client';\nimport io from 'socket.io-client';\n\nconst app = feathers()\n  .configure(socketio(\n    io('http://api.feathersjs.com', {\n      transports: ['websocket'],\n      upgrade: false\n    })\n  ));\n```\n\n## Multiple instances\n\nWhen running multiple instances of your Feathers application (e.g. on several Heroku Dynos), service events (created, updated, patched, removed and any custom defined events) do not get propagated to other instances for such cases you may want to use: https://github.com/feathersjs-ecosystem/feathers-sync\n\nWhich will use a messaging mechanism to propagate all events to all application instances like redis or RabbitMQ",
    "rawContent": "## Horizontal Scaling\n\nScaling horizontally refers to either:\n\n- setting up a [cluster](https://nodejs.org/api/cluster.html), or\n- adding more machines to support your application\n\nTo achieve high availability, varying combinations of both strategies may be used.\n\n## Cluster configuration\n\n[Cluster](https://nodejs.org/api/cluster.html) support is built into core NodeJS. Since NodeJS is single threaded, clustering allows you to easily distribute application requests among multiple child processes (and multiple threads). Clustering is a good choice when running feathers in a multi-core environment.\n\nBelow is an example of adding clustering to feathers with the `feathers-socketio` provider. By default, websocket connections begin via a handshake of multiple HTTP requests and are upgraded to the websocket protocol. However, when clustering is enabled, the same worker will not process all HTTP requests for a handshake, leading to HTTP 400 errors. To ensure a successful handshake, force a single worker to process the handshake by disabling the http transport and exclusively using the `websocket` transport.\n\n```js\nimport cluster from 'cluster';\nimport feathers from '@feathersjs/feathers';\nimport socketio from '@feathersjs/socketio';\n\nconst CLUSTER_COUNT = 4;\n\nif (cluster.isMaster) {\n  for (let i = 0; i < CLUSTER_COUNT; i++) {\n    cluster.fork();\n  }\n} else {\n  const app = feathers();\n  // ensure the same worker handles websocket connections\n  app.configure(socketio({\n    transports: ['websocket']\n  }));\n  app.listen(4000);\n}\n```\n\nIn your feathers client code, limit the socket.io-client to the `websocket` transport and disable `upgrade`.\n\n```js\nimport feathers from '@feathersjs/client';\nimport socketio from '@feathersjs/socketio-client';\nimport io from 'socket.io-client';\n\nconst app = feathers()\n  .configure(socketio(\n    io('http://api.feathersjs.com', {\n      transports: ['websocket'],\n      upgrade: false\n    })\n  ));\n```\n\n## Multiple instances\n\nWhen running multiple instances of your Feathers application (e.g. on several Heroku Dynos), service events (created, updated, patched, removed and any custom defined events) do not get propagated to other instances for such cases you may want to use: https://github.com/feathersjs-ecosystem/feathers-sync\n\nWhich will use a messaging mechanism to propagate all events to all application instances like redis or RabbitMQ",
    "breadcrumb": "Scaling",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/general/scaling.md",
    "heading": "Scaling",
    "subHeadings": [
      "Horizontal Scaling",
      "Cluster configuration",
      "Multiple instances"
    ],
    "hasCode": true,
    "codeLanguages": [
      "js",
      "text"
    ],
    "tokens": 599,
    "category": "cookbook",
    "tags": [
      "application",
      "provider",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "github",
      "events",
      "socket.io",
      "http",
      "transport",
      "feathers client",
      "client",
      "configuration",
      "errors",
      "cli",
      "scaling",
      "upgrade"
    ],
    "embedding": [
      -0.05203,
      -0.015858,
      -0.04037,
      0.03595,
      -0.003443,
      0.014406,
      -0.008256,
      0.009019,
      -0.019508,
      0.007466,
      -0.018193,
      0.020535,
      -0.020992,
      0.008313,
      0.033882,
      -0.033946,
      -0.009344,
      -0.033878,
      -0.007994,
      -0.039205,
      -0.031049,
      0.031286,
      -0.025617,
      0.021965,
      0.017896,
      0.018267,
      -0.033939,
      -0.012621,
      0.015095,
      0.004546,
      0.015112,
      0.042027,
      0.03072,
      -0.018118,
      -0.031614,
      -0.044713,
      -0.003465,
      -0.010065,
      -0.019169,
      0.041928,
      0.004928,
      0.02856,
      0.00886,
      -0.000587,
      -0.009966,
      -0.026201,
      0.026968,
      -0.023154,
      -0.041054,
      -0.017369,
      -0.032212,
      -0.011411,
      0.010187,
      -0.037061,
      0.036788,
      0.030904,
      -0.014588,
      0.012439,
      -0.087352,
      -0.004899,
      -0.037148,
      0.030467,
      0.009675,
      -0.014296,
      -0.020813,
      0.048046,
      -0.014769,
      0.011216,
      -0.011583,
      -0.030687,
      -0.017327,
      -0.007241,
      0.003994,
      -0.00411,
      -0.051644,
      0.007501,
      -0.002398,
      -0.012543,
      -0.018301,
      -0.002447,
      0.007338,
      -0.037153,
      -0.019958,
      -0.014284,
      0.002422,
      0.022864,
      0.007109,
      0.071679,
      0.02951,
      0.016295,
      -0.001914,
      -0.014,
      0.028602,
      -0.02811,
      -0.007647,
      0.036245,
      0.017716,
      -0.00484,
      0.002364,
      0.021797,
      -0.00587,
      -0.042205,
      0.008503,
      -0.039738,
      0.004948,
      0.05694,
      0.035699,
      0.005383,
      0.007372,
      -0.016611,
      0.026377,
      0.007905,
      -0.004045,
      0.005123,
      -0.020062,
      -0.017322,
      0.014935,
      0.016474,
      -0.004821,
      -0.013134,
      -0.023336,
      0.007909,
      0.058861,
      -0.037635,
      -0.047036,
      0.01502,
      -0.028448,
      0.01215,
      0.018499,
      -0.003507,
      0.04827,
      -0.018205,
      -0.008941,
      -0.005723,
      -0.032301,
      0.009274,
      -0.009853,
      -0.013709,
      0.006514,
      -0.038046,
      0.023611,
      0.006768,
      0.004784,
      -0.016218,
      0.006663,
      -0.018604,
      0.045515,
      0.045848,
      -0.010083,
      0.031131,
      0.009537,
      0.021416,
      0.028217,
      -0.005303,
      0.030117,
      -0.058499,
      0.009711,
      0.022791,
      -0.00559,
      0.019261,
      0.028304,
      0.034921,
      -0.036043,
      0.013477,
      0.042739,
      -0.028594,
      0.042876,
      -0.008566,
      -0.013557,
      -0.037057,
      0.000528,
      -0.02054,
      0.039714,
      -0.014451,
      -0.005184,
      0.035809,
      0.107004,
      0.029057,
      0.016484,
      -0.038771,
      -0.047376,
      -0.008185,
      -0.015631,
      -0.037212,
      -0.019742,
      -0.025767,
      -0.032022,
      -0.093447,
      -0.010709,
      0.018177,
      -0.007897,
      -0.025775,
      0.053205,
      0.024362,
      0.000153,
      0.03394,
      0.034845,
      -0.017817,
      0.036798,
      0.005633,
      0.000948,
      0.037787,
      0.045708,
      -0.005021,
      -0.069454,
      0.015597,
      -0.024717,
      -0.057374,
      0.0261,
      -0.042343,
      0.008366,
      -0.010055,
      -0.009395,
      0.000889,
      -0.039432,
      0.002352,
      -0.018894,
      0.051416,
      -0.028947,
      -0.046344,
      -0.021133,
      -0.002144,
      0.020185,
      -0.005024,
      0.013697,
      0.026664,
      0.021174,
      -0.010834,
      0.027359,
      0.001531,
      -0.032687,
      0.032339,
      0.009372,
      -0.02714,
      0.021995,
      -0.037774,
      -0.063017,
      -0.046699,
      -0.000529,
      0.030283,
      0.008424,
      -0.029857,
      0.063887,
      -0.044047,
      -0.03268,
      0.029359,
      0.026461,
      0.037309,
      -0.018954,
      -0.02491,
      0.008208,
      0.034651,
      -0.030824,
      -0.001743,
      0.035452,
      -0.020339,
      0.043834,
      0.019141,
      0.020891,
      -0.052571,
      -0.012723,
      0.027418,
      0.006515,
      -0.011263,
      0.039204,
      -0.020238,
      -0.037099,
      -0.03574,
      -0.031643,
      -0.007992,
      -0.048913,
      0.024613,
      0.040598,
      -0.001558,
      -0.033764,
      -0.016986,
      0.000354,
      -0.038312,
      0.127453,
      0.06644,
      0.003564,
      0.021571,
      0.043155,
      0.043755,
      0.010508,
      0.019638,
      0.034593,
      -0.039443,
      0.044434,
      -0.036509,
      0.015706,
      -0.003813,
      0.072883,
      0.027108,
      -0.014476,
      0.014231,
      0.012795,
      -0.162864,
      0.023836,
      0.056189,
      0.053517,
      0.00518,
      0.02731,
      -0.021167,
      -0.012773,
      -0.045467,
      0.035983,
      0.012197,
      -0.058936,
      -0.038587,
      0.005293,
      -0.015776,
      0.015229,
      -0.002482,
      -0.002762,
      0.046246,
      -0.034526,
      -0.020071,
      -0.024223,
      0.002612,
      0.003194,
      -0.021105,
      0.006318,
      -0.006449,
      0.003801,
      -0.016782,
      -0.008038,
      -0.04741,
      -0.025947,
      0.008174,
      0.027908,
      0.009626,
      -0.029418,
      0.019563,
      -0.014271,
      0.002723,
      -0.026557,
      -0.001492,
      0.029408,
      0.026273,
      0.022225,
      0.042118,
      -0.060775,
      0.050845,
      -0.000544,
      -0.031604,
      -0.039176,
      0.036692,
      -0.016365,
      0.004621,
      -0.002298,
      -0.036037,
      -0.01658,
      0.049692,
      0.040398,
      -0.01118,
      -0.008827,
      0.017195,
      0.011837,
      0.032636,
      -0.032511,
      -0.018895,
      -0.015135,
      0.056267,
      0.010715,
      0.028218,
      -0.036241,
      0.056339,
      -0.015474,
      -0.009137,
      -0.022276,
      -0.011534,
      0.016098,
      -0.062272,
      -0.032081,
      -0.022138,
      -0.101075,
      0.041452,
      0.021494,
      0.003534,
      0.025498,
      -0.018576,
      -0.02104,
      -0.053001,
      0.010938,
      0.069839,
      0.238988,
      -0.000378,
      0.046753,
      0.007393,
      0.036079,
      -0.025073,
      0.030948,
      0.089787,
      0.041362,
      -0.039939,
      0.013383,
      0.013133,
      -0.010569,
      0.007139,
      0.034229,
      0.026608,
      -0.056351,
      0.002699,
      0.053456,
      -0.031517,
      -0.010196,
      -0.032521,
      0.019774,
      0.026512,
      -0.05033,
      -0.022183,
      0.010417,
      0.035515,
      -0.015514,
      -0.000639,
      -0.024983,
      0.040642,
      0.031209,
      -0.0168,
      -0.054722,
      -0.00561,
      0.006758,
      0.009591,
      -0.005324,
      0.008512,
      -0.023008,
      -0.023565,
      -0.002239,
      -0.018877,
      0.028873,
      -0.02964,
      0.00771,
      -0.025329,
      -0.027534,
      -0.029974,
      -0.071823,
      0.002076,
      -0.043056,
      0.023989,
      -0.049136,
      -0.059693,
      -0.025457,
      -0.036215,
      -0.023135,
      -0.030634,
      0.046553,
      -0.006614,
      0.010354,
      0.019603,
      0.002224,
      0.019378,
      -0.004714,
      -0.021306,
      -0.006383,
      0.068876,
      -0.027716,
      0.005926,
      0.003269,
      -0.033996,
      -0.010086,
      -0.013368,
      0.031516,
      0.051208,
      -0.022299,
      0.005271,
      -0.024237,
      0.019131,
      -0.001814,
      0.007197,
      -0.011034,
      -0.009197,
      -0.039805,
      0.014145,
      0.02361,
      -0.052797,
      -0.025182,
      0.003082,
      -0.002741,
      0.007442,
      -0.014414,
      0.038257,
      -0.00938,
      -0.006219,
      -0.061438,
      -0.022402,
      -0.017146,
      0.014208,
      -0.018423,
      -0.014447,
      0.037781,
      -0.064061,
      0.027835,
      -0.012448,
      0.031193,
      0.01409,
      -0.030503,
      0.001848,
      0.039391,
      0.004645,
      0.011278,
      0.023846,
      0.025971,
      0.004662,
      0.03209,
      0.024255,
      -0.014938,
      -0.018107,
      0.000268,
      0.01075,
      0.018754,
      -0.07133,
      -0.000742,
      -0.035671,
      -0.022837,
      0.058069,
      0.058706,
      -0.04861,
      0.028379,
      0.079279,
      0.000442,
      0.019817,
      0.009288,
      0.020043,
      0.0126,
      0.031557,
      -0.027068,
      -0.017092,
      -0.013614,
      0.016381,
      0.010846,
      0.047433,
      -0.009107,
      0.015187,
      -0.000008,
      -0.018008,
      0.010936,
      0.046557,
      -0.011413,
      -0.013153,
      -0.022117,
      0.005763,
      -0.001507,
      0.025673,
      0.015537,
      -0.021213,
      -0.058802,
      0.02279,
      0.02623,
      0.019198,
      0.019836,
      -0.015305,
      0.00703,
      0.022508,
      -0.002222,
      -0.034671,
      0.002863,
      -0.024076,
      -0.033941,
      0.0505,
      0.009733,
      -0.038002,
      -0.079997,
      0.005509,
      0.024556,
      -0.005118,
      0.025947,
      -0.030598,
      -0.057042,
      -0.05686,
      -0.011381,
      0.006689,
      -0.000762,
      -0.022329,
      0.015657,
      -0.029782,
      -0.044294,
      0.088714,
      0.003159,
      0.009424,
      0.030599,
      -0.024973,
      0.060027,
      0.019387,
      0.02029,
      -0.002718,
      -0.029339,
      0.018774,
      -0.032688,
      -0.014969,
      0.02145,
      -0.021671,
      -0.001269,
      0.011398,
      -0.045313,
      0.055547,
      -0.012698,
      0.005802,
      -0.070178,
      -0.025782,
      0.008735,
      0.0009,
      0.0603,
      0.05987,
      0.006429,
      -0.017216,
      -0.026064,
      -0.016812,
      0.05886,
      -0.038609,
      -0.027028,
      -0.028567,
      -0.00963,
      0.008908,
      0.000682,
      0.020366,
      -0.00095,
      0.02775,
      0.001421,
      -0.03286,
      0.021825,
      -0.017923,
      0.050459,
      -0.000886,
      0.014925,
      -0.02038,
      0.034919,
      -0.028883,
      0.062595,
      0.067812,
      -0.00718,
      -0.03264,
      0.003008,
      -0.034041,
      0.007984,
      0.033755,
      0.000062,
      -0.028242,
      0.013606,
      -0.042362,
      -0.006605,
      -0.002331,
      0.006821,
      -0.021958,
      -0.002452,
      0.000503,
      -0.013731,
      0.013433,
      -0.006028,
      -0.001859,
      -0.034798,
      -0.023247,
      -0.009938,
      -0.052978,
      -0.02853,
      -0.026583,
      -0.019135,
      -0.009947,
      0.006517,
      -0.046666,
      0.014983,
      0.006368,
      -0.028707,
      0.022345,
      -0.007898,
      -0.005098,
      -0.05635,
      0.002741,
      0.003758,
      -0.020119,
      -0.00839,
      0.027746,
      0.035192,
      -0.009922,
      0.00069,
      -0.049628,
      0.012593,
      -0.018358,
      -0.026164,
      -0.018985,
      -0.040341,
      -0.007076,
      -0.012491,
      -0.016234,
      0.016221,
      -0.000727,
      -0.015741,
      0.004632,
      -0.000049,
      -0.056218,
      -0.027015,
      0.02101,
      -0.038349,
      -0.074895,
      -0.00045,
      0.014463,
      -0.029764,
      -0.029415,
      0.002534,
      0.009461,
      0.047287,
      -0.012956,
      0.087641,
      -0.055267,
      -0.041452,
      0.007438,
      -0.019105,
      0.00266,
      -0.012548,
      -0.00068,
      0.014482,
      -0.010232,
      0.021282,
      -0.004126,
      -0.037292,
      0.012628,
      -0.048975,
      0.02085,
      0.009781,
      -0.049177,
      -0.029793,
      -0.016321,
      0.028904,
      -0.047467,
      0.004649,
      -0.040343,
      -0.000282,
      0.005823,
      0.050418,
      -0.024954,
      0.026454,
      -0.029479,
      -0.006961,
      -0.015005,
      -0.031245,
      0.037687,
      0.008021,
      -0.016465,
      -0.043448,
      -0.038173,
      0.036167,
      -0.042298,
      -0.006212,
      -0.003617,
      0.018685,
      0.013638,
      -0.039178,
      0.051019,
      0.009885,
      -0.025993,
      0.046503,
      0.007705,
      0.039873,
      -0.019991,
      0.00822,
      0.006054,
      -0.009251,
      0.048645,
      0.013994,
      -0.009214,
      -0.019642,
      -0.000106,
      -0.007841,
      0.033166,
      0.034293,
      -0.024964,
      -0.046491,
      -0.019045,
      -0.046165,
      -0.011643,
      -0.010328,
      0.004602,
      -0.026463,
      0.020547,
      0.045262,
      -0.043907,
      -0.017611,
      0.035123,
      0.00573,
      0.011901,
      -0.14263,
      0.051754,
      -0.005825,
      0.012,
      -0.025712,
      0.027732,
      -0.017432,
      0.030498,
      -0.001793,
      -0.02099,
      -0.025945,
      0.022043,
      0.027025,
      -0.047745,
      0.021889,
      0.020904,
      -0.041895,
      -0.015307,
      0.010357,
      -0.001184,
      0.00431,
      0.029349,
      0.050157,
      -0.026074,
      0.028997,
      -0.016712,
      0.005679,
      -0.023674,
      -0.029354,
      -0.025829,
      -0.012229,
      -0.041294,
      0.033036,
      0.01277,
      -0.012342,
      0.00275,
      -0.002787,
      0.02935,
      0.034932,
      0.022562,
      -0.028222,
      0.019467,
      -0.020763,
      0.047478,
      0.000756,
      0.04642,
      -0.007948,
      -0.03811,
      -0.024389,
      -0.011152,
      -0.016756,
      0.03354,
      -0.013175,
      0.025182,
      0.012148,
      0.029913,
      -0.012792,
      -0.034362,
      -0.047474,
      0.032265,
      -0.003956,
      0.05806,
      -0.035435,
      0.019845,
      -0.023528,
      0.012401,
      -0.047876,
      0.010699,
      0.011346,
      0.054741,
      -0.021996,
      -0.003315,
      -0.038499,
      -0.01564,
      0.001632,
      -0.004265,
      0.00602,
      -0.003928,
      -0.024702,
      0.018385,
      0.012378,
      -0.01868,
      -0.063612,
      0.026275,
      0.033206,
      0.009055,
      -0.000313,
      0.007911,
      -0.024485,
      -0.021234,
      -0.025917,
      -0.03367,
      -0.023795,
      0.04745,
      -0.017046,
      0.007181,
      0.009543,
      -0.000784,
      -0.009252,
      0.017095,
      -0.045303,
      -0.000314,
      0.029183,
      0.014609,
      -0.021258,
      0.027228,
      -0.016807,
      -0.01004,
      0.004298,
      -0.022652,
      0.0258,
      -0.01735,
      -0.017285,
      0.010697,
      -0.066368,
      0.008134,
      0.01615,
      0.042482,
      0.017139,
      -0.008059,
      0.009593,
      0.025388,
      0.019464,
      -0.036491,
      -0.009828,
      0.00069,
      0.056263,
      0.039925,
      0.084807,
      0.001604,
      0.001218,
      0.000347,
      -0.027273,
      0.021653,
      0.049283,
      0.001521,
      -0.053452,
      0.045992,
      -0.005581,
      -0.013407,
      0.003111,
      0.008978,
      0.001927,
      -0.011535,
      -0.021527,
      -0.05729,
      -0.028766,
      0.011512,
      -0.001878,
      -0.01855,
      -0.017035,
      0.032937,
      -0.004059,
      0.037257,
      -0.003272,
      0.038796,
      -0.018317,
      0.03506,
      -0.060186,
      0.005688,
      0.067916,
      -0.03084,
      -0.006708,
      -0.000745,
      0.004922,
      0.030213,
      -0.036583,
      0.001424,
      -0.012545,
      0.00249,
      0.012086,
      0.062809,
      -0.023237,
      -0.002517,
      0.066019,
      -0.010333,
      0.023,
      0.000765,
      0.036769,
      -0.002269,
      0.020559,
      0.006796,
      0.020387,
      0.038574,
      0.017196,
      0.016299,
      -0.004972,
      0.02516,
      -0.002379,
      0.02178,
      -0.005479,
      -0.029037,
      0.049481,
      0.011867,
      0.006024,
      -0.022317,
      -0.006749,
      -0.031004,
      0.035366,
      0.074294,
      -0.036785,
      -0.035925,
      0.04214,
      0.020669,
      -0.014606,
      -0.000229,
      -0.067757,
      -0.007546,
      -0.015689,
      0.033647,
      -0.005182,
      -0.015735,
      0.018834,
      0.021296,
      0.00703,
      -0.004295,
      0.010205,
      0.042468,
      -0.026956,
      0.022039,
      0.009959,
      0.02081,
      -0.000738,
      -0.060196,
      -0.02127,
      0.011845,
      -0.001707,
      -0.00492,
      -0.028089,
      -0.024553,
      -0.064966,
      -0.051341,
      0.00364,
      0.034882,
      -0.014236,
      -0.037119,
      0.002103,
      0.006059,
      -0.009832,
      -0.032324,
      0.019309,
      -0.000744,
      0.042627,
      0.028664
    ]
  },
  {
    "id": "v5-index-0",
    "content": "# The Feathers cookbook\nBreadcrumb: The Feathers cookbook\n\n",
    "rawContent": "",
    "breadcrumb": "The Feathers cookbook",
    "version": "v5",
    "sourceFile": "docs/v5_docs/cookbook/index.md",
    "heading": "The Feathers cookbook",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "cookbook",
    "tags": [],
    "embedding": [
      0.02063,
      -0.002358,
      -0.029976,
      0.012905,
      -0.010469,
      0.00961,
      0.024982,
      0.040411,
      -0.025115,
      -0.001763,
      -0.021336,
      -0.017065,
      -0.045984,
      -0.004516,
      0.04776,
      0.025757,
      -0.002329,
      -0.042451,
      0.010085,
      -0.073977,
      -0.013327,
      0.012121,
      -0.026969,
      -0.005498,
      -0.034675,
      -0.002345,
      0.065662,
      -0.041001,
      -0.02526,
      -0.03729,
      0.022669,
      -0.005488,
      0.005407,
      -0.001663,
      0.026987,
      -0.02278,
      0.005861,
      0.04802,
      -0.047745,
      0.083043,
      -0.000006,
      -0.012696,
      0.011765,
      -0.044379,
      0.002649,
      -0.021802,
      -0.025949,
      -0.0197,
      -0.038742,
      -0.0092,
      0.033973,
      0.008035,
      0.012934,
      -0.026469,
      0.010021,
      0.024247,
      0.004217,
      -0.015948,
      -0.104703,
      -0.003057,
      -0.019168,
      0.010579,
      0.027187,
      0.012416,
      0.024255,
      0.035336,
      -0.022111,
      -0.02199,
      -0.022872,
      -0.012425,
      0.013964,
      -0.003621,
      -0.032812,
      0.000748,
      -0.035022,
      0.046275,
      -0.017351,
      -0.054813,
      -0.028989,
      0.037563,
      -0.010196,
      0.004797,
      0.00622,
      -0.014025,
      -0.031758,
      0.008098,
      -0.039486,
      -0.008143,
      0.000407,
      0.008009,
      0.004143,
      -0.034623,
      -0.007686,
      -0.022556,
      -0.012174,
      0.01947,
      -0.013299,
      -0.004645,
      0.017451,
      -0.000161,
      0.002844,
      0.021956,
      -0.01413,
      0.013233,
      0.01113,
      0.012292,
      0.026598,
      0.014828,
      0.084149,
      -0.030125,
      0.018824,
      0.061142,
      0.01752,
      0.043672,
      0.032035,
      0.010619,
      -0.002785,
      -0.033259,
      -0.035209,
      -0.035128,
      -0.008416,
      0.000779,
      0.001394,
      -0.037577,
      0.046255,
      -0.024807,
      0.033254,
      0.004094,
      0.006669,
      -0.035544,
      0.011894,
      0.005544,
      -0.027339,
      0.000028,
      0.034084,
      -0.010636,
      0.00153,
      -0.045512,
      -0.045115,
      0.004699,
      -0.047368,
      0.01297,
      -0.056272,
      0.017485,
      0.017795,
      -0.077483,
      0.015345,
      -0.029224,
      -0.013287,
      -0.014928,
      0.014794,
      0.023416,
      0.052168,
      -0.027655,
      0.05901,
      -0.045769,
      0.04486,
      0.039647,
      0.057065,
      0.019122,
      -0.004019,
      0.021775,
      0.022349,
      -0.043606,
      0.046951,
      0.010846,
      0.025787,
      0.036783,
      -0.002387,
      -0.041709,
      0.023013,
      -0.037044,
      -0.07127,
      -0.025783,
      0.064662,
      0.011995,
      0.040163,
      -0.006965,
      0.021959,
      -0.05771,
      -0.041164,
      0.011966,
      -0.046104,
      -0.038825,
      -0.003115,
      -0.005669,
      -0.005195,
      -0.009658,
      0.004265,
      0.04194,
      -0.010027,
      -0.004576,
      0.012374,
      -0.026728,
      -0.006282,
      -0.007491,
      -0.032936,
      -0.028371,
      -0.025641,
      0.024567,
      0.036167,
      0.052777,
      0.010329,
      -0.010196,
      -0.032019,
      -0.00238,
      0.005428,
      -0.004204,
      0.003999,
      -0.007482,
      -0.001631,
      -0.0132,
      -0.010154,
      -0.062083,
      0.022179,
      -0.04432,
      0.00273,
      -0.024002,
      -0.011231,
      -0.033766,
      0.021918,
      0.019004,
      0.063448,
      0.019714,
      0.05196,
      -0.004981,
      0.014472,
      -0.027842,
      0.020287,
      -0.006773,
      -0.037373,
      0.019459,
      0.025715,
      -0.006011,
      -0.019343,
      -0.026845,
      0.030709,
      0.040216,
      -0.001329,
      0.015466,
      0.002994,
      -0.032614,
      0.066439,
      0.020089,
      -0.029993,
      -0.010175,
      0.024753,
      0.009683,
      -0.019975,
      -0.036878,
      0.021534,
      -0.004966,
      0.004281,
      0.014597,
      -0.016678,
      -0.001227,
      -0.00544,
      -0.049489,
      -0.006642,
      -0.059033,
      0.029937,
      0.027745,
      -0.028349,
      0.020607,
      0.027071,
      -0.005449,
      -0.008222,
      -0.032843,
      0.048096,
      0.014849,
      0.006025,
      -0.011557,
      0.041536,
      -0.006595,
      -0.014933,
      -0.018679,
      -0.03772,
      -0.015468,
      0.071591,
      0.023266,
      -0.003561,
      0.015068,
      0.007234,
      0.016553,
      0.026894,
      -0.027543,
      0.01486,
      -0.007058,
      -0.001511,
      -0.001493,
      0.017203,
      -0.013444,
      0.037169,
      -0.000371,
      -0.0416,
      0.027948,
      0.011783,
      -0.120753,
      -0.013519,
      0.021881,
      0.021839,
      0.022798,
      0.026986,
      0.016544,
      0.006842,
      -0.012955,
      0.001853,
      0.013302,
      -0.046275,
      -0.015029,
      -0.013478,
      -0.005131,
      0.009735,
      0.014102,
      0.01611,
      0.013539,
      -0.015254,
      0.004211,
      -0.027493,
      -0.016031,
      0.017399,
      0.000162,
      -0.000248,
      0.036278,
      -0.044756,
      -0.059321,
      -0.065153,
      -0.030443,
      0.006483,
      0.015574,
      0.053805,
      0.002252,
      0.025589,
      0.008311,
      0.049761,
      0.031134,
      -0.022542,
      0.025903,
      0.017892,
      -0.014317,
      -0.032994,
      0.004325,
      -0.02037,
      0.00855,
      0.035205,
      -0.035681,
      -0.049872,
      0.05051,
      -0.063831,
      -0.040496,
      0.004818,
      -0.051315,
      0.043614,
      -0.002677,
      -0.002342,
      0.024319,
      0.015345,
      -0.046333,
      -0.033317,
      0.035302,
      -0.026267,
      0.006229,
      -0.017564,
      -0.006639,
      -0.021583,
      0.000603,
      -0.016348,
      0.022007,
      -0.033272,
      0.044624,
      0.003436,
      -0.015233,
      0.009358,
      0.006193,
      0.012576,
      -0.03743,
      -0.068196,
      -0.020734,
      -0.00921,
      -0.01468,
      -0.035869,
      -0.069257,
      -0.032217,
      -0.02769,
      -0.032636,
      0.022675,
      0.221941,
      0.021522,
      -0.001986,
      -0.009774,
      0.032225,
      0.015098,
      -0.040057,
      0.070174,
      0.00921,
      -0.001573,
      -0.014759,
      -0.007572,
      0.008704,
      -0.029655,
      -0.034067,
      -0.031563,
      -0.06004,
      0.002351,
      0.098613,
      0.0275,
      -0.005825,
      -0.035069,
      0.041298,
      -0.00769,
      -0.06425,
      -0.028241,
      -0.013465,
      -0.000897,
      0.002782,
      -0.037599,
      -0.008316,
      -0.003112,
      0.042765,
      -0.047815,
      -0.032916,
      -0.044507,
      -0.058987,
      -0.015639,
      -0.026067,
      0.017803,
      -0.036995,
      -0.043971,
      0.00373,
      -0.025539,
      -0.031305,
      0.025164,
      0.012787,
      0.019774,
      0.015883,
      -0.0426,
      0.02074,
      -0.063202,
      -0.010298,
      0.002559,
      -0.006673,
      -0.009159,
      0.020959,
      -0.020615,
      -0.05503,
      0.028145,
      0.039167,
      -0.015528,
      -0.012389,
      0.047525,
      0.022062,
      0.086774,
      0.021464,
      -0.036247,
      -0.024617,
      0.049597,
      -0.013821,
      0.018049,
      -0.037575,
      0.010414,
      0.030413,
      0.008091,
      0.035116,
      0.049589,
      0.014175,
      0.094541,
      -0.018026,
      -0.004324,
      -0.011136,
      0.04757,
      0.028471,
      0.003647,
      0.032745,
      -0.004913,
      -0.006473,
      -0.040319,
      -0.00704,
      0.005545,
      0.017172,
      0.054288,
      -0.054221,
      0.014392,
      -0.01189,
      -0.015589,
      -0.021877,
      -0.036871,
      0.013494,
      -0.017054,
      0.023416,
      -0.036675,
      0.05672,
      -0.018397,
      -0.028522,
      -0.005042,
      0.002417,
      0.015606,
      0.001986,
      0.035326,
      0.017985,
      -0.021524,
      0.035014,
      -0.017759,
      0.071936,
      0.013871,
      0.033034,
      0.000138,
      -0.006906,
      0.005704,
      0.045971,
      0.003596,
      0.007031,
      -0.093182,
      0.027513,
      0.021482,
      -0.021268,
      0.018778,
      0.023064,
      -0.02864,
      -0.049505,
      0.005864,
      0.052983,
      0.011818,
      0.040527,
      0.029413,
      0.000642,
      -0.007763,
      0.00013,
      0.017409,
      -0.040365,
      -0.077255,
      -0.028973,
      0.025044,
      -0.028607,
      -0.001691,
      -0.011452,
      -0.002473,
      0.064605,
      0.009319,
      0.024294,
      -0.053833,
      0.027208,
      -0.056635,
      -0.003638,
      0.018666,
      -0.010399,
      -0.023151,
      -0.035384,
      0.04689,
      0.018844,
      0.006731,
      0.011808,
      0.021113,
      0.025499,
      0.001154,
      0.022784,
      -0.006025,
      -0.005352,
      -0.000458,
      -0.06551,
      0.06948,
      -0.01384,
      -0.078411,
      0.020533,
      -0.014947,
      0.038951,
      -0.020512,
      -0.034389,
      0.024824,
      0.037462,
      0.00735,
      -0.004044,
      -0.000097,
      -0.006886,
      -0.035204,
      -0.043128,
      -0.000491,
      0.012385,
      0.062855,
      0.038423,
      -0.010044,
      0.004992,
      -0.014807,
      0.004916,
      0.055248,
      0.042126,
      -0.010932,
      -0.033942,
      0.008231,
      0.006939,
      -0.018971,
      -0.042912,
      0.016348,
      -0.040022,
      0.078246,
      -0.018708,
      0.018546,
      0.016812,
      0.0305,
      -0.036805,
      0.025152,
      -0.017886,
      -0.022584,
      0.024502,
      0.046584,
      -0.001087,
      -0.032665,
      -0.02926,
      -0.004641,
      0.005727,
      0.035043,
      -0.042396,
      0.006878,
      0.053354,
      0.026462,
      -0.030575,
      -0.016082,
      -0.00811,
      0.004671,
      0.023499,
      -0.050503,
      0.030929,
      0.005637,
      0.066235,
      0.03254,
      0.027167,
      -0.065342,
      -0.021093,
      -0.000093,
      -0.051334,
      0.025285,
      -0.032758,
      0.016203,
      0.043395,
      -0.028985,
      0.024983,
      -0.015434,
      -0.048387,
      -0.001867,
      0.05656,
      0.011382,
      0.001114,
      -0.049884,
      0.072661,
      -0.02889,
      0.003791,
      -0.00336,
      -0.027556,
      0.059497,
      0.013982,
      0.007614,
      0.010041,
      -0.002722,
      0.033443,
      -0.033121,
      -0.028398,
      0.016033,
      -0.037425,
      -0.0276,
      -0.029729,
      -0.056206,
      0.051935,
      0.020143,
      -0.040796,
      -0.021356,
      0.04247,
      -0.008376,
      -0.00353,
      0.003306,
      0.011161,
      -0.017006,
      -0.006497,
      0.029478,
      -0.03011,
      0.055415,
      0.047299,
      -0.016407,
      0.005852,
      -0.018627,
      -0.067709,
      0.008097,
      -0.051861,
      0.021594,
      -0.002187,
      0.037088,
      -0.013928,
      -0.025778,
      -0.024569,
      0.011626,
      0.021351,
      -0.056952,
      0.007157,
      0.019264,
      0.050975,
      -0.06065,
      0.000347,
      -0.014264,
      0.03677,
      -0.00697,
      -0.011998,
      0.001039,
      0.021871,
      -0.067065,
      0.038041,
      -0.019162,
      0.013212,
      0.0139,
      0.023376,
      -0.016041,
      -0.01805,
      -0.021978,
      -0.071832,
      -0.013771,
      0.03339,
      -0.002587,
      -0.001459,
      0.00532,
      -0.037039,
      0.001906,
      -0.03446,
      0.021093,
      -0.017136,
      0.013989,
      0.05634,
      -0.000297,
      0.004416,
      -0.003323,
      -0.047947,
      -0.000359,
      0.061169,
      -0.037879,
      0.036936,
      0.039787,
      -0.034874,
      -0.003815,
      -0.001018,
      0.000185,
      -0.034229,
      0.034515,
      -0.011283,
      -0.029777,
      0.017759,
      -0.027573,
      0.013579,
      -0.002256,
      -0.02405,
      -0.013972,
      -0.035115,
      0.015022,
      -0.009315,
      0.001668,
      0.016957,
      0.019849,
      0.021052,
      -0.040578,
      0.031322,
      -0.021426,
      -0.039254,
      0.004267,
      0.000744,
      0.063461,
      0.011742,
      0.017217,
      0.016489,
      -0.009144,
      -0.018046,
      0.006499,
      -0.016498,
      0.005194,
      -0.023356,
      -0.011802,
      0.029185,
      -0.02494,
      0.011421,
      0.025487,
      0.025976,
      -0.010203,
      0.002974,
      -0.018754,
      0.000596,
      -0.01977,
      -0.101909,
      0.015645,
      -0.033304,
      -0.005011,
      -0.012205,
      -0.001878,
      -0.064592,
      0.017367,
      -0.000377,
      -0.033486,
      -0.008421,
      0.040505,
      0.044838,
      -0.016835,
      -0.027635,
      0.016839,
      0.026746,
      0.020487,
      0.020215,
      0.034712,
      0.043272,
      -0.025263,
      0.01272,
      -0.042094,
      -0.041018,
      -0.00447,
      0.019972,
      -0.013477,
      -0.038708,
      -0.003393,
      0.022593,
      -0.014981,
      -0.001224,
      -0.022802,
      0.036782,
      -0.013185,
      -0.024323,
      -0.008978,
      0.027065,
      0.057362,
      -0.003534,
      0.014789,
      -0.047503,
      0.036758,
      0.020863,
      0.035496,
      0.000603,
      -0.009333,
      0.032579,
      0.005112,
      -0.038133,
      0.000757,
      0.050266,
      0.041305,
      -0.012593,
      -0.007938,
      -0.074979,
      -0.038632,
      0.005098,
      0.001748,
      -0.060498,
      0.04437,
      -0.024017,
      -0.056947,
      0.000346,
      0.03343,
      0.002595,
      0.02346,
      0.015721,
      0.044409,
      -0.0053,
      0.008391,
      -0.016796,
      -0.015017,
      0.011818,
      0.000558,
      0.044667,
      -0.012708,
      -0.012478,
      0.017608,
      -0.054819,
      0.01908,
      -0.015876,
      0.051761,
      -0.014732,
      0.034256,
      -0.020631,
      0.01157,
      -0.070028,
      0.015983,
      -0.008726,
      -0.029121,
      0.004328,
      -0.041331,
      0.002195,
      0.053425,
      0.017394,
      -0.001158,
      -0.034606,
      -0.00185,
      -0.005354,
      -0.022984,
      -0.01483,
      -0.034234,
      0.006496,
      0.008579,
      -0.002459,
      -0.000015,
      0.00447,
      -0.017204,
      0.052208,
      -0.004938,
      0.010661,
      -0.023753,
      -0.037267,
      0.033491,
      0.008808,
      0.071659,
      0.008383,
      -0.021653,
      0.034657,
      0.005265,
      0.049288,
      -0.026178,
      0.009527,
      -0.014649,
      -0.00077,
      0.018727,
      0.019482,
      0.042,
      -0.01191,
      -0.007348,
      0.009264,
      0.01876,
      0.039888,
      -0.050009,
      -0.068954,
      0.037586,
      -0.022349,
      -0.021458,
      -0.057032,
      0.032473,
      -0.020575,
      -0.012594,
      0.003266,
      -0.090913,
      0.001779,
      0.000411,
      -0.034313,
      0.053954,
      0.007451,
      -0.007792,
      0.005178,
      0.016763,
      0.020835,
      0.033052,
      -0.012335,
      -0.0483,
      -0.01669,
      -0.003938,
      -0.000574,
      -0.020042,
      -0.004793,
      0.013381,
      0.004855,
      -0.049788,
      -0.005602,
      0.021203,
      -0.017834,
      0.016762,
      0.001361,
      0.040787,
      -0.023896,
      -0.046113,
      0.053058,
      -0.012808,
      0.001066,
      0.018052,
      0.000358,
      0.028547,
      0.028839,
      -0.019358,
      0.078186,
      0.037554,
      0.039619,
      0.02467,
      -0.008058,
      -0.016794,
      0.004833,
      -0.011253,
      -0.029914,
      -0.012951,
      -0.016231,
      0.035651,
      0.016791,
      0.011331,
      0.017668,
      -0.001158,
      0.008229,
      0.033902,
      -0.013214,
      -0.031026,
      0.011473,
      0.045388,
      -0.014049,
      -0.035477,
      -0.040593,
      -0.020713,
      -0.003704,
      0.012023,
      -0.029819,
      -0.0089,
      0.000908,
      -0.037493,
      0.008345,
      -0.0631,
      -0.002616,
      0.000874,
      -0.004482,
      0.031659,
      0.048093,
      0.016908,
      -0.018358,
      -0.014319,
      -0.014097,
      -0.022796,
      -0.030726,
      0.016924,
      -0.021065,
      -0.019219,
      0.023216,
      -0.048071,
      0.013981,
      0.000694,
      0.001016,
      0.003513,
      0.013245,
      0.051193,
      -0.032665,
      -0.041129,
      0.012406,
      0.039907,
      -0.034867,
      0.021829
    ]
  },
  {
    "id": "v5-index-0",
    "content": "# FeathersJS Ecosystem\nBreadcrumb: FeathersJS Ecosystem\nCovers: The Feathers Flightpath Blog | YouTube Playlist | Awesome Packages\nTopics: setup, http, client, cli, test\n\n<script setup lang=\"ts\">\nimport Packages from './Packages.vue'\n</script>\n\n## The Feathers Flightpath Blog\n\nCatch up on the latest FeathersJS news and community-contributed articles on the [Feathers Flightpath Blog](https://blog.feathersjs.com/).\n\n## YouTube Playlist\n\nWatch the [FeathersJS Playlist on YouTube](https://www.youtube.com/playlist?list=PLwSdIiqnDlf_lb5y1liQK2OW5daXYgKOe).\n\n## Awesome Packages\n\nThis is a curated list of feathers packages. You can sort by various criteria. Core packages are hidden by default.\n\n<ClientOnly>\n  <Suspense>\n    <Packages class=\"mt-4\" />\n  </Suspense>\n</ClientOnly>",
    "rawContent": "<script setup lang=\"ts\">\nimport Packages from './Packages.vue'\n</script>\n\n## The Feathers Flightpath Blog\n\nCatch up on the latest FeathersJS news and community-contributed articles on the [Feathers Flightpath Blog](https://blog.feathersjs.com/).\n\n## YouTube Playlist\n\nWatch the [FeathersJS Playlist on YouTube](https://www.youtube.com/playlist?list=PLwSdIiqnDlf_lb5y1liQK2OW5daXYgKOe).\n\n## Awesome Packages\n\nThis is a curated list of feathers packages. You can sort by various criteria. Core packages are hidden by default.\n\n<ClientOnly>\n  <Suspense>\n    <Packages class=\"mt-4\" />\n  </Suspense>\n</ClientOnly>",
    "breadcrumb": "FeathersJS Ecosystem",
    "version": "v5",
    "sourceFile": "docs/v5_docs/ecosystem/index.md",
    "heading": "FeathersJS Ecosystem",
    "subHeadings": [
      "The Feathers Flightpath Blog",
      "YouTube Playlist",
      "Awesome Packages"
    ],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 152,
    "category": "ecosystem",
    "tags": [
      "setup",
      "http",
      "client",
      "cli",
      "test"
    ],
    "embedding": [
      -0.033255,
      -0.018238,
      -0.033027,
      0.024387,
      -0.021539,
      -0.050675,
      -0.011425,
      -0.005436,
      -0.047761,
      0.030878,
      0.02397,
      0.017679,
      -0.024649,
      -0.020025,
      0.000521,
      -0.008595,
      -0.012427,
      -0.025272,
      0.009521,
      -0.049617,
      -0.056766,
      0.006663,
      -0.003971,
      0.004276,
      0.007039,
      0.022899,
      -0.010684,
      -0.055156,
      -0.014043,
      0.003412,
      0.037484,
      0.047028,
      -0.017633,
      0.017303,
      -0.055403,
      -0.070198,
      0.013427,
      -0.013534,
      -0.02778,
      0.071811,
      0.004343,
      -0.017354,
      -0.011237,
      -0.040179,
      -0.003409,
      -0.05287,
      0.012243,
      0.001247,
      0.009013,
      -0.030242,
      -0.036076,
      0.003948,
      -0.001964,
      -0.091685,
      0.037396,
      0.010046,
      -0.044471,
      0.003212,
      -0.059827,
      0.010934,
      -0.010725,
      0.023639,
      -0.011985,
      0.02133,
      0.03507,
      0.057355,
      -0.016715,
      0.007007,
      -0.027423,
      -0.000953,
      -0.040886,
      -0.036168,
      -0.034983,
      0.009164,
      -0.024152,
      0.01845,
      -0.04836,
      -0.0109,
      -0.041051,
      0.013651,
      0.021041,
      -0.010511,
      0.034624,
      0.007929,
      0.018093,
      -0.011092,
      -0.043019,
      0.088135,
      0.059676,
      0.004929,
      -0.022323,
      -0.008541,
      0.067211,
      -0.050155,
      -0.060715,
      -0.005176,
      0.019468,
      0.002465,
      0.065297,
      0.031761,
      -0.007123,
      -0.0011,
      -0.021168,
      0.023121,
      0.024501,
      0.023674,
      0.015153,
      0.01768,
      -0.036164,
      -0.025046,
      0.040034,
      0.038771,
      -0.004897,
      -0.015549,
      -0.029583,
      -0.028859,
      0.016209,
      -0.018952,
      -0.041785,
      -0.004993,
      -0.017955,
      0.050113,
      0.053888,
      -0.039508,
      0.028176,
      -0.037003,
      -0.018222,
      0.0422,
      0.005419,
      -0.002022,
      0.036037,
      -0.029619,
      -0.019649,
      0.02957,
      0.003164,
      0.003237,
      -0.022516,
      -0.010193,
      -0.017198,
      -0.010274,
      0.021379,
      0.020616,
      -0.030885,
      -0.000365,
      0.026587,
      -0.044108,
      0.060631,
      0.010587,
      -0.049037,
      -0.050288,
      0.016356,
      0.049518,
      0.002269,
      -0.006772,
      0.042313,
      0.004658,
      0.054782,
      -0.02849,
      -0.000552,
      -0.013136,
      0.044939,
      0.010446,
      -0.057124,
      0.003076,
      0.044421,
      -0.010505,
      0.027448,
      -0.005504,
      -0.029475,
      -0.012998,
      -0.018123,
      -0.02481,
      0.006829,
      -0.028352,
      0.039545,
      0.000228,
      0.064779,
      -0.00784,
      0.024559,
      -0.012803,
      -0.013122,
      0.016792,
      -0.003054,
      -0.080087,
      -0.029842,
      -0.029464,
      0.004794,
      -0.043339,
      -0.01892,
      0.018611,
      0.00217,
      -0.063862,
      0.07794,
      0.000993,
      0.044212,
      0.014464,
      0.032367,
      0.026243,
      -0.000704,
      0.030165,
      -0.007435,
      0.006559,
      0.008081,
      0.059829,
      -0.006441,
      -0.026255,
      -0.023753,
      -0.067728,
      -0.004,
      -0.023217,
      0.016194,
      -0.00398,
      -0.021241,
      -0.055397,
      -0.037482,
      -0.012427,
      -0.003416,
      0.021003,
      -0.020522,
      -0.013094,
      0.008041,
      -0.022791,
      0.050859,
      -0.015208,
      0.04836,
      -0.033394,
      0.041639,
      0.004595,
      0.00842,
      0.013484,
      -0.027714,
      0.021122,
      0.012365,
      -0.009335,
      0.016796,
      -0.035272,
      -0.030914,
      -0.008665,
      -0.013224,
      0.008807,
      0.043026,
      -0.045413,
      -0.02118,
      -0.010775,
      -0.066404,
      -0.020086,
      0.064399,
      0.027051,
      -0.005284,
      -0.024089,
      -0.028959,
      0.031385,
      0.02164,
      0.033293,
      0.008408,
      0.029012,
      0.035276,
      -0.04521,
      -0.028707,
      -0.038636,
      0.013519,
      0.044209,
      -0.014156,
      0.019988,
      0.034027,
      -0.001162,
      -0.062858,
      -0.00502,
      0.013192,
      0.030731,
      0.000326,
      0.00761,
      0.027554,
      0.007616,
      -0.018721,
      -0.009961,
      -0.019205,
      -0.032258,
      0.085338,
      0.016796,
      -0.016978,
      0.003113,
      0.032891,
      0.050428,
      0.033699,
      -0.031936,
      0.018074,
      0.009747,
      0.007317,
      0.014034,
      -0.016171,
      0.040182,
      0.032519,
      0.014666,
      -0.031012,
      0.032488,
      -0.002134,
      -0.15114,
      -0.011563,
      0.047104,
      0.005364,
      0.017856,
      0.024478,
      0.013472,
      0.032158,
      -0.043069,
      0.018335,
      -0.044397,
      -0.024084,
      -0.010284,
      -0.027133,
      -0.034818,
      0.028803,
      0.017827,
      0.007531,
      0.017623,
      -0.053407,
      0.005814,
      -0.000721,
      0.019388,
      0.02771,
      0.031705,
      0.008173,
      -0.001007,
      0.036388,
      -0.034728,
      0.004192,
      -0.009765,
      -0.021112,
      0.015079,
      0.010074,
      0.015175,
      0.011634,
      0.025453,
      0.005234,
      0.015681,
      -0.029384,
      0.012254,
      0.032234,
      -0.010425,
      -0.026903,
      0.007111,
      0.001268,
      0.036065,
      0.018005,
      -0.030688,
      -0.020051,
      -0.002495,
      -0.006824,
      0.05084,
      0.012045,
      -0.06264,
      -0.018424,
      -0.019782,
      0.030957,
      0.029421,
      -0.045427,
      -0.02368,
      -0.005116,
      0.050147,
      -0.071433,
      -0.019815,
      -0.005616,
      0.012785,
      -0.001125,
      0.030891,
      -0.010481,
      0.036209,
      -0.019903,
      0.023006,
      -0.006904,
      -0.01985,
      0.050987,
      0.001473,
      -0.019041,
      0.000121,
      -0.085073,
      0.019566,
      -0.000887,
      -0.004001,
      0.000202,
      -0.029986,
      -0.0393,
      -0.02915,
      -0.001015,
      0.053816,
      0.229109,
      -0.004306,
      0.020327,
      0.024078,
      0.094349,
      -0.030607,
      -0.001987,
      0.064095,
      0.031304,
      -0.030189,
      -0.001439,
      0.052318,
      0.00125,
      -0.013967,
      -0.031347,
      0.004265,
      -0.056994,
      0.00258,
      0.049639,
      -0.011795,
      -0.037935,
      -0.040593,
      0.025156,
      0.038351,
      -0.062992,
      0.004625,
      -0.001895,
      -0.00177,
      -0.009589,
      0.004578,
      -0.0341,
      -0.013295,
      0.040646,
      0.024577,
      -0.082284,
      -0.033125,
      -0.005645,
      -0.024951,
      -0.02459,
      0.020922,
      -0.047405,
      -0.009758,
      0.023572,
      -0.002507,
      0.048729,
      -0.020736,
      0.004572,
      -0.001813,
      0.005224,
      -0.033885,
      0.000376,
      -0.04404,
      -0.028445,
      -0.012053,
      -0.002072,
      0.026026,
      0.038632,
      -0.041725,
      -0.006371,
      0.054857,
      0.01025,
      -0.004845,
      -0.014459,
      -0.019629,
      -0.041003,
      0.033922,
      0.015112,
      -0.026185,
      0.006871,
      0.047428,
      -0.039905,
      0.044146,
      0.054727,
      -0.005454,
      -0.020915,
      -0.007647,
      0.024238,
      0.029666,
      -0.002411,
      0.051654,
      -0.02092,
      -0.005162,
      -0.028608,
      0.029319,
      0.036536,
      -0.026251,
      0.018462,
      0.012928,
      -0.008888,
      -0.035221,
      -0.005423,
      0.016852,
      0.028507,
      0.003594,
      -0.016597,
      0.016839,
      -0.046428,
      0.001539,
      -0.012671,
      -0.021343,
      0.005609,
      0.001794,
      -0.003998,
      -0.032376,
      0.026367,
      0.007369,
      0.013604,
      0.021996,
      0.015686,
      -0.022308,
      -0.005445,
      -0.018181,
      0.032894,
      -0.011066,
      0.006405,
      0.020672,
      0.034151,
      -0.033125,
      0.05319,
      -0.015272,
      -0.06358,
      0.009123,
      -0.023102,
      0.030463,
      0.017766,
      -0.081194,
      0.007376,
      0.004369,
      -0.018434,
      0.033428,
      0.034848,
      -0.040889,
      0.007046,
      0.075362,
      0.020018,
      0.006984,
      0.040421,
      0.00917,
      0.000548,
      -0.015701,
      -0.061822,
      -0.008091,
      0.002101,
      -0.017979,
      0.006592,
      0.01553,
      -0.022408,
      -0.00656,
      0.000223,
      0.004276,
      0.025904,
      0.061078,
      0.010612,
      -0.049929,
      -0.008377,
      -0.018187,
      0.002865,
      0.039101,
      0.013602,
      -0.028019,
      -0.053264,
      0.025767,
      0.031909,
      0.072357,
      -0.004261,
      -0.001241,
      -0.018245,
      0.003995,
      0.007083,
      -0.03944,
      0.009167,
      -0.025099,
      -0.073174,
      0.09634,
      0.006402,
      -0.040364,
      -0.016133,
      0.003128,
      0.018473,
      0.010995,
      0.011652,
      -0.005634,
      -0.008501,
      -0.016516,
      -0.033758,
      0.00743,
      -0.01732,
      -0.00502,
      -0.012717,
      -0.001984,
      -0.038146,
      0.102226,
      -0.012669,
      -0.003953,
      0.071393,
      -0.01482,
      0.072878,
      0.029794,
      0.017323,
      -0.020542,
      0.002515,
      -0.005406,
      -0.024717,
      -0.044365,
      -0.002471,
      0.017515,
      -0.071578,
      0.040669,
      -0.039992,
      0.016343,
      0.001988,
      0.02323,
      -0.030883,
      0.004698,
      0.024824,
      -0.031931,
      0.06583,
      0.007229,
      -0.014414,
      -0.039379,
      0.021306,
      0.013594,
      0.014717,
      -0.015555,
      -0.008288,
      0.039046,
      0.014024,
      0.054666,
      -0.036035,
      0.023457,
      -0.007428,
      0.034615,
      0.031507,
      -0.050262,
      -0.010724,
      -0.011474,
      0.0743,
      0.012476,
      0.04027,
      -0.009444,
      -0.004092,
      -0.007902,
      0.03022,
      0.010547,
      -0.000442,
      0.012052,
      0.009227,
      -0.047191,
      -0.015451,
      -0.000026,
      -0.041683,
      0.00502,
      0.007122,
      -0.016658,
      0.019727,
      -0.026608,
      0.024476,
      -0.01961,
      0.000587,
      -0.00377,
      0.00097,
      0.045828,
      0.009162,
      0.028315,
      -0.043273,
      -0.01689,
      0.03141,
      -0.036489,
      0.00803,
      -0.044595,
      -0.027313,
      -0.007545,
      -0.024382,
      -0.029901,
      0.022161,
      0.022967,
      -0.054927,
      -0.0188,
      -0.020916,
      -0.042381,
      -0.0215,
      0.034792,
      -0.016383,
      0.008357,
      0.01615,
      0.002768,
      0.003869,
      -0.031529,
      0.035019,
      -0.029814,
      0.00203,
      0.031116,
      -0.029614,
      0.043178,
      -0.001672,
      0.016711,
      -0.043399,
      0.052636,
      0.002856,
      -0.009293,
      -0.033293,
      0.011316,
      0.030761,
      -0.01192,
      0.00209,
      0.039423,
      0.020319,
      -0.08403,
      0.049992,
      0.029232,
      -0.034521,
      -0.035005,
      -0.004631,
      0.014748,
      0.041433,
      -0.033782,
      0.049538,
      -0.011724,
      -0.052663,
      -0.001602,
      0.002219,
      -0.007213,
      -0.007633,
      0.003858,
      -0.014433,
      -0.001971,
      0.008397,
      -0.029875,
      -0.039185,
      0.020945,
      -0.014143,
      -0.00368,
      -0.02142,
      -0.040329,
      0.013692,
      -0.0319,
      0.043748,
      0.000462,
      0.043295,
      -0.017245,
      -0.014918,
      -0.010703,
      0.049098,
      -0.035487,
      0.064961,
      0.011258,
      -0.003055,
      -0.000167,
      -0.043285,
      0.038909,
      0.032267,
      -0.008558,
      -0.023978,
      -0.041024,
      0.025224,
      -0.006369,
      -0.015503,
      0.00679,
      -0.048395,
      0.019313,
      -0.042689,
      0.016215,
      -0.019024,
      -0.017212,
      0.014803,
      0.020607,
      0.044965,
      -0.033252,
      -0.010789,
      -0.018999,
      -0.005026,
      0.011629,
      0.003514,
      0.008496,
      -0.016266,
      0.009603,
      0.003512,
      0.067739,
      0.023231,
      -0.021813,
      -0.040389,
      0.006965,
      -0.002736,
      -0.017884,
      0.020029,
      -0.024788,
      -0.003792,
      0.043841,
      -0.002129,
      0.019289,
      -0.01932,
      0.031272,
      -0.010247,
      -0.008025,
      -0.13753,
      0.038425,
      -0.016683,
      0.017731,
      -0.054043,
      -0.009742,
      0.002634,
      -0.029383,
      0.008533,
      0.005912,
      -0.022083,
      -0.001312,
      0.028431,
      -0.05302,
      0.021008,
      0.01119,
      0.021008,
      -0.005243,
      0.016284,
      0.011779,
      0.004516,
      -0.025388,
      0.009019,
      -0.042902,
      -0.027471,
      -0.011247,
      0.010099,
      -0.039288,
      0.017377,
      -0.002945,
      0.00894,
      -0.062304,
      0.007551,
      0.007191,
      -0.018056,
      0.00605,
      0.000097,
      0.00393,
      0.004287,
      -0.003291,
      -0.002986,
      0.020768,
      -0.012217,
      0.015936,
      0.005928,
      0.084744,
      0.002096,
      -0.019876,
      -0.027252,
      0.032877,
      -0.024215,
      0.005212,
      0.049689,
      0.04238,
      -0.028573,
      -0.0216,
      -0.040982,
      -0.000836,
      -0.049689,
      0.058395,
      -0.047162,
      0.041412,
      -0.0545,
      -0.015866,
      -0.018873,
      -0.003114,
      -0.038157,
      0.02449,
      -0.013949,
      0.021239,
      -0.028777,
      0.012869,
      -0.04893,
      0.027281,
      0.008844,
      -0.010518,
      0.021576,
      0.000872,
      -0.061013,
      0.015131,
      -0.006864,
      -0.001261,
      -0.039253,
      0.05571,
      0.046265,
      0.035843,
      -0.002041,
      -0.033481,
      -0.043178,
      -0.014969,
      -0.023449,
      -0.058503,
      -0.006622,
      0.004356,
      -0.035325,
      0.02161,
      0.026297,
      -0.023747,
      -0.020966,
      0.014519,
      0.004429,
      0.001099,
      0.014663,
      -0.004263,
      0.002528,
      0.037591,
      0.053,
      0.015846,
      0.00997,
      -0.025885,
      -0.049486,
      -0.000399,
      -0.003435,
      -0.002423,
      -0.044297,
      -0.025119,
      0.001317,
      0.023864,
      -0.018761,
      0.019019,
      -0.011242,
      0.036868,
      0.019731,
      -0.042359,
      0.046675,
      -0.024344,
      0.025716,
      0.000169,
      0.011398,
      -0.035821,
      0.001683,
      -0.026927,
      -0.008406,
      0.021599,
      0.044933,
      -0.036712,
      -0.040002,
      0.032121,
      0.021299,
      -0.01821,
      -0.076372,
      0.003544,
      -0.043411,
      -0.027633,
      -0.006899,
      -0.03331,
      0.009441,
      0.008296,
      -0.044023,
      0.010784,
      -0.009144,
      0.023836,
      -0.022766,
      0.032865,
      -0.015856,
      0.037655,
      -0.014409,
      0.045509,
      -0.023769,
      0.055053,
      0.03781,
      -0.057295,
      -0.009723,
      0.025337,
      0.01366,
      0.012272,
      0.014369,
      -0.022348,
      -0.01329,
      0.000114,
      -0.025535,
      0.090521,
      -0.019511,
      -0.027194,
      0.022139,
      -0.011526,
      0.022517,
      0.021834,
      -0.01378,
      0.003841,
      0.028203,
      0.021926,
      0.009886,
      0.024347,
      0.019357,
      -0.002606,
      -0.013084,
      -0.037365,
      0.036367,
      -0.015352,
      -0.013951,
      -0.031615,
      -0.010738,
      0.026522,
      -0.005132,
      -0.004927,
      0.013687,
      -0.05699,
      0.010131,
      0.062736,
      -0.020438,
      -0.038377,
      0.015513,
      0.025708,
      0.000631,
      0.007589,
      -0.043266,
      -0.04286,
      0.034969,
      0.02256,
      -0.015693,
      0.010574,
      0.009783,
      -0.030995,
      0.008311,
      -0.010906,
      -0.007381,
      0.053871,
      -0.027365,
      -0.013087,
      0.015264,
      0.015147,
      0.001523,
      -0.002515,
      -0.033034,
      0.000365,
      -0.012561,
      -0.004275,
      -0.010648,
      0.0081,
      -0.002827,
      -0.037706,
      0.011406,
      0.024427,
      -0.00948,
      0.020989,
      0.001839,
      -0.011836,
      -0.007379,
      -0.02014,
      -0.020597,
      0.004994,
      -0.017673,
      0.006176
    ]
  },
  {
    "id": "v5-feathers-vs-firebase-0",
    "content": "# Feathers vs Firebase\nBreadcrumb: Feathers vs Firebase\n\n",
    "rawContent": "",
    "breadcrumb": "Feathers vs Firebase",
    "version": "v5",
    "sourceFile": "docs/v5_docs/feathers-vs-firebase.md",
    "heading": "Feathers vs Firebase",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "comparison",
    "tags": [],
    "embedding": [
      0.030458,
      0.004393,
      -0.043164,
      0.024317,
      -0.019383,
      -0.020122,
      0.037511,
      0.072175,
      0.004517,
      0.031089,
      0.012094,
      -0.048293,
      -0.039763,
      0.006886,
      0.000372,
      0.012844,
      -0.025218,
      -0.025421,
      -0.008768,
      -0.055568,
      0.00669,
      0.003786,
      -0.026783,
      0.025219,
      0.002802,
      -0.010608,
      0.015784,
      -0.031252,
      0.020496,
      0.01567,
      0.027095,
      -0.023413,
      -0.00883,
      -0.006207,
      0.000987,
      -0.0517,
      0.018079,
      0.040485,
      -0.046911,
      0.021466,
      -0.010673,
      -0.037546,
      0.00326,
      0.004739,
      0.011831,
      -0.059216,
      0.008177,
      -0.025808,
      -0.071388,
      0.040326,
      0.013512,
      -0.023607,
      0.034992,
      -0.006229,
      0.022175,
      -0.003447,
      -0.010038,
      -0.020845,
      -0.096116,
      -0.012918,
      -0.045455,
      0.019924,
      -0.027293,
      -0.01238,
      0.016061,
      0.042987,
      -0.035235,
      -0.005828,
      -0.035776,
      -0.014746,
      -0.01242,
      -0.033866,
      -0.011326,
      0.002778,
      -0.023009,
      0.020924,
      -0.006905,
      -0.055647,
      -0.028462,
      0.034401,
      -0.014003,
      -0.033272,
      0.044522,
      0.000511,
      -0.060758,
      0.01987,
      -0.019275,
      0.022633,
      0.040604,
      -0.006172,
      0.018364,
      -0.030511,
      0.015507,
      -0.016031,
      0.01578,
      0.005635,
      -0.013835,
      -0.01559,
      0.006653,
      -0.01218,
      -0.017052,
      0.05131,
      0.013297,
      -0.006214,
      -0.006256,
      0.021375,
      0.008405,
      0.015107,
      0.01327,
      -0.006074,
      0.022532,
      0.047157,
      0.026716,
      0.025953,
      0.015189,
      0.007779,
      -0.010867,
      -0.033111,
      -0.00756,
      -0.031539,
      0.01486,
      0.025617,
      0.069891,
      -0.071824,
      0.000842,
      -0.04325,
      -0.000508,
      0.012847,
      -0.015003,
      -0.014837,
      0.006174,
      -0.012394,
      0.000501,
      -0.029212,
      0.040162,
      -0.014823,
      -0.006627,
      -0.027829,
      -0.013693,
      -0.027394,
      0.002567,
      0.002758,
      -0.003626,
      -0.011504,
      0.022957,
      -0.06505,
      0.027616,
      0.001718,
      -0.00324,
      -0.0373,
      -0.004795,
      0.001069,
      0.047052,
      -0.022193,
      0.059335,
      -0.01996,
      0.04765,
      0.024655,
      0.050323,
      -0.003097,
      -0.005743,
      -0.03442,
      0.003059,
      0.006517,
      0.029007,
      0.05464,
      0.047998,
      -0.011379,
      -0.012837,
      -0.043973,
      -0.014063,
      -0.021908,
      0.040365,
      -0.020406,
      0.057381,
      0.023765,
      0.053734,
      -0.001676,
      0.033495,
      -0.054985,
      -0.01973,
      -0.002511,
      -0.001148,
      -0.037016,
      -0.017271,
      -0.015403,
      0.010098,
      -0.026436,
      0.011964,
      0.04728,
      -0.008893,
      -0.00246,
      0.00978,
      -0.012157,
      0.046231,
      -0.021436,
      -0.013487,
      -0.005529,
      -0.015821,
      0.018357,
      0.068372,
      0.0053,
      0.016979,
      0.01447,
      -0.026811,
      0.008083,
      -0.054566,
      -0.019393,
      0.019168,
      -0.007249,
      -0.00416,
      -0.004994,
      -0.043213,
      -0.00827,
      -0.01151,
      -0.018016,
      -0.0147,
      -0.003153,
      -0.002284,
      -0.041004,
      0.003058,
      -0.00473,
      0.03424,
      0.019637,
      0.017091,
      -0.000694,
      -0.01455,
      0.035839,
      0.014244,
      -0.001256,
      -0.040643,
      0.066872,
      0.049208,
      -0.006503,
      -0.000138,
      -0.050948,
      -0.052265,
      0.04618,
      0.026408,
      -0.001681,
      0.000785,
      -0.068505,
      0.01125,
      -0.021105,
      -0.042435,
      0.021264,
      0.013181,
      -0.018555,
      0.013621,
      -0.043721,
      0.032172,
      0.012436,
      0.022689,
      -0.073381,
      0.003982,
      -0.011981,
      0.022519,
      -0.035223,
      0.009976,
      -0.061483,
      0.034224,
      0.050218,
      -0.011359,
      0.022853,
      0.008722,
      -0.002039,
      -0.003404,
      -0.006567,
      0.035378,
      0.00083,
      0.00951,
      0.008608,
      0.00227,
      -0.016594,
      -0.023917,
      0.011702,
      -0.003472,
      -0.018424,
      0.08533,
      0.031985,
      0.02318,
      0.015995,
      0.047922,
      0.057413,
      0.031329,
      -0.049541,
      0.041925,
      0.018323,
      0.003387,
      -0.023309,
      0.015696,
      -0.005342,
      0.041006,
      -0.004088,
      -0.049975,
      0.022368,
      -0.006643,
      -0.126649,
      0.001868,
      0.004507,
      0.028938,
      0.008901,
      0.004923,
      0.002186,
      0.016765,
      -0.024812,
      0.036123,
      -0.021311,
      -0.041316,
      0.02382,
      0.011059,
      -0.020072,
      0.027882,
      0.001672,
      -0.006487,
      0.037532,
      0.002484,
      -0.040003,
      -0.010492,
      -0.031899,
      -0.03346,
      0.002897,
      0.021773,
      0.016414,
      -0.015668,
      -0.038976,
      -0.054022,
      -0.053703,
      0.000191,
      0.0064,
      0.012774,
      -0.006904,
      0.045638,
      0.00649,
      0.035709,
      -0.011258,
      -0.013746,
      0.036958,
      0.04829,
      0.001676,
      -0.05297,
      0.007271,
      -0.027808,
      -0.015593,
      0.019736,
      -0.030932,
      -0.045159,
      0.011828,
      -0.040204,
      0.007397,
      0.005228,
      -0.04921,
      0.02444,
      0.019426,
      0.022121,
      0.032698,
      -0.009929,
      -0.009657,
      -0.021176,
      0.054295,
      -0.017752,
      -0.03782,
      -0.030774,
      -0.037257,
      -0.040354,
      0.029319,
      -0.019439,
      0.038634,
      0.001882,
      0.029058,
      -0.001827,
      -0.031694,
      0.021118,
      0.003488,
      -0.009922,
      -0.043684,
      -0.069569,
      0.008456,
      -0.020016,
      -0.02126,
      0.013962,
      -0.039683,
      -0.047357,
      -0.024744,
      0.000808,
      0.057351,
      0.206352,
      0.027927,
      -0.003795,
      -0.030798,
      -0.001789,
      -0.010439,
      0.00155,
      0.091021,
      0.016203,
      -0.005009,
      -0.036078,
      0.024334,
      -0.029114,
      -0.054183,
      0.010577,
      -0.057464,
      -0.036092,
      -0.026365,
      0.060548,
      0.01123,
      0.01674,
      -0.025306,
      0.03774,
      0.052437,
      -0.0506,
      -0.039225,
      -0.04856,
      0.028601,
      0.004826,
      0.005522,
      -0.040518,
      -0.003217,
      0.049622,
      -0.022567,
      -0.014271,
      -0.018304,
      -0.019521,
      -0.051974,
      -0.011233,
      0.015093,
      -0.057264,
      -0.042604,
      0.018501,
      -0.006061,
      0.000411,
      0.020027,
      0.012806,
      -0.019528,
      0.008257,
      -0.041457,
      -0.028556,
      -0.022353,
      -0.008267,
      -0.00737,
      -0.011197,
      -0.034568,
      -0.05895,
      -0.011584,
      -0.040952,
      -0.010392,
      0.032654,
      -0.013078,
      -0.037988,
      0.020563,
      -0.026592,
      0.020253,
      0.027302,
      -0.004131,
      0.020041,
      0.043385,
      0.038122,
      0.065908,
      -0.026434,
      0.01009,
      0.016073,
      0.011951,
      0.026534,
      0.02832,
      0.02152,
      0.025202,
      -0.050263,
      -0.036035,
      -0.039436,
      0.042641,
      0.007752,
      0.043744,
      0.018423,
      -0.00639,
      0.001963,
      -0.06128,
      -0.004605,
      0.02583,
      -0.001912,
      0.030965,
      -0.029446,
      0.05748,
      -0.011474,
      0.008333,
      -0.038969,
      -0.038503,
      0.027898,
      -0.015844,
      0.017641,
      -0.012325,
      0.033315,
      -0.053812,
      -0.003472,
      0.018291,
      -0.00487,
      -0.000818,
      -0.024201,
      0.034487,
      -0.00769,
      0.020871,
      0.054202,
      0.012703,
      0.065047,
      -0.00777,
      0.033961,
      0.013965,
      -0.019173,
      0.030262,
      0.024547,
      0.057504,
      -0.009239,
      -0.072184,
      0.007607,
      0.050434,
      -0.035865,
      0.047826,
      0.023246,
      -0.049848,
      -0.061757,
      0.036936,
      0.071138,
      0.016962,
      0.016121,
      0.019713,
      0.008157,
      -0.036665,
      -0.00919,
      -0.020587,
      -0.048292,
      -0.05509,
      -0.003004,
      0.060841,
      -0.022956,
      0.013241,
      -0.005066,
      0.010923,
      0.025036,
      0.005111,
      -0.000262,
      -0.067989,
      -0.004968,
      -0.044688,
      -0.003943,
      0.050552,
      -0.034494,
      -0.028445,
      -0.0395,
      0.059574,
      0.001262,
      0.051478,
      0.040132,
      0.039609,
      0.012799,
      -0.038136,
      -0.001342,
      -0.022393,
      -0.028831,
      -0.057622,
      -0.034867,
      0.0936,
      0.012416,
      -0.003064,
      0.007037,
      0.015584,
      -0.013377,
      0.028969,
      -0.023701,
      -0.004553,
      -0.01675,
      -0.001278,
      -0.022393,
      0.036396,
      0.014149,
      -0.034576,
      -0.061299,
      -0.000721,
      -0.009541,
      0.091867,
      0.022189,
      -0.017876,
      0.014853,
      -0.02288,
      0.03029,
      0.055413,
      0.028357,
      0.007363,
      -0.02538,
      0.027615,
      0.022307,
      -0.043552,
      0.000359,
      0.015034,
      0.000256,
      0.073189,
      -0.053817,
      -0.017792,
      0.040058,
      0.004326,
      -0.020855,
      -0.020884,
      -0.046076,
      0.017337,
      0.087826,
      0.058888,
      -0.018204,
      -0.014831,
      -0.041534,
      -0.011148,
      0.001409,
      -0.010433,
      -0.023216,
      0.003338,
      0.043465,
      0.01798,
      -0.003831,
      0.016584,
      -0.006364,
      0.012037,
      0.012545,
      -0.034897,
      0.007091,
      -0.004469,
      0.038053,
      0.015475,
      -0.005394,
      -0.039212,
      -0.002601,
      -0.006259,
      -0.007933,
      0.07087,
      -0.030793,
      -0.044894,
      0.024887,
      -0.045422,
      -0.025567,
      -0.002519,
      -0.030239,
      0.014803,
      0.021917,
      0.00713,
      -0.015278,
      -0.032924,
      0.03428,
      0.002148,
      -0.006278,
      -0.05042,
      -0.029367,
      0.014263,
      0.007032,
      -0.019824,
      -0.01721,
      -0.003439,
      -0.005803,
      -0.010615,
      -0.000835,
      0.004082,
      0.003187,
      -0.028373,
      -0.046263,
      -0.084362,
      0.026601,
      0.035632,
      -0.056092,
      -0.028984,
      0.031736,
      0.026862,
      -0.021182,
      0.01773,
      0.022261,
      0.035348,
      0.001574,
      0.042559,
      0.02281,
      0.025817,
      0.030448,
      0.007498,
      0.027104,
      -0.028459,
      -0.067571,
      -0.013342,
      -0.064932,
      0.007542,
      0.019458,
      0.031739,
      -0.037968,
      0.004662,
      -0.006812,
      -0.016065,
      0.018815,
      -0.038573,
      -0.002943,
      0.019329,
      0.045082,
      -0.06885,
      0.03318,
      0.023316,
      -0.00242,
      0.010719,
      -0.014002,
      -0.042631,
      0.024217,
      -0.056279,
      0.019142,
      -0.025579,
      0.018789,
      -0.052492,
      0.03973,
      0.018296,
      -0.017753,
      0.003781,
      -0.040112,
      0.003423,
      0.003056,
      -0.001606,
      -0.005504,
      -0.028473,
      -0.037913,
      0.024253,
      -0.020645,
      0.00309,
      0.053183,
      0.009826,
      0.067072,
      -0.017862,
      0.02099,
      0.003942,
      -0.043515,
      -0.010372,
      0.078365,
      -0.052488,
      0.061841,
      0.024608,
      0.003619,
      0.003692,
      -0.030503,
      0.013067,
      -0.025436,
      0.014806,
      -0.035992,
      0.001998,
      0.002538,
      -0.021795,
      -0.003641,
      0.016132,
      -0.021338,
      -0.013686,
      -0.030802,
      0.032789,
      -0.024748,
      -0.010831,
      -0.031247,
      0.006948,
      0.015904,
      -0.075153,
      -0.002095,
      -0.007945,
      -0.019099,
      0.041364,
      -0.004319,
      0.014574,
      -0.00514,
      0.011117,
      0.019834,
      -0.007142,
      0.013083,
      0.030779,
      -0.022957,
      -0.002237,
      0.001198,
      0.020625,
      -0.009569,
      -0.025114,
      -0.028864,
      0.064786,
      0.050091,
      0.013585,
      -0.000928,
      -0.032295,
      0.003861,
      -0.026255,
      -0.120166,
      0.008681,
      -0.017585,
      -0.022275,
      -0.044819,
      -0.00334,
      -0.021595,
      0.002859,
      0.02235,
      -0.00632,
      -0.03147,
      0.071096,
      0.040769,
      -0.014544,
      -0.030195,
      -0.011369,
      -0.005908,
      -0.003026,
      0.051943,
      0.012948,
      0.04492,
      -0.012669,
      0.019004,
      0.015762,
      -0.008911,
      -0.023061,
      -0.049413,
      -0.016655,
      -0.023977,
      0.02974,
      0.029347,
      0.003801,
      -0.009571,
      0.013015,
      0.018466,
      0.031501,
      0.006966,
      -0.033965,
      0.033461,
      0.05629,
      -0.018814,
      0.013064,
      -0.036317,
      0.048139,
      0.049948,
      0.027687,
      -0.002066,
      -0.010458,
      -0.001841,
      0.032767,
      0.018242,
      0.021578,
      0.015074,
      0.03132,
      0.004893,
      -0.043525,
      -0.050611,
      -0.029605,
      -0.009793,
      0.032252,
      -0.088817,
      0.044657,
      0.015301,
      -0.036844,
      0.01713,
      0.025742,
      -0.052698,
      0.00571,
      -0.016475,
      0.023187,
      -0.001417,
      -0.048756,
      -0.034009,
      0.01012,
      0.01593,
      -0.009599,
      0.006235,
      0.020235,
      -0.004984,
      0.01119,
      -0.006938,
      0.030715,
      -0.030815,
      0.029287,
      0.033355,
      0.007742,
      -0.021,
      0.00593,
      -0.023019,
      -0.004907,
      -0.036999,
      -0.035464,
      0.005936,
      0.002809,
      0.012076,
      0.048394,
      0.007819,
      -0.008766,
      -0.013008,
      0.002235,
      -0.030912,
      0.003055,
      -0.013265,
      -0.025576,
      -0.018274,
      0.017842,
      -0.009348,
      0.021341,
      0.015451,
      -0.027779,
      0.021751,
      0.003182,
      0.027215,
      0.014574,
      -0.064684,
      -0.00514,
      0.00348,
      0.052169,
      -0.043497,
      -0.014217,
      0.008055,
      0.018216,
      0.060091,
      -0.045476,
      -0.002307,
      0.010157,
      0.006007,
      -0.01224,
      -0.019911,
      0.016387,
      0.008499,
      0.004674,
      -0.009198,
      0.039788,
      0.018815,
      -0.037721,
      -0.072652,
      0.023026,
      -0.009438,
      -0.014696,
      -0.018157,
      -0.004159,
      -0.038894,
      0.010584,
      0.011491,
      -0.031611,
      0.028283,
      0.030438,
      -0.018985,
      0.03211,
      -0.02601,
      0.011456,
      -0.003996,
      0.019018,
      -0.01725,
      0.045835,
      0.015488,
      -0.032354,
      -0.003234,
      0.027283,
      0.003498,
      -0.054517,
      -0.041394,
      -0.029521,
      0.004059,
      -0.006423,
      -0.019222,
      -0.013285,
      0.004715,
      -0.003261,
      0.009871,
      0.064005,
      -0.020776,
      -0.046303,
      0.024715,
      0.007894,
      0.018547,
      0.004358,
      0.008775,
      0.013695,
      0.017596,
      -0.02183,
      0.042323,
      0.060962,
      0.048387,
      0.032629,
      0.019249,
      -0.002442,
      -0.011642,
      0.010585,
      -0.015711,
      -0.006778,
      -0.051295,
      0.013369,
      -0.010713,
      0.035128,
      0.016089,
      0.018776,
      0.009299,
      0.035886,
      -0.041124,
      0.007938,
      -0.025334,
      0.001886,
      -0.031963,
      -0.002617,
      -0.064088,
      -0.031744,
      0.01156,
      -0.022207,
      -0.008318,
      -0.000346,
      -0.011745,
      0.000542,
      0.019156,
      -0.035222,
      -0.007135,
      0.021116,
      -0.055055,
      0.015619,
      0.064132,
      0.041243,
      -0.035242,
      -0.029857,
      -0.007886,
      -0.000229,
      -0.063104,
      -0.011342,
      -0.011231,
      -0.032457,
      0.044473,
      -0.063384,
      0.000073,
      0.01601,
      0.007626,
      -0.012466,
      -0.015205,
      0.02067,
      0.008054,
      -0.027245,
      0.052606,
      0.016036,
      0.003255,
      0.040531
    ]
  },
  {
    "id": "v5-feathers-vs-loopback-0",
    "content": "# Feathers vs LoopBack\nBreadcrumb: Feathers vs LoopBack\n\n",
    "rawContent": "",
    "breadcrumb": "Feathers vs LoopBack",
    "version": "v5",
    "sourceFile": "docs/v5_docs/feathers-vs-loopback.md",
    "heading": "Feathers vs LoopBack",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "comparison",
    "tags": [],
    "embedding": [
      -0.049115,
      -0.00943,
      -0.048266,
      0.001256,
      -0.025139,
      -0.009872,
      0.007784,
      0.066536,
      -0.020906,
      0.020719,
      -0.028339,
      -0.001561,
      -0.024551,
      0.021077,
      -0.000307,
      -0.016229,
      -0.010127,
      -0.02338,
      -0.008756,
      -0.074124,
      0.002197,
      -0.039363,
      -0.062532,
      0.04386,
      0.010654,
      0.000353,
      -0.005937,
      -0.040584,
      -0.024047,
      -0.003047,
      0.007128,
      -0.006855,
      0.005214,
      -0.031677,
      -0.033777,
      -0.050173,
      0.042704,
      0.035514,
      -0.05328,
      0.011363,
      -0.027518,
      0.013906,
      0.027291,
      -0.012723,
      0.014185,
      -0.036633,
      0.017348,
      -0.02951,
      -0.031462,
      -0.01254,
      0.028423,
      -0.027253,
      0.049569,
      -0.049661,
      -0.007217,
      0.02952,
      0.001634,
      -0.000551,
      -0.073478,
      -0.000632,
      -0.006204,
      -0.008721,
      -0.03137,
      0.014085,
      0.018157,
      0.04898,
      -0.052318,
      0.000362,
      -0.020382,
      -0.005487,
      -0.012118,
      -0.029842,
      -0.024913,
      -0.007533,
      -0.042975,
      0.036233,
      -0.000922,
      -0.04105,
      -0.045273,
      0.040078,
      0.017278,
      -0.038623,
      0.046875,
      -0.011025,
      -0.049726,
      0.03914,
      -0.023117,
      -0.005784,
      0.004215,
      -0.01361,
      0.011977,
      -0.041851,
      0.020645,
      -0.024769,
      0.023766,
      0.036454,
      -0.027721,
      -0.02138,
      0.02824,
      0.023844,
      -0.018716,
      0.04756,
      0.039767,
      -0.029504,
      0.024355,
      0.006022,
      0.034058,
      0.021737,
      0.01433,
      -0.007581,
      0.040062,
      0.009055,
      0.009692,
      0.020386,
      0.013034,
      0.000791,
      -0.024995,
      -0.019667,
      0.000088,
      -0.010658,
      0.022305,
      0.05009,
      0.099277,
      -0.044882,
      0.001262,
      -0.014549,
      0.02129,
      0.031491,
      0.005842,
      0.015382,
      0.039665,
      -0.010618,
      -0.010322,
      0.003932,
      -0.00531,
      -0.0092,
      0.002837,
      -0.052258,
      -0.014634,
      -0.020153,
      -0.017002,
      0.01939,
      -0.007022,
      -0.019278,
      0.005784,
      -0.039946,
      0.022131,
      0.038146,
      -0.030128,
      -0.048042,
      0.024024,
      -0.011703,
      0.013356,
      -0.021615,
      0.039401,
      -0.032424,
      0.041278,
      0.022748,
      0.04336,
      0.023381,
      -0.013791,
      0.006802,
      -0.011903,
      -0.010088,
      0.057666,
      0.057126,
      0.029659,
      -0.011322,
      0.022506,
      -0.018129,
      -0.029662,
      -0.041061,
      0.022895,
      0.003296,
      0.040478,
      0.021572,
      0.050794,
      -0.022751,
      0.038205,
      -0.063034,
      -0.029252,
      0.014003,
      0.008476,
      -0.044627,
      -0.049367,
      -0.024269,
      -0.012484,
      -0.045546,
      0.001961,
      0.05636,
      -0.034342,
      -0.038764,
      0.042338,
      -0.000258,
      0.041002,
      0.002729,
      -0.021445,
      0.042538,
      -0.019387,
      0.024887,
      0.048782,
      0.019404,
      0.015574,
      0.02552,
      -0.057764,
      0.023298,
      -0.049028,
      -0.03137,
      0.028048,
      0.006349,
      0.014877,
      0.003717,
      -0.011573,
      -0.005607,
      0.012531,
      -0.047775,
      -0.014305,
      -0.011778,
      0.001107,
      -0.052789,
      0.012979,
      0.017553,
      0.014757,
      0.006775,
      0.021582,
      0.042028,
      -0.014505,
      0.022969,
      0.023002,
      -0.02528,
      -0.016858,
      0.030721,
      0.04757,
      0.011474,
      -0.014959,
      -0.065697,
      -0.01917,
      0.049099,
      0.000869,
      -0.021325,
      0.012917,
      -0.050579,
      0.028424,
      -0.023262,
      -0.002126,
      -0.014439,
      0.03174,
      0.030521,
      0.01765,
      -0.033021,
      0.015107,
      -0.005055,
      0.019025,
      -0.050261,
      -0.004744,
      0.01341,
      0.050194,
      -0.024154,
      -0.009337,
      -0.044598,
      0.022431,
      0.022914,
      0.000548,
      0.013959,
      0.007307,
      0.002136,
      -0.014231,
      -0.029362,
      0.030815,
      -0.007656,
      -0.022364,
      0.001936,
      0.015457,
      -0.008113,
      -0.014499,
      -0.004563,
      -0.018257,
      -0.035648,
      0.111105,
      0.033164,
      0.02387,
      0.025007,
      0.030486,
      0.052679,
      0.002852,
      -0.040043,
      0.021702,
      0.038759,
      0.025688,
      0.001824,
      0.017488,
      -0.016901,
      0.058728,
      -0.003953,
      -0.056871,
      -0.008273,
      0.005958,
      -0.151209,
      -0.013188,
      0.002326,
      0.005485,
      0.000532,
      0.009536,
      0.017648,
      0.003632,
      -0.04788,
      0.02104,
      -0.022921,
      -0.05512,
      -0.006008,
      0.007246,
      -0.002319,
      0.049985,
      0.024273,
      -0.005355,
      0.027604,
      -0.025586,
      -0.016111,
      -0.020842,
      -0.036656,
      -0.005388,
      -0.011016,
      0.018591,
      -0.016829,
      -0.025762,
      -0.046412,
      -0.023893,
      -0.023871,
      0.035083,
      0.010802,
      0.021475,
      -0.034252,
      0.053606,
      -0.01282,
      0.061972,
      -0.029103,
      0.0069,
      0.026895,
      0.017971,
      0.004294,
      0.009963,
      0.001912,
      -0.063748,
      -0.003777,
      0.020229,
      -0.052807,
      0.002003,
      0.006959,
      -0.02149,
      0.027353,
      -0.019783,
      -0.040921,
      0.031397,
      0.036356,
      0.026967,
      0.046649,
      -0.017827,
      -0.017337,
      -0.03812,
      0.030248,
      0.001495,
      -0.02365,
      -0.02423,
      -0.04076,
      -0.007415,
      0.029772,
      -0.031036,
      0.043842,
      -0.013063,
      0.018035,
      -0.010431,
      -0.042615,
      0.047041,
      0.006808,
      -0.006611,
      -0.042945,
      -0.064821,
      -0.007409,
      -0.022629,
      -0.028609,
      -0.018449,
      -0.035267,
      -0.019708,
      -0.017984,
      0.023032,
      0.033889,
      0.183827,
      0.02831,
      -0.014422,
      -0.027522,
      0.00005,
      -0.003276,
      -0.000636,
      0.087729,
      -0.010998,
      -0.031117,
      -0.033278,
      0.004702,
      -0.015286,
      -0.035288,
      0.006581,
      -0.036966,
      -0.034128,
      -0.008713,
      0.080978,
      0.033804,
      0.010498,
      -0.036227,
      0.054811,
      0.035281,
      -0.050922,
      -0.038396,
      -0.037054,
      0.025866,
      -0.021076,
      0.022568,
      -0.053821,
      -0.041542,
      0.04461,
      0.001923,
      -0.028298,
      0.00253,
      0.009422,
      0.005853,
      0.002586,
      -0.013148,
      -0.043763,
      -0.032996,
      0.002998,
      0.004314,
      0.019031,
      0.011182,
      -0.000918,
      -0.007794,
      0.010493,
      -0.052927,
      -0.016893,
      -0.004816,
      -0.014174,
      -0.006767,
      -0.005734,
      -0.046598,
      -0.044039,
      -0.018882,
      -0.053384,
      -0.005062,
      0.008093,
      -0.012731,
      -0.056755,
      0.033758,
      -0.015387,
      0.045274,
      0.040349,
      -0.004503,
      0.023137,
      0.022702,
      -0.004001,
      0.030653,
      0.017659,
      -0.017435,
      0.025595,
      -0.027082,
      0.033796,
      0.020706,
      0.024418,
      0.02719,
      -0.040262,
      -0.001346,
      -0.020231,
      0.035596,
      0.024509,
      0.019587,
      -0.013478,
      0.002747,
      -0.005088,
      -0.047175,
      -0.009344,
      0.022387,
      0.024084,
      -0.00406,
      -0.039534,
      0.041675,
      -0.004899,
      -0.000137,
      -0.03454,
      -0.056755,
      0.020203,
      0.001914,
      -0.016939,
      -0.015894,
      0.020116,
      -0.06092,
      -0.049037,
      0.031838,
      -0.010925,
      -0.025681,
      -0.040154,
      0.008574,
      -0.003377,
      0.004676,
      0.030083,
      0.023789,
      0.044537,
      0.010012,
      0.042818,
      0.026825,
      -0.01346,
      0.01474,
      0.000598,
      0.053652,
      0.019748,
      -0.068348,
      -0.004119,
      -0.010425,
      -0.064376,
      0.050307,
      0.022291,
      -0.039883,
      -0.056686,
      0.038465,
      0.043379,
      -0.004909,
      0.023495,
      0.019661,
      -0.038623,
      -0.013305,
      0.004072,
      0.012312,
      -0.016009,
      -0.03588,
      -0.008701,
      0.048814,
      -0.006472,
      -0.020909,
      0.014868,
      0.014659,
      0.025861,
      0.022594,
      -0.00014,
      -0.062242,
      -0.016866,
      -0.012398,
      -0.012155,
      0.037673,
      0.002156,
      -0.026883,
      -0.02215,
      0.022723,
      0.041554,
      0.030722,
      0.052713,
      0.039096,
      0.025522,
      -0.029582,
      0.042644,
      -0.001843,
      -0.014739,
      -0.052831,
      -0.030849,
      0.062949,
      -0.007295,
      -0.015826,
      -0.019092,
      0.001974,
      0.000496,
      0.002458,
      -0.016765,
      -0.01535,
      -0.022926,
      -0.003822,
      -0.014408,
      0.011373,
      0.01124,
      -0.00964,
      -0.059057,
      -0.012676,
      -0.012415,
      0.124435,
      0.037745,
      -0.017036,
      0.025976,
      -0.034349,
      0.004026,
      0.035809,
      0.020241,
      -0.03466,
      -0.0481,
      0.05336,
      0.030895,
      -0.027823,
      -0.011894,
      0.020698,
      -0.026415,
      0.075321,
      -0.063777,
      0.00706,
      0.05905,
      0.025889,
      -0.008292,
      -0.024461,
      -0.028887,
      0.033455,
      0.078253,
      0.031844,
      -0.00219,
      -0.028236,
      -0.025266,
      -0.021403,
      -0.008822,
      -0.029262,
      -0.027021,
      0.045718,
      0.00721,
      0.02347,
      -0.031269,
      0.025194,
      0.002895,
      0.027749,
      0.017455,
      -0.044684,
      0.022299,
      -0.017786,
      0.001349,
      0.025648,
      0.006811,
      -0.012716,
      0.025572,
      0.004188,
      -0.015659,
      0.059305,
      -0.058074,
      -0.049333,
      0.044174,
      -0.060648,
      -0.047288,
      0.002861,
      -0.012217,
      0.030529,
      0.02099,
      0.029305,
      -0.002852,
      -0.037727,
      0.050211,
      -0.018533,
      -0.021582,
      -0.035357,
      -0.011363,
      0.032763,
      0.001096,
      0.006688,
      -0.06778,
      -0.027783,
      0.02554,
      -0.019454,
      0.01118,
      -0.020775,
      -0.007893,
      -0.003198,
      -0.035599,
      -0.08136,
      0.002409,
      0.006668,
      -0.042158,
      -0.042788,
      0.016935,
      0.022767,
      0.018543,
      0.040829,
      0.009103,
      0.071265,
      -0.008488,
      0.011158,
      0.048657,
      0.038283,
      0.034032,
      -0.001194,
      0.03906,
      -0.027129,
      -0.063288,
      0.000887,
      -0.072437,
      0.015766,
      0.025082,
      0.016601,
      -0.022721,
      -0.019813,
      -0.017775,
      -0.024839,
      0.006091,
      -0.049119,
      -0.016392,
      0.016054,
      0.027016,
      -0.084624,
      0.002715,
      0.011801,
      0.026474,
      0.005792,
      0.007782,
      -0.0408,
      0.034288,
      -0.05024,
      0.032533,
      -0.046534,
      0.009093,
      -0.038496,
      0.05195,
      0.01827,
      -0.021978,
      -0.005135,
      -0.049068,
      0.005566,
      0.019187,
      0.008673,
      -0.036258,
      -0.030477,
      -0.055619,
      0.029161,
      -0.015462,
      -0.050438,
      0.025531,
      0.016815,
      0.058377,
      -0.020134,
      0.003177,
      0.010493,
      -0.071987,
      -0.02783,
      0.050076,
      -0.031257,
      0.074504,
      0.033235,
      -0.006856,
      -0.002276,
      -0.011748,
      0.019238,
      -0.009911,
      0.009716,
      -0.021759,
      -0.014266,
      0.035058,
      -0.021287,
      -0.027166,
      0.029223,
      0.001469,
      -0.013764,
      -0.020892,
      0.032108,
      -0.014165,
      -0.023284,
      0.00278,
      -0.031461,
      -0.002625,
      -0.059676,
      -0.022577,
      -0.011593,
      -0.044018,
      0.017921,
      0.009068,
      0.017427,
      -0.017446,
      0.017208,
      -0.006898,
      -0.027298,
      0.022707,
      0.032549,
      -0.002276,
      0.005309,
      0.014977,
      -0.002264,
      0.009579,
      -0.011088,
      -0.025398,
      0.02983,
      0.052223,
      0.033724,
      -0.000402,
      -0.02471,
      -0.029034,
      -0.004446,
      -0.126174,
      0.023582,
      -0.001549,
      -0.013881,
      -0.058332,
      -0.004656,
      -0.015189,
      0.028275,
      0.008143,
      -0.007756,
      0.008589,
      0.014717,
      0.036913,
      -0.021055,
      -0.034934,
      0.001031,
      -0.011172,
      -0.006543,
      0.039785,
      0.021794,
      0.037451,
      0.019745,
      0.01477,
      -0.00023,
      -0.011783,
      0.011816,
      -0.066974,
      -0.013307,
      -0.048007,
      0.050732,
      0.022481,
      0.004156,
      -0.012393,
      0.022752,
      -0.020377,
      0.025772,
      -0.00515,
      -0.002517,
      0.006526,
      0.042333,
      -0.007252,
      0.026232,
      0.012482,
      0.058539,
      0.027352,
      0.02003,
      -0.015997,
      0.005493,
      -0.013395,
      -0.007168,
      0.013938,
      0.002489,
      0.020448,
      0.020233,
      0.009592,
      -0.029445,
      -0.04519,
      -0.002151,
      0.021293,
      0.007872,
      -0.079892,
      0.055053,
      -0.012327,
      -0.029916,
      -0.011354,
      0.011109,
      -0.041303,
      -0.004822,
      -0.032016,
      0.054803,
      0.023253,
      -0.027971,
      -0.040258,
      0.011912,
      0.002071,
      0.018042,
      0.021641,
      -0.01904,
      0.011945,
      0.013613,
      0.003192,
      0.047488,
      -0.047552,
      0.015162,
      0.000776,
      0.033214,
      -0.007381,
      0.020936,
      -0.016876,
      -0.010621,
      -0.027923,
      -0.023556,
      -0.001914,
      -0.001068,
      0.01171,
      0.037575,
      -0.017524,
      0.049526,
      -0.003727,
      0.013814,
      -0.053037,
      0.005233,
      -0.011251,
      0.005135,
      -0.000281,
      0.021438,
      0.008557,
      0.01318,
      -0.018143,
      0.008553,
      0.01101,
      -0.016228,
      0.00334,
      0.006146,
      -0.040616,
      -0.022506,
      -0.028171,
      0.014074,
      -0.011091,
      -0.015225,
      0.00953,
      0.037222,
      0.039514,
      -0.027693,
      0.012141,
      -0.011591,
      0.027252,
      -0.010141,
      -0.011724,
      0.023013,
      0.038018,
      0.014235,
      -0.006251,
      0.018405,
      0.05424,
      -0.002762,
      -0.068021,
      0.051268,
      -0.037703,
      -0.011312,
      -0.036847,
      -0.001337,
      -0.006952,
      -0.010894,
      0.030931,
      -0.046789,
      0.027588,
      0.039074,
      -0.05565,
      0.046503,
      -0.02497,
      0.002771,
      -0.025681,
      -0.014522,
      -0.016689,
      0.036093,
      0.019758,
      -0.022333,
      -0.039447,
      0.041578,
      0.018008,
      -0.083101,
      -0.017985,
      -0.017614,
      -0.007364,
      -0.027473,
      -0.011683,
      -0.004578,
      0.001903,
      0.019242,
      0.005956,
      0.091604,
      -0.019144,
      -0.039254,
      0.013008,
      0.01316,
      0.047146,
      0.019851,
      0.002794,
      -0.019498,
      0.016027,
      0.006718,
      0.038835,
      0.039026,
      0.031281,
      -0.003875,
      0.005876,
      0.017371,
      -0.001103,
      0.034625,
      0.007752,
      -0.026734,
      -0.024211,
      0.028108,
      -0.004125,
      0.002503,
      0.008908,
      0.031979,
      0.005057,
      0.028504,
      -0.000613,
      -0.000735,
      -0.031529,
      0.014779,
      -0.019899,
      -0.014118,
      -0.065511,
      -0.023088,
      -0.012336,
      0.002157,
      0.002461,
      0.003096,
      -0.000865,
      -0.013793,
      0.032222,
      -0.044305,
      0.007427,
      0.026147,
      -0.057566,
      0.011233,
      0.04851,
      0.027738,
      -0.032129,
      -0.019577,
      -0.012314,
      0.033761,
      -0.040481,
      -0.014722,
      -0.015377,
      -0.023116,
      0.036793,
      -0.035322,
      -0.01708,
      0.034963,
      0.003306,
      -0.007644,
      0.00669,
      0.037632,
      0.031038,
      -0.056923,
      0.059165,
      -0.009521,
      -0.011864,
      0.042292
    ]
  },
  {
    "id": "v5-feathers-vs-meteor-0",
    "content": "# Feathers vs Meteor\nBreadcrumb: Feathers vs Meteor\n\n",
    "rawContent": "",
    "breadcrumb": "Feathers vs Meteor",
    "version": "v5",
    "sourceFile": "docs/v5_docs/feathers-vs-meteor.md",
    "heading": "Feathers vs Meteor",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "comparison",
    "tags": [],
    "embedding": [
      0.018995,
      -0.007238,
      -0.03009,
      -0.008314,
      -0.014073,
      -0.031937,
      0.001853,
      0.057012,
      0.006353,
      0.001217,
      0.004025,
      -0.034619,
      -0.031647,
      -0.002251,
      0.009902,
      0.008961,
      -0.014226,
      -0.010829,
      -0.00756,
      -0.041929,
      -0.004388,
      -0.017041,
      -0.042286,
      0.013637,
      -0.016013,
      -0.014586,
      0.000594,
      -0.019456,
      0.008344,
      0.012503,
      0.028691,
      0.007085,
      0.005614,
      -0.02359,
      -0.010624,
      -0.023854,
      0.037903,
      0.036953,
      -0.045129,
      0.051452,
      -0.006873,
      -0.028379,
      -0.016254,
      -0.013258,
      0.01902,
      -0.065581,
      -0.003757,
      -0.038865,
      -0.06224,
      0.015759,
      -0.015134,
      -0.010039,
      0.010558,
      -0.018056,
      0.004141,
      -0.001152,
      -0.050004,
      -0.010555,
      -0.088311,
      -0.021233,
      -0.026086,
      -0.003408,
      0.030872,
      0.008037,
      0.010587,
      0.043526,
      -0.018563,
      -0.035757,
      -0.014881,
      0.005272,
      -0.006213,
      -0.037443,
      0.00158,
      -0.005566,
      -0.018803,
      0.019228,
      -0.03128,
      -0.032434,
      -0.026854,
      0.039354,
      -0.00845,
      -0.022717,
      0.025756,
      -0.006411,
      -0.064941,
      0.055524,
      -0.018795,
      0.004393,
      0.03947,
      -0.029774,
      -0.004639,
      -0.018611,
      0.00922,
      -0.020221,
      0.031562,
      0.022578,
      -0.044195,
      -0.00404,
      0.038341,
      0.011067,
      -0.022061,
      0.055318,
      0.002903,
      -0.005013,
      0.012366,
      0.009664,
      0.084,
      0.023521,
      0.024267,
      0.004273,
      0.033891,
      0.042499,
      0.033043,
      0.015904,
      0.006325,
      0.011435,
      -0.013588,
      0.014926,
      -0.011699,
      0.002736,
      0.026729,
      0.024355,
      0.076031,
      -0.075083,
      0.020874,
      -0.043826,
      0.015915,
      0.025857,
      0.01483,
      -0.009427,
      0.032474,
      -0.01911,
      -0.005665,
      -0.010772,
      0.055259,
      -0.007927,
      -0.03175,
      -0.02559,
      0.00183,
      -0.026681,
      -0.020383,
      -0.038474,
      0.013301,
      -0.002969,
      0.009613,
      -0.036072,
      0.015793,
      0.0227,
      -0.025314,
      -0.032628,
      0.027594,
      -0.003877,
      0.047772,
      -0.006947,
      0.04586,
      -0.007044,
      0.038931,
      0.016002,
      0.009911,
      0.004642,
      0.006195,
      -0.039149,
      -0.034832,
      0.018666,
      0.039411,
      0.023661,
      0.066623,
      0.010885,
      -0.009081,
      -0.052077,
      -0.023386,
      -0.036571,
      0.008142,
      -0.004016,
      0.070241,
      0.039389,
      0.061397,
      -0.024441,
      0.021482,
      -0.054103,
      -0.008522,
      -0.00704,
      0.002363,
      -0.048445,
      -0.036753,
      -0.006281,
      0.014537,
      -0.036451,
      -0.004083,
      0.066406,
      -0.020362,
      -0.001738,
      0.024513,
      -0.033918,
      0.05513,
      0.00428,
      -0.016814,
      0.017103,
      -0.010558,
      0.019042,
      0.052319,
      0.001372,
      0.035758,
      -0.008888,
      -0.026396,
      0.014761,
      -0.05973,
      -0.049218,
      0.022495,
      0.006911,
      -0.008882,
      0.001898,
      -0.022762,
      -0.021711,
      -0.00234,
      -0.040392,
      -0.015576,
      -0.033166,
      0.002059,
      -0.057695,
      0.004513,
      0.009349,
      0.033229,
      0.007029,
      0.037379,
      0.005634,
      0.017731,
      0.046648,
      0.00358,
      -0.006315,
      -0.056985,
      0.061691,
      0.018007,
      0.00029,
      -0.000656,
      -0.049458,
      -0.05543,
      0.041982,
      0.002296,
      0.003746,
      0.01861,
      -0.050508,
      -0.000788,
      -0.000174,
      -0.046195,
      0.032491,
      0.024974,
      0.026852,
      0.008184,
      -0.021332,
      0.052668,
      0.012157,
      0.020931,
      -0.073251,
      0.010913,
      -0.007055,
      0.034816,
      -0.032901,
      0.032588,
      -0.06711,
      0.047016,
      0.0279,
      0.00988,
      0.01318,
      -0.005669,
      -0.008436,
      0.002068,
      -0.003085,
      0.050661,
      -0.028713,
      -0.002737,
      -0.005188,
      0.016507,
      -0.021503,
      -0.013209,
      0.015381,
      -0.002796,
      -0.020111,
      0.086067,
      0.035109,
      0.037553,
      0.004019,
      0.053241,
      0.048442,
      0.000684,
      -0.035456,
      0.03887,
      0.0589,
      -0.000113,
      -0.031338,
      0.018302,
      -0.022022,
      0.051364,
      0.018689,
      -0.072978,
      0.006155,
      0.01022,
      -0.136814,
      -0.024183,
      -0.014954,
      0.028368,
      0.013255,
      0.017279,
      -0.016544,
      0.003651,
      -0.031593,
      0.024199,
      -0.016103,
      -0.051739,
      0.020196,
      0.016787,
      -0.005244,
      0.002294,
      0.008858,
      -0.013822,
      0.033345,
      -0.015377,
      -0.022063,
      -0.02894,
      -0.031535,
      -0.020729,
      -0.014768,
      -0.018989,
      0.018829,
      0.00023,
      -0.040941,
      -0.044597,
      -0.034265,
      0.027014,
      0.007345,
      0.03672,
      -0.000669,
      0.067262,
      0.021706,
      0.053002,
      -0.022513,
      -0.00659,
      0.041488,
      0.04347,
      0.003174,
      -0.040071,
      -0.012669,
      -0.032997,
      -0.009341,
      0.035185,
      -0.013799,
      -0.023719,
      0.042989,
      -0.016183,
      0.007979,
      -0.02547,
      -0.04527,
      0.055762,
      0.037282,
      0.013585,
      0.025747,
      -0.03154,
      -0.034272,
      -0.008153,
      0.058728,
      -0.008511,
      -0.00314,
      -0.036722,
      -0.029338,
      -0.052206,
      0.041034,
      -0.022045,
      0.02716,
      -0.007466,
      0.013507,
      -0.013979,
      -0.005668,
      0.032854,
      -0.00007,
      -0.011255,
      -0.029682,
      -0.065302,
      -0.010752,
      -0.008117,
      -0.003847,
      0.00196,
      -0.036568,
      -0.021981,
      -0.009127,
      -0.008534,
      0.059073,
      0.190339,
      0.01552,
      -0.004139,
      -0.040135,
      0.018382,
      -0.00698,
      0.034416,
      0.083303,
      -0.008325,
      -0.010405,
      -0.014603,
      -0.004651,
      -0.028413,
      -0.025985,
      0.013047,
      -0.043884,
      -0.041325,
      -0.015037,
      0.072827,
      -0.015586,
      0.012312,
      -0.015607,
      0.049268,
      0.017558,
      -0.041879,
      -0.036727,
      -0.029654,
      0.043482,
      -0.001821,
      0.005228,
      -0.031711,
      -0.019902,
      0.04232,
      -0.018973,
      -0.029615,
      0.00311,
      -0.031552,
      -0.038015,
      -0.001859,
      -0.002518,
      -0.021579,
      -0.032543,
      0.017095,
      0.000845,
      0.011373,
      0.035496,
      -0.011419,
      -0.039829,
      0.018565,
      -0.037536,
      0.003754,
      0.011294,
      0.00992,
      0.006341,
      -0.014999,
      -0.041066,
      -0.048426,
      -0.007359,
      -0.021903,
      -0.017632,
      0.023865,
      -0.013931,
      -0.030569,
      0.029229,
      0.008309,
      0.015735,
      0.013971,
      -0.000286,
      -0.019861,
      0.019631,
      0.016812,
      0.052951,
      -0.025926,
      0.011775,
      0.003335,
      0.007085,
      0.034318,
      0.046192,
      0.024648,
      0.017542,
      -0.03706,
      -0.025012,
      -0.044136,
      0.055193,
      0.014758,
      0.040263,
      0.000614,
      -0.030627,
      -0.003912,
      -0.045266,
      -0.005981,
      0.010086,
      0.003349,
      0.013809,
      -0.032059,
      0.027975,
      -0.013435,
      -0.000553,
      -0.029405,
      -0.045546,
      0.016499,
      -0.009197,
      0.028365,
      -0.067488,
      0.004966,
      -0.028806,
      0.011603,
      0.007148,
      -0.013064,
      -0.026737,
      -0.006771,
      0.027805,
      0.012295,
      0.02399,
      0.043348,
      -0.003679,
      0.042268,
      -0.004722,
      0.038813,
      0.005468,
      -0.008653,
      0.024381,
      0.00626,
      0.043286,
      -0.012519,
      -0.043725,
      0.023405,
      0.039447,
      -0.020374,
      0.042387,
      0.029494,
      -0.065268,
      -0.084185,
      0.008338,
      0.03547,
      0.008567,
      0.034622,
      0.041119,
      -0.024501,
      -0.028111,
      0.003843,
      -0.041631,
      -0.033897,
      -0.033505,
      -0.006849,
      0.04919,
      -0.02518,
      0.014976,
      0.009519,
      -0.003556,
      0.034355,
      0.009992,
      -0.000214,
      -0.052608,
      -0.017417,
      -0.057317,
      -0.009238,
      0.046182,
      -0.01201,
      -0.027013,
      -0.053573,
      0.046149,
      0.004645,
      0.029178,
      0.025325,
      0.060776,
      0.026509,
      -0.030531,
      0.004772,
      -0.028124,
      -0.008772,
      -0.052257,
      -0.039828,
      0.058683,
      0.010822,
      -0.011836,
      0.031548,
      0.035526,
      -0.00805,
      -0.01648,
      -0.028789,
      -0.01588,
      -0.03125,
      0.041058,
      -0.033215,
      0.039339,
      0.018066,
      -0.021876,
      -0.04314,
      -0.010858,
      0.017,
      0.081142,
      0.019938,
      -0.013122,
      0.046122,
      -0.029708,
      0.002144,
      0.041379,
      0.021086,
      -0.004073,
      -0.004051,
      0.018884,
      0.019426,
      -0.021938,
      0.030744,
      -0.007599,
      -0.030881,
      0.06063,
      -0.04128,
      -0.00457,
      0.024117,
      0.015218,
      -0.011316,
      -0.024145,
      -0.042903,
      -0.012604,
      0.078283,
      0.023464,
      -0.008226,
      -0.033695,
      -0.04485,
      -0.020468,
      -0.010734,
      -0.004245,
      -0.038826,
      0.026147,
      0.030505,
      0.016539,
      0.004821,
      -0.00092,
      -0.00178,
      0.026693,
      -0.022685,
      -0.042531,
      0.003486,
      0.013737,
      0.014334,
      0.027174,
      0.006361,
      -0.035851,
      0.006542,
      0.040164,
      0.000743,
      0.053017,
      -0.032759,
      -0.041387,
      0.036997,
      -0.065402,
      -0.019343,
      0.009557,
      -0.018141,
      0.027866,
      0.029253,
      0.017291,
      -0.031929,
      -0.034421,
      0.048585,
      0.017752,
      -0.002883,
      -0.022482,
      -0.014932,
      0.033365,
      -0.006614,
      -0.003033,
      -0.039616,
      -0.011287,
      -0.006081,
      -0.021296,
      0.013578,
      0.022444,
      -0.003825,
      -0.030954,
      -0.037965,
      -0.107088,
      0.002486,
      0.002093,
      -0.042283,
      -0.036826,
      0.004303,
      0.028779,
      -0.003497,
      0.020096,
      0.01654,
      0.036111,
      0.011717,
      0.02198,
      0.004185,
      0.024789,
      0.032157,
      0.020711,
      0.018076,
      0.003728,
      -0.054928,
      0.011264,
      -0.051483,
      0.00579,
      -0.006682,
      0.033957,
      -0.010631,
      -0.024762,
      -0.011248,
      0.005846,
      0.006988,
      -0.043391,
      0.001755,
      0.021165,
      0.034026,
      -0.0798,
      0.020961,
      -0.001406,
      0.011292,
      -0.002197,
      -0.001458,
      -0.072487,
      0.045031,
      -0.055947,
      0.059563,
      -0.024344,
      -0.000384,
      -0.055279,
      0.027542,
      0.028176,
      -0.0067,
      0.003954,
      -0.014626,
      -0.009885,
      0.032454,
      0.003414,
      -0.0081,
      -0.020006,
      -0.046935,
      0.015727,
      -0.027018,
      -0.008133,
      -0.020384,
      0.026674,
      0.062221,
      -0.028332,
      -0.00026,
      -0.023688,
      -0.04436,
      -0.005423,
      0.083967,
      -0.05136,
      0.059249,
      0.04023,
      0.010449,
      -0.01531,
      -0.010081,
      -0.002494,
      -0.031878,
      0.02337,
      -0.023829,
      -0.026588,
      0.016459,
      0.004564,
      -0.016811,
      0.043376,
      0.013949,
      -0.031462,
      -0.025298,
      0.031848,
      -0.004216,
      -0.022734,
      -0.009422,
      0.011419,
      0.004319,
      -0.070596,
      0.00242,
      -0.023843,
      -0.028412,
      0.048901,
      -0.019718,
      0.026142,
      -0.028578,
      0.025062,
      0.016675,
      -0.008852,
      -0.007581,
      0.005167,
      -0.009963,
      -0.00543,
      0.013238,
      0.022397,
      -0.004622,
      -0.039893,
      -0.027585,
      0.044719,
      0.063383,
      0.027422,
      0.009163,
      -0.007789,
      -0.024498,
      -0.03999,
      -0.125272,
      0.010072,
      -0.013859,
      -0.026027,
      -0.048858,
      0.018955,
      -0.050608,
      0.027049,
      0.009903,
      -0.027935,
      -0.005916,
      0.071305,
      0.036913,
      -0.00949,
      -0.058015,
      -0.014516,
      0.010405,
      -0.019442,
      0.033506,
      0.011064,
      0.053449,
      -0.002381,
      -0.016523,
      0.00346,
      0.003477,
      -0.007795,
      -0.058161,
      -0.008468,
      -0.026805,
      0.03044,
      0.011605,
      0.013831,
      -0.004094,
      -0.010163,
      0.006815,
      0.017402,
      0.008341,
      -0.043668,
      0.020704,
      0.07144,
      0.005771,
      0.012659,
      -0.018237,
      0.064498,
      0.06109,
      0.03793,
      0.000659,
      -0.006422,
      -0.019914,
      0.027809,
      -0.027888,
      0.043102,
      0.018596,
      0.023041,
      -0.028972,
      -0.035041,
      -0.037042,
      -0.002844,
      0.046689,
      -0.000719,
      -0.100139,
      0.045154,
      0.025664,
      -0.042499,
      -0.008988,
      0.007931,
      -0.057734,
      -0.005707,
      -0.021525,
      0.016557,
      0.005064,
      -0.041273,
      -0.02921,
      0.023895,
      0.007363,
      0.008666,
      0.02241,
      0.001447,
      -0.010217,
      0.025865,
      -0.028082,
      0.038882,
      -0.006436,
      0.038696,
      0.008768,
      0.01812,
      -0.023945,
      -0.008281,
      -0.052513,
      0.000411,
      -0.025595,
      -0.021126,
      0.012939,
      0.013284,
      -0.00949,
      0.019078,
      -0.01509,
      -0.00272,
      -0.02079,
      -0.026303,
      -0.030562,
      -0.030273,
      -0.00939,
      -0.059229,
      -0.009401,
      0.024741,
      -0.008659,
      0.003651,
      0.022489,
      -0.004452,
      0.03663,
      -0.002219,
      -0.011194,
      -0.007463,
      -0.052875,
      -0.000132,
      -0.022292,
      0.041912,
      -0.029001,
      0.006763,
      0.009234,
      0.031774,
      0.077177,
      -0.038754,
      0.005048,
      0.004336,
      0.013047,
      -0.003856,
      -0.004384,
      0.013326,
      0.024137,
      0.027423,
      -0.000401,
      0.011071,
      0.032375,
      -0.013371,
      -0.076045,
      0.037458,
      -0.013435,
      -0.011249,
      -0.004967,
      -0.009512,
      -0.032106,
      0.000752,
      0.008287,
      -0.023202,
      0.007658,
      0.027795,
      0.001873,
      0.054731,
      -0.035871,
      0.002404,
      -0.026476,
      0.018964,
      -0.005812,
      0.054825,
      -0.007871,
      -0.031746,
      -0.032705,
      0.042325,
      0.021634,
      -0.046039,
      -0.046898,
      -0.009753,
      -0.006287,
      0.004713,
      -0.005455,
      -0.010584,
      0.014074,
      -0.006883,
      -0.024023,
      0.05733,
      -0.021254,
      -0.049266,
      -0.008804,
      0.031996,
      0.051547,
      -0.021205,
      0.026734,
      0.020823,
      0.016916,
      -0.006962,
      0.037813,
      0.049753,
      0.057081,
      0.033463,
      0.000507,
      -0.019953,
      0.006652,
      0.007212,
      -0.016689,
      -0.008162,
      -0.022506,
      0.002411,
      -0.023142,
      0.010257,
      -0.005768,
      0.02082,
      0.011434,
      0.023148,
      -0.042358,
      -0.010411,
      -0.017102,
      0.044215,
      0.002742,
      0.011723,
      -0.057188,
      -0.047561,
      -0.006235,
      -0.012881,
      -0.016959,
      -0.001254,
      -0.006851,
      -0.004285,
      0.007375,
      -0.021485,
      -0.020226,
      0.017549,
      -0.043341,
      0.017503,
      0.064042,
      0.039064,
      -0.022818,
      -0.048483,
      -0.043246,
      0.019235,
      -0.069459,
      -0.007149,
      -0.049332,
      -0.031225,
      0.013218,
      -0.074871,
      -0.019999,
      0.028544,
      -0.006992,
      0.018208,
      0.019983,
      0.017726,
      0.019584,
      -0.042059,
      0.027892,
      0.035111,
      -0.027444,
      0.036956
    ]
  },
  {
    "id": "v5-feathers-vs-nest-0",
    "content": "# Feathers vs Nest\nBreadcrumb: Feathers vs Nest\n\n",
    "rawContent": "",
    "breadcrumb": "Feathers vs Nest",
    "version": "v5",
    "sourceFile": "docs/v5_docs/feathers-vs-nest.md",
    "heading": "Feathers vs Nest",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "comparison",
    "tags": [],
    "embedding": [
      0.006225,
      -0.009814,
      -0.027951,
      0.020111,
      -0.029673,
      -0.006039,
      0.007635,
      0.06407,
      0.012504,
      0.042155,
      0.000699,
      -0.04818,
      -0.051879,
      -0.001973,
      -0.008764,
      -0.00139,
      -0.042691,
      -0.019966,
      -0.021803,
      -0.054173,
      -0.010611,
      -0.005486,
      0.000243,
      0.025631,
      -0.002743,
      0.005879,
      0.018521,
      -0.035376,
      0.000924,
      0.010968,
      0.02398,
      0.016506,
      0.03332,
      -0.030099,
      0.005962,
      -0.035947,
      0.034218,
      0.03765,
      -0.044347,
      0.053966,
      -0.011579,
      0.004544,
      -0.004792,
      -0.013204,
      0.015564,
      -0.028238,
      0.007094,
      -0.027281,
      -0.076937,
      0.032589,
      0.001869,
      0.000392,
      0.039162,
      -0.036436,
      0.010274,
      0.011786,
      -0.022493,
      -0.002546,
      -0.080703,
      -0.017296,
      -0.022223,
      0.013869,
      -0.019269,
      -0.002502,
      0.025571,
      0.043484,
      -0.010164,
      -0.021448,
      -0.016793,
      -0.017541,
      0.005454,
      -0.016807,
      -0.007469,
      -0.009025,
      -0.037728,
      0.034653,
      -0.008252,
      -0.057361,
      -0.035316,
      0.029242,
      -0.003876,
      -0.024228,
      0.033529,
      -0.020825,
      -0.055246,
      0.040948,
      -0.019081,
      -0.007044,
      0.047095,
      -0.058295,
      0.011655,
      -0.044145,
      0.02035,
      -0.018654,
      0.038379,
      0.027707,
      -0.031328,
      -0.014172,
      0.003004,
      -0.010669,
      0.003433,
      0.049135,
      0.003846,
      0.011773,
      0.000342,
      0.009477,
      0.027563,
      0.020313,
      0.007126,
      -0.016643,
      0.024138,
      0.037559,
      0.016,
      0.012526,
      0.020424,
      0.001738,
      -0.00901,
      -0.013273,
      -0.024331,
      -0.018741,
      0.04809,
      0.025396,
      0.078907,
      -0.063939,
      0.020793,
      -0.032586,
      0.011612,
      0.00931,
      0.015734,
      -0.005449,
      0.002712,
      -0.008027,
      -0.021595,
      -0.01138,
      0.062586,
      -0.015769,
      0.017087,
      -0.044409,
      0.011807,
      -0.02107,
      0.008603,
      -0.000933,
      0.008336,
      -0.013043,
      0.016891,
      -0.014966,
      0.034332,
      0.016323,
      0.00067,
      -0.02026,
      0.00084,
      0.017737,
      0.045879,
      -0.002914,
      0.068364,
      0.015168,
      0.054517,
      0.024834,
      0.041935,
      0.013313,
      0.002705,
      -0.054707,
      -0.021086,
      -0.007411,
      0.026913,
      0.034562,
      0.06009,
      0.020516,
      -0.021156,
      -0.050763,
      -0.022086,
      -0.019723,
      0.019952,
      -0.021267,
      0.067757,
      0.039034,
      0.034212,
      -0.006051,
      0.035826,
      -0.053826,
      -0.015324,
      0.002369,
      -0.011994,
      -0.045138,
      -0.028654,
      -0.03428,
      0.016508,
      -0.034409,
      0.006732,
      0.050355,
      -0.021708,
      0.008397,
      0.03833,
      -0.023213,
      0.03057,
      -0.010743,
      -0.028246,
      -0.015682,
      0.018526,
      0.016192,
      0.049403,
      -0.006249,
      0.016529,
      -0.010822,
      -0.030409,
      -0.000357,
      -0.046942,
      -0.028291,
      0.010372,
      -0.00532,
      -0.012241,
      0.00551,
      -0.04431,
      -0.044241,
      -0.004154,
      -0.023268,
      -0.009622,
      0.002685,
      0.005252,
      -0.007634,
      0.000746,
      -0.012123,
      0.039842,
      0.00799,
      0.015657,
      -0.010726,
      0.008982,
      0.007151,
      0.026863,
      -0.025149,
      -0.054327,
      0.058892,
      0.059064,
      -0.01312,
      -0.004217,
      -0.039684,
      -0.042164,
      0.041076,
      -0.000545,
      -0.002523,
      -0.01408,
      -0.048461,
      0.001715,
      -0.011001,
      -0.039478,
      0.007308,
      0.013902,
      -0.004745,
      0.01879,
      -0.020723,
      0.032458,
      -0.001022,
      -0.014902,
      -0.06347,
      0.002977,
      0.005231,
      0.009667,
      -0.033061,
      0.015104,
      -0.059361,
      0.02352,
      0.025696,
      0.011533,
      0.016467,
      0.00576,
      -0.00483,
      -0.005991,
      -0.001114,
      0.039513,
      -0.021966,
      -0.017567,
      0.000458,
      0.011026,
      -0.023309,
      -0.033945,
      0.016757,
      -0.013328,
      -0.025858,
      0.100529,
      0.005855,
      -0.001257,
      0.004383,
      0.037515,
      0.016253,
      0.03002,
      -0.041019,
      0.034359,
      0.005462,
      0.017965,
      -0.036885,
      0.027753,
      0.009196,
      0.051324,
      0.003671,
      -0.071187,
      0.029442,
      -0.003713,
      -0.143732,
      0.004539,
      0.020078,
      0.019663,
      0.022326,
      0.023439,
      -0.014211,
      -0.0195,
      -0.012479,
      0.012681,
      -0.002503,
      -0.058484,
      0.027705,
      -0.002209,
      -0.000341,
      0.012667,
      -0.003393,
      -0.004512,
      0.010188,
      -0.01277,
      -0.046372,
      -0.029527,
      -0.014983,
      -0.008399,
      -0.026633,
      0.031492,
      0.029246,
      -0.026695,
      -0.048682,
      -0.047334,
      -0.01749,
      0.029366,
      -0.001883,
      0.005717,
      -0.02569,
      0.075392,
      0.02082,
      0.060871,
      -0.005438,
      -0.012703,
      0.041948,
      0.061107,
      -0.006662,
      -0.050236,
      0.009348,
      -0.054337,
      -0.005333,
      0.033116,
      -0.016458,
      -0.033787,
      0.013575,
      -0.020957,
      0.026694,
      -0.000897,
      -0.059311,
      0.043095,
      0.038044,
      -0.002005,
      0.019766,
      0.004888,
      -0.048472,
      -0.047541,
      0.055415,
      -0.018233,
      -0.029684,
      -0.054745,
      -0.010053,
      -0.055522,
      0.017499,
      -0.035061,
      0.033865,
      -0.008558,
      0.010883,
      -0.004756,
      -0.024055,
      0.049716,
      0.000436,
      -0.019595,
      -0.036416,
      -0.05849,
      0.006105,
      -0.006828,
      -0.017814,
      -0.022055,
      -0.034387,
      -0.010831,
      -0.041905,
      -0.01012,
      0.036379,
      0.202955,
      0.06262,
      0.01231,
      -0.062884,
      -0.01124,
      -0.007784,
      0.015821,
      0.07416,
      0.029238,
      -0.025975,
      -0.043992,
      0.005441,
      -0.019957,
      -0.047183,
      0.008567,
      -0.033828,
      -0.032835,
      -0.017983,
      0.083322,
      -0.030127,
      0.021892,
      -0.029317,
      0.049126,
      0.046371,
      -0.051399,
      -0.042044,
      -0.019407,
      0.023861,
      0.002452,
      -0.009903,
      -0.044855,
      -0.007332,
      0.03721,
      -0.039711,
      -0.028113,
      -0.028637,
      -0.028877,
      -0.037342,
      -0.010952,
      0.009492,
      -0.05478,
      -0.026202,
      0.011303,
      -0.015035,
      -0.000367,
      0.012079,
      0.001189,
      -0.008263,
      0.014817,
      -0.006142,
      -0.012068,
      -0.004169,
      0.000222,
      -0.011797,
      -0.00704,
      -0.048751,
      -0.068598,
      0.004463,
      -0.00794,
      0.027014,
      0.037214,
      -0.029467,
      -0.014857,
      0.032236,
      -0.039402,
      0.035125,
      0.03906,
      -0.016722,
      0.0232,
      0.046547,
      0.017504,
      0.029181,
      -0.021345,
      0.003274,
      0.012168,
      -0.011446,
      0.037776,
      0.009996,
      0.029647,
      0.041337,
      -0.03872,
      -0.025082,
      -0.01873,
      0.030369,
      -0.006822,
      0.015683,
      0.015935,
      -0.003787,
      -0.00263,
      -0.043713,
      -0.012125,
      0.008149,
      -0.012192,
      0.020919,
      -0.037198,
      -0.000858,
      -0.003887,
      0.008494,
      -0.039272,
      -0.01133,
      0.014535,
      -0.021142,
      0.036952,
      -0.032584,
      0.025238,
      -0.038841,
      0.004864,
      0.012956,
      0.007666,
      -0.011769,
      -0.016986,
      0.033651,
      0.020995,
      0.00136,
      0.040632,
      -0.007238,
      0.051145,
      -0.011933,
      0.029426,
      -0.003776,
      0.005867,
      0.016884,
      0.026205,
      0.024671,
      -0.008357,
      -0.054199,
      0.01527,
      0.033201,
      0.010522,
      0.045126,
      0.009886,
      -0.065543,
      -0.104241,
      0.054196,
      0.038117,
      0.007092,
      0.026724,
      0.021022,
      0.000848,
      -0.024882,
      -0.005959,
      -0.021987,
      -0.027995,
      -0.05298,
      -0.009487,
      0.064295,
      -0.032405,
      0.000059,
      -0.003371,
      0.031213,
      0.025091,
      0.016548,
      0.013841,
      -0.063304,
      0.004108,
      -0.055148,
      -0.00607,
      0.03706,
      -0.039591,
      -0.011979,
      -0.030634,
      0.062675,
      0.019882,
      0.028718,
      0.033406,
      0.052251,
      0.009508,
      -0.029508,
      -0.010934,
      -0.051975,
      -0.01209,
      -0.047083,
      -0.05854,
      0.080064,
      -0.007733,
      -0.029244,
      0.012668,
      0.025292,
      0.006012,
      -0.002191,
      -0.015187,
      -0.030079,
      -0.0127,
      0.002213,
      -0.023234,
      0.043605,
      -0.008631,
      -0.018426,
      -0.031031,
      -0.003181,
      -0.003659,
      0.087507,
      0.023849,
      -0.009451,
      0.021626,
      -0.029039,
      0.035294,
      0.045737,
      0.045535,
      -0.010352,
      -0.004469,
      0.026269,
      0.008919,
      -0.030811,
      0.018255,
      0.010651,
      -0.010018,
      0.082067,
      -0.032929,
      -0.017411,
      0.027785,
      0.00495,
      -0.038185,
      -0.008463,
      -0.054448,
      -0.00076,
      0.058251,
      0.045184,
      -0.05198,
      -0.041809,
      -0.03002,
      -0.044444,
      -0.001569,
      -0.002431,
      -0.033859,
      0.00426,
      0.043822,
      0.040619,
      0.009083,
      -0.004403,
      -0.006764,
      0.023252,
      -0.032434,
      -0.008263,
      -0.003231,
      0.008023,
      0.046318,
      0.021568,
      -0.018345,
      -0.037,
      0.006484,
      0.023774,
      0.004707,
      0.06137,
      -0.018828,
      -0.05108,
      0.023392,
      -0.053817,
      -0.019496,
      0.008428,
      -0.026772,
      0.010036,
      0.014687,
      0.007028,
      -0.014865,
      -0.012049,
      0.069871,
      0.01346,
      0.011854,
      0.002756,
      -0.021909,
      0.014613,
      -0.005839,
      -0.007286,
      -0.03809,
      0.00351,
      -0.009324,
      -0.013527,
      -0.000199,
      0.012176,
      0.013311,
      -0.034507,
      -0.042695,
      -0.081251,
      0.053479,
      0.00266,
      -0.053456,
      -0.035399,
      0.030145,
      0.030625,
      -0.006941,
      -0.013536,
      0.025201,
      0.047587,
      0.002632,
      0.053071,
      -0.006706,
      0.032328,
      0.024918,
      -0.021282,
      0.023451,
      -0.032599,
      -0.085927,
      -0.035742,
      -0.060344,
      0.018673,
      0.028538,
      0.031168,
      -0.015033,
      -0.015814,
      -0.019849,
      -0.008342,
      0.001395,
      -0.049448,
      -0.018003,
      0.040978,
      0.057077,
      -0.071315,
      0.012627,
      0.008838,
      0.016811,
      -0.040429,
      0.020811,
      -0.021588,
      0.036661,
      -0.051918,
      0.054433,
      -0.039366,
      0.03653,
      -0.022688,
      -0.000401,
      0.025875,
      -0.032067,
      0.007272,
      -0.031458,
      0.002008,
      0.046578,
      0.0068,
      -0.00871,
      -0.028724,
      -0.039658,
      0.018736,
      -0.023179,
      0.003049,
      0.036029,
      0.008247,
      0.035228,
      -0.014886,
      0.010128,
      0.005739,
      -0.051034,
      0.005927,
      0.091588,
      -0.05012,
      0.036922,
      0.011424,
      0.010272,
      -0.000703,
      -0.027237,
      0.021671,
      -0.016215,
      0.031751,
      -0.04051,
      -0.028844,
      -0.001487,
      0.012431,
      0.012101,
      0.029548,
      0.032092,
      -0.025159,
      -0.04238,
      0.036614,
      -0.012018,
      -0.019088,
      -0.000247,
      0.016767,
      0.012485,
      -0.056029,
      0.006439,
      -0.028337,
      -0.00891,
      0.040467,
      0.01208,
      0.011203,
      0.002306,
      0.005664,
      0.02956,
      0.010533,
      0.007026,
      0.034707,
      -0.001604,
      0.017206,
      -0.029583,
      0.019577,
      -0.02688,
      -0.006023,
      -0.027003,
      0.029793,
      0.044311,
      0.023645,
      0.01979,
      -0.006302,
      -0.000923,
      -0.038215,
      -0.127268,
      0.001498,
      -0.01236,
      -0.020444,
      -0.019952,
      0.004894,
      -0.00054,
      -0.009621,
      0.00762,
      -0.011829,
      0.001242,
      0.059487,
      0.022949,
      -0.011477,
      -0.02908,
      -0.015472,
      -0.023533,
      0.013121,
      0.033798,
      0.032736,
      0.066144,
      -0.0042,
      -0.019851,
      0.022696,
      0.00891,
      -0.011203,
      -0.045084,
      -0.023852,
      -0.034391,
      0.00459,
      0.031638,
      -0.00214,
      -0.022164,
      0.008154,
      0.031882,
      0.020698,
      -0.000293,
      -0.023524,
      0.024761,
      0.05821,
      -0.012933,
      0.009017,
      -0.015467,
      0.039195,
      0.052693,
      0.038094,
      0.004326,
      -0.005109,
      0.024628,
      0.025286,
      -0.019095,
      0.030672,
      0.00429,
      0.050509,
      -0.009168,
      -0.008286,
      -0.039496,
      -0.010883,
      -0.002368,
      -0.006039,
      -0.066978,
      0.032487,
      0.006774,
      -0.051727,
      -0.008142,
      0.032893,
      -0.053123,
      0.02227,
      -0.014243,
      0.03395,
      -0.011593,
      -0.020503,
      -0.034088,
      0.004641,
      0.010356,
      -0.018962,
      0.030262,
      0.036536,
      0.005819,
      0.020288,
      -0.032727,
      0.048357,
      0.004908,
      0.045351,
      0.013964,
      0.033218,
      -0.028561,
      0.031727,
      -0.062763,
      -0.003648,
      -0.054766,
      -0.0149,
      0.03792,
      0.00977,
      0.000845,
      0.029495,
      0.006756,
      -0.004589,
      -0.016037,
      0.001094,
      -0.052664,
      0.008491,
      -0.019008,
      -0.048174,
      -0.012553,
      0.021463,
      -0.028174,
      -0.014115,
      0.019219,
      -0.030262,
      0.054452,
      0.010679,
      -0.004177,
      0.001521,
      -0.066632,
      -0.009402,
      -0.020568,
      0.044124,
      -0.036608,
      -0.00077,
      0.024075,
      -0.002693,
      0.063826,
      -0.035883,
      0.00756,
      -0.015056,
      -0.011506,
      -0.014717,
      -0.004177,
      0.023883,
      0.012933,
      0.001901,
      0.005381,
      0.025568,
      0.024139,
      -0.031585,
      -0.101223,
      0.032737,
      -0.022656,
      -0.012849,
      -0.015408,
      -0.015489,
      -0.010679,
      -0.008695,
      0.012374,
      -0.076397,
      0.027171,
      0.037194,
      -0.011384,
      0.025012,
      -0.032099,
      0.019322,
      0.005575,
      0.035152,
      -0.011309,
      0.04212,
      0.011645,
      -0.003371,
      -0.023278,
      0.026409,
      -0.001396,
      -0.045435,
      -0.048588,
      -0.003593,
      -0.013852,
      -0.002869,
      0.011132,
      -0.017843,
      -0.006729,
      0.014529,
      0.001574,
      0.073817,
      -0.002231,
      -0.060254,
      0.009586,
      0.019692,
      0.020799,
      0.023535,
      0.008584,
      -0.005361,
      0.02293,
      -0.02092,
      0.04497,
      0.059029,
      0.032628,
      0.028522,
      -0.013282,
      0.012241,
      -0.016775,
      0.0032,
      -0.012654,
      -0.005272,
      -0.054237,
      0.025993,
      -0.000445,
      0.02892,
      -0.010686,
      -0.026974,
      0.010014,
      0.036779,
      -0.035059,
      -0.000292,
      -0.04036,
      0.001716,
      -0.035734,
      -0.019508,
      -0.049621,
      -0.012477,
      -0.001909,
      0.00208,
      -0.011905,
      0.001205,
      0.022696,
      0.014883,
      -0.002287,
      -0.055404,
      -0.024702,
      0.025021,
      -0.049206,
      0.017598,
      0.072476,
      0.033962,
      -0.020654,
      -0.026445,
      -0.029547,
      0.024867,
      -0.059348,
      -0.002851,
      -0.013672,
      0.005664,
      0.033162,
      -0.040214,
      -0.024188,
      0.02145,
      0.003178,
      -0.012853,
      0.002931,
      -0.002836,
      0.005836,
      -0.026025,
      -0.005971,
      0.011816,
      -0.017119,
      0.00866
    ]
  },
  {
    "id": "v5-feathers-vs-sails-0",
    "content": "# Feathers vs Sails\nBreadcrumb: Feathers vs Sails\n\n",
    "rawContent": "",
    "breadcrumb": "Feathers vs Sails",
    "version": "v5",
    "sourceFile": "docs/v5_docs/feathers-vs-sails.md",
    "heading": "Feathers vs Sails",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "comparison",
    "tags": [],
    "embedding": [
      -0.004861,
      -0.013586,
      -0.049145,
      0.008139,
      -0.027248,
      -0.013381,
      0.002407,
      0.063795,
      0.002905,
      0.046947,
      0.015423,
      -0.027293,
      -0.025669,
      -0.0046,
      -0.017677,
      0.005808,
      -0.017387,
      -0.005859,
      -0.002247,
      -0.06163,
      -0.005443,
      -0.00229,
      -0.040841,
      0.026611,
      -0.00198,
      0.006932,
      0.000964,
      -0.016104,
      0.014884,
      0.008643,
      0.023674,
      0.008584,
      0.034984,
      -0.007891,
      -0.011354,
      -0.030605,
      0.011138,
      0.043061,
      -0.041625,
      0.050316,
      -0.030509,
      -0.01943,
      -0.015643,
      -0.012215,
      0.010832,
      -0.039544,
      -0.011822,
      -0.02357,
      -0.076954,
      0.021961,
      0.02901,
      -0.014295,
      0.057657,
      -0.028166,
      0.00813,
      0.004479,
      -0.014866,
      -0.004091,
      -0.098157,
      -0.019045,
      -0.0381,
      0.018929,
      -0.006933,
      -0.034144,
      0.043031,
      0.051004,
      -0.035442,
      -0.010672,
      -0.029826,
      -0.005468,
      0.009134,
      -0.028772,
      -0.006847,
      0.008299,
      -0.04288,
      0.041852,
      -0.015326,
      -0.035662,
      -0.021351,
      0.028707,
      -0.02154,
      -0.030212,
      0.029053,
      -0.014353,
      -0.08968,
      0.065944,
      -0.029244,
      -0.016332,
      0.035232,
      -0.007702,
      0.01143,
      -0.047196,
      0.012046,
      -0.022543,
      0.050993,
      0.026547,
      -0.028139,
      -0.022352,
      0.014059,
      0.015405,
      0.019626,
      0.032829,
      -0.009488,
      -0.01386,
      0.006789,
      0.008785,
      0.02449,
      0.032203,
      0.01652,
      -0.011765,
      0.033494,
      0.052585,
      0.016114,
      0.052083,
      0.019699,
      -0.000819,
      -0.008372,
      -0.002662,
      0.000445,
      -0.013362,
      0.023091,
      0.036177,
      0.062112,
      -0.066158,
      0.030222,
      -0.003595,
      0.004165,
      0.029149,
      0.032753,
      -0.01188,
      0.014958,
      0.006978,
      -0.001468,
      0.005362,
      0.059239,
      0.002961,
      -0.006996,
      -0.048167,
      -0.011438,
      -0.036183,
      0.001561,
      0.013293,
      0.003058,
      -0.018117,
      0.029825,
      -0.02021,
      0.013347,
      0.034571,
      0.008967,
      -0.027811,
      -0.000131,
      -0.012133,
      0.039352,
      0.000202,
      0.050958,
      -0.008734,
      0.0322,
      0.022871,
      0.016779,
      0.007011,
      0.002939,
      -0.029139,
      -0.003675,
      -0.007659,
      0.043113,
      0.039525,
      0.078039,
      0.016522,
      -0.011154,
      -0.029247,
      -0.039969,
      -0.041481,
      0.013855,
      -0.009281,
      0.066062,
      0.040948,
      0.02968,
      -0.012945,
      0.037434,
      -0.05953,
      -0.034977,
      -0.00565,
      -0.00936,
      -0.044682,
      -0.025872,
      -0.020164,
      0.033168,
      -0.040546,
      0.005581,
      0.045553,
      -0.003639,
      -0.00667,
      0.048265,
      0.00104,
      0.06105,
      -0.020588,
      -0.028964,
      -0.029291,
      0.002906,
      0.020378,
      0.068356,
      -0.001572,
      0.029533,
      0.003847,
      -0.036117,
      0.00458,
      -0.056862,
      -0.033316,
      0.03465,
      0.010017,
      0.008045,
      0.016201,
      -0.053009,
      -0.014819,
      0.003529,
      -0.017365,
      -0.008453,
      -0.015958,
      -0.010441,
      -0.008578,
      0.012556,
      0.016947,
      0.017367,
      0.020378,
      0.001826,
      -0.00229,
      0.019326,
      0.003133,
      0.014958,
      -0.013509,
      -0.034258,
      0.052803,
      0.032916,
      0.005344,
      -0.006369,
      -0.037432,
      -0.043629,
      0.043693,
      -0.017033,
      0.016309,
      -0.000725,
      -0.048142,
      0.043074,
      -0.043615,
      -0.046071,
      0.012893,
      0.017993,
      -0.006976,
      0.000466,
      -0.020071,
      0.044772,
      0.004694,
      0.003464,
      -0.054674,
      0.011327,
      0.001248,
      0.033017,
      -0.042674,
      0.010798,
      -0.050443,
      0.035656,
      0.018713,
      0.010109,
      0.008935,
      0.016134,
      -0.011095,
      -0.012258,
      -0.026432,
      0.034222,
      0.000259,
      0.010997,
      0.014785,
      -0.006659,
      -0.01781,
      -0.037257,
      0.03737,
      0.003553,
      -0.040729,
      0.07954,
      0.01219,
      0.035799,
      0.011995,
      0.069875,
      0.029494,
      0.008549,
      -0.048637,
      0.027693,
      0.008758,
      0.013153,
      -0.017357,
      0.018926,
      -0.015477,
      0.04379,
      0.007571,
      -0.095959,
      0.005993,
      -0.007001,
      -0.151173,
      -0.007786,
      0.004444,
      0.021987,
      0.012187,
      0.018987,
      -0.021366,
      0.0206,
      -0.011795,
      0.024458,
      0.002919,
      -0.058246,
      0.008601,
      0.012918,
      -0.012569,
      0.002784,
      0.007324,
      -0.003263,
      0.024236,
      -0.016603,
      -0.006879,
      -0.050658,
      -0.020146,
      -0.007981,
      -0.009645,
      0.013366,
      0.023533,
      -0.003247,
      -0.03994,
      -0.051273,
      -0.001312,
      0.038459,
      0.003002,
      0.029338,
      -0.015338,
      0.053178,
      0.042329,
      0.02,
      0.021384,
      -0.025145,
      0.042618,
      0.022719,
      0.002179,
      -0.065489,
      0.000676,
      -0.051242,
      -0.022444,
      0.055226,
      -0.014136,
      -0.039805,
      0.004439,
      -0.030012,
      0.002354,
      -0.007548,
      -0.057481,
      0.025322,
      0.052665,
      0.032207,
      0.037176,
      -0.01435,
      -0.037337,
      -0.038767,
      0.058007,
      -0.03065,
      -0.021667,
      -0.05209,
      -0.015035,
      -0.052105,
      0.024073,
      -0.030365,
      0.037581,
      -0.02672,
      -0.008419,
      -0.012106,
      -0.041579,
      0.021568,
      0.00236,
      -0.002166,
      -0.048214,
      -0.064631,
      0.024852,
      -0.005284,
      -0.023267,
      0.002893,
      -0.042997,
      -0.022677,
      -0.013674,
      -0.032445,
      0.019751,
      0.200666,
      0.054454,
      0.014346,
      -0.058462,
      0.023064,
      -0.00404,
      0.010282,
      0.060936,
      0.025333,
      -0.026749,
      -0.02566,
      0.006648,
      -0.03987,
      -0.029599,
      -0.008874,
      -0.052239,
      -0.03076,
      -0.022969,
      0.070471,
      0.006771,
      0.014855,
      -0.033352,
      0.05341,
      0.039545,
      -0.04585,
      -0.013112,
      -0.030094,
      0.012858,
      -0.009772,
      0.002292,
      -0.060698,
      -0.006395,
      0.070799,
      -0.012354,
      -0.034502,
      -0.040675,
      -0.006366,
      -0.026243,
      0.000628,
      0.022014,
      -0.043352,
      -0.044783,
      -0.001872,
      -0.022928,
      0.004598,
      0.019935,
      0.003061,
      -0.005389,
      0.025379,
      -0.01724,
      0.004237,
      -0.026257,
      -0.026913,
      -0.009838,
      -0.012304,
      -0.051524,
      -0.035725,
      -0.011544,
      -0.015905,
      0.000718,
      0.018811,
      -0.039206,
      -0.011035,
      0.003709,
      -0.01178,
      0.013154,
      0.014172,
      -0.035546,
      0.01626,
      0.027525,
      0.023714,
      0.034119,
      -0.027444,
      0.01152,
      0.004006,
      0.000721,
      0.025382,
      0.019976,
      0.026806,
      0.020427,
      -0.046408,
      -0.000887,
      -0.052395,
      0.053567,
      0.013355,
      0.027155,
      0.001977,
      0.007429,
      -0.00015,
      -0.01726,
      -0.018134,
      0.018298,
      0.003864,
      0.028057,
      -0.036009,
      0.01308,
      -0.01653,
      -0.024165,
      -0.021718,
      -0.02029,
      0.023891,
      -0.016231,
      0.010915,
      -0.075384,
      0.023388,
      -0.041347,
      0.011015,
      0.002023,
      0.016537,
      -0.003537,
      -0.020664,
      0.027773,
      0.032647,
      0.013345,
      0.031943,
      0.004704,
      0.028294,
      -0.00346,
      0.042073,
      -0.002536,
      -0.023743,
      0.014011,
      0.003512,
      0.030769,
      -0.003591,
      -0.054584,
      0.02674,
      0.037251,
      -0.009701,
      0.038521,
      0.019071,
      -0.053943,
      -0.088684,
      0.020007,
      0.055365,
      0.027956,
      -0.000086,
      0.048359,
      -0.009896,
      -0.030946,
      -0.001097,
      -0.036837,
      -0.01061,
      -0.056909,
      -0.009413,
      0.062538,
      -0.042596,
      0.022644,
      -0.011282,
      0.010354,
      0.055758,
      0.01302,
      -0.00167,
      -0.047592,
      -0.014703,
      -0.053787,
      -0.003562,
      0.019491,
      -0.022395,
      -0.009248,
      -0.016339,
      0.047076,
      0.010021,
      0.053342,
      0.042045,
      0.048699,
      0.016242,
      -0.021221,
      -0.010996,
      0.005191,
      -0.009183,
      -0.067287,
      -0.065668,
      0.071276,
      0.004895,
      -0.044723,
      0.010281,
      0.020231,
      0.005776,
      -0.004866,
      0.001112,
      -0.01054,
      -0.017493,
      0.023343,
      -0.025674,
      0.005994,
      0.008023,
      -0.013857,
      -0.055464,
      -0.01194,
      0.012858,
      0.089012,
      0.020776,
      -0.036792,
      0.022116,
      -0.014791,
      0.020753,
      0.025895,
      0.024143,
      -0.01488,
      -0.021307,
      0.029425,
      0.021158,
      -0.044914,
      0.000627,
      0.008375,
      -0.019733,
      0.083111,
      -0.065353,
      -0.020228,
      0.015314,
      -0.000563,
      -0.038284,
      -0.019144,
      -0.067954,
      0.008224,
      0.063427,
      0.014729,
      -0.024036,
      -0.034528,
      -0.05712,
      -0.026843,
      -0.020601,
      0.004479,
      -0.018873,
      0.024726,
      0.040086,
      0.041217,
      -0.00506,
      0.008761,
      -0.002139,
      0.007124,
      0.013557,
      -0.000019,
      -0.010925,
      0.026838,
      0.044298,
      0.02456,
      -0.01004,
      -0.036443,
      0.019047,
      0.016294,
      0.003257,
      0.053483,
      -0.034093,
      -0.045007,
      0.014125,
      -0.044288,
      -0.016938,
      0.007056,
      -0.036984,
      0.017488,
      0.027592,
      0.002055,
      -0.029422,
      -0.021868,
      0.032505,
      0.00742,
      0.032311,
      -0.034083,
      -0.011245,
      0.037463,
      -0.006358,
      0.011221,
      -0.022284,
      -0.007999,
      -0.022826,
      -0.014483,
      -0.001542,
      0.003845,
      0.002521,
      -0.008611,
      -0.053327,
      -0.112863,
      0.021213,
      0.018741,
      -0.040719,
      -0.02992,
      0.014881,
      0.038858,
      -0.020206,
      -0.002776,
      0.02574,
      0.061518,
      0.000075,
      0.034172,
      -0.002942,
      0.063003,
      0.040954,
      -0.00132,
      0.040213,
      -0.013867,
      -0.066905,
      -0.012957,
      -0.052127,
      0.008839,
      0.019792,
      0.042279,
      -0.013619,
      -0.001044,
      -0.026954,
      0.003541,
      0.019682,
      -0.058111,
      -0.001179,
      0.023314,
      0.042608,
      -0.068408,
      -0.010147,
      0.021642,
      0.007017,
      -0.012522,
      -0.004257,
      -0.007057,
      0.038125,
      -0.064479,
      0.057581,
      -0.011285,
      0.039723,
      -0.020945,
      0.015577,
      0.015338,
      -0.030282,
      0.015337,
      -0.061938,
      -0.005926,
      0.017682,
      -0.000317,
      -0.011359,
      -0.03733,
      -0.056532,
      0.014789,
      -0.015305,
      0.006611,
      0.018144,
      0.031222,
      0.038677,
      -0.010017,
      0.005622,
      -0.001487,
      -0.050366,
      0.031194,
      0.059559,
      -0.053524,
      0.046819,
      0.001193,
      -0.012945,
      0.004145,
      -0.029778,
      0.013683,
      -0.022755,
      0.026709,
      -0.049876,
      -0.020102,
      0.013915,
      0.00471,
      0.006755,
      0.04352,
      0.00677,
      -0.032889,
      -0.03221,
      0.025426,
      -0.015244,
      -0.000226,
      -0.009913,
      0.011332,
      0.007647,
      -0.054839,
      0.035746,
      -0.022142,
      -0.00852,
      0.042598,
      0.011365,
      0.005781,
      0.009984,
      0.031006,
      0.009393,
      0.012754,
      -0.004056,
      0.038155,
      -0.011961,
      0.019155,
      -0.000108,
      0.021598,
      -0.017503,
      -0.053659,
      -0.027802,
      0.015873,
      0.048636,
      0.031214,
      0.005088,
      -0.004201,
      -0.026362,
      -0.040764,
      -0.125667,
      0.022366,
      -0.032136,
      -0.029045,
      -0.033162,
      0.002076,
      -0.042357,
      -0.011083,
      0.000098,
      -0.043078,
      0.010508,
      0.048478,
      0.053588,
      -0.01658,
      -0.052477,
      0.004376,
      -0.033113,
      -0.012529,
      0.019154,
      0.029749,
      0.036213,
      0.004596,
      -0.003075,
      0.017615,
      -0.028664,
      -0.006108,
      -0.043066,
      0.01444,
      -0.041887,
      0.007282,
      0.016716,
      -0.002831,
      -0.003042,
      0.021182,
      0.018257,
      0.019357,
      0.0131,
      -0.017716,
      0.01748,
      0.0551,
      -0.030688,
      0.004283,
      -0.039996,
      0.042112,
      0.061334,
      0.043368,
      0.010732,
      0.002182,
      0.012618,
      0.026095,
      -0.032687,
      0.020935,
      0.035532,
      0.029883,
      0.004231,
      -0.012243,
      -0.062928,
      -0.027235,
      0.03134,
      0.004386,
      -0.086905,
      0.036785,
      -0.003992,
      -0.046002,
      -0.006378,
      0.030203,
      -0.036877,
      -0.005898,
      -0.007272,
      0.015283,
      -0.02516,
      -0.017519,
      -0.034013,
      0.026212,
      0.022716,
      -0.008279,
      0.035067,
      0.022569,
      0.015423,
      0.01357,
      -0.014322,
      0.018135,
      -0.004918,
      0.046196,
      -0.009376,
      0.021669,
      -0.0119,
      0.0054,
      -0.069308,
      -0.01365,
      -0.044888,
      -0.017182,
      0.017887,
      -0.001191,
      0.019476,
      0.038029,
      -0.014861,
      -0.004728,
      -0.02246,
      -0.012121,
      -0.005792,
      0.00946,
      -0.001595,
      -0.030064,
      -0.001532,
      0.032408,
      -0.031913,
      0.01758,
      0.027885,
      -0.017631,
      0.018038,
      -0.008446,
      -0.008087,
      -0.015271,
      -0.07064,
      -0.004734,
      -0.008002,
      0.047744,
      -0.011452,
      -0.00829,
      0.012628,
      0.000761,
      0.059823,
      -0.02685,
      0.010012,
      0.002343,
      0.014263,
      0.00477,
      -0.025679,
      0.034539,
      0.034914,
      0.018276,
      0.024884,
      0.021023,
      0.015065,
      -0.023699,
      -0.084912,
      0.03207,
      -0.022428,
      -0.002671,
      0.018476,
      -0.010821,
      0.005527,
      -0.005026,
      -0.002855,
      -0.044087,
      0.001507,
      0.025592,
      -0.035152,
      0.042241,
      -0.034268,
      0.001422,
      0.000141,
      0.023965,
      -0.011309,
      0.006215,
      0.016927,
      -0.038887,
      -0.018484,
      0.025922,
      0.005934,
      -0.034089,
      -0.034397,
      -0.03776,
      -0.020212,
      0.018635,
      0.003182,
      -0.013679,
      0.000836,
      0.015837,
      -0.008675,
      0.066899,
      -0.018401,
      -0.071206,
      -0.007262,
      0.019523,
      0.021001,
      0.007366,
      0.016962,
      0.015519,
      0.017506,
      -0.001622,
      0.046179,
      0.056961,
      0.009696,
      0.020147,
      -0.002001,
      -0.007379,
      -0.017692,
      0.017376,
      -0.021972,
      -0.003994,
      -0.050802,
      0.010899,
      0.002554,
      0.020566,
      -0.003841,
      0.007076,
      0.030751,
      0.014638,
      -0.022562,
      0.015919,
      -0.018437,
      0.038281,
      -0.026089,
      -0.014532,
      -0.038305,
      -0.031451,
      -0.023823,
      0.013581,
      0.007351,
      -0.001378,
      0.020681,
      -0.006656,
      0.01423,
      -0.049265,
      -0.019617,
      0.00723,
      -0.053135,
      0.034025,
      0.06519,
      0.042993,
      -0.033787,
      -0.043388,
      -0.027917,
      0.019572,
      -0.062736,
      0.006003,
      -0.023876,
      -0.011754,
      0.036536,
      -0.041948,
      -0.008561,
      0.032903,
      -0.002843,
      -0.02436,
      0.006164,
      0.02112,
      -0.011642,
      -0.042163,
      0.017199,
      0.023412,
      -0.007388,
      0.017017
    ]
  },
  {
    "id": "v5-authentication-0",
    "content": "# Authentication\nBreadcrumb: Authentication\nCovers: Generating authentication | What's next?\nTopics: services, setup, authentication, github, database, mongodb, generate, logging, login, users\n\n## Generating authentication\n\nTo initialize a standard authentication setup we can run\n\n```\nnpx feathers generate authentication\n```\n\nFor the first prompt, let's select GitHub in addition to _Email + Password_ by navigating to it with the arrow down key and then pressing space. All other questions can be answered with the default by pressing enter:\n\n<DatabaseBlock global-id=\"sql\">\n\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n\n</DatabaseBlock>\n\n## What's next?\n\nBy running this command we set up a `users` endpoint to register and store users and an `authentication` endpoint to log them in. It also generated everything necessary for a log in via GitHub. \n\nIf you're not familiar with how the authentication process works, don't worry. We'll cover that in the [Logging In](./login.md) chapter of this guide but first let's look at Feathers [core concepts of services](./services.md) that our new `users` endpoint already uses.",
    "rawContent": "## Generating authentication\n\nTo initialize a standard authentication setup we can run\n\n```\nnpx feathers generate authentication\n```\n\nFor the first prompt, let's select GitHub in addition to _Email + Password_ by navigating to it with the arrow down key and then pressing space. All other questions can be answered with the default by pressing enter:\n\n<DatabaseBlock global-id=\"sql\">\n\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n\n</DatabaseBlock>\n\n## What's next?\n\nBy running this command we set up a `users` endpoint to register and store users and an `authentication` endpoint to log them in. It also generated everything necessary for a log in via GitHub. \n\nIf you're not familiar with how the authentication process works, don't worry. We'll cover that in the [Logging In](./login.md) chapter of this guide but first let's look at Feathers [core concepts of services](./services.md) that our new `users` endpoint already uses.",
    "breadcrumb": "Authentication",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/basics/authentication.md",
    "heading": "Authentication",
    "subHeadings": [
      "Generating authentication",
      "What's next?"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text"
    ],
    "tokens": 236,
    "category": "guides",
    "tags": [
      "services",
      "setup",
      "authentication",
      "github",
      "database",
      "mongodb",
      "generate",
      "logging",
      "login",
      "users"
    ],
    "embedding": [
      0.021964,
      -0.016189,
      -0.045142,
      0.037394,
      -0.033494,
      -0.043497,
      0.008597,
      -0.01357,
      0.017475,
      0.013112,
      -0.008499,
      -0.047068,
      -0.043043,
      -0.00674,
      0.024411,
      0.015875,
      -0.00408,
      0.003547,
      0.00802,
      -0.031561,
      -0.009845,
      0.001842,
      0.038777,
      -0.000206,
      0.012056,
      0.001641,
      -0.009249,
      -0.015369,
      0.014084,
      -0.025968,
      -0.03015,
      -0.013249,
      -0.031838,
      -0.006606,
      -0.002232,
      0.006468,
      -0.005305,
      0.038222,
      -0.023686,
      0.028794,
      0.017108,
      0.04022,
      0.02709,
      -0.0117,
      -0.003413,
      -0.033087,
      -0.010893,
      -0.011807,
      0.012045,
      -0.015154,
      0.006152,
      0.032214,
      0.021383,
      -0.020526,
      0.023229,
      0.03318,
      -0.010339,
      0.018885,
      -0.032529,
      -0.031465,
      -0.046442,
      0.044824,
      -0.029081,
      0.042248,
      -0.03048,
      0.00235,
      -0.022217,
      0.001867,
      -0.042848,
      -0.046368,
      -0.017153,
      0.029213,
      -0.028226,
      0.023671,
      -0.030275,
      -0.009665,
      0.070706,
      -0.019013,
      -0.014174,
      -0.007555,
      -0.019863,
      -0.045648,
      0.030327,
      -0.038055,
      0.009798,
      -0.058198,
      -0.055951,
      0.09527,
      0.031658,
      0.031936,
      0.013886,
      -0.060121,
      0.04915,
      -0.056204,
      -0.023301,
      0.00694,
      -0.010321,
      0.031278,
      0.022024,
      0.020443,
      -0.002066,
      -0.002965,
      -0.009465,
      -0.036186,
      0.008351,
      0.062508,
      0.044238,
      -0.015345,
      0.010811,
      -0.04579,
      0.003054,
      0.01274,
      0.035762,
      0.003974,
      -0.031745,
      -0.035249,
      -0.02045,
      -0.020752,
      -0.004215,
      -0.059878,
      -0.002478,
      0.007528,
      0.00446,
      -0.016789,
      0.003047,
      -0.01649,
      -0.012888,
      0.005849,
      -0.000271,
      0.064634,
      0.022237,
      -0.035712,
      0.002235,
      0.013077,
      0.002897,
      -0.019064,
      -0.000571,
      0.053973,
      -0.007144,
      -0.054544,
      0.002927,
      0.009837,
      -0.025151,
      -0.033746,
      0.032767,
      -0.055223,
      0.035446,
      -0.033878,
      -0.050025,
      0.008313,
      0.023957,
      0.005013,
      -0.00164,
      -0.029898,
      0.021643,
      0.020486,
      -0.025247,
      -0.013549,
      0.011755,
      0.023505,
      0.007732,
      0.041886,
      -0.046081,
      0.012684,
      0.023255,
      -0.030511,
      0.007232,
      -0.049026,
      -0.016471,
      -0.046755,
      0.033026,
      0.010344,
      0.004455,
      0.03971,
      0.012398,
      0.039098,
      0.01643,
      0.044336,
      0.037667,
      -0.036477,
      -0.020281,
      0.017051,
      -0.001127,
      -0.039029,
      -0.008328,
      0.005766,
      0.009741,
      -0.044341,
      0.013445,
      0.051293,
      -0.035285,
      -0.028161,
      -0.003866,
      -0.042779,
      -0.007325,
      0.022012,
      0.014807,
      0.032581,
      0.003087,
      -0.02307,
      -0.028393,
      0.019029,
      0.04003,
      0.02071,
      -0.003612,
      -0.010615,
      0.012934,
      -0.062459,
      -0.002158,
      -0.032795,
      -0.007151,
      -0.024897,
      0.022151,
      -0.050186,
      -0.036145,
      0.053288,
      -0.002939,
      0.017429,
      0.00709,
      -0.037706,
      -0.010003,
      0.01368,
      -0.040421,
      -0.020363,
      0.020905,
      -0.020697,
      0.007596,
      0.007048,
      0.037288,
      0.002844,
      -0.038586,
      0.023927,
      0.028086,
      0.001627,
      0.030271,
      -0.006765,
      -0.041264,
      -0.004251,
      0.014492,
      -0.01055,
      -0.017505,
      -0.041285,
      0.02735,
      -0.000825,
      -0.006487,
      -0.019206,
      -0.020094,
      0.043955,
      -0.014752,
      -0.015534,
      0.015096,
      0.015032,
      -0.011145,
      0.010235,
      0.033392,
      0.000809,
      0.007033,
      -0.00951,
      -0.006448,
      -0.057121,
      0.041875,
      -0.036246,
      -0.00112,
      0.025205,
      0.02721,
      0.013383,
      -0.039244,
      -0.054935,
      0.03692,
      0.043575,
      -0.004883,
      0.021366,
      -0.00253,
      0.029596,
      -0.010775,
      0.003106,
      0.040743,
      -0.045526,
      0.044142,
      0.032325,
      -0.01209,
      0.003215,
      0.003914,
      0.045444,
      -0.006619,
      0.038279,
      0.049036,
      -0.017585,
      0.020898,
      -0.055318,
      -0.020917,
      0.052155,
      0.041455,
      -0.017837,
      -0.001702,
      0.012805,
      0.010505,
      -0.172363,
      -0.005336,
      0.044918,
      0.025793,
      -0.015253,
      0.026096,
      -0.061883,
      -0.01799,
      -0.062707,
      -0.004603,
      -0.029702,
      -0.04016,
      0.01238,
      0.036188,
      0.047754,
      0.004621,
      -0.026968,
      0.013408,
      0.01725,
      -0.015822,
      -0.004646,
      -0.045378,
      0.046376,
      0.052255,
      0.005942,
      -0.012086,
      0.040028,
      -0.019573,
      -0.061211,
      -0.020759,
      -0.016684,
      -0.024594,
      0.007142,
      0.002274,
      -0.007988,
      0.013306,
      0.02726,
      0.007853,
      0.001983,
      0.026982,
      0.005433,
      0.048093,
      -0.023422,
      -0.012888,
      -0.004579,
      0.026243,
      0.030214,
      0.004284,
      -0.051744,
      0.010954,
      0.002815,
      -0.00591,
      -0.01193,
      -0.022946,
      -0.051397,
      -0.00575,
      -0.007321,
      0.03419,
      -0.007909,
      -0.003036,
      -0.000132,
      -0.023192,
      0.039675,
      -0.024193,
      -0.012991,
      0.016776,
      0.021782,
      0.019052,
      0.020616,
      -0.03703,
      -0.0115,
      -0.050096,
      0.008716,
      0.009814,
      0.026079,
      0.007736,
      0.001944,
      0.001229,
      -0.020833,
      -0.0889,
      -0.013492,
      -0.004119,
      -0.0073,
      -0.004654,
      -0.013905,
      0.007902,
      -0.021289,
      0.003572,
      0.037635,
      0.199232,
      0.029725,
      -0.021277,
      -0.026601,
      0.050403,
      -0.015061,
      0.023207,
      0.085249,
      -0.026056,
      -0.024707,
      0.017388,
      0.00966,
      0.0365,
      -0.032576,
      0.000114,
      -0.00492,
      -0.059907,
      0.024527,
      0.042184,
      -0.008061,
      0.031225,
      -0.021961,
      0.066062,
      0.01054,
      -0.086673,
      -0.027339,
      0.014058,
      0.045212,
      -0.037378,
      0.020961,
      -0.031911,
      0.054105,
      0.038762,
      0.005551,
      -0.007942,
      0.041731,
      -0.022623,
      -0.018532,
      0.007869,
      0.028163,
      0.019975,
      -0.010319,
      0.057947,
      -0.054684,
      0.000362,
      0.032751,
      0.031063,
      -0.0078,
      -0.039215,
      -0.050844,
      -0.039121,
      -0.007014,
      -0.0281,
      -0.007717,
      0.029778,
      0.004742,
      -0.015814,
      -0.04763,
      -0.020389,
      -0.016963,
      0.037355,
      0.022956,
      -0.078627,
      0.025215,
      -0.029065,
      0.015107,
      0.020651,
      -0.039088,
      0.02281,
      0.029372,
      -0.040083,
      -0.021258,
      -0.010459,
      -0.012275,
      0.008504,
      0.016848,
      0.098033,
      0.041478,
      -0.010783,
      0.02595,
      -0.026052,
      0.003549,
      -0.019726,
      0.032499,
      0.034467,
      0.021658,
      0.010768,
      0.045628,
      0.025507,
      -0.019402,
      0.008914,
      -0.004673,
      0.037347,
      0.021642,
      0.009341,
      0.018586,
      0.014164,
      -0.015457,
      -0.018493,
      -0.045661,
      -0.00165,
      0.01525,
      -0.012202,
      -0.007089,
      0.050556,
      -0.04289,
      -0.003335,
      0.003409,
      0.015209,
      0.032142,
      -0.045068,
      -0.009517,
      -0.019298,
      -0.042687,
      0.032666,
      0.007695,
      0.051774,
      -0.034531,
      0.06034,
      0.005783,
      0.062472,
      -0.004588,
      -0.032198,
      0.019849,
      -0.003236,
      -0.053491,
      -0.015616,
      -0.027698,
      -0.036817,
      0.064569,
      0.037842,
      -0.022924,
      0.005799,
      0.035813,
      0.010938,
      0.029838,
      0.090256,
      -0.002801,
      -0.008761,
      0.034958,
      -0.058801,
      -0.013418,
      -0.031267,
      -0.016896,
      -0.010312,
      0.029974,
      -0.010383,
      -0.000695,
      0.007534,
      0.014236,
      0.025242,
      0.044236,
      0.029857,
      0.020009,
      -0.009003,
      -0.02693,
      -0.009309,
      0.021125,
      -0.013356,
      -0.045187,
      -0.047306,
      0.019364,
      0.071652,
      0.042395,
      -0.023943,
      -0.002686,
      -0.026264,
      0.021993,
      -0.002652,
      -0.041118,
      0.013504,
      -0.061276,
      -0.036415,
      0.029131,
      -0.001509,
      -0.053928,
      -0.046646,
      -0.056448,
      -0.013854,
      -0.000745,
      0.018146,
      0.026998,
      -0.009538,
      -0.010535,
      0.035505,
      -0.024056,
      0.014656,
      -0.020683,
      0.003463,
      -0.014378,
      0.000589,
      0.094831,
      0.020492,
      0.014412,
      0.005688,
      0.012292,
      0.043198,
      0.008703,
      -0.001304,
      0.008935,
      0.001069,
      -0.015591,
      -0.010235,
      -0.020299,
      0.00297,
      -0.043536,
      0.000162,
      0.023812,
      -0.007386,
      0.041732,
      -0.005256,
      0.033962,
      -0.024896,
      -0.028314,
      0.027661,
      -0.018339,
      0.036784,
      0.065771,
      0.047287,
      0.004976,
      -0.015359,
      -0.021754,
      -0.020982,
      -0.057412,
      0.013545,
      0.037339,
      0.013166,
      -0.011155,
      0.002738,
      -0.025012,
      -0.010656,
      0.007474,
      -0.003607,
      -0.05579,
      0.027042,
      0.011994,
      -0.01994,
      -0.008664,
      0.04893,
      -0.012162,
      0.025017,
      -0.00227,
      0.032738,
      0.033182,
      -0.005558,
      0.06165,
      0.03652,
      0.010443,
      -0.01367,
      -0.033182,
      -0.056845,
      -0.058146,
      0.000188,
      -0.019112,
      0.029503,
      -0.004051,
      0.014995,
      -0.071179,
      -0.004831,
      -0.016693,
      0.001382,
      0.032951,
      -0.000116,
      -0.026376,
      0.006551,
      -0.034663,
      0.015999,
      -0.052074,
      -0.026411,
      0.024643,
      0.020323,
      0.004238,
      0.002689,
      -0.051273,
      0.017836,
      -0.026099,
      -0.016091,
      -0.027767,
      0.025016,
      -0.010336,
      -0.055284,
      -0.000808,
      0.026315,
      -0.015304,
      0.001825,
      0.029911,
      0.034116,
      0.002784,
      -0.008272,
      -0.052141,
      -0.01114,
      0.01476,
      -0.05232,
      0.008113,
      -0.030519,
      -0.008905,
      -0.006525,
      0.006859,
      0.003959,
      0.009843,
      -0.013893,
      0.005654,
      0.003133,
      0.011483,
      0.000905,
      0.023886,
      -0.019859,
      -0.033927,
      0.062152,
      -0.004984,
      0.051723,
      -0.026628,
      0.000568,
      0.017564,
      0.014679,
      0.006557,
      0.047293,
      -0.014144,
      0.046517,
      -0.018791,
      -0.021276,
      -0.013854,
      -0.060144,
      0.03463,
      -0.006237,
      -0.02418,
      -0.007899,
      0.011107,
      -0.017521,
      0.021556,
      -0.006052,
      -0.019873,
      0.002582,
      0.015666,
      -0.007986,
      -0.025266,
      0.030688,
      -0.067772,
      0.001617,
      -0.024369,
      0.021751,
      -0.007064,
      0.068896,
      -0.026394,
      0.032082,
      -0.060945,
      -0.001201,
      0.034173,
      -0.027256,
      -0.015024,
      -0.025328,
      0.016287,
      -0.02321,
      -0.043508,
      0.05628,
      -0.024784,
      -0.005802,
      0.046084,
      0.024543,
      0.010021,
      -0.020334,
      0.070519,
      0.010333,
      -0.021235,
      0.016569,
      -0.004552,
      0.040293,
      -0.010577,
      -0.031996,
      -0.022949,
      -0.0139,
      0.004071,
      -0.026057,
      -0.032409,
      -0.035997,
      0.001715,
      -0.017044,
      -0.027123,
      0.02851,
      -0.043202,
      -0.011444,
      -0.019644,
      -0.023673,
      -0.04009,
      0.009115,
      0.018486,
      0.000052,
      0.002383,
      0.027638,
      0.002284,
      0.005571,
      0.018464,
      -0.007553,
      0.000869,
      -0.15573,
      -0.015959,
      -0.01613,
      -0.029053,
      -0.027839,
      -0.010432,
      0.004731,
      -0.059932,
      0.024022,
      -0.037026,
      -0.013113,
      0.050596,
      0.030029,
      -0.0058,
      0.002098,
      -0.015786,
      -0.035168,
      -0.0189,
      0.006217,
      -0.034884,
      -0.018478,
      -0.024504,
      0.045054,
      -0.001537,
      -0.034274,
      0.00349,
      0.002787,
      -0.000846,
      -0.016265,
      0.042726,
      -0.052411,
      -0.022975,
      0.004998,
      0.013885,
      -0.020727,
      -0.005411,
      0.009352,
      0.019427,
      -0.011978,
      0.058659,
      -0.009454,
      0.039967,
      -0.013825,
      0.040409,
      0.023225,
      0.085881,
      -0.030068,
      -0.025066,
      -0.050307,
      -0.020268,
      0.01828,
      0.011293,
      -0.006307,
      0.01448,
      -0.015308,
      0.01645,
      -0.039496,
      -0.022386,
      -0.077837,
      0.039622,
      -0.002859,
      0.034564,
      -0.045226,
      -0.024548,
      -0.015748,
      -0.008725,
      -0.018345,
      0.043064,
      -0.007095,
      0.010655,
      0.03429,
      -0.05095,
      -0.047175,
      0.023939,
      -0.003134,
      -0.02036,
      0.024874,
      -0.014311,
      -0.067247,
      0.003765,
      -0.014902,
      -0.008598,
      -0.049285,
      0.043188,
      0.064112,
      0.047065,
      -0.010367,
      0.004926,
      0.024965,
      -0.018275,
      -0.028875,
      -0.028333,
      0.030019,
      0.013656,
      -0.061052,
      0.034457,
      -0.029702,
      0.008495,
      0.014095,
      -0.041734,
      -0.023326,
      0.021199,
      -0.009107,
      0.020885,
      -0.016911,
      -0.014543,
      0.00569,
      -0.000638,
      0.016916,
      -0.030227,
      0.014363,
      0.007079,
      0.014545,
      -0.002351,
      -0.038783,
      0.015108,
      -0.000901,
      -0.019923,
      -0.068268,
      -0.055634,
      -0.000207,
      -0.00114,
      -0.038468,
      -0.003667,
      0.039526,
      0.011613,
      -0.011388,
      -0.013964,
      0.028579,
      -0.012846,
      -0.044424,
      -0.080357,
      0.008536,
      0.020455,
      0.024322,
      -0.050157,
      -0.070849,
      0.054975,
      -0.028435,
      -0.006935,
      0.001319,
      -0.004899,
      -0.033946,
      -0.001723,
      -0.031636,
      -0.026189,
      0.020212,
      0.023082,
      0.00803,
      -0.005662,
      -0.036628,
      -0.00483,
      -0.01003,
      0.075784,
      0.019693,
      0.052143,
      -0.014553,
      0.006214,
      -0.006778,
      0.08488,
      0.002185,
      -0.056858,
      -0.032804,
      0.027119,
      0.004003,
      -0.003409,
      -0.008432,
      -0.003758,
      -0.030215,
      0.022667,
      0.028343,
      0.048871,
      -0.039595,
      -0.000589,
      0.041769,
      -0.000161,
      -0.000409,
      -0.044411,
      0.053655,
      0.033322,
      0.009009,
      -0.015706,
      0.027462,
      0.061128,
      0.053571,
      0.019039,
      -0.001714,
      -0.013869,
      -0.008469,
      -0.016225,
      -0.002575,
      0.010009,
      0.032668,
      0.034665,
      0.024903,
      -0.041742,
      0.030545,
      0.013485,
      0.003675,
      0.055666,
      -0.003779,
      -0.020525,
      -0.027069,
      -0.022254,
      -0.002454,
      -0.00902,
      -0.033665,
      0.007103,
      0.03301,
      0.044574,
      -0.012114,
      0.006617,
      0.015468,
      0.008785,
      0.008509,
      -0.013136,
      0.06347,
      -0.007123,
      -0.004672,
      -0.067891,
      0.030503,
      -0.002982,
      -0.03874,
      0.002323,
      -0.036662,
      -0.002625,
      -0.028544,
      0.019082,
      0.021291,
      0.024657,
      -0.013533,
      0.000742,
      0.01453,
      0.037991,
      0.040384,
      -0.050753,
      0.009006,
      -0.008539,
      0.003194,
      0.003683,
      0.05108,
      0.041548,
      0.003691,
      -0.011313
    ]
  },
  {
    "id": "v5-generator-0",
    "content": "# Creating an app\nBreadcrumb: Creating an app\nCovers: Generating the application | Running the server and tests | What's next?\nTopics: application, get, create, authentication, database, mongodb, rest, http, typescript, types, cli, generate, test\n\n## Generating the application\n\nYou can create a new Feathers application by running `npm create feathers <name>`. To create a new Feathers application called `feathers-chat` we can run:\n\n```sh\nnpm create feathers@latest feathers-chat\n```\n\nIf you never ran the command before you might be asked to confirm the package installation by pressing enter. The `@latest` in the command makes sure that the most recent released version of the CLI is used.\n\n> **Note:**\n> \n> Since the generated application is using modern features like ES modules, the Feathers CLI requires __Node 16 or newer__.\n> \n\nFirst, choose if you want to use JavaScript or TypeScript. When presented with the project name, just hit enter, or enter a name (no spaces). Next, write a short description for your application. Confirm the next questions with the default selection by pressing Enter. If you choose a database other than __SQLite__, make sure it is reachable at the connection string. For following this guide using MongoDB, change the database selection in the dropdown below.\n\n<DatabaseSelect />\n<hr />\n\nOnce you confirm the last prompt, the final selection should look similar to this:\n\n<DatabaseBlock global-id=\"sql\">\n\n\n> **Note:**\n> \n> `SQLite` creates an SQL database in a file so we don't need to have a database server running.\n> \n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n\n</DatabaseBlock>\n\nSweet! We generated our first Feathers application in a new folder called `feathers-chat` so we need to go there.\n\n```sh\ncd feathers-chat\n```\n\n> **tip:**\n> \n> Most generated files have a page in the [CLI guide](../cli/index.md) which contains more information about the file and what it does.\n>\n\n## Running the server and tests\n\nThe server can be started by running\n\n<DatabaseBlock global-id=\"sql\">\n```sh\nnpm run compile\nnpm run migrate\nnpm start\n```\n</DatabaseBlock>\n<DatabaseBlock global-id=\"mongodb\">\n```sh\nnpm run compile\nnpm start\n```\n</DatabaseBlock>\n\n```sh\nnpm start\n```\n\nAfter that, you will see the Feathers logo at\n\n```\nhttp://localhost:3030\n```\n\n> **Note:**\n> \n> You can exit the running process by pressing **CTRL + C**\n> \n\nThe app also comes with a set of basic tests which can be run with\n\n```sh\nnpm test\n```\n\nThere is also a handy development command that restarts the server automatically whenever we make a code change:\n\n```sh\nnpm run dev\n```\n\n> **Note:**\n> \n> Keep this command running throughout the rest of this guide so it will reload all our changes automatically.\n>\n\n## What's next?\n\nIn this chapter, we've created a new Feathers application. To learn more about the generated files and what you can do with the CLI, have a look at the [CLI guide](../cli/index.md) after finishing the Getting Started guide. In [the next chapter](./authentication.md) we will set up user authentication.",
    "rawContent": "## Generating the application\n\nYou can create a new Feathers application by running `npm create feathers <name>`. To create a new Feathers application called `feathers-chat` we can run:\n\n```sh\nnpm create feathers@latest feathers-chat\n```\n\nIf you never ran the command before you might be asked to confirm the package installation by pressing enter. The `@latest` in the command makes sure that the most recent released version of the CLI is used.\n\n> **Note:**\n> \n> Since the generated application is using modern features like ES modules, the Feathers CLI requires __Node 16 or newer__.\n> \n\nFirst, choose if you want to use JavaScript or TypeScript. When presented with the project name, just hit enter, or enter a name (no spaces). Next, write a short description for your application. Confirm the next questions with the default selection by pressing Enter. If you choose a database other than __SQLite__, make sure it is reachable at the connection string. For following this guide using MongoDB, change the database selection in the dropdown below.\n\n<DatabaseSelect />\n<hr />\n\nOnce you confirm the last prompt, the final selection should look similar to this:\n\n<DatabaseBlock global-id=\"sql\">\n\n\n> **Note:**\n> \n> `SQLite` creates an SQL database in a file so we don't need to have a database server running.\n> \n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n\n</DatabaseBlock>\n\nSweet! We generated our first Feathers application in a new folder called `feathers-chat` so we need to go there.\n\n```sh\ncd feathers-chat\n```\n\n> **tip:**\n> \n> Most generated files have a page in the [CLI guide](../cli/index.md) which contains more information about the file and what it does.\n>\n\n## Running the server and tests\n\nThe server can be started by running\n\n<DatabaseBlock global-id=\"sql\">\n```sh\nnpm run compile\nnpm run migrate\nnpm start\n```\n</DatabaseBlock>\n<DatabaseBlock global-id=\"mongodb\">\n```sh\nnpm run compile\nnpm start\n```\n</DatabaseBlock>\n\n```sh\nnpm start\n```\n\nAfter that, you will see the Feathers logo at\n\n```\nhttp://localhost:3030\n```\n\n> **Note:**\n> \n> You can exit the running process by pressing **CTRL + C**\n> \n\nThe app also comes with a set of basic tests which can be run with\n\n```sh\nnpm test\n```\n\nThere is also a handy development command that restarts the server automatically whenever we make a code change:\n\n```sh\nnpm run dev\n```\n\n> **Note:**\n> \n> Keep this command running throughout the rest of this guide so it will reload all our changes automatically.\n>\n\n## What's next?\n\nIn this chapter, we've created a new Feathers application. To learn more about the generated files and what you can do with the CLI, have a look at the [CLI guide](../cli/index.md) after finishing the Getting Started guide. In [the next chapter](./authentication.md) we will set up user authentication.",
    "breadcrumb": "Creating an app",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/basics/generator.md",
    "heading": "Creating an app",
    "subHeadings": [
      "Generating the application",
      "Running the server and tests",
      "What's next?"
    ],
    "hasCode": true,
    "codeLanguages": [
      "sh",
      "text"
    ],
    "tokens": 700,
    "category": "guides",
    "tags": [
      "application",
      "get",
      "create",
      "authentication",
      "database",
      "mongodb",
      "rest",
      "http",
      "typescript",
      "types",
      "cli",
      "generate",
      "test"
    ],
    "embedding": [
      0.000938,
      0.005195,
      -0.047582,
      0.007091,
      -0.016162,
      -0.05953,
      -0.015191,
      0.002867,
      -0.007635,
      0.005851,
      -0.022368,
      0.002,
      -0.050812,
      0.006297,
      -0.017675,
      0.020851,
      -0.036532,
      -0.029543,
      -0.006187,
      -0.029597,
      -0.000907,
      -0.004588,
      0.048153,
      -0.019758,
      0.026136,
      0.010393,
      -0.017892,
      -0.038636,
      0.031566,
      -0.046993,
      0.010604,
      -0.007351,
      -0.040808,
      -0.045119,
      -0.017431,
      -0.00491,
      0.003957,
      0.035338,
      -0.025278,
      0.019696,
      0.014214,
      0.016249,
      0.018144,
      0.004685,
      -0.019572,
      -0.038137,
      0.021348,
      -0.003464,
      0.018767,
      -0.018242,
      -0.020526,
      0.041663,
      0.009748,
      -0.047134,
      0.078724,
      0.065984,
      -0.019873,
      0.003552,
      -0.066561,
      -0.006453,
      -0.029836,
      0.027216,
      -0.027841,
      0.006148,
      -0.001188,
      0.037612,
      -0.022413,
      -0.017747,
      -0.013342,
      -0.03361,
      -0.022445,
      0.026874,
      -0.027604,
      -0.01223,
      -0.061365,
      0.010663,
      0.02973,
      0.011509,
      -0.02779,
      0.007001,
      -0.008675,
      -0.013263,
      -0.010281,
      0.006534,
      0.017984,
      -0.030472,
      -0.054353,
      0.083443,
      0.056519,
      0.035655,
      0.004739,
      -0.022358,
      0.055019,
      -0.077118,
      -0.025182,
      0.017098,
      -0.014981,
      0.021825,
      -0.003005,
      0.005228,
      -0.027313,
      0.017091,
      -0.028665,
      -0.016602,
      0.028315,
      0.011216,
      0.01928,
      0.022748,
      -0.013892,
      -0.03839,
      0.00942,
      -0.025835,
      0.002142,
      -0.015312,
      0.002014,
      0.007063,
      0.002952,
      -0.026085,
      -0.025026,
      -0.012713,
      -0.005964,
      0.044919,
      0.054446,
      -0.037872,
      -0.03289,
      -0.006503,
      -0.005544,
      0.029446,
      -0.003291,
      0.029198,
      0.029632,
      -0.038835,
      -0.045396,
      -0.012306,
      0.013187,
      0.027291,
      0.011882,
      0.007009,
      -0.003509,
      -0.049601,
      0.005279,
      -0.003857,
      0.007919,
      -0.045508,
      0.033516,
      -0.0592,
      0.052525,
      0.008392,
      -0.043185,
      0.024801,
      0.022911,
      0.006529,
      0.005282,
      -0.071293,
      -0.006447,
      -0.033655,
      0.014339,
      -0.0153,
      0.050832,
      0.028193,
      -0.017838,
      0.037843,
      -0.049269,
      0.019009,
      0.067135,
      0.007739,
      0.009837,
      -0.054572,
      -0.020606,
      -0.029312,
      0.044891,
      -0.00935,
      0.014471,
      0.031181,
      0.02472,
      0.042848,
      0.014849,
      0.033601,
      -0.014853,
      -0.021956,
      -0.040372,
      0.01956,
      -0.052615,
      -0.032891,
      -0.039999,
      0.010416,
      -0.030032,
      -0.038418,
      0.004659,
      0.002737,
      0.000032,
      -0.025789,
      0.016916,
      -0.001962,
      0.00504,
      0.050505,
      0.030954,
      0.002151,
      0.000975,
      0.017133,
      0.018393,
      0.024279,
      0.062513,
      0.020403,
      -0.041304,
      -0.046782,
      -0.005099,
      -0.065527,
      0.023757,
      -0.057827,
      -0.000389,
      -0.030026,
      -0.011615,
      -0.006201,
      0.001919,
      -0.003018,
      -0.026961,
      0.024713,
      0.014266,
      -0.035284,
      0.005776,
      0.003907,
      0.001532,
      -0.018748,
      0.029393,
      -0.014117,
      0.036752,
      0.024861,
      0.001369,
      0.013087,
      -0.006685,
      0.050029,
      0.02147,
      -0.001364,
      -0.008222,
      -0.009748,
      -0.020878,
      0.0255,
      0.020129,
      0.003767,
      -0.019233,
      -0.031399,
      0.024932,
      -0.002157,
      -0.018866,
      -0.014301,
      0.016582,
      -0.006366,
      -0.017321,
      -0.025726,
      0.004705,
      0.004607,
      0.02172,
      -0.001205,
      -0.004857,
      -0.001319,
      0.052899,
      0.011463,
      -0.012927,
      -0.017176,
      0.006829,
      -0.004313,
      0.005091,
      0.029928,
      0.01021,
      -0.018857,
      -0.03093,
      -0.041615,
      0.01449,
      0.00916,
      0.016199,
      0.001563,
      0.025445,
      0.009133,
      -0.033038,
      0.023081,
      0.015907,
      -0.044427,
      0.08454,
      0.048956,
      0.002329,
      0.043309,
      0.031226,
      0.03113,
      0.013788,
      0.003384,
      0.011916,
      -0.019057,
      0.011929,
      -0.003912,
      -0.009704,
      -0.03244,
      0.037959,
      -0.01333,
      -0.006295,
      0.007283,
      -0.019275,
      -0.143479,
      -0.012676,
      0.011956,
      0.013049,
      -0.003156,
      0.041163,
      -0.042079,
      0.006924,
      -0.079582,
      0.021998,
      0.021741,
      -0.035913,
      -0.020682,
      0.026106,
      0.008283,
      0.010665,
      -0.03193,
      -0.017826,
      0.041405,
      -0.031931,
      -0.059609,
      -0.028728,
      0.022643,
      0.060599,
      0.020468,
      -0.010732,
      0.001531,
      0.03208,
      -0.041403,
      0.004865,
      -0.01247,
      -0.026826,
      0.000091,
      0.029099,
      -0.036716,
      -0.012039,
      -0.00764,
      0.000988,
      -0.016607,
      -0.012232,
      0.006792,
      0.07761,
      0.001308,
      -0.020793,
      0.044805,
      0.02099,
      0.015135,
      0.037494,
      -0.032729,
      -0.056806,
      0.040108,
      0.007506,
      0.002104,
      -0.003724,
      -0.025273,
      0.001266,
      0.00781,
      0.049771,
      0.007064,
      -0.020549,
      -0.002845,
      -0.007837,
      0.038653,
      -0.01241,
      -0.016156,
      -0.020042,
      -0.008396,
      0.035487,
      0.026694,
      -0.017163,
      0.051597,
      -0.026662,
      0.021205,
      0.01235,
      0.002172,
      -0.00183,
      -0.036566,
      -0.021317,
      -0.016905,
      -0.11018,
      -0.012922,
      0.015462,
      0.001373,
      0.000397,
      -0.007263,
      -0.038887,
      -0.045828,
      0.013978,
      0.040782,
      0.246081,
      0.020941,
      -0.015195,
      -0.005397,
      0.029593,
      -0.060368,
      0.022241,
      0.087714,
      0.009987,
      -0.020268,
      0.0487,
      -0.018248,
      -0.015887,
      -0.019204,
      -0.009036,
      -0.000946,
      -0.044839,
      0.017159,
      0.042912,
      -0.016566,
      0.02043,
      -0.049357,
      0.043784,
      0.039568,
      -0.077437,
      -0.050406,
      -0.016227,
      0.009372,
      -0.057001,
      -0.001945,
      -0.026053,
      0.017652,
      0.031442,
      -0.050983,
      -0.024822,
      0.014486,
      0.015319,
      -0.002486,
      -0.002943,
      -0.007983,
      -0.017433,
      -0.012105,
      0.034377,
      -0.032783,
      -0.000677,
      0.028992,
      0.015663,
      -0.012954,
      -0.020591,
      -0.066782,
      -0.023529,
      -0.01792,
      -0.01826,
      -0.019507,
      0.03139,
      -0.004569,
      0.010022,
      -0.0422,
      -0.005146,
      -0.012922,
      0.001261,
      0.015428,
      -0.067845,
      0.06005,
      -0.029272,
      0.006579,
      0.056,
      -0.053009,
      0.023937,
      0.027772,
      -0.005397,
      -0.016092,
      0.016012,
      -0.017559,
      -0.010731,
      0.013021,
      0.066621,
      0.036609,
      -0.018243,
      0.048515,
      -0.021328,
      0.011562,
      -0.017781,
      0.003878,
      0.008594,
      0.027774,
      -0.028894,
      0.025544,
      -0.007267,
      -0.006091,
      -0.015078,
      -0.004489,
      0.013791,
      0.029302,
      0.001909,
      0.018122,
      0.02596,
      -0.022006,
      -0.044048,
      -0.021141,
      -0.015771,
      0.016151,
      0.01869,
      0.001139,
      0.062338,
      -0.035411,
      0.024409,
      0.019171,
      0.037803,
      0.017547,
      -0.050865,
      0.019038,
      -0.027605,
      0.004598,
      0.019722,
      0.000566,
      0.073329,
      -0.000726,
      0.041518,
      -0.01732,
      0.013418,
      0.011542,
      -0.024801,
      0.01927,
      0.010395,
      -0.052844,
      0.015974,
      -0.01018,
      -0.041735,
      0.046262,
      0.050838,
      -0.042312,
      0.006773,
      0.032717,
      0.011032,
      0.000459,
      0.071847,
      0.012996,
      -0.012099,
      0.017111,
      -0.037371,
      -0.048395,
      -0.001637,
      0.035618,
      0.007543,
      0.039651,
      0.02595,
      -0.010531,
      0.013502,
      -0.015147,
      0.012651,
      0.033367,
      0.027566,
      -0.022019,
      -0.007854,
      -0.060011,
      -0.00935,
      0.051004,
      0.043595,
      -0.020201,
      -0.013913,
      0.01,
      0.036987,
      0.028224,
      0.025276,
      -0.057602,
      0.029927,
      0.045726,
      -0.00424,
      -0.063483,
      -0.030462,
      -0.061709,
      -0.036851,
      0.042734,
      -0.028924,
      -0.024958,
      -0.042028,
      -0.009621,
      0.004782,
      -0.044101,
      0.015086,
      0.021795,
      -0.006344,
      0.008201,
      0.005241,
      0.009248,
      -0.012042,
      -0.009063,
      0.017742,
      -0.000538,
      -0.050505,
      0.101572,
      0.016374,
      -0.000477,
      0.043636,
      -0.01528,
      0.051461,
      0.023617,
      -0.029183,
      0.002722,
      0.024767,
      -0.007197,
      -0.010637,
      -0.020887,
      -0.020836,
      -0.05314,
      -0.003008,
      0.038506,
      -0.044235,
      0.030735,
      -0.014092,
      0.028479,
      -0.02063,
      -0.020867,
      0.007665,
      -0.033845,
      0.041339,
      0.072065,
      -0.006159,
      0.057549,
      -0.031894,
      -0.046722,
      0.01294,
      -0.034787,
      -0.012349,
      -0.010302,
      0.036384,
      -0.019822,
      -0.013585,
      -0.007091,
      -0.010949,
      0.01481,
      -0.017949,
      -0.056578,
      -0.000693,
      -0.016251,
      0.024567,
      0.001988,
      0.000975,
      -0.040456,
      -0.016165,
      0.005741,
      0.104873,
      0.066807,
      -0.01783,
      0.052298,
      0.003293,
      0.008055,
      -0.043598,
      0.021774,
      -0.005439,
      -0.031703,
      -0.003763,
      -0.014679,
      0.016177,
      0.006501,
      0.028906,
      -0.018572,
      -0.025809,
      -0.010436,
      -0.002638,
      0.012731,
      -0.020066,
      0.00562,
      -0.019601,
      -0.023287,
      0.049941,
      -0.050343,
      -0.025058,
      0.004363,
      -0.044645,
      -0.005374,
      -0.002462,
      -0.027727,
      0.048682,
      0.003964,
      0.003443,
      0.009793,
      0.00083,
      -0.008268,
      -0.026956,
      0.002807,
      0.037174,
      -0.014598,
      0.029522,
      0.027454,
      0.046005,
      -0.008751,
      0.002505,
      -0.072524,
      -0.048543,
      0.009595,
      -0.058884,
      0.010128,
      -0.003151,
      -0.012073,
      -0.056059,
      0.002794,
      0.01421,
      -0.011733,
      -0.007204,
      0.024576,
      -0.006624,
      -0.035331,
      -0.02776,
      0.06376,
      -0.006107,
      -0.067152,
      0.031662,
      0.02023,
      0.033172,
      -0.029509,
      0.016478,
      0.029314,
      0.021416,
      -0.035164,
      0.035002,
      -0.037395,
      0.023769,
      -0.008446,
      0.02393,
      -0.007701,
      -0.013415,
      -0.013937,
      -0.023442,
      -0.014974,
      0.019521,
      -0.005636,
      -0.023247,
      -0.003769,
      -0.034719,
      -0.007643,
      0.02096,
      -0.012399,
      -0.03516,
      -0.02794,
      0.034073,
      -0.02551,
      0.025198,
      -0.043439,
      0.023155,
      0.012024,
      0.073119,
      -0.02493,
      0.033752,
      -0.052529,
      -0.009762,
      0.002668,
      -0.046913,
      -0.012993,
      -0.015323,
      0.004073,
      -0.019471,
      -0.039522,
      0.050953,
      -0.021696,
      -0.071793,
      0.018797,
      0.021861,
      -0.025422,
      -0.037876,
      0.05537,
      -0.002616,
      -0.018785,
      -0.001702,
      -0.009319,
      0.059288,
      -0.037501,
      -0.022859,
      -0.041256,
      -0.034258,
      -0.000023,
      -0.013467,
      0.00408,
      -0.019856,
      0.005053,
      -0.028558,
      0.012963,
      0.018351,
      -0.03533,
      -0.03553,
      0.012337,
      -0.028466,
      -0.033605,
      -0.014318,
      0.021596,
      -0.018919,
      0.03796,
      0.006368,
      -0.023066,
      0.007123,
      0.006525,
      -0.008135,
      0.002436,
      -0.131663,
      0.002488,
      0.009764,
      0.013975,
      0.003354,
      0.017712,
      0.00457,
      0.005929,
      0.004663,
      -0.01993,
      -0.030624,
      0.036187,
      0.056778,
      -0.033046,
      0.022241,
      0.021712,
      0.005178,
      0.013313,
      0.006971,
      0.000574,
      -0.002613,
      0.015817,
      0.029677,
      -0.012865,
      -0.022777,
      0.021103,
      -0.010499,
      0.015241,
      -0.002984,
      0.044556,
      -0.004629,
      -0.007907,
      0.002959,
      0.012611,
      -0.016949,
      -0.003669,
      -0.003707,
      0.013202,
      -0.022806,
      0.044256,
      -0.046289,
      0.004117,
      -0.045562,
      0.035811,
      0.026405,
      0.044719,
      -0.04421,
      -0.051036,
      -0.035461,
      0.008243,
      -0.004651,
      -0.004502,
      -0.007756,
      0.035096,
      -0.010592,
      0.005153,
      -0.038169,
      -0.026645,
      -0.068574,
      0.047215,
      -0.016945,
      0.058416,
      -0.021077,
      -0.02712,
      -0.014627,
      0.01394,
      -0.057568,
      0.039386,
      0.027103,
      0.03105,
      0.022137,
      -0.044251,
      -0.049975,
      0.017121,
      0.013407,
      0.014966,
      0.030232,
      -0.022209,
      -0.003355,
      0.011085,
      -0.022698,
      -0.005837,
      -0.066568,
      0.060105,
      0.045541,
      0.018874,
      0.01511,
      0.026399,
      -0.008632,
      -0.027628,
      -0.037992,
      -0.042441,
      0.006728,
      0.013888,
      -0.017286,
      0.079887,
      0.014863,
      -0.021059,
      -0.00814,
      -0.02458,
      -0.055711,
      0.04408,
      -0.00228,
      -0.023399,
      -0.016478,
      -0.009773,
      0.003184,
      -0.004776,
      0.007932,
      0.014887,
      0.045071,
      -0.015212,
      0.003801,
      -0.014772,
      -0.098963,
      -0.001204,
      -0.026512,
      0.007093,
      -0.050828,
      -0.013107,
      0.014917,
      0.013764,
      0.001617,
      -0.016719,
      0.031441,
      0.053721,
      0.015304,
      -0.022165,
      0.07145,
      -0.004729,
      -0.015617,
      -0.008864,
      0.004671,
      -0.014952,
      0.047386,
      -0.041773,
      -0.041206,
      0.052174,
      -0.058155,
      -0.001463,
      -0.050365,
      -0.006279,
      -0.009528,
      -0.009539,
      -0.021229,
      -0.046553,
      0.023119,
      0.007715,
      -0.001833,
      0.004328,
      0.010529,
      0.006213,
      -0.005478,
      0.042125,
      0.015311,
      0.061816,
      0.0028,
      0.008373,
      0.005452,
      0.063744,
      0.023913,
      -0.073223,
      0.011519,
      0.00014,
      -0.000618,
      -0.004596,
      0.00423,
      -0.02711,
      -0.053456,
      0.015611,
      0.004007,
      0.041866,
      -0.02009,
      -0.039933,
      0.047295,
      -0.005421,
      0.004382,
      -0.022972,
      0.028018,
      0.005448,
      0.020022,
      -0.005592,
      0.012035,
      0.034651,
      0.064621,
      0.027216,
      0.011877,
      -0.009359,
      0.025957,
      0.01306,
      0.008894,
      0.036618,
      0.037621,
      0.012056,
      0.010656,
      -0.005445,
      0.004773,
      -0.023975,
      0.020466,
      0.064692,
      -0.017893,
      -0.031641,
      -0.015354,
      -0.01219,
      -0.007949,
      -0.014206,
      -0.025173,
      0.006387,
      0.039072,
      0.032426,
      -0.041888,
      -0.00073,
      0.015842,
      0.014658,
      -0.007378,
      -0.000812,
      0.012186,
      0.026708,
      -0.031842,
      -0.017504,
      0.006004,
      0.030552,
      -0.014501,
      -0.044392,
      -0.027282,
      0.017245,
      -0.026343,
      -0.006149,
      0.001608,
      0.021241,
      0.004455,
      -0.057397,
      0.00015,
      0.021967,
      0.024803,
      -0.047991,
      0.006984,
      0.028498,
      0.003907,
      -0.017899,
      0.023125,
      0.015784,
      0.006923,
      -0.007321
    ]
  },
  {
    "id": "v5-hooks-0",
    "content": "# Hooks\nBreadcrumb: Hooks\nCovers: Generating a hook | Hook functions | Hook context | Registering hooks | What's next?\nTopics: hooks, services, application, context, params, provider, hook context, hook functions, find, get, create, update, patch, remove, authentication, jwt, schema, resolver, events, rest, http, transport, middleware, client, types, declarations, cli, generate, logging, logger, custom service, custom events\n\n## Generating a hook\n\nLet's generate a hook that logs the total runtime of a service method to the console.\n\n```sh\nnpx feathers generate hook\n```\n\nWe call our hook `log-runtime` and confirm the type with enter to make it an `around` hook.\n\n\nNow update `src/hooks/log-runtime.ts` as follows:\nNow update `src/hooks/log-runtime.js` as follows:\n\n```ts{2,5-10}\nimport type { HookContext, NextFunction } from '../declarations'\nimport { logger } from '../logger'\n\nexport const logRuntime = async (context: HookContext, next: NextFunction) => {\n  const startTime = Date.now()\n  // Run everything else (other hooks and service call)\n  await next()\n\n  const duration = Date.now() - startTime\n  logger.info(`Calling ${context.method} on ${context.path} took ${duration}ms`)\n}\n\n```\n\nIn this hook, we store the start time and then run all other hooks and the service method by calling `await next()`. After that we can calculate the duration in milliseconds by subtracting the start time from the current time and log the information using the application [logger](../cli/logger.md).\n\n## Hook functions\n\nA hook function is an `async` function that takes the [hook `context`](#hook-context) and a `next` function as the parameter. If the hook should only run on **error**, **before** or **after** the service method, it does not need a `next` function. However since we need to do both, get the start time before and the end time after, we created an `around` hook.\n\nHooks run in the order they are registered and if a hook function throws an error, all remaining hooks (and the service call if it didn't run yet) will be skipped and the error will be returned.\n\n## Hook context\n\nThe hook `context` is an object which contains information about the service method call. It has read-only and writable properties.\n\nRead-only properties are:\n\n- `context.app` - The Feathers application object. This commonly used to call other services\n- `context.service` - The service object this hook is currently running on\n- `context.path` - The path (name) of the service\n- `context.method` - The name of the service method being called\n- `context.type` - The hook type (around, before, etc)\n\nWriteable properties are:\n\n- `context.params` - The service method call `params`. For external calls, `params` usually contains:\n  - `context.params.query` - The query filter (e.g. from the REST query string) for the service call\n  - `context.params.provider` - The name of the transport the call has been made through. Usually `\"rest\"` or `\"socketio\"`. Will be `undefined` for internal calls.\n  - `context.params.user` - _If authenticated_, the data of the user making the service method call.\n- `context.id` - The `id` of the record if the service method call is a `get`, `remove`, `update` or `patch`\n- `context.data` - The `data` sent by the user in a `create`, `update` and `patch` and custom service method call\n- `context.error` - The error that was thrown (in `error` hooks)\n- `context.result` - The result of the service method call (available after calling `await next()` or in `after` hooks)\n\n> **tip:**\n> \n> For more information about the hook context see the [hooks API documentation](../../api/hooks.md).\n>\n\n## Registering hooks\n\nIn a Feathers application, hooks are being registered in the [&lt;servicename&gt;](../cli/service.md) file. The hook registration object is an object with `{ around, before, after, error }` and a list of hooks per method like `{ all: [], find: [], create: [] }`.\n\nTo log the runtime of our `messages` service calls we can update `src/services/messages/messages.ts` like this:\nTo log the runtime of all `messages` service calls we can update `src/services/messages/messages.js` like this:\n\n```ts{20,38}\n// For more information about this file see https://dove.feathersjs.com/guides/cli/service.html\nimport { authenticate } from '@feathersjs/authentication'\n\nimport { hooks as schemaHooks } from '@feathersjs/schema'\n\nimport {\n  messageDataValidator,\n  messagePatchValidator,\n  messageQueryValidator,\n  messageResolver,\n  messageExternalResolver,\n  messageDataResolver,\n  messagePatchResolver,\n  messageQueryResolver\n} from './messages.schema'\n\nimport type { Application } from '../../declarations'\nimport { MessageService, getOptions } from './messages.class'\nimport { messagePath, messageMethods } from './messages.shared'\nimport { logRuntime } from '../../hooks/log-runtime'\n\nexport * from './messages.class'\nexport * from './messages.schema'\n\n// A configure function that registers the service and its hooks via `app.configure`\nexport const message = (app: Application) => {\n  // Register our service on the Feathers application\n  app.use(messagePath, new MessageService(getOptions(app)), {\n    // A list of all methods this service exposes externally\n    methods: messageMethods,\n    // You can add additional custom events to be sent to clients here\n    events: []\n  })\n  // Initialize hooks\n  app.service(messagePath).hooks({\n    around: {\n      all: [\n        logRuntime,\n        authenticate('jwt'),\n        schemaHooks.resolveExternal(messageExternalResolver),\n        schemaHooks.resolveResult(messageResolver)\n      ]\n    },\n    before: {\n      all: [schemaHooks.validateQuery(messageQueryValidator), schemaHooks.resolveQuery(messageQueryResolver)],\n      find: [],\n      get: [],\n      create: [schemaHooks.validateData(messageDataValidator), schemaHooks.resolveData(messageDataResolver)],\n      patch: [schemaHooks.validateData(messagePatchValidator), schemaHooks.resolveData(messagePatchResolver)],\n      remove: []\n    },\n    after: {\n      all: []\n    },\n    error: {\n      all: []\n    }\n  })\n}\n\n// Add this service to the service type index\ndeclare module '../../declarations' {\n  interface ServiceTypes {\n    [messagePath]: MessageService\n  }\n}\n```\n\nNow every time our messages service is accessed successfully, the name, method and runtime will be logged.\n\n> **tip:**\n> \n> `all` is a special keyword which means those hooks will run before the method specific hooks. Method specific hooks can be registered based on their name, e.g. to only log the runtime for `find` and `get`:\n> \n> ```ts\n> app.service('messages').hooks({\n>   around: {\n>     all: [authenticate('jwt')],\n>     find: [logRuntime],\n>     get: [logRuntime]\n>   }\n>   // ...\n> })\n> ```\n>\n\n## What's next?\n\nIn this chapter we learned how Feathers hooks can be used as middleware for service method calls without having to change our service. Here we just logged the runtime of a service method to the console but you can imagine that hooks can be useful for many other things like more advanced logging, sending notifications or checking user permissions.\n\nYou may also have noticed above that there are already some hooks like `schemaHooks.validateQuery` or `schemaHooks.resolveResult` registered on our service. This brings us to the next chapter on how to define our data model with [schemas and resolvers](./schemas.md).",
    "rawContent": "## Generating a hook\n\nLet's generate a hook that logs the total runtime of a service method to the console.\n\n```sh\nnpx feathers generate hook\n```\n\nWe call our hook `log-runtime` and confirm the type with enter to make it an `around` hook.\n\n\nNow update `src/hooks/log-runtime.ts` as follows:\nNow update `src/hooks/log-runtime.js` as follows:\n\n```ts{2,5-10}\nimport type { HookContext, NextFunction } from '../declarations'\nimport { logger } from '../logger'\n\nexport const logRuntime = async (context: HookContext, next: NextFunction) => {\n  const startTime = Date.now()\n  // Run everything else (other hooks and service call)\n  await next()\n\n  const duration = Date.now() - startTime\n  logger.info(`Calling ${context.method} on ${context.path} took ${duration}ms`)\n}\n\n```\n\nIn this hook, we store the start time and then run all other hooks and the service method by calling `await next()`. After that we can calculate the duration in milliseconds by subtracting the start time from the current time and log the information using the application [logger](../cli/logger.md).\n\n## Hook functions\n\nA hook function is an `async` function that takes the [hook `context`](#hook-context) and a `next` function as the parameter. If the hook should only run on **error**, **before** or **after** the service method, it does not need a `next` function. However since we need to do both, get the start time before and the end time after, we created an `around` hook.\n\nHooks run in the order they are registered and if a hook function throws an error, all remaining hooks (and the service call if it didn't run yet) will be skipped and the error will be returned.\n\n## Hook context\n\nThe hook `context` is an object which contains information about the service method call. It has read-only and writable properties.\n\nRead-only properties are:\n\n- `context.app` - The Feathers application object. This commonly used to call other services\n- `context.service` - The service object this hook is currently running on\n- `context.path` - The path (name) of the service\n- `context.method` - The name of the service method being called\n- `context.type` - The hook type (around, before, etc)\n\nWriteable properties are:\n\n- `context.params` - The service method call `params`. For external calls, `params` usually contains:\n  - `context.params.query` - The query filter (e.g. from the REST query string) for the service call\n  - `context.params.provider` - The name of the transport the call has been made through. Usually `\"rest\"` or `\"socketio\"`. Will be `undefined` for internal calls.\n  - `context.params.user` - _If authenticated_, the data of the user making the service method call.\n- `context.id` - The `id` of the record if the service method call is a `get`, `remove`, `update` or `patch`\n- `context.data` - The `data` sent by the user in a `create`, `update` and `patch` and custom service method call\n- `context.error` - The error that was thrown (in `error` hooks)\n- `context.result` - The result of the service method call (available after calling `await next()` or in `after` hooks)\n\n> **tip:**\n> \n> For more information about the hook context see the [hooks API documentation](../../api/hooks.md).\n>\n\n## Registering hooks\n\nIn a Feathers application, hooks are being registered in the [&lt;servicename&gt;](../cli/service.md) file. The hook registration object is an object with `{ around, before, after, error }` and a list of hooks per method like `{ all: [], find: [], create: [] }`.\n\nTo log the runtime of our `messages` service calls we can update `src/services/messages/messages.ts` like this:\nTo log the runtime of all `messages` service calls we can update `src/services/messages/messages.js` like this:\n\n```ts{20,38}\n// For more information about this file see https://dove.feathersjs.com/guides/cli/service.html\nimport { authenticate } from '@feathersjs/authentication'\n\nimport { hooks as schemaHooks } from '@feathersjs/schema'\n\nimport {\n  messageDataValidator,\n  messagePatchValidator,\n  messageQueryValidator,\n  messageResolver,\n  messageExternalResolver,\n  messageDataResolver,\n  messagePatchResolver,\n  messageQueryResolver\n} from './messages.schema'\n\nimport type { Application } from '../../declarations'\nimport { MessageService, getOptions } from './messages.class'\nimport { messagePath, messageMethods } from './messages.shared'\nimport { logRuntime } from '../../hooks/log-runtime'\n\nexport * from './messages.class'\nexport * from './messages.schema'\n\n// A configure function that registers the service and its hooks via `app.configure`\nexport const message = (app: Application) => {\n  // Register our service on the Feathers application\n  app.use(messagePath, new MessageService(getOptions(app)), {\n    // A list of all methods this service exposes externally\n    methods: messageMethods,\n    // You can add additional custom events to be sent to clients here\n    events: []\n  })\n  // Initialize hooks\n  app.service(messagePath).hooks({\n    around: {\n      all: [\n        logRuntime,\n        authenticate('jwt'),\n        schemaHooks.resolveExternal(messageExternalResolver),\n        schemaHooks.resolveResult(messageResolver)\n      ]\n    },\n    before: {\n      all: [schemaHooks.validateQuery(messageQueryValidator), schemaHooks.resolveQuery(messageQueryResolver)],\n      find: [],\n      get: [],\n      create: [schemaHooks.validateData(messageDataValidator), schemaHooks.resolveData(messageDataResolver)],\n      patch: [schemaHooks.validateData(messagePatchValidator), schemaHooks.resolveData(messagePatchResolver)],\n      remove: []\n    },\n    after: {\n      all: []\n    },\n    error: {\n      all: []\n    }\n  })\n}\n\n// Add this service to the service type index\ndeclare module '../../declarations' {\n  interface ServiceTypes {\n    [messagePath]: MessageService\n  }\n}\n```\n\nNow every time our messages service is accessed successfully, the name, method and runtime will be logged.\n\n> **tip:**\n> \n> `all` is a special keyword which means those hooks will run before the method specific hooks. Method specific hooks can be registered based on their name, e.g. to only log the runtime for `find` and `get`:\n> \n> ```ts\n> app.service('messages').hooks({\n>   around: {\n>     all: [authenticate('jwt')],\n>     find: [logRuntime],\n>     get: [logRuntime]\n>   }\n>   // ...\n> })\n> ```\n>\n\n## What's next?\n\nIn this chapter we learned how Feathers hooks can be used as middleware for service method calls without having to change our service. Here we just logged the runtime of a service method to the console but you can imagine that hooks can be useful for many other things like more advanced logging, sending notifications or checking user permissions.\n\nYou may also have noticed above that there are already some hooks like `schemaHooks.validateQuery` or `schemaHooks.resolveResult` registered on our service. This brings us to the next chapter on how to define our data model with [schemas and resolvers](./schemas.md).",
    "breadcrumb": "Hooks",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/basics/hooks.md",
    "heading": "Hooks",
    "subHeadings": [
      "Generating a hook",
      "Hook functions",
      "Hook context",
      "Registering hooks",
      "What's next?"
    ],
    "hasCode": true,
    "codeLanguages": [
      "sh",
      "text",
      "ts"
    ],
    "tokens": 1729,
    "category": "guides",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "provider",
      "hook context",
      "hook functions",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "authentication",
      "jwt",
      "schema",
      "resolver",
      "events",
      "rest",
      "http",
      "transport",
      "middleware",
      "client",
      "types",
      "declarations",
      "cli",
      "generate",
      "logging",
      "logger",
      "custom service",
      "custom events"
    ],
    "embedding": [
      0.020914,
      0.012211,
      -0.066709,
      0.033446,
      -0.011672,
      -0.036567,
      -0.022272,
      0.027144,
      -0.016276,
      0.004317,
      -0.00903,
      0.013713,
      0.000516,
      0.014656,
      0.00465,
      0.012298,
      -0.027229,
      -0.037036,
      0.012639,
      -0.033653,
      -0.040446,
      0.007474,
      0.016971,
      0.010286,
      0.04999,
      0.018713,
      -0.041745,
      -0.04015,
      0.020975,
      -0.007056,
      0.030381,
      0.011883,
      -0.035452,
      -0.025687,
      -0.049495,
      -0.018294,
      -0.023957,
      0.019212,
      -0.026943,
      0.036275,
      -0.016301,
      0.008099,
      -0.015679,
      0.00368,
      0.031413,
      -0.028886,
      -0.002666,
      -0.004143,
      -0.005932,
      -0.016413,
      -0.016792,
      0.005051,
      0.036443,
      -0.050901,
      0.051578,
      0.045253,
      -0.041183,
      -0.022497,
      -0.054377,
      -0.000114,
      -0.025586,
      0.041273,
      -0.023658,
      0.016548,
      -0.015228,
      0.045857,
      -0.013087,
      -0.010305,
      -0.018176,
      -0.025595,
      0.009162,
      0.020727,
      -0.018096,
      -0.017137,
      -0.060165,
      0.044914,
      0.025166,
      -0.008401,
      -0.009373,
      0.014398,
      -0.028339,
      -0.02569,
      0.002246,
      0.011141,
      0.02102,
      -0.007156,
      -0.044037,
      0.01906,
      0.004722,
      0.000323,
      0.014326,
      -0.017802,
      0.036165,
      -0.030764,
      -0.010503,
      0.010035,
      -0.045249,
      -0.002836,
      -0.002159,
      0.016221,
      -0.006754,
      0.006594,
      0.020828,
      -0.025195,
      0.026095,
      0.044848,
      0.016357,
      0.006743,
      0.011337,
      -0.038873,
      0.03646,
      -0.036543,
      0.006139,
      0.021312,
      0.003483,
      -0.025125,
      -0.001199,
      0.006048,
      -0.032003,
      -0.02348,
      -0.002656,
      0.046425,
      0.045047,
      0.008878,
      -0.033901,
      0.011364,
      0.011346,
      0.046988,
      -0.004372,
      0.016999,
      0.003182,
      -0.006601,
      -0.016856,
      0.039528,
      -0.046452,
      0.012544,
      0.015005,
      -0.018718,
      0.002367,
      -0.027439,
      0.038527,
      0.023787,
      -0.049797,
      -0.011862,
      0.017801,
      -0.037291,
      0.037602,
      0.03279,
      -0.001072,
      -0.001067,
      0.033888,
      0.018412,
      0.012858,
      -0.031607,
      -0.008084,
      -0.030083,
      0.017117,
      0.037461,
      0.03257,
      0.019077,
      0.004259,
      0.015177,
      -0.037869,
      -0.008341,
      0.048004,
      -0.028176,
      -0.0101,
      -0.056734,
      -0.017326,
      -0.005972,
      0.022153,
      -0.029081,
      0.043692,
      0.008217,
      0.013596,
      0.033259,
      0.063736,
      0.02088,
      -0.000981,
      -0.015112,
      -0.080514,
      0.028525,
      -0.009937,
      -0.062498,
      -0.030391,
      0.018652,
      0.006391,
      -0.01139,
      -0.014599,
      0.029326,
      -0.019969,
      0.006701,
      0.041349,
      0.026426,
      -0.016048,
      0.006955,
      0.044595,
      0.023659,
      0.033996,
      -0.002469,
      0.004376,
      0.037658,
      0.026706,
      0.015002,
      -0.05042,
      -0.032812,
      -0.037371,
      -0.056097,
      0.020846,
      -0.038602,
      0.020379,
      0.023378,
      -0.007991,
      -0.032505,
      -0.006449,
      0.019438,
      -0.010721,
      -0.015298,
      0.002165,
      -0.04494,
      0.002149,
      0.035014,
      0.011555,
      0.003442,
      0.001957,
      0.011738,
      0.015522,
      0.024772,
      0.005547,
      0.00392,
      0.021073,
      0.037686,
      0.04586,
      -0.05268,
      -0.000605,
      -0.007346,
      -0.021434,
      0.004254,
      0.019472,
      0.012557,
      -0.022831,
      -0.005205,
      0.056737,
      -0.022384,
      -0.026789,
      -0.004505,
      0.074212,
      0.015637,
      -0.031472,
      -0.018784,
      0.00242,
      -0.015087,
      -0.008814,
      0.019705,
      0.037418,
      -0.000459,
      0.008972,
      0.007432,
      -0.013681,
      -0.051624,
      -0.017589,
      0.028019,
      0.025147,
      -0.000044,
      0.026994,
      0.002721,
      -0.040029,
      -0.06761,
      -0.010418,
      0.01023,
      -0.005977,
      -0.007283,
      0.068305,
      -0.000075,
      -0.033847,
      -0.008737,
      0.006455,
      -0.041821,
      0.063436,
      -0.018293,
      0.014921,
      -0.006595,
      0.042795,
      0.053871,
      -0.000454,
      0.036967,
      -0.01475,
      -0.003255,
      0.036804,
      -0.006499,
      0.027979,
      -0.017632,
      0.053453,
      -0.019241,
      -0.037274,
      0.02303,
      -0.005974,
      -0.15821,
      -0.016607,
      0.004738,
      -0.002621,
      0.027971,
      0.021629,
      -0.065081,
      -0.021536,
      -0.033149,
      0.052621,
      0.00366,
      -0.056565,
      -0.003408,
      -0.0104,
      0.017496,
      0.005719,
      -0.018904,
      -0.014574,
      0.031568,
      -0.029696,
      -0.018415,
      -0.032694,
      0.047121,
      0.015353,
      -0.025565,
      -0.006001,
      0.024983,
      -0.009809,
      -0.027672,
      -0.022989,
      0.002453,
      -0.008664,
      0.002508,
      0.003741,
      0.000584,
      -0.017044,
      0.034479,
      0.012035,
      -0.006819,
      0.003307,
      0.01632,
      0.035716,
      0.012234,
      0.022618,
      -0.005812,
      -0.031904,
      0.056972,
      0.031184,
      -0.035226,
      -0.034097,
      0.009864,
      -0.008471,
      0.011868,
      0.010045,
      -0.030112,
      -0.016568,
      0.025041,
      0.049343,
      -0.026709,
      0.01758,
      -0.039821,
      -0.005104,
      0.043581,
      0.001728,
      -0.007303,
      -0.020814,
      -0.001196,
      0.003679,
      -0.00016,
      -0.027866,
      0.049144,
      -0.05508,
      0.003023,
      0.002677,
      0.00896,
      -0.00868,
      0.010993,
      -0.003007,
      -0.029202,
      -0.115902,
      -0.055391,
      0.021002,
      -0.00944,
      0.025071,
      -0.017197,
      0.01199,
      -0.025178,
      -0.01757,
      0.032783,
      0.252149,
      0.004419,
      -0.015761,
      0.010728,
      0.091214,
      -0.019904,
      -0.009139,
      0.078808,
      0.010338,
      -0.036606,
      -0.020112,
      0.000271,
      0.006906,
      -0.014273,
      -0.026677,
      0.003011,
      -0.048263,
      0.014228,
      0.065234,
      -0.002669,
      0.040843,
      0.000641,
      0.025426,
      0.012206,
      -0.091518,
      -0.021807,
      -0.007443,
      0.000548,
      -0.041656,
      0.000662,
      -0.01237,
      0.016688,
      0.017407,
      -0.039812,
      -0.059222,
      -0.004767,
      -0.008921,
      -0.003902,
      -0.026433,
      -0.010091,
      -0.007201,
      0.000071,
      0.035557,
      -0.006457,
      -0.021343,
      -0.021729,
      -0.0368,
      0.000019,
      -0.039722,
      -0.024303,
      -0.019782,
      0.030078,
      0.001923,
      -0.021162,
      0.012225,
      -0.023415,
      0.022086,
      -0.013169,
      0.016444,
      0.012724,
      0.040973,
      0.006316,
      -0.035009,
      0.026731,
      -0.025079,
      0.028791,
      0.012964,
      -0.064256,
      0.009164,
      0.087979,
      -0.002381,
      -0.009662,
      0.023192,
      -0.011501,
      -0.009583,
      -0.020826,
      0.050092,
      0.050092,
      -0.029741,
      0.045475,
      -0.029387,
      0.000875,
      0.002167,
      0.016835,
      0.018877,
      0.010421,
      -0.033242,
      0.043099,
      -0.003481,
      -0.022012,
      -0.036173,
      -0.000962,
      -0.01918,
      0.005546,
      -0.026342,
      0.046807,
      0.029583,
      -0.01299,
      -0.020641,
      -0.024586,
      0.047525,
      0.004554,
      0.018589,
      0.007713,
      0.069663,
      0.006164,
      -0.041745,
      0.021656,
      0.025033,
      0.016886,
      -0.026514,
      -0.008564,
      0.044832,
      -0.039646,
      0.022488,
      0.015923,
      0.069762,
      0.02097,
      0.039586,
      0.023884,
      0.008061,
      0.014407,
      -0.013735,
      -0.016928,
      0.023048,
      -0.05209,
      -0.013377,
      -0.038476,
      -0.009614,
      0.058905,
      0.02649,
      -0.035225,
      0.005002,
      0.052921,
      0.034961,
      0.059085,
      0.041021,
      0.032837,
      -0.019509,
      0.019909,
      0.011361,
      -0.009631,
      -0.001985,
      0.012673,
      0.001234,
      0.013802,
      -0.023167,
      0.00927,
      -0.034276,
      0.010116,
      0.037736,
      0.068816,
      0.01688,
      -0.05314,
      -0.036166,
      -0.037323,
      0.002061,
      0.010866,
      0.018626,
      -0.012952,
      -0.041667,
      0.000963,
      0.007865,
      0.034029,
      0.006083,
      -0.050353,
      0.049725,
      0.005326,
      0.006662,
      -0.041096,
      -0.019682,
      -0.074139,
      -0.036758,
      0.018241,
      -0.025919,
      -0.026251,
      -0.054687,
      0.004362,
      -0.010885,
      -0.017731,
      0.021188,
      0.041123,
      -0.001054,
      0.000234,
      0.012617,
      0.011016,
      -0.009165,
      -0.0159,
      0.008863,
      -0.025434,
      -0.033154,
      0.127662,
      0.027557,
      -0.013565,
      0.056885,
      -0.044772,
      0.045439,
      0.020742,
      -0.001489,
      -0.028452,
      -0.018428,
      0.000609,
      -0.028269,
      0.061021,
      -0.028484,
      -0.023372,
      0.037514,
      0.031401,
      -0.082197,
      0.065447,
      0.016246,
      -0.003944,
      -0.009304,
      -0.020425,
      -0.008275,
      -0.033205,
      0.047083,
      0.067277,
      0.017899,
      -0.0317,
      -0.027001,
      -0.017357,
      0.028775,
      -0.007327,
      0.03189,
      -0.008781,
      0.022989,
      -0.000518,
      0.004879,
      -0.010009,
      0.001346,
      0.006018,
      0.007425,
      -0.039179,
      0.009225,
      -0.010698,
      0.017105,
      0.001913,
      -0.009525,
      -0.017051,
      0.032957,
      0.060378,
      0.063636,
      0.018705,
      -0.007516,
      0.016314,
      0.005233,
      -0.038874,
      -0.03262,
      0.031397,
      -0.013307,
      -0.011205,
      0.014539,
      -0.01769,
      0.004259,
      0.0391,
      0.010085,
      -0.032063,
      -0.01144,
      -0.019208,
      0.030173,
      0.003867,
      -0.014287,
      -0.001743,
      -0.013323,
      -0.029706,
      0.02393,
      -0.012169,
      -0.031857,
      0.018544,
      -0.049241,
      -0.029758,
      -0.003234,
      -0.064977,
      0.015667,
      0.000435,
      -0.044116,
      -0.015513,
      0.009764,
      -0.007236,
      -0.05322,
      0.004479,
      0.050618,
      -0.002904,
      -0.01603,
      0.029823,
      -0.001218,
      -0.003902,
      0.021121,
      -0.049162,
      0.010104,
      -0.007791,
      -0.039522,
      -0.011506,
      -0.03844,
      -0.003333,
      -0.009567,
      0.023143,
      -0.010703,
      0.005507,
      -0.012924,
      0.023432,
      0.005804,
      -0.026969,
      0.001578,
      0.015487,
      -0.037403,
      -0.070761,
      0.018567,
      0.021214,
      0.004826,
      -0.035219,
      0.016581,
      0.036912,
      0.055181,
      -0.001035,
      0.05732,
      -0.032692,
      0.002825,
      -0.039516,
      -0.008984,
      -0.011247,
      -0.046346,
      -0.012785,
      -0.008919,
      -0.015402,
      0.004485,
      -0.024383,
      -0.052238,
      0.009096,
      -0.046035,
      -0.037813,
      -0.016229,
      -0.014441,
      -0.047696,
      0.004838,
      0.042916,
      -0.051349,
      -0.012938,
      -0.046425,
      0.002243,
      0.019517,
      0.078233,
      -0.03516,
      0.034822,
      -0.039591,
      -0.009941,
      -0.021988,
      0.035407,
      0.015864,
      -0.027393,
      0.00968,
      -0.027262,
      -0.04401,
      0.027821,
      0.006153,
      -0.026914,
      -0.006941,
      0.031273,
      -0.014345,
      -0.020782,
      0.078869,
      -0.015466,
      -0.025423,
      0.047405,
      0.001435,
      0.041759,
      -0.047789,
      0.016213,
      -0.030633,
      -0.008218,
      -0.033774,
      -0.001403,
      -0.021632,
      -0.024606,
      -0.000224,
      -0.013394,
      0.038172,
      0.00497,
      -0.03402,
      -0.049312,
      -0.013816,
      -0.02754,
      0.005854,
      -0.051556,
      -0.012317,
      -0.01173,
      0.017215,
      0.019789,
      -0.007564,
      -0.027379,
      0.00476,
      -0.025175,
      0.024928,
      -0.146698,
      0.023057,
      0.007813,
      -0.001908,
      0.010637,
      0.023413,
      0.011532,
      -0.020183,
      0.002423,
      -0.033547,
      -0.016287,
      -0.007339,
      0.026237,
      -0.050454,
      -0.018154,
      0.037657,
      -0.03025,
      0.003623,
      0.009048,
      -0.034498,
      0.012285,
      0.008265,
      0.01215,
      -0.029076,
      0.004397,
      0.021936,
      -0.039733,
      -0.014445,
      -0.029712,
      0.006231,
      -0.040017,
      -0.018856,
      -0.006729,
      0.013301,
      0.004369,
      0.02684,
      0.006366,
      0.005328,
      -0.036415,
      0.004492,
      -0.040045,
      0.032389,
      -0.043873,
      0.039398,
      0.035435,
      0.015074,
      -0.026442,
      -0.047466,
      0.001066,
      -0.018693,
      -0.00481,
      0.027802,
      0.045871,
      0.053451,
      -0.003294,
      0.033027,
      -0.042767,
      -0.000821,
      -0.063679,
      0.0223,
      -0.031005,
      0.048124,
      -0.049691,
      -0.032825,
      -0.013399,
      -0.000151,
      -0.010051,
      0.046606,
      0.008396,
      -0.002988,
      0.011604,
      -0.019057,
      -0.069312,
      0.001944,
      0.045608,
      -0.00883,
      0.062432,
      -0.006377,
      -0.033756,
      0.026872,
      -0.029957,
      -0.025524,
      -0.077442,
      0.094288,
      0.034772,
      0.033525,
      0.037945,
      0.049447,
      -0.016413,
      -0.016785,
      -0.024383,
      -0.015704,
      0.012513,
      0.032106,
      -0.00967,
      0.025394,
      -0.018099,
      -0.003324,
      0.011028,
      -0.022224,
      -0.0368,
      0.02293,
      0.012162,
      0.022638,
      -0.027702,
      -0.012176,
      -0.000546,
      0.023456,
      -0.007503,
      0.001154,
      0.007458,
      -0.030667,
      -0.035866,
      0.015849,
      -0.075283,
      -0.013058,
      -0.004289,
      0.017267,
      0.00382,
      0.022105,
      0.01727,
      -0.02117,
      0.001157,
      -0.019083,
      0.004923,
      0.02848,
      0.050855,
      0.024681,
      0.004346,
      0.002629,
      0.020511,
      -0.068761,
      -0.001965,
      0.015146,
      0.045432,
      -0.047971,
      -0.081179,
      0.052405,
      -0.023932,
      0.003136,
      0.006407,
      0.010717,
      0.007298,
      -0.006541,
      -0.02544,
      -0.058136,
      0.00361,
      -0.000362,
      0.007457,
      -0.010566,
      0.002702,
      0.009004,
      0.003673,
      0.076516,
      0.000865,
      0.041061,
      -0.026041,
      0.029866,
      -0.075954,
      0.054025,
      -0.015366,
      -0.043903,
      -0.03062,
      -0.040402,
      0.000753,
      0.028177,
      -0.017247,
      -0.018202,
      -0.033705,
      -0.001497,
      -0.006913,
      0.056974,
      -0.03254,
      0.004242,
      0.009644,
      0.026889,
      0.011854,
      0.00344,
      0.058157,
      -0.040683,
      0.042669,
      -0.008487,
      0.019218,
      -0.018428,
      -0.002892,
      0.006198,
      0.006998,
      0.030315,
      0.037907,
      -0.014691,
      -0.024005,
      0.019094,
      0.021094,
      0.015991,
      0.011728,
      -0.016163,
      0.014244,
      -0.011644,
      0.014358,
      0.07333,
      -0.019696,
      -0.016698,
      -0.023083,
      -0.040204,
      -0.019225,
      0.028172,
      -0.016006,
      0.008404,
      -0.017493,
      0.005179,
      -0.030476,
      0.006132,
      0.020072,
      0.012067,
      0.007515,
      0.017595,
      0.040632,
      0.014838,
      -0.00983,
      -0.027874,
      0.028698,
      0.02752,
      -0.029909,
      -0.051726,
      -0.041773,
      -0.005095,
      -0.029238,
      -0.028233,
      0.01174,
      0.015994,
      -0.018569,
      -0.032327,
      -0.010406,
      0.03879,
      -0.022923,
      -0.010921,
      0.00716,
      0.041158,
      -0.037363,
      -0.010488,
      0.052588,
      0.013321,
      -0.004996,
      -0.014403
    ]
  },
  {
    "id": "v5-login-0",
    "content": "# Logging in\nBreadcrumb: Logging in\nCovers: Registering a user | Logging in | Login with GitHub | What's next?\nTopics: services, application, params, provider, find, get, create, update, authentication, authorization, jwt, oauth, google, facebook, github, database, mongodb, collection, websockets, socket.io, rest, http, client, configuration, environment variables, types, declarations, cli, logging, login, users\n\n## Registering a user\n\nThe HTTP REST API can be used directly to register a new user. We can do this by sending a POST request to `http://localhost:3030/users` with JSON data like this as the body:\n\n```js\n// POST /users\n{\n  \"email\": \"hello@feathersjs.com\",\n  \"password\": \"supersecret\"\n}\n```\n\nTry it:\n\n```sh\ncurl 'http://localhost:3030/users/' \\\n  -H 'Content-Type: application/json' \\\n  --data-binary '{ \"email\": \"hello@feathersjs.com\", \"password\": \"supersecret\" }'\n```\n\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/6bcea48aac6c7494c2ad)\n\n> **info:**\n> \n> For SQL databases, creating a user with the same email address will only work once, then fail since it already exists. With the default database selection, you can reset your database by removing the `feathers-chat.sqlite` file and running `npm run migrate` to initialise it again.\n> \n\nThis will return something like this:\n\n<DatabaseBlock global-id=\"sql\">\n\n```json\n{\n  \"id\": 123,\n  \"email\": \"hello@feathersjs.com\",\n  \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n```json\n{\n  \"_id\": \"63c00098502debdeec31bd77\",\n  \"email\": \"hello@feathersjs.com\",\n  \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n}\n```\n\n</DatabaseBlock>\n\nWhich means our user has been created successfully.\n\n> **info:**\n> \n> The password has been hashed and stored securely in the database but will never be included in an external response.\n>\n\n## Logging in\n\nBy default, Feathers uses [JSON Web Tokens](https://jwt.io/) for authentication. It is an access token that is issued by the Feathers server for a limited time (one day by default) and needs to be sent with every API request that requires authentication. Usually a token is issued for a specific user. Let's see if we can issue a JWT for the user that we just created.\n\n> **tip:**\n> \n> If you are wondering why Feathers is using JWT for authentication, have a look at [this FAQ](../../help/faq.md#why-are-you-using-jwt-for-sessions).\n> \n\nTokens can be created by sending a POST request to the `/authentication` endpoint (which is the same as calling the `create` method on the `authentication` service set up in `src/authentication`) and passing the authentication strategy you want to use along with any other relevant data. To get a JWT for an existing user through a username (email) and password login, we can use the built-in `local` authentication strategy with a request like this:\n\n```js\n// POST /authentication\n{\n  \"strategy\": \"local\",\n  \"email\": \"hello@feathersjs.com\",\n  \"password\": \"supersecret\"\n}\n```\n\nTry it:\n\n```sh\ncurl 'http://localhost:3030/authentication/' \\\n  -H 'Content-Type: application/json' \\\n  --data-binary '{ \"strategy\": \"local\", \"email\": \"hello@feathersjs.com\", \"password\": \"supersecret\" }'\n```\n\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/6bcea48aac6c7494c2ad)\n\nThis will return something like this:\n\n<DatabaseBlock global-id=\"sql\">\n\n```json\n{\n  \"accessToken\": \"<JWT for this user>\",\n  \"authentication\": {\n    \"strategy\": \"local\"\n  },\n  \"user\": {\n    \"id\": 123,\n    \"email\": \"hello@feathersjs.com\",\n    \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n  }\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n```json\n{\n  \"accessToken\": \"<JWT for this user>\",\n  \"authentication\": {\n    \"strategy\": \"local\"\n  },\n  \"user\": {\n    \"_id\": \"63c00098502debdeec31bd77\",\n    \"email\": \"hello@feathersjs.com\",\n    \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n  }\n}\n```\n\n</DatabaseBlock>\n\nThe `accessToken` can now be used for other REST requests that require authentication by sending the `Authorization: Bearer <accessToken>` HTTP header. For example to create a new message:\n\n```sh\ncurl 'http://localhost:3030/messages/' \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Bearer <accessToken>' \\\n  --data-binary '{ \"text\": \"Hello from the console\" }'\n```\n\n> **tip:**\n> \n> Make sure to replace the `<accessToken>` in the above request. For more information about the direct usage of the REST API see the [REST client API](../../api/client/rest.md) and for websockets the [Socket.io client API](../../api/client/socketio.md).\n> \n\nThat's pretty neat, but emails and passwords are boring, let's spice things up a bit.\n\n## Login with GitHub\n\nOAuth is an open authentication standard supported by almost every major social platform and what gets us the log in with Facebook, Google, GitHub etc. buttons. From the Feathers perspective, the authentication flow with OAuth is pretty similar. Instead of authenticating with the `local` strategy by sending a username and password, Feathers directs the user to authorize the application with the login provider. If it is successful, Feathers authentication finds or creates the user in the `users` service with the information it got back from the provider and then issues a token for them.\n\nTo allow login with GitHub, we first have to [create a new OAuth application on GitHub](https://github.com/settings/applications/new). You can put anything in the name, homepage and description fields. The callback URL **must** be set to\n\n```sh\nhttp://localhost:3030/oauth/github/callback\n```\n\n\n> **info:**\n> \n> You can find your existing applications in the [GitHub OAuth apps developer settings](https://github.com/settings/developers).\n> \n\nOnce you've clicked \"Register application\", we need to update our Feathers app configuration with the client id and secret copied from the GitHub application settings.\n\nFind the `authentication` section in `config/default.json` replace the `<Client ID>` and `<Client Secret>` in the `github` section with the proper values:\n\n```js\n{\n  \"authentication\": {\n    \"oauth\": {\n      \"github\": {\n        \"key\": \"<Client ID>\",\n        \"secret\": \"<Client Secret>\"\n      }\n    },\n    // Other authentication configuration is here\n    // ...\n  }\n}\n```\n\n> **note:**\n> \n> In a production environment you would set those values as [custom environment variables](../cli/custom-environment-variables.md).\n> \n\nThis tells the OAuth strategy to redirect back to our index page after a successful login and already makes a basic login with GitHub possible. Because of the changes we made in the `users` service in the [services chapter](./services.md) we do need a small customization though. Instead of only adding `githubId` to a new user when they log in with GitHub we also include their email and the avatar image from the profile we get back. We can do this by extending the standard OAuth strategy and registering it as a GitHub specific one and overwriting the `getEntityData` method:\n\nUpdate `src/authentication.ts` as follows:\n\n```ts{1,5,14-26,33}\nimport type { Params } from '@feathersjs/feathers'\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport { oauth, OAuthStrategy } from '@feathersjs/authentication-oauth'\nimport type { OAuthProfile } from '@feathersjs/authentication-oauth'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nclass GitHubStrategy extends OAuthStrategy {\n  async getEntityData(profile: OAuthProfile, existing: any, params: Params) {\n    const baseData = await super.getEntityData(profile, existing, params)\n\n    return {\n      ...baseData,\n      // The GitHub profile image\n      avatar: profile.avatar_url,\n      // The user email address (if available)\n      email: profile.email || profile.login\n    }\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n  authentication.register('local', new LocalStrategy())\n  authentication.register('github', new GitHubStrategy())\n\n  app.use('authentication', authentication)\n  app.configure(oauth())\n}\n```\n\n> **info:**\n> \n> For more information about the OAuth flow and strategy see the [OAuth API documentation](../../api/authentication/oauth.md).\n> \n\nTo log in with GitHub, visit\n\n```\nhttp://localhost:3030/oauth/github\n```\n\nIt will redirect to GitHub and ask to authorize our application. If everything went well, we get redirected to our homepage with the Feathers logo with the token information in the location hash. This will be used by the Feathers authentication client to authenticate our user.\n\n## What's next?\n\nSweet! We now have an API that can register new users with email/password and GitHub. This means we have everything we need for a frontend for our chat application. See the [JavaScript frontend guide](../frontend/javascript.md) on how to create a plain JavaScript chat application.",
    "rawContent": "## Registering a user\n\nThe HTTP REST API can be used directly to register a new user. We can do this by sending a POST request to `http://localhost:3030/users` with JSON data like this as the body:\n\n```js\n// POST /users\n{\n  \"email\": \"hello@feathersjs.com\",\n  \"password\": \"supersecret\"\n}\n```\n\nTry it:\n\n```sh\ncurl 'http://localhost:3030/users/' \\\n  -H 'Content-Type: application/json' \\\n  --data-binary '{ \"email\": \"hello@feathersjs.com\", \"password\": \"supersecret\" }'\n```\n\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/6bcea48aac6c7494c2ad)\n\n> **info:**\n> \n> For SQL databases, creating a user with the same email address will only work once, then fail since it already exists. With the default database selection, you can reset your database by removing the `feathers-chat.sqlite` file and running `npm run migrate` to initialise it again.\n> \n\nThis will return something like this:\n\n<DatabaseBlock global-id=\"sql\">\n\n```json\n{\n  \"id\": 123,\n  \"email\": \"hello@feathersjs.com\",\n  \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n```json\n{\n  \"_id\": \"63c00098502debdeec31bd77\",\n  \"email\": \"hello@feathersjs.com\",\n  \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n}\n```\n\n</DatabaseBlock>\n\nWhich means our user has been created successfully.\n\n> **info:**\n> \n> The password has been hashed and stored securely in the database but will never be included in an external response.\n>\n\n## Logging in\n\nBy default, Feathers uses [JSON Web Tokens](https://jwt.io/) for authentication. It is an access token that is issued by the Feathers server for a limited time (one day by default) and needs to be sent with every API request that requires authentication. Usually a token is issued for a specific user. Let's see if we can issue a JWT for the user that we just created.\n\n> **tip:**\n> \n> If you are wondering why Feathers is using JWT for authentication, have a look at [this FAQ](../../help/faq.md#why-are-you-using-jwt-for-sessions).\n> \n\nTokens can be created by sending a POST request to the `/authentication` endpoint (which is the same as calling the `create` method on the `authentication` service set up in `src/authentication`) and passing the authentication strategy you want to use along with any other relevant data. To get a JWT for an existing user through a username (email) and password login, we can use the built-in `local` authentication strategy with a request like this:\n\n```js\n// POST /authentication\n{\n  \"strategy\": \"local\",\n  \"email\": \"hello@feathersjs.com\",\n  \"password\": \"supersecret\"\n}\n```\n\nTry it:\n\n```sh\ncurl 'http://localhost:3030/authentication/' \\\n  -H 'Content-Type: application/json' \\\n  --data-binary '{ \"strategy\": \"local\", \"email\": \"hello@feathersjs.com\", \"password\": \"supersecret\" }'\n```\n\n[![Run in Postman](https://run.pstmn.io/button.svg)](https://app.getpostman.com/run-collection/6bcea48aac6c7494c2ad)\n\nThis will return something like this:\n\n<DatabaseBlock global-id=\"sql\">\n\n```json\n{\n  \"accessToken\": \"<JWT for this user>\",\n  \"authentication\": {\n    \"strategy\": \"local\"\n  },\n  \"user\": {\n    \"id\": 123,\n    \"email\": \"hello@feathersjs.com\",\n    \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n  }\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n```json\n{\n  \"accessToken\": \"<JWT for this user>\",\n  \"authentication\": {\n    \"strategy\": \"local\"\n  },\n  \"user\": {\n    \"_id\": \"63c00098502debdeec31bd77\",\n    \"email\": \"hello@feathersjs.com\",\n    \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n  }\n}\n```\n\n</DatabaseBlock>\n\nThe `accessToken` can now be used for other REST requests that require authentication by sending the `Authorization: Bearer <accessToken>` HTTP header. For example to create a new message:\n\n```sh\ncurl 'http://localhost:3030/messages/' \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Bearer <accessToken>' \\\n  --data-binary '{ \"text\": \"Hello from the console\" }'\n```\n\n> **tip:**\n> \n> Make sure to replace the `<accessToken>` in the above request. For more information about the direct usage of the REST API see the [REST client API](../../api/client/rest.md) and for websockets the [Socket.io client API](../../api/client/socketio.md).\n> \n\nThat's pretty neat, but emails and passwords are boring, let's spice things up a bit.\n\n## Login with GitHub\n\nOAuth is an open authentication standard supported by almost every major social platform and what gets us the log in with Facebook, Google, GitHub etc. buttons. From the Feathers perspective, the authentication flow with OAuth is pretty similar. Instead of authenticating with the `local` strategy by sending a username and password, Feathers directs the user to authorize the application with the login provider. If it is successful, Feathers authentication finds or creates the user in the `users` service with the information it got back from the provider and then issues a token for them.\n\nTo allow login with GitHub, we first have to [create a new OAuth application on GitHub](https://github.com/settings/applications/new). You can put anything in the name, homepage and description fields. The callback URL **must** be set to\n\n```sh\nhttp://localhost:3030/oauth/github/callback\n```\n\n\n> **info:**\n> \n> You can find your existing applications in the [GitHub OAuth apps developer settings](https://github.com/settings/developers).\n> \n\nOnce you've clicked \"Register application\", we need to update our Feathers app configuration with the client id and secret copied from the GitHub application settings.\n\nFind the `authentication` section in `config/default.json` replace the `<Client ID>` and `<Client Secret>` in the `github` section with the proper values:\n\n```js\n{\n  \"authentication\": {\n    \"oauth\": {\n      \"github\": {\n        \"key\": \"<Client ID>\",\n        \"secret\": \"<Client Secret>\"\n      }\n    },\n    // Other authentication configuration is here\n    // ...\n  }\n}\n```\n\n> **note:**\n> \n> In a production environment you would set those values as [custom environment variables](../cli/custom-environment-variables.md).\n> \n\nThis tells the OAuth strategy to redirect back to our index page after a successful login and already makes a basic login with GitHub possible. Because of the changes we made in the `users` service in the [services chapter](./services.md) we do need a small customization though. Instead of only adding `githubId` to a new user when they log in with GitHub we also include their email and the avatar image from the profile we get back. We can do this by extending the standard OAuth strategy and registering it as a GitHub specific one and overwriting the `getEntityData` method:\n\nUpdate `src/authentication.ts` as follows:\n\n```ts{1,5,14-26,33}\nimport type { Params } from '@feathersjs/feathers'\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport { oauth, OAuthStrategy } from '@feathersjs/authentication-oauth'\nimport type { OAuthProfile } from '@feathersjs/authentication-oauth'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nclass GitHubStrategy extends OAuthStrategy {\n  async getEntityData(profile: OAuthProfile, existing: any, params: Params) {\n    const baseData = await super.getEntityData(profile, existing, params)\n\n    return {\n      ...baseData,\n      // The GitHub profile image\n      avatar: profile.avatar_url,\n      // The user email address (if available)\n      email: profile.email || profile.login\n    }\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n  authentication.register('local', new LocalStrategy())\n  authentication.register('github', new GitHubStrategy())\n\n  app.use('authentication', authentication)\n  app.configure(oauth())\n}\n```\n\n> **info:**\n> \n> For more information about the OAuth flow and strategy see the [OAuth API documentation](../../api/authentication/oauth.md).\n> \n\nTo log in with GitHub, visit\n\n```\nhttp://localhost:3030/oauth/github\n```\n\nIt will redirect to GitHub and ask to authorize our application. If everything went well, we get redirected to our homepage with the Feathers logo with the token information in the location hash. This will be used by the Feathers authentication client to authenticate our user.\n\n## What's next?\n\nSweet! We now have an API that can register new users with email/password and GitHub. This means we have everything we need for a frontend for our chat application. See the [JavaScript frontend guide](../frontend/javascript.md) on how to create a plain JavaScript chat application.",
    "breadcrumb": "Logging in",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/basics/login.md",
    "heading": "Logging in",
    "subHeadings": [
      "Registering a user",
      "Logging in",
      "Login with GitHub",
      "What's next?"
    ],
    "hasCode": true,
    "codeLanguages": [
      "js",
      "text",
      "sh",
      "json",
      "ts"
    ],
    "tokens": 2220,
    "category": "guides",
    "tags": [
      "services",
      "application",
      "params",
      "provider",
      "find",
      "get",
      "create",
      "update",
      "authentication",
      "authorization",
      "jwt",
      "oauth",
      "google",
      "facebook",
      "github",
      "database",
      "mongodb",
      "collection",
      "websockets",
      "socket.io",
      "rest",
      "http",
      "client",
      "configuration",
      "environment variables",
      "types",
      "declarations",
      "cli",
      "logging",
      "login",
      "users"
    ],
    "embedding": [
      0.003429,
      0.014831,
      -0.068217,
      0.013339,
      0.00776,
      -0.025632,
      0.005098,
      -0.027561,
      0.002506,
      0.009669,
      -0.00273,
      0.004821,
      -0.026822,
      -0.000135,
      -0.008412,
      0.018018,
      -0.01135,
      -0.029441,
      0.004759,
      -0.043935,
      -0.011738,
      -0.007785,
      0.029728,
      -0.042214,
      0.001378,
      0.010893,
      0.008531,
      -0.028555,
      0.022881,
      -0.032193,
      0.039067,
      0.001116,
      -0.038367,
      -0.017995,
      -0.020871,
      -0.032094,
      -0.024492,
      0.024948,
      -0.026536,
      0.007422,
      0.002692,
      -0.01577,
      -0.01201,
      -0.013685,
      -0.008317,
      -0.045852,
      -0.001456,
      0.004437,
      0.040902,
      -0.010466,
      -0.032262,
      0.029143,
      0.027661,
      -0.052851,
      0.027445,
      0.045995,
      -0.025736,
      0.002261,
      -0.057342,
      0.001165,
      0.004976,
      0.041602,
      -0.028829,
      0.00696,
      0.00157,
      0.047327,
      -0.018851,
      -0.027562,
      -0.016646,
      -0.04643,
      -0.003679,
      -0.010992,
      -0.022597,
      0.019508,
      -0.046591,
      -0.000871,
      0.040525,
      0.013129,
      -0.041772,
      0.003143,
      -0.016538,
      0.008827,
      -0.015473,
      0.003594,
      0.008198,
      -0.011738,
      -0.018594,
      0.059414,
      0.022782,
      0.004422,
      0.009216,
      -0.034972,
      0.088738,
      -0.043891,
      -0.012803,
      0.015034,
      -0.012206,
      0.013228,
      0.016422,
      0.011363,
      -0.025952,
      0.026589,
      -0.007136,
      -0.038089,
      0.022048,
      0.049642,
      0.056773,
      0.00549,
      0.005986,
      -0.041597,
      -0.008939,
      0.019816,
      0.04883,
      0.02746,
      -0.019804,
      -0.000945,
      0.007498,
      -0.000291,
      -0.008973,
      -0.023345,
      -0.024123,
      0.033483,
      0.02894,
      -0.025974,
      -0.009838,
      -0.008965,
      -0.015159,
      0.036818,
      0.009626,
      0.0415,
      0.026962,
      -0.060132,
      -0.004692,
      -0.003346,
      -0.043805,
      0.006197,
      -0.00658,
      0.006936,
      -0.011905,
      -0.030026,
      0.034849,
      -0.002907,
      0.003512,
      -0.011172,
      -0.003078,
      -0.053105,
      0.017932,
      0.020616,
      -0.010264,
      -0.012819,
      0.010231,
      0.014452,
      0.000206,
      -0.033058,
      -0.006638,
      -0.042014,
      0.00721,
      -0.015541,
      0.014011,
      -0.003484,
      0.019957,
      0.012015,
      -0.065683,
      0.031895,
      0.03039,
      -0.01131,
      0.012832,
      -0.062352,
      -0.030314,
      -0.002916,
      0.029568,
      -0.011531,
      0.024776,
      -0.003102,
      0.017189,
      0.0217,
      0.060491,
      0.033106,
      0.006963,
      -0.029124,
      -0.044361,
      0.003825,
      0.001318,
      -0.052203,
      -0.008437,
      0.011177,
      -0.041532,
      -0.038697,
      0.016187,
      0.044943,
      -0.019266,
      -0.006658,
      0.011736,
      0.001898,
      0.001722,
      0.006746,
      0.025787,
      0.040796,
      0.021371,
      -0.003354,
      -0.031834,
      0.029944,
      0.064726,
      0.029881,
      -0.030925,
      -0.034893,
      0.009263,
      -0.04711,
      0.029509,
      -0.06593,
      0.007964,
      0.003764,
      -0.007199,
      -0.033656,
      -0.027652,
      0.031421,
      -0.003846,
      0.045653,
      -0.028507,
      -0.019066,
      -0.037533,
      0.002044,
      -0.009456,
      -0.034212,
      0.035489,
      0.004383,
      0.012734,
      -0.010269,
      0.011583,
      -0.005672,
      -0.023133,
      0.035076,
      0.023073,
      0.006406,
      0.017981,
      -0.015997,
      -0.056031,
      0.001783,
      -0.001137,
      0.004831,
      0.005468,
      -0.035044,
      0.010485,
      0.01364,
      -0.035067,
      -0.007525,
      0.012629,
      0.017185,
      -0.015448,
      0.025834,
      -0.007828,
      0.032912,
      0.023106,
      -0.013116,
      0.013668,
      0.010632,
      0.028791,
      -0.01342,
      -0.012329,
      -0.05465,
      0.033922,
      -0.011474,
      -0.014371,
      0.00548,
      0.008508,
      -0.006617,
      -0.047417,
      -0.034156,
      -0.00862,
      0.007463,
      -0.02144,
      0.025626,
      0.020663,
      0.028448,
      -0.029475,
      -0.008367,
      0.020362,
      -0.070457,
      0.073654,
      0.038972,
      0.001843,
      0.039401,
      0.031938,
      0.059504,
      0.014392,
      -0.007366,
      0.034499,
      -0.016362,
      0.047451,
      -0.04569,
      -0.014494,
      0.000575,
      0.061796,
      -0.019961,
      -0.004683,
      0.012005,
      -0.010859,
      -0.146613,
      -0.030552,
      0.040171,
      0.066879,
      -0.012411,
      0.018156,
      -0.058377,
      0.009859,
      -0.072894,
      0.024716,
      0.006819,
      -0.046991,
      -0.00105,
      0.01495,
      0.033018,
      0.019951,
      -0.025123,
      0.010425,
      0.028023,
      -0.039244,
      -0.017407,
      -0.041411,
      0.056226,
      0.039421,
      -0.018705,
      -0.00153,
      0.006374,
      -0.019301,
      -0.0507,
      -0.018696,
      -0.012685,
      0.018329,
      0.010674,
      0.012121,
      -0.028956,
      0.002965,
      -0.003607,
      0.028881,
      0.016217,
      -0.006949,
      0.009943,
      0.069135,
      0.00558,
      -0.010248,
      0.034868,
      0.014511,
      0.040922,
      -0.000811,
      -0.034819,
      -0.030033,
      0.013616,
      -0.022143,
      -0.004091,
      -0.026736,
      -0.04593,
      -0.02346,
      0.019688,
      0.065397,
      0.013232,
      -0.009266,
      0.013946,
      0.017994,
      0.070291,
      -0.018433,
      -0.004025,
      0.026464,
      0.01145,
      0.015149,
      0.029428,
      -0.04426,
      0.032479,
      -0.04012,
      -0.00537,
      0.021311,
      -0.009417,
      0.005068,
      0.0005,
      -0.009681,
      0.020568,
      -0.108727,
      -0.010398,
      0.032068,
      0.002334,
      0.035767,
      -0.027446,
      -0.028262,
      -0.012072,
      0.032499,
      0.005142,
      0.240902,
      0.019177,
      -0.000171,
      -0.020565,
      0.034279,
      -0.036471,
      0.032749,
      0.069885,
      -0.02075,
      -0.000891,
      0.003378,
      0.031563,
      0.001499,
      -0.022148,
      -0.021861,
      0.031659,
      -0.071446,
      0.034767,
      0.05006,
      -0.014058,
      0.040418,
      0.011638,
      0.048851,
      0.014298,
      -0.07523,
      -0.025609,
      0.000347,
      0.048343,
      -0.037531,
      0.046009,
      -0.034792,
      0.006211,
      0.029662,
      -0.031747,
      -0.028903,
      -0.010595,
      -0.009886,
      -0.020958,
      -0.032103,
      0.02469,
      -0.032494,
      -0.03515,
      0.053794,
      -0.048011,
      0.020055,
      0.024737,
      -0.021364,
      -0.006767,
      -0.018447,
      -0.047997,
      -0.039902,
      -0.015841,
      -0.016734,
      -0.020154,
      -0.017103,
      -0.018672,
      -0.00814,
      -0.051182,
      -0.015003,
      -0.009787,
      0.04684,
      0.027586,
      -0.085825,
      0.012083,
      -0.01376,
      0.006805,
      0.032991,
      -0.05391,
      0.006044,
      0.055448,
      -0.048329,
      0.008973,
      0.01567,
      0.013384,
      -0.001641,
      0.00765,
      0.065623,
      0.039039,
      -0.042898,
      0.054888,
      0.003746,
      -0.007758,
      -0.009401,
      0.035706,
      0.023075,
      0.024505,
      -0.004304,
      0.042523,
      0.006483,
      -0.031358,
      -0.018314,
      -0.005539,
      -0.016517,
      0.035341,
      -0.036124,
      0.02137,
      -0.016606,
      0.001026,
      -0.014443,
      -0.041157,
      0.024571,
      0.032202,
      0.009104,
      -0.020461,
      0.046242,
      -0.041992,
      0.003524,
      0.027834,
      0.009169,
      -0.02096,
      -0.048488,
      0.013685,
      -0.016487,
      -0.011549,
      0.026598,
      0.022425,
      0.042372,
      0.007613,
      0.041151,
      0.028979,
      0.029616,
      0.017363,
      -0.03865,
      0.007932,
      0.02763,
      -0.043771,
      -0.029443,
      -0.053782,
      -0.034796,
      0.056383,
      0.03564,
      -0.049133,
      -0.006662,
      0.046716,
      0.048036,
      0.007896,
      0.064903,
      0.009733,
      0.020758,
      0.023435,
      -0.047635,
      -0.016734,
      -0.036702,
      0.007592,
      0.010526,
      0.012237,
      -0.001694,
      0.00965,
      0.016048,
      -0.019611,
      0.059668,
      0.07278,
      0.035776,
      0.001538,
      0.014612,
      -0.029478,
      0.003793,
      0.012934,
      0.024019,
      -0.037666,
      -0.013241,
      0.006968,
      0.015836,
      0.06059,
      0.001864,
      -0.04679,
      -0.000541,
      -0.007014,
      0.00517,
      -0.04558,
      -0.011785,
      -0.064151,
      -0.054796,
      0.049843,
      0.024575,
      -0.058052,
      -0.043433,
      0.014234,
      0.004872,
      -0.036566,
      0.006479,
      0.019839,
      -0.028575,
      -0.034199,
      0.027929,
      0.016678,
      0.004765,
      -0.024581,
      -0.005241,
      -0.011824,
      0.001794,
      0.090363,
      0.018322,
      0.00359,
      0.062021,
      -0.011862,
      0.015849,
      0.013248,
      -0.007876,
      -0.000624,
      -0.027083,
      -0.013634,
      -0.016665,
      -0.018298,
      -0.015789,
      -0.062022,
      0.001465,
      0.048238,
      -0.028037,
      0.045635,
      -0.002892,
      0.032462,
      -0.040047,
      0.001155,
      0.040085,
      -0.051944,
      0.03484,
      0.033398,
      0.03181,
      0.009018,
      -0.025865,
      0.006506,
      0.020808,
      -0.042096,
      -0.003427,
      0.014992,
      0.033433,
      0.004356,
      -0.020678,
      0.0186,
      -0.017148,
      0.018702,
      0.003297,
      -0.061451,
      0.044298,
      -0.023421,
      -0.00387,
      0.031672,
      0.082759,
      0.006408,
      0.016085,
      -0.006209,
      0.038841,
      0.012034,
      -0.0338,
      0.032671,
      0.039745,
      0.005744,
      -0.043833,
      0.011493,
      -0.006266,
      -0.041192,
      -0.012834,
      -0.031925,
      0.020845,
      0.037502,
      0.039532,
      -0.054133,
      -0.015692,
      -0.011844,
      -0.010493,
      0.038687,
      0.000364,
      -0.001987,
      -0.011828,
      -0.053443,
      0.008203,
      -0.040315,
      -0.006767,
      0.003237,
      -0.000613,
      0.00365,
      -0.012593,
      -0.075406,
      0.018635,
      -0.011024,
      -0.007195,
      -0.03913,
      0.022709,
      -0.000218,
      -0.036865,
      0.020001,
      0.014974,
      0.043387,
      -0.020094,
      0.048584,
      0.044885,
      -0.037157,
      -0.010515,
      -0.034297,
      -0.029828,
      0.017972,
      -0.017883,
      0.017519,
      -0.026181,
      -0.014975,
      -0.041684,
      0.007843,
      0.00054,
      0.007667,
      -0.011882,
      0.012037,
      0.012476,
      -0.003889,
      -0.016527,
      0.020313,
      -0.031997,
      -0.03654,
      0.023526,
      0.00315,
      0.006712,
      -0.002486,
      0.04621,
      0.025574,
      0.030082,
      -0.028668,
      0.047811,
      -0.044013,
      -0.008819,
      -0.008142,
      0.039443,
      -0.006064,
      -0.042027,
      0.029407,
      -0.012336,
      -0.030266,
      -0.028551,
      -0.005192,
      -0.02771,
      0.023869,
      0.001238,
      -0.034437,
      -0.003163,
      -0.022469,
      -0.06,
      -0.029846,
      0.051711,
      -0.049526,
      0.022935,
      -0.024479,
      -0.005617,
      -0.013377,
      0.069567,
      -0.017261,
      0.025567,
      -0.014859,
      -0.022644,
      0.007902,
      -0.04791,
      -0.002504,
      0.000952,
      0.005944,
      -0.034574,
      -0.03698,
      0.062537,
      -0.023788,
      -0.06862,
      0.013362,
      0.005431,
      0.020493,
      -0.014892,
      0.06205,
      -0.02265,
      -0.003266,
      0.013658,
      0.029186,
      0.041594,
      -0.053621,
      -0.007975,
      -0.030162,
      -0.026759,
      0.018294,
      -0.002931,
      -0.023615,
      -0.057549,
      0.022061,
      -0.005256,
      -0.009923,
      0.009237,
      -0.020994,
      -0.028998,
      -0.038444,
      -0.030667,
      -0.01529,
      0.030772,
      0.027014,
      -0.00441,
      0.025404,
      0.043616,
      0.000986,
      0.010009,
      -0.009524,
      -0.020539,
      0.019522,
      -0.14776,
      0.012817,
      -0.027891,
      0.025869,
      -0.019079,
      -0.008421,
      -0.00525,
      -0.023854,
      0.011993,
      -0.024424,
      -0.027532,
      -0.000699,
      0.025074,
      -0.043988,
      0.000938,
      -0.011455,
      0.025231,
      -0.014248,
      -0.009416,
      -0.032877,
      0.005495,
      -0.026735,
      0.008203,
      0.005433,
      0.00725,
      -0.014086,
      -0.00901,
      0.041549,
      -0.020724,
      0.014824,
      -0.0236,
      0.016009,
      -0.005356,
      0.005824,
      -0.028984,
      0.036269,
      0.011607,
      -0.006377,
      0.002351,
      0.028052,
      -0.021527,
      0.02925,
      -0.055391,
      0.033998,
      0.035216,
      0.078587,
      -0.025584,
      -0.039346,
      -0.013516,
      0.000961,
      0.010039,
      0.011079,
      -0.009212,
      0.01584,
      -0.014378,
      -0.007415,
      -0.032201,
      -0.035633,
      -0.05514,
      0.019812,
      -0.029491,
      0.016118,
      -0.058061,
      -0.010879,
      -0.030307,
      0.011115,
      -0.036353,
      0.022675,
      -0.011581,
      -0.008694,
      0.013668,
      -0.044781,
      -0.044439,
      0.016332,
      0.02896,
      0.005401,
      0.053787,
      -0.019222,
      -0.08216,
      -0.006591,
      0.028761,
      -0.01349,
      -0.063891,
      0.093081,
      0.042738,
      0.054034,
      0.014918,
      -0.0243,
      -0.012437,
      -0.020143,
      -0.052089,
      -0.051775,
      0.015562,
      0.042907,
      -0.01816,
      0.024486,
      0.003155,
      -0.006638,
      0.008945,
      -0.009041,
      -0.018271,
      0.002165,
      0.043115,
      -0.001367,
      -0.050424,
      -0.011016,
      0.028968,
      0.013264,
      0.005602,
      0.003328,
      0.057898,
      -0.003322,
      0.022425,
      0.004575,
      -0.053063,
      0.003844,
      -0.021184,
      0.015896,
      -0.029976,
      0.00289,
      -0.003826,
      0.011042,
      -0.012731,
      -0.016132,
      0.023143,
      0.014986,
      -0.009973,
      -0.030562,
      0.006616,
      -0.032179,
      0.00404,
      -0.049449,
      0.004773,
      0.033892,
      0.024147,
      -0.063805,
      -0.08452,
      0.039349,
      -0.013093,
      -0.035108,
      -0.038444,
      -0.008576,
      0.002151,
      -0.014946,
      -0.024346,
      -0.031855,
      0.014939,
      0.023324,
      -0.001073,
      -0.036276,
      -0.009488,
      0.005852,
      -0.015455,
      0.051806,
      0.007225,
      0.039841,
      0.011884,
      0.053341,
      0.009042,
      0.05185,
      -0.010869,
      -0.060422,
      -0.037223,
      -0.020468,
      0.019619,
      -0.0166,
      -0.017868,
      -0.031882,
      -0.022694,
      0.019615,
      -0.002201,
      0.069595,
      -0.023832,
      -0.015661,
      0.005972,
      -0.013236,
      0.013245,
      -0.029378,
      0.045815,
      0.010739,
      0.037755,
      0.003953,
      0.026172,
      0.006366,
      0.032544,
      0.018934,
      0.010411,
      -0.0119,
      0.038067,
      0.017721,
      -0.017903,
      -0.005652,
      0.010397,
      -0.007055,
      -0.006436,
      -0.028031,
      -0.000967,
      -0.035512,
      -0.009173,
      0.06174,
      0.032112,
      -0.024529,
      -0.013495,
      -0.015383,
      0.000386,
      0.022566,
      -0.023994,
      0.023946,
      0.007062,
      0.069555,
      -0.031658,
      -0.001145,
      0.01158,
      0.003085,
      0.010217,
      0.009767,
      0.054852,
      0.010158,
      0.00082,
      -0.060049,
      0.020371,
      0.005626,
      0.01285,
      -0.008915,
      -0.060366,
      -0.052143,
      0.001754,
      0.030171,
      -0.03832,
      0.021777,
      -0.009886,
      -0.027753,
      -0.013808,
      0.057965,
      0.022197,
      -0.014737,
      -0.004231,
      0.001586,
      0.010523,
      -0.017909,
      0.041531,
      0.028135,
      -0.003258,
      0.001618
    ]
  },
  {
    "id": "v5-schemas-0",
    "content": "# Schemas and resolvers\nBreadcrumb: Schemas and resolvers\nCovers: Feathers schemas | Adding a user avatar | Handling messages | Creating a migration | What's next?\nTopics: services, application, context, params, find, get, create, update, patch, remove, authentication, github, schema, resolver, typebox, validators, database, mongodb, knex, http, client, declarations, cli, migration, logging, login, users, custom service\n\n## Feathers schemas\n\nWhile schemas and resolvers can be used outside of a Feathers application, you will usually encounter them in a Feathers context where they come in four kinds:\n\n- **Result** schemas and resolvers that define the data that is being returned. This is also where associated data would be fetched\n- **Data** schemas and resolvers handle the data from a `create`, `update`, `patch`, or custom service method and can be used to add/replace things like default or calculated values (e.g. the `createdAt` or `updatedAt` date) before saving it to the database\n- **Query** schemas and resolvers validate and convert the query string and can also be used for additional limitations like only allowing a user to see and modify their own data\n- **External** resolvers return a safe version of the data (by e.g. hiding a users password) that can be sent to external clients\n\nWhile it may initially look like a bit more code, schema driven development is a great way to have the data models and how data is modified in a single place.\n\n## Adding a user avatar\n\nLet's extend our existing users schema to add an `avatar` property so that our users can have a profile image.\n\nFirst we need to update the `src/services/users/users.schema.ts` file with the schema property for the avatar and a resolver property that sets a default avatar using the [Gravatar](https://en.gravatar.com/) based on the email address:\nFirst we need to update the `src/services/users/users.schema.js` file with the schema property for the avatar and a resolver property that sets a default avatar using the [Gravatar](https://en.gravatar.com/) based on the email address:\n\n<DatabaseBlock global-id=\"sql\">\n\n```ts{2,17-18,34,44-54,68,82-86}\n// For more information about this file see https://dove.feathersjs.com/guides/cli/service.schemas.html\nimport crypto from 'crypto'\nimport { resolve } from '@feathersjs/schema'\nimport { Type, getValidator, querySyntax } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport { passwordHash } from '@feathersjs/authentication-local'\n\nimport type { HookContext } from '../../declarations'\nimport { dataValidator, queryValidator } from '../../validators'\n\n// Main data model schema\nexport const userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.Optional(Type.String()),\n    githubId: Type.Optional(Type.Number()),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\nexport type User = Static<typeof userSchema>\nexport const userValidator = getValidator(userSchema, dataValidator)\nexport const userResolver = resolve<User, HookContext>({})\n\nexport const userExternalResolver = resolve<User, HookContext>({\n  // The password should never be visible externally\n  password: async () => undefined\n})\n\n// Schema for creating new users\nexport const userDataSchema = Type.Pick(\n  userSchema,\n  ['email', 'password', 'githubId', 'avatar'],\n  {\n    $id: 'UserData',\n    additionalProperties: false\n  }\n)\nexport type UserData = Static<typeof userDataSchema>\nexport const userDataValidator = getValidator(userDataSchema, dataValidator)\nexport const userDataResolver = resolve<User, HookContext>({\n  password: passwordHash({ strategy: 'local' }),\n  avatar: async (value, user) => {\n    // If the user passed an avatar image, use it\n    if (value !== undefined) {\n      return value\n    }\n\n    // Gravatar uses MD5 hashes from an email address to get the image\n    const hash = crypto.createHash('md5').update(user.email.toLowerCase()).digest('hex')\n    // Return the full avatar URL\n    return `https://s.gravatar.com/avatar/${hash}?s=60`\n  }\n})\n\n// Schema for updating existing users\nexport const userPatchSchema = Type.Partial(userSchema, {\n  $id: 'UserPatch'\n})\nexport type UserPatch = Static<typeof userPatchSchema>\nexport const userPatchValidator = getValidator(userPatchSchema, dataValidator)\nexport const userPatchResolver = resolve<User, HookContext>({\n  password: passwordHash({ strategy: 'local' })\n})\n\n// Schema for allowed query properties\nexport const userQueryProperties = Type.Pick(userSchema, ['id', 'email', 'githubId'])\nexport const userQuerySchema = Type.Intersect(\n  [\n    querySyntax(userQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type UserQuery = Static<typeof userQuerySchema>\nexport const userQueryValidator = getValidator(userQuerySchema, queryValidator)\nexport const userQueryResolver = resolve<UserQuery, HookContext>({\n  // If there is a user (e.g. with authentication), they are only allowed to see their own data\n  id: async (value, user, context) => {\n    // We want to be able to get a list of all users but\n    // only let a user modify their own data otherwise\n    if (context.params.user && context.method !== 'find') {\n      return context.params.user.id\n    }\n\n    return value\n  }\n})\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n```ts{2,18-19,35,44-54,82-87}\n// // For more information about this file see https://dove.feathersjs.com/guides/cli/service.schemas.html\nimport crypto from 'crypto'\nimport { resolve } from '@feathersjs/schema'\nimport { Type, getValidator, querySyntax } from '@feathersjs/typebox'\nimport { ObjectIdSchema } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport { passwordHash } from '@feathersjs/authentication-local'\n\nimport type { HookContext } from '../../declarations'\nimport { dataValidator, queryValidator } from '../../validators'\n\n// Main data model schema\nexport const userSchema = Type.Object(\n  {\n    _id: ObjectIdSchema(),\n    email: Type.String(),\n    password: Type.Optional(Type.String()),\n    githubId: Type.Optional(Type.Number()),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\nexport type User = Static<typeof userSchema>\nexport const userValidator = getValidator(userSchema, dataValidator)\nexport const userResolver = resolve<User, HookContext>({})\n\nexport const userExternalResolver = resolve<User, HookContext>({\n  // The password should never be visible externally\n  password: async () => undefined\n})\n\n// Schema for creating new entries\nexport const userDataSchema = Type.Pick(\n  userSchema,\n  ['email', 'password', 'githubId', 'avatar'],\n  {\n    $id: 'UserData'\n  }\n)\nexport type UserData = Static<typeof userDataSchema>\nexport const userDataValidator = getValidator(userDataSchema, dataValidator)\nexport const userDataResolver = resolve<User, HookContext>({\n  password: passwordHash({ strategy: 'local' }),\n  avatar: async (value, user) => {\n    // If the user passed an avatar image, use it\n    if (value !== undefined) {\n      return value\n    }\n\n    // Gravatar uses MD5 hashes from an email address to get the image\n    const hash = crypto.createHash('md5').update(user.email.toLowerCase()).digest('hex')\n    // Return the full avatar URL\n    return `https://s.gravatar.com/avatar/${hash}?s=60`\n  }\n})\n\n// Schema for updating existing entries\nexport const userPatchSchema = Type.Partial(userSchema, {\n  $id: 'UserPatch'\n})\nexport type UserPatch = Static<typeof userPatchSchema>\nexport const userPatchValidator = getValidator(userPatchSchema, dataValidator)\nexport const userPatchResolver = resolve<User, HookContext>({\n  password: passwordHash({ strategy: 'local' })\n})\n\n// Schema for allowed query properties\nexport const userQueryProperties = Type.Pick(userSchema, ['_id', 'email', 'githubId'])\nexport const userQuerySchema = Type.Intersect(\n  [\n    querySyntax(userQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type UserQuery = Static<typeof userQuerySchema>\nexport const userQueryValidator = getValidator(userQuerySchema, queryValidator)\nexport const userQueryResolver = resolve<UserQuery, HookContext>({\n  // If there is a user (e.g. with authentication), they are only allowed to see their own data\n  _id: async (value, user, context) => {\n    // We want to be able to get a list of all users but\n    // only let a user modify their own data otherwise\n    if (context.params.user && context.method !== 'find') {\n      return context.params.user._id\n    }\n\n    return value\n  }\n})\n```\n\n</DatabaseBlock>\n\nWhat happened here?\n\n- We are adding an optional `avatar` field to our user object. This is where we store a user image to show in the chat.\n- The `userDataSchema` is updated to include the `avatar` so that a new user can be created with a custom avatar\n- In the `userDataResolver`, if an `avatar` is not set, we set a default image using the [Gravatar avatar](https://en.gravatar.com/) for the email address\n- The `userQueryResolver` for the user id property allows for a user to `find` all other users but only change (`patch`, `remove`) their own data\n\n## Handling messages\n\nNext we can look at the messages service schema. We want to include the date when the message was created as `createdAt` and the id of the user who sent it as `userId`. When we get a message back, we also want to populate the `user` with the user data from `userId` so that we can show their avatar and email.\n\nUpdate the `src/services/messages/messages.schema.ts` file like this:\nUpdate the `src/services/messages/messages.schema.js` file like this:\n\n<DatabaseBlock global-id=\"sql\">\n\n```ts{2,8,15-17,24-27,39-45,58-61,74-82}\n// For more information about this file see https://dove.feathersjs.com/guides/cli/service.schemas.html\nimport { resolve, virtual } from '@feathersjs/schema'\nimport { Type, getValidator, querySyntax } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\n\nimport type { HookContext } from '../../declarations'\nimport { dataValidator, queryValidator } from '../../validators'\nimport { userSchema } from '../users/users.schema'\n\n// Main data model schema\nexport const messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    userId: Type.Number(),\n    user: Type.Ref(userSchema)\n  },\n  { $id: 'Message', additionalProperties: false }\n)\nexport type Message = Static<typeof messageSchema>\nexport const messageValidator = getValidator(messageSchema, dataValidator)\nexport const messageResolver = resolve<Message, HookContext>({\n  user: virtual(async (message, context) => {\n    // Associate the user that sent the message\n    return context.app.service('users').get(message.userId)\n  })\n})\n\nexport const messageExternalResolver = resolve<Message, HookContext>({})\n\n// Schema for creating new entries\nexport const messageDataSchema = Type.Pick(messageSchema, ['text'], {\n  $id: 'MessageData'\n})\nexport type MessageData = Static<typeof messageDataSchema>\nexport const messageDataValidator = getValidator(messageDataSchema, dataValidator)\nexport const messageDataResolver = resolve<Message, HookContext>({\n  userId: async (_value, _message, context) => {\n    // Associate the record with the id of the authenticated user\n    return context.params.user.id\n  },\n  createdAt: async () => {\n    return Date.now()\n  }\n})\n\n// Schema for updating existing entries\nexport const messagePatchSchema = Type.Partial(messageSchema, {\n  $id: 'MessagePatch'\n})\nexport type MessagePatch = Static<typeof messagePatchSchema>\nexport const messagePatchValidator = getValidator(messagePatchSchema, dataValidator)\nexport const messagePatchResolver = resolve<Message, HookContext>({})\n\n// Schema for allowed query properties\nexport const messageQueryProperties = Type.Pick(messageSchema,[\n  'id',\n  'text',\n  'createdAt',\n  'userId'\n])\nexport const messageQuerySchema = Type.Intersect(\n  [\n    querySyntax(messageQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type MessageQuery = Static<typeof messageQuerySchema>\nexport const messageQueryValidator = getValidator(messageQuerySchema, queryValidator)\nexport const messageQueryResolver = resolve<MessageQuery, HookContext>({\n  userId: async (value, user, context) => {\n    // We want to be able to find all messages but\n    // only let a user modify their own messages otherwise\n    if (context.params.user && context.method !== 'find') {\n      return context.params.user.id\n    }\n\n    return value\n  }\n})\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n```ts{2,9,16-18,25-28,40-46,59-62,75-83}\n// // For more information about this file see https://dove.feathersjs.com/guides/cli/service.schemas.html\nimport { resolve, virtual } from '@feathersjs/schema'\nimport { Type, getValidator, querySyntax } from '@feathersjs/typebox'\nimport { ObjectIdSchema } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\n\nimport type { HookContext } from '../../declarations'\nimport { dataValidator, queryValidator } from '../../validators'\nimport { userSchema } from '../users/users.schema'\n\n// Main data model schema\nexport const messageSchema = Type.Object(\n  {\n    _id: ObjectIdSchema(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    userId: Type.String({ objectid: true }),\n    user: Type.Ref(userSchema)\n  },\n  { $id: 'Message', additionalProperties: false }\n)\nexport type Message = Static<typeof messageSchema>\nexport const messageValidator = getValidator(messageSchema, dataValidator)\nexport const messageResolver = resolve<Message, HookContext>({\n  user: virtual(async (message, context) => {\n    // Associate the user that sent the message\n    return context.app.service('users').get(message.userId)\n  })\n})\n\nexport const messageExternalResolver = resolve<Message, HookContext>({})\n\n// Schema for creating new entries\nexport const messageDataSchema = Type.Pick(messageSchema, ['text'], {\n  $id: 'MessageData'\n})\nexport type MessageData = Static<typeof messageDataSchema>\nexport const messageDataValidator = getValidator(messageDataSchema, dataValidator)\nexport const messageDataResolver = resolve<Message, HookContext>({\n  userId: async (_value, _message, context) => {\n    // Associate the record with the id of the authenticated user\n    return context.params.user._id\n  },\n  createdAt: async () => {\n    return Date.now()\n  }\n})\n\n// Schema for updating existing entries\nexport const messagePatchSchema = Type.Partial(messageSchema, {\n  $id: 'MessagePatch'\n})\nexport type MessagePatch = Static<typeof messagePatchSchema>\nexport const messagePatchValidator = getValidator(messagePatchSchema, dataValidator)\nexport const messagePatchResolver = resolve<Message, HookContext>({})\n\n// Schema for allowed query properties\nexport const messageQueryProperties = Type.Pick(messageSchema, ['_id', 'text', 'createdAt', 'userId'])\nexport const messageQuerySchema = Type.Intersect(\n  [\n    querySyntax(messageQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type MessageQuery = Static<typeof messageQuerySchema>\nexport const messageQueryValidator = getValidator(messageQuerySchema, queryValidator)\nexport const messageQueryResolver = resolve<MessageQuery, HookContext>({\n  userId: async (value, user, context) => {\n    // We want to be able to find all messages but\n    // only let a user modify their own messages otherwise\n    if (context.params.user && context.method !== 'find') {\n      return context.params.user._id\n    }\n\n    return value\n  }\n})\n```\n\n</DatabaseBlock>\n\n> **info:**\n> \n> The `virtual()` in the `messageResolver` `user` property is a [virtual property](../../api/schema/resolvers.md#virtual-property-resolvers) and indicates that the value does not come from the messages database table.\n>\n\n## Creating a migration\n\n<DatabaseBlock global-id=\"sql\">\n\nNow that our schemas and resolvers have everything we need, we also have to update the database with those changes. For SQL databases this is done with migrations. Migrations are a best practice for SQL databases to roll out and undo changes to the data model. Every change we make in a schema will need its corresponding migration step.\n\nInitially, every database service will automatically add a migration that creates a table for it with an `id` and `text` property. Our users service also already added a migration to add the email and password fields for logging in. The migration for the changes we made in this chapter needs to\n\n- Add the `avatar` string field to the `users` table\n- Add the `createdAt` number field to the `messages` table\n- Add the `userId` number field to the `messages` table and reference it with the `id` in the `users` table\n\nTo create a new migration with the name `chat` run\n\n```\nnpm run migrate:make -- chat\n```\n\nYou should see something like\n\n```\nCreated Migration: /path/to/feathers-chat/migrations/20220622012334_chat.(ts|js)\n```\n\nOpen that file and update it as follows\n\n```ts{4-11,15-22}\nimport type { Knex } from 'knex'\n\nexport async function up(knex: Knex): Promise<void> {\n  await knex.schema.alterTable('users', (table) => {\n    table.string('avatar')\n  })\n\n  await knex.schema.alterTable('messages', (table) => {\n    table.bigint('createdAt')\n    table.bigint('userId').references('id').inTable('users')\n  })\n}\n\nexport async function down(knex: Knex): Promise<void> {\n  await knex.schema.alterTable('users', (table) => {\n    table.dropColumn('avatar')\n  })\n\n  await knex.schema.alterTable('messages', (table) => {\n    table.dropColumn('createdAt')\n    table.dropColumn('userId')\n  })\n}\n```\n\nWe can run the migrations on the current database with\n\n```\nnpm run migrate\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n> **tip:**\n> \n> For MongoDB no migrations are necessary.\n> \n\n</DatabaseBlock>\n\n## What's next?\n\nIn this chapter we learned about schemas and implemented all the things we need for our chat application. In the next chapter we will learn about [authentication](./authentication.md) and add a \"Login with GitHub\" button.",
    "rawContent": "## Feathers schemas\n\nWhile schemas and resolvers can be used outside of a Feathers application, you will usually encounter them in a Feathers context where they come in four kinds:\n\n- **Result** schemas and resolvers that define the data that is being returned. This is also where associated data would be fetched\n- **Data** schemas and resolvers handle the data from a `create`, `update`, `patch`, or custom service method and can be used to add/replace things like default or calculated values (e.g. the `createdAt` or `updatedAt` date) before saving it to the database\n- **Query** schemas and resolvers validate and convert the query string and can also be used for additional limitations like only allowing a user to see and modify their own data\n- **External** resolvers return a safe version of the data (by e.g. hiding a users password) that can be sent to external clients\n\nWhile it may initially look like a bit more code, schema driven development is a great way to have the data models and how data is modified in a single place.\n\n## Adding a user avatar\n\nLet's extend our existing users schema to add an `avatar` property so that our users can have a profile image.\n\nFirst we need to update the `src/services/users/users.schema.ts` file with the schema property for the avatar and a resolver property that sets a default avatar using the [Gravatar](https://en.gravatar.com/) based on the email address:\nFirst we need to update the `src/services/users/users.schema.js` file with the schema property for the avatar and a resolver property that sets a default avatar using the [Gravatar](https://en.gravatar.com/) based on the email address:\n\n<DatabaseBlock global-id=\"sql\">\n\n```ts{2,17-18,34,44-54,68,82-86}\n// For more information about this file see https://dove.feathersjs.com/guides/cli/service.schemas.html\nimport crypto from 'crypto'\nimport { resolve } from '@feathersjs/schema'\nimport { Type, getValidator, querySyntax } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport { passwordHash } from '@feathersjs/authentication-local'\n\nimport type { HookContext } from '../../declarations'\nimport { dataValidator, queryValidator } from '../../validators'\n\n// Main data model schema\nexport const userSchema = Type.Object(\n  {\n    id: Type.Number(),\n    email: Type.String(),\n    password: Type.Optional(Type.String()),\n    githubId: Type.Optional(Type.Number()),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\nexport type User = Static<typeof userSchema>\nexport const userValidator = getValidator(userSchema, dataValidator)\nexport const userResolver = resolve<User, HookContext>({})\n\nexport const userExternalResolver = resolve<User, HookContext>({\n  // The password should never be visible externally\n  password: async () => undefined\n})\n\n// Schema for creating new users\nexport const userDataSchema = Type.Pick(\n  userSchema,\n  ['email', 'password', 'githubId', 'avatar'],\n  {\n    $id: 'UserData',\n    additionalProperties: false\n  }\n)\nexport type UserData = Static<typeof userDataSchema>\nexport const userDataValidator = getValidator(userDataSchema, dataValidator)\nexport const userDataResolver = resolve<User, HookContext>({\n  password: passwordHash({ strategy: 'local' }),\n  avatar: async (value, user) => {\n    // If the user passed an avatar image, use it\n    if (value !== undefined) {\n      return value\n    }\n\n    // Gravatar uses MD5 hashes from an email address to get the image\n    const hash = crypto.createHash('md5').update(user.email.toLowerCase()).digest('hex')\n    // Return the full avatar URL\n    return `https://s.gravatar.com/avatar/${hash}?s=60`\n  }\n})\n\n// Schema for updating existing users\nexport const userPatchSchema = Type.Partial(userSchema, {\n  $id: 'UserPatch'\n})\nexport type UserPatch = Static<typeof userPatchSchema>\nexport const userPatchValidator = getValidator(userPatchSchema, dataValidator)\nexport const userPatchResolver = resolve<User, HookContext>({\n  password: passwordHash({ strategy: 'local' })\n})\n\n// Schema for allowed query properties\nexport const userQueryProperties = Type.Pick(userSchema, ['id', 'email', 'githubId'])\nexport const userQuerySchema = Type.Intersect(\n  [\n    querySyntax(userQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type UserQuery = Static<typeof userQuerySchema>\nexport const userQueryValidator = getValidator(userQuerySchema, queryValidator)\nexport const userQueryResolver = resolve<UserQuery, HookContext>({\n  // If there is a user (e.g. with authentication), they are only allowed to see their own data\n  id: async (value, user, context) => {\n    // We want to be able to get a list of all users but\n    // only let a user modify their own data otherwise\n    if (context.params.user && context.method !== 'find') {\n      return context.params.user.id\n    }\n\n    return value\n  }\n})\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n```ts{2,18-19,35,44-54,82-87}\n// // For more information about this file see https://dove.feathersjs.com/guides/cli/service.schemas.html\nimport crypto from 'crypto'\nimport { resolve } from '@feathersjs/schema'\nimport { Type, getValidator, querySyntax } from '@feathersjs/typebox'\nimport { ObjectIdSchema } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\nimport { passwordHash } from '@feathersjs/authentication-local'\n\nimport type { HookContext } from '../../declarations'\nimport { dataValidator, queryValidator } from '../../validators'\n\n// Main data model schema\nexport const userSchema = Type.Object(\n  {\n    _id: ObjectIdSchema(),\n    email: Type.String(),\n    password: Type.Optional(Type.String()),\n    githubId: Type.Optional(Type.Number()),\n    avatar: Type.Optional(Type.String())\n  },\n  { $id: 'User', additionalProperties: false }\n)\nexport type User = Static<typeof userSchema>\nexport const userValidator = getValidator(userSchema, dataValidator)\nexport const userResolver = resolve<User, HookContext>({})\n\nexport const userExternalResolver = resolve<User, HookContext>({\n  // The password should never be visible externally\n  password: async () => undefined\n})\n\n// Schema for creating new entries\nexport const userDataSchema = Type.Pick(\n  userSchema,\n  ['email', 'password', 'githubId', 'avatar'],\n  {\n    $id: 'UserData'\n  }\n)\nexport type UserData = Static<typeof userDataSchema>\nexport const userDataValidator = getValidator(userDataSchema, dataValidator)\nexport const userDataResolver = resolve<User, HookContext>({\n  password: passwordHash({ strategy: 'local' }),\n  avatar: async (value, user) => {\n    // If the user passed an avatar image, use it\n    if (value !== undefined) {\n      return value\n    }\n\n    // Gravatar uses MD5 hashes from an email address to get the image\n    const hash = crypto.createHash('md5').update(user.email.toLowerCase()).digest('hex')\n    // Return the full avatar URL\n    return `https://s.gravatar.com/avatar/${hash}?s=60`\n  }\n})\n\n// Schema for updating existing entries\nexport const userPatchSchema = Type.Partial(userSchema, {\n  $id: 'UserPatch'\n})\nexport type UserPatch = Static<typeof userPatchSchema>\nexport const userPatchValidator = getValidator(userPatchSchema, dataValidator)\nexport const userPatchResolver = resolve<User, HookContext>({\n  password: passwordHash({ strategy: 'local' })\n})\n\n// Schema for allowed query properties\nexport const userQueryProperties = Type.Pick(userSchema, ['_id', 'email', 'githubId'])\nexport const userQuerySchema = Type.Intersect(\n  [\n    querySyntax(userQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type UserQuery = Static<typeof userQuerySchema>\nexport const userQueryValidator = getValidator(userQuerySchema, queryValidator)\nexport const userQueryResolver = resolve<UserQuery, HookContext>({\n  // If there is a user (e.g. with authentication), they are only allowed to see their own data\n  _id: async (value, user, context) => {\n    // We want to be able to get a list of all users but\n    // only let a user modify their own data otherwise\n    if (context.params.user && context.method !== 'find') {\n      return context.params.user._id\n    }\n\n    return value\n  }\n})\n```\n\n</DatabaseBlock>\n\nWhat happened here?\n\n- We are adding an optional `avatar` field to our user object. This is where we store a user image to show in the chat.\n- The `userDataSchema` is updated to include the `avatar` so that a new user can be created with a custom avatar\n- In the `userDataResolver`, if an `avatar` is not set, we set a default image using the [Gravatar avatar](https://en.gravatar.com/) for the email address\n- The `userQueryResolver` for the user id property allows for a user to `find` all other users but only change (`patch`, `remove`) their own data\n\n## Handling messages\n\nNext we can look at the messages service schema. We want to include the date when the message was created as `createdAt` and the id of the user who sent it as `userId`. When we get a message back, we also want to populate the `user` with the user data from `userId` so that we can show their avatar and email.\n\nUpdate the `src/services/messages/messages.schema.ts` file like this:\nUpdate the `src/services/messages/messages.schema.js` file like this:\n\n<DatabaseBlock global-id=\"sql\">\n\n```ts{2,8,15-17,24-27,39-45,58-61,74-82}\n// For more information about this file see https://dove.feathersjs.com/guides/cli/service.schemas.html\nimport { resolve, virtual } from '@feathersjs/schema'\nimport { Type, getValidator, querySyntax } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\n\nimport type { HookContext } from '../../declarations'\nimport { dataValidator, queryValidator } from '../../validators'\nimport { userSchema } from '../users/users.schema'\n\n// Main data model schema\nexport const messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    userId: Type.Number(),\n    user: Type.Ref(userSchema)\n  },\n  { $id: 'Message', additionalProperties: false }\n)\nexport type Message = Static<typeof messageSchema>\nexport const messageValidator = getValidator(messageSchema, dataValidator)\nexport const messageResolver = resolve<Message, HookContext>({\n  user: virtual(async (message, context) => {\n    // Associate the user that sent the message\n    return context.app.service('users').get(message.userId)\n  })\n})\n\nexport const messageExternalResolver = resolve<Message, HookContext>({})\n\n// Schema for creating new entries\nexport const messageDataSchema = Type.Pick(messageSchema, ['text'], {\n  $id: 'MessageData'\n})\nexport type MessageData = Static<typeof messageDataSchema>\nexport const messageDataValidator = getValidator(messageDataSchema, dataValidator)\nexport const messageDataResolver = resolve<Message, HookContext>({\n  userId: async (_value, _message, context) => {\n    // Associate the record with the id of the authenticated user\n    return context.params.user.id\n  },\n  createdAt: async () => {\n    return Date.now()\n  }\n})\n\n// Schema for updating existing entries\nexport const messagePatchSchema = Type.Partial(messageSchema, {\n  $id: 'MessagePatch'\n})\nexport type MessagePatch = Static<typeof messagePatchSchema>\nexport const messagePatchValidator = getValidator(messagePatchSchema, dataValidator)\nexport const messagePatchResolver = resolve<Message, HookContext>({})\n\n// Schema for allowed query properties\nexport const messageQueryProperties = Type.Pick(messageSchema,[\n  'id',\n  'text',\n  'createdAt',\n  'userId'\n])\nexport const messageQuerySchema = Type.Intersect(\n  [\n    querySyntax(messageQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type MessageQuery = Static<typeof messageQuerySchema>\nexport const messageQueryValidator = getValidator(messageQuerySchema, queryValidator)\nexport const messageQueryResolver = resolve<MessageQuery, HookContext>({\n  userId: async (value, user, context) => {\n    // We want to be able to find all messages but\n    // only let a user modify their own messages otherwise\n    if (context.params.user && context.method !== 'find') {\n      return context.params.user.id\n    }\n\n    return value\n  }\n})\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n```ts{2,9,16-18,25-28,40-46,59-62,75-83}\n// // For more information about this file see https://dove.feathersjs.com/guides/cli/service.schemas.html\nimport { resolve, virtual } from '@feathersjs/schema'\nimport { Type, getValidator, querySyntax } from '@feathersjs/typebox'\nimport { ObjectIdSchema } from '@feathersjs/typebox'\nimport type { Static } from '@feathersjs/typebox'\n\nimport type { HookContext } from '../../declarations'\nimport { dataValidator, queryValidator } from '../../validators'\nimport { userSchema } from '../users/users.schema'\n\n// Main data model schema\nexport const messageSchema = Type.Object(\n  {\n    _id: ObjectIdSchema(),\n    text: Type.String(),\n    createdAt: Type.Number(),\n    userId: Type.String({ objectid: true }),\n    user: Type.Ref(userSchema)\n  },\n  { $id: 'Message', additionalProperties: false }\n)\nexport type Message = Static<typeof messageSchema>\nexport const messageValidator = getValidator(messageSchema, dataValidator)\nexport const messageResolver = resolve<Message, HookContext>({\n  user: virtual(async (message, context) => {\n    // Associate the user that sent the message\n    return context.app.service('users').get(message.userId)\n  })\n})\n\nexport const messageExternalResolver = resolve<Message, HookContext>({})\n\n// Schema for creating new entries\nexport const messageDataSchema = Type.Pick(messageSchema, ['text'], {\n  $id: 'MessageData'\n})\nexport type MessageData = Static<typeof messageDataSchema>\nexport const messageDataValidator = getValidator(messageDataSchema, dataValidator)\nexport const messageDataResolver = resolve<Message, HookContext>({\n  userId: async (_value, _message, context) => {\n    // Associate the record with the id of the authenticated user\n    return context.params.user._id\n  },\n  createdAt: async () => {\n    return Date.now()\n  }\n})\n\n// Schema for updating existing entries\nexport const messagePatchSchema = Type.Partial(messageSchema, {\n  $id: 'MessagePatch'\n})\nexport type MessagePatch = Static<typeof messagePatchSchema>\nexport const messagePatchValidator = getValidator(messagePatchSchema, dataValidator)\nexport const messagePatchResolver = resolve<Message, HookContext>({})\n\n// Schema for allowed query properties\nexport const messageQueryProperties = Type.Pick(messageSchema, ['_id', 'text', 'createdAt', 'userId'])\nexport const messageQuerySchema = Type.Intersect(\n  [\n    querySyntax(messageQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type MessageQuery = Static<typeof messageQuerySchema>\nexport const messageQueryValidator = getValidator(messageQuerySchema, queryValidator)\nexport const messageQueryResolver = resolve<MessageQuery, HookContext>({\n  userId: async (value, user, context) => {\n    // We want to be able to find all messages but\n    // only let a user modify their own messages otherwise\n    if (context.params.user && context.method !== 'find') {\n      return context.params.user._id\n    }\n\n    return value\n  }\n})\n```\n\n</DatabaseBlock>\n\n> **info:**\n> \n> The `virtual()` in the `messageResolver` `user` property is a [virtual property](../../api/schema/resolvers.md#virtual-property-resolvers) and indicates that the value does not come from the messages database table.\n>\n\n## Creating a migration\n\n<DatabaseBlock global-id=\"sql\">\n\nNow that our schemas and resolvers have everything we need, we also have to update the database with those changes. For SQL databases this is done with migrations. Migrations are a best practice for SQL databases to roll out and undo changes to the data model. Every change we make in a schema will need its corresponding migration step.\n\nInitially, every database service will automatically add a migration that creates a table for it with an `id` and `text` property. Our users service also already added a migration to add the email and password fields for logging in. The migration for the changes we made in this chapter needs to\n\n- Add the `avatar` string field to the `users` table\n- Add the `createdAt` number field to the `messages` table\n- Add the `userId` number field to the `messages` table and reference it with the `id` in the `users` table\n\nTo create a new migration with the name `chat` run\n\n```\nnpm run migrate:make -- chat\n```\n\nYou should see something like\n\n```\nCreated Migration: /path/to/feathers-chat/migrations/20220622012334_chat.(ts|js)\n```\n\nOpen that file and update it as follows\n\n```ts{4-11,15-22}\nimport type { Knex } from 'knex'\n\nexport async function up(knex: Knex): Promise<void> {\n  await knex.schema.alterTable('users', (table) => {\n    table.string('avatar')\n  })\n\n  await knex.schema.alterTable('messages', (table) => {\n    table.bigint('createdAt')\n    table.bigint('userId').references('id').inTable('users')\n  })\n}\n\nexport async function down(knex: Knex): Promise<void> {\n  await knex.schema.alterTable('users', (table) => {\n    table.dropColumn('avatar')\n  })\n\n  await knex.schema.alterTable('messages', (table) => {\n    table.dropColumn('createdAt')\n    table.dropColumn('userId')\n  })\n}\n```\n\nWe can run the migrations on the current database with\n\n```\nnpm run migrate\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n> **tip:**\n> \n> For MongoDB no migrations are necessary.\n> \n\n</DatabaseBlock>\n\n## What's next?\n\nIn this chapter we learned about schemas and implemented all the things we need for our chat application. In the next chapter we will learn about [authentication](./authentication.md) and add a \"Login with GitHub\" button.",
    "breadcrumb": "Schemas and resolvers",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/basics/schemas.md",
    "heading": "Schemas and resolvers",
    "subHeadings": [
      "Feathers schemas",
      "Adding a user avatar",
      "Handling messages",
      "Creating a migration",
      "What's next?"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 4495,
    "category": "guides",
    "tags": [
      "services",
      "application",
      "context",
      "params",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "authentication",
      "github",
      "schema",
      "resolver",
      "typebox",
      "validators",
      "database",
      "mongodb",
      "knex",
      "http",
      "client",
      "declarations",
      "cli",
      "migration",
      "logging",
      "login",
      "users",
      "custom service"
    ],
    "embedding": [
      0.016091,
      0.006314,
      -0.057042,
      0.031202,
      -0.008489,
      -0.017006,
      0.025138,
      0.028115,
      0.007656,
      -0.015258,
      -0.011633,
      0.029786,
      -0.054456,
      0.008965,
      -0.020988,
      0.030056,
      -0.019191,
      -0.050601,
      0.040555,
      -0.056016,
      -0.05368,
      -0.017749,
      -0.007721,
      -0.01407,
      0.010482,
      0.012905,
      -0.009141,
      -0.012636,
      0.014589,
      0.020704,
      -0.000318,
      0.008432,
      -0.017373,
      -0.010004,
      -0.027384,
      -0.00343,
      0.02166,
      0.000627,
      -0.038225,
      0.048689,
      -0.003387,
      0.011935,
      -0.006811,
      -0.002409,
      0.003914,
      -0.052999,
      0.020452,
      -0.034793,
      0.022651,
      -0.039826,
      -0.053714,
      0.012073,
      0.001986,
      -0.047117,
      0.073703,
      0.039164,
      -0.071577,
      0.02305,
      -0.052269,
      0.004689,
      -0.008626,
      0.020516,
      -0.022331,
      -0.009189,
      0.007924,
      0.028897,
      -0.014369,
      -0.005357,
      -0.021882,
      -0.047748,
      -0.025713,
      -0.021129,
      -0.033174,
      0.018002,
      -0.068153,
      0.006464,
      -0.000783,
      0.001066,
      -0.032964,
      0.005425,
      -0.028096,
      -0.015957,
      0.006629,
      0.006432,
      -0.007751,
      0.028707,
      -0.027567,
      0.078587,
      0.024182,
      0.021082,
      -0.006532,
      -0.0357,
      0.055112,
      -0.059746,
      -0.014645,
      0.0422,
      -0.046469,
      0.014007,
      0.03096,
      0.003105,
      -0.020915,
      0.047922,
      -0.051101,
      -0.002198,
      0.062764,
      0.014154,
      0.028041,
      -0.001929,
      -0.032541,
      -0.026491,
      0.01878,
      -0.024116,
      0.028217,
      0.003008,
      -0.010683,
      -0.018875,
      0.011232,
      -0.033074,
      0.015411,
      0.007182,
      0.005089,
      0.055181,
      0.056146,
      -0.055215,
      -0.044492,
      0.025054,
      -0.011997,
      0.018784,
      0.009038,
      -0.002803,
      0.023771,
      -0.078887,
      -0.009684,
      -0.021464,
      -0.011134,
      0.003261,
      0.006645,
      0.010719,
      -0.017318,
      -0.036809,
      0.011755,
      -0.020135,
      0.001487,
      -0.056239,
      0.039988,
      -0.002918,
      0.064759,
      0.026623,
      -0.017647,
      -0.003783,
      0.042475,
      -0.007696,
      -0.033324,
      -0.0167,
      0.010886,
      -0.060496,
      -0.000693,
      -0.010847,
      0.000826,
      0.020531,
      -0.026778,
      0.033993,
      -0.042494,
      -0.022046,
      0.079785,
      -0.038462,
      -0.01886,
      -0.030486,
      0.014192,
      -0.032823,
      0.023893,
      -0.024949,
      0.003872,
      -0.012206,
      0.015472,
      0.032403,
      0.060729,
      0.02945,
      0.033966,
      -0.021589,
      -0.010237,
      -0.018774,
      -0.031527,
      -0.038292,
      -0.002647,
      -0.025814,
      -0.029219,
      -0.036076,
      0.001101,
      0.052275,
      -0.022212,
      -0.007605,
      0.052302,
      -0.01422,
      -0.001493,
      0.014825,
      -0.010696,
      -0.017333,
      0.014194,
      -0.00557,
      0.007715,
      0.02831,
      0.022875,
      0.027036,
      -0.041961,
      -0.032871,
      -0.013802,
      -0.059135,
      0.011067,
      -0.07012,
      0.028542,
      0.035017,
      -0.015748,
      -0.005954,
      -0.014072,
      0.000362,
      -0.009882,
      0.012268,
      -0.023911,
      -0.052592,
      -0.008241,
      0.0038,
      0.010836,
      0.011429,
      0.015442,
      0.022085,
      0.03408,
      0.008373,
      -0.001939,
      -0.000729,
      -0.024911,
      0.029372,
      0.044865,
      0.005895,
      0.0231,
      -0.029572,
      -0.03473,
      0.006244,
      0.007368,
      -0.020666,
      -0.009213,
      -0.010828,
      -0.004891,
      -0.006772,
      -0.039018,
      -0.001489,
      0.011912,
      -0.004381,
      -0.026397,
      -0.004061,
      0.02034,
      0.004893,
      0.010447,
      -0.03619,
      0.009309,
      -0.004482,
      0.039769,
      -0.016563,
      0.004175,
      -0.01027,
      0.008516,
      -0.001759,
      0.002891,
      0.01004,
      0.019759,
      -0.014691,
      -0.035164,
      -0.060814,
      0.025505,
      0.006562,
      -0.0296,
      0.043621,
      0.012172,
      0.016938,
      -0.037008,
      -0.003084,
      -0.005079,
      -0.060094,
      0.110432,
      0.062884,
      0.000034,
      0.030428,
      0.036839,
      0.054378,
      0.010907,
      0.011386,
      -0.028253,
      0.004914,
      0.017081,
      -0.042487,
      -0.012238,
      -0.014093,
      0.072374,
      0.023662,
      0.040957,
      -0.000534,
      -0.002028,
      -0.135883,
      -0.006444,
      0.030773,
      0.02175,
      -0.007601,
      0.012939,
      -0.03726,
      0.009036,
      -0.059584,
      0.023319,
      0.000191,
      -0.053468,
      -0.025499,
      -0.015021,
      -0.013772,
      0.004175,
      0.006718,
      -0.025914,
      0.048236,
      -0.04005,
      -0.045856,
      -0.044696,
      0.040037,
      -0.014312,
      0.010561,
      -0.003651,
      -0.028606,
      0.014077,
      -0.02503,
      0.001526,
      -0.02975,
      -0.027848,
      0.013546,
      0.053775,
      -0.038306,
      -0.032742,
      -0.003913,
      -0.000764,
      0.006283,
      -0.044925,
      0.021995,
      0.0498,
      -0.018995,
      0.032828,
      0.03071,
      0.013196,
      0.04812,
      0.028169,
      -0.045547,
      0.023834,
      0.002483,
      -0.007928,
      -0.007607,
      -0.038609,
      -0.05653,
      -0.018793,
      0.002508,
      0.050101,
      0.021376,
      -0.018844,
      0.018137,
      -0.027115,
      0.029881,
      -0.00873,
      -0.04503,
      -0.007422,
      0.007122,
      -0.011122,
      0.021211,
      -0.028628,
      0.03686,
      -0.049338,
      -0.029373,
      0.003436,
      -0.007177,
      0.017405,
      0.000145,
      0.006607,
      0.011711,
      -0.107588,
      -0.038582,
      0.000184,
      0.041843,
      0.006724,
      -0.033784,
      0.019847,
      -0.039717,
      0.005648,
      0.054588,
      0.246681,
      0.018267,
      -0.015324,
      -0.000194,
      0.005162,
      -0.005194,
      0.056082,
      0.070549,
      0.029748,
      0.006666,
      0.027526,
      0.017728,
      0.018394,
      -0.021402,
      -0.024363,
      0.006888,
      -0.042183,
      0.014802,
      0.057069,
      -0.005892,
      -0.000116,
      -0.035134,
      0.010322,
      0.045054,
      -0.095266,
      -0.028573,
      -0.015975,
      0.071946,
      -0.037968,
      0.016771,
      -0.008097,
      0.00952,
      0.03488,
      -0.012123,
      -0.05957,
      0.001265,
      -0.007696,
      -0.029203,
      -0.01014,
      0.00683,
      -0.052709,
      -0.035391,
      0.045438,
      -0.028216,
      0.017957,
      -0.017819,
      0.009827,
      0.007639,
      -0.045119,
      -0.069557,
      -0.024881,
      -0.041405,
      -0.009932,
      0.004793,
      -0.013973,
      -0.023834,
      -0.02821,
      -0.022984,
      -0.020589,
      -0.016636,
      0.045577,
      0.004648,
      -0.089079,
      -0.01,
      -0.019607,
      0.000517,
      0.019289,
      -0.05282,
      -0.00425,
      0.015317,
      -0.01927,
      0.04064,
      0.01339,
      -0.0099,
      0.004996,
      0.019705,
      0.032025,
      0.007271,
      0.00639,
      0.066762,
      -0.001144,
      0.042026,
      -0.02462,
      -0.003978,
      0.048474,
      0.04001,
      -0.011652,
      0.013376,
      -0.01,
      -0.021356,
      -0.011045,
      0.004552,
      0.007245,
      0.049759,
      0.026184,
      0.034437,
      0.001263,
      -0.010545,
      -0.014451,
      -0.033438,
      0.020712,
      0.041094,
      -0.003835,
      -0.025686,
      0.067565,
      -0.080042,
      -0.009754,
      0.0401,
      -0.005906,
      -0.007434,
      -0.037564,
      0.040022,
      -0.00957,
      0.013559,
      0.037387,
      0.024145,
      0.041698,
      0.004335,
      0.040253,
      0.024625,
      0.010723,
      0.035846,
      -0.032553,
      0.024001,
      0.034358,
      -0.062949,
      -0.022648,
      -0.006032,
      -0.02898,
      0.049916,
      0.041524,
      -0.028388,
      0.029824,
      0.042711,
      -0.029476,
      -0.002065,
      0.031536,
      0.011017,
      0.007896,
      0.00272,
      -0.032648,
      -0.009936,
      -0.012102,
      0.030651,
      0.006679,
      0.061462,
      -0.011109,
      0.019805,
      -0.00541,
      -0.002527,
      0.019465,
      0.047477,
      0.033458,
      -0.009943,
      -0.012458,
      -0.028442,
      -0.005116,
      0.009806,
      0.021407,
      -0.021602,
      -0.028004,
      -0.006174,
      0.012897,
      0.019734,
      0.037189,
      -0.016459,
      0.028846,
      0.001177,
      0.024388,
      -0.044016,
      -0.014073,
      -0.049981,
      -0.034061,
      0.061902,
      -0.006739,
      -0.011349,
      -0.062456,
      0.004794,
      0.037804,
      -0.050918,
      -0.006043,
      0.038035,
      -0.034503,
      -0.000365,
      -0.011842,
      0.048076,
      0.018357,
      -0.005824,
      0.022774,
      -0.008773,
      -0.051323,
      0.086473,
      -0.021077,
      0.012413,
      0.032695,
      0.01356,
      0.04201,
      0.055056,
      -0.002012,
      0.00119,
      -0.01036,
      0.005026,
      0.0019,
      -0.001343,
      -0.030141,
      -0.021768,
      -0.013346,
      0.024622,
      -0.075975,
      -0.003256,
      -0.039066,
      0.043409,
      -0.040733,
      -0.000033,
      0.058354,
      -0.019648,
      0.038268,
      0.026875,
      0.019503,
      -0.004102,
      0.002879,
      0.006229,
      -0.007897,
      -0.042109,
      -0.048843,
      0.018092,
      0.028445,
      0.022279,
      -0.017859,
      0.010389,
      -0.002303,
      0.0143,
      -0.003915,
      -0.029379,
      0.00458,
      -0.035185,
      0.038477,
      0.016978,
      0.035778,
      0.004726,
      0.027682,
      -0.00634,
      0.042899,
      0.019799,
      -0.013427,
      -0.004944,
      -0.01106,
      -0.022173,
      -0.037734,
      0.06844,
      -0.012577,
      -0.021109,
      0.016912,
      0.009786,
      -0.001802,
      0.024367,
      0.040577,
      -0.021149,
      -0.03247,
      -0.02958,
      -0.017584,
      0.015584,
      -0.005257,
      -0.002804,
      -0.011639,
      -0.0663,
      -0.012629,
      -0.026118,
      -0.018455,
      0.009746,
      -0.018197,
      -0.021286,
      -0.021903,
      -0.058233,
      -0.001698,
      0.020587,
      -0.021072,
      -0.00781,
      0.024528,
      0.020897,
      -0.04463,
      0.018663,
      0.020396,
      0.059902,
      0.002649,
      0.037027,
      0.020391,
      0.007,
      0.021144,
      -0.070482,
      -0.009046,
      -0.000852,
      -0.019718,
      0.062642,
      -0.059907,
      -0.029538,
      -0.025341,
      -0.008389,
      0.023124,
      0.014773,
      -0.007753,
      0.027049,
      0.013535,
      -0.014292,
      0.009472,
      0.011323,
      -0.021589,
      -0.045527,
      0.008343,
      0.000267,
      0.002351,
      -0.031451,
      0.02598,
      -0.016517,
      0.008371,
      -0.049177,
      0.028336,
      -0.023104,
      -0.019941,
      -0.006163,
      0.04963,
      0.022976,
      -0.030257,
      -0.000372,
      0.034374,
      0.002721,
      -0.003035,
      -0.003608,
      -0.032796,
      -0.007074,
      -0.068337,
      -0.003542,
      0.016598,
      -0.018395,
      -0.016523,
      -0.042796,
      0.04395,
      -0.00859,
      0.041021,
      -0.041019,
      -0.036051,
      -0.031058,
      0.076885,
      -0.014119,
      0.020599,
      -0.026417,
      -0.024607,
      -0.009028,
      -0.038296,
      -0.012087,
      -0.030783,
      0.011001,
      -0.004594,
      -0.03141,
      0.014803,
      -0.019124,
      -0.048846,
      0.016614,
      0.022021,
      0.026171,
      -0.002943,
      0.028605,
      0.02727,
      0.000982,
      0.012673,
      0.007025,
      0.062213,
      -0.000133,
      -0.035357,
      -0.007648,
      -0.002652,
      0.00291,
      0.014079,
      -0.019322,
      -0.053794,
      0.012873,
      -0.050435,
      0.005972,
      0.0061,
      -0.051443,
      -0.040027,
      -0.03288,
      -0.013305,
      -0.025506,
      -0.036855,
      0.021815,
      -0.013189,
      0.037559,
      0.02834,
      -0.023182,
      0.016611,
      0.011078,
      -0.015181,
      -0.010918,
      -0.145498,
      0.043262,
      -0.000028,
      0.025377,
      -0.003747,
      0.008708,
      -0.006071,
      0.000189,
      0.04201,
      -0.041822,
      -0.027376,
      -0.012177,
      0.010017,
      -0.016254,
      0.020343,
      0.004509,
      -0.002581,
      0.004805,
      -0.000672,
      -0.019087,
      0.010854,
      -0.003221,
      0.027159,
      0.00147,
      0.018768,
      -0.041238,
      0.019736,
      0.022914,
      -0.000162,
      0.009289,
      -0.053118,
      -0.028889,
      0.013824,
      0.029269,
      -0.020587,
      0.033966,
      0.009786,
      -0.007342,
      -0.030738,
      0.026151,
      0.018158,
      0.006733,
      -0.05041,
      0.03222,
      0.038645,
      0.088019,
      -0.001669,
      -0.040885,
      -0.018877,
      -0.030479,
      -0.030415,
      0.006379,
      -0.01073,
      0.021769,
      0.005499,
      -0.010467,
      -0.038851,
      -0.019469,
      -0.053317,
      -0.004144,
      0.00166,
      0.049959,
      -0.011758,
      -0.032776,
      0.001785,
      -0.000065,
      -0.050603,
      0.02529,
      0.002618,
      0.019956,
      0.022851,
      -0.02653,
      -0.040755,
      0.007545,
      0.039076,
      -0.034341,
      0.03401,
      0.005079,
      -0.020467,
      0.002187,
      0.02942,
      -0.035945,
      -0.061374,
      0.048128,
      0.060617,
      0.033502,
      0.003242,
      0.023232,
      -0.016482,
      -0.003812,
      -0.037307,
      -0.037437,
      0.00398,
      0.044268,
      -0.043668,
      0.037257,
      -0.004461,
      0.000581,
      0.01351,
      -0.014621,
      -0.005513,
      -0.032607,
      0.024679,
      -0.000186,
      -0.016307,
      0.032914,
      0.011023,
      -0.013546,
      -0.003748,
      -0.009077,
      0.037131,
      0.002938,
      -0.012958,
      -0.022706,
      -0.047036,
      -0.012027,
      0.024789,
      0.037832,
      -0.018426,
      -0.014689,
      -0.012734,
      0.013839,
      -0.009431,
      -0.031362,
      0.056301,
      0.030172,
      0.039577,
      -0.000381,
      0.052487,
      -0.003012,
      0.035306,
      -0.022886,
      -0.018381,
      0.014101,
      0.044871,
      0.007307,
      -0.049938,
      0.042622,
      -0.023608,
      -0.021422,
      -0.02708,
      -0.024239,
      0.021993,
      -0.019895,
      -0.026713,
      -0.037787,
      -0.02739,
      0.02977,
      -0.016808,
      -0.032222,
      0.013441,
      -0.004148,
      -0.008765,
      0.035644,
      -0.018808,
      0.026008,
      0.015888,
      -0.014309,
      -0.011553,
      0.050966,
      0.015827,
      -0.057049,
      -0.002148,
      -0.025349,
      -0.017357,
      0.000339,
      -0.017737,
      0.003254,
      0.015188,
      0.007742,
      0.000807,
      0.073179,
      -0.015173,
      -0.047982,
      0.026858,
      -0.032114,
      0.014138,
      -0.024181,
      0.042567,
      0.019891,
      0.025514,
      0.008989,
      0.019518,
      0.041858,
      0.067932,
      0.028205,
      -0.004411,
      -0.005087,
      -0.012708,
      0.019849,
      -0.033116,
      -0.007744,
      0.013195,
      0.015588,
      0.006253,
      -0.01652,
      0.023222,
      -0.009584,
      -0.033621,
      0.053879,
      0.006168,
      -0.018083,
      -0.051763,
      -0.007875,
      0.005877,
      0.009652,
      -0.006014,
      0.007623,
      0.001927,
      0.058386,
      -0.037962,
      0.002749,
      0.001658,
      0.029743,
      0.008122,
      0.018516,
      -0.007588,
      0.026914,
      -0.011905,
      -0.032555,
      0.031227,
      0.023948,
      0.014526,
      -0.060857,
      -0.0698,
      -0.000366,
      -0.001829,
      -0.004839,
      -0.020195,
      -0.012145,
      -0.031791,
      -0.029643,
      0.024935,
      0.05833,
      -0.001565,
      -0.009613,
      0.029509,
      0.032614,
      -0.000263,
      0.011681,
      0.054625,
      -0.00879,
      0.020192,
      0.004201
    ]
  },
  {
    "id": "v5-services-0",
    "content": "# Services\nBreadcrumb: Services\nCovers: Feathers services | Service methods | Service events | Database adapters | Generating a service | What's next?\nTopics: hooks, services, application, params, find, get, create, update, patch, remove, custom methods, setup, teardown, authentication, database, adapter, mongodb, postgresql, knex, memory, pagination, querying, collection, real-time, websockets, events, rest, http, transport, middleware, generate, custom service\n\n## Feathers services\n\nIn Feathers, a service is an object or instance of a class that implements certain methods. Services provide a way for Feathers to interact with different kinds of data sources in a uniform, protocol-independent way.\n\nFor example, you could use services to read and/or write data to one of the supported databases, interact with the file system, call a third-party API/service (such as MailGun for sending emails, Stripe for processing payments, or OpenWeatherMap for returning weather information), or even read and/or write to a completely different type of database.\n\nA standardized interface allows us to interact with the Database/API/Gnomes inside in a uniform manner across any transport protocol, be it REST, websockets, internally within the application, or Carrier Pigeon ðŸ•Šï¸\n\nOnce you write a service method, which usually does not do anything Feathers-specific, you can automatically use it as a REST endpoint or call it through a websocket. Feathers takes care of all the necessary boilerplate, so you can focus on writing the service method itself.\n\n### Service methods\n\nService methods are [CRUD](https://en.wikipedia.org/wiki/Create,_read,_update_and_delete) methods that a service can implement. Feathers offers a set of general methods that a service can implement, these are:\n\n- `find` - Find all data (potentially matching a query)\n- `get` - Get a single data entry by its unique identifier\n- `create` - Create new data\n- `update` - Update an existing data entry by completely replacing it\n- `patch` - Update one or more data entries by merging with the new data\n- `remove` - Remove one or more existing data entries\n- `setup` - Called when the application is started\n- `teardown` - Called when the application is shut down\n\nBelow is an example of Feathers service interface as a class and basic registration on a Feathers application via [app.use(name, service[, options])](../../api/application.md#use-path-service):\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Application, Id, NullableId, Params } from '@feathersjs/feathers'\n\nclass MyService {\n  async find(params: Params) {}\n  async get(id: Id, params: Params) {}\n  async create(data: any, params: Params) {}\n  async update(id: NullableId, data: any, params: Params) {}\n  async patch(id: NullableId, data: any, params: Params) {}\n  async remove(id: NullableId, params: Params) {}\n  async setup(path: string, app: Application) {}\n  async teardown(path: string, app: Application) {}\n}\n\nconst app = feathers<{ myservice: MyService }>()\n\napp.use('myservice', new MyService())\n```\n\nThe parameters for service methods are:\n\n- `id` - The unique identifier for the data\n- `data` - The data sent by the user (for `create`, `update`, `patch` and custom methods)\n- `params` - Additional parameters, for example the authenticated user or the query\n\nFor `setup` and `teardown` (which are only called once on application startup and shutdown) we have\n\n- `path` - The path the service is registered on\n- `app` - The [Feathers application](./../../api/application.md)\n\nUsually those methods can be used for most API functionality but it is also possible to add your own [custom service methods](../../api/services.md#custom-methods).\n\n> **info:**\n> \n> A service does not have to implement all those methods but must have at least one. For more information about services, service methods, and parameters see the [Service API documentation](../../api/services.md).\n> \n\nWhen used as a REST API, incoming requests get mapped automatically to their corresponding service method like this:\n\n| Service method                              | HTTP method | Path                  |\n| ------------------------------------------- | ----------- | --------------------- |\n| `service.find({ query: {} })`               | GET         | /messages             |\n| `service.find({ query: { unread: true } })` | GET         | /messages?unread=true |\n| `service.get(123)`                          | GET         | /messages/123         |\n| `service.create(body)`                      | POST        | /messages             |\n| `service.update(123, body)`                 | PUT         | /messages/123         |\n| `service.patch(123, body)`                  | PATCH       | /messages/123         |\n| `service.remove(123)`                       | DELETE      | /messages/123         |\n\n### Service events\n\nA registered service will automatically become a [NodeJS EventEmitter](https://nodejs.org/api/events.html) that sends events with the new data when a service method that modifies data (`create`, `update`, `patch` and `remove`) returns. Events can be listened to with `app.service('messages').on('eventName', data => {})`. Here is a list of the service methods and their corresponding events:\n\n| Service method     | Service event           |\n| ------------------ | ----------------------- |\n| `service.create()` | `service.on('created')` |\n| `service.update()` | `service.on('updated')` |\n| `service.patch()`  | `service.on('patched')` |\n| `service.remove()` | `service.on('removed')` |\n\nThis is how Feathers does real-time.\n\n```js\napp.service('myservice').on('created', (data) => {\n  console.log('Got created event', data)\n})\n```\n\n## Database adapters\n\nNow that we have all those service methods, we could go ahead and implement any kind of custom logic using any backend, similar to what we did in the [quick start guide](./starting.md). Very often, this means creating, reading, updating and removing data from a database.\n\nWriting all that code yourself for every service is pretty repetitive and cumbersome, which is why Feathers has a collection of pre-built services for different databases. They offer most of the basic functionality and can always be customized to your needs. Feathers database adapters support a common [usage API](../../api/databases/common.md), pagination and [querying syntax](../../api/databases/querying.md) for many popular databases. The following database adapters are maintained as part of Feathers core:\n\n- [SQL](../../api/databases/knex.md) for databases like PostgreSQL, SQLite, MySQL, MariaDB, MSSQL\n- [MongoDB](../../api/databases/mongodb.md) for MongoDB\n- [Memory](../../api/databases/memory.md) for in-memory data\n\n> **tip:**\n> \n> There are also many other community maintained database integrations which you can explore on the [ecosystem page](/ecosystem/?cat=Database&sort=downloads). Since they are not part of Feathers core, they are outside the scope of these guides.\n> \n\nIf you went with the default selection, we will use **SQLite** which writes the database to a file and does not require any additional setup. The user service that was created when we [generated authentication](./authentication.md) is already using it.\n\n## Generating a service\n\nIn our new `feathers-chat` application, we can create database backed services with the following command:\n\n```sh\nnpx feathers generate service\n```\n\nThe name for our service is `message` (this is used for variable names etc.) and for the path we use `messages`. Anything else we can confirm with the default:\n\n<DatabaseBlock global-id=\"sql\">\n\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n\n</DatabaseBlock>\n\nThis is it, we now have a database backed messages service with authentication enabled.\n\n## What's next?\n\nIn this chapter we learned about services as a Feathers core concept for abstracting data operations. We also saw how a service sends events which we will use later to create real-time applications. After that, we generated a messages service. Next, we will [look at Feathers hooks](./hooks.md) as a way to create middleware for services.",
    "rawContent": "## Feathers services\n\nIn Feathers, a service is an object or instance of a class that implements certain methods. Services provide a way for Feathers to interact with different kinds of data sources in a uniform, protocol-independent way.\n\nFor example, you could use services to read and/or write data to one of the supported databases, interact with the file system, call a third-party API/service (such as MailGun for sending emails, Stripe for processing payments, or OpenWeatherMap for returning weather information), or even read and/or write to a completely different type of database.\n\nA standardized interface allows us to interact with the Database/API/Gnomes inside in a uniform manner across any transport protocol, be it REST, websockets, internally within the application, or Carrier Pigeon ðŸ•Šï¸\n\nOnce you write a service method, which usually does not do anything Feathers-specific, you can automatically use it as a REST endpoint or call it through a websocket. Feathers takes care of all the necessary boilerplate, so you can focus on writing the service method itself.\n\n### Service methods\n\nService methods are [CRUD](https://en.wikipedia.org/wiki/Create,_read,_update_and_delete) methods that a service can implement. Feathers offers a set of general methods that a service can implement, these are:\n\n- `find` - Find all data (potentially matching a query)\n- `get` - Get a single data entry by its unique identifier\n- `create` - Create new data\n- `update` - Update an existing data entry by completely replacing it\n- `patch` - Update one or more data entries by merging with the new data\n- `remove` - Remove one or more existing data entries\n- `setup` - Called when the application is started\n- `teardown` - Called when the application is shut down\n\nBelow is an example of Feathers service interface as a class and basic registration on a Feathers application via [app.use(name, service[, options])](../../api/application.md#use-path-service):\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport type { Application, Id, NullableId, Params } from '@feathersjs/feathers'\n\nclass MyService {\n  async find(params: Params) {}\n  async get(id: Id, params: Params) {}\n  async create(data: any, params: Params) {}\n  async update(id: NullableId, data: any, params: Params) {}\n  async patch(id: NullableId, data: any, params: Params) {}\n  async remove(id: NullableId, params: Params) {}\n  async setup(path: string, app: Application) {}\n  async teardown(path: string, app: Application) {}\n}\n\nconst app = feathers<{ myservice: MyService }>()\n\napp.use('myservice', new MyService())\n```\n\nThe parameters for service methods are:\n\n- `id` - The unique identifier for the data\n- `data` - The data sent by the user (for `create`, `update`, `patch` and custom methods)\n- `params` - Additional parameters, for example the authenticated user or the query\n\nFor `setup` and `teardown` (which are only called once on application startup and shutdown) we have\n\n- `path` - The path the service is registered on\n- `app` - The [Feathers application](./../../api/application.md)\n\nUsually those methods can be used for most API functionality but it is also possible to add your own [custom service methods](../../api/services.md#custom-methods).\n\n> **info:**\n> \n> A service does not have to implement all those methods but must have at least one. For more information about services, service methods, and parameters see the [Service API documentation](../../api/services.md).\n> \n\nWhen used as a REST API, incoming requests get mapped automatically to their corresponding service method like this:\n\n| Service method                              | HTTP method | Path                  |\n| ------------------------------------------- | ----------- | --------------------- |\n| `service.find({ query: {} })`               | GET         | /messages             |\n| `service.find({ query: { unread: true } })` | GET         | /messages?unread=true |\n| `service.get(123)`                          | GET         | /messages/123         |\n| `service.create(body)`                      | POST        | /messages             |\n| `service.update(123, body)`                 | PUT         | /messages/123         |\n| `service.patch(123, body)`                  | PATCH       | /messages/123         |\n| `service.remove(123)`                       | DELETE      | /messages/123         |\n\n### Service events\n\nA registered service will automatically become a [NodeJS EventEmitter](https://nodejs.org/api/events.html) that sends events with the new data when a service method that modifies data (`create`, `update`, `patch` and `remove`) returns. Events can be listened to with `app.service('messages').on('eventName', data => {})`. Here is a list of the service methods and their corresponding events:\n\n| Service method     | Service event           |\n| ------------------ | ----------------------- |\n| `service.create()` | `service.on('created')` |\n| `service.update()` | `service.on('updated')` |\n| `service.patch()`  | `service.on('patched')` |\n| `service.remove()` | `service.on('removed')` |\n\nThis is how Feathers does real-time.\n\n```js\napp.service('myservice').on('created', (data) => {\n  console.log('Got created event', data)\n})\n```\n\n## Database adapters\n\nNow that we have all those service methods, we could go ahead and implement any kind of custom logic using any backend, similar to what we did in the [quick start guide](./starting.md). Very often, this means creating, reading, updating and removing data from a database.\n\nWriting all that code yourself for every service is pretty repetitive and cumbersome, which is why Feathers has a collection of pre-built services for different databases. They offer most of the basic functionality and can always be customized to your needs. Feathers database adapters support a common [usage API](../../api/databases/common.md), pagination and [querying syntax](../../api/databases/querying.md) for many popular databases. The following database adapters are maintained as part of Feathers core:\n\n- [SQL](../../api/databases/knex.md) for databases like PostgreSQL, SQLite, MySQL, MariaDB, MSSQL\n- [MongoDB](../../api/databases/mongodb.md) for MongoDB\n- [Memory](../../api/databases/memory.md) for in-memory data\n\n> **tip:**\n> \n> There are also many other community maintained database integrations which you can explore on the [ecosystem page](/ecosystem/?cat=Database&sort=downloads). Since they are not part of Feathers core, they are outside the scope of these guides.\n> \n\nIf you went with the default selection, we will use **SQLite** which writes the database to a file and does not require any additional setup. The user service that was created when we [generated authentication](./authentication.md) is already using it.\n\n## Generating a service\n\nIn our new `feathers-chat` application, we can create database backed services with the following command:\n\n```sh\nnpx feathers generate service\n```\n\nThe name for our service is `message` (this is used for variable names etc.) and for the path we use `messages`. Anything else we can confirm with the default:\n\n<DatabaseBlock global-id=\"sql\">\n\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n\n</DatabaseBlock>\n\nThis is it, we now have a database backed messages service with authentication enabled.\n\n## What's next?\n\nIn this chapter we learned about services as a Feathers core concept for abstracting data operations. We also saw how a service sends events which we will use later to create real-time applications. After that, we generated a messages service. Next, we will [look at Feathers hooks](./hooks.md) as a way to create middleware for services.",
    "breadcrumb": "Services",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/basics/services.md",
    "heading": "Services",
    "subHeadings": [
      "Feathers services",
      "Service methods",
      "Service events",
      "Database adapters",
      "Generating a service",
      "What's next?"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js",
      "sh"
    ],
    "tokens": 1913,
    "category": "guides",
    "tags": [
      "hooks",
      "services",
      "application",
      "params",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "custom methods",
      "setup",
      "teardown",
      "authentication",
      "database",
      "adapter",
      "mongodb",
      "postgresql",
      "knex",
      "memory",
      "pagination",
      "querying",
      "collection",
      "real-time",
      "websockets",
      "events",
      "rest",
      "http",
      "transport",
      "middleware",
      "generate",
      "custom service"
    ],
    "embedding": [
      0.007376,
      0.007892,
      -0.071,
      -0.001126,
      0.00797,
      -0.039402,
      -0.00009,
      0.029901,
      -0.011265,
      0.010773,
      -0.033504,
      0.010004,
      -0.020909,
      0.000528,
      0.020124,
      0.027233,
      -0.016172,
      -0.014315,
      0.02508,
      -0.058304,
      -0.026349,
      0.040507,
      0.01572,
      0.011614,
      0.042803,
      0.025278,
      -0.043502,
      -0.032802,
      0.013812,
      0.012185,
      0.021596,
      -0.004912,
      -0.002081,
      0.005392,
      -0.039425,
      -0.046969,
      -0.003366,
      -0.000664,
      -0.032485,
      0.036941,
      -0.013527,
      0.01045,
      -0.015992,
      -0.011946,
      -0.012965,
      -0.034978,
      0.011154,
      -0.006798,
      -0.005941,
      -0.024568,
      -0.046321,
      -0.000858,
      0.021023,
      -0.064625,
      0.022176,
      0.026717,
      -0.041379,
      -0.000137,
      -0.069761,
      0.031522,
      -0.038644,
      0.017547,
      -0.033098,
      0.002552,
      0.010199,
      0.047449,
      -0.020673,
      -0.00914,
      -0.023015,
      -0.033256,
      0.016419,
      0.000444,
      -0.004411,
      0.005735,
      -0.060554,
      0.033614,
      0.004158,
      0.011477,
      -0.03679,
      0.034441,
      -0.042041,
      -0.040991,
      0.006186,
      0.008579,
      -0.006085,
      0.003834,
      -0.030666,
      0.043696,
      0.023764,
      0.025945,
      0.00647,
      -0.043266,
      0.070611,
      -0.071299,
      -0.018501,
      -0.016506,
      -0.033905,
      0.019564,
      0.045365,
      0.006848,
      -0.014956,
      0.01966,
      -0.010256,
      -0.028768,
      0.050062,
      0.021248,
      0.037961,
      0.010195,
      0.01062,
      -0.036888,
      0.007331,
      0.00245,
      -0.007843,
      0.022902,
      -0.011849,
      -0.022273,
      0.013727,
      -0.009602,
      -0.000476,
      0.000327,
      0.02392,
      0.039047,
      0.052036,
      -0.022158,
      -0.027637,
      0.020688,
      -0.014383,
      0.053771,
      0.015226,
      0.015595,
      0.045789,
      -0.012097,
      0.005028,
      0.003178,
      -0.043244,
      0.009145,
      0.006381,
      -0.006127,
      -0.020874,
      -0.049544,
      0.031018,
      -0.004426,
      -0.020593,
      -0.01427,
      0.030029,
      -0.070826,
      0.044718,
      0.047937,
      -0.057276,
      -0.022684,
      0.023178,
      0.012988,
      0.006057,
      -0.048597,
      0.018877,
      -0.048638,
      0.013176,
      0.010655,
      0.036324,
      -0.001944,
      0.008491,
      0.019996,
      -0.058051,
      0.021739,
      0.066524,
      -0.011729,
      0.021641,
      -0.053278,
      -0.007409,
      -0.042957,
      0.012412,
      -0.022226,
      0.022024,
      -0.003732,
      0.041726,
      0.018435,
      0.088589,
      0.021194,
      0.021392,
      -0.020392,
      -0.035602,
      0.01724,
      -0.037825,
      -0.057092,
      -0.016598,
      -0.001093,
      -0.044796,
      -0.037586,
      -0.021562,
      0.018117,
      -0.005737,
      -0.04099,
      0.058459,
      0.000041,
      0.012599,
      0.016616,
      0.034112,
      0.054025,
      0.024035,
      0.027157,
      0.042836,
      0.030646,
      0.048509,
      0.046413,
      -0.043706,
      -0.029117,
      -0.024756,
      -0.044577,
      0.025853,
      -0.041399,
      0.020042,
      -0.001723,
      -0.043643,
      -0.033596,
      -0.010426,
      0.005277,
      -0.008516,
      0.038661,
      -0.013746,
      -0.030155,
      -0.000315,
      0.015834,
      0.016105,
      -0.017694,
      0.017988,
      -0.020301,
      0.038829,
      0.022584,
      0.013107,
      -0.031262,
      -0.019878,
      0.05785,
      0.025706,
      -0.03382,
      0.024798,
      -0.024849,
      -0.025926,
      0.012986,
      0.003405,
      0.045348,
      -0.013282,
      -0.024275,
      -0.012747,
      -0.020416,
      -0.044815,
      -0.014854,
      0.050768,
      -0.019943,
      -0.014341,
      -0.048098,
      -0.002237,
      0.019661,
      -0.001037,
      0.009005,
      0.001964,
      -0.014449,
      0.050612,
      -0.001336,
      -0.014638,
      -0.04865,
      0.003942,
      0.016366,
      -0.003466,
      -0.007559,
      0.021325,
      0.005563,
      -0.04012,
      -0.046498,
      0.004707,
      0.031053,
      -0.007219,
      -0.002133,
      0.045356,
      -0.001856,
      -0.015874,
      0.008715,
      0.001144,
      -0.044388,
      0.103281,
      0.037404,
      -0.009182,
      0.025537,
      0.059118,
      0.055873,
      0.023084,
      0.012821,
      -0.009034,
      -0.011216,
      0.01914,
      -0.013084,
      0.017382,
      -0.012406,
      0.056089,
      0.004481,
      -0.026723,
      0.022262,
      0.010402,
      -0.134005,
      0.013695,
      0.028274,
      0.008529,
      0.007972,
      0.022695,
      -0.029488,
      0.035222,
      -0.044193,
      0.012718,
      -0.009286,
      -0.056088,
      -0.029987,
      -0.002663,
      0.000642,
      0.002496,
      0.003206,
      0.010713,
      0.013334,
      -0.030586,
      -0.027005,
      -0.01648,
      0.012866,
      0.021564,
      -0.009619,
      -0.007501,
      0.012004,
      0.045411,
      -0.017125,
      -0.011808,
      -0.015606,
      0.029231,
      0.005792,
      0.022732,
      -0.019536,
      -0.04199,
      0.006606,
      0.003225,
      -0.027261,
      -0.03218,
      0.013736,
      0.084626,
      0.009236,
      -0.009597,
      0.026283,
      -0.000396,
      0.044717,
      0.022923,
      -0.022596,
      -0.028169,
      0.020127,
      -0.025035,
      0.017809,
      -0.032779,
      -0.062351,
      -0.006309,
      0.012165,
      0.071761,
      0.019339,
      0.007579,
      -0.031944,
      0.026655,
      0.020027,
      -0.027171,
      -0.004181,
      -0.016678,
      0.001859,
      0.025653,
      0.027871,
      -0.051475,
      0.040234,
      -0.040601,
      0.009552,
      0.014023,
      -0.046813,
      0.000131,
      0.006771,
      -0.033097,
      -0.026717,
      -0.09178,
      -0.025499,
      0.029831,
      -0.010386,
      0.007992,
      -0.041964,
      -0.034506,
      -0.034267,
      -0.012457,
      0.057979,
      0.268386,
      -0.014313,
      -0.002865,
      0.020035,
      0.047591,
      -0.027034,
      0.028666,
      0.088453,
      0.030724,
      -0.003827,
      0.056316,
      0.008607,
      -0.019322,
      -0.00953,
      -0.032243,
      -0.01232,
      -0.067522,
      -0.000236,
      0.045661,
      -0.016596,
      0.022689,
      0.005989,
      0.009325,
      0.012907,
      -0.093529,
      -0.018151,
      0.005258,
      0.02451,
      -0.017015,
      0.011012,
      -0.0222,
      -0.025291,
      0.029718,
      -0.053313,
      -0.049426,
      -0.027068,
      -0.00295,
      -0.019496,
      0.010216,
      0.009453,
      -0.00911,
      -0.01264,
      0.038095,
      -0.002993,
      0.004688,
      -0.004023,
      -0.008304,
      -0.012988,
      -0.07283,
      -0.06464,
      0.010478,
      -0.032749,
      0.000288,
      0.000483,
      -0.027095,
      -0.034567,
      0.017357,
      -0.010603,
      0.005867,
      -0.003592,
      0.02295,
      0.003588,
      -0.058707,
      0.03391,
      -0.016072,
      0.01294,
      0.025075,
      -0.04452,
      -0.005859,
      0.045743,
      -0.018442,
      0.016156,
      0.00572,
      0.012054,
      -0.006058,
      0.016077,
      0.050291,
      0.051645,
      -0.033335,
      0.048291,
      -0.025805,
      0.013094,
      -0.008762,
      0.019346,
      0.02129,
      0.048997,
      -0.027798,
      0.026846,
      0.011871,
      -0.028847,
      -0.018237,
      0.00829,
      -0.012222,
      0.05583,
      0.011976,
      0.023131,
      -0.003393,
      -0.005938,
      -0.011134,
      -0.035439,
      -0.003657,
      0.025335,
      0.017014,
      -0.014268,
      0.060347,
      -0.026525,
      0.005992,
      0.034386,
      0.002907,
      -0.017435,
      -0.042727,
      0.018205,
      -0.001291,
      -0.004029,
      0.023478,
      -0.000145,
      0.053928,
      0.015309,
      0.039841,
      -0.015915,
      -0.030942,
      0.050797,
      0.015761,
      -0.018167,
      0.011132,
      -0.070655,
      -0.009612,
      -0.025215,
      -0.011263,
      0.072595,
      0.048574,
      -0.048517,
      -0.00197,
      0.031449,
      0.021367,
      0.010317,
      0.02323,
      0.022332,
      0.01545,
      0.0152,
      -0.028238,
      -0.027604,
      -0.028549,
      0.015268,
      0.019142,
      0.037625,
      0.009412,
      0.016107,
      -0.025229,
      -0.018581,
      0.025028,
      0.032888,
      0.01946,
      -0.016665,
      -0.000273,
      -0.035334,
      0.002367,
      0.0184,
      0.030868,
      -0.026667,
      -0.033359,
      -0.002691,
      -0.009367,
      0.031753,
      0.034522,
      -0.028469,
      0.027148,
      0.028933,
      0.007577,
      -0.046826,
      -0.025125,
      -0.029757,
      -0.043357,
      0.051611,
      -0.01726,
      -0.020562,
      -0.055249,
      -0.014355,
      0.01341,
      -0.039151,
      -0.006041,
      0.01546,
      -0.015295,
      -0.014091,
      -0.017773,
      0.037717,
      -0.005459,
      -0.013927,
      -0.030876,
      -0.023517,
      -0.034672,
      0.105164,
      0.032964,
      0.006156,
      0.06444,
      -0.015748,
      0.059546,
      0.007219,
      0.02666,
      0.001018,
      -0.019702,
      0.012403,
      -0.004357,
      0.021826,
      -0.030922,
      -0.015166,
      0.015165,
      0.042534,
      -0.063492,
      0.03185,
      0.006866,
      0.031731,
      -0.022706,
      -0.004648,
      -0.011833,
      -0.05264,
      0.051871,
      0.052026,
      0.005319,
      0.01685,
      -0.039076,
      -0.002904,
      0.016116,
      -0.004872,
      0.005925,
      0.009425,
      0.047165,
      0.032513,
      -0.026971,
      0.014643,
      -0.001104,
      0.051952,
      0.028809,
      -0.054638,
      0.014232,
      -0.011311,
      0.02768,
      0.009448,
      -0.004392,
      -0.00053,
      0.014566,
      0.017583,
      0.043441,
      0.021713,
      -0.032547,
      0.004829,
      -0.008405,
      -0.015501,
      -0.052476,
      0.032382,
      -0.006963,
      -0.027237,
      0.017961,
      -0.004193,
      0.010535,
      0.006684,
      0.032744,
      -0.028881,
      -0.012379,
      -0.005922,
      -0.010967,
      0.039931,
      0.001474,
      0.006983,
      -0.018842,
      -0.013766,
      0.004252,
      -0.042593,
      -0.024099,
      0.00507,
      -0.033767,
      -0.018619,
      -0.039164,
      -0.069401,
      0.033043,
      0.029306,
      -0.009285,
      0.006634,
      0.012273,
      0.00522,
      -0.045462,
      0.000295,
      0.032214,
      0.00652,
      0.001201,
      0.021314,
      0.036392,
      -0.004801,
      0.019335,
      -0.055145,
      0.014393,
      0.021203,
      -0.006334,
      0.006984,
      -0.017339,
      -0.016737,
      -0.049094,
      0.032004,
      -0.021493,
      -0.031854,
      -0.0232,
      0.024436,
      0.016277,
      -0.020531,
      -0.005575,
      0.034431,
      0.004913,
      -0.070785,
      0.025076,
      0.002103,
      -0.010863,
      -0.031354,
      0.03019,
      0.020749,
      0.024745,
      -0.040799,
      0.049108,
      -0.022835,
      -0.016228,
      -0.039018,
      0.01972,
      0.018125,
      -0.016187,
      -0.017478,
      -0.009875,
      -0.024988,
      0.030489,
      -0.013598,
      -0.029233,
      0.011684,
      -0.057398,
      -0.012642,
      -0.002766,
      -0.017683,
      -0.036253,
      0.009634,
      0.051969,
      -0.038087,
      0.01472,
      -0.041082,
      -0.017408,
      -0.010938,
      0.054342,
      -0.022701,
      0.021373,
      -0.049951,
      -0.016109,
      0.014709,
      -0.02504,
      0.003353,
      -0.032339,
      -0.042945,
      -0.006432,
      -0.044613,
      0.029468,
      -0.032655,
      -0.079734,
      -0.01433,
      0.008956,
      0.010496,
      -0.036894,
      0.062933,
      -0.009484,
      -0.029178,
      0.002088,
      -0.007904,
      0.036504,
      -0.066475,
      -0.006884,
      -0.030734,
      -0.02649,
      0.026856,
      0.013818,
      0.021781,
      -0.045305,
      0.046591,
      -0.03288,
      0.028815,
      -0.00318,
      -0.025737,
      -0.049769,
      -0.006177,
      -0.021276,
      -0.008442,
      -0.055153,
      -0.003301,
      -0.02907,
      0.013157,
      0.008629,
      0.004705,
      0.000706,
      0.004404,
      -0.013439,
      -0.007022,
      -0.135461,
      0.024129,
      0.033414,
      -0.000217,
      -0.001784,
      0.020367,
      -0.003002,
      -0.021725,
      0.00106,
      -0.038461,
      -0.006956,
      0.009765,
      0.018293,
      -0.038622,
      -0.003335,
      0.029576,
      0.0052,
      -0.017753,
      0.016637,
      -0.016086,
      0.018839,
      0.009128,
      0.04117,
      0.001391,
      0.00217,
      0.002975,
      -0.00504,
      0.016931,
      -0.010944,
      0.003639,
      0.00251,
      -0.019041,
      0.004056,
      0.013721,
      0.01819,
      0.0264,
      -0.006714,
      -0.000483,
      -0.01126,
      0.0379,
      -0.022828,
      0.012864,
      -0.062206,
      0.032308,
      0.014797,
      0.043681,
      -0.032181,
      -0.066714,
      0.01539,
      0.018036,
      -0.021368,
      0.022438,
      0.001189,
      0.046657,
      -0.017536,
      0.014992,
      -0.054922,
      -0.022171,
      -0.04821,
      0.039967,
      -0.052089,
      0.071501,
      -0.027112,
      -0.026249,
      0.004661,
      -0.003337,
      -0.018941,
      0.02663,
      0.020154,
      -0.01279,
      0.020272,
      -0.042553,
      -0.043192,
      -0.004335,
      0.021994,
      -0.01938,
      0.035737,
      -0.001396,
      -0.036266,
      -0.004888,
      -0.010006,
      -0.018483,
      -0.096682,
      0.062598,
      0.038538,
      0.010834,
      -0.002398,
      -0.010294,
      -0.001564,
      -0.028369,
      -0.017311,
      -0.04101,
      0.018903,
      0.037423,
      -0.01791,
      0.03872,
      -0.001246,
      -0.00677,
      0.011441,
      0.016331,
      -0.048786,
      -0.013972,
      0.023537,
      -0.015652,
      -0.038075,
      0.004772,
      0.004973,
      0.003353,
      -0.007417,
      -0.013645,
      0.024169,
      0.008303,
      -0.02009,
      0.016967,
      -0.09413,
      0.022914,
      0.001276,
      0.028316,
      -0.028846,
      -0.005391,
      0.026249,
      0.008741,
      -0.015308,
      -0.033871,
      0.037223,
      0.056528,
      0.027361,
      -0.007022,
      0.028294,
      -0.000875,
      0.022301,
      -0.042199,
      -0.00285,
      0.009633,
      0.040244,
      -0.059388,
      -0.090237,
      0.059251,
      -0.019527,
      -0.020754,
      -0.046598,
      -0.003614,
      0.016411,
      -0.025653,
      -0.002325,
      -0.048197,
      0.007257,
      0.013893,
      -0.000359,
      -0.028742,
      -0.02476,
      0.000291,
      -0.035749,
      0.100647,
      0.010664,
      0.023082,
      -0.003848,
      0.002317,
      -0.015983,
      0.052595,
      0.029133,
      -0.051785,
      -0.009111,
      -0.014425,
      -0.001981,
      -0.002503,
      -0.004971,
      -0.012458,
      -0.00129,
      0.018514,
      -0.02163,
      0.050062,
      0.004502,
      -0.030925,
      0.001931,
      0.007885,
      0.008922,
      -0.029109,
      0.041109,
      -0.015983,
      0.017548,
      0.030352,
      0.044828,
      0.017805,
      0.038095,
      0.012701,
      -0.004458,
      -0.013316,
      0.023709,
      -0.005555,
      0.000032,
      0.009475,
      0.013252,
      0.030621,
      0.014647,
      -0.010734,
      0.030304,
      -0.027761,
      -0.000044,
      0.064924,
      -0.004779,
      -0.037277,
      -0.002935,
      0.005672,
      -0.001241,
      0.013434,
      -0.031518,
      -0.023937,
      0.002968,
      0.014979,
      -0.014793,
      0.019429,
      0.018854,
      -0.000985,
      0.029009,
      0.002878,
      0.01752,
      0.00855,
      -0.026664,
      -0.046591,
      0.013187,
      0.028217,
      -0.016427,
      -0.037169,
      -0.042168,
      -0.0114,
      0.027492,
      -0.022861,
      -0.053123,
      -0.019478,
      0.002998,
      -0.037308,
      -0.005783,
      0.014233,
      0.006877,
      -0.021013,
      -0.011999,
      0.024625,
      0.009225,
      -0.012713,
      0.048926,
      -0.001031,
      -0.019316,
      0.014877
    ]
  },
  {
    "id": "v5-starting-0",
    "content": "# Quick start\nBreadcrumb: Quick start\nCovers: Installing Feathers | Our first app | An API Server | In the browser | What's next?\nTopics: services, application, find, get, create, update, patch, remove, setup, authentication, google, database, memory, real-time, channels, events, socket.io, publish, rest, http, transport, express, koa, browser, client, typescript, types, cli, generator\n\n## Installing Feathers\n\nFeathers can be installed like any other Node module by installing the [@feathersjs/feathers](https://www.npmjs.com/package/@feathersjs/feathers) package through [npm](https://www.npmjs.com). The same package can also be used with module loaders like Vite, Webpack, and in React Native.\n\n```sh\nnpm install @feathersjs/feathers --save\n```\n\n<BlockQuote label=\"note\">\n\nAll Feathers core modules are in the `@feathersjs` namespace.\n\n</BlockQuote>\n\n## Our first app\n\nNow we can create a Feathers application with a simple `messages` service that allows us to create new messages and find all existing ones.\n\nCreate a file called `app.ts` with the following content:\nCreate a file called `app.mjs` with the following content:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\n\n// This is the interface for the message data\ninterface Message {\n  id?: number\n  text: string\n}\n\n// A messages service that allows us to create new\n// and return all existing messages\nclass MessageService {\n  messages: Message[] = []\n\n  async find() {\n    // Just return all our messages\n    return this.messages\n  }\n\n  async create(data: Pick<Message, 'text'>) {\n    // The new message is the data text with a unique identifier added\n    // using the messages length since it changes whenever we add one\n    const message: Message = {\n      id: this.messages.length,\n      text: data.text\n    }\n\n    // Add new message to the list\n    this.messages.push(message)\n\n    return message\n  }\n}\n\n// This tells TypeScript what services we are registering\ntype ServiceTypes = {\n  messages: MessageService\n}\n\nconst app = feathers<ServiceTypes>()\n\n// Register the message service on the Feathers application\napp.use('messages', new MessageService())\n\n// Log every time a new message has been created\napp.service('messages').on('created', (message: Message) => {\n  console.log('A new message has been created', message)\n})\n\n// A function that creates messages and then logs\n// all existing messages on the service\nconst main = async () => {\n  // Create a new message on our message service\n  await app.service('messages').create({\n    text: 'Hello Feathers'\n  })\n\n  // And another one\n  await app.service('messages').create({\n    text: 'Hello again'\n  })\n\n  // Find all existing messages\n  const messages = await app.service('messages').find()\n\n  console.log('All messages', messages)\n}\n\nmain()\n```\n\nWe can run it with\n```sh\nnpx ts-node app.ts\n```\nWe can run it with\n```sh\nnode app.mjs\n```\n\n[Try it out live >](https://stackblitz.com/edit/node-mupbmh?embed=1&file=app.ts&view=editor)\n\nWe will see something like this in the terminal:\n\n```sh\nA new message has been created { id: 0, text: 'Hello Feathers' }\nA new message has been created { id: 1, text: 'Hello again' }\nAll messages [ { id: 0, text: 'Hello Feathers' },\n  { id: 1, text: 'Hello again' } ]\n```\n\nHere we implemented only `find` and `create`, but a service can also have a few other methods, specifically `get`, `update`, `patch` and `remove`. We will learn more about service methods and events throughout this guide, but this sums up some of the most important concepts upon which Feathers is built.\n\n## An API Server\n\nSo far we've created a Feathers application, a message service, and are listening to events. However, this is only a simple NodeJS script that prints some output and then exits. What we really want is to host it as an API server. This is where Feathers transports come in.\n\nA transport takes a service like the one we created above and turns it into a server that other clients can talk to, like a website or mobile application.\n\nIn the following example we will take our existing service and use:\n\n- `@feathersjs/koa` which uses [KoaJS](https://koajs.com/) to automatically turn our services into a REST API\n- `@feathersjs/socketio` which uses Socket.io to do the same as a WebSocket, real-time API (as we will see in a bit this is where the `created` event we saw above comes in handy).\n\nRun:\n\n```sh\nnpm install @feathersjs/socketio @feathersjs/koa --save\n```\nThen update `app.ts` with the following content:\n```sh\nnpm install @feathersjs/socketio @feathersjs/koa koa-static --save\n```\nThen update `app.mjs` with the following content:\n\n```ts{2-4,42-55,58-65}\nimport { feathers } from '@feathersjs/feathers'\nimport { koa, rest, bodyParser, errorHandler, serveStatic } from '@feathersjs/koa'\nimport socketio from '@feathersjs/socketio'\n\n// This is the interface for the message data\ninterface Message {\n  id?: number\n  text: string\n}\n\n// A messages service that allows us to create new\n// and return all existing messages\nclass MessageService {\n  messages: Message[] = []\n\n  async find() {\n    // Just return all our messages\n    return this.messages\n  }\n\n  async create(data: Pick<Message, 'text'>) {\n    // The new message is the data text with a unique identifier added\n    // using the messages length since it changes whenever we add one\n    const message: Message = {\n      id: this.messages.length,\n      text: data.text\n    }\n\n    // Add new message to the list\n    this.messages.push(message)\n\n    return message\n  }\n}\n\n// This tells TypeScript what services we are registering\ntype ServiceTypes = {\n  messages: MessageService\n}\n\n// Creates an KoaJS compatible Feathers application\nconst app = koa<ServiceTypes>(feathers())\n\n// Use the current folder for static file hosting\napp.use(serveStatic('.'))\n// Register the error handle\napp.use(errorHandler())\n// Parse JSON request bodies\napp.use(bodyParser())\n\n// Register REST service handler\napp.configure(rest())\n// Configure Socket.io real-time APIs\napp.configure(socketio())\n// Register our messages service\napp.use('messages', new MessageService())\n\n// Add any new real-time connection to the `everybody` channel\napp.on('connection', (connection) => app.channel('everybody').join(connection))\n// Publish all events to the `everybody` channel\napp.publish((_data) => app.channel('everybody'))\n\n// Start the server\napp\n  .listen(3030)\n  .then(() => console.log('Feathers server listening on localhost:3030'))\n\n// For good measure let's create a message\n// So our API doesn't look so empty\napp.service('messages').create({\n  text: 'Hello world from the server'\n})\n```\n\n[Try it out live >](https://stackblitz.com/edit/node-zfinli?embed=1&file=app.ts)\n\nWe can start the server with\n```sh\nnpx ts-node app.ts\n```\nWe can start the server with\n```sh\nnode app.mjs\n```\n\n> **info:**\n> \n> The server will stay running until you stop it by pressing **Control + C** in the terminal.\n> \n\nAnd in the browser visit\n\n```\nhttp://localhost:3030/messages\n```\n\nto see an array with the one message we created on the server.\n\n<BlockQuote>\n\nThe built-in [JSON viewer in Firefox](https://developer.mozilla.org/en-US/docs/Tools/JSON_viewer) or a browser plugin like [JSON viewer for Chrome](https://chrome.google.com/webstore/detail/json-viewer/gbmdgpbipfallnflgajpaliibnhdgobh) makes it nicer to view JSON responses in the browser.\n\n</BlockQuote>\n\nThis is the basic setup of a Feathers API server.\n\n- The `app.use` calls probably look familiar if you have used something like Koa or Express before.\n- `app.configure` calls set up the Feathers transport to host the API.\n- `app.on('connection')` and `app.publish` are used to set up event channels, which send real-time events to the proper clients (everybody that is connected to our server in this case). You can learn [more about the channels API](../../api/channels.md) after finishing this guide.\n\n## In the browser\n\nNow we can look at one of the really cool features of Feathers: **It works the same in a web browser!** This means that we could take [our first app example](#our-first-app) from above and run it just the same in a website. Since we already have a server running, however, let's go a step further and create a Feathers app that talks to our `messages` service on the server using a real-time Socket.io connection.\n\nIn the same folder, add the following `index.html` page:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <title>Feathers Example</title>\n    <link href=\"https://cdn.jsdelivr.net/npm/daisyui@2.46.1/dist/full.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link\n      href=\"https://cdn.jsdelivr.net/npm/tailwindcss@2.2/dist/tailwind.min.css\"\n      rel=\"stylesheet\"\n      type=\"text/css\"\n    />\n    <link rel=\"stylesheet\" href=\"https://feathersjs.com/feathers-chat.css\" />\n  </head>\n  <body data-theme=\"dracula\">\n    <main id=\"main\" class=\"p-8\">\n      <h1 class=\"font-medium leading-tight text-5xl mt-0 mb-2\">Welcome to Feathers</h1>\n\n      <div class=\"form-control w-full py-2\">\n        <form class=\"input-group overflow-hidden\" onsubmit=\"sendMessage(event)\">\n          <input name=\"message\" id=\"message-text\" type=\"text\" class=\"input input-bordered w-full\" />\n          <button type=\"submit\" class=\"btn\">Send</button>\n        </form>\n      </div>\n      <h2 class=\"pt-1 pb-2 text-lg\">Messages</h2>\n    </main>\n\n    <script src=\"//unpkg.com/@feathersjs/client@^5.0.0/dist/feathers.js\"></script>\n    <script src=\"/socket.io/socket.io.js\"></script>\n    <script type=\"text/javascript\">\n      // Set up socket.io\n      const socket = io('http://localhost:3030')\n      // Initialize a Feathers app\n      const app = feathers()\n\n      // Register socket.io to talk to our server\n      app.configure(feathers.socketio(socket))\n\n      // Form submission handler that sends a new message\n      async function sendMessage(event) {\n        const messageInput = document.getElementById('message-text')\n\n        event.preventDefault()\n\n        // Create a new message with the input field value\n        await app.service('messages').create({\n          text: messageInput.value\n        })\n\n        messageInput.value = ''\n      }\n\n      // Renders a single message on the page\n      function addMessage(message) {\n        document.getElementById('main').innerHTML += `<div class=\"chat chat-start\">\n          <div class=\"chat-bubble\">${message.text}</div>\n        </div>`\n      }\n\n      const main = async () => {\n        // Find all existing messages\n        const messages = await app.service('messages').find()\n\n        // Add existing messages to the list\n        messages.forEach(addMessage)\n\n        // Add any newly created message to the list in real-time\n        app.service('messages').on('created', addMessage)\n      }\n\n      main()\n    </script>\n  </body>\n</html>\n```\n\n[Try it out live >](https://stackblitz.com/edit/node-m7cjfd?embed=1&file=index.html)\n\nNow in the browser if you go to\n\n```\nhttp://localhost:3030\n```\n\nyou will see a simple website that allows creating new messages. It is possible to open the page in two tabs and see new messages show up on either side in real-time. You can verify that the messages got created by visiting\n\n```\nhttp://localhost:3030/messages\n```\n\nYou'll see the JSON response including all current messages.\n\n## What's next?\n\nIn this chapter we created our first Feathers application and a service that allows creating new messages, storing them in memory, and retrieving them. We then hosted that service as a REST and real-time API server and used Feathers in the browser to connect to that server and create a website that can send new messages and show all existing messages in real-time.\n\nEven though we are using just NodeJS and Feathers from scratch without any additional tools, we didn't write a lot of code. In the [next chapter](./generator.md) we will look at the Feathers CLI which can create a similar Feathers application with a recommended file structure, models, database connections, authentication and more.",
    "rawContent": "## Installing Feathers\n\nFeathers can be installed like any other Node module by installing the [@feathersjs/feathers](https://www.npmjs.com/package/@feathersjs/feathers) package through [npm](https://www.npmjs.com). The same package can also be used with module loaders like Vite, Webpack, and in React Native.\n\n```sh\nnpm install @feathersjs/feathers --save\n```\n\n<BlockQuote label=\"note\">\n\nAll Feathers core modules are in the `@feathersjs` namespace.\n\n</BlockQuote>\n\n## Our first app\n\nNow we can create a Feathers application with a simple `messages` service that allows us to create new messages and find all existing ones.\n\nCreate a file called `app.ts` with the following content:\nCreate a file called `app.mjs` with the following content:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\n\n// This is the interface for the message data\ninterface Message {\n  id?: number\n  text: string\n}\n\n// A messages service that allows us to create new\n// and return all existing messages\nclass MessageService {\n  messages: Message[] = []\n\n  async find() {\n    // Just return all our messages\n    return this.messages\n  }\n\n  async create(data: Pick<Message, 'text'>) {\n    // The new message is the data text with a unique identifier added\n    // using the messages length since it changes whenever we add one\n    const message: Message = {\n      id: this.messages.length,\n      text: data.text\n    }\n\n    // Add new message to the list\n    this.messages.push(message)\n\n    return message\n  }\n}\n\n// This tells TypeScript what services we are registering\ntype ServiceTypes = {\n  messages: MessageService\n}\n\nconst app = feathers<ServiceTypes>()\n\n// Register the message service on the Feathers application\napp.use('messages', new MessageService())\n\n// Log every time a new message has been created\napp.service('messages').on('created', (message: Message) => {\n  console.log('A new message has been created', message)\n})\n\n// A function that creates messages and then logs\n// all existing messages on the service\nconst main = async () => {\n  // Create a new message on our message service\n  await app.service('messages').create({\n    text: 'Hello Feathers'\n  })\n\n  // And another one\n  await app.service('messages').create({\n    text: 'Hello again'\n  })\n\n  // Find all existing messages\n  const messages = await app.service('messages').find()\n\n  console.log('All messages', messages)\n}\n\nmain()\n```\n\nWe can run it with\n```sh\nnpx ts-node app.ts\n```\nWe can run it with\n```sh\nnode app.mjs\n```\n\n[Try it out live >](https://stackblitz.com/edit/node-mupbmh?embed=1&file=app.ts&view=editor)\n\nWe will see something like this in the terminal:\n\n```sh\nA new message has been created { id: 0, text: 'Hello Feathers' }\nA new message has been created { id: 1, text: 'Hello again' }\nAll messages [ { id: 0, text: 'Hello Feathers' },\n  { id: 1, text: 'Hello again' } ]\n```\n\nHere we implemented only `find` and `create`, but a service can also have a few other methods, specifically `get`, `update`, `patch` and `remove`. We will learn more about service methods and events throughout this guide, but this sums up some of the most important concepts upon which Feathers is built.\n\n## An API Server\n\nSo far we've created a Feathers application, a message service, and are listening to events. However, this is only a simple NodeJS script that prints some output and then exits. What we really want is to host it as an API server. This is where Feathers transports come in.\n\nA transport takes a service like the one we created above and turns it into a server that other clients can talk to, like a website or mobile application.\n\nIn the following example we will take our existing service and use:\n\n- `@feathersjs/koa` which uses [KoaJS](https://koajs.com/) to automatically turn our services into a REST API\n- `@feathersjs/socketio` which uses Socket.io to do the same as a WebSocket, real-time API (as we will see in a bit this is where the `created` event we saw above comes in handy).\n\nRun:\n\n```sh\nnpm install @feathersjs/socketio @feathersjs/koa --save\n```\nThen update `app.ts` with the following content:\n```sh\nnpm install @feathersjs/socketio @feathersjs/koa koa-static --save\n```\nThen update `app.mjs` with the following content:\n\n```ts{2-4,42-55,58-65}\nimport { feathers } from '@feathersjs/feathers'\nimport { koa, rest, bodyParser, errorHandler, serveStatic } from '@feathersjs/koa'\nimport socketio from '@feathersjs/socketio'\n\n// This is the interface for the message data\ninterface Message {\n  id?: number\n  text: string\n}\n\n// A messages service that allows us to create new\n// and return all existing messages\nclass MessageService {\n  messages: Message[] = []\n\n  async find() {\n    // Just return all our messages\n    return this.messages\n  }\n\n  async create(data: Pick<Message, 'text'>) {\n    // The new message is the data text with a unique identifier added\n    // using the messages length since it changes whenever we add one\n    const message: Message = {\n      id: this.messages.length,\n      text: data.text\n    }\n\n    // Add new message to the list\n    this.messages.push(message)\n\n    return message\n  }\n}\n\n// This tells TypeScript what services we are registering\ntype ServiceTypes = {\n  messages: MessageService\n}\n\n// Creates an KoaJS compatible Feathers application\nconst app = koa<ServiceTypes>(feathers())\n\n// Use the current folder for static file hosting\napp.use(serveStatic('.'))\n// Register the error handle\napp.use(errorHandler())\n// Parse JSON request bodies\napp.use(bodyParser())\n\n// Register REST service handler\napp.configure(rest())\n// Configure Socket.io real-time APIs\napp.configure(socketio())\n// Register our messages service\napp.use('messages', new MessageService())\n\n// Add any new real-time connection to the `everybody` channel\napp.on('connection', (connection) => app.channel('everybody').join(connection))\n// Publish all events to the `everybody` channel\napp.publish((_data) => app.channel('everybody'))\n\n// Start the server\napp\n  .listen(3030)\n  .then(() => console.log('Feathers server listening on localhost:3030'))\n\n// For good measure let's create a message\n// So our API doesn't look so empty\napp.service('messages').create({\n  text: 'Hello world from the server'\n})\n```\n\n[Try it out live >](https://stackblitz.com/edit/node-zfinli?embed=1&file=app.ts)\n\nWe can start the server with\n```sh\nnpx ts-node app.ts\n```\nWe can start the server with\n```sh\nnode app.mjs\n```\n\n> **info:**\n> \n> The server will stay running until you stop it by pressing **Control + C** in the terminal.\n> \n\nAnd in the browser visit\n\n```\nhttp://localhost:3030/messages\n```\n\nto see an array with the one message we created on the server.\n\n<BlockQuote>\n\nThe built-in [JSON viewer in Firefox](https://developer.mozilla.org/en-US/docs/Tools/JSON_viewer) or a browser plugin like [JSON viewer for Chrome](https://chrome.google.com/webstore/detail/json-viewer/gbmdgpbipfallnflgajpaliibnhdgobh) makes it nicer to view JSON responses in the browser.\n\n</BlockQuote>\n\nThis is the basic setup of a Feathers API server.\n\n- The `app.use` calls probably look familiar if you have used something like Koa or Express before.\n- `app.configure` calls set up the Feathers transport to host the API.\n- `app.on('connection')` and `app.publish` are used to set up event channels, which send real-time events to the proper clients (everybody that is connected to our server in this case). You can learn [more about the channels API](../../api/channels.md) after finishing this guide.\n\n## In the browser\n\nNow we can look at one of the really cool features of Feathers: **It works the same in a web browser!** This means that we could take [our first app example](#our-first-app) from above and run it just the same in a website. Since we already have a server running, however, let's go a step further and create a Feathers app that talks to our `messages` service on the server using a real-time Socket.io connection.\n\nIn the same folder, add the following `index.html` page:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <title>Feathers Example</title>\n    <link href=\"https://cdn.jsdelivr.net/npm/daisyui@2.46.1/dist/full.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link\n      href=\"https://cdn.jsdelivr.net/npm/tailwindcss@2.2/dist/tailwind.min.css\"\n      rel=\"stylesheet\"\n      type=\"text/css\"\n    />\n    <link rel=\"stylesheet\" href=\"https://feathersjs.com/feathers-chat.css\" />\n  </head>\n  <body data-theme=\"dracula\">\n    <main id=\"main\" class=\"p-8\">\n      <h1 class=\"font-medium leading-tight text-5xl mt-0 mb-2\">Welcome to Feathers</h1>\n\n      <div class=\"form-control w-full py-2\">\n        <form class=\"input-group overflow-hidden\" onsubmit=\"sendMessage(event)\">\n          <input name=\"message\" id=\"message-text\" type=\"text\" class=\"input input-bordered w-full\" />\n          <button type=\"submit\" class=\"btn\">Send</button>\n        </form>\n      </div>\n      <h2 class=\"pt-1 pb-2 text-lg\">Messages</h2>\n    </main>\n\n    <script src=\"//unpkg.com/@feathersjs/client@^5.0.0/dist/feathers.js\"></script>\n    <script src=\"/socket.io/socket.io.js\"></script>\n    <script type=\"text/javascript\">\n      // Set up socket.io\n      const socket = io('http://localhost:3030')\n      // Initialize a Feathers app\n      const app = feathers()\n\n      // Register socket.io to talk to our server\n      app.configure(feathers.socketio(socket))\n\n      // Form submission handler that sends a new message\n      async function sendMessage(event) {\n        const messageInput = document.getElementById('message-text')\n\n        event.preventDefault()\n\n        // Create a new message with the input field value\n        await app.service('messages').create({\n          text: messageInput.value\n        })\n\n        messageInput.value = ''\n      }\n\n      // Renders a single message on the page\n      function addMessage(message) {\n        document.getElementById('main').innerHTML += `<div class=\"chat chat-start\">\n          <div class=\"chat-bubble\">${message.text}</div>\n        </div>`\n      }\n\n      const main = async () => {\n        // Find all existing messages\n        const messages = await app.service('messages').find()\n\n        // Add existing messages to the list\n        messages.forEach(addMessage)\n\n        // Add any newly created message to the list in real-time\n        app.service('messages').on('created', addMessage)\n      }\n\n      main()\n    </script>\n  </body>\n</html>\n```\n\n[Try it out live >](https://stackblitz.com/edit/node-m7cjfd?embed=1&file=index.html)\n\nNow in the browser if you go to\n\n```\nhttp://localhost:3030\n```\n\nyou will see a simple website that allows creating new messages. It is possible to open the page in two tabs and see new messages show up on either side in real-time. You can verify that the messages got created by visiting\n\n```\nhttp://localhost:3030/messages\n```\n\nYou'll see the JSON response including all current messages.\n\n## What's next?\n\nIn this chapter we created our first Feathers application and a service that allows creating new messages, storing them in memory, and retrieving them. We then hosted that service as a REST and real-time API server and used Feathers in the browser to connect to that server and create a website that can send new messages and show all existing messages in real-time.\n\nEven though we are using just NodeJS and Feathers from scratch without any additional tools, we didn't write a lot of code. In the [next chapter](./generator.md) we will look at the Feathers CLI which can create a similar Feathers application with a recommended file structure, models, database connections, authentication and more.",
    "breadcrumb": "Quick start",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/basics/starting.md",
    "heading": "Quick start",
    "subHeadings": [
      "Installing Feathers",
      "Our first app",
      "An API Server",
      "In the browser",
      "What's next?"
    ],
    "hasCode": true,
    "codeLanguages": [
      "sh",
      "text",
      "ts",
      "html"
    ],
    "tokens": 2896,
    "category": "guides",
    "tags": [
      "services",
      "application",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "setup",
      "authentication",
      "google",
      "database",
      "memory",
      "real-time",
      "channels",
      "events",
      "socket.io",
      "publish",
      "rest",
      "http",
      "transport",
      "express",
      "koa",
      "browser",
      "client",
      "typescript",
      "types",
      "cli",
      "generator"
    ],
    "embedding": [
      -0.012703,
      0.017165,
      -0.04712,
      0.013831,
      0.002206,
      -0.036897,
      0.013505,
      0.029679,
      0.003558,
      0.029071,
      -0.014986,
      0.007437,
      -0.023073,
      0.004986,
      0.001693,
      0.008657,
      -0.029802,
      -0.029921,
      0.011682,
      -0.052725,
      -0.038598,
      0.036833,
      0.035557,
      0.035469,
      0.044556,
      0.019582,
      -0.026,
      -0.027922,
      0.017738,
      -0.016159,
      0.032516,
      0.025016,
      -0.002414,
      -0.001523,
      -0.045715,
      -0.013764,
      0.009958,
      -0.002202,
      -0.023587,
      0.027366,
      -0.000832,
      -0.008475,
      -0.008532,
      0.015588,
      0.014715,
      -0.052435,
      0.038874,
      -0.00215,
      0.013032,
      -0.034325,
      -0.037479,
      0.000562,
      -0.002067,
      -0.069364,
      0.033727,
      0.020122,
      -0.043921,
      0.022065,
      -0.046142,
      0.019441,
      -0.047128,
      0.021318,
      -0.008598,
      -0.010515,
      0.012427,
      0.055699,
      -0.040994,
      -0.020392,
      -0.018193,
      -0.027853,
      -0.015559,
      -0.006542,
      -0.01624,
      -0.025959,
      -0.041249,
      0.001467,
      0.008228,
      -0.007466,
      -0.0288,
      0.012128,
      -0.026227,
      -0.022007,
      0.015373,
      0.021403,
      0.02555,
      0.001363,
      -0.042586,
      0.074158,
      0.022949,
      0.016477,
      -0.02115,
      -0.030256,
      0.061218,
      -0.056406,
      -0.04067,
      -0.004794,
      0.001659,
      0.044901,
      0.058614,
      0.003463,
      -0.057333,
      0.011968,
      -0.008741,
      -0.038705,
      0.030712,
      0.035224,
      0.046995,
      0.008994,
      -0.033222,
      -0.036184,
      0.01486,
      -0.020904,
      0.009222,
      -0.00328,
      0.007164,
      -0.028737,
      0.023527,
      -0.002312,
      -0.033944,
      -0.001389,
      0.004863,
      0.047121,
      0.048448,
      -0.025279,
      -0.021006,
      -0.011405,
      -0.03774,
      0.042906,
      0.013743,
      0.005487,
      0.03529,
      -0.030429,
      -0.004673,
      -0.015628,
      -0.022801,
      0.028667,
      0.023094,
      0.006221,
      0.012342,
      -0.032875,
      0.013354,
      0.010045,
      -0.001054,
      -0.03384,
      0.006035,
      -0.074916,
      0.078965,
      0.040997,
      -0.016036,
      -0.020296,
      0.01922,
      0.010491,
      -0.003897,
      -0.040743,
      0.022973,
      -0.041817,
      0.020064,
      -0.015837,
      0.039873,
      0.023952,
      0.006088,
      0.037475,
      -0.063723,
      0.019202,
      0.063878,
      -0.005403,
      0.012245,
      -0.041907,
      -0.007637,
      -0.022223,
      0.006421,
      0.005887,
      0.046542,
      0.035266,
      0.045159,
      0.038541,
      0.057279,
      0.02283,
      0.009882,
      -0.013822,
      -0.052169,
      0.015863,
      -0.027993,
      -0.067284,
      -0.01427,
      -0.013469,
      -0.020908,
      -0.056924,
      -0.018574,
      0.025079,
      -0.024586,
      -0.030262,
      0.03122,
      0.003196,
      0.025397,
      0.026167,
      0.043345,
      -0.005423,
      0.033251,
      0.010305,
      0.023323,
      0.015417,
      0.099058,
      0.0406,
      -0.01878,
      -0.045608,
      -0.001337,
      -0.072546,
      0.007751,
      -0.06534,
      -0.0005,
      0.002933,
      -0.035087,
      -0.021555,
      0.015595,
      -0.005583,
      -0.019962,
      0.051601,
      0.008196,
      -0.029143,
      0.010912,
      0.003875,
      0.008308,
      0.000182,
      0.036266,
      -0.0116,
      0.033416,
      -0.015603,
      -0.03343,
      -0.014729,
      -0.029265,
      0.046746,
      0.009138,
      -0.031711,
      0.012899,
      -0.035795,
      -0.029888,
      0.006667,
      0.000689,
      0.031074,
      0.042871,
      -0.033766,
      -0.005224,
      -0.020073,
      -0.028642,
      -0.012149,
      0.064703,
      -0.026887,
      -0.021685,
      -0.032738,
      -0.022107,
      0.021134,
      0.026367,
      0.006916,
      -0.003594,
      0.005363,
      0.055356,
      0.000351,
      -0.00899,
      -0.034378,
      0.014567,
      0.007405,
      0.008213,
      0.026035,
      0.009715,
      -0.010974,
      -0.044679,
      -0.052906,
      -0.006407,
      -0.008213,
      -0.005793,
      0.009925,
      0.018303,
      -0.003844,
      -0.035205,
      0.009356,
      0.017187,
      -0.029879,
      0.076414,
      0.01984,
      -0.002694,
      0.037316,
      0.037717,
      0.096491,
      0.0114,
      0.030817,
      0.024496,
      -0.030842,
      0.036618,
      -0.024967,
      -0.002879,
      -0.002057,
      0.048018,
      -0.014075,
      -0.036064,
      0.054987,
      0.004076,
      -0.136623,
      -0.035506,
      0.039732,
      -0.006321,
      -0.009443,
      0.036266,
      -0.064374,
      0.021604,
      -0.041013,
      0.016825,
      0.010589,
      -0.042196,
      -0.026196,
      -0.003895,
      0.001375,
      0.013865,
      0.001721,
      -0.005143,
      0.01658,
      -0.033853,
      -0.029142,
      -0.000203,
      0.035063,
      0.008634,
      0.014923,
      -0.03377,
      -0.019031,
      0.014973,
      -0.023371,
      0.021157,
      -0.010949,
      0.000695,
      0.000216,
      0.025526,
      -0.003357,
      -0.023605,
      0.032326,
      -0.003964,
      -0.02307,
      -0.030302,
      -0.013427,
      0.073232,
      0.008749,
      -0.03431,
      0.020461,
      0.003213,
      0.031433,
      0.014142,
      -0.0372,
      -0.053764,
      0.029528,
      -0.007136,
      0.004296,
      -0.006829,
      -0.04049,
      -0.002154,
      0.010972,
      0.069152,
      0.012225,
      -0.018486,
      -0.013974,
      -0.004219,
      0.061041,
      -0.040835,
      0.019078,
      -0.000208,
      -0.014554,
      0.019115,
      0.020428,
      -0.025707,
      0.048163,
      -0.028406,
      -0.015578,
      0.014014,
      -0.020111,
      0.010729,
      0.003182,
      -0.021487,
      -0.019297,
      -0.101957,
      0.003832,
      0.016672,
      -0.010955,
      0.015249,
      -0.038478,
      -0.009204,
      -0.038896,
      -0.023861,
      0.047751,
      0.25068,
      -0.007827,
      0.025131,
      0.012432,
      0.046453,
      -0.055633,
      0.019924,
      0.085271,
      0.02795,
      -0.027116,
      0.042978,
      0.021096,
      -0.012065,
      -0.016183,
      -0.030214,
      0.005884,
      -0.048602,
      0.033903,
      0.057615,
      -0.031413,
      -0.005225,
      -0.028358,
      0.013841,
      0.055591,
      -0.073169,
      -0.043289,
      0.007085,
      0.0253,
      -0.027443,
      0.01269,
      -0.013182,
      0.021118,
      0.008462,
      -0.045941,
      -0.052968,
      -0.00585,
      -0.015533,
      -0.012853,
      -0.012402,
      -0.03447,
      0.008789,
      0.002696,
      0.067243,
      -0.02019,
      -0.008342,
      -0.023537,
      -0.008034,
      0.000075,
      -0.073684,
      -0.087745,
      0.004649,
      -0.009306,
      -0.028726,
      -0.010395,
      0.003364,
      -0.019617,
      0.01897,
      -0.034375,
      -0.009926,
      0.002184,
      0.036255,
      0.019071,
      -0.014273,
      0.020524,
      -0.01329,
      0.00393,
      0.027167,
      -0.0294,
      0.021562,
      0.04732,
      -0.043945,
      -0.010899,
      0.011259,
      -0.018609,
      -0.023514,
      0.01019,
      0.024166,
      0.040547,
      -0.001534,
      0.050281,
      -0.010335,
      0.015582,
      -0.026293,
      0.030539,
      0.00899,
      0.023125,
      -0.005092,
      0.02082,
      -0.005077,
      -0.018641,
      -0.013312,
      -0.023591,
      0.008221,
      0.026322,
      0.015284,
      0.010841,
      0.026395,
      -0.022383,
      -0.003262,
      -0.004518,
      -0.011057,
      0.043276,
      0.036488,
      -0.019163,
      0.04326,
      -0.01282,
      0.015059,
      0.034851,
      0.024685,
      0.009761,
      -0.041153,
      0.02173,
      0.02544,
      0.005187,
      0.002926,
      0.010297,
      0.051974,
      0.006676,
      0.026419,
      0.00328,
      -0.000892,
      -0.003888,
      -0.012568,
      0.013118,
      0.000425,
      -0.064042,
      0.001171,
      -0.033632,
      -0.019959,
      0.04666,
      0.044398,
      -0.046195,
      0.029685,
      0.05436,
      0.03349,
      0.024875,
      0.025489,
      0.043499,
      0.001272,
      0.020903,
      -0.019107,
      -0.039612,
      -0.017098,
      0.022804,
      0.010672,
      0.057142,
      -0.019367,
      0.005702,
      -0.00903,
      0.015255,
      0.032188,
      0.037578,
      0.049402,
      -0.01233,
      -0.028874,
      -0.064464,
      -0.000974,
      0.022608,
      0.029668,
      -0.022197,
      -0.034947,
      0.031414,
      0.037341,
      0.020216,
      0.031981,
      -0.017532,
      -0.007087,
      0.019488,
      -0.018573,
      -0.036324,
      -0.006745,
      -0.063905,
      -0.052946,
      0.046257,
      -0.018981,
      -0.040086,
      -0.05072,
      0.019216,
      0.042189,
      -0.028098,
      -0.008375,
      0.020569,
      -0.03215,
      -0.004679,
      -0.007974,
      0.001474,
      -0.012717,
      -0.006614,
      0.022634,
      -0.02269,
      -0.050658,
      0.093577,
      0.022116,
      -0.007782,
      0.043441,
      -0.025784,
      0.065998,
      0.013364,
      0.009113,
      0.022775,
      0.007823,
      0.001952,
      -0.007986,
      0.030254,
      -0.00981,
      -0.046768,
      -0.005771,
      0.014424,
      -0.055615,
      0.033052,
      0.003363,
      0.037654,
      -0.037302,
      -0.025895,
      -0.017244,
      -0.064861,
      0.054623,
      0.037549,
      -0.025844,
      0.012568,
      -0.035053,
      -0.025503,
      0.020431,
      0.002094,
      0.027751,
      0.005156,
      0.012988,
      -0.019761,
      -0.014668,
      0.018665,
      -0.009116,
      0.054728,
      0.014505,
      -0.059642,
      0.023022,
      -0.0182,
      0.060366,
      -0.004026,
      0.018164,
      0.002701,
      0.034275,
      0.010617,
      0.083349,
      0.010428,
      -0.021965,
      0.023098,
      -0.005038,
      -0.028003,
      -0.060171,
      0.026498,
      -0.000741,
      -0.024181,
      0.010212,
      -0.018472,
      0.007868,
      0.01225,
      0.03634,
      -0.007142,
      -0.014274,
      -0.01015,
      -0.010127,
      -0.014134,
      -0.018883,
      -0.001331,
      -0.018363,
      -0.047152,
      0.006289,
      -0.042869,
      -0.021158,
      -0.016675,
      -0.020755,
      -0.028556,
      -0.032773,
      -0.031316,
      0.052663,
      0.022519,
      -0.002451,
      -0.021505,
      0.013634,
      0.022161,
      -0.050868,
      -0.006725,
      -0.002388,
      0.021895,
      0.018733,
      -0.002861,
      0.036517,
      -0.014673,
      0.000942,
      -0.056245,
      -0.011563,
      0.017774,
      -0.030483,
      0.001461,
      0.008332,
      -0.025781,
      -0.049316,
      0.014246,
      -0.007703,
      -0.004821,
      -0.028876,
      0.003899,
      0.002447,
      -0.025653,
      -0.016161,
      0.046562,
      -0.010781,
      -0.049424,
      0.015913,
      0.026267,
      -0.012593,
      -0.034111,
      0.004455,
      0.031067,
      0.023644,
      -0.045912,
      0.031135,
      -0.024093,
      -0.011074,
      -0.038426,
      0.027916,
      -0.007913,
      0.002288,
      -0.003162,
      -0.025348,
      -0.00027,
      0.041037,
      0.010749,
      -0.025919,
      0.002092,
      -0.041744,
      0.003305,
      0.007883,
      -0.012964,
      -0.072791,
      -0.026704,
      0.04409,
      -0.019299,
      0.012728,
      -0.028786,
      0.000608,
      0.031284,
      0.064129,
      -0.031922,
      0.049789,
      -0.036909,
      -0.040889,
      0.026344,
      -0.017471,
      0.014245,
      -0.024564,
      -0.014607,
      0.002582,
      -0.055091,
      0.038189,
      -0.030248,
      -0.076894,
      -0.020798,
      0.008334,
      -0.025411,
      -0.025749,
      0.034649,
      -0.013139,
      -0.013312,
      0.004831,
      0.007536,
      0.024419,
      -0.039683,
      -0.003203,
      -0.033539,
      -0.024057,
      0.005675,
      0.002779,
      0.009524,
      -0.030199,
      0.003283,
      -0.028699,
      0.054241,
      0.016093,
      -0.021564,
      -0.058194,
      -0.003045,
      -0.008265,
      -0.01575,
      -0.044793,
      -0.02144,
      -0.045847,
      0.046084,
      0.032828,
      -0.00781,
      -0.024739,
      0.007782,
      -0.019587,
      -0.002298,
      -0.134443,
      0.018152,
      0.027824,
      0.008914,
      -0.011362,
      0.020068,
      0.015141,
      -0.011061,
      -0.006957,
      -0.018001,
      -0.036527,
      0.015909,
      0.053552,
      -0.031081,
      0.009143,
      0.02457,
      0.003798,
      0.011885,
      0.024727,
      0.006236,
      -0.006605,
      0.024978,
      0.023898,
      -0.0099,
      -0.010164,
      0.011667,
      -0.011128,
      0.004106,
      0.00018,
      0.020094,
      -0.014995,
      -0.039633,
      0.000268,
      -0.003511,
      -0.019527,
      0.012577,
      -0.000143,
      -0.004125,
      0.000804,
      0.028944,
      -0.041437,
      0.020418,
      -0.047775,
      0.037144,
      0.030797,
      0.051728,
      -0.041036,
      -0.048885,
      -0.022999,
      -0.004185,
      -0.024613,
      0.008978,
      0.025841,
      0.035873,
      -0.026864,
      -0.002146,
      -0.064,
      -0.026293,
      -0.070219,
      0.008278,
      -0.063848,
      0.050125,
      -0.024553,
      -0.015752,
      -0.013611,
      0.000931,
      -0.023188,
      0.03659,
      0.008475,
      0.025438,
      -0.019349,
      -0.046176,
      -0.042095,
      -0.002333,
      0.044971,
      0.013756,
      0.043197,
      -0.028722,
      -0.062304,
      0.003547,
      -0.018441,
      0.005241,
      -0.050547,
      0.055304,
      0.059518,
      -0.002689,
      0.006565,
      0.012026,
      0.007673,
      -0.01483,
      -0.018413,
      -0.048097,
      -0.001549,
      0.046304,
      -0.017986,
      0.063061,
      0.029435,
      -0.016482,
      -0.008206,
      -0.021984,
      -0.034297,
      0.008136,
      0.007347,
      -0.020121,
      -0.014017,
      -0.00442,
      0.018746,
      0.011123,
      -0.003246,
      0.008546,
      0.012475,
      -0.012385,
      -0.020867,
      0.003861,
      -0.091491,
      -0.005099,
      -0.011852,
      0.028243,
      -0.035939,
      -0.008368,
      0.005735,
      0.013809,
      0.007381,
      -0.030656,
      0.013362,
      0.027068,
      0.058897,
      -0.015803,
      0.040702,
      -0.011647,
      0.024703,
      -0.033996,
      0.009882,
      -0.004703,
      0.030002,
      -0.029329,
      -0.087891,
      0.04641,
      -0.01431,
      -0.000009,
      -0.047334,
      0.020506,
      0.00693,
      -0.034184,
      0.002965,
      -0.015604,
      0.017441,
      -0.00801,
      -0.027426,
      -0.004265,
      -0.015938,
      -0.005642,
      -0.039893,
      0.037882,
      -0.011301,
      0.04997,
      -0.019511,
      0.018525,
      -0.028742,
      0.049939,
      0.040465,
      -0.039035,
      -0.00265,
      -0.006058,
      -0.003986,
      0.021259,
      0.001639,
      -0.012988,
      -0.029795,
      0.015363,
      -0.014802,
      0.038521,
      0.004606,
      -0.023467,
      0.021059,
      -0.008903,
      0.002308,
      -0.035439,
      0.012868,
      -0.023132,
      0.022213,
      0.002286,
      0.054801,
      0.00827,
      0.060846,
      0.008401,
      -0.001648,
      -0.000227,
      0.033955,
      -0.007658,
      -0.018111,
      -0.009815,
      0.016898,
      0.008243,
      -0.013013,
      -0.005726,
      0.027313,
      -0.025535,
      0.013276,
      0.095772,
      0.002238,
      -0.030529,
      -0.013748,
      -0.007507,
      -0.017025,
      0.024236,
      -0.03075,
      -0.003429,
      0.025487,
      0.02818,
      -0.036083,
      0.007871,
      0.008423,
      0.003412,
      -0.016544,
      -0.000826,
      0.025048,
      0.019009,
      -0.02618,
      -0.033683,
      0.020291,
      0.021591,
      -0.023141,
      -0.045193,
      -0.025773,
      -0.006797,
      -0.011384,
      0.003617,
      -0.00413,
      0.0079,
      0.011557,
      -0.017431,
      0.037166,
      0.040569,
      -0.001597,
      -0.04312,
      0.007383,
      0.055325,
      -0.002735,
      -0.008922,
      0.036301,
      0.012026,
      -0.056544,
      -0.02109
    ]
  },
  {
    "id": "v5-testing-0",
    "content": "# Writing tests\nBreadcrumb: Writing tests\nCovers: Test database setup | Testing services | Code coverage | What's next?\nTopics: hooks, services, application, params, provider, get, create, update, remove, setup, authentication, github, database, real-time, rest, http, configuration, typescript, types, generator, testing, test, login, users\n\n## Test database setup\n\nWhen testing database functionality, we want to make sure that the tests use a different database. We can achieve this by updating the test environment configuration in `config/test.json` with the following content:\n\n```json\n{\n  \"nedb\": \"../test/data\"\n}\n```\n\nThis will set up the NeDB database to use `test/data` as the base directory instead of `data/` when the `NODE_ENV` environment variable is set to `test`. The same thing can be done with connection strings for other databases.\n\n> **Important:**\n> \n> When using Git for version control, the `data/` and `test/data` folders should be added to `.gitignore`.\n> \n\nWe also want to make sure that the database is cleaned up before every test run. To make that possible across platforms, first run:\n\n```sh\nnpm install shx --save-dev\n```\n\nNow we can update the `scripts` section of our `package.json` to the following:\n\n\n\n```json\n  \"scripts\": {\n    \"test\": \"npm run compile && npm run mocha\",\n    \"dev\": \"ts-node-dev --no-notify src/\",\n    \"start\": \"npm run compile && node lib/\",\n    \"clean\": \"shx rm -rf test/data/\",\n    \"mocha\": \"npm run clean && NODE_ENV=test ts-mocha \\\"test/**/*.ts\\\" --recursive --exit\",\n    \"compile\": \"shx rm -rf lib/ && tsc\"\n  },\n```\n\n```json\n  \"scripts\": {\n    \"test\": \"npm run eslint && npm run mocha\",\n    \"eslint\": \"eslint src/. test/. --config .eslintrc.json\",\n    \"start\": \"node src/\",\n    \"clean\": \"shx rm -rf test/data/\",\n    \"mocha\": \"npm run clean && NODE_ENV=test mocha test/ --recursive --exit\"\n  }\n```\n\n\n\nOn Windows the `mocha` command should look like this:\n\n```sh\nnpm run clean & SET NODE_ENV=test& mocha test/ --recursive --exit\n```\n\nThis will make sure that the `test/data` folder is removed before every test run and `NODE_ENV` is set properly.\n\n## Testing services\n\nTo test the `messages` and `users` services (with all hooks wired up), we could use any REST API testing tool to make requests and verify that they return correct responses.\n\nThere is a much faster, easier and complete approach. Since everything on top of our own hooks and services is already provided (and tested) by Feathers, we can require the [application](../../api/application.md) object and use the [service methods](../../api/services.md) directly. We \"fake\" authentication by setting `params.user` manually.\n\nBy default, the generator creates a service test file that only tests that the service exists.\n\n\n\nE.g. like this in `test/services/users.test.ts`:\n```ts\nimport assert from 'assert';\nimport app from '../../src/app';\ndescribe('\\'users\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('users');\n    assert.ok(service, 'Registered the service');\n  });\n});\n```\n\nE.g. like this in `test/services/users.test.js`:\n```js\nconst assert = require('assert');\nconst app = require('../../src/app');\ndescribe('\\'users\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('users');\n    assert.ok(service, 'Registered the service');\n  });\n});\n```\n\n\n\nWe can then add similar tests that use the service. In this case we are:\n1. verifying that users can be created, the default profile image gets set and the password is encrypted\n2. ensuring that the password does not get sent to external requests\n\n\n\nReplace `test/services/users.test.ts` with the following:\n```ts\nimport assert from 'assert';\nimport app from '../../src/app';\ndescribe('\\'users\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('users');\n    assert.ok(service, 'Registered the service');\n  });\n  it('creates a user, encrypts password and adds gravatar', async () => {\n    const user = await app.service('users').create({\n      email: 'test@example.com',\n      password: 'secret'\n    });\n    // Verify Gravatar has been set as we'd expect\n    assert.equal(user.avatar, 'https://s.gravatar.com/avatar/55502f40dc8b7c769880b10874abc9d0?s=60');\n    // Makes sure the password got encrypted\n    assert.ok(user.password !== 'secret');\n  });\n  it('removes password for external requests', async () => {\n    // Setting `provider` indicates an external request\n    const params = { provider: 'rest' };\n    const user = await app.service('users').create({\n      email: 'test2@example.com',\n      password: 'secret'\n    }, params);\n    // Make sure password has been removed\n    assert.ok(!user.password);\n  });\n});\n```\n\nReplace `test/services/users.test.js` with the following:\n```js\nconst assert = require('assert');\nconst app = require('../../src/app');\ndescribe('\\'users\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('users');\n    assert.ok(service, 'Registered the service');\n  });\n  it('creates a user, encrypts password and adds gravatar', async () => {\n    const user = await app.service('users').create({\n      email: 'test@example.com',\n      password: 'secret'\n    });\n    // Verify Gravatar has been set as we'd expect\n    assert.equal(user.avatar, 'https://s.gravatar.com/avatar/55502f40dc8b7c769880b10874abc9d0?s=60');\n    // Makes sure the password got encrypted\n    assert.ok(user.password !== 'secret');\n  });\n  it('removes password for external requests', async () => {\n    // Setting `provider` indicates an external request\n    const params = { provider: 'rest' };\n    const user = await app.service('users').create({\n      email: 'test2@example.com',\n      password: 'secret'\n    }, params);\n    // Make sure password has been removed\n    assert.ok(!user.password);\n  });\n});\n```\n\n\n\nWe take a similar approach for the messages service test by creating a test-specific user from the `users` service, then pass it as `params.user` when creating a new message and validates that message's content:\n\n\n\nUpdate `test/services/messages.test.ts` as follows:\n```ts\nimport assert from 'assert';\nimport app from '../../src/app';\ndescribe('\\'messages\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('messages');\n    assert.ok(service, 'Registered the service');\n  });\n  it('creates and processes message, adds user information', async () => {\n    // Create a new user we can use for testing\n    const user = await app.service('users').create({\n      email: 'messagetest@example.com',\n      password: 'supersecret'\n    });\n    // The messages service call params (with the user we just created)\n    const params = { user };\n    const message = await app.service('messages').create({\n      text: 'a test',\n      additional: 'should be removed'\n    }, params);\n    assert.equal(message.text, 'a test');\n    // `userId` should be set to passed users it\n    assert.equal(message.userId, user._id);\n    // Additional property has been removed\n    assert.ok(!message.additional);\n    // `user` has been populated\n    assert.deepEqual(message.user, user);\n  });\n});\n```\n\nUpdate `test/services/messages.test.js` as follows:\n```js\nconst assert = require('assert');\nconst app = require('../../src/app');\ndescribe('\\'messages\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('messages');\n    assert.ok(service, 'Registered the service');\n  });\n  it('creates and processes message, adds user information', async () => {\n    // Create a new user we can use for testing\n    const user = await app.service('users').create({\n      email: 'messagetest@example.com',\n      password: 'supersecret'\n    });\n    // The messages service call params (with the user we just created)\n    const params = { user };\n    const message = await app.service('messages').create({\n      text: 'a test',\n      additional: 'should be removed'\n    }, params);\n    assert.equal(message.text, 'a test');\n    // `userId` should be set to the provided user's id\n    assert.equal(message.userId, user._id);\n    // Additional property has been removed\n    assert.ok(!message.additional);\n    // `user` has been populated\n    assert.deepEqual(message.user, user);\n  });\n});\n```\n\n\n\nRun `npm test` one more time, to verify that all tests are passing.\n\n## Code coverage\n\nCode coverage is a great way to get some insights into how much of our code is actually executed during the tests. Using [Istanbul](https://github.com/gotwarlost/istanbul) we can add it easily:\n\n```sh\nnpm install nyc --save-dev\n```\n\n\n\nFor TypeScript we also have to install the TypeScript reporter:\n```sh\nnpm install @istanbuljs/nyc-config-typescript --save-dev\n```\nAdd the following `.nycrc` file:\n```json\n{\n  \"extends\": \"@istanbuljs/nyc-config-typescript\",\n  \"include\": [\n    \"src/**/*.ts\",\n    \"src/**/*.tsx\"\n  ]\n}\n```\nAnd then update the `scripts` section of our `package.json` to:\n```json\n  \"scripts\": {\n    \"test\": \"npm run compile && npm run coverage\",\n    \"dev\": \"ts-node-dev --no-notify src/\",\n    \"start\": \"npm run compile && node lib/\",\n    \"clean\": \"shx rm -rf test/data/\",\n    \"coverage\": \"nyc npm run mocha\",\n    \"mocha\": \"npm run clean && NODE_ENV=test ts-mocha \\\"test/**/*.ts\\\" --recursive --exit\",\n    \"compile\": \"shx rm -rf lib/ && tsc\"\n  },\n```\n\nNow we have to update the `scripts` section of our `package.json` to:\n```js\n  \"scripts\": {\n    \"test\": \"npm run eslint && npm run coverage\",\n    \"coverage\": \"nyc npm run mocha\",\n    \"eslint\": \"eslint src/. test/. --config .eslintrc.json\",\n    \"dev\": \"nodemon src/\",\n    \"start\": \"node src/\",\n    \"clean\": \"shx rm -rf test/data/\",\n    \"mocha\": \"npm run clean && NODE_ENV=test mocha test/ --recursive --exit\"\n  },\n```\n\nOn Windows, the `coverage` command looks like this:\n\n```sh\nnpm run clean & SET NODE_ENV=test& nyc mocha\n```\n\nNow run:\n\n```sh\nnpm test\n```\n\nThis will print out some additional coverage information.\n\n> **Important:**\n> \n> When using Git for version control, the `.nyc_output/` folder should be added to `.gitignore`.\n>\n\n## What's next?\n\nThatâ€™s it! Our chat guide is completed! We now have a fully-tested REST and real-time API, with a plain JavaScript frontend including login and signup. Follow up in the [Feathers API documentation](../../api/) for more details about using Feathers, or start building your own first Feathers application!",
    "rawContent": "## Test database setup\n\nWhen testing database functionality, we want to make sure that the tests use a different database. We can achieve this by updating the test environment configuration in `config/test.json` with the following content:\n\n```json\n{\n  \"nedb\": \"../test/data\"\n}\n```\n\nThis will set up the NeDB database to use `test/data` as the base directory instead of `data/` when the `NODE_ENV` environment variable is set to `test`. The same thing can be done with connection strings for other databases.\n\n> **Important:**\n> \n> When using Git for version control, the `data/` and `test/data` folders should be added to `.gitignore`.\n> \n\nWe also want to make sure that the database is cleaned up before every test run. To make that possible across platforms, first run:\n\n```sh\nnpm install shx --save-dev\n```\n\nNow we can update the `scripts` section of our `package.json` to the following:\n\n\n\n```json\n  \"scripts\": {\n    \"test\": \"npm run compile && npm run mocha\",\n    \"dev\": \"ts-node-dev --no-notify src/\",\n    \"start\": \"npm run compile && node lib/\",\n    \"clean\": \"shx rm -rf test/data/\",\n    \"mocha\": \"npm run clean && NODE_ENV=test ts-mocha \\\"test/**/*.ts\\\" --recursive --exit\",\n    \"compile\": \"shx rm -rf lib/ && tsc\"\n  },\n```\n\n```json\n  \"scripts\": {\n    \"test\": \"npm run eslint && npm run mocha\",\n    \"eslint\": \"eslint src/. test/. --config .eslintrc.json\",\n    \"start\": \"node src/\",\n    \"clean\": \"shx rm -rf test/data/\",\n    \"mocha\": \"npm run clean && NODE_ENV=test mocha test/ --recursive --exit\"\n  }\n```\n\n\n\nOn Windows the `mocha` command should look like this:\n\n```sh\nnpm run clean & SET NODE_ENV=test& mocha test/ --recursive --exit\n```\n\nThis will make sure that the `test/data` folder is removed before every test run and `NODE_ENV` is set properly.\n\n## Testing services\n\nTo test the `messages` and `users` services (with all hooks wired up), we could use any REST API testing tool to make requests and verify that they return correct responses.\n\nThere is a much faster, easier and complete approach. Since everything on top of our own hooks and services is already provided (and tested) by Feathers, we can require the [application](../../api/application.md) object and use the [service methods](../../api/services.md) directly. We \"fake\" authentication by setting `params.user` manually.\n\nBy default, the generator creates a service test file that only tests that the service exists.\n\n\n\nE.g. like this in `test/services/users.test.ts`:\n```ts\nimport assert from 'assert';\nimport app from '../../src/app';\ndescribe('\\'users\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('users');\n    assert.ok(service, 'Registered the service');\n  });\n});\n```\n\nE.g. like this in `test/services/users.test.js`:\n```js\nconst assert = require('assert');\nconst app = require('../../src/app');\ndescribe('\\'users\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('users');\n    assert.ok(service, 'Registered the service');\n  });\n});\n```\n\n\n\nWe can then add similar tests that use the service. In this case we are:\n1. verifying that users can be created, the default profile image gets set and the password is encrypted\n2. ensuring that the password does not get sent to external requests\n\n\n\nReplace `test/services/users.test.ts` with the following:\n```ts\nimport assert from 'assert';\nimport app from '../../src/app';\ndescribe('\\'users\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('users');\n    assert.ok(service, 'Registered the service');\n  });\n  it('creates a user, encrypts password and adds gravatar', async () => {\n    const user = await app.service('users').create({\n      email: 'test@example.com',\n      password: 'secret'\n    });\n    // Verify Gravatar has been set as we'd expect\n    assert.equal(user.avatar, 'https://s.gravatar.com/avatar/55502f40dc8b7c769880b10874abc9d0?s=60');\n    // Makes sure the password got encrypted\n    assert.ok(user.password !== 'secret');\n  });\n  it('removes password for external requests', async () => {\n    // Setting `provider` indicates an external request\n    const params = { provider: 'rest' };\n    const user = await app.service('users').create({\n      email: 'test2@example.com',\n      password: 'secret'\n    }, params);\n    // Make sure password has been removed\n    assert.ok(!user.password);\n  });\n});\n```\n\nReplace `test/services/users.test.js` with the following:\n```js\nconst assert = require('assert');\nconst app = require('../../src/app');\ndescribe('\\'users\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('users');\n    assert.ok(service, 'Registered the service');\n  });\n  it('creates a user, encrypts password and adds gravatar', async () => {\n    const user = await app.service('users').create({\n      email: 'test@example.com',\n      password: 'secret'\n    });\n    // Verify Gravatar has been set as we'd expect\n    assert.equal(user.avatar, 'https://s.gravatar.com/avatar/55502f40dc8b7c769880b10874abc9d0?s=60');\n    // Makes sure the password got encrypted\n    assert.ok(user.password !== 'secret');\n  });\n  it('removes password for external requests', async () => {\n    // Setting `provider` indicates an external request\n    const params = { provider: 'rest' };\n    const user = await app.service('users').create({\n      email: 'test2@example.com',\n      password: 'secret'\n    }, params);\n    // Make sure password has been removed\n    assert.ok(!user.password);\n  });\n});\n```\n\n\n\nWe take a similar approach for the messages service test by creating a test-specific user from the `users` service, then pass it as `params.user` when creating a new message and validates that message's content:\n\n\n\nUpdate `test/services/messages.test.ts` as follows:\n```ts\nimport assert from 'assert';\nimport app from '../../src/app';\ndescribe('\\'messages\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('messages');\n    assert.ok(service, 'Registered the service');\n  });\n  it('creates and processes message, adds user information', async () => {\n    // Create a new user we can use for testing\n    const user = await app.service('users').create({\n      email: 'messagetest@example.com',\n      password: 'supersecret'\n    });\n    // The messages service call params (with the user we just created)\n    const params = { user };\n    const message = await app.service('messages').create({\n      text: 'a test',\n      additional: 'should be removed'\n    }, params);\n    assert.equal(message.text, 'a test');\n    // `userId` should be set to passed users it\n    assert.equal(message.userId, user._id);\n    // Additional property has been removed\n    assert.ok(!message.additional);\n    // `user` has been populated\n    assert.deepEqual(message.user, user);\n  });\n});\n```\n\nUpdate `test/services/messages.test.js` as follows:\n```js\nconst assert = require('assert');\nconst app = require('../../src/app');\ndescribe('\\'messages\\' service', () => {\n  it('registered the service', () => {\n    const service = app.service('messages');\n    assert.ok(service, 'Registered the service');\n  });\n  it('creates and processes message, adds user information', async () => {\n    // Create a new user we can use for testing\n    const user = await app.service('users').create({\n      email: 'messagetest@example.com',\n      password: 'supersecret'\n    });\n    // The messages service call params (with the user we just created)\n    const params = { user };\n    const message = await app.service('messages').create({\n      text: 'a test',\n      additional: 'should be removed'\n    }, params);\n    assert.equal(message.text, 'a test');\n    // `userId` should be set to the provided user's id\n    assert.equal(message.userId, user._id);\n    // Additional property has been removed\n    assert.ok(!message.additional);\n    // `user` has been populated\n    assert.deepEqual(message.user, user);\n  });\n});\n```\n\n\n\nRun `npm test` one more time, to verify that all tests are passing.\n\n## Code coverage\n\nCode coverage is a great way to get some insights into how much of our code is actually executed during the tests. Using [Istanbul](https://github.com/gotwarlost/istanbul) we can add it easily:\n\n```sh\nnpm install nyc --save-dev\n```\n\n\n\nFor TypeScript we also have to install the TypeScript reporter:\n```sh\nnpm install @istanbuljs/nyc-config-typescript --save-dev\n```\nAdd the following `.nycrc` file:\n```json\n{\n  \"extends\": \"@istanbuljs/nyc-config-typescript\",\n  \"include\": [\n    \"src/**/*.ts\",\n    \"src/**/*.tsx\"\n  ]\n}\n```\nAnd then update the `scripts` section of our `package.json` to:\n```json\n  \"scripts\": {\n    \"test\": \"npm run compile && npm run coverage\",\n    \"dev\": \"ts-node-dev --no-notify src/\",\n    \"start\": \"npm run compile && node lib/\",\n    \"clean\": \"shx rm -rf test/data/\",\n    \"coverage\": \"nyc npm run mocha\",\n    \"mocha\": \"npm run clean && NODE_ENV=test ts-mocha \\\"test/**/*.ts\\\" --recursive --exit\",\n    \"compile\": \"shx rm -rf lib/ && tsc\"\n  },\n```\n\nNow we have to update the `scripts` section of our `package.json` to:\n```js\n  \"scripts\": {\n    \"test\": \"npm run eslint && npm run coverage\",\n    \"coverage\": \"nyc npm run mocha\",\n    \"eslint\": \"eslint src/. test/. --config .eslintrc.json\",\n    \"dev\": \"nodemon src/\",\n    \"start\": \"node src/\",\n    \"clean\": \"shx rm -rf test/data/\",\n    \"mocha\": \"npm run clean && NODE_ENV=test mocha test/ --recursive --exit\"\n  },\n```\n\nOn Windows, the `coverage` command looks like this:\n\n```sh\nnpm run clean & SET NODE_ENV=test& nyc mocha\n```\n\nNow run:\n\n```sh\nnpm test\n```\n\nThis will print out some additional coverage information.\n\n> **Important:**\n> \n> When using Git for version control, the `.nyc_output/` folder should be added to `.gitignore`.\n>\n\n## What's next?\n\nThatâ€™s it! Our chat guide is completed! We now have a fully-tested REST and real-time API, with a plain JavaScript frontend including login and signup. Follow up in the [Feathers API documentation](../../api/) for more details about using Feathers, or start building your own first Feathers application!",
    "breadcrumb": "Writing tests",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/basics/testing.md",
    "heading": "Writing tests",
    "subHeadings": [
      "Test database setup",
      "Testing services",
      "Code coverage",
      "What's next?"
    ],
    "hasCode": true,
    "codeLanguages": [
      "json",
      "text",
      "sh",
      "ts",
      "js"
    ],
    "tokens": 2511,
    "category": "guides",
    "tags": [
      "hooks",
      "services",
      "application",
      "params",
      "provider",
      "get",
      "create",
      "update",
      "remove",
      "setup",
      "authentication",
      "github",
      "database",
      "real-time",
      "rest",
      "http",
      "configuration",
      "typescript",
      "types",
      "generator",
      "testing",
      "test",
      "login",
      "users"
    ],
    "embedding": [
      0.01593,
      -0.004943,
      -0.030543,
      0.021351,
      0.007285,
      -0.031845,
      -0.004601,
      -0.005171,
      0.020439,
      0.013436,
      -0.00558,
      0.007272,
      -0.031665,
      -0.013292,
      -0.022107,
      0.01438,
      -0.034682,
      -0.012885,
      -0.000931,
      -0.015791,
      -0.004577,
      0.005262,
      0.071747,
      0.009674,
      0.041824,
      0.018009,
      -0.01482,
      -0.015234,
      0.014318,
      -0.010456,
      -0.009291,
      -0.000431,
      -0.007861,
      -0.002213,
      -0.04976,
      0.003744,
      -0.016899,
      -0.005005,
      -0.021406,
      -0.001443,
      0.025488,
      0.003789,
      -0.017591,
      -0.015686,
      0.037804,
      -0.03235,
      0.009013,
      -0.014767,
      -0.018302,
      0.000381,
      -0.072961,
      0.014043,
      0.031404,
      -0.070674,
      0.068002,
      0.03006,
      -0.022034,
      0.001023,
      -0.052017,
      0.007926,
      -0.021307,
      0.031625,
      -0.012203,
      0.002532,
      0.008783,
      0.047802,
      -0.011021,
      0.007029,
      -0.014315,
      -0.044704,
      -0.016834,
      0.007501,
      -0.0058,
      0.003619,
      -0.039789,
      0.01456,
      0.028643,
      -0.021222,
      -0.043371,
      -0.003867,
      -0.02262,
      0.003429,
      0.011423,
      -0.015555,
      -0.007926,
      -0.026175,
      -0.034294,
      0.052627,
      0.033184,
      -0.007885,
      0.015246,
      -0.01366,
      0.051104,
      -0.036959,
      -0.019639,
      0.018876,
      -0.003665,
      0.036046,
      0.013929,
      -0.020526,
      0.001238,
      -0.044359,
      0.007673,
      -0.003983,
      0.050208,
      0.054948,
      0.038643,
      0.007001,
      0.003753,
      -0.047839,
      0.013555,
      -0.007672,
      0.045164,
      0.034473,
      0.000646,
      -0.015493,
      0.013131,
      -0.021707,
      0.00452,
      -0.042393,
      0.033959,
      0.030753,
      0.032824,
      -0.004615,
      -0.023451,
      -0.012801,
      -0.017854,
      0.058526,
      -0.00969,
      -0.007406,
      0.007947,
      -0.027371,
      -0.008767,
      0.00523,
      -0.017985,
      0.034588,
      0.008992,
      0.016547,
      0.004879,
      -0.049875,
      0.0217,
      -0.009241,
      -0.025457,
      -0.02786,
      0.032334,
      -0.010002,
      0.065387,
      0.003018,
      -0.021183,
      -0.007698,
      0.016986,
      0.034501,
      0.001256,
      -0.01871,
      0.009901,
      -0.019049,
      0.011629,
      0.037021,
      0.033244,
      0.008077,
      -0.003329,
      0.001389,
      -0.096877,
      0.038035,
      0.059248,
      -0.055487,
      0.023995,
      -0.036425,
      -0.045332,
      -0.019646,
      0.033402,
      0.005089,
      0.057725,
      0.03035,
      0.035987,
      0.040881,
      0.050131,
      0.037102,
      0.004277,
      -0.025652,
      -0.030297,
      0.050927,
      -0.000317,
      -0.067448,
      -0.00778,
      -0.008924,
      0.009682,
      -0.035653,
      -0.020278,
      -0.011934,
      -0.034037,
      -0.018793,
      0.025514,
      0.008746,
      0.001922,
      0.018343,
      0.008018,
      0.029201,
      0.020771,
      -0.02127,
      0.009157,
      0.031837,
      0.051139,
      -0.004098,
      -0.053496,
      -0.029655,
      -0.009433,
      -0.036974,
      0.010604,
      -0.068549,
      0.042115,
      0.029944,
      0.01415,
      -0.025685,
      -0.020205,
      0.031633,
      -0.038231,
      0.026243,
      0.001443,
      -0.006212,
      0.003132,
      0.00955,
      -0.006127,
      -0.010017,
      0.058518,
      0.001463,
      0.021739,
      0.040429,
      0.051776,
      0.014733,
      -0.021152,
      0.0161,
      0.013989,
      -0.025645,
      0.00801,
      -0.004853,
      -0.053288,
      0.001418,
      0.025024,
      0.00641,
      -0.043078,
      -0.050654,
      0.014982,
      0.002956,
      -0.021323,
      -0.001509,
      0.062531,
      -0.005109,
      -0.011254,
      0.005901,
      -0.022987,
      0.001359,
      -0.017008,
      0.021262,
      0.052493,
      -0.003355,
      0.033522,
      0.003384,
      0.005049,
      -0.029486,
      -0.004007,
      0.033767,
      0.018926,
      0.014937,
      -0.001246,
      -0.012444,
      -0.041689,
      -0.049613,
      0.006207,
      0.036892,
      -0.01482,
      -0.030849,
      0.057834,
      -0.01221,
      -0.047148,
      0.023422,
      0.019602,
      -0.085865,
      0.08123,
      0.002533,
      0.005267,
      0.001782,
      0.026181,
      0.011679,
      0.010121,
      0.005511,
      0.034966,
      -0.022874,
      -0.000902,
      -0.030334,
      0.00089,
      0.020142,
      0.05712,
      -0.032141,
      -0.022175,
      0.012065,
      -0.014071,
      -0.162458,
      -0.021413,
      0.00647,
      0.037857,
      -0.003364,
      0.004023,
      -0.067117,
      0.001927,
      -0.07256,
      0.037297,
      -0.000746,
      -0.046996,
      -0.003454,
      -0.018287,
      0.039608,
      -0.020995,
      -0.017426,
      -0.012099,
      0.023152,
      -0.043964,
      -0.021867,
      -0.053594,
      0.053898,
      0.022311,
      0.024969,
      -0.032036,
      0.043,
      -0.027215,
      -0.045711,
      -0.017617,
      0.013729,
      0.017869,
      0.004776,
      0.002862,
      -0.026106,
      0.006749,
      0.044201,
      -0.028252,
      0.017363,
      0.001748,
      0.030171,
      0.075213,
      -0.043066,
      -0.000032,
      0.034057,
      0.024997,
      0.025696,
      -0.010695,
      -0.03317,
      -0.018094,
      0.018141,
      -0.033576,
      -0.032867,
      -0.005503,
      -0.054318,
      -0.023184,
      -0.012148,
      0.046496,
      -0.019103,
      -0.014039,
      0.006187,
      -0.01305,
      0.062165,
      -0.017752,
      -0.052756,
      -0.038693,
      0.027232,
      -0.035548,
      0.017942,
      -0.042363,
      0.027477,
      -0.041288,
      0.001651,
      0.06439,
      -0.000131,
      -0.011523,
      0.007776,
      0.002693,
      -0.003407,
      -0.099663,
      -0.012101,
      0.039969,
      0.017177,
      0.043,
      -0.007885,
      -0.007813,
      -0.036968,
      -0.01263,
      0.007787,
      0.259752,
      0.00304,
      -0.028441,
      -0.030357,
      0.018321,
      -0.025304,
      0.047465,
      0.046127,
      0.019274,
      -0.03023,
      -0.014684,
      0.012311,
      0.028759,
      -0.011594,
      0.015343,
      -0.00095,
      -0.043061,
      0.008202,
      0.058975,
      -0.005485,
      0.043895,
      0.010871,
      0.01211,
      0.011831,
      -0.066853,
      -0.019473,
      -0.033494,
      0.034534,
      -0.06161,
      -0.011994,
      -0.038501,
      0.023476,
      0.037796,
      -0.032685,
      -0.027516,
      0.011173,
      0.005297,
      0.004994,
      -0.013286,
      0.01962,
      -0.007288,
      -0.010617,
      0.052943,
      -0.004619,
      -0.007863,
      0.023087,
      -0.019092,
      -0.014003,
      -0.038946,
      -0.013266,
      -0.046661,
      -0.001699,
      -0.00712,
      -0.007543,
      0.002091,
      -0.029713,
      -0.029174,
      -0.012413,
      0.012927,
      0.038235,
      0.063721,
      0.023385,
      -0.072509,
      0.00934,
      0.01559,
      0.014515,
      0.016905,
      -0.042753,
      0.00724,
      0.044845,
      -0.010601,
      0.005452,
      0.010438,
      -0.000095,
      -0.006428,
      -0.00803,
      0.054602,
      0.036001,
      -0.038183,
      0.052726,
      -0.003653,
      0.019727,
      -0.021613,
      0.004772,
      0.012471,
      0.016805,
      0.005631,
      0.041707,
      0.020341,
      -0.039337,
      -0.003238,
      -0.017881,
      -0.031408,
      0.010272,
      -0.000502,
      0.036168,
      0.047359,
      -0.007197,
      -0.000916,
      -0.006159,
      0.0273,
      0.014273,
      0.029815,
      0.019945,
      0.024563,
      -0.015861,
      -0.006156,
      -0.002472,
      0.028628,
      0.023693,
      -0.039839,
      0.042143,
      -0.009965,
      -0.032952,
      0.021337,
      -0.027724,
      0.003971,
      0.022385,
      0.026419,
      0.062923,
      0.011878,
      0.050527,
      -0.02368,
      -0.007942,
      -0.003491,
      -0.034192,
      -0.017488,
      -0.016394,
      0.005017,
      0.06388,
      0.042721,
      -0.034566,
      0.011016,
      0.022948,
      -0.021961,
      0.001619,
      0.046171,
      0.015211,
      0.024647,
      0.019691,
      -0.040947,
      -0.056888,
      -0.016126,
      0.030022,
      -0.013641,
      0.014977,
      0.038227,
      -0.006173,
      -0.034022,
      0.009307,
      0.033111,
      0.086177,
      0.018463,
      -0.039044,
      -0.024386,
      -0.050672,
      -0.015085,
      -0.000998,
      0.005223,
      -0.008731,
      -0.029831,
      0.033663,
      0.02941,
      0.035393,
      0.037197,
      -0.056509,
      0.011701,
      0.001684,
      -0.00231,
      -0.014083,
      -0.001473,
      -0.031019,
      -0.070791,
      0.013275,
      -0.022684,
      -0.036581,
      -0.075023,
      -0.017731,
      -0.017673,
      -0.029105,
      0.01491,
      -0.001436,
      -0.016509,
      0.021131,
      -0.003592,
      0.00131,
      -0.000236,
      -0.009879,
      0.04237,
      -0.032418,
      -0.028691,
      0.090963,
      -0.020471,
      0.019749,
      0.057819,
      0.010615,
      0.063642,
      -0.002465,
      -0.008149,
      -0.004315,
      0.026899,
      -0.007249,
      -0.011779,
      0.014034,
      -0.013988,
      -0.043926,
      0.026006,
      -0.014999,
      -0.032181,
      0.025538,
      -0.026861,
      0.014381,
      -0.032128,
      0.009603,
      0.009405,
      -0.030442,
      0.012399,
      0.089788,
      -0.010588,
      0.003117,
      0.014349,
      -0.012215,
      0.010346,
      -0.025591,
      0.028034,
      -0.019137,
      0.052255,
      -0.026232,
      0.043547,
      -0.025978,
      -0.006784,
      -0.013429,
      -0.010225,
      -0.036109,
      0.031019,
      -0.019595,
      0.037655,
      0.030404,
      -0.004965,
      -0.005311,
      -0.019776,
      0.01684,
      0.05889,
      0.048337,
      -0.015389,
      0.039827,
      0.002337,
      0.020572,
      -0.038217,
      0.024283,
      0.003784,
      -0.061521,
      -0.005079,
      -0.047331,
      0.020646,
      0.073547,
      0.034024,
      -0.043257,
      -0.02972,
      0.000652,
      -0.024919,
      0.007477,
      -0.012389,
      0.008293,
      0.034922,
      -0.054509,
      0.010119,
      -0.030326,
      -0.029947,
      -0.008519,
      -0.015689,
      -0.023759,
      -0.017455,
      -0.049828,
      0.004574,
      -0.011252,
      -0.01131,
      -0.00534,
      0.030626,
      0.02135,
      -0.036664,
      -0.013663,
      0.021826,
      0.026239,
      0.0225,
      0.032515,
      0.031116,
      -0.029678,
      -0.017453,
      -0.028913,
      -0.004244,
      0.03027,
      -0.035303,
      -0.013754,
      0.013833,
      0.00447,
      0.019357,
      0.024842,
      0.012272,
      0.019354,
      -0.030312,
      0.029383,
      -0.005499,
      -0.011592,
      -0.022544,
      0.033985,
      -0.040204,
      -0.029949,
      0.016387,
      0.040062,
      0.01288,
      -0.048235,
      0.035077,
      0.027851,
      0.044791,
      -0.01251,
      0.038653,
      -0.023593,
      0.029492,
      -0.021286,
      -0.047045,
      0.010814,
      -0.039591,
      0.022728,
      0.005017,
      -0.02795,
      0.005823,
      0.026017,
      -0.017291,
      -0.013801,
      -0.038672,
      -0.013428,
      -0.006328,
      -0.020159,
      -0.004623,
      -0.008261,
      0.06618,
      -0.016703,
      -0.001612,
      -0.046456,
      -0.012714,
      -0.018291,
      0.068079,
      -0.035764,
      0.0093,
      -0.053776,
      0.004094,
      0.005634,
      -0.042107,
      0.026528,
      -0.006382,
      0.00073,
      -0.04171,
      -0.02238,
      0.010017,
      -0.017655,
      -0.058576,
      0.05601,
      0.050216,
      -0.014637,
      -0.011154,
      0.059794,
      -0.010786,
      -0.03796,
      0.012799,
      -0.013215,
      0.053564,
      -0.020035,
      -0.02611,
      -0.043285,
      -0.026568,
      0.040011,
      -0.007054,
      -0.022779,
      -0.040957,
      0.000606,
      -0.01298,
      0.00359,
      0.007969,
      0.000649,
      -0.005663,
      -0.01472,
      -0.03727,
      -0.013353,
      -0.02817,
      0.042992,
      -0.017986,
      -0.012087,
      0.006347,
      0.010843,
      0.001175,
      -0.003647,
      -0.025979,
      -0.000267,
      -0.142041,
      0.009198,
      0.004169,
      0.012133,
      -0.004459,
      -0.034712,
      0.032667,
      -0.014707,
      -0.001978,
      -0.027125,
      -0.051059,
      -0.003841,
      -0.008906,
      -0.031374,
      -0.009394,
      0.025213,
      -0.009621,
      0.009558,
      -0.027632,
      0.010999,
      0.014445,
      -0.030516,
      0.005017,
      0.020229,
      0.004924,
      -0.02683,
      0.008599,
      -0.00713,
      -0.010153,
      -0.008254,
      -0.020442,
      -0.010096,
      0.022415,
      0.002287,
      -0.026557,
      0.020643,
      0.000971,
      0.002976,
      -0.015516,
      -0.015751,
      -0.056425,
      0.011254,
      -0.039538,
      0.022137,
      0.030946,
      0.030171,
      -0.03887,
      -0.031391,
      -0.018106,
      0.001088,
      -0.024013,
      0.018747,
      -0.039526,
      0.023862,
      -0.034352,
      -0.020813,
      -0.046536,
      0.00224,
      -0.031203,
      0.052013,
      -0.047522,
      0.039095,
      -0.033483,
      -0.0165,
      0.002499,
      0.022226,
      -0.0554,
      0.058537,
      0.012367,
      0.048714,
      -0.02147,
      -0.018888,
      -0.042617,
      -0.010119,
      0.029698,
      0.016466,
      0.0142,
      0.016524,
      -0.017857,
      -0.001715,
      0.006717,
      0.012238,
      -0.040812,
      0.073421,
      0.03308,
      0.007153,
      0.011474,
      0.009499,
      -0.008111,
      -0.022483,
      -0.037195,
      -0.048616,
      0.003694,
      0.051272,
      -0.028353,
      0.040949,
      -0.008975,
      -0.036512,
      0.008821,
      -0.024824,
      -0.028836,
      0.036248,
      -0.013596,
      0.032402,
      0.008989,
      -0.021826,
      0.022852,
      -0.014161,
      -0.000104,
      0.029052,
      0.039493,
      -0.011764,
      -0.02616,
      -0.011615,
      -0.062657,
      0.011599,
      -0.029007,
      -0.00171,
      -0.0732,
      -0.004275,
      0.04095,
      -0.02131,
      -0.008149,
      -0.001356,
      0.026432,
      0.019961,
      0.004398,
      -0.013394,
      0.005043,
      0.015304,
      -0.024769,
      -0.030781,
      -0.000842,
      -0.003185,
      -0.023319,
      -0.046534,
      -0.072298,
      0.047059,
      -0.042112,
      -0.023112,
      -0.019673,
      -0.038283,
      0.007182,
      -0.029336,
      -0.008944,
      0.001131,
      -0.006602,
      -0.002445,
      -0.006718,
      -0.047406,
      0.00434,
      -0.020541,
      -0.01536,
      0.063834,
      -0.026825,
      0.083729,
      0.032407,
      0.004634,
      -0.020455,
      0.059256,
      -0.003675,
      -0.046334,
      -0.026558,
      -0.018101,
      -0.001417,
      0.038981,
      0.032726,
      -0.010318,
      -0.054509,
      0.040837,
      -0.004939,
      0.006697,
      -0.006899,
      -0.002004,
      0.026604,
      -0.024487,
      -0.011997,
      -0.01591,
      0.058114,
      -0.003249,
      0.022933,
      -0.015472,
      0.028092,
      0.016653,
      0.04124,
      0.024635,
      -0.013939,
      0.01551,
      0.016695,
      0.025823,
      -0.006911,
      0.050202,
      0.006602,
      -0.00365,
      0.03158,
      -0.034174,
      0.019983,
      0.00082,
      0.000356,
      0.029089,
      -0.020189,
      -0.009097,
      0.000687,
      -0.02418,
      -0.003883,
      -0.005995,
      0.03132,
      -0.017399,
      0.011089,
      0.0373,
      -0.055009,
      -0.003135,
      -0.013849,
      0.015769,
      -0.022638,
      0.012473,
      0.020978,
      0.002684,
      0.009699,
      -0.056931,
      0.029835,
      -0.001002,
      0.023839,
      -0.053622,
      -0.069331,
      -0.038267,
      -0.013401,
      0.025246,
      -0.01309,
      -0.012669,
      -0.013384,
      -0.035087,
      -0.027388,
      0.064405,
      0.041833,
      -0.061067,
      0.023597,
      0.036749,
      -0.008015,
      -0.021168,
      0.021063,
      0.020827,
      -0.004727,
      -0.025375
    ]
  },
  {
    "id": "v5-app-0",
    "content": "# Application\nBreadcrumb: Application\nCovers: Transports | Configure functions | Application hooks | Tests, jobs and SSR\nTopics: hooks, services, application, get, create, setup, teardown, authentication, real-time, socket.io, http, transport, express, koa, middleware, configuration, errors, declarations, generator, test, users\n\n## Transports\n\nThe available transports are [Koa](../../api/koa.md) or [Express](../../api/express.md) for HTTP and [Socket.io](../../api/socketio.md) for real-time functionality. For both, Koa and Express, the Feathers application (`app` object) will also be fully compatible with the respective framework. For both frameworks, additional required middleware will be registered in the application file. More information can be found in the linked API documentation.\n\n## Configure functions\n\nThe Feathers application does not use a complicated dependency injection mechanism. Instead, the application is wired together using _configure functions_ to split things up into individual files. They are functions that are exported from a file and that take the Feathers [app object](../../api/application.md) and then use it to e.g. register services. Those functions are then passed to [app.configure](../../api/application.md#configurecallback).\n\nFor example, have a look at the following files:\n\n`src/services/index.ts` looks like this:\n\n```ts\nimport type { Application } from '../declarations'\nimport { user } from './users/users'\n\nexport const services = (app: Application) => {\n  app.configure(user)\n  // All services will be registered here\n}\n```\n\nIt uses another configure function exported from `src/services/users/users.ts`. The export from `src/services/index.js` is in turn used in `src/app.ts` as:\n\n```ts\n// ...\nimport { services } from './services'\n\n// ...\napp.configure(authentication)\napp.configure(services)\n// ...\n```\n\nThis is how the generator splits things up into separate files and any documentation example that uses the `app` object can be used in a configure function. You can create your own files that export a configure function and `require`/`import` and `app.configure` them.\n\n> **info:**\n> \n> Keep in mind that the order in which configure functions are called might matter, e.g. if it is using a service, that service has to be registered first. Configure functions are not asynchronous. Any asynchronous operations should be done in [application setup hooks](#application-hooks).\n>\n\n## Application hooks\n\nThe application file also includes a section to set up [application hooks](../../api/hooks.md#application-hooks) which are hooks that run for every service. In our case, the `logErrorHook` to log any service errors has already been registered:\n\n```ts\n// Register hooks that run on all service methods\napp.hooks({\n  around: {\n    all: [logErrorHook]\n  },\n  before: {},\n  after: {},\n  error: {}\n})\n```\n\nFollowing that is the special [setup and teardown](../../api/hooks.md#setup-and-teardown) hook section to register hooks that run once when the application starts or shuts down. This can be used to e.g. set dynamic configuration values.\n\n```ts\n// Register application setup and teardown hooks here\napp.hooks({\n  setup: [],\n  teardown: []\n})\n```\n\n## Tests, jobs and SSR\n\nThe `app` file can be imported like any other Node module. This means it can be used directly in tests, scheduled jobs or server side rendering without having to start a separate server instance. For example, the unit tests import the application like this:\n\n```ts\nimport assert from 'assert'\nimport { app } from '../../src/app'\n\ndescribe('messages service', () => {\n  it('registered the service', () => {\n    const service = app.service('messages')\n\n    assert.ok(service, 'Registered the service')\n  })\n})\n```",
    "rawContent": "## Transports\n\nThe available transports are [Koa](../../api/koa.md) or [Express](../../api/express.md) for HTTP and [Socket.io](../../api/socketio.md) for real-time functionality. For both, Koa and Express, the Feathers application (`app` object) will also be fully compatible with the respective framework. For both frameworks, additional required middleware will be registered in the application file. More information can be found in the linked API documentation.\n\n## Configure functions\n\nThe Feathers application does not use a complicated dependency injection mechanism. Instead, the application is wired together using _configure functions_ to split things up into individual files. They are functions that are exported from a file and that take the Feathers [app object](../../api/application.md) and then use it to e.g. register services. Those functions are then passed to [app.configure](../../api/application.md#configurecallback).\n\nFor example, have a look at the following files:\n\n`src/services/index.ts` looks like this:\n\n```ts\nimport type { Application } from '../declarations'\nimport { user } from './users/users'\n\nexport const services = (app: Application) => {\n  app.configure(user)\n  // All services will be registered here\n}\n```\n\nIt uses another configure function exported from `src/services/users/users.ts`. The export from `src/services/index.js` is in turn used in `src/app.ts` as:\n\n```ts\n// ...\nimport { services } from './services'\n\n// ...\napp.configure(authentication)\napp.configure(services)\n// ...\n```\n\nThis is how the generator splits things up into separate files and any documentation example that uses the `app` object can be used in a configure function. You can create your own files that export a configure function and `require`/`import` and `app.configure` them.\n\n> **info:**\n> \n> Keep in mind that the order in which configure functions are called might matter, e.g. if it is using a service, that service has to be registered first. Configure functions are not asynchronous. Any asynchronous operations should be done in [application setup hooks](#application-hooks).\n>\n\n## Application hooks\n\nThe application file also includes a section to set up [application hooks](../../api/hooks.md#application-hooks) which are hooks that run for every service. In our case, the `logErrorHook` to log any service errors has already been registered:\n\n```ts\n// Register hooks that run on all service methods\napp.hooks({\n  around: {\n    all: [logErrorHook]\n  },\n  before: {},\n  after: {},\n  error: {}\n})\n```\n\nFollowing that is the special [setup and teardown](../../api/hooks.md#setup-and-teardown) hook section to register hooks that run once when the application starts or shuts down. This can be used to e.g. set dynamic configuration values.\n\n```ts\n// Register application setup and teardown hooks here\napp.hooks({\n  setup: [],\n  teardown: []\n})\n```\n\n## Tests, jobs and SSR\n\nThe `app` file can be imported like any other Node module. This means it can be used directly in tests, scheduled jobs or server side rendering without having to start a separate server instance. For example, the unit tests import the application like this:\n\n```ts\nimport assert from 'assert'\nimport { app } from '../../src/app'\n\ndescribe('messages service', () => {\n  it('registered the service', () => {\n    const service = app.service('messages')\n\n    assert.ok(service, 'Registered the service')\n  })\n})\n```",
    "breadcrumb": "Application",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/app.md",
    "heading": "Application",
    "subHeadings": [
      "Transports",
      "Configure functions",
      "Application hooks",
      "Tests, jobs and SSR"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 854,
    "category": "cli",
    "tags": [
      "hooks",
      "services",
      "application",
      "get",
      "create",
      "setup",
      "teardown",
      "authentication",
      "real-time",
      "socket.io",
      "http",
      "transport",
      "express",
      "koa",
      "middleware",
      "configuration",
      "errors",
      "declarations",
      "generator",
      "test",
      "users"
    ],
    "embedding": [
      -0.005997,
      -0.001395,
      -0.077936,
      0.018061,
      -0.029634,
      -0.014594,
      0.010725,
      0.01415,
      -0.017905,
      0.015706,
      -0.003348,
      0.006909,
      0.025925,
      0.017961,
      -0.028635,
      -0.014847,
      -0.019551,
      -0.002297,
      -0.012831,
      -0.040463,
      -0.049001,
      0.000606,
      -0.003978,
      0.02711,
      0.043333,
      0.018472,
      -0.039291,
      -0.043909,
      0.015543,
      0.008015,
      0.001798,
      0.00961,
      -0.013863,
      -0.00664,
      -0.021819,
      -0.030214,
      -0.005905,
      -0.007977,
      -0.044269,
      0.023131,
      -0.024345,
      -0.009674,
      -0.006293,
      -0.020006,
      0.037166,
      -0.020954,
      0.017797,
      -0.012405,
      -0.000714,
      0.011063,
      -0.047595,
      -0.002165,
      0.014184,
      -0.056723,
      0.053197,
      0.026421,
      -0.045025,
      -0.035128,
      -0.086846,
      -0.000808,
      -0.051719,
      0.029046,
      0.014425,
      -0.02419,
      -0.004382,
      0.031846,
      -0.015698,
      -0.031168,
      -0.015536,
      -0.02637,
      0.000429,
      0.017123,
      0.002701,
      -0.016956,
      -0.058852,
      0.03204,
      0.038108,
      -0.01315,
      -0.015505,
      0.04486,
      -0.016786,
      -0.011206,
      0.004845,
      0.026305,
      0.006541,
      -0.005871,
      -0.056015,
      0.047568,
      0.016104,
      -0.011595,
      -0.024413,
      -0.048,
      0.03743,
      -0.047567,
      -0.033052,
      0.008521,
      -0.011323,
      0.012647,
      -0.005097,
      0.020089,
      0.001107,
      -0.024013,
      0.014979,
      -0.056748,
      0.066438,
      0.028587,
      0.034944,
      0.03118,
      -0.027998,
      -0.047113,
      0.013474,
      0.006195,
      0.003331,
      0.004458,
      -0.021152,
      -0.019135,
      0.017687,
      -0.00339,
      -0.024482,
      0.005514,
      0.022707,
      0.046199,
      0.042656,
      -0.008399,
      -0.034211,
      0.020522,
      -0.005425,
      0.046456,
      0.028229,
      0.016986,
      0.021424,
      -0.040833,
      -0.012451,
      0.021991,
      -0.032145,
      0.006653,
      0.037166,
      -0.002925,
      -0.028412,
      -0.061292,
      0.034634,
      0.007637,
      0.001756,
      -0.027704,
      0.026113,
      -0.04593,
      0.066875,
      0.022003,
      -0.018716,
      0.009219,
      -0.005007,
      -0.007373,
      -0.008292,
      -0.033507,
      0.018008,
      -0.065537,
      0.040238,
      0.0372,
      0.036839,
      -0.00282,
      0.018585,
      0.018328,
      -0.003864,
      -0.025548,
      0.050153,
      -0.029369,
      0.010346,
      -0.031788,
      -0.005434,
      -0.072653,
      0.011892,
      0.000692,
      0.015534,
      -0.008994,
      0.034577,
      0.041501,
      0.081428,
      0.022825,
      0.024854,
      -0.047204,
      -0.058711,
      0.02696,
      -0.026011,
      -0.029015,
      -0.010489,
      -0.008869,
      0.009026,
      -0.066305,
      -0.009366,
      0.035736,
      -0.019271,
      -0.014451,
      0.04321,
      0.022436,
      0.011764,
      0.032726,
      0.016271,
      0.029382,
      0.035107,
      0.000934,
      0.017876,
      0.005344,
      0.042329,
      0.016376,
      -0.056522,
      -0.029578,
      0.016015,
      -0.035995,
      0.035432,
      -0.051325,
      0.036598,
      -0.025758,
      -0.027455,
      -0.007507,
      0.002083,
      0.014738,
      -0.029167,
      -0.015932,
      -0.00124,
      -0.0246,
      0.022556,
      -0.003336,
      0.033092,
      -0.00051,
      0.023183,
      0.00427,
      0.024987,
      -0.011692,
      -0.012296,
      -0.030551,
      0.001815,
      0.041971,
      0.0526,
      -0.057645,
      0.017476,
      -0.02895,
      -0.008999,
      0.019578,
      0.021347,
      0.021959,
      0.006641,
      -0.022294,
      0.042804,
      -0.020471,
      -0.021226,
      0.005153,
      0.051138,
      0.003351,
      -0.027874,
      -0.013853,
      -0.019652,
      -0.00461,
      0.028773,
      0.010417,
      0.032888,
      -0.003445,
      0.034737,
      -0.006496,
      0.004156,
      -0.048466,
      0.004267,
      0.007126,
      -0.00136,
      0.006774,
      0.014197,
      0.008579,
      -0.068498,
      -0.063419,
      0.003784,
      -0.007064,
      -0.022051,
      0.022012,
      0.016565,
      -0.008133,
      0.014163,
      0.014662,
      0.014132,
      -0.02775,
      0.078306,
      0.003635,
      0.023613,
      0.030167,
      0.046804,
      0.011385,
      0.008385,
      0.025629,
      0.001725,
      0.004865,
      0.024419,
      -0.009571,
      0.007029,
      -0.019035,
      0.08246,
      -0.008647,
      -0.0168,
      0.020273,
      -0.006105,
      -0.145226,
      -0.00377,
      0.0491,
      -0.025988,
      0.026691,
      0.031608,
      -0.034678,
      -0.033513,
      -0.039416,
      0.019654,
      0.006233,
      -0.060699,
      -0.038653,
      0.009226,
      0.008447,
      -0.007145,
      -0.008266,
      0.016174,
      0.028267,
      -0.027394,
      -0.033722,
      -0.004832,
      0.027802,
      0.012146,
      0.007218,
      -0.007311,
      0.018934,
      0.011731,
      -0.03276,
      0.023889,
      0.007606,
      0.009216,
      0.005243,
      0.0235,
      0.016786,
      -0.017182,
      0.020967,
      0.019007,
      -0.017289,
      0.001984,
      0.016649,
      0.040145,
      0.018653,
      0.005872,
      0.010108,
      -0.055625,
      0.06068,
      0.010665,
      0.004704,
      -0.052492,
      0.017526,
      -0.030334,
      0.007736,
      0.008746,
      -0.043031,
      0.006563,
      0.010465,
      0.061237,
      0.005986,
      -0.004672,
      -0.017129,
      -0.01663,
      0.057022,
      -0.007482,
      -0.028237,
      -0.017116,
      -0.010447,
      0.015,
      0.022295,
      -0.052467,
      0.039604,
      -0.064092,
      -0.025407,
      0.022325,
      -0.058589,
      -0.008632,
      0.012049,
      -0.030265,
      -0.070587,
      -0.095225,
      -0.026208,
      0.000684,
      -0.008694,
      0.006679,
      -0.0317,
      -0.049585,
      -0.033604,
      -0.02756,
      0.031673,
      0.242709,
      -0.00051,
      -0.009894,
      0.041381,
      0.077663,
      -0.019743,
      -0.000429,
      0.056478,
      0.025363,
      -0.024566,
      0.027956,
      -0.009768,
      -0.003808,
      -0.009402,
      -0.0025,
      -0.014976,
      -0.042844,
      0.003283,
      0.078026,
      -0.028997,
      0.010565,
      -0.02296,
      0.030592,
      0.026704,
      -0.089693,
      -0.059952,
      -0.010995,
      -0.002601,
      -0.051031,
      -0.011272,
      -0.025959,
      -0.005416,
      0.004126,
      -0.071095,
      -0.062296,
      -0.029846,
      -0.003248,
      0.026378,
      -0.012096,
      0.001072,
      -0.021069,
      -0.010608,
      0.027738,
      0.010718,
      0.029354,
      -0.005644,
      -0.010009,
      0.016856,
      -0.03145,
      -0.046632,
      -0.041648,
      -0.001283,
      -0.003345,
      0.011706,
      -0.012833,
      -0.035495,
      0.003926,
      -0.0064,
      0.00405,
      0.002227,
      0.018946,
      0.006684,
      -0.045938,
      0.041078,
      0.018481,
      0.022524,
      0.000812,
      -0.048694,
      0.006034,
      0.058887,
      0.008732,
      -0.015678,
      0.016001,
      -0.022121,
      0.012282,
      0.007295,
      0.038907,
      0.03685,
      0.010663,
      0.046168,
      -0.015118,
      -0.003031,
      -0.063382,
      0.023186,
      0.023282,
      0.00201,
      -0.015987,
      0.021403,
      -0.000525,
      -0.045727,
      -0.014314,
      -0.010947,
      -0.004881,
      0.023388,
      -0.021435,
      0.005534,
      0.000871,
      -0.002032,
      0.017455,
      -0.037514,
      0.039266,
      0.025275,
      -0.008884,
      -0.001712,
      0.082215,
      -0.019417,
      -0.005209,
      -0.01191,
      0.0133,
      0.002786,
      -0.023537,
      0.001751,
      0.033708,
      -0.03259,
      0.027614,
      -0.028918,
      0.029685,
      0.040502,
      0.055357,
      0.038043,
      -0.022764,
      -0.007463,
      -0.00406,
      -0.008385,
      -0.018423,
      -0.063291,
      -0.040266,
      -0.034662,
      -0.010796,
      0.045441,
      0.060113,
      -0.029834,
      0.012783,
      0.044695,
      0.001277,
      0.023187,
      0.02359,
      0.054233,
      0.016925,
      -0.015046,
      -0.012911,
      -0.012777,
      -0.030919,
      0.011881,
      -0.004125,
      0.015364,
      -0.018621,
      0.030675,
      -0.021989,
      0.011304,
      0.023822,
      0.046533,
      0.021,
      -0.043357,
      -0.011932,
      -0.056586,
      -0.015329,
      0.0219,
      0.031415,
      -0.023512,
      -0.031904,
      0.028362,
      0.041869,
      0.033937,
      0.0573,
      -0.01607,
      0.037081,
      0.026538,
      0.032316,
      -0.024405,
      0.006256,
      -0.060178,
      -0.045991,
      0.045433,
      0.003014,
      -0.047255,
      -0.055743,
      -0.002527,
      0.00006,
      -0.027225,
      0.001191,
      0.028035,
      -0.038632,
      -0.038035,
      -0.011566,
      0.034281,
      -0.01151,
      -0.015164,
      0.014429,
      -0.029545,
      -0.032597,
      0.098049,
      0.015957,
      0.015671,
      0.041283,
      -0.011319,
      0.059469,
      0.024645,
      0.019534,
      0.034341,
      0.001741,
      0.026744,
      0.022846,
      -0.00397,
      -0.021028,
      -0.032391,
      -0.006519,
      0.01362,
      -0.044463,
      0.052597,
      0.005581,
      0.014696,
      -0.022223,
      0.00005,
      -0.001703,
      -0.008277,
      0.069853,
      0.047985,
      -0.001409,
      -0.050686,
      -0.04571,
      -0.016504,
      0.005489,
      -0.037435,
      0.01095,
      0.019208,
      -0.002753,
      -0.001113,
      0.028374,
      -0.014402,
      0.003688,
      0.014129,
      0.018639,
      -0.040481,
      0.015333,
      -0.043184,
      0.035361,
      -0.003119,
      0.012905,
      0.005993,
      0.03839,
      0.015616,
      0.066705,
      0.060062,
      0.007066,
      -0.017969,
      -0.023436,
      -0.038826,
      -0.036269,
      0.026287,
      -0.029674,
      0.005481,
      0.023788,
      -0.025168,
      0.010853,
      0.020624,
      0.0345,
      -0.029294,
      -0.023464,
      0.002835,
      0.003421,
      0.014292,
      -0.023681,
      0.010915,
      0.019804,
      -0.024241,
      -0.004116,
      -0.049266,
      -0.024898,
      -0.016568,
      -0.031534,
      0.007295,
      -0.019779,
      -0.052229,
      0.048411,
      0.005343,
      -0.026066,
      -0.021747,
      0.006143,
      0.026599,
      -0.040229,
      0.020755,
      0.024853,
      0.003748,
      0.021364,
      0.042979,
      0.023567,
      -0.008233,
      0.012712,
      -0.04219,
      0.005376,
      0.028531,
      -0.027064,
      -0.004514,
      -0.04029,
      -0.012677,
      0.004143,
      0.032325,
      -0.014811,
      0.005427,
      -0.018806,
      0.02945,
      -0.017077,
      -0.048411,
      0.030958,
      0.015886,
      -0.007093,
      -0.028836,
      0.012504,
      0.043255,
      0.012383,
      -0.032329,
      0.013282,
      0.042007,
      0.032533,
      -0.033693,
      0.06275,
      -0.014537,
      0.007149,
      -0.037036,
      0.011628,
      0.001218,
      -0.000845,
      -0.021379,
      -0.034009,
      -0.016662,
      -0.012179,
      0.011675,
      -0.02372,
      0.026626,
      -0.052551,
      -0.00079,
      -0.011156,
      -0.020628,
      -0.041027,
      0.01065,
      0.025664,
      -0.01689,
      -0.001632,
      -0.013337,
      -0.025943,
      -0.028861,
      0.033685,
      -0.00573,
      0.03641,
      -0.073718,
      -0.002612,
      0.00047,
      -0.019068,
      0.017583,
      -0.044541,
      -0.022747,
      0.005092,
      -0.038696,
      0.03083,
      -0.024125,
      -0.032392,
      -0.020405,
      0.003762,
      0.003756,
      -0.014428,
      0.053136,
      -0.006466,
      -0.017807,
      0.032694,
      0.006094,
      0.019279,
      -0.032504,
      0.031963,
      -0.055663,
      -0.021262,
      0.00406,
      0.041245,
      0.017601,
      -0.048638,
      0.03274,
      -0.013933,
      0.044124,
      0.000089,
      -0.014961,
      -0.014055,
      -0.024662,
      -0.041131,
      -0.011484,
      -0.038111,
      -0.016477,
      0.006665,
      0.008347,
      0.0017,
      -0.00113,
      -0.018961,
      0.014668,
      -0.03083,
      -0.001465,
      -0.139962,
      0.018878,
      0.008778,
      0.011325,
      -0.031447,
      -0.001065,
      -0.018033,
      0.012031,
      0.007054,
      -0.055274,
      -0.05518,
      0.004564,
      0.044117,
      -0.001388,
      0.034184,
      0.017254,
      0.015262,
      -0.021212,
      0.010431,
      -0.022684,
      -0.003093,
      -0.01372,
      0.044197,
      -0.040424,
      0.011176,
      0.008674,
      -0.058736,
      -0.000748,
      -0.019917,
      -0.002491,
      0.012398,
      -0.024653,
      -0.007428,
      0.015473,
      -0.02086,
      -0.005737,
      -0.005196,
      -0.003119,
      -0.02579,
      0.010136,
      -0.046432,
      0.00884,
      -0.038124,
      0.064506,
      0.034681,
      0.018248,
      -0.015339,
      -0.051614,
      -0.001602,
      0.012221,
      -0.013986,
      0.019116,
      0.010555,
      0.020936,
      0.004289,
      -0.018176,
      -0.036726,
      -0.01763,
      -0.060498,
      0.033775,
      -0.039166,
      0.047903,
      -0.028511,
      -0.021197,
      0.001957,
      0.003334,
      -0.039876,
      0.031831,
      0.02723,
      0.014314,
      0.007024,
      -0.019225,
      -0.036911,
      0.001042,
      0.011957,
      -0.015177,
      0.058192,
      -0.015553,
      -0.008984,
      0.020099,
      -0.025256,
      0.003573,
      -0.087622,
      0.099024,
      0.033937,
      0.010489,
      0.001037,
      0.056399,
      -0.010388,
      -0.015199,
      -0.029394,
      -0.031395,
      -0.003935,
      0.023935,
      -0.000679,
      0.046993,
      -0.004472,
      -0.042585,
      0.005377,
      0.000117,
      -0.029661,
      0.002135,
      0.039962,
      0.007061,
      -0.023135,
      0.039924,
      0.017803,
      0.02056,
      -0.009862,
      0.001267,
      0.020781,
      -0.029408,
      -0.020679,
      -0.022852,
      -0.070226,
      0.012409,
      0.014745,
      0.029316,
      -0.019403,
      0.005376,
      0.015815,
      -0.024714,
      -0.011805,
      -0.024541,
      -0.001303,
      0.020315,
      0.043602,
      0.004463,
      0.041396,
      -0.014861,
      0.028484,
      -0.040308,
      -0.026505,
      0.008805,
      0.011491,
      -0.049552,
      -0.124664,
      0.062149,
      -0.017272,
      -0.019731,
      -0.058954,
      -0.003862,
      0.030569,
      -0.009222,
      -0.01535,
      -0.023266,
      -0.005114,
      0.028399,
      -0.01657,
      -0.01063,
      0.010296,
      0.005144,
      -0.039249,
      0.053812,
      -0.015016,
      0.025559,
      0.010812,
      0.029935,
      -0.041088,
      0.068029,
      0.032449,
      -0.032789,
      -0.00563,
      -0.052403,
      -0.014357,
      0.04083,
      0.01075,
      0.005488,
      -0.002029,
      0.038033,
      0.010051,
      0.054357,
      -0.008559,
      -0.023019,
      0.023256,
      -0.012875,
      0.017401,
      0.008582,
      0.007797,
      -0.006587,
      0.039496,
      0.023272,
      0.079684,
      0.010614,
      0.024603,
      0.002171,
      0.036468,
      -0.001446,
      0.002057,
      0.014356,
      -0.004657,
      0.001438,
      0.038573,
      0.021869,
      0.014325,
      -0.009068,
      0.020119,
      -0.03223,
      0.008893,
      0.077819,
      0.015816,
      -0.021931,
      -0.02196,
      -0.007793,
      -0.023417,
      0.028837,
      -0.016376,
      -0.041395,
      -0.016472,
      0.027022,
      -0.021384,
      -0.011452,
      0.025166,
      0.022279,
      0.01232,
      -0.005329,
      0.052488,
      0.011014,
      -0.02215,
      -0.04482,
      -0.010255,
      0.017614,
      0.009155,
      -0.049486,
      -0.059471,
      -0.022233,
      -0.013064,
      0.00427,
      0.010548,
      -0.026715,
      -0.046182,
      -0.057486,
      -0.022455,
      0.048976,
      -0.002706,
      -0.003686,
      0.018849,
      0.045214,
      0.000529,
      -0.027992,
      0.015122,
      0.009571,
      0.005352,
      -0.010923
    ]
  },
  {
    "id": "v5-app.test-0",
    "content": "# Application tests\nBreadcrumb: Application tests\n\n",
    "rawContent": "",
    "breadcrumb": "Application tests",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/app.test.md",
    "heading": "Application tests",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "cli",
    "tags": [],
    "embedding": [
      -0.025988,
      0.010771,
      -0.028722,
      0.019512,
      -0.029777,
      0.004457,
      -0.001451,
      0.025315,
      -0.000888,
      0.001905,
      -0.006201,
      -0.03203,
      -0.000689,
      0.018265,
      0.012681,
      0.001756,
      -0.035257,
      0.013344,
      -0.021819,
      -0.050935,
      -0.008332,
      -0.021111,
      -0.00598,
      0.021003,
      -0.012357,
      -0.011819,
      0.000526,
      -0.056204,
      -0.048177,
      0.013421,
      0.047368,
      0.019114,
      0.020228,
      -0.040626,
      0.008768,
      0.018181,
      0.006471,
      0.016748,
      -0.056732,
      0.058031,
      -0.010975,
      -0.033454,
      0.035457,
      0.000503,
      -0.001325,
      -0.006672,
      -0.033578,
      -0.029302,
      -0.02498,
      0.048753,
      0.020101,
      0.006915,
      0.04326,
      -0.045388,
      0.018562,
      -0.025635,
      -0.006765,
      -0.035943,
      -0.104552,
      -0.005411,
      -0.030611,
      0.056907,
      -0.008714,
      0.013156,
      0.050057,
      0.024953,
      -0.008998,
      0.00411,
      -0.014586,
      -0.010493,
      -0.00574,
      0.002054,
      -0.017516,
      -0.013152,
      -0.050145,
      0.051656,
      0.025524,
      -0.024578,
      -0.01352,
      0.02906,
      -0.014286,
      0.011354,
      0.052955,
      -0.015764,
      -0.026641,
      -0.004819,
      0.012218,
      -0.01178,
      -0.014701,
      -0.031872,
      -0.010496,
      -0.016966,
      0.012752,
      -0.001275,
      -0.011452,
      0.011215,
      -0.004819,
      0.003043,
      -0.000604,
      0.058255,
      -0.008677,
      -0.008558,
      -0.007389,
      -0.003135,
      -0.016137,
      0.011806,
      0.001908,
      0.023501,
      -0.002953,
      -0.01991,
      -0.009288,
      0.054475,
      -0.005126,
      0.053679,
      0.026567,
      0.004923,
      0.000338,
      -0.011939,
      -0.02727,
      -0.023467,
      0.05601,
      0.015216,
      -0.000178,
      -0.023267,
      0.033652,
      -0.008973,
      0.005144,
      0.045938,
      0.014655,
      -0.011441,
      0.011569,
      0.021363,
      -0.025179,
      0.050093,
      0.030499,
      0.004943,
      0.046643,
      -0.012875,
      -0.001707,
      -0.019924,
      -0.005221,
      0.0472,
      -0.026938,
      0.008985,
      0.037291,
      -0.037656,
      0.061929,
      -0.009583,
      0.012238,
      -0.014525,
      0.000436,
      -0.031067,
      0.086028,
      -0.009629,
      0.020965,
      -0.019769,
      -0.045852,
      0.019993,
      0.075711,
      0.00948,
      -0.01835,
      0.018768,
      0.023586,
      -0.011696,
      0.05146,
      0.00208,
      0.072155,
      0.035849,
      -0.007056,
      -0.039109,
      0.000991,
      -0.016273,
      -0.057373,
      -0.058708,
      0.022072,
      0.015084,
      0.024898,
      0.014108,
      0.012583,
      -0.052127,
      -0.042207,
      -0.011627,
      -0.014032,
      -0.029273,
      -0.018476,
      -0.009076,
      0.003887,
      -0.019494,
      0.008556,
      0.039817,
      0.032971,
      -0.012067,
      0.046879,
      -0.036466,
      -0.006838,
      -0.01099,
      -0.01475,
      0.001604,
      0.016955,
      0.011167,
      0.031342,
      0.029842,
      0.004575,
      -0.027364,
      -0.062914,
      0.023712,
      0.015871,
      0.012025,
      0.019022,
      -0.051091,
      0.001761,
      0.025291,
      -0.008095,
      -0.019251,
      -0.042235,
      -0.022162,
      0.001269,
      -0.027117,
      -0.02149,
      -0.005418,
      0.042384,
      0.00486,
      0.016583,
      0.019934,
      0.041324,
      -0.015818,
      0.019521,
      0.010461,
      0.047251,
      -0.010037,
      -0.035716,
      -0.029463,
      0.011634,
      0.010292,
      -0.012797,
      -0.037223,
      0.013645,
      0.020304,
      0.045156,
      -0.008685,
      -0.035769,
      -0.028971,
      0.069753,
      -0.005869,
      -0.03011,
      -0.046804,
      -0.024759,
      0.055503,
      -0.054452,
      -0.069143,
      0.024813,
      -0.008115,
      -0.027128,
      -0.025327,
      -0.022945,
      -0.020758,
      -0.007774,
      -0.017038,
      -0.004312,
      -0.007263,
      0.020121,
      0.026505,
      -0.010693,
      0.012645,
      0.045311,
      -0.013234,
      -0.018616,
      -0.040023,
      0.035196,
      0.001035,
      0.003653,
      -0.009614,
      -0.017323,
      0.000314,
      -0.02209,
      0.006831,
      -0.019184,
      -0.038364,
      0.103546,
      0.034646,
      -0.006761,
      0.032361,
      0.036408,
      -0.026581,
      0.016878,
      -0.047682,
      0.021306,
      -0.027935,
      0.031355,
      -0.011833,
      -0.002961,
      0.015285,
      0.071411,
      -0.013842,
      -0.049,
      0.004536,
      -0.031556,
      -0.128668,
      -0.051623,
      -0.015317,
      -0.001322,
      0.033422,
      0.005576,
      -0.016274,
      0.001428,
      -0.027926,
      0.044305,
      0.006467,
      -0.068505,
      0.002138,
      -0.021253,
      -0.018495,
      -0.025725,
      -0.073026,
      0.009168,
      0.009468,
      -0.020398,
      -0.024938,
      -0.02327,
      0.023045,
      -0.014077,
      0.020477,
      -0.01374,
      0.074973,
      -0.037081,
      -0.064173,
      -0.0005,
      -0.055305,
      0.014296,
      0.009516,
      -0.006515,
      0.025139,
      0.052827,
      0.026035,
      0.034607,
      0.02474,
      -0.036468,
      0.027668,
      -0.011342,
      -0.036912,
      0.000291,
      0.013689,
      0.005071,
      0.014371,
      -0.011661,
      0.008023,
      -0.034141,
      0.023673,
      -0.053451,
      0.001957,
      0.024755,
      -0.035304,
      0.054709,
      0.011717,
      0.01555,
      -0.001894,
      0.010145,
      -0.010317,
      -0.110783,
      0.041063,
      -0.033024,
      -0.051643,
      -0.028488,
      -0.02175,
      -0.03827,
      0.007195,
      -0.058589,
      0.011408,
      -0.078495,
      -0.013772,
      -0.000885,
      -0.060723,
      0.019235,
      0.01637,
      -0.017851,
      -0.0371,
      -0.067692,
      -0.053913,
      -0.01335,
      -0.024749,
      -0.004086,
      -0.060625,
      -0.042141,
      -0.020746,
      0.006283,
      0.006141,
      0.199466,
      0.046334,
      0.020754,
      -0.046154,
      0.041531,
      -0.009044,
      -0.046455,
      0.031525,
      0.016068,
      -0.023584,
      -0.017401,
      -0.010343,
      -0.011825,
      -0.011302,
      0.015078,
      -0.027568,
      -0.029699,
      -0.029659,
      0.083698,
      0.030612,
      0.026879,
      -0.052799,
      0.058786,
      -0.004306,
      -0.034109,
      -0.033747,
      -0.025725,
      -0.003495,
      -0.011988,
      0.011177,
      0.014174,
      0.032072,
      0.035146,
      -0.015479,
      -0.006184,
      -0.041324,
      0.023856,
      -0.015069,
      -0.016301,
      0.063154,
      -0.043644,
      -0.053022,
      -0.001191,
      0.023256,
      -0.003644,
      0.04418,
      0.031825,
      -0.007131,
      0.007227,
      0.03344,
      -0.010012,
      -0.029016,
      -0.014315,
      0.018803,
      -0.000183,
      -0.017752,
      -0.036756,
      -0.014837,
      -0.043533,
      0.012137,
      0.050612,
      -0.030538,
      -0.022647,
      0.07951,
      0.050653,
      0.052414,
      0.002427,
      -0.062288,
      0.011573,
      0.053625,
      0.033418,
      0.000431,
      -0.029912,
      -0.021648,
      0.040353,
      -0.023324,
      0.035548,
      0.032788,
      -0.002492,
      0.024381,
      -0.000584,
      -0.000523,
      -0.027118,
      0.049534,
      0.012534,
      -0.013322,
      -0.001214,
      -0.001962,
      -0.022112,
      -0.031296,
      -0.018807,
      0.002904,
      -0.025868,
      -0.005673,
      -0.013629,
      0.02872,
      0.027769,
      0.004753,
      -0.056034,
      -0.030749,
      0.032465,
      -0.012351,
      -0.006134,
      -0.010633,
      0.032615,
      -0.058615,
      0.023795,
      -0.019338,
      0.02845,
      0.025335,
      -0.015114,
      0.034159,
      0.028667,
      -0.014656,
      0.009615,
      -0.003858,
      0.015523,
      0.011292,
      0.032442,
      0.013949,
      0.016301,
      0.002352,
      0.020712,
      0.008426,
      -0.001908,
      -0.070898,
      0.005565,
      0.025334,
      -0.010477,
      0.03932,
      0.040835,
      -0.021827,
      -0.062306,
      0.028742,
      0.013215,
      0.016462,
      0.044187,
      0.050016,
      0.046283,
      0.001815,
      -0.021915,
      -0.028002,
      -0.01386,
      0.006215,
      -0.043671,
      0.027187,
      0.015761,
      -0.028996,
      0.006086,
      0.021076,
      0.053549,
      -0.019279,
      -0.003163,
      -0.056851,
      -0.001318,
      -0.072915,
      -0.020691,
      0.029249,
      -0.010097,
      -0.02472,
      0.008844,
      0.044075,
      0.017243,
      0.038968,
      0.014757,
      0.009848,
      0.03662,
      0.029734,
      -0.001964,
      -0.016521,
      0.027812,
      0.006785,
      -0.053174,
      0.066145,
      -0.014358,
      -0.059626,
      0.006531,
      0.019936,
      0.010941,
      0.005955,
      0.020144,
      -0.074719,
      -0.018356,
      -0.020796,
      -0.007154,
      0.028225,
      -0.015661,
      -0.036403,
      -0.012176,
      0.028363,
      -0.049347,
      0.077182,
      -0.008107,
      -0.003439,
      0.033898,
      -0.02398,
      0.015218,
      -0.015811,
      0.004301,
      0.012719,
      0.007052,
      0.027501,
      -0.008735,
      -0.030298,
      -0.014266,
      0.000512,
      -0.042698,
      0.023027,
      -0.001629,
      0.00493,
      0.031454,
      -0.000908,
      -0.021932,
      -0.01605,
      -0.034947,
      0.036709,
      0.089942,
      0.059279,
      -0.015672,
      -0.018623,
      -0.034485,
      -0.038689,
      0.035147,
      -0.055871,
      0.006538,
      0.049391,
      0.027739,
      -0.013293,
      0.017961,
      0.002873,
      -0.001163,
      -0.039353,
      -0.030631,
      -0.034701,
      0.035936,
      0.009676,
      0.075813,
      0.038723,
      -0.020085,
      -0.026247,
      -0.001564,
      -0.032695,
      0.008797,
      0.077973,
      -0.010705,
      0.019832,
      -0.000239,
      -0.018161,
      0.035097,
      0.010396,
      0.017256,
      0.002158,
      0.019611,
      -0.032233,
      -0.005868,
      -0.0035,
      0.052422,
      -0.008479,
      -0.003653,
      0.00949,
      -0.020826,
      0.031252,
      0.011756,
      -0.009084,
      -0.031492,
      -0.029614,
      0.012248,
      -0.022262,
      -0.022589,
      -0.029577,
      -0.043429,
      0.013779,
      -0.026049,
      -0.039891,
      0.034145,
      -0.01825,
      -0.035312,
      0.012549,
      0.041362,
      0.050235,
      -0.02526,
      -0.000512,
      0.015569,
      0.010973,
      0.043559,
      0.03341,
      0.027112,
      0.019799,
      0.038831,
      -0.058728,
      0.00367,
      -0.028298,
      -0.065421,
      0.046102,
      -0.022266,
      -0.004208,
      -0.009982,
      0.011971,
      0.009179,
      0.005604,
      0.002846,
      0.030884,
      -0.047604,
      -0.0666,
      -0.024716,
      0.034536,
      0.019369,
      -0.023968,
      -0.037716,
      0.024338,
      0.006565,
      -0.018321,
      0.000505,
      0.001654,
      0.0027,
      -0.050934,
      0.077539,
      -0.030919,
      0.029843,
      -0.004578,
      0.030419,
      -0.024841,
      -0.011565,
      -0.006438,
      -0.037403,
      -0.019833,
      -0.008433,
      0.009902,
      0.024085,
      0.016756,
      -0.06934,
      0.016973,
      -0.0204,
      0.001205,
      0.035046,
      0.030938,
      0.016849,
      0.018672,
      0.027555,
      0.032087,
      0.00022,
      -0.014352,
      0.064983,
      -0.027407,
      -0.020512,
      -0.014157,
      -0.037071,
      -0.029028,
      -0.029892,
      -0.008103,
      -0.030355,
      -0.011585,
      -0.009261,
      -0.03607,
      0.021787,
      0.005867,
      0.02748,
      0.038474,
      -0.016721,
      -0.029983,
      -0.026791,
      0.063926,
      0.016608,
      -0.018199,
      -0.008773,
      -0.00252,
      0.004144,
      -0.029739,
      0.050809,
      -0.028641,
      -0.03452,
      0.068613,
      -0.025053,
      0.009559,
      -0.005266,
      0.016394,
      -0.010758,
      -0.013903,
      0.00318,
      0.024549,
      -0.011845,
      0.010723,
      -0.03816,
      -0.023422,
      -0.016005,
      -0.009121,
      -0.048064,
      0.005437,
      0.052174,
      0.047014,
      -0.015046,
      -0.019882,
      -0.009811,
      -0.054923,
      -0.106128,
      -0.000949,
      -0.031004,
      0.01447,
      0.010998,
      0.005283,
      -0.023717,
      -0.019826,
      0.010234,
      -0.030484,
      -0.038392,
      0.019569,
      0.025232,
      0.011217,
      -0.025223,
      0.002555,
      0.010189,
      0.003863,
      -0.024987,
      -0.006462,
      0.009882,
      0.010358,
      0.046415,
      0.009018,
      -0.027915,
      -0.001583,
      -0.050305,
      0.00388,
      -0.039639,
      -0.025616,
      0.035208,
      -0.02914,
      0.014012,
      0.022284,
      -0.006309,
      0.018754,
      -0.014202,
      0.014344,
      -0.007526,
      0.056933,
      0.001098,
      -0.001743,
      -0.033306,
      0.011039,
      0.044631,
      -0.002576,
      0.013868,
      -0.005931,
      -0.012088,
      0.013842,
      -0.01803,
      0.029487,
      -0.055944,
      0.025542,
      0.019966,
      -0.031489,
      -0.04306,
      0.009244,
      -0.039673,
      0.01188,
      -0.060986,
      0.103163,
      -0.002479,
      -0.040201,
      -0.010365,
      0.041171,
      -0.08043,
      -0.001686,
      0.003106,
      0.029632,
      0.006858,
      0.029073,
      0.013774,
      -0.027001,
      0.005847,
      -0.009367,
      0.035244,
      0.030509,
      -0.008467,
      -0.001625,
      -0.062934,
      0.018863,
      -0.018005,
      0.05651,
      0.016594,
      0.013436,
      -0.003939,
      0.01532,
      -0.103329,
      0.009998,
      -0.054477,
      -0.027095,
      -0.0308,
      -0.010312,
      0.021388,
      0.055711,
      0.013647,
      0.012183,
      0.012374,
      0.047408,
      0.00078,
      -0.002985,
      -0.001663,
      -0.023677,
      0.003155,
      -0.00637,
      0.029506,
      -0.02852,
      0.014914,
      -0.009658,
      -0.017991,
      -0.00815,
      0.000597,
      0.011356,
      -0.064962,
      -0.013044,
      -0.017188,
      0.016916,
      -0.017822,
      -0.003684,
      0.048964,
      0.02109,
      0.040882,
      -0.036292,
      -0.008558,
      0.021252,
      0.034702,
      0.030075,
      0.039386,
      0.022529,
      -0.012332,
      0.011739,
      -0.004282,
      -0.007936,
      -0.006622,
      -0.040087,
      -0.043378,
      0.042891,
      -0.034989,
      -0.045525,
      -0.062716,
      0.008974,
      0.005152,
      -0.023798,
      -0.011639,
      0.008194,
      -0.024571,
      -0.004065,
      -0.018624,
      -0.012181,
      0.001605,
      0.017655,
      -0.039098,
      0.015513,
      -0.008302,
      0.027707,
      -0.012312,
      0.00427,
      -0.009018,
      -0.000038,
      -0.041392,
      0.033477,
      -0.017536,
      -0.023363,
      -0.022216,
      -0.016912,
      -0.031257,
      0.005756,
      -0.006927,
      0.04536,
      0.034038,
      0.017729,
      -0.024248,
      0.001904,
      0.071417,
      -0.006752,
      -0.01015,
      0.011844,
      0.030264,
      0.019084,
      0.040353,
      0.007148,
      0.053297,
      0.088725,
      0.040067,
      0.009213,
      -0.012837,
      -0.00537,
      0.015935,
      -0.000298,
      0.001384,
      0.004751,
      -0.056446,
      -0.00531,
      0.024417,
      0.006745,
      -0.012427,
      0.020364,
      0.017681,
      0.050693,
      -0.006218,
      -0.001169,
      -0.046671,
      0.012145,
      -0.019269,
      0.003164,
      0.005057,
      0.017292,
      -0.006231,
      0.010701,
      -0.003429,
      -0.025385,
      0.01319,
      0.013282,
      -0.011882,
      -0.01966,
      -0.00083,
      0.036424,
      -0.010696,
      0.05432,
      0.048938,
      -0.004418,
      -0.005211,
      -0.023292,
      -0.026714,
      -0.024322,
      0.004346,
      0.011707,
      0.011005,
      -0.010846,
      -0.004295,
      -0.014071,
      -0.02021,
      0.042328,
      0.007941,
      -0.029308,
      -0.016703,
      -0.013573,
      -0.056849,
      -0.037636,
      0.009388,
      -0.008501,
      0.03584,
      -0.001211
    ]
  },
  {
    "id": "v5-authentication-0",
    "content": "# Authentication\nBreadcrumb: Authentication\nCovers: oAuth\nTopics: provider, create, authentication, oauth, google, facebook, github, schema, validation, login\n\n## oAuth\n\nNote that when selecting oAuth logins (Google, Facebook, GitHub etc.), the standard registered oAuth strategy only uses the `<name>Id` property to create a new user. This will fail validation against the default user [schema](./service.schemas.md) which requires an `email` property to exist. If the provider (and user) allows fetching the email, you can customize the oAuth strategy like shown for GitHub in the [oAuth authentication guide](../basics/authentication.md#login-with-github). You can also make the email in the schema optional with `email: Type.Optional(Type.String())`.",
    "rawContent": "## oAuth\n\nNote that when selecting oAuth logins (Google, Facebook, GitHub etc.), the standard registered oAuth strategy only uses the `<name>Id` property to create a new user. This will fail validation against the default user [schema](./service.schemas.md) which requires an `email` property to exist. If the provider (and user) allows fetching the email, you can customize the oAuth strategy like shown for GitHub in the [oAuth authentication guide](../basics/authentication.md#login-with-github). You can also make the email in the schema optional with `email: Type.Optional(Type.String())`.",
    "breadcrumb": "Authentication",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/authentication.md",
    "heading": "Authentication",
    "subHeadings": [
      "oAuth"
    ],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 149,
    "category": "cli",
    "tags": [
      "provider",
      "create",
      "authentication",
      "oauth",
      "google",
      "facebook",
      "github",
      "schema",
      "validation",
      "login"
    ],
    "embedding": [
      -0.00398,
      0.021091,
      -0.023678,
      -0.017388,
      0.002042,
      -0.023969,
      0.009598,
      0.012863,
      0.021371,
      0.015969,
      0.013057,
      -0.010789,
      -0.004152,
      -0.021808,
      -0.027947,
      0.011031,
      0.004344,
      0.004823,
      0.039054,
      0.007556,
      -0.020648,
      -0.005487,
      0.007878,
      -0.057061,
      -0.002022,
      0.018624,
      0.026418,
      -0.000885,
      -0.046046,
      -0.018922,
      0.004792,
      -0.004691,
      0.000928,
      -0.01042,
      -0.033711,
      -0.005885,
      -0.020336,
      0.009334,
      -0.04603,
      0.033061,
      -0.001795,
      0.016304,
      0.024092,
      -0.018893,
      0.031829,
      -0.031614,
      0.007606,
      -0.005933,
      0.057813,
      -0.046453,
      -0.008989,
      -0.00183,
      0.05845,
      -0.025994,
      0.02155,
      0.020782,
      -0.001832,
      -0.017681,
      -0.055717,
      -0.044395,
      -0.044616,
      -0.011268,
      -0.017407,
      -0.012797,
      0.008084,
      0.006183,
      -0.028411,
      -0.00855,
      -0.027437,
      -0.067028,
      0.005496,
      0.044906,
      -0.013285,
      0.004609,
      -0.025533,
      -0.01443,
      0.060569,
      0.013349,
      -0.015004,
      0.044661,
      -0.021465,
      -0.00728,
      0.046711,
      -0.018343,
      0.007584,
      -0.064803,
      0.008302,
      0.083652,
      0.0327,
      0.042389,
      -0.014941,
      -0.054232,
      0.073734,
      -0.043367,
      0.00417,
      -0.01049,
      0.027767,
      -0.003989,
      0.000037,
      -0.000578,
      -0.009555,
      0.013802,
      -0.038714,
      -0.024132,
      0.006245,
      0.031218,
      -0.022481,
      -0.013734,
      -0.028976,
      -0.011919,
      -0.002702,
      0.025841,
      0.046929,
      -0.004286,
      -0.042149,
      -0.028234,
      0.014695,
      0.007658,
      -0.004736,
      -0.010844,
      -0.018066,
      0.024878,
      0.011504,
      -0.016914,
      -0.026909,
      -0.013668,
      -0.017873,
      -0.057638,
      -0.026532,
      0.022338,
      0.025031,
      -0.049292,
      -0.029297,
      -0.018412,
      -0.034675,
      -0.018271,
      0.010595,
      0.028007,
      -0.02761,
      -0.04915,
      0.019497,
      0.016189,
      -0.020282,
      -0.058038,
      0.060079,
      -0.051656,
      0.072142,
      0.003818,
      0.013463,
      -0.009079,
      0.009899,
      0.005168,
      0.004857,
      -0.002905,
      -0.011893,
      -0.042401,
      -0.028333,
      0.016554,
      0.033213,
      0.01023,
      -0.001506,
      0.037245,
      -0.045016,
      -0.003427,
      0.021385,
      -0.049512,
      -0.015571,
      -0.029845,
      -0.020439,
      0.008556,
      0.02159,
      -0.003857,
      -0.037089,
      -0.01991,
      -0.019608,
      0.033923,
      0.056439,
      0.041457,
      0.006014,
      -0.046114,
      -0.027351,
      -0.028505,
      -0.001842,
      -0.065391,
      0.007485,
      -0.008493,
      -0.00277,
      -0.025872,
      -0.00765,
      0.033697,
      -0.016521,
      -0.028594,
      0.008798,
      0.041544,
      -0.008948,
      -0.015573,
      -0.01612,
      0.027725,
      -0.017549,
      -0.018635,
      -0.036753,
      0.043231,
      0.035186,
      0.008307,
      -0.003883,
      -0.002227,
      0.045937,
      -0.042407,
      -0.007647,
      -0.063534,
      0.02767,
      -0.022398,
      -0.035843,
      -0.046087,
      -0.071093,
      0.048521,
      0.020215,
      0.0247,
      -0.024748,
      -0.017256,
      0.020634,
      0.036732,
      -0.003865,
      -0.001503,
      0.03675,
      0.027356,
      0.004488,
      -0.037444,
      0.024244,
      0.006383,
      -0.016773,
      -0.027012,
      0.033015,
      -0.004595,
      0.013031,
      -0.01495,
      -0.031714,
      0.026706,
      0.01039,
      -0.020915,
      0.001421,
      -0.022883,
      0.02359,
      0.014228,
      -0.056254,
      0.003685,
      -0.012004,
      0.070452,
      -0.057622,
      -0.041081,
      0.010234,
      0.013562,
      -0.010218,
      -0.01711,
      0.019024,
      -0.007627,
      -0.00832,
      -0.018709,
      -0.015653,
      -0.026621,
      0.057452,
      -0.047906,
      -0.058777,
      0.01487,
      0.018082,
      -0.006797,
      -0.009756,
      -0.031399,
      0.030596,
      0.010629,
      -0.034278,
      -0.005773,
      -0.003683,
      0.016792,
      -0.033007,
      -0.031976,
      -0.022505,
      -0.022655,
      0.078915,
      0.010589,
      0.011983,
      0.034918,
      0.014626,
      0.043713,
      0.016797,
      0.002814,
      0.009095,
      -0.000021,
      0.032888,
      -0.060638,
      -0.028254,
      0.053552,
      0.063567,
      -0.005668,
      0.035834,
      -0.045493,
      -0.017644,
      -0.137168,
      -0.028725,
      0.013022,
      0.035982,
      -0.002496,
      -0.007793,
      -0.035584,
      -0.006315,
      0.011244,
      0.028762,
      -0.018065,
      -0.029769,
      -0.034949,
      -0.030208,
      0.040533,
      0.016702,
      -0.015255,
      -0.022547,
      0.018958,
      -0.032328,
      -0.031299,
      -0.081641,
      0.068638,
      0.004311,
      0.015467,
      -0.015247,
      0.057051,
      0.003325,
      -0.062813,
      -0.023133,
      -0.025604,
      -0.02749,
      0.014287,
      0.017497,
      0.000473,
      0.005735,
      -0.015558,
      0.013663,
      0.047088,
      0.005603,
      0.045506,
      -0.006239,
      -0.0343,
      -0.003292,
      0.026824,
      0.02338,
      0.024684,
      0.003763,
      -0.00381,
      0.014731,
      0.011135,
      -0.018756,
      -0.003815,
      -0.00257,
      -0.046034,
      0.011916,
      0.018617,
      0.0486,
      -0.00696,
      0.012928,
      0.024414,
      -0.02112,
      0.034087,
      -0.022372,
      0.021628,
      0.011623,
      0.020676,
      0.012975,
      0.016857,
      -0.035366,
      -0.036366,
      -0.050586,
      -0.02753,
      0.013014,
      -0.035227,
      -0.001949,
      0.031003,
      -0.009286,
      -0.002744,
      -0.072846,
      -0.016651,
      -0.018459,
      0.002236,
      0.016454,
      -0.028921,
      -0.001359,
      0.01614,
      0.024171,
      0.029389,
      0.222224,
      0.035171,
      0.016574,
      -0.018361,
      0.050789,
      -0.0038,
      0.002134,
      0.09222,
      -0.02691,
      -0.020572,
      -0.018275,
      -0.001887,
      0.02303,
      -0.01006,
      0.006686,
      -0.006723,
      -0.046021,
      -0.005794,
      0.032145,
      -0.007667,
      0.035753,
      -0.04137,
      0.090542,
      0.019061,
      -0.076919,
      -0.038614,
      -0.039077,
      0.044693,
      -0.030306,
      0.039059,
      0.001712,
      0.021541,
      0.032177,
      0.020129,
      -0.031295,
      0.026544,
      0.020863,
      0.004451,
      -0.019083,
      0.021114,
      0.012173,
      -0.011401,
      0.051632,
      -0.056174,
      0.004214,
      0.013287,
      0.021799,
      0.000965,
      -0.027455,
      -0.045235,
      -0.046003,
      -0.00228,
      -0.030538,
      -0.02228,
      0.016791,
      -0.000567,
      -0.030316,
      -0.004598,
      -0.027195,
      0.008419,
      0.057172,
      0.014737,
      -0.078231,
      0.030744,
      -0.010943,
      0.028095,
      0.01529,
      -0.036126,
      -0.011794,
      0.04832,
      -0.049466,
      0.040673,
      -0.001577,
      -0.000076,
      0.020504,
      -0.013965,
      0.092872,
      0.031102,
      -0.008974,
      0.016281,
      0.042205,
      0.037248,
      -0.010584,
      0.026817,
      0.027392,
      -0.006352,
      0.003672,
      0.087311,
      0.004319,
      -0.020934,
      -0.023998,
      0.003073,
      0.022237,
      0.03763,
      -0.030024,
      0.014377,
      -0.002576,
      0.000584,
      0.000939,
      -0.04184,
      0.00878,
      0.022895,
      -0.044924,
      0.004828,
      0.054163,
      -0.026149,
      0.012935,
      0.007711,
      -0.0084,
      0.05756,
      -0.045951,
      -0.011406,
      0.011574,
      -0.0451,
      0.017675,
      0.029398,
      0.011308,
      -0.008239,
      0.03247,
      0.06275,
      0.040078,
      -0.030073,
      -0.037025,
      0.039022,
      0.029198,
      -0.055954,
      -0.012251,
      0.008172,
      -0.033659,
      0.01436,
      0.037128,
      -0.020084,
      0.020878,
      0.040872,
      0.02093,
      0.023577,
      0.038362,
      0.001807,
      0.045044,
      0.020467,
      -0.084008,
      0.012078,
      -0.012677,
      -0.005178,
      -0.003272,
      0.013645,
      -0.044744,
      0.003263,
      0.021294,
      0.014264,
      0.032079,
      0.033927,
      -0.012091,
      -0.020012,
      0.018298,
      -0.04973,
      0.001429,
      0.019956,
      0.003173,
      -0.034925,
      0.000538,
      0.000246,
      0.029561,
      0.074699,
      -0.052036,
      0.036917,
      0.034008,
      -0.004241,
      -0.013688,
      -0.013143,
      0.051038,
      -0.044327,
      -0.025769,
      0.058333,
      0.012174,
      0.006747,
      -0.032871,
      -0.03558,
      -0.015296,
      0.016702,
      0.018734,
      -0.009652,
      -0.0138,
      -0.011429,
      -0.001041,
      0.002027,
      -0.007332,
      0.001117,
      -0.019498,
      -0.002805,
      -0.01234,
      0.080063,
      -0.026822,
      0.011709,
      0.01174,
      0.028063,
      0.001669,
      0.025408,
      -0.012758,
      0.030163,
      -0.027616,
      -0.017746,
      -0.007245,
      -0.070459,
      0.01069,
      -0.009939,
      -0.000513,
      0.035397,
      -0.009449,
      0.047426,
      0.033023,
      0.070289,
      -0.052773,
      0.003477,
      0.022476,
      -0.022911,
      0.062978,
      0.049787,
      0.018486,
      -0.014207,
      0.022789,
      -0.009634,
      -0.003499,
      -0.051865,
      -0.003531,
      0.066498,
      0.052511,
      0.013082,
      -0.044472,
      0.004595,
      -0.020024,
      -0.01877,
      0.030698,
      -0.00565,
      0.013747,
      -0.008805,
      -0.007976,
      0.006296,
      0.025301,
      -0.012948,
      0.054167,
      -0.049362,
      0.01364,
      -0.017341,
      -0.011823,
      0.001606,
      -0.009621,
      0.041485,
      -0.023382,
      0.014004,
      -0.004559,
      -0.043941,
      -0.040275,
      -0.013769,
      0.021537,
      -0.022772,
      0.043727,
      -0.058766,
      -0.02229,
      0.009585,
      -0.023751,
      -0.004418,
      0.042251,
      -0.010854,
      -0.018459,
      -0.081987,
      -0.014788,
      -0.066442,
      -0.039603,
      0.014354,
      0.013932,
      0.00927,
      -0.001664,
      -0.068439,
      -0.020798,
      -0.015616,
      -0.019218,
      -0.029911,
      0.011522,
      0.00823,
      -0.025333,
      0.012013,
      0.009195,
      0.020457,
      -0.031919,
      0.061951,
      -0.007711,
      0.031229,
      0.008853,
      -0.061481,
      -0.00379,
      -0.001748,
      -0.017078,
      0.057328,
      -0.012144,
      -0.006638,
      -0.018077,
      -0.002447,
      -0.013112,
      0.029501,
      -0.002982,
      0.00607,
      0.020161,
      0.008734,
      0.001663,
      0.011154,
      -0.022505,
      -0.032139,
      -0.025355,
      -0.007137,
      0.040622,
      -0.033382,
      -0.033575,
      0.031806,
      -0.022683,
      -0.009657,
      0.043192,
      -0.026783,
      0.022242,
      -0.017213,
      0.014233,
      0.007919,
      -0.020084,
      0.00961,
      -0.003252,
      -0.002741,
      -0.063757,
      0.023989,
      -0.027534,
      0.006258,
      -0.057554,
      -0.025808,
      0.002923,
      -0.029236,
      0.002318,
      -0.011406,
      0.024452,
      -0.0294,
      -0.004895,
      0.025868,
      0.018652,
      -0.013683,
      0.074409,
      -0.009304,
      -0.001216,
      -0.033458,
      -0.007834,
      0.034524,
      -0.0543,
      0.006033,
      -0.005343,
      0.029669,
      -0.023716,
      -0.026491,
      0.02717,
      -0.006819,
      0.008793,
      0.043762,
      0.047068,
      0.019586,
      -0.020325,
      0.073046,
      0.034851,
      -0.034469,
      0.014608,
      0.006552,
      -0.000987,
      0.001729,
      -0.014111,
      0.012426,
      -0.013125,
      0.007965,
      0.007778,
      -0.016334,
      -0.015431,
      0.033635,
      -0.000456,
      -0.012951,
      0.025319,
      -0.059531,
      -0.007432,
      -0.028747,
      -0.048915,
      -0.00372,
      -0.022254,
      -0.010878,
      0.027249,
      0.020653,
      0.021445,
      0.012817,
      0.005971,
      0.001348,
      -0.017213,
      -0.00844,
      -0.152147,
      0.016427,
      -0.032588,
      0.023707,
      -0.014272,
      -0.02802,
      -0.034867,
      -0.032952,
      0.036902,
      -0.056889,
      -0.016417,
      0.032271,
      0.011665,
      -0.006992,
      0.049876,
      0.011103,
      -0.006279,
      -0.031905,
      -0.073167,
      -0.033923,
      -0.012527,
      -0.02284,
      0.05495,
      0.014819,
      -0.045009,
      -0.03253,
      0.045868,
      -0.00411,
      -0.019608,
      0.019634,
      -0.060388,
      -0.010717,
      0.023698,
      -0.003088,
      -0.003074,
      -0.006548,
      0.033289,
      0.023396,
      -0.0346,
      0.029029,
      -0.006821,
      0.027373,
      -0.015753,
      0.02604,
      0.028468,
      0.07691,
      -0.026093,
      -0.050156,
      -0.04851,
      -0.028607,
      0.015471,
      -0.009211,
      -0.055035,
      -0.000545,
      -0.002721,
      0.029224,
      -0.013341,
      -0.015136,
      -0.069634,
      0.033578,
      0.005262,
      0.048498,
      -0.040166,
      0.000063,
      -0.010258,
      0.020597,
      -0.040216,
      0.004249,
      -0.007651,
      -0.020182,
      0.012637,
      -0.020717,
      -0.01895,
      0.022302,
      0.015983,
      0.003278,
      0.015362,
      0.001254,
      -0.03317,
      -0.008755,
      0.020884,
      -0.015325,
      -0.055548,
      0.051399,
      0.030605,
      0.067797,
      0.017885,
      0.014474,
      -0.025475,
      0.017806,
      -0.048058,
      -0.062569,
      0.050231,
      0.039904,
      -0.03845,
      0.034008,
      -0.036684,
      0.011165,
      0.001792,
      0.000667,
      0.000165,
      0.010243,
      0.019569,
      0.001659,
      -0.008297,
      -0.010831,
      0.000919,
      -0.012293,
      -0.00273,
      -0.028751,
      -0.013569,
      0.013233,
      -0.006873,
      -0.009341,
      -0.028031,
      -0.027084,
      0.021765,
      0.019271,
      -0.029166,
      -0.007089,
      0.000546,
      0.001205,
      -0.012611,
      -0.017076,
      0.02782,
      0.016923,
      0.042282,
      0.016386,
      -0.011411,
      -0.071032,
      -0.003647,
      -0.071113,
      -0.000801,
      0.02491,
      0.007158,
      -0.032152,
      -0.063387,
      0.028252,
      -0.003761,
      -0.051764,
      -0.02417,
      -0.042664,
      0.013565,
      -0.019534,
      -0.001141,
      -0.001472,
      0.019032,
      0.041261,
      -0.012462,
      -0.053549,
      -0.020008,
      -0.007338,
      -0.010293,
      0.048063,
      -0.003092,
      0.038651,
      -0.012716,
      0.010158,
      0.006257,
      0.047676,
      -0.022746,
      -0.064758,
      -0.012588,
      -0.036976,
      -0.01195,
      -0.011204,
      -0.006042,
      -0.010383,
      -0.00818,
      -0.005694,
      -0.004332,
      0.03442,
      -0.019866,
      -0.024728,
      0.026532,
      0.008216,
      0.015566,
      0.005323,
      0.074544,
      0.001425,
      0.028815,
      0.014965,
      0.01821,
      0.03253,
      0.02067,
      -0.017916,
      -0.01169,
      -0.008165,
      0.010473,
      -0.031063,
      -0.029424,
      -0.000945,
      0.007157,
      -0.016914,
      0.012895,
      0.010424,
      0.02403,
      0.033852,
      -0.003427,
      0.027912,
      -0.019999,
      0.011368,
      -0.000772,
      -0.007718,
      0.011432,
      0.004531,
      -0.021169,
      0.007558,
      -0.019955,
      0.069892,
      0.000687,
      0.004928,
      -0.008347,
      0.013708,
      0.003368,
      -0.005794,
      0.056412,
      0.00042,
      0.020559,
      -0.050581,
      0.058703,
      -0.000298,
      -0.005596,
      0.004456,
      -0.040137,
      -0.031697,
      0.01866,
      0.030637,
      0.036908,
      0.028031,
      -0.005826,
      0.04383,
      0.0243,
      0.058446,
      0.045987,
      0.021087,
      0.002943,
      -0.045608,
      -0.005804,
      -0.043563,
      0.03672,
      0.001348,
      0.015242,
      -0.008047
    ]
  },
  {
    "id": "v5-channels-0",
    "content": "# Channels\nBreadcrumb: Channels\n\n",
    "rawContent": "",
    "breadcrumb": "Channels",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/channels.md",
    "heading": "Channels",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "cli",
    "tags": [],
    "embedding": [
      -0.012502,
      -0.01034,
      -0.030651,
      0.020374,
      -0.032451,
      0.029585,
      -0.009832,
      0.033635,
      -0.041744,
      0.015527,
      0.029936,
      -0.040805,
      -0.005988,
      0.012971,
      -0.002884,
      -0.021485,
      -0.02228,
      0.023094,
      0.011663,
      -0.034761,
      -0.002778,
      0.001422,
      -0.036882,
      0.032363,
      0.010767,
      0.006806,
      0.041465,
      -0.051591,
      -0.069655,
      -0.018691,
      0.011229,
      0.034274,
      0.02086,
      -0.033127,
      0.001712,
      -0.013383,
      -0.026719,
      0.021593,
      -0.056375,
      0.061937,
      -0.035012,
      -0.024062,
      0.011173,
      -0.028945,
      0.014953,
      -0.010663,
      -0.028628,
      -0.021213,
      0.006018,
      0.012574,
      0.019813,
      -0.005118,
      0.034348,
      -0.028753,
      0.013721,
      -0.034687,
      -0.045741,
      -0.007701,
      -0.071187,
      -0.006452,
      -0.014458,
      0.029607,
      0.016687,
      -0.014181,
      0.050311,
      0.056343,
      -0.003123,
      0.027267,
      -0.001324,
      0.013785,
      -0.014542,
      0.027092,
      -0.0458,
      -0.019263,
      -0.033616,
      0.054195,
      0.007238,
      -0.040601,
      0.0355,
      0.04867,
      0.010152,
      -0.005059,
      0.037986,
      -0.025765,
      -0.033099,
      0.017934,
      -0.004534,
      0.019,
      -0.020367,
      -0.022049,
      0.007308,
      -0.014345,
      -0.016087,
      -0.011265,
      0.013718,
      -0.030816,
      0.007467,
      -0.017823,
      -0.024872,
      0.058072,
      0.027789,
      0.022575,
      -0.021748,
      -0.00745,
      -0.025214,
      -0.005026,
      0.040271,
      0.011048,
      0.004455,
      -0.020701,
      0.009464,
      0.074183,
      -0.041711,
      0.042256,
      0.018616,
      0.001924,
      0.010794,
      -0.018793,
      -0.027475,
      -0.018538,
      0.03892,
      0.021898,
      0.003523,
      -0.041721,
      0.083111,
      -0.019819,
      -0.003883,
      0.01073,
      0.008374,
      0.012663,
      -0.008158,
      0.02476,
      -0.02763,
      0.065959,
      0.015118,
      0.002357,
      0.033018,
      -0.005192,
      0.003279,
      -0.022284,
      -0.001619,
      0.055313,
      -0.042993,
      0.012737,
      0.014654,
      -0.018216,
      0.040195,
      0.000427,
      0.012316,
      0.007383,
      0.000599,
      -0.026729,
      0.091572,
      -0.020771,
      0.034198,
      -0.013059,
      -0.060278,
      0.033205,
      0.042552,
      0.00431,
      0.012364,
      0.01715,
      0.011814,
      -0.037195,
      0.033892,
      0.002014,
      0.085794,
      0.036157,
      -0.006815,
      -0.012767,
      0.007179,
      0.004565,
      -0.033035,
      -0.036363,
      0.044862,
      0.019507,
      0.025968,
      0.00268,
      0.017316,
      -0.052578,
      -0.031938,
      -0.044119,
      -0.012666,
      -0.015371,
      -0.045709,
      0.015353,
      -0.015425,
      -0.018668,
      0.020567,
      0.03949,
      0.040951,
      0.00548,
      0.031599,
      -0.038429,
      0.023238,
      -0.034909,
      -0.035079,
      -0.009408,
      -0.028172,
      -0.010425,
      0.025443,
      0.025395,
      -0.046346,
      -0.023737,
      -0.058361,
      0.016555,
      -0.003498,
      -0.008595,
      0.001085,
      -0.013353,
      0.003707,
      0.012773,
      -0.025068,
      -0.054341,
      -0.051809,
      -0.018261,
      0.011316,
      -0.021613,
      -0.014753,
      0.001279,
      0.020548,
      0.013298,
      0.010366,
      0.008339,
      0.025133,
      -0.004749,
      0.009663,
      0.003997,
      0.026637,
      -0.004967,
      -0.050515,
      -0.03747,
      0.005392,
      0.037015,
      -0.028794,
      0.003296,
      -0.0127,
      0.028186,
      0.029298,
      -0.01642,
      -0.048772,
      -0.036616,
      0.013357,
      -0.008691,
      -0.021038,
      -0.000326,
      -0.021462,
      0.053925,
      -0.031486,
      -0.045689,
      0.041047,
      0.001874,
      -0.020142,
      -0.016244,
      -0.009906,
      -0.023876,
      -0.013011,
      -0.048929,
      -0.020151,
      -0.009173,
      0.046574,
      0.029328,
      -0.004461,
      0.018615,
      0.045056,
      -0.019728,
      -0.010596,
      -0.054944,
      0.049363,
      -0.018763,
      -0.021589,
      -0.01457,
      -0.002906,
      0.017922,
      -0.072702,
      0.008496,
      -0.013899,
      -0.010972,
      0.088758,
      0.027461,
      -0.007892,
      -0.01169,
      0.027633,
      -0.011111,
      0.049039,
      -0.037897,
      0.011542,
      0.00998,
      0.018506,
      -0.016507,
      -0.02466,
      0.040329,
      0.05528,
      0.013838,
      -0.033899,
      0.028859,
      -0.023972,
      -0.128297,
      -0.026353,
      0.019034,
      -0.018852,
      0.022904,
      -0.021382,
      0.007733,
      0.0479,
      -0.035185,
      0.020704,
      0.011781,
      -0.0448,
      0.001833,
      -0.012878,
      -0.032651,
      -0.070858,
      -0.031279,
      -0.004228,
      0.036919,
      -0.028653,
      -0.024884,
      -0.037683,
      -0.011456,
      -0.020527,
      0.000212,
      0.001942,
      0.080645,
      -0.019481,
      -0.07548,
      -0.032997,
      -0.023035,
      0.003827,
      0.010303,
      -0.010026,
      0.034603,
      0.039355,
      0.021236,
      0.022284,
      0.041595,
      -0.025356,
      0.052658,
      -0.025597,
      -0.024077,
      -0.021292,
      -0.010539,
      -0.004591,
      -0.022469,
      0.020207,
      0.016235,
      -0.012944,
      0.032417,
      -0.055531,
      0.002442,
      0.013712,
      -0.018847,
      0.050963,
      0.019363,
      0.025492,
      0.000009,
      -0.000414,
      -0.009898,
      -0.068624,
      0.01978,
      -0.06116,
      -0.065893,
      -0.02404,
      -0.001098,
      -0.053293,
      0.020896,
      -0.063622,
      0.003605,
      -0.061429,
      0.012617,
      -0.006981,
      -0.055274,
      0.011128,
      -0.015826,
      -0.025521,
      -0.048877,
      -0.072496,
      -0.053548,
      -0.003339,
      -0.020518,
      -0.017792,
      -0.070147,
      -0.049698,
      0.006435,
      0.036684,
      0.006643,
      0.18257,
      0.053085,
      0.023129,
      -0.03321,
      0.069399,
      0.009409,
      -0.017448,
      0.055925,
      -0.004531,
      -0.033624,
      -0.021726,
      0.017053,
      -0.029741,
      -0.039033,
      -0.015459,
      -0.010329,
      -0.028183,
      -0.045812,
      0.059999,
      0.030223,
      0.030053,
      -0.031477,
      0.038766,
      -0.002761,
      -0.028211,
      -0.042022,
      -0.023404,
      -0.021533,
      0.008684,
      0.009263,
      0.014501,
      0.027904,
      0.036631,
      -0.022208,
      -0.042528,
      -0.054325,
      0.018805,
      -0.037055,
      0.011763,
      0.064005,
      -0.047332,
      -0.054182,
      0.012031,
      0.015627,
      -0.000042,
      0.021965,
      0.064074,
      -0.006165,
      0.010553,
      0.034086,
      -0.013503,
      -0.036326,
      -0.020286,
      -0.013626,
      -0.0063,
      -0.053309,
      -0.015233,
      -0.024208,
      -0.020095,
      0.038056,
      0.05688,
      -0.030125,
      -0.028629,
      0.085138,
      0.009805,
      0.063889,
      0.037033,
      -0.039033,
      0.009069,
      0.032739,
      0.000616,
      -0.002339,
      -0.024826,
      -0.023548,
      0.025146,
      -0.038491,
      0.038301,
      0.004001,
      -0.003964,
      -0.000609,
      -0.004158,
      -0.017595,
      0.006843,
      0.04543,
      0.000466,
      -0.036263,
      0.027518,
      0.025473,
      -0.018132,
      -0.035691,
      -0.021236,
      0.009252,
      -0.007142,
      0.008217,
      -0.01771,
      0.0001,
      0.015989,
      0.011965,
      -0.056453,
      -0.021031,
      0.028515,
      -0.029605,
      -0.006149,
      -0.043904,
      0.016217,
      -0.019232,
      0.03846,
      -0.016576,
      0.014217,
      0.025599,
      0.007929,
      0.025915,
      0.02451,
      0.018169,
      0.025482,
      -0.010404,
      0.010296,
      0.00334,
      0.052148,
      -0.021789,
      0.024277,
      -0.028765,
      0.046907,
      -0.000387,
      -0.006534,
      -0.053099,
      0.025529,
      0.005301,
      -0.012018,
      0.018143,
      0.041332,
      -0.024686,
      -0.066419,
      0.036685,
      0.033353,
      0.01373,
      0.030338,
      0.032768,
      0.03988,
      -0.031467,
      0.026929,
      0.017068,
      -0.013291,
      -0.038874,
      -0.047598,
      0.008549,
      0.001964,
      -0.026334,
      0.032014,
      0.050027,
      0.047097,
      0.023636,
      0.00774,
      -0.068629,
      0.018546,
      -0.046513,
      -0.010069,
      0.030078,
      -0.017822,
      -0.02571,
      0.012775,
      0.066987,
      0.008238,
      0.044127,
      0.016772,
      0.037193,
      0.035651,
      0.037318,
      -0.015112,
      -0.025274,
      0.02976,
      -0.01614,
      -0.048516,
      0.075153,
      -0.021418,
      -0.071862,
      -0.003418,
      0.042184,
      0.011411,
      0.006858,
      0.032084,
      -0.040284,
      0.031668,
      -0.023769,
      -0.037642,
      0.029593,
      -0.02506,
      -0.030432,
      -0.050548,
      0.024192,
      -0.050298,
      0.084995,
      -0.011392,
      -0.016158,
      0.000553,
      0.010701,
      -0.033153,
      0.014354,
      0.008721,
      0.023544,
      -0.025578,
      0.00846,
      -0.013682,
      -0.069878,
      0.010577,
      0.010419,
      -0.029209,
      0.041746,
      0.004172,
      -0.029453,
      0.007419,
      0.003957,
      -0.036609,
      0.006034,
      -0.004825,
      0.029309,
      0.079643,
      0.031346,
      -0.022792,
      -0.035918,
      -0.015882,
      -0.045904,
      0.046301,
      -0.044119,
      0.008104,
      0.007821,
      0.042304,
      0.01945,
      0.012884,
      0.021075,
      0.003373,
      -0.042367,
      -0.035948,
      0.008209,
      0.023379,
      0.016308,
      0.032934,
      0.039246,
      0.006243,
      -0.022417,
      0.001994,
      -0.022144,
      -0.037217,
      0.052876,
      0.008075,
      0.051447,
      0.023153,
      -0.052484,
      0.039237,
      0.002405,
      -0.012796,
      0.017394,
      0.01092,
      -0.022145,
      0.017552,
      -0.026365,
      0.032707,
      0.029822,
      0.028588,
      -0.008812,
      -0.021732,
      0.029165,
      0.01977,
      0.011599,
      -0.042713,
      0.000666,
      -0.010591,
      -0.019723,
      -0.034262,
      -0.0177,
      -0.010454,
      0.011503,
      -0.03405,
      -0.042019,
      0.037805,
      -0.000155,
      -0.053994,
      0.007527,
      0.025302,
      0.032662,
      -0.015651,
      0.019915,
      0.000032,
      -0.00139,
      -0.001782,
      0.022123,
      0.002378,
      -0.005569,
      0.064519,
      -0.054547,
      0.033579,
      -0.075145,
      -0.05883,
      0.03022,
      -0.03219,
      -0.003895,
      -0.017372,
      0.062927,
      -0.00284,
      -0.003645,
      0.004215,
      0.028482,
      -0.008742,
      -0.069459,
      -0.00369,
      0.025329,
      0.030152,
      -0.053176,
      -0.011637,
      0.033608,
      0.006393,
      0.006691,
      -0.02214,
      0.014511,
      0.02625,
      -0.041591,
      0.064536,
      -0.033575,
      0.024248,
      0.004312,
      -0.020878,
      -0.039844,
      -0.003114,
      0.006875,
      -0.028879,
      -0.022719,
      -0.025817,
      -0.020925,
      -0.007485,
      -0.017759,
      -0.073374,
      0.023817,
      -0.034947,
      -0.009469,
      0.03481,
      0.002911,
      0.021461,
      0.028692,
      0.01429,
      0.013662,
      -0.014503,
      -0.003457,
      0.057159,
      -0.027475,
      0.010344,
      0.013458,
      -0.05342,
      -0.002817,
      -0.023897,
      -0.006615,
      -0.006525,
      0.051949,
      -0.019362,
      -0.028298,
      0.022368,
      0.000213,
      0.033356,
      0.019955,
      -0.022947,
      -0.009496,
      -0.059034,
      0.028684,
      -0.005635,
      0.011789,
      0.000982,
      0.001148,
      -0.003318,
      -0.018499,
      0.057033,
      -0.020868,
      -0.019824,
      0.026198,
      -0.026819,
      0.021742,
      0.003377,
      0.018629,
      0.013827,
      -0.011222,
      0.030534,
      0.015477,
      -0.020415,
      0.027964,
      -0.047163,
      -0.021938,
      0.018041,
      -0.022366,
      -0.047122,
      -0.014112,
      0.045389,
      0.038437,
      -0.027989,
      -0.026665,
      -0.016268,
      -0.053651,
      -0.093793,
      0.037315,
      -0.022418,
      -0.003245,
      -0.023392,
      0.025821,
      -0.026375,
      -0.032238,
      -0.01454,
      0.017694,
      0.010289,
      0.018755,
      0.016992,
      -0.012536,
      -0.005577,
      -0.024524,
      -0.003789,
      -0.00378,
      -0.011729,
      0.030825,
      0.020112,
      -0.004652,
      0.054995,
      0.02447,
      -0.01897,
      -0.020927,
      -0.055381,
      0.006001,
      -0.042932,
      -0.017515,
      0.028797,
      -0.037929,
      0.015442,
      0.024892,
      0.000172,
      0.042803,
      0.022801,
      -0.008323,
      -0.023627,
      0.064277,
      0.015269,
      -0.004435,
      -0.001029,
      0.003251,
      0.009242,
      -0.001935,
      0.022007,
      -0.021462,
      0.022471,
      0.004824,
      -0.004583,
      0.04749,
      -0.015631,
      0.016007,
      0.032741,
      -0.026515,
      -0.065429,
      0.010325,
      -0.012808,
      0.000486,
      -0.047198,
      0.05251,
      -0.01585,
      -0.044351,
      -0.03904,
      0.047881,
      -0.015795,
      -0.027679,
      -0.028067,
      0.044184,
      -0.004729,
      -0.000084,
      0.013454,
      -0.014241,
      0.0002,
      -0.030743,
      0.036777,
      0.02312,
      -0.023574,
      -0.003201,
      -0.073059,
      0.022942,
      -0.001783,
      0.070003,
      -0.007326,
      0.014573,
      0.009466,
      0.002601,
      -0.09622,
      0.032089,
      -0.048798,
      -0.027355,
      -0.021414,
      -0.006538,
      0.02236,
      0.043469,
      0.005126,
      0.020095,
      0.003587,
      0.024091,
      0.007358,
      -0.016679,
      -0.036097,
      -0.028723,
      0.049986,
      -0.0239,
      0.009292,
      -0.028624,
      0.020755,
      -0.033559,
      -0.012679,
      0.005362,
      0.004416,
      -0.016263,
      -0.052314,
      -0.014658,
      0.003324,
      0.016009,
      0.024725,
      0.010892,
      0.028254,
      0.009158,
      0.071389,
      -0.049057,
      0.011941,
      -0.006273,
      0.018812,
      0.035336,
      0.009215,
      0.007266,
      0.011218,
      0.007348,
      0.006347,
      -0.008149,
      -0.010076,
      -0.032646,
      -0.042289,
      0.034213,
      -0.02366,
      -0.036526,
      -0.048682,
      0.014527,
      -0.007212,
      -0.027547,
      0.005396,
      -0.015576,
      -0.022304,
      0.006147,
      -0.013579,
      -0.023996,
      -0.023078,
      0.032745,
      -0.012078,
      0.010846,
      0.007896,
      0.005872,
      -0.048212,
      0.028434,
      -0.007928,
      -0.007308,
      -0.022039,
      -0.003605,
      -0.032045,
      -0.011907,
      -0.021845,
      -0.014146,
      -0.01059,
      0.017818,
      0.01296,
      0.013518,
      -0.000925,
      0.028955,
      -0.010037,
      0.016431,
      0.051313,
      -0.024963,
      0.001118,
      0.017991,
      0.025397,
      0.027472,
      0.040755,
      0.002032,
      0.03881,
      0.076655,
      0.057812,
      0.015418,
      -0.022115,
      -0.033177,
      -0.017276,
      -0.015298,
      -0.016035,
      0.000363,
      -0.041145,
      -0.021772,
      0.022514,
      0.021553,
      -0.022308,
      0.068025,
      0.0021,
      0.058198,
      -0.004122,
      -0.008358,
      -0.036139,
      0.018783,
      -0.008185,
      0.034709,
      -0.010506,
      0.004788,
      0.003367,
      0.015896,
      0.01724,
      0.001369,
      0.009364,
      -0.00261,
      0.00657,
      -0.048156,
      -0.013859,
      0.038439,
      -0.006994,
      0.049911,
      0.050522,
      0.023548,
      -0.026987,
      -0.001975,
      -0.008978,
      -0.0055,
      -0.019036,
      0.025477,
      0.039984,
      -0.007383,
      0.014276,
      0.042159,
      -0.00996,
      0.026324,
      -0.000414,
      -0.006537,
      -0.026357,
      -0.044951,
      -0.029744,
      -0.052406,
      0.006008,
      -0.016466,
      0.053509,
      0.014971
    ]
  },
  {
    "id": "v5-client-0",
    "content": "# Client\nBreadcrumb: Client\nCovers: Local installation | Creating a package | Usage\nTopics: application, create, socket.io, rest, http, bun, client, types, cli\n\n## Local installation\n\nThe application can be linked into a client application by running\n\n```\nnpm run bundle:client\nnpm link\n```\n\nThen go to your client side app\n\n```\ncd path/to/client\nnpm link my-app\n```\n\n## Creating a package\n\nTo create an installable SDK package that does not include any of the server code (other than the shared types) you can run\n\n```\nnpm run bundle:client\n```\n\nBy default this will create an `appname-x.x.x.tgz` npm package in the `public/` folder.\nThis package can be installed from a running server via\n\n```\nnpm install https://myapp.com/appname-x.x.x.tgz\n```\n\n## Usage\n\nOnce installed, the application can be used as follows with Socket.io:\n\n```ts\nimport io from 'socket.io-client'\nimport socketio from '@feathersjs/socketio-client'\nimport { createClient } from 'my-app'\n\nconst connection = socketio(io('https://myapp.com'))\n\nconst client = createClient(connection)\n```\n\nAnd like this with a REST client:\n\n```ts\nimport rest from '@feathersjs/rest-client'\nimport { createClient } from 'my-app'\n\nconst connection = rest('https://myapp.com').fetch(window.fetch.bind(window))\n\nconst client = createClient(connection)\n```",
    "rawContent": "## Local installation\n\nThe application can be linked into a client application by running\n\n```\nnpm run bundle:client\nnpm link\n```\n\nThen go to your client side app\n\n```\ncd path/to/client\nnpm link my-app\n```\n\n## Creating a package\n\nTo create an installable SDK package that does not include any of the server code (other than the shared types) you can run\n\n```\nnpm run bundle:client\n```\n\nBy default this will create an `appname-x.x.x.tgz` npm package in the `public/` folder.\nThis package can be installed from a running server via\n\n```\nnpm install https://myapp.com/appname-x.x.x.tgz\n```\n\n## Usage\n\nOnce installed, the application can be used as follows with Socket.io:\n\n```ts\nimport io from 'socket.io-client'\nimport socketio from '@feathersjs/socketio-client'\nimport { createClient } from 'my-app'\n\nconst connection = socketio(io('https://myapp.com'))\n\nconst client = createClient(connection)\n```\n\nAnd like this with a REST client:\n\n```ts\nimport rest from '@feathersjs/rest-client'\nimport { createClient } from 'my-app'\n\nconst connection = rest('https://myapp.com').fetch(window.fetch.bind(window))\n\nconst client = createClient(connection)\n```",
    "breadcrumb": "Client",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/client.md",
    "heading": "Client",
    "subHeadings": [
      "Local installation",
      "Creating a package",
      "Usage"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text",
      "ts"
    ],
    "tokens": 286,
    "category": "cli",
    "tags": [
      "application",
      "create",
      "socket.io",
      "rest",
      "http",
      "bun",
      "client",
      "types",
      "cli"
    ],
    "embedding": [
      -0.059118,
      0.025485,
      -0.038185,
      0.028694,
      -0.014492,
      -0.002139,
      0.012777,
      -0.014634,
      0.022035,
      0.013064,
      0.008531,
      0.044159,
      -0.038607,
      -0.021158,
      0.003649,
      0.023025,
      -0.026797,
      0.004542,
      -0.002602,
      0.013972,
      0.022914,
      -0.021922,
      0.029826,
      0.034381,
      0.002877,
      -0.010304,
      -0.001173,
      -0.020372,
      0.00318,
      -0.006875,
      0.0136,
      -0.011471,
      0.025574,
      -0.039418,
      -0.035188,
      0.011583,
      0.00094,
      0.049999,
      -0.037544,
      0.007164,
      -0.006369,
      -0.013196,
      0.026161,
      0.021592,
      0.029412,
      -0.018986,
      -0.00873,
      -0.008383,
      -0.033064,
      -0.002853,
      -0.013438,
      0.014624,
      0.040371,
      -0.093021,
      0.005919,
      0.029343,
      0.010087,
      -0.029166,
      -0.061803,
      -0.00957,
      -0.00963,
      0.041141,
      -0.017541,
      0.013509,
      0.009196,
      0.022808,
      -0.021537,
      0.009877,
      -0.026139,
      -0.05825,
      -0.022673,
      -0.007532,
      -0.029499,
      -0.050059,
      -0.05153,
      0.010328,
      0.053388,
      0.020684,
      -0.015096,
      0.02317,
      -0.00646,
      0.018161,
      0.013623,
      -0.019264,
      0.016774,
      -0.052921,
      -0.017285,
      0.066269,
      0.020523,
      -0.029757,
      -0.004923,
      -0.038764,
      0.039983,
      -0.047564,
      -0.029856,
      0.035154,
      0.053115,
      0.021431,
      0.007403,
      0.010678,
      -0.023315,
      -0.043949,
      0.005685,
      -0.022673,
      0.007139,
      0.044261,
      -0.011833,
      0.01171,
      -0.017851,
      -0.024226,
      0.014137,
      -0.006738,
      0.023038,
      -0.022126,
      -0.013786,
      -0.047808,
      0.025942,
      -0.035706,
      -0.016326,
      -0.00425,
      -0.02745,
      -0.015098,
      0.024581,
      0.005874,
      0.00354,
      0.022689,
      0.00081,
      0.049146,
      -0.003682,
      0.006856,
      0.018697,
      -0.024544,
      -0.026636,
      0.046819,
      -0.001204,
      0.005521,
      0.039036,
      -0.014491,
      -0.010541,
      -0.032363,
      0.037159,
      0.042868,
      0.016518,
      -0.061877,
      0.033445,
      -0.057677,
      0.069345,
      0.043139,
      -0.024881,
      0.001088,
      0.005085,
      0.047866,
      0.001369,
      -0.020102,
      -0.027821,
      -0.027187,
      -0.010977,
      0.024992,
      0.05396,
      0.014083,
      0.018854,
      0.048965,
      -0.018517,
      0.001183,
      0.037018,
      -0.056676,
      0.016845,
      -0.003326,
      -0.039861,
      0.023654,
      -0.017768,
      0.030284,
      0.004975,
      0.025949,
      0.0198,
      0.061239,
      -0.012367,
      0.039488,
      0.019641,
      -0.030451,
      -0.07157,
      0.012691,
      -0.031332,
      0.007743,
      -0.033445,
      -0.004564,
      -0.031279,
      -0.014235,
      0.004629,
      0.047136,
      -0.01019,
      0.000526,
      0.031148,
      -0.019007,
      0.023316,
      0.032902,
      0.024971,
      0.003314,
      0.023002,
      -0.0026,
      -0.050785,
      0.045859,
      0.027763,
      0.020687,
      0.002693,
      -0.015117,
      -0.001911,
      -0.041073,
      0.004381,
      -0.070936,
      0.009223,
      -0.038412,
      -0.025415,
      -0.042624,
      -0.026751,
      0.038014,
      -0.009745,
      0.018461,
      0.027246,
      -0.015124,
      -0.037625,
      0.009246,
      -0.006425,
      0.034649,
      0.004694,
      -0.044535,
      0.06581,
      -0.002527,
      -0.022643,
      -0.036924,
      -0.051819,
      -0.019106,
      0.005149,
      -0.011838,
      0.043581,
      -0.046079,
      -0.035155,
      -0.012667,
      0.006865,
      -0.013809,
      -0.02596,
      -0.014412,
      0.011276,
      0.025221,
      -0.022136,
      -0.019191,
      0.040819,
      0.022985,
      -0.042264,
      -0.030859,
      -0.008451,
      0.016986,
      0.005206,
      0.010964,
      -0.004256,
      0.026227,
      0.051333,
      0.022923,
      -0.012688,
      0.010366,
      -0.000215,
      0.043296,
      -0.017037,
      0.006149,
      0.004719,
      -0.030939,
      -0.060623,
      -0.045074,
      0.015482,
      -0.031057,
      -0.046516,
      0.02264,
      0.015723,
      0.026947,
      -0.001311,
      0.010645,
      -0.026256,
      -0.046512,
      0.058683,
      0.043972,
      -0.004143,
      0.041435,
      0.013417,
      -0.005277,
      0.014189,
      -0.012918,
      0.013444,
      0.012202,
      0.038081,
      0.002004,
      0.006158,
      0.008682,
      0.076767,
      -0.025122,
      -0.050126,
      0.023171,
      -0.03399,
      -0.164304,
      -0.046725,
      0.05317,
      0.033468,
      0.011556,
      0.030551,
      -0.052403,
      -0.013108,
      -0.048696,
      0.06726,
      -0.010103,
      -0.05579,
      -0.011045,
      -0.032343,
      0.041268,
      0.015491,
      -0.082547,
      0.020727,
      0.001623,
      -0.03834,
      0.005061,
      -0.052897,
      0.057879,
      0.041933,
      0.017827,
      0.018901,
      0.065903,
      0.036278,
      -0.004575,
      0.024665,
      0.009181,
      -0.021152,
      0.009754,
      -0.000284,
      0.016973,
      -0.003586,
      0.030096,
      0.006932,
      0.052878,
      -0.027395,
      -0.006311,
      0.039602,
      0.016163,
      -0.004782,
      0.000019,
      -0.001761,
      -0.018598,
      -0.003617,
      -0.000693,
      -0.040195,
      0.044685,
      -0.033841,
      -0.008855,
      0.007386,
      -0.034387,
      0.002355,
      0.031927,
      0.024254,
      0.014606,
      -0.008767,
      -0.036789,
      0.024669,
      0.040521,
      -0.015648,
      -0.013043,
      -0.039942,
      0.029589,
      0.023267,
      0.015369,
      -0.028317,
      0.025837,
      -0.010414,
      0.012131,
      0.001123,
      -0.007053,
      0.008311,
      0.008656,
      -0.052398,
      0.012217,
      -0.074211,
      -0.038609,
      0.025847,
      -0.00342,
      0.013051,
      -0.033852,
      0.000199,
      -0.023,
      -0.051928,
      0.01865,
      0.240218,
      0.029036,
      0.020257,
      -0.035381,
      0.036529,
      -0.038927,
      0.018075,
      0.050311,
      0.003972,
      -0.032242,
      -0.016677,
      -0.017764,
      0.014739,
      -0.002861,
      0.013072,
      0.041634,
      -0.071657,
      0.026735,
      0.04667,
      -0.013517,
      0.020174,
      -0.064774,
      0.005413,
      -0.022385,
      -0.026241,
      -0.01791,
      -0.008448,
      0.014487,
      -0.035953,
      0.006168,
      0.001915,
      0.080241,
      0.043208,
      -0.06489,
      -0.030449,
      0.011116,
      0.04607,
      -0.008268,
      -0.034472,
      0.009355,
      -0.007792,
      -0.017635,
      0.03498,
      0.005099,
      -0.003401,
      -0.015881,
      0.023966,
      0.043414,
      -0.014807,
      -0.00534,
      -0.068269,
      -0.019771,
      -0.031558,
      -0.017667,
      -0.010255,
      -0.028623,
      -0.007031,
      -0.037088,
      0.001301,
      -0.007335,
      0.015484,
      0.006198,
      -0.009187,
      0.039922,
      -0.018776,
      0.043115,
      0.002396,
      -0.008794,
      0.041848,
      0.07368,
      -0.011901,
      -0.016063,
      0.017815,
      -0.029351,
      0.043115,
      0.016408,
      0.047628,
      0.059443,
      -0.063443,
      0.050831,
      0.009291,
      0.016442,
      0.018503,
      0.015827,
      0.003995,
      -0.017873,
      -0.031721,
      0.01301,
      -0.023398,
      -0.045402,
      -0.007344,
      -0.023954,
      0.016034,
      0.007919,
      0.011635,
      -0.003588,
      0.020638,
      -0.02735,
      -0.028838,
      -0.003946,
      -0.036676,
      0.02114,
      0.010612,
      -0.027119,
      0.011741,
      -0.025364,
      0.026698,
      -0.030503,
      0.04045,
      0.032358,
      -0.035371,
      0.020576,
      0.027531,
      -0.031658,
      -0.01226,
      -0.007179,
      0.008785,
      0.04136,
      0.052767,
      0.000782,
      0.014724,
      -0.029873,
      -0.029506,
      0.003589,
      -0.016517,
      -0.058313,
      -0.031295,
      -0.026819,
      -0.000388,
      -0.018714,
      0.044495,
      -0.023202,
      0.008107,
      0.083612,
      0.04778,
      -0.016137,
      0.045636,
      0.042776,
      -0.015046,
      0.023831,
      -0.054293,
      -0.045263,
      -0.023217,
      0.029775,
      0.009245,
      0.023259,
      -0.024492,
      -0.025027,
      -0.026079,
      0.015159,
      0.021145,
      0.046077,
      0.057984,
      -0.033394,
      -0.010513,
      -0.070842,
      -0.005976,
      0.000658,
      0.02087,
      -0.042022,
      -0.006923,
      0.022398,
      0.039702,
      0.044351,
      0.027856,
      -0.022531,
      -0.06138,
      0.024253,
      -0.003243,
      -0.023126,
      0.029334,
      -0.063424,
      -0.071325,
      0.007459,
      0.003055,
      -0.05456,
      -0.062012,
      -0.000265,
      0.022889,
      -0.042091,
      0.034536,
      0.007886,
      -0.042312,
      -0.035191,
      0.015679,
      0.009908,
      -0.021803,
      -0.007481,
      0.04115,
      -0.010706,
      -0.078037,
      0.082734,
      -0.022582,
      0.01218,
      0.031012,
      -0.003567,
      0.056515,
      -0.008093,
      -0.001311,
      0.002271,
      0.020765,
      -0.027216,
      -0.019075,
      -0.010926,
      -0.038489,
      -0.041505,
      -0.022436,
      0.012025,
      -0.017607,
      0.02747,
      0.013379,
      0.008968,
      -0.02973,
      -0.000305,
      0.02738,
      0.001378,
      0.07518,
      0.063917,
      -0.051233,
      -0.005095,
      -0.037355,
      -0.05863,
      0.008427,
      -0.027235,
      0.01538,
      0.002078,
      0.02571,
      -0.036017,
      -0.005248,
      -0.002358,
      -0.005801,
      -0.020574,
      -0.038701,
      -0.011874,
      -0.022638,
      -0.004557,
      0.027934,
      0.019599,
      0.006403,
      -0.030136,
      -0.020198,
      -0.045195,
      0.052982,
      0.072498,
      0.01703,
      -0.008004,
      -0.039177,
      -0.026749,
      -0.01497,
      0.013317,
      -0.002584,
      -0.047481,
      0.001875,
      -0.02974,
      -0.002261,
      0.030041,
      0.025812,
      -0.010994,
      -0.012048,
      0.013439,
      -0.014041,
      -0.005588,
      -0.012651,
      -0.013764,
      0.042744,
      -0.024852,
      0.018249,
      -0.042235,
      0.00169,
      -0.038327,
      -0.039879,
      0.005491,
      -0.008817,
      -0.027661,
      0.061751,
      -0.027078,
      -0.012104,
      0.041474,
      0.03756,
      0.026195,
      -0.061701,
      -0.013178,
      -0.000279,
      -0.012334,
      -0.002116,
      0.051617,
      0.023912,
      -0.002292,
      0.001666,
      -0.058602,
      -0.019142,
      0.01917,
      -0.054483,
      0.000553,
      0.017132,
      -0.000714,
      0.000507,
      0.008218,
      -0.002331,
      0.021856,
      -0.014078,
      0.061177,
      -0.029567,
      -0.056957,
      -0.046833,
      0.075377,
      -0.0214,
      -0.032378,
      -0.005942,
      0.039464,
      0.008119,
      -0.063392,
      0.013089,
      0.012768,
      0.020815,
      -0.00651,
      0.04415,
      -0.029359,
      0.033613,
      0.022276,
      -0.030424,
      0.000716,
      -0.021995,
      -0.020686,
      0.025925,
      0.018483,
      0.010851,
      -0.004234,
      -0.030991,
      0.025948,
      -0.022941,
      0.017431,
      -0.002615,
      -0.00945,
      -0.008528,
      -0.025275,
      0.036978,
      -0.024352,
      0.02711,
      -0.00075,
      0.027394,
      0.007369,
      0.039336,
      -0.012343,
      0.016937,
      -0.020719,
      -0.010761,
      -0.014085,
      -0.039646,
      0.018236,
      -0.004285,
      -0.02196,
      -0.018483,
      -0.032995,
      0.055098,
      -0.073159,
      -0.003607,
      -0.000085,
      0.035435,
      -0.014409,
      -0.039627,
      0.073436,
      0.005777,
      -0.031032,
      0.009498,
      -0.013683,
      0.028306,
      -0.039551,
      0.006984,
      -0.028331,
      0.004194,
      0.025333,
      0.010127,
      0.005552,
      -0.034753,
      0.007266,
      -0.011858,
      0.037407,
      -0.00949,
      -0.024644,
      -0.027856,
      -0.002952,
      -0.048307,
      -0.024884,
      -0.02161,
      0.035882,
      -0.025129,
      -0.017636,
      -0.005243,
      -0.004655,
      -0.022564,
      0.021633,
      -0.000955,
      0.003911,
      -0.14389,
      -0.005722,
      -0.015187,
      0.033637,
      -0.000537,
      -0.009861,
      -0.00704,
      0.003831,
      0.034747,
      -0.021295,
      -0.064327,
      -0.002775,
      0.057135,
      -0.007447,
      0.010576,
      0.01997,
      0.019778,
      0.004141,
      -0.01568,
      -0.033714,
      0.00173,
      0.007843,
      0.055416,
      -0.026691,
      -0.000194,
      -0.019885,
      -0.011398,
      -0.005427,
      -0.030019,
      0.005012,
      -0.001582,
      -0.017815,
      0.020297,
      0.031912,
      -0.005899,
      0.02731,
      -0.019931,
      0.03495,
      -0.045331,
      0.038293,
      -0.051844,
      0.013326,
      -0.027969,
      0.017463,
      0.010865,
      0.007016,
      -0.031805,
      -0.026493,
      -0.011801,
      -0.005075,
      0.015771,
      0.044012,
      -0.004205,
      0.04314,
      0.015509,
      0.023792,
      -0.018438,
      -0.00198,
      -0.051395,
      0.031055,
      -0.006412,
      0.019589,
      -0.038517,
      -0.025577,
      -0.004166,
      0.011371,
      -0.058161,
      0.007653,
      0.017696,
      0.013005,
      0.008268,
      -0.002963,
      -0.044232,
      0.007121,
      0.028196,
      0.007185,
      0.006057,
      0.042734,
      -0.010275,
      0.029858,
      -0.007649,
      -0.003982,
      -0.04079,
      0.071881,
      0.036061,
      0.032026,
      0.01942,
      -0.000388,
      -0.046903,
      0.018079,
      -0.046702,
      -0.025973,
      -0.003083,
      0.027443,
      -0.012552,
      0.05426,
      -0.026766,
      -0.020523,
      0.016678,
      0.007534,
      -0.059323,
      0.009486,
      -0.007157,
      0.010726,
      0.000351,
      -0.022915,
      0.039917,
      -0.04371,
      0.028967,
      0.02794,
      -0.036758,
      0.004455,
      -0.044228,
      -0.017846,
      -0.0439,
      -0.040488,
      0.012101,
      0.008625,
      -0.030909,
      -0.024109,
      0.040446,
      -0.021344,
      -0.019146,
      -0.024495,
      0.018355,
      0.02584,
      0.017771,
      0.006282,
      0.046911,
      0.018009,
      0.014501,
      -0.026186,
      -0.014998,
      0.011964,
      0.005441,
      0.001505,
      -0.02564,
      0.032004,
      -0.015176,
      -0.023113,
      -0.039765,
      -0.007985,
      0.02491,
      -0.01717,
      0.005414,
      -0.025162,
      -0.012134,
      0.03005,
      0.008206,
      -0.050866,
      0.020333,
      -0.009569,
      -0.019067,
      0.024578,
      0.005349,
      0.046966,
      -0.007663,
      0.02337,
      0.008282,
      0.01643,
      -0.00443,
      -0.027041,
      -0.000793,
      0.011712,
      0.016072,
      0.078546,
      -0.013629,
      -0.017423,
      -0.024026,
      0.034126,
      0.018053,
      0.030591,
      -0.000294,
      -0.017172,
      0.063397,
      0.005781,
      -0.011941,
      0.002036,
      0.006815,
      -0.00122,
      0.032396,
      -0.003746,
      0.047587,
      0.015168,
      0.040322,
      0.020755,
      0.009103,
      -0.007041,
      0.010549,
      -0.012565,
      0.002257,
      0.00316,
      0.009694,
      -0.006354,
      0.046331,
      -0.003321,
      -0.005592,
      -0.049768,
      -0.000255,
      0.046148,
      0.023848,
      -0.023273,
      -0.028631,
      -0.03865,
      -0.055386,
      -0.026143,
      -0.036164,
      0.00135,
      -0.002917,
      0.036662,
      0.028689,
      -0.002957,
      -0.016798,
      0.038079,
      -0.028202,
      -0.007504,
      0.036923,
      0.037864,
      -0.028487,
      -0.014992,
      -0.013702,
      -0.027225,
      0.013156,
      -0.029109,
      -0.031647,
      -0.015314,
      -0.000905,
      0.005937,
      0.01328,
      -0.001746,
      -0.009862,
      0.006323,
      -0.002814,
      0.047008,
      0.0104,
      -0.022742,
      0.053973,
      0.027423,
      -0.001638,
      -0.00716,
      -0.011157,
      -0.017263,
      -0.011756,
      -0.056057
    ]
  },
  {
    "id": "v5-client.test-0",
    "content": "# Client test\nBreadcrumb: Client test\nCovers: Authentication\nTopics: application, create, update, patch, remove, authentication, local strategy, client, cli, generate, test, users\n\n## Authentication\n\nIf you selected a local strategy, `src/client.ts` will be updated with a client side integration test that looks similar to this:\n\n```ts\nit('creates and authenticates a user with email and password', async () => {\n  const userData: userData = {\n    email: 'someone@example.com',\n    password: 'supersecret'\n  }\n\n  await client.service('users').create(userData)\n\n  const { user, accessToken } = await client.authenticate({\n    strategy: 'local',\n    ...userData\n  })\n\n  assert.ok(accessToken, 'Created access token for user')\n  assert.ok(user, 'Includes user in authentication data')\n  assert.strictEqual(user.password, undefined, 'Password is hidden to clients')\n\n  await client.logout()\n\n  // Remove the test user on the server\n  await app.service('users').remove(user.id)\n})\n```\n\nThis test will create a new user with the generated client, log in, verify a user was returned and log out again. To keep the test self-contained it will then remove the test user on the server\n\n> **tip:**\n> \n> Note that you can use `client` for client side interactions and the server side [application](./app.md#application) `app` object for server side calls in the same file. For example, if the user required an email verification but you don't want to test sending out emails you can call something like `app.service('users').patch(user.id, { isVerified: true })` to enable the new user on the server.\n>",
    "rawContent": "## Authentication\n\nIf you selected a local strategy, `src/client.ts` will be updated with a client side integration test that looks similar to this:\n\n```ts\nit('creates and authenticates a user with email and password', async () => {\n  const userData: userData = {\n    email: 'someone@example.com',\n    password: 'supersecret'\n  }\n\n  await client.service('users').create(userData)\n\n  const { user, accessToken } = await client.authenticate({\n    strategy: 'local',\n    ...userData\n  })\n\n  assert.ok(accessToken, 'Created access token for user')\n  assert.ok(user, 'Includes user in authentication data')\n  assert.strictEqual(user.password, undefined, 'Password is hidden to clients')\n\n  await client.logout()\n\n  // Remove the test user on the server\n  await app.service('users').remove(user.id)\n})\n```\n\nThis test will create a new user with the generated client, log in, verify a user was returned and log out again. To keep the test self-contained it will then remove the test user on the server\n\n> **tip:**\n> \n> Note that you can use `client` for client side interactions and the server side [application](./app.md#application) `app` object for server side calls in the same file. For example, if the user required an email verification but you don't want to test sending out emails you can call something like `app.service('users').patch(user.id, { isVerified: true })` to enable the new user on the server.\n>",
    "breadcrumb": "Client test",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/client.test.md",
    "heading": "Client test",
    "subHeadings": [
      "Authentication"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 353,
    "category": "cli",
    "tags": [
      "application",
      "create",
      "update",
      "patch",
      "remove",
      "authentication",
      "local strategy",
      "client",
      "cli",
      "generate",
      "test",
      "users"
    ],
    "embedding": [
      -0.036146,
      0.025579,
      -0.024282,
      0.006692,
      0.006377,
      -0.032197,
      0.011961,
      -0.030287,
      0.036754,
      0.041356,
      0.019559,
      0.006737,
      -0.037559,
      -0.010044,
      -0.007247,
      -0.004844,
      -0.020466,
      0.019835,
      0.002973,
      -0.021446,
      -0.020444,
      -0.007386,
      0.01854,
      -0.015493,
      -0.003217,
      0.018137,
      0.000726,
      -0.03275,
      0.011974,
      0.017217,
      0.028493,
      -0.006789,
      -0.00806,
      -0.022953,
      -0.001416,
      0.004168,
      0.010783,
      0.005928,
      -0.036311,
      0.01271,
      -0.020873,
      -0.018307,
      -0.006558,
      -0.033497,
      0.024414,
      -0.029945,
      0.008809,
      -0.014583,
      0.021787,
      -0.004437,
      0.009978,
      0.006862,
      0.025591,
      -0.05193,
      0.019497,
      0.056632,
      0.018343,
      -0.025565,
      -0.028908,
      0.022119,
      -0.013848,
      0.020593,
      -0.037041,
      0.015773,
      -0.009047,
      0.03303,
      0.011451,
      -0.013059,
      -0.007781,
      -0.042858,
      -0.01572,
      0.051559,
      -0.039465,
      -0.007122,
      -0.045501,
      0.008282,
      0.037981,
      0.029008,
      0.004785,
      0.013383,
      -0.015177,
      0.011245,
      -0.011506,
      0.001401,
      0.03216,
      -0.03684,
      0.012826,
      0.047961,
      0.005783,
      -0.015746,
      -0.006332,
      -0.037054,
      0.079666,
      -0.042273,
      0.008671,
      -0.031909,
      0.016579,
      0.026246,
      0.010453,
      0.008017,
      0.025695,
      -0.034968,
      -0.018977,
      -0.032176,
      0.011508,
      0.046118,
      0.00586,
      0.037796,
      0.056666,
      -0.030166,
      -0.00201,
      0.029645,
      -0.000322,
      0.021751,
      -0.016376,
      0.012553,
      0.039714,
      0.008073,
      0.009658,
      0.011135,
      0.017108,
      0.069723,
      -0.022862,
      0.006045,
      0.023999,
      0.024824,
      0.026734,
      0.031326,
      0.019178,
      -0.014216,
      0.012961,
      -0.026255,
      0.015058,
      -0.002989,
      -0.013218,
      0.047219,
      -0.006201,
      0.008816,
      0.010879,
      -0.035007,
      0.011494,
      0.060616,
      -0.003151,
      -0.050718,
      -0.002678,
      -0.025452,
      0.059068,
      0.028973,
      -0.020667,
      -0.025419,
      0.007459,
      -0.032002,
      0.021231,
      -0.021495,
      -0.042204,
      -0.051496,
      -0.030404,
      -0.006336,
      0.05241,
      -0.00398,
      0.02426,
      0.017153,
      -0.02823,
      0.06299,
      0.072972,
      -0.049804,
      0.012989,
      -0.024832,
      -0.033567,
      -0.032592,
      -0.005536,
      -0.023783,
      -0.03855,
      -0.013775,
      0.018313,
      0.043774,
      0.039546,
      0.030888,
      -0.007987,
      -0.022816,
      -0.052359,
      0.002161,
      -0.033278,
      -0.007799,
      -0.014886,
      0.005006,
      -0.035337,
      0.000332,
      0.020052,
      -0.009415,
      -0.02155,
      -0.004553,
      0.015324,
      0.0469,
      -0.01164,
      -0.024701,
      0.009077,
      0.046268,
      0.014293,
      -0.019622,
      -0.028548,
      0.027334,
      0.039532,
      0.009025,
      -0.023788,
      -0.017001,
      0.020742,
      -0.031298,
      0.048238,
      -0.058123,
      -0.025216,
      0.005062,
      0.005662,
      -0.070383,
      -0.042532,
      0.062058,
      -0.011751,
      0.062518,
      0.001821,
      0.002286,
      -0.012356,
      -0.001697,
      0.002659,
      -0.004939,
      0.025465,
      0.00939,
      0.028419,
      0.001655,
      0.00686,
      0.002826,
      -0.034032,
      -0.028657,
      0.01068,
      -0.030045,
      0.023979,
      -0.024128,
      -0.044298,
      -0.039731,
      0.02792,
      0.006339,
      -0.020104,
      0.01109,
      0.053116,
      0.00101,
      -0.024146,
      -0.036458,
      0.005788,
      0.0677,
      -0.045507,
      -0.032221,
      -0.004757,
      0.017688,
      0.002198,
      0.012965,
      0.007923,
      -0.010451,
      0.010298,
      0.001618,
      0.000414,
      -0.00396,
      -0.011201,
      0.035881,
      -0.026343,
      0.001575,
      0.016004,
      0.02198,
      -0.026799,
      -0.050288,
      0.029877,
      -0.002724,
      -0.022114,
      -0.007226,
      0.006319,
      0.011632,
      -0.032116,
      0.009228,
      0.025161,
      -0.036722,
      0.110658,
      0.066122,
      -0.018183,
      0.031551,
      0.030293,
      0.037559,
      0.018145,
      -0.027152,
      -0.018908,
      -0.022202,
      0.028538,
      0.015175,
      -0.00928,
      -0.002578,
      0.068862,
      -0.003171,
      -0.0417,
      -0.028664,
      -0.003332,
      -0.157255,
      -0.02222,
      0.0335,
      0.016578,
      -0.002737,
      0.006948,
      -0.041687,
      0.012446,
      -0.028294,
      0.032716,
      -0.010749,
      -0.039163,
      -0.027036,
      -0.040313,
      0.024154,
      -0.006318,
      -0.078476,
      0.016306,
      0.001931,
      -0.03117,
      -0.031621,
      -0.071391,
      0.077816,
      0.028603,
      0.013348,
      0.017305,
      0.038191,
      -0.006286,
      -0.017348,
      0.024787,
      -0.0119,
      0.006948,
      0.003277,
      -0.015068,
      0.008862,
      0.021646,
      0.040223,
      0.00575,
      0.043396,
      -0.023626,
      0.016751,
      0.022509,
      -0.023883,
      0.026969,
      0.054523,
      0.00482,
      0.040132,
      -0.012163,
      -0.000754,
      0.011681,
      0.042377,
      -0.031855,
      -0.036903,
      -0.017146,
      -0.02886,
      0.012108,
      0.008674,
      0.068281,
      -0.02372,
      0.002165,
      -0.011133,
      -0.014526,
      0.031975,
      -0.024541,
      -0.003792,
      -0.035259,
      0.024126,
      0.013396,
      -0.006314,
      -0.0428,
      0.041323,
      -0.047574,
      0.012953,
      -0.014997,
      -0.005358,
      0.00758,
      -0.004552,
      -0.058934,
      0.001907,
      -0.094038,
      -0.048138,
      0.029617,
      -0.023406,
      0.015929,
      -0.038222,
      -0.037524,
      -0.001756,
      -0.027863,
      0.030261,
      0.22683,
      0.085945,
      -0.011604,
      -0.034997,
      0.028487,
      -0.028983,
      -0.029513,
      0.055461,
      -0.007614,
      -0.034835,
      -0.030969,
      -0.002688,
      -0.006275,
      -0.006243,
      -0.000654,
      -0.000539,
      -0.035876,
      0.015751,
      0.042798,
      -0.005919,
      0.031307,
      -0.022997,
      0.039145,
      0.030444,
      -0.08842,
      0.000805,
      -0.014453,
      0.032712,
      -0.077476,
      0.039287,
      0.020685,
      0.051655,
      0.04532,
      -0.033317,
      0.006518,
      -0.012751,
      0.044234,
      -0.03321,
      -0.026731,
      0.039106,
      -0.02379,
      -0.021438,
      0.031403,
      -0.007388,
      -0.013016,
      0.027997,
      0.013732,
      0.015753,
      -0.014239,
      0.009909,
      -0.038526,
      -0.019575,
      -0.006257,
      -0.003449,
      0.033197,
      0.002372,
      -0.003503,
      -0.024066,
      -0.014478,
      0.000573,
      0.026916,
      0.012062,
      -0.049468,
      0.093296,
      -0.010209,
      0.046032,
      0.022325,
      -0.02865,
      -0.002725,
      0.072944,
      0.022543,
      -0.018062,
      0.023907,
      0.007325,
      0.040804,
      0.033974,
      0.05803,
      0.020339,
      -0.030972,
      0.045038,
      0.000842,
      0.010435,
      -0.007586,
      0.044474,
      0.007585,
      -0.007024,
      -0.026483,
      0.062989,
      0.001602,
      -0.020677,
      -0.017295,
      0.010627,
      0.007184,
      -0.025865,
      0.003943,
      0.018278,
      0.015414,
      0.008838,
      -0.050149,
      -0.008123,
      0.014364,
      0.034258,
      0.015306,
      -0.006194,
      0.062485,
      -0.057967,
      0.015815,
      -0.01668,
      0.033609,
      0.06348,
      -0.048476,
      0.023156,
      -0.002898,
      -0.030385,
      -0.005684,
      0.025023,
      -0.001511,
      0.001014,
      0.065272,
      0.02835,
      0.007608,
      0.02039,
      -0.031774,
      0.003948,
      -0.0198,
      -0.049576,
      -0.036499,
      -0.001353,
      -0.031296,
      0.027692,
      0.013043,
      -0.013247,
      0.008857,
      0.048939,
      0.012993,
      0.021289,
      0.01258,
      0.022629,
      0.028691,
      0.021518,
      -0.042351,
      -0.028488,
      -0.012429,
      0.027487,
      -0.004367,
      0.028383,
      -0.004699,
      -0.018833,
      -0.01665,
      0.006813,
      0.067822,
      -0.009327,
      -0.011211,
      -0.043291,
      -0.00365,
      -0.058003,
      -0.000705,
      -0.010469,
      0.009638,
      -0.036033,
      0.00854,
      -0.023386,
      0.008,
      0.064472,
      0.004953,
      -0.01199,
      0.002613,
      -0.004105,
      0.008321,
      -0.015272,
      0.02973,
      -0.011162,
      -0.068225,
      0.046672,
      0.012409,
      -0.028764,
      -0.047772,
      0.019845,
      -0.017164,
      -0.03106,
      0.024019,
      -0.024062,
      -0.04751,
      -0.009011,
      0.040491,
      -0.020851,
      0.025372,
      -0.016187,
      -0.007437,
      -0.018157,
      -0.05567,
      0.082197,
      -0.030967,
      0.006394,
      0.031168,
      0.009709,
      0.046893,
      0.018512,
      0.000947,
      0.030635,
      -0.00374,
      0.023224,
      -0.040334,
      0.002719,
      -0.016753,
      -0.030834,
      -0.026227,
      0.026666,
      -0.02627,
      0.017354,
      0.000951,
      0.060669,
      -0.044142,
      0.006504,
      -0.001625,
      -0.005731,
      0.062391,
      0.053911,
      -0.018082,
      0.038636,
      -0.06392,
      -0.024174,
      0.023782,
      -0.056475,
      -0.000909,
      -0.024243,
      0.016542,
      -0.061247,
      -0.033098,
      0.026804,
      -0.016499,
      -0.064501,
      -0.000086,
      -0.008031,
      0.023318,
      0.00037,
      0.006507,
      0.012204,
      0.029699,
      -0.037185,
      -0.003608,
      0.011324,
      0.047182,
      0.038673,
      0.014501,
      0.009091,
      -0.050762,
      -0.0242,
      -0.069668,
      0.032511,
      0.039268,
      -0.050283,
      0.007193,
      -0.053386,
      0.003462,
      0.050654,
      0.019589,
      -0.028801,
      -0.027321,
      0.00585,
      -0.03645,
      -0.006566,
      -0.008591,
      -0.008697,
      0.018587,
      -0.061845,
      0.016467,
      -0.025332,
      -0.026606,
      -0.035246,
      -0.033701,
      0.010715,
      0.002862,
      -0.037588,
      0.035785,
      -0.014932,
      -0.052043,
      0.002763,
      0.009396,
      0.017855,
      -0.041227,
      0.014345,
      0.004584,
      0.03156,
      0.010355,
      0.043632,
      0.046984,
      -0.03663,
      0.016117,
      -0.038198,
      -0.009216,
      -0.009889,
      -0.031043,
      0.035655,
      0.002749,
      -0.00157,
      -0.012797,
      0.014774,
      0.004686,
      0.001881,
      -0.032722,
      0.015504,
      -0.034749,
      -0.038677,
      -0.03112,
      0.031972,
      -0.050632,
      -0.030519,
      -0.003705,
      0.019887,
      0.008543,
      -0.052442,
      -0.023592,
      -0.005345,
      -0.014039,
      -0.022356,
      0.023876,
      0.024316,
      0.004067,
      -0.017105,
      -0.00249,
      -0.020783,
      -0.028915,
      -0.000056,
      -0.018132,
      0.005479,
      -0.030103,
      -0.012942,
      -0.010076,
      -0.005934,
      -0.0503,
      -0.026645,
      0.005038,
      -0.033243,
      -0.031502,
      0.013774,
      0.00812,
      -0.020495,
      0.020117,
      -0.006165,
      0.018432,
      -0.000971,
      0.05899,
      -0.000452,
      -0.0391,
      -0.026591,
      -0.035431,
      -0.010736,
      -0.056762,
      0.010495,
      -0.018387,
      0.021117,
      -0.035564,
      -0.016131,
      0.053508,
      -0.047794,
      -0.006911,
      0.065747,
      0.043414,
      0.012722,
      -0.021876,
      0.102365,
      -0.029629,
      -0.045978,
      -0.010379,
      -0.030607,
      0.010164,
      -0.023534,
      -0.024284,
      0.010168,
      -0.014203,
      0.037784,
      -0.000646,
      -0.008629,
      -0.04844,
      0.022308,
      -0.049033,
      0.018662,
      0.027118,
      -0.054417,
      -0.032188,
      0.028686,
      -0.070857,
      -0.002431,
      0.000301,
      0.02432,
      -0.010686,
      0.010576,
      0.028265,
      -0.019426,
      -0.01032,
      0.010828,
      -0.007564,
      0.003086,
      -0.147407,
      0.034803,
      -0.008441,
      0.007689,
      0.011458,
      0.008327,
      0.025779,
      -0.016654,
      0.007805,
      -0.02788,
      -0.012477,
      -0.040437,
      0.024376,
      0.002482,
      0.054221,
      -0.014048,
      0.021474,
      0.002742,
      -0.023896,
      -0.006579,
      0.003423,
      -0.020582,
      0.015907,
      0.001279,
      -0.024632,
      -0.00327,
      -0.007639,
      0.004976,
      -0.024492,
      -0.025889,
      -0.031654,
      -0.01137,
      0.026632,
      0.020985,
      -0.006974,
      -0.00418,
      -0.011906,
      0.020248,
      -0.016342,
      0.035264,
      -0.014712,
      0.008354,
      -0.04825,
      0.007565,
      0.044779,
      0.071496,
      -0.032418,
      -0.033568,
      -0.002669,
      -0.028468,
      -0.009745,
      0.025359,
      -0.02892,
      -0.00033,
      0.018435,
      0.019026,
      -0.018978,
      -0.018376,
      -0.050305,
      0.033692,
      -0.011279,
      0.043638,
      -0.02789,
      0.006336,
      -0.020297,
      0.026879,
      -0.089699,
      -0.005854,
      -0.018314,
      0.011654,
      -0.000849,
      0.009826,
      -0.023127,
      -0.008409,
      -0.021539,
      -0.013951,
      0.037294,
      0.024652,
      -0.037545,
      -0.019047,
      -0.000987,
      -0.036255,
      -0.016713,
      0.077154,
      0.009836,
      0.00336,
      0.017408,
      -0.019337,
      -0.023442,
      -0.015306,
      -0.026125,
      -0.035486,
      0.013887,
      0.000802,
      0.016081,
      0.046465,
      0.001531,
      -0.007688,
      0.030292,
      0.017988,
      -0.024263,
      0.005342,
      0.010189,
      -0.001343,
      -0.048397,
      -0.017468,
      0.084371,
      -0.031133,
      -0.001225,
      0.012286,
      -0.016701,
      0.028463,
      -0.039987,
      -0.007062,
      -0.092136,
      -0.042073,
      -0.006037,
      0.012717,
      -0.030586,
      0.021981,
      0.06617,
      0.002551,
      0.004938,
      -0.036954,
      0.009181,
      0.048456,
      0.04008,
      0.026027,
      0.045961,
      -0.008945,
      0.008532,
      -0.041213,
      -0.005441,
      0.015689,
      0.000593,
      -0.058614,
      -0.052269,
      0.022838,
      -0.019127,
      -0.055222,
      -0.049483,
      -0.029929,
      0.026693,
      -0.028281,
      0.004531,
      -0.01962,
      0.03645,
      0.008233,
      0.01346,
      -0.061998,
      0.020304,
      0.000776,
      0.0127,
      0.03297,
      0.008595,
      0.024122,
      0.015438,
      0.030448,
      0.007472,
      0.040104,
      -0.008277,
      -0.025057,
      -0.010212,
      -0.023678,
      -0.013531,
      0.041631,
      -0.025178,
      -0.028402,
      0.002082,
      0.043115,
      0.02127,
      0.016927,
      -0.013448,
      -0.014964,
      0.051594,
      -0.02995,
      -0.008849,
      -0.001226,
      0.027894,
      -0.00768,
      0.046626,
      0.004129,
      0.000493,
      0.053634,
      0.020349,
      -0.009199,
      -0.017437,
      -0.004996,
      0.030344,
      -0.059886,
      -0.005526,
      0.023272,
      -0.000703,
      -0.007699,
      0.040214,
      -0.005503,
      -0.021623,
      -0.045614,
      0.005977,
      0.043851,
      0.013757,
      -0.0206,
      -0.033412,
      -0.028692,
      -0.011684,
      -0.004581,
      -0.01986,
      0.020666,
      -0.017155,
      0.027894,
      0.008284,
      -0.013158,
      -0.018317,
      -0.000844,
      0.01827,
      0.025767,
      0.075147,
      -0.00211,
      0.010506,
      -0.004757,
      0.00341,
      0.014731,
      0.006281,
      -0.010465,
      -0.037247,
      -0.019579,
      -0.028167,
      0.004897,
      0.005249,
      0.008966,
      -0.026711,
      0.008152,
      -0.013602,
      0.038548,
      0.003242,
      -0.02043,
      0.034632,
      -0.02256,
      -0.054078,
      -0.0016,
      -0.045896,
      0.008068,
      0.012004,
      -0.040793
    ]
  },
  {
    "id": "v5-configuration-0",
    "content": "# configuration\nBreadcrumb: configuration\n\n",
    "rawContent": "",
    "breadcrumb": "configuration",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/configuration.md",
    "heading": "configuration",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "cli",
    "tags": [],
    "embedding": [
      -0.018479,
      0.003489,
      -0.046828,
      0.015973,
      -0.047407,
      0.002522,
      0.022801,
      0.030988,
      0.013061,
      0.02611,
      0.02636,
      -0.031998,
      0.002276,
      0.018906,
      -0.005617,
      -0.024558,
      -0.025887,
      0.017573,
      -0.002232,
      -0.019809,
      -0.020897,
      -0.002755,
      -0.010207,
      0.050081,
      -0.013597,
      0.000657,
      0.021079,
      -0.041432,
      -0.057012,
      0.016403,
      0.011936,
      0.018434,
      0.01054,
      -0.011299,
      0.047124,
      -0.021323,
      -0.001454,
      0.000789,
      -0.08117,
      0.047771,
      -0.016255,
      -0.018918,
      0.028417,
      -0.018452,
      0.000284,
      -0.01648,
      -0.021893,
      -0.030118,
      -0.017203,
      0.02329,
      0.021141,
      -0.008837,
      0.038395,
      -0.044395,
      0.010683,
      -0.015585,
      -0.033171,
      -0.031798,
      -0.090101,
      -0.001424,
      -0.049218,
      0.048407,
      0.027474,
      -0.004504,
      0.039426,
      0.026793,
      0.001768,
      0.001967,
      -0.004661,
      -0.025126,
      -0.01567,
      0.010092,
      -0.051432,
      -0.019081,
      -0.057224,
      0.056137,
      0.042393,
      -0.057755,
      -0.002783,
      0.023147,
      -0.014656,
      0.000206,
      0.061848,
      -0.012662,
      -0.004273,
      0.021861,
      -0.008192,
      0.021852,
      -0.032414,
      -0.035351,
      -0.001823,
      -0.019425,
      0.013382,
      -0.00706,
      -0.007264,
      -0.021896,
      0.015651,
      -0.018396,
      -0.020325,
      0.065372,
      -0.003578,
      0.018949,
      -0.001877,
      -0.005101,
      0.004102,
      0.013185,
      0.013691,
      0.028163,
      0.004874,
      -0.033889,
      0.005617,
      0.068255,
      0.003471,
      0.01454,
      0.01611,
      -0.024816,
      0.011085,
      -0.033022,
      -0.013884,
      -0.038282,
      0.025589,
      -0.021053,
      0.003553,
      -0.020968,
      0.043167,
      -0.02802,
      0.008514,
      0.034006,
      0.002316,
      0.005271,
      -0.002327,
      0.039546,
      -0.025897,
      0.042149,
      0.024587,
      -0.01362,
      0.05223,
      -0.000651,
      -0.006637,
      -0.037533,
      -0.025433,
      0.035398,
      -0.045633,
      -0.002938,
      0.020643,
      -0.031918,
      0.068976,
      0.000276,
      0.025314,
      -0.013651,
      -0.02724,
      -0.025475,
      0.066312,
      -0.011221,
      0.025527,
      -0.036233,
      -0.048893,
      0.050051,
      0.068725,
      0.005189,
      -0.00044,
      0.03767,
      -0.025676,
      -0.049079,
      0.053206,
      -0.01468,
      0.057498,
      0.034153,
      -0.013065,
      -0.020524,
      0.004585,
      -0.01178,
      -0.050752,
      -0.046275,
      0.021685,
      0.008074,
      0.051941,
      0.007999,
      0.023035,
      -0.049467,
      -0.041199,
      -0.003274,
      0.006886,
      -0.017427,
      -0.028824,
      0.010733,
      0.012479,
      -0.02063,
      0.016502,
      0.062654,
      0.050841,
      0.003882,
      0.017641,
      -0.04186,
      0.026444,
      0.010257,
      -0.049101,
      0.010212,
      -0.004612,
      -0.010946,
      0.035519,
      0.019822,
      0.003361,
      -0.02556,
      -0.059812,
      0.023636,
      0.002336,
      -0.006048,
      0.009231,
      -0.026939,
      -0.017549,
      0.012251,
      0.000319,
      -0.040521,
      -0.074004,
      -0.011843,
      0.01097,
      -0.02484,
      -0.031925,
      0.007504,
      0.018014,
      -0.002793,
      0.002742,
      -0.013157,
      0.030907,
      0.001656,
      0.030897,
      -0.0132,
      0.016429,
      0.012977,
      -0.040041,
      -0.031035,
      0.024913,
      0.020155,
      -0.006115,
      -0.014044,
      0.002785,
      0.033781,
      0.043137,
      -0.042126,
      -0.027205,
      -0.009115,
      0.047976,
      -0.010699,
      -0.027962,
      -0.019956,
      -0.036577,
      0.061085,
      -0.018627,
      -0.020519,
      0.020626,
      -0.010683,
      -0.017805,
      -0.020837,
      -0.015243,
      -0.017574,
      -0.002956,
      -0.023775,
      0.005328,
      -0.019788,
      0.026951,
      0.024062,
      0.002887,
      0.023163,
      0.05076,
      -0.010899,
      -0.036717,
      -0.057781,
      0.023089,
      0.012587,
      0.002371,
      -0.004151,
      -0.005365,
      0.010658,
      -0.018522,
      0.017612,
      -0.033488,
      -0.029722,
      0.099996,
      0.007556,
      0.008534,
      0.00024,
      0.034481,
      -0.012192,
      0.026902,
      -0.031793,
      -0.010539,
      -0.008784,
      0.020209,
      -0.016229,
      -0.035012,
      0.043533,
      0.076993,
      -0.004118,
      -0.043267,
      -0.000819,
      -0.033483,
      -0.143062,
      0.002947,
      -0.00287,
      0.005833,
      0.034588,
      -0.021581,
      -0.008401,
      0.016871,
      -0.031213,
      0.01731,
      0.013291,
      -0.061943,
      0.006747,
      -0.018431,
      -0.017069,
      -0.040438,
      -0.037231,
      0.01976,
      0.031192,
      -0.01583,
      -0.006213,
      -0.032408,
      0.02136,
      0.027425,
      -0.001144,
      0.002859,
      0.095033,
      -0.041657,
      -0.087509,
      -0.015454,
      -0.036315,
      -0.017679,
      0.015462,
      0.02198,
      0.026238,
      0.027683,
      0.03304,
      0.007194,
      0.061503,
      -0.019604,
      0.032146,
      -0.021607,
      -0.021629,
      -0.003721,
      0.003774,
      0.001085,
      0.005452,
      -0.016799,
      0.00832,
      -0.005484,
      0.006136,
      -0.065885,
      -0.026431,
      0.024244,
      -0.045811,
      0.054914,
      -0.012341,
      0.000477,
      -0.0279,
      0.013323,
      -0.023099,
      -0.071021,
      0.035158,
      -0.035828,
      -0.058136,
      -0.017032,
      -0.029862,
      -0.03553,
      0.029425,
      -0.050195,
      -0.010488,
      -0.056464,
      0.020338,
      -0.002043,
      -0.052792,
      0.019477,
      0.000679,
      -0.031034,
      -0.03111,
      -0.074621,
      -0.049445,
      -0.00494,
      -0.030669,
      -0.013092,
      -0.061499,
      -0.051201,
      -0.018737,
      0.022478,
      0.006985,
      0.188475,
      0.074505,
      0.023118,
      -0.029021,
      0.053476,
      0.016773,
      -0.023057,
      0.027595,
      0.017906,
      -0.024946,
      -0.028307,
      -0.015128,
      0.002846,
      -0.020689,
      0.007952,
      -0.018757,
      -0.032632,
      -0.026012,
      0.066594,
      0.027747,
      0.015248,
      -0.03108,
      0.055242,
      -0.011606,
      -0.050893,
      -0.037263,
      -0.013835,
      0.003161,
      -0.0024,
      0.012346,
      0.019614,
      0.034908,
      0.046297,
      -0.025178,
      -0.057926,
      -0.040875,
      0.021541,
      -0.006566,
      -0.014096,
      0.06004,
      -0.044463,
      -0.059729,
      -0.003474,
      0.002132,
      -0.016037,
      -0.00419,
      0.039574,
      0.003821,
      0.012534,
      0.016042,
      -0.000154,
      -0.045575,
      -0.043685,
      0.003347,
      -0.011679,
      -0.030714,
      -0.028645,
      -0.027988,
      -0.030084,
      0.016729,
      0.07419,
      -0.019884,
      -0.017675,
      0.060419,
      0.046755,
      0.057492,
      0.019576,
      -0.078885,
      -0.019779,
      0.035533,
      0.007618,
      0.009713,
      -0.033151,
      -0.027136,
      0.028398,
      -0.019019,
      0.038905,
      0.047773,
      -0.010251,
      0.02554,
      0.000434,
      -0.01991,
      -0.025545,
      0.045278,
      0.020327,
      -0.04279,
      -0.011385,
      0.016639,
      -0.021072,
      -0.053865,
      -0.002093,
      0.007179,
      0.006465,
      0.001479,
      -0.029494,
      0.004492,
      0.021075,
      0.023556,
      -0.048336,
      -0.037173,
      0.001748,
      -0.024661,
      -0.019217,
      -0.035494,
      0.03407,
      -0.052691,
      0.044358,
      -0.012706,
      0.014078,
      0.032159,
      0.019747,
      0.033398,
      0.019193,
      -0.003067,
      0.015133,
      -0.013383,
      0.014889,
      0.007644,
      0.025663,
      0.001955,
      0.003265,
      -0.012451,
      0.035605,
      0.001969,
      -0.011869,
      -0.069804,
      0.016937,
      0.005896,
      -0.010863,
      0.005985,
      0.03674,
      -0.012164,
      -0.042022,
      0.037435,
      0.038765,
      -0.004347,
      0.018377,
      0.024261,
      0.043285,
      0.002268,
      -0.003511,
      -0.010215,
      -0.015933,
      0.002807,
      -0.044942,
      0.020567,
      0.001086,
      -0.035184,
      0.002227,
      0.032161,
      0.051805,
      0.023509,
      0.011301,
      -0.06405,
      -0.000545,
      -0.050458,
      -0.005551,
      0.026199,
      -0.024086,
      -0.013106,
      0.004341,
      0.053459,
      0.035706,
      0.037451,
      0.022977,
      0.012385,
      0.023547,
      0.026048,
      -0.007885,
      -0.010096,
      0.065579,
      -0.008571,
      -0.043557,
      0.081779,
      -0.013478,
      -0.046265,
      0.019473,
      0.018022,
      0.022622,
      -0.003349,
      0.028474,
      -0.035097,
      -0.032704,
      -0.034726,
      -0.027324,
      0.017206,
      -0.03611,
      -0.034658,
      -0.007593,
      0.023508,
      -0.040838,
      0.097463,
      0.006948,
      -0.003784,
      0.01954,
      0.00123,
      -0.013233,
      0.019528,
      0.012756,
      0.013264,
      -0.037743,
      -0.00065,
      -0.032961,
      -0.058318,
      -0.006507,
      -0.007775,
      -0.047582,
      0.03114,
      -0.015115,
      -0.011479,
      0.019796,
      -0.003173,
      -0.017502,
      0.004304,
      -0.002474,
      0.024612,
      0.075138,
      0.062657,
      -0.030884,
      -0.029011,
      -0.034626,
      -0.011663,
      0.056759,
      -0.053354,
      -0.006031,
      0.001039,
      0.028742,
      -0.020294,
      0.027999,
      0.009857,
      0.002034,
      -0.01707,
      -0.027556,
      -0.027093,
      0.042585,
      0.012968,
      0.059513,
      0.036488,
      0.016722,
      -0.004974,
      0.009768,
      -0.060292,
      -0.007644,
      0.069158,
      -0.005175,
      0.046292,
      0.002911,
      -0.034449,
      0.014518,
      -0.010401,
      -0.024548,
      0.008351,
      -0.000241,
      -0.039634,
      -0.030628,
      -0.027975,
      0.050681,
      -0.002169,
      0.018939,
      0.00204,
      -0.02313,
      0.037965,
      0.019375,
      0.000698,
      0.003032,
      -0.020711,
      0.012617,
      -0.040126,
      -0.023596,
      -0.02005,
      -0.015738,
      0.017885,
      -0.054507,
      -0.030246,
      0.039824,
      -0.012428,
      -0.035397,
      -0.008533,
      0.032692,
      0.029799,
      -0.055082,
      0.003231,
      -0.006128,
      0.003634,
      0.010851,
      0.028405,
      0.035105,
      -0.003776,
      0.050005,
      -0.073674,
      0.013493,
      -0.054573,
      -0.063256,
      0.007581,
      -0.031702,
      0.00482,
      0.012709,
      0.00454,
      0.010483,
      0.016391,
      0.019436,
      0.037037,
      -0.021622,
      -0.05587,
      -0.002855,
      0.028166,
      0.020751,
      -0.017117,
      -0.028407,
      0.026862,
      0.004332,
      0.000408,
      -0.001809,
      0.022579,
      0.018853,
      -0.041973,
      0.051347,
      -0.012681,
      0.037616,
      0.000787,
      -0.007813,
      -0.02134,
      -0.018836,
      0.025864,
      -0.035605,
      -0.013833,
      -0.020939,
      -0.001718,
      0.001846,
      -0.003689,
      -0.073153,
      0.012524,
      -0.006936,
      -0.017488,
      0.029378,
      -0.002269,
      0.042581,
      0.032708,
      0.023012,
      0.024282,
      0.004929,
      -0.047131,
      0.034327,
      -0.015315,
      -0.004745,
      -0.011814,
      -0.050806,
      -0.020753,
      -0.031787,
      0.008126,
      -0.029776,
      0.023012,
      -0.021213,
      -0.028291,
      -0.006712,
      0.009904,
      0.03915,
      0.030044,
      -0.020069,
      -0.024385,
      -0.039794,
      0.049108,
      0.010086,
      -0.00386,
      0.011991,
      0.007974,
      -0.010306,
      -0.023352,
      0.085045,
      0.005981,
      -0.032428,
      0.011092,
      -0.011926,
      0.026568,
      -0.015043,
      0.002053,
      0.003301,
      -0.023857,
      0.024471,
      0.014136,
      -0.01101,
      0.01974,
      -0.051186,
      -0.018015,
      0.003192,
      -0.006442,
      -0.04862,
      -0.001525,
      0.073462,
      0.038011,
      -0.032959,
      -0.029482,
      -0.019355,
      -0.064109,
      -0.123788,
      0.021437,
      -0.027916,
      0.019373,
      -0.012212,
      0.009298,
      -0.030824,
      -0.003024,
      0.001835,
      -0.029143,
      -0.026382,
      0.018686,
      0.028841,
      0.005747,
      0.008954,
      -0.005064,
      -0.004741,
      -0.023862,
      -0.010708,
      0.022477,
      -0.004937,
      -0.011888,
      0.023027,
      0.015094,
      -0.004614,
      -0.029162,
      -0.040967,
      0.008386,
      -0.056078,
      -0.044924,
      0.048588,
      -0.030962,
      0.01168,
      0.036216,
      0.013981,
      0.055364,
      0.002342,
      0.007105,
      -0.019685,
      0.058142,
      0.005998,
      0.008225,
      -0.019161,
      -0.010125,
      0.030276,
      0.017068,
      0.028397,
      -0.005144,
      0.005209,
      0.037492,
      0.008615,
      0.026369,
      -0.028811,
      0.028982,
      0.012605,
      -0.008975,
      -0.026377,
      -0.015288,
      -0.026823,
      0.016173,
      -0.051689,
      0.074091,
      -0.012885,
      -0.049155,
      -0.002085,
      0.026588,
      -0.064177,
      -0.020276,
      -0.007138,
      0.046075,
      0.005448,
      -0.007018,
      0.00286,
      -0.001188,
      0.019996,
      -0.029361,
      0.041761,
      0.016289,
      -0.032888,
      -0.004079,
      -0.080484,
      0.026901,
      -0.035208,
      0.079143,
      0.01082,
      0.012982,
      0.01122,
      -0.005841,
      -0.092684,
      0.012789,
      -0.072135,
      -0.016561,
      -0.022,
      -0.001977,
      0.020748,
      0.057732,
      -0.006465,
      0.002145,
      0.016853,
      0.024009,
      -0.014684,
      -0.017165,
      -0.016735,
      -0.006812,
      0.009563,
      -0.019792,
      0.025128,
      -0.020378,
      0.015468,
      -0.053608,
      -0.008618,
      0.003354,
      0.009459,
      0.000529,
      -0.041371,
      -0.004428,
      0.007717,
      0.0338,
      0.01543,
      -0.005837,
      0.026664,
      0.015655,
      0.021297,
      -0.057793,
      -0.019389,
      0.002794,
      0.043066,
      0.037498,
      0.02526,
      0.012129,
      0.005169,
      -0.022019,
      0.015727,
      -0.013949,
      -0.006019,
      -0.046809,
      -0.049304,
      0.050684,
      -0.020192,
      -0.051072,
      -0.025447,
      -0.007614,
      -0.021398,
      -0.018847,
      -0.001173,
      -0.021519,
      -0.027773,
      -0.008098,
      -0.013721,
      -0.03095,
      -0.00255,
      0.038058,
      0.011116,
      0.013124,
      0.012747,
      0.017298,
      -0.041967,
      0.041431,
      0.001577,
      0.006578,
      -0.021412,
      0.033899,
      -0.007805,
      -0.035936,
      0.001961,
      -0.016219,
      -0.000104,
      0.020424,
      -0.006847,
      0.03981,
      0.035661,
      0.028367,
      -0.029484,
      0.022083,
      0.059316,
      -0.017847,
      0.012566,
      -0.015321,
      0.045647,
      0.033238,
      0.042177,
      0.00946,
      0.055875,
      0.068751,
      0.059138,
      0.007322,
      0.021078,
      -0.001126,
      -0.008797,
      -0.006244,
      -0.007232,
      -0.011629,
      -0.023877,
      -0.00443,
      0.031714,
      0.020693,
      -0.012908,
      0.028297,
      0.032533,
      0.041329,
      0.014916,
      -0.004189,
      -0.006978,
      0.015253,
      -0.014464,
      0.018336,
      -0.006948,
      0.029234,
      -0.007116,
      0.027589,
      -0.00174,
      -0.020429,
      0.003963,
      0.019783,
      0.002225,
      -0.025128,
      0.013881,
      0.014297,
      -0.01119,
      0.040567,
      0.045504,
      0.014553,
      -0.001994,
      -0.046047,
      -0.010392,
      -0.012922,
      0.012942,
      0.003275,
      0.013821,
      -0.021205,
      0.017384,
      -0.021535,
      0.01428,
      0.013162,
      0.048465,
      -0.021209,
      -0.020482,
      -0.014187,
      -0.057665,
      -0.040505,
      0.041713,
      -0.001929,
      0.046123,
      0.019846
    ]
  },
  {
    "id": "v5-custom-environment-variables-0",
    "content": "# Custom Environment Variables\nBreadcrumb: Custom Environment Variables\nCovers: Dotenv\nTopics: update, http, configuration\n\n## Dotenv\n\nTo add support for [dotenv](https://www.dotenv.org/) `.env` files run\n\n```\nnpm install dotenv --save\n```\n\nAnd update `src/app.ts` as follows:\n\n```ts\n// dotenv replaces all environmental variables from ~/.env in ~/config/custom-environment-variables.json\nimport * as dotenv from 'dotenv'\ndotenv.config()\n\n// or for ES6\n\nimport 'dotenv/config';\n\nimport configuration from '@feathersjs/configuration'\n```\n\n> **important:**\n> \n> `dotenv.config()` needs to run _before_ `import configuration from '@feathersjs/configuration'`\n>",
    "rawContent": "## Dotenv\n\nTo add support for [dotenv](https://www.dotenv.org/) `.env` files run\n\n```\nnpm install dotenv --save\n```\n\nAnd update `src/app.ts` as follows:\n\n```ts\n// dotenv replaces all environmental variables from ~/.env in ~/config/custom-environment-variables.json\nimport * as dotenv from 'dotenv'\ndotenv.config()\n\n// or for ES6\n\nimport 'dotenv/config';\n\nimport configuration from '@feathersjs/configuration'\n```\n\n> **important:**\n> \n> `dotenv.config()` needs to run _before_ `import configuration from '@feathersjs/configuration'`\n>",
    "breadcrumb": "Custom Environment Variables",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/custom-environment-variables.md",
    "heading": "Custom Environment Variables",
    "subHeadings": [
      "Dotenv"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text",
      "ts"
    ],
    "tokens": 134,
    "category": "cli",
    "tags": [
      "update",
      "http",
      "configuration"
    ],
    "embedding": [
      -0.026034,
      0.006801,
      -0.017351,
      0.023144,
      -0.023769,
      -0.062255,
      0.010487,
      -0.000764,
      0.010933,
      -0.002131,
      0.013155,
      0.008596,
      -0.058639,
      -0.002646,
      -0.033306,
      -0.023172,
      -0.041134,
      0.00669,
      -0.002447,
      -0.02581,
      -0.008137,
      0.012234,
      0.07892,
      -0.007919,
      0.0218,
      0.054931,
      -0.012974,
      -0.05476,
      0.060777,
      -0.020258,
      -0.0298,
      -0.009621,
      -0.05541,
      -0.03023,
      -0.028917,
      -0.003503,
      0.025765,
      -0.009696,
      -0.040669,
      0.036976,
      -0.03364,
      -0.057704,
      -0.025496,
      -0.005474,
      0.018712,
      -0.012261,
      0.031478,
      -0.0091,
      0.001383,
      -0.067285,
      -0.029495,
      -0.017513,
      0.043911,
      -0.063681,
      0.033955,
      0.029008,
      -0.019704,
      -0.013451,
      -0.052107,
      -0.038687,
      -0.0199,
      0.028996,
      -0.026211,
      -0.003337,
      -0.001702,
      0.037579,
      0.03482,
      0.003609,
      0.0066,
      -0.010475,
      -0.009607,
      -0.024707,
      -0.035107,
      -0.028537,
      -0.044321,
      0.013593,
      -0.00222,
      -0.014105,
      -0.021102,
      0.004467,
      -0.016213,
      0.028176,
      0.032817,
      0.006746,
      0.066106,
      -0.006432,
      -0.013915,
      0.057704,
      0.026777,
      -0.01403,
      -0.034014,
      -0.006243,
      0.056477,
      -0.042434,
      -0.025711,
      0.003587,
      0.02191,
      -0.000792,
      0.014204,
      0.019657,
      -0.003899,
      -0.041618,
      0.007036,
      0.014714,
      0.033555,
      0.021207,
      0.025024,
      0.025318,
      -0.026883,
      -0.026429,
      -0.010432,
      -0.013172,
      0.016233,
      0.012463,
      0.005213,
      -0.008968,
      0.025539,
      -0.032725,
      0.037777,
      0.008906,
      0.043771,
      -0.02644,
      0.021815,
      -0.03593,
      0.028255,
      -0.000276,
      0.035448,
      0.030417,
      -0.018056,
      -0.001739,
      -0.004218,
      -0.019409,
      -0.027584,
      0.000834,
      -0.01335,
      -0.008781,
      -0.032143,
      0.035537,
      0.036949,
      -0.047818,
      0.025063,
      0.051594,
      -0.030594,
      -0.042267,
      0.038585,
      -0.025892,
      0.049649,
      -0.004011,
      -0.003493,
      -0.052565,
      -0.001214,
      0.018868,
      0.00304,
      0.027162,
      -0.006437,
      0.008697,
      0.045163,
      0.007762,
      0.023203,
      -0.004428,
      -0.034778,
      0.01456,
      -0.036409,
      -0.004893,
      0.045062,
      -0.033453,
      0.023402,
      -0.000551,
      -0.016849,
      -0.040681,
      0.042323,
      0.018588,
      0.004498,
      0.007799,
      0.027126,
      0.042517,
      0.018963,
      0.017536,
      0.027192,
      -0.000858,
      -0.063193,
      0.014824,
      -0.026858,
      -0.016979,
      -0.037436,
      -0.037342,
      -0.041184,
      -0.031189,
      -0.01086,
      0.036199,
      0.003665,
      0.016119,
      0.033847,
      0.0123,
      0.031361,
      0.007841,
      0.009749,
      0.033662,
      -0.02732,
      -0.022337,
      -0.013914,
      -0.010687,
      0.010948,
      -0.020982,
      -0.033078,
      -0.024404,
      -0.024651,
      -0.050298,
      0.029834,
      -0.080604,
      -0.012113,
      0.009923,
      -0.020338,
      -0.028198,
      -0.008011,
      0.02161,
      0.01253,
      0.022871,
      -0.012191,
      0.002784,
      -0.026635,
      0.009691,
      -0.002135,
      -0.015794,
      0.053331,
      -0.006185,
      0.009527,
      -0.009161,
      -0.005772,
      0.001005,
      -0.01951,
      0.034229,
      -0.017808,
      -0.020515,
      0.059096,
      -0.028883,
      -0.058533,
      0.014374,
      -0.000404,
      -0.009652,
      0.020666,
      -0.002216,
      0.000139,
      0.015822,
      -0.03738,
      0.021682,
      0.012586,
      0.048057,
      -0.001379,
      -0.051782,
      -0.030045,
      0.008023,
      -0.050108,
      0.01083,
      -0.005184,
      0.025454,
      0.01326,
      -0.004617,
      -0.035728,
      0.016102,
      -0.002593,
      0.047597,
      0.001444,
      -0.005567,
      -0.021018,
      0.015145,
      -0.013811,
      -0.053936,
      0.026314,
      0.019282,
      0.008426,
      0.003704,
      0.017599,
      0.016648,
      -0.022755,
      0.029974,
      0.008046,
      -0.008967,
      0.083769,
      0.027141,
      -0.025353,
      0.034376,
      0.042615,
      0.003828,
      0.017352,
      0.000017,
      -0.001511,
      0.014061,
      0.003878,
      0.002878,
      -0.055976,
      0.02423,
      0.07599,
      -0.038091,
      -0.019717,
      0.003666,
      -0.021026,
      -0.163698,
      -0.024793,
      0.048407,
      0.045202,
      0.003183,
      0.02324,
      -0.095522,
      0.003409,
      -0.037996,
      -0.021145,
      0.041162,
      -0.056505,
      0.017394,
      -0.039041,
      -0.0241,
      0.007662,
      0.035949,
      0.00923,
      0.015159,
      -0.020455,
      -0.048231,
      -0.046273,
      0.039285,
      -0.003714,
      0.053144,
      -0.02978,
      0.039003,
      0.009684,
      -0.017816,
      0.017437,
      -0.034942,
      -0.011115,
      0.011798,
      0.021832,
      -0.0107,
      -0.009624,
      0.03402,
      -0.011448,
      0.015818,
      0.026116,
      0.021659,
      0.021875,
      0.002201,
      0.020248,
      0.04186,
      0.051458,
      0.046812,
      0.021259,
      0.002543,
      0.011892,
      -0.008972,
      -0.019022,
      0.007241,
      0.039736,
      -0.051179,
      0.008583,
      -0.03845,
      -0.007602,
      -0.02124,
      -0.020657,
      -0.034,
      -0.005149,
      0.03428,
      -0.031222,
      -0.0588,
      0.007561,
      0.035871,
      -0.002262,
      0.041437,
      -0.016994,
      0.018729,
      -0.045475,
      0.024347,
      0.000384,
      -0.025336,
      0.064712,
      0.007764,
      -0.033595,
      0.002077,
      -0.118444,
      -0.047444,
      0.030731,
      0.00101,
      -0.010245,
      -0.047161,
      -0.036262,
      -0.00964,
      0.000956,
      0.034444,
      0.239974,
      0.052693,
      -0.016012,
      0.042846,
      0.029468,
      -0.045603,
      0.0409,
      0.029931,
      0.021864,
      -0.006965,
      0.01679,
      0.019636,
      0.005551,
      0.002478,
      0.002891,
      -0.006606,
      -0.016981,
      0.04784,
      0.020737,
      -0.028309,
      -0.000036,
      -0.0281,
      -0.009826,
      0.044812,
      -0.051418,
      0.008168,
      -0.003186,
      0.014012,
      -0.012095,
      0.037096,
      -0.021878,
      0.04033,
      0.049063,
      -0.032253,
      -0.060349,
      -0.01279,
      0.016524,
      -0.040385,
      0.026749,
      0.034124,
      -0.053654,
      -0.015738,
      0.026555,
      0.034096,
      0.02876,
      0.016103,
      0.029792,
      -0.016379,
      0.021996,
      -0.007554,
      -0.017548,
      -0.062048,
      -0.037089,
      -0.025575,
      0.000729,
      -0.044162,
      0.015272,
      -0.064483,
      -0.020667,
      0.019708,
      0.056822,
      -0.007353,
      -0.001475,
      0.02489,
      0.013557,
      -0.004453,
      0.017746,
      -0.018695,
      0.014791,
      0.061966,
      0.008699,
      0.016085,
      0.002088,
      -0.027913,
      0.029177,
      0.004167,
      0.025085,
      0.042715,
      -0.01467,
      0.033495,
      -0.026708,
      0.010286,
      -0.027339,
      -0.001545,
      -0.011641,
      -0.004806,
      0.028298,
      0.018249,
      -0.003243,
      -0.01069,
      0.016575,
      -0.017059,
      0.013387,
      0.043277,
      0.034935,
      -0.000443,
      0.02755,
      -0.001114,
      0.003375,
      -0.000542,
      0.014722,
      -0.005026,
      -0.008117,
      -0.012609,
      0.004218,
      -0.023777,
      -0.008128,
      -0.020885,
      0.009597,
      0.022395,
      -0.013666,
      0.022439,
      -0.012802,
      -0.02888,
      -0.005092,
      0.062271,
      0.018316,
      0.002594,
      0.020813,
      -0.003442,
      0.012164,
      0.018131,
      -0.05287,
      0.001441,
      0.005784,
      -0.016706,
      0.015077,
      0.043928,
      -0.015112,
      0.007405,
      0.022587,
      -0.023674,
      -0.010293,
      0.083908,
      -0.015707,
      -0.040822,
      0.028056,
      0.042307,
      0.00332,
      0.019756,
      -0.042534,
      -0.025718,
      0.00825,
      0.016083,
      -0.009159,
      -0.004083,
      0.028206,
      0.009192,
      -0.010742,
      0.017587,
      0.037073,
      0.080815,
      0.039288,
      -0.01923,
      0.004883,
      -0.026641,
      0.003019,
      0.001711,
      -0.005148,
      -0.024771,
      -0.020527,
      -0.011713,
      0.039955,
      0.034608,
      0.023843,
      -0.007502,
      -0.048551,
      -0.028422,
      0.008937,
      -0.040852,
      0.020645,
      -0.048246,
      -0.067215,
      0.022122,
      -0.066407,
      -0.007181,
      -0.011998,
      -0.001637,
      -0.06303,
      -0.044466,
      0.053934,
      -0.021076,
      -0.058886,
      -0.001151,
      0.023234,
      -0.016988,
      -0.037191,
      -0.007623,
      0.041783,
      -0.012885,
      -0.032532,
      0.082541,
      0.008161,
      0.010593,
      0.014731,
      0.058111,
      0.0688,
      0.006583,
      -0.010505,
      0.039818,
      0.012609,
      0.000472,
      -0.04708,
      0.012,
      -0.007668,
      -0.044523,
      -0.045618,
      -0.010928,
      -0.034286,
      -0.02173,
      -0.052043,
      -0.031822,
      -0.010134,
      0.03172,
      0.041621,
      -0.031202,
      0.059819,
      0.021859,
      -0.013923,
      -0.004189,
      -0.007949,
      0.01347,
      -0.038712,
      0.014734,
      -0.025877,
      -0.012801,
      0.007215,
      -0.007471,
      0.018012,
      -0.015294,
      0.002188,
      0.029712,
      -0.031068,
      -0.00541,
      -0.022011,
      0.005196,
      -0.011072,
      0.042109,
      -0.02172,
      -0.044853,
      0.037836,
      0.03407,
      -0.002541,
      0.066949,
      0.016308,
      0.007938,
      -0.052301,
      -0.048083,
      -0.009501,
      0.031821,
      -0.003575,
      -0.045429,
      0.020807,
      -0.023596,
      0.013446,
      0.055945,
      -0.02394,
      -0.03424,
      -0.006095,
      0.005283,
      -0.025639,
      -0.034712,
      0.002669,
      -0.016455,
      0.023775,
      -0.012353,
      0.02823,
      -0.075224,
      0.012815,
      -0.021015,
      -0.004889,
      -0.009365,
      0.00942,
      -0.033238,
      0.009647,
      0.015253,
      -0.022665,
      0.03524,
      -0.010635,
      -0.004282,
      -0.092428,
      0.002002,
      0.013803,
      -0.015815,
      0.009934,
      0.027033,
      -0.006066,
      -0.026683,
      0.002243,
      -0.037606,
      -0.007554,
      -0.000156,
      -0.010597,
      -0.008601,
      0.026744,
      -0.033027,
      -0.03184,
      -0.014347,
      0.006959,
      0.02,
      -0.016706,
      0.056176,
      0.00191,
      -0.030168,
      -0.01598,
      0.05492,
      -0.011927,
      0.033236,
      0.018762,
      0.047333,
      -0.005097,
      -0.014053,
      0.021295,
      0.028818,
      0.037498,
      0.012378,
      0.038863,
      0.015943,
      -0.043201,
      0.028595,
      -0.032174,
      -0.00403,
      -0.000867,
      -0.043578,
      -0.025759,
      -0.009021,
      0.005715,
      -0.015043,
      -0.022627,
      0.027242,
      -0.038646,
      0.007271,
      0.010915,
      -0.060941,
      -0.025282,
      -0.051122,
      0.02586,
      0.020305,
      0.011138,
      -0.04606,
      -0.003861,
      -0.040007,
      0.063611,
      0.000928,
      -0.002172,
      -0.010582,
      -0.009324,
      -0.007562,
      -0.039966,
      0.009783,
      -0.038735,
      -0.001213,
      -0.030366,
      -0.024701,
      -0.002671,
      -0.019022,
      0.033983,
      0.039507,
      0.001225,
      0.028905,
      0.017843,
      -0.002701,
      -0.008976,
      -0.01495,
      -0.001684,
      -0.003597,
      0.032849,
      -0.006357,
      -0.008094,
      0.005603,
      0.024666,
      0.022381,
      -0.026752,
      0.035757,
      -0.032036,
      0.00587,
      -0.04483,
      0.031999,
      0.006743,
      0.046247,
      -0.022145,
      0.017682,
      -0.055866,
      -0.012542,
      -0.014305,
      0.026168,
      0.022853,
      0.023475,
      0.041919,
      0.043555,
      0.016254,
      0.027255,
      -0.018024,
      0.018177,
      -0.144534,
      0.005589,
      -0.015037,
      0.009148,
      -0.024112,
      -0.020848,
      -0.001697,
      0.024437,
      0.012275,
      -0.021998,
      -0.034998,
      -0.057009,
      0.029859,
      0.019393,
      0.059523,
      0.039854,
      0.02245,
      0.015256,
      -0.016025,
      0.021681,
      -0.013385,
      -0.000994,
      0.030645,
      -0.031544,
      0.020114,
      -0.041974,
      0.010059,
      -0.029737,
      0.002176,
      0.033247,
      -0.017515,
      -0.045445,
      0.01072,
      0.052405,
      -0.065845,
      -0.010325,
      0.019284,
      0.010516,
      -0.058876,
      -0.016687,
      -0.016348,
      0.020585,
      -0.033232,
      0.019652,
      0.030084,
      0.080791,
      -0.018834,
      -0.026273,
      -0.045557,
      -0.033194,
      -0.004572,
      0.037331,
      -0.010342,
      0.033482,
      -0.019079,
      -0.004114,
      0.048867,
      -0.031748,
      -0.045783,
      0.013396,
      -0.009609,
      0.025131,
      -0.014541,
      -0.003473,
      -0.055141,
      0.020581,
      -0.034853,
      0.0325,
      -0.012752,
      -0.021214,
      -0.026765,
      -0.016648,
      -0.029109,
      -0.013994,
      0.016429,
      -0.014295,
      0.045199,
      0.005463,
      0.001104,
      -0.010266,
      -0.028897,
      -0.040598,
      -0.044233,
      0.029162,
      0.053982,
      -0.028618,
      0.020471,
      0.011815,
      -0.021368,
      0.01016,
      -0.067986,
      -0.051145,
      -0.013585,
      -0.012642,
      -0.00753,
      0.014003,
      -0.053849,
      -0.019927,
      -0.002426,
      -0.045151,
      -0.028533,
      -0.001647,
      -0.003484,
      -0.00233,
      -0.042573,
      -0.009066,
      0.043395,
      -0.016123,
      0.00348,
      -0.030263,
      -0.000332,
      0.009601,
      -0.047044,
      -0.023024,
      -0.04396,
      -0.002696,
      0.0082,
      0.043989,
      -0.034265,
      -0.024024,
      0.01874,
      -0.026168,
      -0.000774,
      -0.024426,
      0.067061,
      -0.019152,
      0.018016,
      0.003183,
      0.026424,
      -0.03932,
      0.022669,
      0.011753,
      0.023043,
      -0.006,
      0.004372,
      0.030255,
      -0.023953,
      0.050289,
      -0.02628,
      -0.029751,
      -0.051896,
      -0.040481,
      0.002332,
      -0.040637,
      0.022516,
      -0.018412,
      -0.008536,
      -0.017921,
      -0.012988,
      -0.021028,
      0.005556,
      -0.050914,
      -0.025712,
      0.012807,
      -0.015345,
      0.005871,
      -0.035782,
      0.005778,
      -0.007914,
      0.08171,
      0.046768,
      -0.055828,
      -0.001697,
      0.019167,
      -0.05187,
      0.062497,
      0.000929,
      -0.034691,
      -0.033186,
      0.017504,
      0.028858,
      0.024704,
      0.015136,
      0.021559,
      0.032584,
      -0.014115,
      0.008414,
      -0.000156,
      0.018475,
      -0.018238,
      0.030685,
      0.012561,
      0.076199,
      0.018394,
      0.012217,
      0.055435,
      -0.028719,
      0.030739,
      0.041446,
      -0.042374,
      0.003976,
      0.024858,
      -0.014676,
      0.014999,
      0.008247,
      -0.016855,
      -0.001282,
      -0.036075,
      0.009595,
      0.052518,
      0.042302,
      0.00727,
      -0.02592,
      -0.030362,
      0.004592,
      -0.00145,
      -0.037393,
      0.000361,
      0.022678,
      0.014302,
      -0.007839,
      0.006455,
      -0.002772,
      0.021556,
      0.030651,
      -0.005886,
      0.031224,
      -0.006312,
      0.00686,
      -0.017738,
      0.053142,
      0.059707,
      -0.031724,
      -0.045547,
      -0.022868,
      0.012789,
      -0.011419,
      0.018293,
      0.000732,
      -0.030339,
      -0.021479,
      0.018906,
      0.008527,
      0.004449,
      0.021907,
      0.022197,
      0.054362,
      0.040176,
      -0.01421,
      0.032713,
      0.009733,
      -0.019806,
      -0.04115,
      -0.04347
    ]
  },
  {
    "id": "v5-databases-0",
    "content": "# Databases\nBreadcrumb: Databases\nCovers: Connection | Models\nTopics: get, create, database, adapter, mongodb, postgresql, knex, collection, http, client, configuration, cli, test, users\n\n## Connection\n\n<DatabaseBlock global-id=\"sql\">\n\nDepending on the SQL database you selected, a `src/<database>.ts` file will be created that sets up a connection using [KnexJS](../../api/databases/knex.md). It uses the connection settings from the `<database>` [configuration value](./default.json.md) and exports a [configure function](./app.md#configure-functions) that initializes the database connection. The Knex connection object is then accessible wherever you have access to the [app object](./app.md) via\n\n```ts\nconst knex = app.get('<database>Client')\n```\n\nThe database pool size can be set in the [configuration](./default.json.md) like this:\n\n```json\n\"postgresql\": {\n  \"client\": \"pg\",\n  \"connection\": \"<pg connection string>\",\n  \"pool\": {\n    \"min\": 0,\n    \"max\": 7\n  }\n},\n```\n\n`connection` can also be an object instead of a connection string:\n\n```json\n\"postgresql\": {\n  \"client\": \"pg\",\n  \"connection\": {\n    \"host\": \"localhost\",\n    \"port\": 5432,\n    \"user\": \"postgres\",\n    \"password\": \"postgres\",\n    \"database\": \"pgtest\"\n  }\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n`src/mongodb.ts` exports a [configure function](./app.md#configure-functions) that connects to the MongoDB connection string set as `mongodb` in your [configuration](./default.json.md). The [MongoDB NodeJS client](https://www.mongodb.com/languages/mongodb-with-nodejs) is then accessible wherever you have access to the [app object](./app.md) via\n\n```ts\nconst db = await app.get('mongodbClient')\n```\n\nThe default connection string tries to connect to a local MongoDB instance with no password. To use e.g. [MongoDB Atlas](https://www.mongodb.com/cloud) change the `mongodb` property in `config/default.json` or add it as an [environment variable](./configuration.md#environment-variables) with the connection string that will look similar to this:\n\n```\nmongodb+srv://<user>:<password>@cluster0.xyz.mongodb.net/?retryWrites=true&w=majority\n```\n\n</DatabaseBlock>\n\n## Models\n\n<DatabaseBlock global-id=\"sql\">\n\nKnexJS does not have a concept of models. Instead a new service is initialized with the table name and `app.get('<database>Client')` as the connection. For more information on how to create custom queries and more, see the [SQL database adapter API documentation](../../api/databases/knex.md).\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\nThe collection for a MongoDB service can be accessed via\n\n```ts\nconst userCollection = await app.service('users').getModel()\n```\n\nSee the [MongoDB service API documentation](../../api/databases/mongodb.md) for more information.\n\n</DatabaseBlock>",
    "rawContent": "## Connection\n\n<DatabaseBlock global-id=\"sql\">\n\nDepending on the SQL database you selected, a `src/<database>.ts` file will be created that sets up a connection using [KnexJS](../../api/databases/knex.md). It uses the connection settings from the `<database>` [configuration value](./default.json.md) and exports a [configure function](./app.md#configure-functions) that initializes the database connection. The Knex connection object is then accessible wherever you have access to the [app object](./app.md) via\n\n```ts\nconst knex = app.get('<database>Client')\n```\n\nThe database pool size can be set in the [configuration](./default.json.md) like this:\n\n```json\n\"postgresql\": {\n  \"client\": \"pg\",\n  \"connection\": \"<pg connection string>\",\n  \"pool\": {\n    \"min\": 0,\n    \"max\": 7\n  }\n},\n```\n\n`connection` can also be an object instead of a connection string:\n\n```json\n\"postgresql\": {\n  \"client\": \"pg\",\n  \"connection\": {\n    \"host\": \"localhost\",\n    \"port\": 5432,\n    \"user\": \"postgres\",\n    \"password\": \"postgres\",\n    \"database\": \"pgtest\"\n  }\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n`src/mongodb.ts` exports a [configure function](./app.md#configure-functions) that connects to the MongoDB connection string set as `mongodb` in your [configuration](./default.json.md). The [MongoDB NodeJS client](https://www.mongodb.com/languages/mongodb-with-nodejs) is then accessible wherever you have access to the [app object](./app.md) via\n\n```ts\nconst db = await app.get('mongodbClient')\n```\n\nThe default connection string tries to connect to a local MongoDB instance with no password. To use e.g. [MongoDB Atlas](https://www.mongodb.com/cloud) change the `mongodb` property in `config/default.json` or add it as an [environment variable](./configuration.md#environment-variables) with the connection string that will look similar to this:\n\n```\nmongodb+srv://<user>:<password>@cluster0.xyz.mongodb.net/?retryWrites=true&w=majority\n```\n\n</DatabaseBlock>\n\n## Models\n\n<DatabaseBlock global-id=\"sql\">\n\nKnexJS does not have a concept of models. Instead a new service is initialized with the table name and `app.get('<database>Client')` as the connection. For more information on how to create custom queries and more, see the [SQL database adapter API documentation](../../api/databases/knex.md).\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\nThe collection for a MongoDB service can be accessed via\n\n```ts\nconst userCollection = await app.service('users').getModel()\n```\n\nSee the [MongoDB service API documentation](../../api/databases/mongodb.md) for more information.\n\n</DatabaseBlock>",
    "breadcrumb": "Databases",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/databases.md",
    "heading": "Databases",
    "subHeadings": [
      "Connection",
      "Models"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "json"
    ],
    "tokens": 651,
    "category": "cli",
    "tags": [
      "get",
      "create",
      "database",
      "adapter",
      "mongodb",
      "postgresql",
      "knex",
      "collection",
      "http",
      "client",
      "configuration",
      "cli",
      "test",
      "users"
    ],
    "embedding": [
      0.008451,
      0.021238,
      -0.089082,
      0.03294,
      -0.02782,
      -0.029158,
      -0.004178,
      -0.046223,
      0.02495,
      0.003385,
      -0.004557,
      -0.014823,
      -0.028651,
      0.03066,
      0.002386,
      0.046679,
      -0.024158,
      -0.004654,
      -0.009375,
      0.002736,
      -0.016352,
      0.045727,
      0.045289,
      0.007299,
      0.008679,
      0.020027,
      0.002393,
      -0.02588,
      -0.00215,
      0.001063,
      -0.019967,
      0.001483,
      0.004183,
      0.002871,
      0.030569,
      -0.015865,
      0.011252,
      0.020661,
      -0.030284,
      0.020457,
      -0.01025,
      -0.032189,
      0.022945,
      -0.034384,
      0.020066,
      -0.020358,
      0.012405,
      -0.021439,
      -0.009844,
      -0.011028,
      -0.039379,
      0.011973,
      -0.012428,
      -0.009374,
      0.047354,
      0.021691,
      -0.034948,
      -0.019361,
      -0.069837,
      -0.052563,
      -0.048495,
      0.03567,
      -0.011743,
      0.008961,
      -0.019305,
      0.041211,
      -0.012379,
      -0.002772,
      -0.008688,
      -0.021331,
      -0.040706,
      0.024313,
      -0.024122,
      -0.006871,
      -0.015171,
      -0.014625,
      0.042204,
      0.004709,
      -0.006073,
      0.016646,
      -0.000134,
      0.000274,
      -0.01699,
      -0.010491,
      -0.00679,
      -0.012077,
      -0.064487,
      0.025356,
      0.032187,
      0.031354,
      0.012949,
      -0.011961,
      0.043354,
      -0.038044,
      -0.036216,
      -0.007368,
      0.009941,
      0.023997,
      0.003935,
      -0.004037,
      0.025273,
      -0.001433,
      0.015016,
      -0.014612,
      0.01513,
      0.024861,
      0.040223,
      0.006718,
      -0.011189,
      -0.046932,
      0.001555,
      -0.004309,
      0.008679,
      -0.011105,
      -0.025511,
      -0.049445,
      -0.003903,
      -0.021288,
      0.013747,
      -0.00996,
      0.001478,
      0.01282,
      0.029274,
      0.018459,
      -0.006251,
      -0.029663,
      0.013267,
      0.021385,
      -0.011874,
      0.041064,
      0.012535,
      -0.039303,
      0.005625,
      0.012012,
      0.019553,
      0.004817,
      0.045416,
      0.028935,
      0.020861,
      -0.032242,
      0.001554,
      -0.033075,
      0.002735,
      -0.029406,
      0.035526,
      -0.003481,
      0.072559,
      0.001755,
      -0.023365,
      -0.030658,
      -0.022248,
      -0.006684,
      0.028351,
      -0.034628,
      0.024459,
      -0.047651,
      0.006202,
      0.034353,
      0.039555,
      0.023928,
      -0.024845,
      0.049724,
      -0.040234,
      0.024972,
      0.064767,
      -0.018819,
      0.035795,
      0.015849,
      -0.01309,
      -0.056241,
      -0.008477,
      0.017821,
      0.049439,
      0.012644,
      0.052957,
      0.027701,
      0.058956,
      0.03178,
      0.027789,
      -0.020986,
      -0.039766,
      0.042609,
      0.016805,
      -0.036748,
      -0.017208,
      0.012527,
      -0.006999,
      -0.049839,
      0.004383,
      0.023146,
      -0.009286,
      0.010266,
      0.031169,
      -0.04232,
      0.034518,
      0.043801,
      -0.001173,
      0.009856,
      -0.005895,
      -0.021019,
      0.004299,
      0.017821,
      0.028901,
      0.021992,
      -0.024838,
      -0.009102,
      -0.016564,
      -0.008124,
      0.00725,
      -0.05485,
      0.004427,
      0.009666,
      0.007015,
      0.019943,
      -0.03376,
      0.017333,
      -0.026409,
      -0.05014,
      -0.009457,
      -0.003204,
      -0.009129,
      -0.005648,
      -0.008741,
      -0.023252,
      0.025258,
      -0.031863,
      0.065728,
      -0.004506,
      0.024105,
      0.009954,
      -0.02459,
      0.018917,
      -0.007316,
      0.01108,
      -0.008894,
      -0.006622,
      -0.030731,
      -0.015792,
      0.0604,
      0.005134,
      -0.04232,
      -0.038642,
      0.035589,
      0.010772,
      -0.007294,
      -0.015572,
      0.00136,
      0.026118,
      -0.021388,
      -0.006392,
      -0.019647,
      0.016624,
      -0.02163,
      0.000322,
      0.047439,
      0.008939,
      0.022647,
      0.005858,
      -0.034381,
      -0.034194,
      -0.005432,
      0.034051,
      0.016642,
      0.054577,
      0.022496,
      0.030774,
      -0.041134,
      -0.021282,
      0.0263,
      0.006464,
      -0.010626,
      0.017836,
      0.024121,
      0.027946,
      -0.030781,
      0.016271,
      0.015326,
      -0.012405,
      0.087524,
      0.015527,
      -0.021499,
      -0.015645,
      0.04324,
      -0.022788,
      0.003612,
      0.018865,
      0.015891,
      -0.019493,
      -0.035216,
      -0.030788,
      -0.001737,
      0.012257,
      0.053865,
      -0.002009,
      -0.05375,
      -0.03089,
      -0.015648,
      -0.138796,
      0.003633,
      0.050023,
      0.038531,
      0.008695,
      0.024752,
      -0.065747,
      -0.02861,
      -0.073018,
      0.016589,
      0.0403,
      -0.042038,
      0.009156,
      -0.008592,
      0.023019,
      -0.037785,
      0.021359,
      -0.008682,
      0.067009,
      -0.035082,
      -0.016397,
      -0.056392,
      0.040516,
      0.101233,
      0.035425,
      -0.029362,
      0.044246,
      0.02062,
      -0.026332,
      -0.010222,
      -0.023323,
      0.014468,
      0.003906,
      -0.011806,
      0.002017,
      0.012748,
      0.01544,
      -0.03434,
      0.007661,
      -0.016095,
      0.014604,
      0.071295,
      -0.001227,
      0.002713,
      0.007745,
      -0.013125,
      0.021447,
      -0.003145,
      -0.027932,
      0.013215,
      -0.005295,
      -0.018,
      -0.005472,
      -0.013943,
      -0.021429,
      0.008026,
      -0.026068,
      0.000262,
      -0.015836,
      -0.029936,
      0.023036,
      0.039796,
      0.042572,
      -0.017319,
      -0.02495,
      -0.022946,
      0.050441,
      0.019238,
      0.044942,
      -0.063757,
      0.044423,
      -0.037922,
      0.014731,
      0.013322,
      -0.02943,
      0.000569,
      -0.023023,
      -0.040135,
      -0.031405,
      -0.109058,
      0.009285,
      0.005784,
      0.004756,
      0.018479,
      -0.045068,
      -0.027086,
      -0.038055,
      0.010819,
      0.009147,
      0.253231,
      0.007254,
      -0.022714,
      0.017377,
      0.059637,
      -0.013451,
      0.0321,
      0.037223,
      0.008618,
      -0.020207,
      0.019228,
      -0.005852,
      0.004766,
      -0.029864,
      -0.014561,
      -0.000047,
      -0.035786,
      0.023137,
      0.030743,
      -0.03803,
      0.013695,
      -0.010905,
      -0.002781,
      0.03215,
      -0.049586,
      -0.032459,
      0.005531,
      0.057885,
      -0.057791,
      0.055057,
      -0.003548,
      0.026705,
      0.020141,
      -0.090105,
      -0.003584,
      -0.016207,
      0.018745,
      0.016308,
      0.039964,
      0.023725,
      0.015244,
      -0.000476,
      0.019205,
      -0.000277,
      -0.045876,
      -0.019773,
      0.014488,
      0.037412,
      -0.03684,
      -0.01246,
      -0.030902,
      -0.034747,
      -0.035453,
      -0.005715,
      0.010627,
      -0.040999,
      -0.021396,
      -0.016826,
      0.000483,
      0.011601,
      0.0479,
      0.022359,
      -0.029935,
      0.030995,
      -0.017324,
      -0.001641,
      0.037928,
      -0.034349,
      0.001093,
      0.042676,
      0.01788,
      -0.017282,
      -0.010036,
      -0.042364,
      0.034,
      0.016866,
      0.053946,
      0.060702,
      -0.026607,
      0.009581,
      -0.005456,
      -0.016631,
      -0.030131,
      -0.000143,
      -0.011566,
      0.038045,
      -0.021547,
      0.017478,
      0.005092,
      -0.039551,
      -0.007346,
      -0.018138,
      0.001175,
      0.004697,
      0.019725,
      0.011091,
      0.018988,
      -0.027159,
      -0.006004,
      -0.032597,
      -0.010859,
      0.004568,
      0.013248,
      -0.022508,
      0.006736,
      -0.025627,
      0.03677,
      -0.009631,
      0.047312,
      0.020529,
      -0.067521,
      0.025565,
      -0.019332,
      -0.037006,
      0.008544,
      0.004188,
      0.039344,
      0.014699,
      0.050873,
      0.003838,
      -0.010946,
      -0.001816,
      0.015101,
      -0.052321,
      -0.017663,
      -0.037547,
      -0.022642,
      -0.045323,
      -0.031947,
      0.038123,
      0.048387,
      -0.0631,
      -0.025606,
      0.023059,
      -0.021913,
      -0.004636,
      0.016505,
      0.045454,
      -0.01952,
      0.023204,
      -0.053368,
      -0.034247,
      -0.014309,
      0.050483,
      -0.017771,
      -0.020814,
      0.075786,
      -0.009261,
      0.03197,
      -0.00446,
      0.010861,
      0.073854,
      0.004541,
      -0.029906,
      -0.015776,
      -0.020602,
      0.015268,
      0.027117,
      0.030513,
      -0.005518,
      -0.04439,
      0.030655,
      0.001145,
      0.038461,
      0.035153,
      0.002941,
      0.014884,
      0.0549,
      -0.007359,
      -0.061211,
      -0.022763,
      -0.049961,
      -0.07758,
      0.020417,
      0.007511,
      -0.000782,
      -0.061176,
      -0.026214,
      0.003812,
      -0.047056,
      0.04627,
      -0.015395,
      -0.020154,
      -0.03193,
      0.003475,
      0.059704,
      -0.002973,
      -0.016819,
      0.001399,
      -0.011475,
      -0.033554,
      0.108866,
      -0.013408,
      0.014548,
      0.018811,
      0.003401,
      0.013506,
      0.039099,
      -0.002587,
      -0.014761,
      0.034691,
      -0.02545,
      -0.00132,
      0.015919,
      0.006364,
      -0.039792,
      -0.016435,
      -0.030473,
      -0.018416,
      0.015561,
      -0.022379,
      -0.006295,
      -0.041903,
      -0.030328,
      0.047901,
      -0.019242,
      0.060505,
      0.027782,
      -0.037533,
      0.037306,
      -0.023745,
      0.005158,
      0.019922,
      -0.025729,
      -0.01909,
      -0.018664,
      0.01454,
      -0.047914,
      0.021151,
      -0.005069,
      -0.004958,
      0.035856,
      -0.064393,
      -0.057526,
      0.004682,
      0.043775,
      0.041966,
      0.008071,
      -0.003232,
      -0.012934,
      0.013399,
      -0.017219,
      0.037195,
      0.07656,
      -0.036996,
      0.000687,
      0.002681,
      -0.024089,
      -0.032333,
      -0.033582,
      -0.051335,
      -0.011477,
      0.038058,
      -0.011805,
      -0.024547,
      0.026867,
      0.033837,
      -0.006578,
      -0.004434,
      0.003358,
      -0.025779,
      -0.006397,
      0.001617,
      -0.022499,
      0.009825,
      -0.009911,
      0.039234,
      -0.057115,
      -0.022629,
      -0.01819,
      0.006593,
      0.005331,
      -0.033922,
      -0.011443,
      -0.006939,
      -0.027721,
      0.008487,
      -0.01446,
      0.012942,
      0.002096,
      -0.060329,
      -0.026795,
      0.024469,
      -0.025464,
      0.029623,
      0.016575,
      0.034456,
      -0.009022,
      -0.019163,
      -0.055141,
      0.014749,
      0.012699,
      -0.070246,
      -0.017173,
      0.015469,
      0.014676,
      -0.020617,
      0.017454,
      -0.01747,
      0.02564,
      -0.008997,
      0.036648,
      -0.007948,
      -0.014481,
      -0.031777,
      0.025946,
      -0.021316,
      -0.024643,
      0.032834,
      0.009719,
      0.010868,
      0.031972,
      0.012997,
      -0.004846,
      0.000079,
      0.024293,
      0.074899,
      -0.049343,
      0.031054,
      0.002129,
      -0.008347,
      -0.012618,
      -0.027152,
      0.024506,
      0.040087,
      -0.042945,
      0.019655,
      -0.042285,
      -0.016736,
      0.024504,
      -0.039137,
      -0.000579,
      0.006835,
      -0.049564,
      -0.028268,
      -0.031021,
      0.010358,
      -0.045063,
      0.007232,
      -0.048912,
      0.04876,
      -0.010189,
      0.087095,
      -0.01722,
      0.025132,
      -0.011795,
      -0.010622,
      -0.033451,
      -0.029547,
      -0.00491,
      0.010434,
      0.00618,
      -0.040782,
      0.000217,
      0.014174,
      -0.051236,
      -0.047861,
      0.005508,
      0.007179,
      -0.028116,
      -0.047566,
      0.063001,
      0.001029,
      -0.022429,
      0.039783,
      -0.012711,
      0.064534,
      -0.038987,
      -0.01164,
      -0.000534,
      0.002677,
      0.010804,
      -0.029716,
      -0.003218,
      -0.020382,
      0.010362,
      -0.016996,
      0.057089,
      0.004048,
      -0.007056,
      -0.005298,
      -0.028358,
      -0.059256,
      -0.015899,
      -0.021071,
      0.038764,
      -0.035965,
      -0.024539,
      -0.005866,
      0.003326,
      -0.002701,
      0.032627,
      -0.019447,
      -0.027814,
      -0.131588,
      0.018707,
      -0.01132,
      0.024277,
      0.000894,
      0.014853,
      -0.009966,
      -0.033811,
      0.00682,
      -0.035499,
      -0.090327,
      -0.007656,
      -0.002682,
      -0.015162,
      0.020061,
      0.017199,
      -0.000058,
      -0.005269,
      -0.022706,
      -0.024257,
      -0.015241,
      -0.035803,
      0.042422,
      0.006268,
      -0.01006,
      0.017084,
      -0.023263,
      -0.027869,
      0.007287,
      -0.014089,
      0.012853,
      -0.034818,
      0.035373,
      0.022749,
      -0.002569,
      0.053356,
      -0.018516,
      0.003062,
      -0.023957,
      0.00878,
      -0.021459,
      0.027829,
      -0.01197,
      0.035249,
      0.018832,
      0.02372,
      -0.023557,
      -0.066923,
      -0.020697,
      0.002017,
      -0.016219,
      0.008104,
      -0.045776,
      0.014249,
      0.013057,
      -0.021176,
      0.011366,
      -0.052027,
      -0.055475,
      0.046634,
      0.003485,
      0.004266,
      -0.026424,
      -0.067511,
      -0.013048,
      -0.009353,
      -0.030555,
      0.047277,
      0.007642,
      0.047533,
      0.031299,
      -0.05899,
      0.008626,
      -0.021435,
      0.010565,
      0.002684,
      0.059373,
      0.024924,
      -0.050188,
      0.004664,
      -0.020575,
      0.020089,
      -0.022096,
      0.057667,
      0.051084,
      -0.017639,
      0.010389,
      -0.023736,
      -0.001394,
      -0.017969,
      -0.041466,
      -0.031171,
      -0.03802,
      0.013866,
      -0.035036,
      0.056597,
      -0.03735,
      0.000349,
      0.012476,
      -0.025981,
      -0.022561,
      -0.031207,
      0.005867,
      0.021831,
      -0.039096,
      0.011007,
      0.001552,
      -0.021542,
      0.022308,
      -0.009963,
      0.039297,
      0.009152,
      -0.052201,
      0.008593,
      -0.07952,
      0.014942,
      0.030559,
      -0.01456,
      -0.018466,
      -0.00239,
      0.017003,
      0.006089,
      0.023379,
      -0.022332,
      -0.013158,
      0.031258,
      0.03946,
      0.00998,
      0.021598,
      -0.025764,
      -0.003879,
      -0.038331,
      -0.013204,
      0.031641,
      0.015048,
      -0.019725,
      -0.055712,
      0.050931,
      -0.0295,
      -0.048799,
      -0.022336,
      -0.038143,
      -0.013579,
      -0.037649,
      0.024047,
      -0.001409,
      0.000017,
      -0.026927,
      0.031099,
      -0.043757,
      0.018515,
      -0.016432,
      0.00826,
      0.060535,
      0.017698,
      -0.00515,
      -0.005295,
      0.038409,
      -0.006812,
      0.056434,
      0.027592,
      -0.059984,
      -0.015592,
      0.001875,
      0.004467,
      0.026878,
      0.014743,
      -0.028388,
      -0.020982,
      0.001835,
      -0.000989,
      0.000885,
      -0.033109,
      0.024445,
      0.059237,
      -0.009129,
      0.047092,
      -0.016681,
      0.040625,
      0.002131,
      0.019997,
      0.021829,
      0.035818,
      0.027821,
      0.002632,
      0.052754,
      -0.025631,
      0.010153,
      0.029281,
      -0.003447,
      -0.014913,
      -0.006955,
      0.057082,
      -0.006508,
      -0.012126,
      0.01066,
      0.028416,
      -0.028977,
      -0.010668,
      0.057756,
      -0.026666,
      -0.020668,
      0.013131,
      -0.009625,
      -0.031122,
      0.018866,
      0.002919,
      0,
      0.012794,
      0.050105,
      0.033466,
      -0.025192,
      0.008396,
      0.060261,
      0.018335,
      0.01866,
      0.019335,
      0.043402,
      -0.002922,
      -0.005911,
      0.02017,
      -0.005936,
      -0.01368,
      -0.015664,
      -0.031929,
      -0.007425,
      0.015224,
      -0.017794,
      0.018767,
      0.017292,
      -0.016563,
      -0.035283,
      0.005396,
      0.015218,
      0.089163,
      -0.009089,
      0.016393,
      0.007424,
      -0.040759,
      0.02849,
      0.018507,
      0.037904,
      0.000656,
      -0.066023
    ]
  },
  {
    "id": "v5-declarations-0",
    "content": "# TypeScript\nBreadcrumb: TypeScript\nCovers: Compilation | Configuration Types | Service Types | Application | Hook Context | Services and Params\nTopics: hooks, services, application, context, params, hook context, hook functions, get, remove, schema, client, configuration, typescript, types, declarations, cli, test, users\n\n## Compilation\n\nIn order to compile and start the application use\n```\nnpm run compile\nnpm start\n```\nFor development with live reload use\n```\nnpm run dev\n```\n<BlockQuote type=\"warning\" label=\"Important\">\nTo get the latest types in the [client](./client.md) and any time before `npm start`, `npm run compile` needs to run.\n</BlockQuote>\n\n## Configuration Types\n\nThe `Configuration` interface defines the types for [app.get](../../api/application.md#getname) and [app.set](../../api/application.md#setname-value). It is extended from the type inferred from the [configuration schema](./configuration.md#configuration-schemas). Since you can store anything global to the application in `app.get` and `app.set`, you can add additional types that are not part of the initial application configuration here.\n```ts\n// The types for app.get(name) and app.set(name)\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface Configuration extends ApplicationConfiguration {\n  startupTime: Date\n}\n```\n<BlockQuote type=\"warning\" label=\"Important\">\nBoth `Configuration` and `ServiceTypes` need to be declared as an `interface` (even if it is empty) so they can be extended via `declare module` in other files. Do not remove the `eslint-disable-next-line` comments.\n</BlockQuote>\n\n## Service Types\n\nThe `ServiceTypes` interface contains a mapping of all service paths to their service type so that [app.use](../../api/application.md#usepath-service--options) and [app.service](../../api/application.md#servicepath) use the correct type.\n```ts\n// A mapping of service names to types. Will be extended in service files.\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface ServiceTypes {}\n```\nUsually the `ServiceTypes` interface is not modified directly in this file but instead extended via `declare module` in the files where the services are registered. This usually looks like this:\n```ts\n// Add this service to the service type index\ndeclare module '../../declarations' {\n  interface ServiceTypes {\n    users: UserService\n  }\n}\n```\n\n## Application\n\nThe `Application` interface is the type for the main [app object](./app.md) using the [ServiceTypes](#service-types) interface as the service index and [ConfigurationTypes](#configuration-types) for `app.get` and `app.set`.\n```ts\n// The application instance type that will be used everywhere else\nexport type Application = FeathersApplication<ServiceTypes, Configuration>\n```\n<BlockQuote type=\"warning\" label=\"Important\">\nAlways use `import { Application } from './declarations'` to get the proper service and configuration typings. You normally do **not** need to use `import { Application } from '@feathersjs/feathers'` directly.\n</BlockQuote>\n\n## Hook Context\n\nThe `HookContext` type exports a [hook context](../../api/hooks.md) type with the `Application` and a generic service type `S`.\n```ts\n// The context for hook functions - can be typed with a service class\nexport type HookContext<S = any> = FeathersHookContext<Application, S>\n```\nUse `HookContext<UserService>` to get the full hook context for a service.\n\n## Services and Params\n\nSee the [services chapter](./service.md) for more information on service and parameter typings.\n\n<BlockQuote type=\"danger\">\nPlease pick **TypeScript** as the Code language in the main menu dropdown.\n</BlockQuote>",
    "rawContent": "## Compilation\n\nIn order to compile and start the application use\n```\nnpm run compile\nnpm start\n```\nFor development with live reload use\n```\nnpm run dev\n```\n<BlockQuote type=\"warning\" label=\"Important\">\nTo get the latest types in the [client](./client.md) and any time before `npm start`, `npm run compile` needs to run.\n</BlockQuote>\n\n## Configuration Types\n\nThe `Configuration` interface defines the types for [app.get](../../api/application.md#getname) and [app.set](../../api/application.md#setname-value). It is extended from the type inferred from the [configuration schema](./configuration.md#configuration-schemas). Since you can store anything global to the application in `app.get` and `app.set`, you can add additional types that are not part of the initial application configuration here.\n```ts\n// The types for app.get(name) and app.set(name)\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface Configuration extends ApplicationConfiguration {\n  startupTime: Date\n}\n```\n<BlockQuote type=\"warning\" label=\"Important\">\nBoth `Configuration` and `ServiceTypes` need to be declared as an `interface` (even if it is empty) so they can be extended via `declare module` in other files. Do not remove the `eslint-disable-next-line` comments.\n</BlockQuote>\n\n## Service Types\n\nThe `ServiceTypes` interface contains a mapping of all service paths to their service type so that [app.use](../../api/application.md#usepath-service--options) and [app.service](../../api/application.md#servicepath) use the correct type.\n```ts\n// A mapping of service names to types. Will be extended in service files.\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface ServiceTypes {}\n```\nUsually the `ServiceTypes` interface is not modified directly in this file but instead extended via `declare module` in the files where the services are registered. This usually looks like this:\n```ts\n// Add this service to the service type index\ndeclare module '../../declarations' {\n  interface ServiceTypes {\n    users: UserService\n  }\n}\n```\n\n## Application\n\nThe `Application` interface is the type for the main [app object](./app.md) using the [ServiceTypes](#service-types) interface as the service index and [ConfigurationTypes](#configuration-types) for `app.get` and `app.set`.\n```ts\n// The application instance type that will be used everywhere else\nexport type Application = FeathersApplication<ServiceTypes, Configuration>\n```\n<BlockQuote type=\"warning\" label=\"Important\">\nAlways use `import { Application } from './declarations'` to get the proper service and configuration typings. You normally do **not** need to use `import { Application } from '@feathersjs/feathers'` directly.\n</BlockQuote>\n\n## Hook Context\n\nThe `HookContext` type exports a [hook context](../../api/hooks.md) type with the `Application` and a generic service type `S`.\n```ts\n// The context for hook functions - can be typed with a service class\nexport type HookContext<S = any> = FeathersHookContext<Application, S>\n```\nUse `HookContext<UserService>` to get the full hook context for a service.\n\n## Services and Params\n\nSee the [services chapter](./service.md) for more information on service and parameter typings.\n\n<BlockQuote type=\"danger\">\nPlease pick **TypeScript** as the Code language in the main menu dropdown.\n</BlockQuote>",
    "breadcrumb": "TypeScript",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/declarations.md",
    "heading": "TypeScript",
    "subHeadings": [
      "Compilation",
      "Configuration Types",
      "Service Types",
      "Application",
      "Hook Context",
      "Services and Params"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text",
      "ts"
    ],
    "tokens": 837,
    "category": "cli",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "hook context",
      "hook functions",
      "get",
      "remove",
      "schema",
      "client",
      "configuration",
      "typescript",
      "types",
      "declarations",
      "cli",
      "test",
      "users"
    ],
    "embedding": [
      -0.026372,
      0.008982,
      -0.052498,
      0.023211,
      -0.009843,
      -0.019819,
      -0.003611,
      0.025804,
      -0.007621,
      0.005579,
      0.00117,
      -0.00272,
      -0.005315,
      0.008201,
      -0.03151,
      0.000732,
      -0.033002,
      -0.023855,
      0.025392,
      0.001053,
      -0.020618,
      -0.009607,
      0.022708,
      0.031206,
      0.001124,
      0.024241,
      -0.008516,
      -0.039719,
      -0.005391,
      0.023421,
      0.024548,
      0.009624,
      -0.040295,
      -0.010787,
      -0.000532,
      -0.008446,
      -0.021349,
      0.031568,
      -0.033937,
      0.013626,
      -0.040157,
      -0.018931,
      -0.01124,
      -0.014276,
      0.012914,
      -0.015845,
      0.000625,
      -0.011257,
      0.02047,
      -0.022347,
      -0.001052,
      -0.006989,
      0.031163,
      -0.065861,
      0.036852,
      0.020882,
      -0.032718,
      -0.008362,
      -0.045252,
      -0.000407,
      -0.019352,
      0.015584,
      0.006056,
      0.007944,
      -0.021845,
      0.025019,
      -0.030173,
      -0.00822,
      -0.034593,
      -0.044031,
      -0.005306,
      -0.004708,
      -0.037446,
      -0.032556,
      -0.05138,
      0.032337,
      0.056602,
      -0.00726,
      -0.0335,
      0.046503,
      -0.013811,
      0.00953,
      0.031648,
      0.003635,
      0.033791,
      -0.005555,
      0.005084,
      0.018011,
      0.000682,
      -0.01522,
      0.004332,
      -0.017105,
      0.04218,
      -0.049892,
      -0.02477,
      0.013209,
      0.021505,
      0.007542,
      0.024866,
      0.045092,
      -0.00316,
      0.003243,
      0.014251,
      -0.040283,
      0.033689,
      0.01778,
      0.011813,
      -0.012476,
      -0.025916,
      -0.042643,
      0.028216,
      -0.02898,
      0.013349,
      0.030051,
      -0.018229,
      -0.041072,
      0.057492,
      -0.017007,
      -0.014946,
      0.005231,
      0.018741,
      0.02185,
      0.020084,
      -0.004679,
      -0.019227,
      0.019347,
      -0.012119,
      0.046105,
      -0.01706,
      -0.004471,
      0.044011,
      0.021876,
      -0.032831,
      0.046947,
      -0.030515,
      0.01741,
      0.028356,
      0.004464,
      -0.01682,
      -0.073933,
      0.021553,
      0.002815,
      -0.050004,
      -0.037868,
      0.043444,
      -0.025517,
      0.073641,
      0.019628,
      -0.000789,
      0.023372,
      0.011235,
      0.027277,
      0.017904,
      -0.022363,
      0.007284,
      -0.086356,
      -0.039482,
      0.039611,
      0.038473,
      -0.017099,
      0.01226,
      0.021619,
      -0.000351,
      -0.03797,
      0.048862,
      -0.047203,
      0.030157,
      -0.002995,
      -0.027156,
      -0.020206,
      0.013849,
      -0.005425,
      0.040821,
      0.005551,
      -0.015631,
      0.027462,
      0.084413,
      0.040558,
      0.011638,
      -0.030684,
      -0.088935,
      0.054212,
      -0.037357,
      0.001771,
      -0.005411,
      0.002615,
      0.009325,
      -0.025927,
      -0.005552,
      0.009012,
      -0.016217,
      -0.001183,
      0.043441,
      0.042375,
      -0.029621,
      0.017451,
      0.015595,
      0.004201,
      0.00338,
      -0.005682,
      -0.024633,
      0.017269,
      0.021642,
      0.014841,
      -0.073304,
      -0.023331,
      -0.031119,
      -0.022189,
      -0.013645,
      -0.075129,
      0.040364,
      0.009232,
      0.003321,
      0.012676,
      -0.043106,
      -0.010237,
      -0.015385,
      0.00182,
      -0.009585,
      0.004402,
      0.032177,
      0.012377,
      0.004368,
      0.005724,
      0.028747,
      0.002917,
      0.035475,
      -0.011853,
      -0.007463,
      0.020337,
      -0.02863,
      0.027663,
      0.017123,
      -0.027838,
      0.019108,
      -0.038886,
      -0.033287,
      0.021592,
      0.031061,
      -0.010521,
      -0.032792,
      -0.069175,
      0.04427,
      -0.01904,
      -0.03542,
      -0.014504,
      0.0133,
      0.024353,
      -0.048739,
      -0.042896,
      -0.025178,
      0.013591,
      -0.054468,
      -0.001351,
      0.017203,
      0.011556,
      0.03099,
      0.000953,
      -0.029184,
      -0.04253,
      -0.021834,
      0.037255,
      0.027739,
      0.001567,
      -0.013444,
      -0.014248,
      -0.067309,
      -0.06146,
      -0.014319,
      0.063415,
      -0.039012,
      -0.048564,
      0.053191,
      -0.013356,
      -0.005807,
      0.018872,
      0.00887,
      -0.011306,
      0.109684,
      -0.002446,
      -0.00174,
      0.03336,
      0.050709,
      0.023761,
      0.00367,
      0.012753,
      -0.00804,
      -0.039533,
      0.032672,
      -0.026323,
      0.002272,
      0.005046,
      0.061537,
      -0.018773,
      -0.041079,
      0.00118,
      0.011638,
      -0.132223,
      -0.012899,
      0.058379,
      0.006138,
      0.007492,
      0.023839,
      -0.046417,
      0.012876,
      -0.021023,
      0.051361,
      0.007887,
      -0.056679,
      -0.02209,
      -0.011153,
      0.018431,
      -0.025214,
      0.008363,
      -0.001112,
      0.039639,
      -0.029273,
      -0.049198,
      -0.05017,
      0.022515,
      -0.00116,
      0.031338,
      -0.024532,
      0.04141,
      -0.005318,
      -0.041866,
      0.020502,
      -0.01708,
      -0.015028,
      0.008864,
      0.007233,
      0.009955,
      -0.035239,
      0.021137,
      0.004618,
      -0.015845,
      -0.015905,
      -0.007167,
      0.000696,
      0.017531,
      0.00385,
      -0.017209,
      -0.019529,
      0.032751,
      0.018745,
      0.033387,
      -0.03655,
      0.000516,
      -0.027368,
      0.00096,
      -0.001991,
      -0.043913,
      0.03174,
      0.025981,
      0.040759,
      0.027026,
      -0.005493,
      -0.006453,
      -0.011496,
      0.04469,
      -0.020701,
      -0.041857,
      -0.017793,
      0.032631,
      0.018745,
      0.005828,
      -0.008813,
      0.022503,
      -0.071933,
      0.009554,
      0.009514,
      -0.025945,
      0.009906,
      0.064953,
      -0.023048,
      -0.037864,
      -0.098732,
      0.018773,
      0.009302,
      0.002425,
      0.014761,
      -0.015753,
      -0.024012,
      -0.016407,
      -0.004905,
      0.030304,
      0.24609,
      0.01521,
      0.006139,
      0.022363,
      0.075283,
      -0.006023,
      -0.002927,
      0.077647,
      0.006242,
      -0.043443,
      0.002247,
      -0.004096,
      0.007543,
      0.002127,
      0.004672,
      -0.014652,
      -0.049619,
      0.007507,
      0.069562,
      0.007442,
      0.007287,
      -0.048135,
      0.002968,
      -0.001406,
      -0.07304,
      -0.016459,
      -0.012365,
      0.006226,
      -0.060213,
      0.005596,
      -0.016017,
      0.029284,
      0.061584,
      -0.070256,
      -0.046466,
      -0.041402,
      0.03071,
      -0.012033,
      -0.040856,
      0.033591,
      -0.003997,
      0.023173,
      0.028252,
      -0.003956,
      -0.017721,
      -0.01,
      -0.02599,
      0.027418,
      -0.035427,
      -0.03077,
      -0.054886,
      -0.015227,
      -0.012664,
      -0.006551,
      -0.021215,
      -0.04367,
      -0.009226,
      -0.017373,
      -0.007298,
      0.006141,
      0.023089,
      0.028467,
      -0.025571,
      0.05092,
      0.003227,
      0.05645,
      -0.005502,
      -0.065947,
      0.017616,
      0.083539,
      0.00012,
      0.015183,
      -0.001725,
      -0.032489,
      0.025612,
      -0.021338,
      0.072398,
      0.03327,
      -0.001196,
      0.011523,
      -0.01489,
      0.004429,
      -0.021352,
      0.009819,
      0.02076,
      -0.019937,
      -0.022133,
      0.068138,
      -0.016124,
      -0.033208,
      0.001814,
      -0.035904,
      0.024973,
      0.024906,
      0.023056,
      0.030587,
      0.040515,
      -0.020339,
      -0.010188,
      -0.012526,
      0.012963,
      0.003829,
      0.017041,
      0.004667,
      0.068307,
      -0.019953,
      -0.01002,
      0.014824,
      0.006288,
      0.062591,
      -0.045847,
      0.020874,
      0.012417,
      -0.023611,
      -0.01518,
      0.006858,
      0.016864,
      0.001689,
      0.045077,
      0.019743,
      -0.010784,
      -0.017065,
      0.031014,
      0.020795,
      0.024669,
      -0.062365,
      -0.022868,
      -0.006911,
      -0.043657,
      0.023338,
      0.04169,
      -0.027844,
      -0.002577,
      0.047768,
      0.014697,
      0.017421,
      0.014214,
      0.05762,
      0.005572,
      0.014671,
      -0.007855,
      -0.041806,
      -0.000109,
      0.031423,
      0.001228,
      0.026014,
      -0.019434,
      -0.008853,
      -0.023579,
      0.01598,
      0.043443,
      0.067039,
      0.008486,
      -0.049492,
      -0.023449,
      -0.042192,
      -0.009307,
      -0.006752,
      0.022352,
      0.002247,
      -0.035329,
      0.030574,
      0.012973,
      0.034725,
      0.016256,
      -0.044776,
      0.041054,
      0.003744,
      -0.016089,
      0.025033,
      -0.011719,
      -0.049577,
      -0.048369,
      0.051522,
      -0.036513,
      -0.005279,
      -0.035689,
      0.004723,
      0.026434,
      -0.034543,
      0.00236,
      -0.000245,
      -0.033187,
      0.013715,
      0.010265,
      0.013842,
      -0.009228,
      -0.014038,
      0.041124,
      -0.02287,
      -0.015751,
      0.128185,
      -0.037565,
      -0.000369,
      0.034237,
      -0.018744,
      0.04803,
      0.015426,
      0.011454,
      0.008933,
      0.005899,
      0.031037,
      -0.000522,
      0.027596,
      -0.071718,
      -0.025518,
      -0.000727,
      -0.011539,
      -0.040311,
      0.03324,
      0.02836,
      0.040448,
      0.007259,
      0.015474,
      0.002277,
      -0.002055,
      0.038073,
      0.059268,
      0.022582,
      0.022661,
      -0.083254,
      -0.019394,
      0.01797,
      -0.034789,
      0.037043,
      0.014874,
      0.006826,
      -0.027825,
      0.008662,
      0.002127,
      -0.004359,
      0.01571,
      0.046065,
      -0.049227,
      0.000478,
      -0.018197,
      0.033129,
      0.006435,
      -0.044308,
      -0.007667,
      0.008389,
      -0.025324,
      0.052547,
      0.053411,
      -0.011964,
      0.012018,
      -0.021087,
      -0.024894,
      -0.030587,
      0.018304,
      -0.01734,
      -0.00805,
      0.018209,
      -0.049982,
      -0.026674,
      0.034677,
      -0.021214,
      -0.037383,
      -0.046766,
      0.008676,
      -0.003467,
      0.023006,
      -0.017439,
      -0.013255,
      -0.00978,
      -0.05828,
      0.013186,
      -0.027678,
      -0.046949,
      -0.007296,
      -0.039088,
      -0.007543,
      0.021296,
      -0.027174,
      0.0047,
      0.011873,
      0.006923,
      0.005965,
      0.020114,
      0.016973,
      -0.039931,
      0.011385,
      0.059127,
      -0.020583,
      0.04619,
      0.036614,
      0.025871,
      -0.026091,
      0.003484,
      -0.019339,
      0.000791,
      0.00492,
      -0.021383,
      0.005223,
      -0.009264,
      0.0036,
      -0.020176,
      0.038549,
      0.002273,
      -0.011047,
      -0.000935,
      0.033581,
      -0.014732,
      -0.040753,
      -0.031116,
      0.019303,
      -0.01125,
      -0.055547,
      -0.019654,
      0.053247,
      0.036135,
      -0.070077,
      -0.003286,
      0.02872,
      0.036642,
      -0.02857,
      0.07001,
      -0.022234,
      0.021306,
      -0.037393,
      -0.016046,
      -0.012599,
      -0.031229,
      -0.007414,
      0.004031,
      0.013077,
      0.004612,
      -0.029408,
      -0.038945,
      0.017747,
      -0.072634,
      0.025245,
      -0.007909,
      -0.039617,
      -0.005606,
      0.017726,
      0.03377,
      -0.019893,
      0.028148,
      -0.033593,
      0.035271,
      -0.001538,
      0.038928,
      -0.013337,
      0.022669,
      -0.038824,
      0.002048,
      -0.037946,
      -0.022907,
      0.005961,
      -0.044421,
      -0.025184,
      -0.023243,
      -0.047249,
      0.048588,
      -0.017942,
      -0.027402,
      0.020549,
      0.016031,
      -0.003628,
      -0.022809,
      0.068126,
      -0.00109,
      -0.054923,
      0.051204,
      -0.004447,
      0.04075,
      -0.041914,
      0.029642,
      -0.026405,
      -0.031302,
      0.046367,
      0.016042,
      -0.002142,
      -0.024946,
      -0.012761,
      0.006896,
      0.039626,
      0.004438,
      -0.018324,
      -0.036224,
      -0.021142,
      -0.035955,
      -0.016827,
      -0.017286,
      0.01405,
      -0.055637,
      0.01846,
      -0.00114,
      0.002671,
      -0.0094,
      -0.012186,
      -0.005011,
      -0.008035,
      -0.128594,
      0.015954,
      0.023278,
      0.027039,
      -0.015292,
      0.013852,
      0.001947,
      -0.025843,
      -0.013032,
      -0.055496,
      -0.025726,
      0.015534,
      -0.002165,
      -0.038921,
      0.011361,
      0.061767,
      -0.030773,
      -0.001286,
      -0.042355,
      -0.017127,
      0.003882,
      0.002853,
      0.039932,
      -0.011427,
      0.027639,
      0.007168,
      -0.084583,
      -0.023841,
      -0.021294,
      0.001173,
      0.023097,
      -0.031116,
      0.015161,
      0.001398,
      -0.015808,
      0.009903,
      0.000888,
      0.03428,
      -0.054299,
      0.003638,
      -0.058791,
      0.030553,
      -0.041521,
      0.013407,
      -0.011011,
      0.017991,
      -0.042745,
      -0.044874,
      -0.016455,
      0.017552,
      -0.025216,
      0.011967,
      -0.007266,
      0.03261,
      -0.0158,
      0.009454,
      -0.033013,
      0.021892,
      -0.056698,
      0.042504,
      -0.002969,
      0.052306,
      0.005862,
      -0.005619,
      0.002466,
      0.020303,
      -0.046588,
      0.025453,
      0.045232,
      0.018653,
      0.016616,
      -0.018967,
      -0.054551,
      -0.013927,
      0.038964,
      0.012363,
      0.018126,
      -0.007733,
      -0.01115,
      0.015577,
      -0.026245,
      -0.025446,
      -0.062252,
      0.101063,
      0.029386,
      0.002609,
      0.019799,
      0.03151,
      -0.062797,
      0.02283,
      -0.007495,
      -0.032948,
      -0.028614,
      0.088061,
      -0.011604,
      0.019105,
      -0.013438,
      -0.000963,
      0.006921,
      -0.01292,
      -0.038437,
      0.004108,
      0.000833,
      0.01906,
      0.01334,
      -0.01781,
      0.019962,
      0.003601,
      0.036139,
      -0.025765,
      -0.023562,
      0.004254,
      -0.005371,
      -0.003964,
      -0.081454,
      -0.025864,
      0.019899,
      0.010421,
      -0.028374,
      -0.010497,
      0.027708,
      -0.008644,
      0.002444,
      -0.011829,
      0.036741,
      0.037533,
      0.036191,
      0.038477,
      0.025389,
      -0.02984,
      0.024795,
      -0.035304,
      -0.043745,
      -0.00997,
      0.016027,
      -0.043404,
      -0.039942,
      0.064759,
      -0.002541,
      -0.010155,
      0.000216,
      0.002635,
      -0.023942,
      0.000286,
      0.000617,
      -0.018011,
      -0.029836,
      -0.014978,
      0.020171,
      -0.009494,
      0.032779,
      0.017716,
      -0.013391,
      0.01302,
      -0.003236,
      0.035042,
      -0.033567,
      0.037544,
      -0.022985,
      0.035217,
      -0.024882,
      -0.01682,
      -0.013187,
      -0.036156,
      -0.014032,
      0.03589,
      -0.009298,
      0.00024,
      -0.021799,
      0.031488,
      -0.004459,
      0.037152,
      -0.019849,
      0.009541,
      0.0285,
      -0.012972,
      0.004888,
      -0.011636,
      0.034458,
      -0.03653,
      0.024066,
      0.007129,
      0.036607,
      0.010952,
      0.030057,
      -0.000713,
      0.019344,
      0.009455,
      0.04624,
      0.012607,
      -0.028502,
      -0.004204,
      0.021245,
      0.003724,
      -0.008078,
      -0.010405,
      0.011979,
      -0.008071,
      -0.01794,
      0.030246,
      0.017203,
      -0.025828,
      0.002292,
      -0.016357,
      -0.01512,
      0.014124,
      -0.007639,
      -0.021482,
      0.007613,
      0.034576,
      -0.012501,
      -0.00351,
      -0.010337,
      0.032226,
      -0.000548,
      -0.00342,
      0.054467,
      0.022033,
      0.02322,
      -0.020595,
      0.054294,
      0.014077,
      -0.011149,
      -0.061206,
      -0.031438,
      -0.015246,
      0.025479,
      -0.017117,
      0.014907,
      -0.030334,
      -0.045093,
      -0.055424,
      -0.025519,
      0.012829,
      0.018897,
      -0.006026,
      -0.013341,
      0.023536,
      -0.020004,
      0.008265,
      0.006456,
      0.006685,
      0.031243,
      -0.012576
    ]
  },
  {
    "id": "v5-default.json-0",
    "content": "# Application configuration\nBreadcrumb: Application configuration\nCovers: Environments | Default configuration | host, port, public | paginate | origins | authentication | Databases\nTopics: application, create, authentication, jwt, oauth, facebook, database, adapter, mongodb, postgresql, pagination, http, client, configuration, cli, generate, cors, login\n\n## Environments\n\nThe `NODE_ENV` environment variable determines which configuration file is used. For example, setting `NODE_ENV=development` (in a single command e.g. as `NODE_ENV=development npm run dev`) will first load `config/default.json` and then merge it with `config/development.json`. If no environment is set, `config/default.json` will be used.\n\n## Default configuration\n\nThe application uses the following configuration values.\n\n### host, port, public\n\nThese options are used directly in the generated application\n\n- `host` - Is the hostname of the API server\n- `port` - The port it listens on\n- `public` - The name of the folder static assets are hosted in\n\n### paginate\n\n`paginate` sets the default and maximum page size when using [pagination](../../api/databases/common.md#pagination) with a [database service](../../api/databases/adapters.md).\n\n```json\n{\n  \"paginate\": {\n    \"default\": 10,\n    \"max\": 100\n  }\n}\n```\n\n### origins\n\n`origins` contains a list of frontend URLs that requests can be made from. This is used to configure cross origin (CORS) policies and oAuth (Twitter, Facebook etc.) login redirects. For example to develop locally with a [create-react-app](https://create-react-app.dev/) frontend and deploy to `app.feathersjs.com`:\n\n```json\n{\n  \"origins\": [\"http://localhost:3030\", \"http://localhost:5000\", \"https://app.feathersjs.com\"]\n}\n```\n\n### authentication\n\n`authentication` contains the configuration for the authentication service and strategies. See the [authentication service configuration](../../api/authentication/service.md#configuration) for more information. For strategy specific settings refer to the [jwt](../../api/authentication/jwt.md#options), [local](../../api/authentication/local.md#options) and [oAuth](../../api/authentication/oauth.md#options) API documentation.\n\n### Databases\n\n<DatabaseBlock global-id=\"sql\">\n\nDepending on the SQL database selected the `<database>` setting contains a `connection` with the database driver package name and a `client` option with the database connection string.\n\n```json\n{\n  \"postgresql\": {\n    \"connection\": \"pg\",\n    \"client\": \"postgres://postgres:@localhost:5432/feathers-chat\"\n  }\n}\n```\n\nFor additional configuration see the [database connection guide](./databases.md#connection).\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\nWhen selecting MongoDB, the `mongodb` setting contains the MongoDB connection string.\n\n</DatabaseBlock>",
    "rawContent": "## Environments\n\nThe `NODE_ENV` environment variable determines which configuration file is used. For example, setting `NODE_ENV=development` (in a single command e.g. as `NODE_ENV=development npm run dev`) will first load `config/default.json` and then merge it with `config/development.json`. If no environment is set, `config/default.json` will be used.\n\n## Default configuration\n\nThe application uses the following configuration values.\n\n### host, port, public\n\nThese options are used directly in the generated application\n\n- `host` - Is the hostname of the API server\n- `port` - The port it listens on\n- `public` - The name of the folder static assets are hosted in\n\n### paginate\n\n`paginate` sets the default and maximum page size when using [pagination](../../api/databases/common.md#pagination) with a [database service](../../api/databases/adapters.md).\n\n```json\n{\n  \"paginate\": {\n    \"default\": 10,\n    \"max\": 100\n  }\n}\n```\n\n### origins\n\n`origins` contains a list of frontend URLs that requests can be made from. This is used to configure cross origin (CORS) policies and oAuth (Twitter, Facebook etc.) login redirects. For example to develop locally with a [create-react-app](https://create-react-app.dev/) frontend and deploy to `app.feathersjs.com`:\n\n```json\n{\n  \"origins\": [\"http://localhost:3030\", \"http://localhost:5000\", \"https://app.feathersjs.com\"]\n}\n```\n\n### authentication\n\n`authentication` contains the configuration for the authentication service and strategies. See the [authentication service configuration](../../api/authentication/service.md#configuration) for more information. For strategy specific settings refer to the [jwt](../../api/authentication/jwt.md#options), [local](../../api/authentication/local.md#options) and [oAuth](../../api/authentication/oauth.md#options) API documentation.\n\n### Databases\n\n<DatabaseBlock global-id=\"sql\">\n\nDepending on the SQL database selected the `<database>` setting contains a `connection` with the database driver package name and a `client` option with the database connection string.\n\n```json\n{\n  \"postgresql\": {\n    \"connection\": \"pg\",\n    \"client\": \"postgres://postgres:@localhost:5432/feathers-chat\"\n  }\n}\n```\n\nFor additional configuration see the [database connection guide](./databases.md#connection).\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\nWhen selecting MongoDB, the `mongodb` setting contains the MongoDB connection string.\n\n</DatabaseBlock>",
    "breadcrumb": "Application configuration",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/default.json.md",
    "heading": "Application configuration",
    "subHeadings": [
      "Environments",
      "Default configuration",
      "host, port, public",
      "paginate",
      "origins",
      "authentication",
      "Databases"
    ],
    "hasCode": true,
    "codeLanguages": [
      "json",
      "text"
    ],
    "tokens": 610,
    "category": "cli",
    "tags": [
      "application",
      "create",
      "authentication",
      "jwt",
      "oauth",
      "facebook",
      "database",
      "adapter",
      "mongodb",
      "postgresql",
      "pagination",
      "http",
      "client",
      "configuration",
      "cli",
      "generate",
      "cors",
      "login"
    ],
    "embedding": [
      -0.000721,
      0.011045,
      -0.080205,
      0.021202,
      -0.04178,
      -0.009828,
      0.000849,
      -0.033367,
      0.037922,
      0.015521,
      0.00528,
      -0.004719,
      -0.005921,
      0.005952,
      -0.018254,
      -0.000832,
      -0.025674,
      -0.003634,
      -0.016162,
      0.00855,
      -0.025595,
      0.00197,
      0.034148,
      0.000034,
      0.019947,
      0.014453,
      -0.003841,
      -0.043263,
      0.001751,
      0.012605,
      0.002778,
      -0.021851,
      -0.004577,
      0.012686,
      0.008939,
      -0.022214,
      -0.034394,
      0.021542,
      -0.049984,
      0.021147,
      0.012519,
      -0.004275,
      0.009539,
      -0.003798,
      -0.007731,
      -0.055488,
      -0.004355,
      -0.003112,
      -0.009616,
      -0.013801,
      -0.036994,
      -0.020025,
      0.018846,
      -0.052011,
      0.021691,
      0.048863,
      -0.032322,
      -0.021195,
      -0.056258,
      -0.016151,
      -0.023724,
      0.02252,
      -0.007624,
      -0.008938,
      -0.028207,
      0.011527,
      -0.011402,
      -0.01602,
      -0.018791,
      -0.046972,
      -0.019668,
      -0.001948,
      -0.035121,
      -0.004827,
      -0.050536,
      -0.001628,
      0.063507,
      -0.008113,
      -0.020313,
      -0.003927,
      -0.015155,
      0.026787,
      0.012037,
      0.001516,
      0.013273,
      -0.017476,
      -0.055186,
      0.024113,
      0.043832,
      -0.006264,
      -0.018868,
      -0.015569,
      0.083539,
      -0.062271,
      -0.023225,
      0.032184,
      -0.007818,
      0.022861,
      -0.001821,
      0.028098,
      0.006223,
      -0.019151,
      0.007187,
      -0.012066,
      0.016715,
      0.043251,
      0.019224,
      0.011901,
      -0.025112,
      -0.045823,
      -0.007263,
      0.015901,
      0.030421,
      0.001485,
      -0.013056,
      -0.048156,
      0.021473,
      -0.018839,
      -0.039115,
      -0.007034,
      -0.008533,
      0.017604,
      0.031099,
      -0.006743,
      -0.033958,
      -0.016771,
      -0.000433,
      0.054129,
      0.018927,
      0.036619,
      0.014228,
      -0.038554,
      -0.02945,
      0.004963,
      -0.021268,
      0.007839,
      0.052186,
      0.046084,
      0.017912,
      -0.061128,
      0.023054,
      0.002647,
      -0.008872,
      -0.027347,
      0.037899,
      0.002584,
      0.093869,
      0.004758,
      -0.002836,
      -0.007727,
      -0.019051,
      -0.008314,
      0.020981,
      -0.024362,
      -0.000454,
      -0.050515,
      0.015747,
      0.022334,
      0.072554,
      -0.006181,
      -0.01502,
      0.05517,
      -0.056311,
      -0.002891,
      0.035089,
      -0.034955,
      0.038512,
      0.005599,
      -0.032921,
      -0.059227,
      0.040032,
      -0.017468,
      0.005112,
      -0.020392,
      0.003483,
      0.013863,
      0.04505,
      0.014286,
      -0.013324,
      -0.015802,
      -0.06379,
      0.013941,
      -0.002905,
      -0.004767,
      -0.00558,
      -0.01594,
      -0.012988,
      -0.026731,
      0.01063,
      0.02709,
      0.013166,
      -0.001583,
      0.057199,
      -0.004625,
      -0.002639,
      0.000007,
      -0.006697,
      0.034828,
      0.012413,
      -0.030944,
      0.004127,
      0.012936,
      0.033557,
      0.046069,
      -0.041564,
      0.013048,
      -0.026738,
      -0.045302,
      0.024302,
      -0.046346,
      0.007088,
      -0.001947,
      0.004501,
      0.016316,
      -0.046483,
      0.010578,
      0.009033,
      -0.03049,
      -0.005749,
      -0.011652,
      0.005205,
      0.004875,
      -0.016591,
      -0.017995,
      0.044801,
      -0.006168,
      0.025365,
      -0.006967,
      0.019961,
      0.030841,
      0.00053,
      0.024345,
      0.053365,
      -0.001584,
      -0.000498,
      -0.026117,
      -0.020723,
      0.008959,
      0.013093,
      -0.016764,
      -0.002861,
      -0.036611,
      0.029486,
      0.003346,
      -0.004454,
      -0.003468,
      -0.039026,
      0.020137,
      -0.020649,
      -0.002298,
      -0.015768,
      0.011586,
      -0.039308,
      -0.037594,
      0.041218,
      -0.009656,
      0.021828,
      0.008976,
      -0.007239,
      -0.030042,
      -0.015193,
      0.006159,
      0.021536,
      0.027629,
      -0.024924,
      -0.00433,
      -0.04531,
      -0.044503,
      0.002745,
      0.015548,
      -0.035676,
      0.024489,
      0.044761,
      -0.008312,
      -0.024239,
      0.009583,
      0.011992,
      -0.07693,
      0.091447,
      0.016499,
      -0.009422,
      0.016579,
      0.0249,
      -0.00018,
      -0.007208,
      -0.006232,
      0.011107,
      0.007635,
      0.002964,
      -0.000371,
      0.005677,
      0.039617,
      0.056136,
      -0.010161,
      -0.011263,
      -0.054495,
      -0.030171,
      -0.131798,
      -0.004078,
      0.042416,
      0.06072,
      0.01157,
      0.004248,
      -0.031936,
      -0.028863,
      -0.0327,
      0.005053,
      0.009922,
      -0.052713,
      -0.028285,
      0.007403,
      0.042239,
      -0.038251,
      0.017622,
      0.003231,
      0.05847,
      -0.028981,
      -0.047316,
      -0.068095,
      0.002653,
      0.066577,
      0.019639,
      0.016624,
      0.060489,
      0.010754,
      -0.04875,
      -0.020695,
      0.012442,
      -0.002082,
      0.012007,
      -0.004824,
      -0.008704,
      -0.014107,
      0.009007,
      -0.004831,
      0.010152,
      0.002541,
      0.007176,
      0.061632,
      -0.004984,
      0.008482,
      0.043897,
      -0.028538,
      0.020712,
      -0.008163,
      -0.022336,
      -0.032308,
      0.01389,
      -0.014359,
      0.017417,
      0.037801,
      -0.051275,
      0.005775,
      -0.016692,
      0.018466,
      -0.01206,
      -0.010076,
      0.015994,
      0.003018,
      0.059143,
      -0.024769,
      -0.032796,
      -0.010411,
      0.042371,
      0.016798,
      0.044213,
      -0.049725,
      0.009353,
      -0.037544,
      0.031504,
      0.029119,
      -0.01241,
      0.032507,
      0.00417,
      -0.01897,
      -0.027874,
      -0.089944,
      0.033636,
      0.026401,
      0.025907,
      0.015664,
      -0.052255,
      -0.078812,
      -0.015109,
      0.003731,
      0.004539,
      0.249667,
      0.040772,
      0.005286,
      0.015183,
      0.062716,
      -0.039629,
      0.017788,
      0.049111,
      -0.007676,
      0.010205,
      0.005203,
      0.001643,
      0.019216,
      -0.01028,
      -0.003469,
      -0.010953,
      -0.065942,
      -0.005792,
      0.025695,
      -0.032085,
      0.00718,
      -0.030289,
      0.034599,
      0.021695,
      -0.088768,
      -0.028439,
      -0.017076,
      0.034932,
      -0.037803,
      0.021263,
      -0.053522,
      -0.015144,
      0.014568,
      -0.047108,
      -0.073197,
      0.011611,
      -0.016649,
      -0.000859,
      0.012527,
      0.036816,
      -0.010868,
      -0.018282,
      -0.00702,
      -0.008843,
      0.003801,
      -0.008553,
      0.013887,
      -0.006425,
      -0.034752,
      0.016863,
      -0.063253,
      -0.019673,
      -0.025421,
      0.016983,
      -0.005378,
      -0.051172,
      -0.015993,
      -0.034708,
      -0.018558,
      0.012821,
      0.065054,
      0.007763,
      -0.057769,
      0.017096,
      -0.016475,
      0.00922,
      0.034403,
      -0.07456,
      0.023449,
      0.049648,
      -0.02558,
      0.029465,
      0.022004,
      0.00163,
      0.032282,
      0.008764,
      0.052615,
      0.057757,
      -0.059884,
      0.017971,
      -0.007622,
      -0.002813,
      -0.014405,
      0.03342,
      0.016249,
      0.019236,
      -0.033746,
      0.041494,
      0.016425,
      -0.039422,
      0.005509,
      -0.019585,
      0.002587,
      0.021694,
      -0.022968,
      0.018538,
      0.001776,
      0.000214,
      0.012626,
      -0.030667,
      0.010562,
      -0.013758,
      -0.032371,
      0.000935,
      0.044188,
      -0.023418,
      0.014523,
      -0.018858,
      0.018302,
      0.039054,
      -0.072056,
      0.010643,
      -0.008899,
      -0.024949,
      0.022906,
      -0.0059,
      0.029829,
      0.005069,
      0.047189,
      0.030486,
      0.025531,
      0.010628,
      0.013325,
      -0.005434,
      0.006796,
      -0.041981,
      0.004714,
      -0.023364,
      -0.025748,
      0.045685,
      0.056913,
      -0.044474,
      -0.025114,
      0.030233,
      -0.013184,
      -0.003302,
      0.036116,
      0.031067,
      -0.000081,
      0.010261,
      -0.024278,
      -0.045507,
      -0.009569,
      0.027915,
      -0.025525,
      0.004466,
      0.058181,
      -0.006887,
      0.022005,
      -0.006181,
      0.050172,
      0.065959,
      0.008715,
      -0.013193,
      -0.011971,
      -0.009884,
      0.013203,
      0.033743,
      0.015751,
      0.011618,
      -0.034207,
      0.014893,
      0.015659,
      0.033013,
      0.022307,
      -0.012877,
      0.030375,
      0.027499,
      -0.013789,
      -0.052627,
      0.038036,
      -0.048673,
      -0.040558,
      0.034836,
      -0.001448,
      0.010062,
      -0.01931,
      -0.003847,
      -0.008484,
      -0.038296,
      0.032011,
      0.013912,
      -0.012655,
      -0.051155,
      0.003131,
      0.031957,
      -0.00272,
      -0.022763,
      0.043476,
      -0.022235,
      -0.012039,
      0.124002,
      -0.019213,
      -0.001844,
      0.092618,
      -0.014175,
      -0.000827,
      0.061488,
      -0.033006,
      0.045744,
      -0.011744,
      -0.003201,
      -0.020691,
      -0.002357,
      0.01035,
      -0.05121,
      -0.042665,
      -0.016327,
      -0.023987,
      0.01561,
      0.023237,
      0.027966,
      -0.01494,
      -0.002596,
      0.065288,
      0.007724,
      0.047455,
      0.098103,
      0.008639,
      0.002293,
      -0.067087,
      0.028396,
      0.022821,
      -0.081338,
      0.007434,
      0.001408,
      0.018816,
      -0.021041,
      0.024897,
      -0.019877,
      -0.006975,
      0.00028,
      -0.014574,
      -0.072237,
      0.003638,
      0.000503,
      0.008474,
      0.01772,
      0.032844,
      0.001499,
      0.024245,
      -0.012082,
      0.053993,
      0.053158,
      -0.001293,
      0.013074,
      -0.013118,
      -0.001697,
      -0.010459,
      0.005859,
      -0.01561,
      -0.019181,
      -0.02554,
      -0.060602,
      -0.001077,
      0.026525,
      0.048464,
      -0.020584,
      -0.036292,
      0.008825,
      -0.003355,
      0.030731,
      -0.007114,
      -0.000332,
      0.002331,
      -0.043063,
      0.028078,
      -0.067163,
      -0.032315,
      -0.01086,
      -0.016218,
      0.026021,
      -0.007245,
      -0.039184,
      -0.002644,
      -0.040942,
      -0.001297,
      -0.022993,
      0.034589,
      0.003477,
      -0.05457,
      -0.009398,
      0.008347,
      -0.004484,
      0.022839,
      0.040868,
      0.043883,
      -0.026948,
      -0.002765,
      -0.028214,
      -0.000089,
      -0.006686,
      -0.028814,
      -0.028569,
      0.009599,
      0.004997,
      -0.002312,
      0.004343,
      0.010658,
      0.049265,
      0.01519,
      0.031829,
      -0.005386,
      -0.048451,
      -0.01205,
      0.055987,
      0.002273,
      -0.023687,
      -0.030576,
      0.016455,
      0.020098,
      0.004111,
      0.018067,
      0.005203,
      0.022943,
      -0.027588,
      0.055972,
      -0.06347,
      0.006442,
      0.013767,
      0.024173,
      0.010799,
      -0.030352,
      0.020634,
      0.016836,
      -0.014057,
      0.000197,
      -0.028976,
      -0.00986,
      0.042776,
      -0.032106,
      -0.031318,
      0.012224,
      -0.036465,
      0.004417,
      -0.02156,
      -0.005566,
      -0.006782,
      0.013527,
      -0.018405,
      0.009093,
      -0.046449,
      0.076762,
      -0.000402,
      -0.002854,
      -0.040896,
      0.025678,
      -0.021798,
      -0.013171,
      -0.000628,
      -0.007894,
      0.016005,
      -0.036724,
      -0.030611,
      0.043216,
      -0.006535,
      -0.026655,
      0.029023,
      -0.003764,
      -0.005584,
      -0.017155,
      0.019711,
      0.016316,
      -0.022222,
      0.023105,
      -0.01001,
      0.034503,
      -0.034119,
      0.034458,
      -0.004857,
      -0.028303,
      -0.011835,
      -0.008108,
      0.021639,
      -0.020769,
      0.009744,
      -0.022679,
      0.011486,
      0.001946,
      -0.0128,
      -0.011726,
      -0.03289,
      -0.054088,
      -0.007871,
      -0.036297,
      0.010308,
      0.036257,
      -0.004163,
      -0.004721,
      0.033574,
      0.020515,
      -0.009394,
      -0.010666,
      0.003839,
      -0.134931,
      0.016335,
      0.010001,
      0.040849,
      -0.04183,
      -0.003778,
      -0.011159,
      -0.028211,
      0.014403,
      -0.016572,
      -0.032217,
      -0.042194,
      0.027345,
      -0.005418,
      0.029782,
      0.013743,
      -0.018154,
      -0.04871,
      -0.021371,
      -0.029957,
      -0.020655,
      -0.006669,
      0.023698,
      0.008269,
      -0.016941,
      -0.014005,
      -0.051929,
      -0.009994,
      -0.018609,
      0.030934,
      0.022765,
      0.01449,
      0.007843,
      0.029769,
      -0.061619,
      0.02638,
      0.011177,
      -0.00537,
      -0.038606,
      0.027669,
      -0.041016,
      0.019806,
      -0.038563,
      0.015438,
      0.026575,
      0.043114,
      -0.014643,
      -0.042847,
      -0.025071,
      0.011759,
      -0.016229,
      0.023568,
      -0.031117,
      0.007102,
      0.004103,
      -0.005516,
      0.034317,
      -0.041144,
      -0.063973,
      0.028625,
      -0.015427,
      0.021614,
      -0.022229,
      -0.042618,
      -0.015811,
      0.015475,
      -0.075784,
      0.017067,
      0.001949,
      0.006938,
      -0.003596,
      -0.035531,
      -0.027295,
      0.028401,
      0.018796,
      -0.024194,
      0.017971,
      -0.013582,
      -0.016553,
      0.007263,
      -0.056346,
      -0.010873,
      -0.049635,
      0.09967,
      0.05678,
      0.033291,
      0.03098,
      -0.001614,
      0.008074,
      -0.029877,
      -0.073793,
      -0.040281,
      -0.012538,
      0.034438,
      0.003472,
      0.038312,
      -0.015842,
      -0.012756,
      -0.01386,
      -0.005382,
      -0.029661,
      -0.014055,
      0.024344,
      0.009641,
      -0.040703,
      0.01142,
      0.000067,
      0.017845,
      0.011299,
      -0.00646,
      0.019902,
      0.002086,
      -0.033202,
      -0.010229,
      -0.068027,
      -0.0006,
      0.017482,
      0.002417,
      -0.022726,
      -0.010443,
      -0.001799,
      0.010076,
      -0.00672,
      -0.021426,
      0.012215,
      0.013988,
      0.030531,
      0.036895,
      0.057309,
      -0.038814,
      0.017791,
      -0.084739,
      -0.020094,
      -0.006914,
      0.011722,
      -0.018487,
      -0.053853,
      0.05519,
      -0.024757,
      -0.049267,
      -0.045176,
      -0.02251,
      -0.017618,
      -0.006549,
      0.01256,
      0.001338,
      0.034081,
      -0.015091,
      -0.00057,
      -0.042544,
      0.006578,
      -0.017011,
      -0.029096,
      0.047954,
      0.024923,
      0.016318,
      -0.012406,
      0.048225,
      -0.021707,
      0.069666,
      0.011894,
      -0.024529,
      0.003477,
      -0.037404,
      -0.007811,
      0.006357,
      0.008285,
      -0.021659,
      -0.030213,
      0.003067,
      0.045639,
      0.053647,
      -0.029395,
      -0.004214,
      0.035634,
      0.01516,
      0.016,
      -0.017559,
      0.046548,
      -0.005949,
      0.038371,
      0.020957,
      0.052014,
      0.029467,
      0.014182,
      0.015382,
      0.0119,
      -0.009388,
      0.040792,
      -0.014061,
      -0.046794,
      -0.018484,
      0.043342,
      0.007383,
      -0.010902,
      0.038881,
      -0.007307,
      -0.042572,
      -0.005067,
      0.07063,
      0.007106,
      0.010122,
      0.001551,
      0.005788,
      -0.011883,
      -0.010267,
      -0.034751,
      -0.002257,
      0.018527,
      0.061854,
      -0.007129,
      -0.019065,
      -0.013425,
      0.046322,
      -0.013714,
      0.012736,
      0.02136,
      -0.010631,
      0.017966,
      -0.046234,
      0.040683,
      -0.004552,
      0.002768,
      -0.061416,
      -0.036865,
      -0.026575,
      0.027065,
      0.014438,
      0.02787,
      0.004133,
      -0.047632,
      -0.059404,
      0.004703,
      -0.008285,
      0.079443,
      -0.009696,
      -0.005749,
      -0.010119,
      -0.0288,
      0.016336,
      0.007986,
      0.036476,
      0.041297,
      -0.003046
    ]
  },
  {
    "id": "v5-hook-0",
    "content": "# Hooks\nBreadcrumb: Hooks\nCovers: Generating a hook | Hook name | Hook types | Around hooks | Before, after, error | Context types | Registering hooks | Profiling example\nTopics: hooks, services, application, context, params, around hooks, error hooks, hook context, create, update, errors, types, declarations, generator, generate, logger, users\n\n## Generating a hook\n\nA new hook can be generated via\n\n```\nnpx feathers generate hook\n```\n\n## Hook name\n\nThe hook generator will first ask for a name. Based on the name it will create a kebab-cased filename in the `hooks/` folder that exports a camelCased hook function. For example a name of `my fancy Hook` will create a `src/my-fancy-hook.ts` file that exports a `myFancyHook` [hook function](../../api/hooks.md#hook-functions).\n\n## Hook types\n\nThere are two hook types that can be generated.\n\n> **tip:**\n> \n> For more information see the [hooks API documentation](../../api/hooks.md).\n>\n\n### Around hooks\n\n[Around hooks](../../api/hooks.md#around) allow to control the entire `before`, `after` and `error` flow in a single function. An `around` hook is an `async` function that accepts two arguments:\n\n- The [hook context](../../api/hooks.md#hook-context)\n- An asynchronous `next` function. Somewhere in the body of the hook function, there is a call to `await next()`, which calls the `next` hooks OR the original function if all other hooks have run.\n\n```ts\nimport type { HookContext, NextFunction } from '../declarations'\n\nexport const myFancyHook = async (context: HookContext, next: NextFunction) => {\n  console.log(`Running hook ${name} on ${context.path}.${context.method}`)\n  await next()\n  // Do things after here\n}\n```\n\nYou can wrap the `await next()` in a `try/catch` block to also handle errors.\n\n### Before, after, error\n\n[Before, after or error hooks](../../api/hooks.md#before-after-and-error) are `async` functions that take the [hook context](#hook-context) as the parameter.\n\n```ts\nimport type { HookContext } from '../declarations'\n\nexport const myFancyHook = async (context: HookContext) => {\n  console.log(`Running hook ${name} on ${context.path}.${context.method}`)\n}\n```\n\n## Context types\n\nIf the hook is for a specific service, you can pass the service as a generic to the [HookContext](./declarations.md#hook-context) type which will give you the correct types for [context.data](../../api/hooks.md#contextdata), [context.result](../../api/hooks.md#contextresult) and [context.params](../../api/hooks.md#contextparams):\n\n```ts\nimport type { UserService } from '../services/users/users'\nimport type { HookContext } from '../declarations'\n\nexport const myFancyUserHook = async (context: HookContext<UserService>) => {\n  console.log(`Running hook ${name} on ${context.path}.${context.method}`)\n}\n```\n\n## Registering hooks\n\nA generated hook can be registered as an [application hook](./app.md#application-hooks) or as a [service hook](./service.md#registering-hooks). Also see the [hook registration API documentation](../../api/hooks.md#registering-hooks).\n\n## Profiling example\n\nTo log some basic profiling information like which method was called and how long it took to run you can create a new _around_ hook called `profiler` via\n\n```\nnpx feathers generate hook\n```\n\nThen update `src/hooks/profiler.ts` as follows:\n\n```ts\nimport type { HookContext, NextFunction } from '../declarations'\nimport { logger } from '../logger'\n\nexport const profiler = async (context: HookContext, next: NextFunction) => {\n  const startTime = Date.now()\n\n  await next()\n\n  const runtime = Date.now() - startTime\n\n  console.log(`Calling ${context.method} on service ${context.path} took ${runtime}ms`)\n}\n```\n\nAnd add it in `src/app.ts` as an application hook after the `logError` hook as follows:\n\n```ts{1,8}\nimport { profiler } from './hooks/profiler'\n\n//...\n\n// Register hooks that run on all service methods\napp.hooks({\n  around: {\n    all: [ logError, profiler ]\n  },\n  before: {},\n  after: {},\n  error: {}\n})\n```",
    "rawContent": "## Generating a hook\n\nA new hook can be generated via\n\n```\nnpx feathers generate hook\n```\n\n## Hook name\n\nThe hook generator will first ask for a name. Based on the name it will create a kebab-cased filename in the `hooks/` folder that exports a camelCased hook function. For example a name of `my fancy Hook` will create a `src/my-fancy-hook.ts` file that exports a `myFancyHook` [hook function](../../api/hooks.md#hook-functions).\n\n## Hook types\n\nThere are two hook types that can be generated.\n\n> **tip:**\n> \n> For more information see the [hooks API documentation](../../api/hooks.md).\n>\n\n### Around hooks\n\n[Around hooks](../../api/hooks.md#around) allow to control the entire `before`, `after` and `error` flow in a single function. An `around` hook is an `async` function that accepts two arguments:\n\n- The [hook context](../../api/hooks.md#hook-context)\n- An asynchronous `next` function. Somewhere in the body of the hook function, there is a call to `await next()`, which calls the `next` hooks OR the original function if all other hooks have run.\n\n```ts\nimport type { HookContext, NextFunction } from '../declarations'\n\nexport const myFancyHook = async (context: HookContext, next: NextFunction) => {\n  console.log(`Running hook ${name} on ${context.path}.${context.method}`)\n  await next()\n  // Do things after here\n}\n```\n\nYou can wrap the `await next()` in a `try/catch` block to also handle errors.\n\n### Before, after, error\n\n[Before, after or error hooks](../../api/hooks.md#before-after-and-error) are `async` functions that take the [hook context](#hook-context) as the parameter.\n\n```ts\nimport type { HookContext } from '../declarations'\n\nexport const myFancyHook = async (context: HookContext) => {\n  console.log(`Running hook ${name} on ${context.path}.${context.method}`)\n}\n```\n\n## Context types\n\nIf the hook is for a specific service, you can pass the service as a generic to the [HookContext](./declarations.md#hook-context) type which will give you the correct types for [context.data](../../api/hooks.md#contextdata), [context.result](../../api/hooks.md#contextresult) and [context.params](../../api/hooks.md#contextparams):\n\n```ts\nimport type { UserService } from '../services/users/users'\nimport type { HookContext } from '../declarations'\n\nexport const myFancyUserHook = async (context: HookContext<UserService>) => {\n  console.log(`Running hook ${name} on ${context.path}.${context.method}`)\n}\n```\n\n## Registering hooks\n\nA generated hook can be registered as an [application hook](./app.md#application-hooks) or as a [service hook](./service.md#registering-hooks). Also see the [hook registration API documentation](../../api/hooks.md#registering-hooks).\n\n## Profiling example\n\nTo log some basic profiling information like which method was called and how long it took to run you can create a new _around_ hook called `profiler` via\n\n```\nnpx feathers generate hook\n```\n\nThen update `src/hooks/profiler.ts` as follows:\n\n```ts\nimport type { HookContext, NextFunction } from '../declarations'\nimport { logger } from '../logger'\n\nexport const profiler = async (context: HookContext, next: NextFunction) => {\n  const startTime = Date.now()\n\n  await next()\n\n  const runtime = Date.now() - startTime\n\n  console.log(`Calling ${context.method} on service ${context.path} took ${runtime}ms`)\n}\n```\n\nAnd add it in `src/app.ts` as an application hook after the `logError` hook as follows:\n\n```ts{1,8}\nimport { profiler } from './hooks/profiler'\n\n//...\n\n// Register hooks that run on all service methods\napp.hooks({\n  around: {\n    all: [ logError, profiler ]\n  },\n  before: {},\n  after: {},\n  error: {}\n})\n```",
    "breadcrumb": "Hooks",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/hook.md",
    "heading": "Hooks",
    "subHeadings": [
      "Generating a hook",
      "Hook name",
      "Hook types",
      "Around hooks",
      "Before, after, error",
      "Context types",
      "Registering hooks",
      "Profiling example"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text",
      "ts"
    ],
    "tokens": 906,
    "category": "cli",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "around hooks",
      "error hooks",
      "hook context",
      "create",
      "update",
      "errors",
      "types",
      "declarations",
      "generator",
      "generate",
      "logger",
      "users"
    ],
    "embedding": [
      0.00961,
      0.011984,
      -0.058272,
      0.049853,
      -0.018441,
      -0.04127,
      -0.025026,
      0.012228,
      -0.01526,
      0.000407,
      -0.019333,
      0.000656,
      -0.01475,
      0.004681,
      -0.01622,
      0.024134,
      -0.044302,
      -0.02244,
      0.013063,
      -0.017083,
      -0.062875,
      0.008451,
      0.034646,
      0.013279,
      0.031412,
      0.026712,
      -0.020635,
      -0.027381,
      0.001011,
      -0.014913,
      0.021425,
      0.028896,
      -0.030678,
      -0.035283,
      -0.008509,
      0.00292,
      -0.029143,
      0.023648,
      -0.039174,
      0.024417,
      -0.001804,
      -0.000093,
      -0.003915,
      -0.019352,
      0.025716,
      -0.015742,
      -0.015207,
      -0.005053,
      0.009664,
      -0.03133,
      -0.001935,
      -0.004818,
      0.034909,
      -0.061119,
      0.061983,
      0.043437,
      -0.016636,
      -0.019735,
      -0.020794,
      0.018348,
      -0.020029,
      0.022932,
      -0.023687,
      0.04447,
      -0.034928,
      0.03682,
      -0.023708,
      -0.004672,
      -0.02048,
      -0.038828,
      0.018667,
      0.02773,
      -0.016587,
      -0.016373,
      -0.053911,
      0.022993,
      0.031162,
      -0.012749,
      -0.013729,
      0.01144,
      -0.010183,
      -0.024222,
      -0.009758,
      0.021917,
      0.023939,
      -0.006931,
      -0.034181,
      0.040756,
      0.008377,
      0.000737,
      0.001786,
      0.006753,
      0.042611,
      -0.03383,
      -0.00177,
      0.020938,
      -0.05258,
      -0.013644,
      0.003745,
      0.007944,
      -0.01335,
      0.049461,
      0.007139,
      -0.025384,
      0.034559,
      0.06923,
      -0.006326,
      0.021198,
      -0.012042,
      -0.039599,
      0.02665,
      -0.0465,
      0.008947,
      -0.000055,
      -0.011551,
      -0.018929,
      -0.003827,
      0.007865,
      -0.017784,
      -0.007245,
      -0.015855,
      0.068835,
      0.060941,
      0.001705,
      -0.044502,
      0.01333,
      0.020691,
      0.021902,
      -0.026398,
      0.025994,
      0.010062,
      -0.005401,
      -0.004029,
      0.024289,
      -0.041107,
      0.019833,
      -0.015527,
      -0.018302,
      0.012638,
      -0.018342,
      0.026064,
      0.032401,
      -0.030249,
      -0.001201,
      0.016523,
      -0.047099,
      0.041353,
      0.025756,
      0.010187,
      0.005991,
      0.051846,
      0.003608,
      0.00725,
      -0.016769,
      0.002002,
      -0.057748,
      0.033239,
      0.039891,
      0.050877,
      0.016177,
      0.001006,
      0.023796,
      -0.043796,
      -0.020123,
      0.053706,
      -0.002648,
      -0.033232,
      -0.046667,
      -0.04378,
      0.002455,
      0.014564,
      0.006111,
      0.041517,
      0.01098,
      0.015576,
      0.042312,
      0.074279,
      0.018528,
      0.01029,
      -0.023036,
      -0.052269,
      0.045265,
      -0.012784,
      -0.035848,
      -0.041079,
      0.027168,
      0.012831,
      -0.012798,
      0.000591,
      0.023712,
      -0.024296,
      0.018595,
      0.032508,
      0.029164,
      -0.020942,
      0.002559,
      0.003062,
      0.012188,
      0.016734,
      -0.019248,
      -0.001112,
      0.006827,
      0.00022,
      0.004476,
      -0.031992,
      -0.037974,
      -0.0221,
      -0.044496,
      0.007745,
      -0.027565,
      0.021752,
      0.016553,
      0.001329,
      -0.043162,
      -0.022427,
      0.031913,
      -0.00447,
      -0.002623,
      0.013428,
      -0.03484,
      -0.017318,
      0.022434,
      -0.003816,
      0.025898,
      0.011784,
      0.018041,
      0.018638,
      0.050282,
      0.006765,
      0.014203,
      -0.004866,
      0.015448,
      0.044707,
      -0.03872,
      0.010612,
      -0.013552,
      -0.037132,
      0.003393,
      0.019828,
      0.018746,
      -0.003748,
      -0.015244,
      0.038586,
      0.011581,
      -0.01364,
      0.005349,
      0.05916,
      0.01447,
      -0.044391,
      -0.008996,
      -0.015377,
      -0.000216,
      -0.021037,
      0.013454,
      0.040113,
      0.019713,
      0.004201,
      0.017109,
      -0.025006,
      -0.060336,
      -0.003062,
      0.048325,
      0.016999,
      0.000287,
      0.017966,
      -0.001329,
      -0.020684,
      -0.071957,
      -0.013852,
      0.018965,
      -0.008327,
      -0.027836,
      0.066157,
      0.002652,
      -0.02455,
      -0.009347,
      0.011748,
      -0.053947,
      0.072819,
      -0.019325,
      0.010947,
      -0.00993,
      0.040185,
      0.043006,
      -0.019737,
      0.032704,
      -0.024983,
      -0.01483,
      0.035031,
      0.002862,
      0.0329,
      -0.032085,
      0.042904,
      -0.02591,
      -0.051535,
      0.039032,
      -0.000616,
      -0.150489,
      -0.018437,
      0.019959,
      -0.017565,
      0.032811,
      0.015285,
      -0.043526,
      -0.0205,
      -0.037863,
      0.056387,
      -0.003513,
      -0.056208,
      -0.003887,
      -0.007016,
      0.02761,
      -0.001836,
      -0.024736,
      0.016501,
      0.035118,
      -0.012648,
      -0.033103,
      -0.044807,
      0.05171,
      0.002529,
      -0.008445,
      -0.016968,
      0.047483,
      -0.002861,
      -0.034196,
      -0.007483,
      0.019638,
      -0.014685,
      -0.00068,
      0.009129,
      -0.001705,
      0.002798,
      0.019068,
      0.011979,
      0.007095,
      -0.012915,
      0.017067,
      0.033824,
      0.020263,
      0.025074,
      -0.000363,
      -0.030202,
      0.023711,
      0.039459,
      -0.015973,
      -0.039563,
      0.007741,
      0.002235,
      0.007756,
      0.003747,
      -0.011056,
      -0.005463,
      0.031129,
      0.063808,
      -0.041355,
      0.024975,
      -0.035567,
      -0.047545,
      0.038814,
      0.001755,
      -0.013305,
      -0.012711,
      0.009059,
      0.014473,
      -0.007445,
      -0.033941,
      0.038189,
      -0.08154,
      -0.004654,
      0.000808,
      0.011698,
      -0.000952,
      0.008608,
      -0.009165,
      -0.01898,
      -0.126063,
      -0.017563,
      0.021174,
      -0.008048,
      0.006296,
      -0.003519,
      0.008008,
      -0.023453,
      -0.00286,
      0.031694,
      0.248402,
      0.020865,
      0.000016,
      0.000718,
      0.093522,
      0.002043,
      0.028948,
      0.066033,
      0.007237,
      -0.045043,
      -0.02387,
      0.006452,
      0.017625,
      -0.003116,
      -0.015422,
      -0.002644,
      -0.042473,
      0.016988,
      0.054503,
      -0.019494,
      0.048227,
      -0.007469,
      0.051895,
      0.016011,
      -0.084062,
      -0.046351,
      -0.023299,
      -0.00089,
      -0.062121,
      0.005622,
      -0.015387,
      0.023999,
      0.029349,
      -0.075972,
      -0.031452,
      0.01597,
      -0.000682,
      0.004632,
      -0.034345,
      0.011005,
      0.007958,
      0.002775,
      0.036149,
      -0.018108,
      -0.032073,
      -0.013025,
      -0.02067,
      0.020211,
      -0.009354,
      -0.031408,
      -0.038618,
      0.012509,
      -0.013763,
      -0.033134,
      0.007728,
      -0.008558,
      0.015595,
      -0.013563,
      0.033953,
      0.00011,
      0.035977,
      0.020431,
      -0.047769,
      0.038284,
      -0.020811,
      0.012649,
      0.007465,
      -0.053058,
      0.015706,
      0.089557,
      0.006632,
      -0.003839,
      0.014255,
      -0.020149,
      0.010216,
      -0.013797,
      0.067231,
      0.039696,
      -0.016423,
      0.032802,
      -0.029514,
      -0.004475,
      -0.021849,
      0.033855,
      0.015962,
      0.005257,
      -0.032116,
      0.053142,
      -0.007361,
      -0.034511,
      -0.022067,
      0.000696,
      -0.051682,
      0.0364,
      -0.017896,
      0.036136,
      0.040615,
      -0.030508,
      -0.02413,
      -0.02548,
      0.052723,
      0.021317,
      0.01664,
      0.018555,
      0.048593,
      0.017051,
      -0.034559,
      0.024325,
      0.021539,
      0.03148,
      -0.026067,
      -0.0225,
      0.032441,
      -0.064066,
      0.033726,
      0.010521,
      0.06579,
      0.008351,
      0.039094,
      0.013558,
      0.004175,
      0.006428,
      -0.007254,
      -0.018288,
      0.014915,
      -0.036172,
      -0.00394,
      -0.019393,
      -0.014396,
      0.046683,
      0.028395,
      -0.024903,
      0.001539,
      0.061666,
      0.018711,
      0.053139,
      0.071551,
      0.006439,
      -0.021266,
      0.009589,
      0.027656,
      -0.010919,
      -0.001762,
      0.009701,
      0.000497,
      0.030217,
      -0.017048,
      -0.008048,
      -0.022831,
      -0.000184,
      0.037868,
      0.04967,
      0.012686,
      -0.046935,
      -0.031059,
      -0.009339,
      0.000258,
      0.020764,
      0.013147,
      -0.006767,
      -0.041219,
      0.022556,
      0.012573,
      0.035616,
      -0.015543,
      -0.048413,
      0.041651,
      0.032925,
      -0.008766,
      -0.039899,
      -0.028107,
      -0.074286,
      -0.018664,
      0.048373,
      -0.024493,
      -0.027233,
      -0.071191,
      -0.025782,
      -0.016631,
      -0.009721,
      0.039703,
      0.045287,
      -0.012892,
      0.021248,
      0.020983,
      0.022593,
      -0.003898,
      -0.027714,
      0.018666,
      -0.019941,
      -0.028469,
      0.129355,
      0.008222,
      0.003727,
      0.043399,
      -0.028132,
      0.053381,
      0.028007,
      0.016657,
      0.001003,
      -0.025364,
      -0.00178,
      -0.012279,
      0.044734,
      -0.035132,
      -0.010186,
      0.015954,
      0.017217,
      -0.073282,
      0.044234,
      0.034338,
      0.006362,
      0.001749,
      -0.006801,
      -0.002755,
      0.006188,
      0.023683,
      0.060461,
      -0.016702,
      -0.034291,
      -0.029156,
      -0.036742,
      0.034324,
      -0.011336,
      0.018073,
      -0.000787,
      -0.002212,
      -0.005537,
      0.001591,
      -0.030445,
      -0.000247,
      -0.025285,
      0.019175,
      -0.049093,
      -0.009698,
      0.004043,
      0.010371,
      -0.004804,
      -0.02591,
      -0.02469,
      0.015129,
      0.04715,
      0.075431,
      0.032239,
      -0.014011,
      0.010646,
      0.023832,
      -0.049199,
      -0.002238,
      0.04232,
      0.002134,
      -0.02287,
      -0.000294,
      -0.009163,
      -0.005035,
      0.000769,
      0.00186,
      -0.02009,
      -0.037571,
      -0.025591,
      0.026785,
      0.005995,
      -0.012307,
      -0.013046,
      -0.013005,
      -0.032318,
      0.036061,
      0.010766,
      -0.045498,
      0.0042,
      -0.040783,
      -0.023458,
      0.01568,
      -0.055058,
      0.017417,
      -0.016808,
      -0.05352,
      -0.020285,
      0.023943,
      -0.022115,
      -0.067306,
      -0.006279,
      0.050229,
      -0.024345,
      -0.006561,
      0.056944,
      0.00353,
      0.008295,
      0.018726,
      -0.043708,
      0.005795,
      -0.03232,
      -0.029341,
      -0.030104,
      -0.013577,
      0.003019,
      -0.001032,
      0.045068,
      -0.01679,
      0.016451,
      -0.003901,
      0.007187,
      0.00698,
      -0.026414,
      -0.020782,
      0.013865,
      -0.044805,
      -0.065038,
      -0.004572,
      0.025627,
      -0.006872,
      -0.027122,
      0.017181,
      0.027246,
      0.053209,
      0.020067,
      0.058839,
      -0.037074,
      0.020342,
      -0.042898,
      0.02563,
      0.006252,
      -0.051554,
      -0.010561,
      0.007211,
      -0.000683,
      -0.000555,
      -0.04935,
      -0.045468,
      0.007798,
      -0.063241,
      -0.027379,
      -0.008314,
      -0.037003,
      -0.026398,
      0.000634,
      0.020791,
      -0.029915,
      -0.003414,
      -0.052294,
      0.023452,
      0.001734,
      0.066233,
      -0.0289,
      0.023203,
      -0.05494,
      -0.026107,
      -0.033832,
      0.028777,
      0.008235,
      -0.026466,
      0.012237,
      -0.029086,
      -0.051971,
      0.041018,
      0.003389,
      -0.022534,
      -0.005868,
      0.056837,
      -0.002907,
      -0.003608,
      0.070492,
      -0.005854,
      -0.040606,
      0.041988,
      0.002375,
      0.034925,
      -0.02969,
      -0.001648,
      -0.029337,
      -0.011883,
      -0.00253,
      -0.004373,
      0.012454,
      -0.016311,
      0.007953,
      -0.027344,
      0.032911,
      0.002067,
      -0.034809,
      -0.045678,
      -0.013291,
      -0.032212,
      0.005165,
      -0.024331,
      0.006001,
      -0.020671,
      0.004993,
      0.009657,
      0.00269,
      -0.014487,
      0.035356,
      -0.023,
      0.029759,
      -0.13669,
      0.012001,
      0.002973,
      0.014476,
      -0.003803,
      -0.007842,
      0.02016,
      -0.039071,
      0.019914,
      -0.041523,
      -0.006292,
      -0.005299,
      0.03926,
      -0.047539,
      0.001913,
      0.040729,
      -0.034304,
      0.002973,
      0.005522,
      -0.023118,
      0.010978,
      0.000618,
      0.016438,
      -0.053682,
      0.008218,
      -0.001402,
      -0.038978,
      -0.031736,
      -0.022493,
      0.018226,
      -0.047258,
      -0.026542,
      -0.010831,
      0.039276,
      0.007353,
      -0.005784,
      0.004698,
      0.02977,
      -0.058121,
      -0.019353,
      -0.05343,
      0.026353,
      -0.040064,
      0.032645,
      0.017384,
      0.03201,
      -0.032381,
      -0.037107,
      -0.005555,
      -0.024362,
      0.01686,
      0.0189,
      0.009273,
      0.047854,
      -0.013591,
      0.032997,
      -0.058373,
      0.008347,
      -0.060496,
      0.052032,
      -0.021332,
      0.032496,
      -0.020292,
      -0.025895,
      -0.030642,
      0.002129,
      -0.031578,
      0.021834,
      0.007196,
      -0.014416,
      0.018653,
      -0.032343,
      -0.06973,
      -0.011714,
      0.03531,
      -0.012035,
      0.053712,
      -0.00354,
      -0.025712,
      0.00923,
      -0.013764,
      -0.031065,
      -0.06316,
      0.072551,
      0.027058,
      0.020777,
      0.027732,
      0.052265,
      -0.040016,
      -0.02084,
      -0.022581,
      -0.017772,
      0.010665,
      0.018746,
      -0.012403,
      0.046891,
      -0.027165,
      -0.007424,
      0.000236,
      -0.02702,
      -0.032474,
      0.002151,
      0.01253,
      0.029199,
      -0.002576,
      0.011813,
      -0.007111,
      0.013895,
      -0.002366,
      -0.030282,
      0.006893,
      -0.027624,
      -0.029227,
      0.018957,
      -0.074896,
      -0.005715,
      0.002927,
      0.037904,
      0.004646,
      0.029514,
      0.014473,
      -0.038722,
      -0.02382,
      -0.011755,
      -0.001205,
      0.019036,
      0.012804,
      0.002755,
      0.015454,
      -0.023677,
      0.012534,
      -0.06569,
      -0.01813,
      -0.01176,
      0.031142,
      -0.046683,
      -0.074106,
      0.038678,
      -0.037695,
      0.008005,
      0.014796,
      0.012037,
      0.005118,
      -0.003844,
      -0.016801,
      -0.044355,
      0.001263,
      -0.00377,
      0.009647,
      -0.022322,
      0.011388,
      0.023906,
      0.002985,
      0.043638,
      0.002568,
      0.045157,
      -0.023148,
      0.033511,
      -0.058637,
      0.058407,
      -0.030374,
      -0.02521,
      -0.027504,
      -0.047969,
      -0.016766,
      0.013899,
      -0.016969,
      0.002163,
      -0.019137,
      -0.007105,
      0.010816,
      0.05513,
      -0.034366,
      -0.003379,
      0.005354,
      0.004981,
      0.001965,
      0.007603,
      0.072045,
      -0.024237,
      0.043332,
      0.014495,
      0.006985,
      -0.005131,
      0.004563,
      -0.003179,
      0.015785,
      0.042199,
      0.029129,
      -0.024176,
      -0.026135,
      -0.004821,
      0.048827,
      0.004051,
      0.014922,
      -0.014365,
      0.004103,
      -0.016076,
      0.005295,
      0.083929,
      -0.042327,
      -0.013071,
      -0.021433,
      -0.019562,
      -0.01725,
      0.00081,
      -0.013931,
      -0.008009,
      -0.007769,
      0.013593,
      -0.015675,
      -0.02184,
      0.007605,
      0.016908,
      -0.001564,
      0.0267,
      0.03717,
      0.015703,
      -0.014698,
      -0.010888,
      0.04822,
      0.026737,
      -0.041214,
      -0.038942,
      -0.02425,
      -0.023093,
      -0.034447,
      -0.031182,
      0.016947,
      0.000303,
      -0.046878,
      -0.012708,
      0.003424,
      0.038475,
      -0.010357,
      -0.023525,
      0.00409,
      0.029242,
      -0.03788,
      -0.004018,
      0.045148,
      0.024032,
      0.027421,
      -0.055867
    ]
  },
  {
    "id": "v5-index-0",
    "content": "# The Feathers CLI\nBreadcrumb: The Feathers CLI\nCovers: Install the CLI | CLI Commands | Authentication | Service | Connection | Hook | App\nTopics: hooks, services, application, create, authentication, database, cli, generator, generate, test, users, custom service\n\n## Install the CLI\n\nWhen creating an application (e.g. `my-app`) with\n\n```\nnpm create feathers@latest my-app\n```\n\nthe Feathers CLI will be installed locally into your new project. This is preferred over global installation so that everybody working on your project has the same version and commands available by running `npx feathers`.\n\n## CLI Commands\n\nIn a generated application you should be able to run the `generate` command with no arguments:\n\n```bash\nnpx feathers generate\n```\n\nYou'll see the following output:\n\n```bash\nUsage: feathers generate|g [options] [command]\n\nRun a generator. Currently available:\n  app: Generate a new application\n  service: Generate a new service\n  hook: Generate a hook\n  connection: Add a new database connection\n  authentication: Add authentication to the application\n\nOptions:\n  -h, --help         display help for command\n\nCommands:\n  app [options]      Generate a new application\n  service [options]  Generate a new service\n  hook [options]     Generate a hook\n  connection         Add a new database connection\n  authentication     Add authentication to the application\n  help [command]     display help for command\n```\n\n### Authentication\n\n```\nnpx feathers generate authentication\n```\n\nWill set up Feathers authentication and a users service. This is required for any other service that needs authentication.\n\n### Service\n\n```\nnpx feathers generate service\n```\n\nGenerates a service connected to a database or a custom service.\n\n### Connection\n\n```\nnpx feathers generate connection\n```\n\nSets up a new database connection. This is already done when creating a new application but you can still set up other databases.\n\n### Hook\n\n```\nnpx feathers generate hook\n```\n\nGenerates a new hook in the `hooks` folder that can then be registered in your services.\n\n### App\n\nThis is the command that runs automatically when calling\n\n```\nnpm create feathers@latest my-app\n```",
    "rawContent": "## Install the CLI\n\nWhen creating an application (e.g. `my-app`) with\n\n```\nnpm create feathers@latest my-app\n```\n\nthe Feathers CLI will be installed locally into your new project. This is preferred over global installation so that everybody working on your project has the same version and commands available by running `npx feathers`.\n\n## CLI Commands\n\nIn a generated application you should be able to run the `generate` command with no arguments:\n\n```bash\nnpx feathers generate\n```\n\nYou'll see the following output:\n\n```bash\nUsage: feathers generate|g [options] [command]\n\nRun a generator. Currently available:\n  app: Generate a new application\n  service: Generate a new service\n  hook: Generate a hook\n  connection: Add a new database connection\n  authentication: Add authentication to the application\n\nOptions:\n  -h, --help         display help for command\n\nCommands:\n  app [options]      Generate a new application\n  service [options]  Generate a new service\n  hook [options]     Generate a hook\n  connection         Add a new database connection\n  authentication     Add authentication to the application\n  help [command]     display help for command\n```\n\n### Authentication\n\n```\nnpx feathers generate authentication\n```\n\nWill set up Feathers authentication and a users service. This is required for any other service that needs authentication.\n\n### Service\n\n```\nnpx feathers generate service\n```\n\nGenerates a service connected to a database or a custom service.\n\n### Connection\n\n```\nnpx feathers generate connection\n```\n\nSets up a new database connection. This is already done when creating a new application but you can still set up other databases.\n\n### Hook\n\n```\nnpx feathers generate hook\n```\n\nGenerates a new hook in the `hooks` folder that can then be registered in your services.\n\n### App\n\nThis is the command that runs automatically when calling\n\n```\nnpm create feathers@latest my-app\n```",
    "breadcrumb": "The Feathers CLI",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/index.md",
    "heading": "The Feathers CLI",
    "subHeadings": [
      "Install the CLI",
      "CLI Commands",
      "Authentication",
      "Service",
      "Connection",
      "Hook",
      "App"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text",
      "bash"
    ],
    "tokens": 476,
    "category": "cli",
    "tags": [
      "hooks",
      "services",
      "application",
      "create",
      "authentication",
      "database",
      "cli",
      "generator",
      "generate",
      "test",
      "users",
      "custom service"
    ],
    "embedding": [
      -0.009185,
      0.01003,
      -0.062284,
      0.008108,
      -0.041216,
      -0.059243,
      0.006518,
      0.020418,
      -0.004591,
      0.019937,
      -0.029171,
      0.01552,
      -0.028367,
      -0.003824,
      -0.016884,
      0.017881,
      -0.049024,
      -0.018504,
      -0.011875,
      -0.051642,
      -0.006011,
      -0.01741,
      0.014985,
      0.005933,
      0.029542,
      0.014663,
      -0.040219,
      -0.031038,
      0.007787,
      -0.002377,
      0.000972,
      -0.023199,
      -0.023348,
      -0.017984,
      -0.006424,
      -0.000177,
      0.012763,
      0.036101,
      -0.035182,
      0.032308,
      0.013072,
      0.010305,
      -0.010891,
      0.014168,
      0.00679,
      -0.019525,
      0.012844,
      -0.01662,
      0.01099,
      -0.006325,
      -0.030596,
      0.023943,
      0.028772,
      -0.068315,
      0.058779,
      0.045397,
      -0.023734,
      -0.000844,
      -0.076441,
      0.003651,
      -0.028669,
      0.035318,
      -0.021748,
      0.016922,
      -0.016998,
      0.022968,
      -0.022414,
      0.011169,
      0.011162,
      -0.058564,
      -0.006187,
      0.039531,
      -0.024119,
      -0.020505,
      -0.078421,
      0.033625,
      0.04305,
      0.004763,
      -0.022043,
      0.022952,
      -0.032551,
      -0.039538,
      0.007486,
      0.001111,
      0.014596,
      -0.014812,
      -0.026801,
      0.076789,
      0.042512,
      0.007505,
      0.022895,
      -0.015383,
      0.050743,
      -0.041336,
      -0.032933,
      -0.011929,
      -0.009344,
      -0.011879,
      0.002462,
      0.001798,
      -0.027242,
      0.035989,
      -0.042309,
      -0.014214,
      0.021291,
      0.022629,
      -0.005508,
      -0.004393,
      -0.005144,
      -0.043039,
      -0.000458,
      -0.028574,
      0.003668,
      0.001095,
      0.002536,
      -0.012221,
      0.018384,
      -0.00122,
      -0.027138,
      0.000428,
      0.01278,
      0.045818,
      0.036623,
      -0.033814,
      -0.013679,
      -0.003998,
      -0.0075,
      0.029594,
      0.013061,
      0.041211,
      0.039848,
      -0.040185,
      -0.014945,
      -0.002285,
      -0.020144,
      0.054297,
      0.008068,
      0.021359,
      0.015415,
      -0.009039,
      0.0045,
      0.018391,
      0.028224,
      -0.029771,
      0.020949,
      -0.062562,
      0.057831,
      0.031046,
      -0.059588,
      -0.011917,
      0.005764,
      -0.016916,
      0.017385,
      -0.04768,
      -0.001291,
      -0.072356,
      0.00322,
      -0.00514,
      0.09293,
      0.031103,
      0.015664,
      0.044052,
      -0.025657,
      -0.003083,
      0.066008,
      -0.030562,
      0.018906,
      -0.041539,
      -0.024122,
      -0.036474,
      0.04229,
      -0.004337,
      0.002665,
      0.008873,
      0.058138,
      0.038784,
      0.012736,
      0.012936,
      -0.010558,
      -0.033656,
      -0.040839,
      0.021596,
      -0.023095,
      -0.020435,
      -0.022982,
      -0.012457,
      -0.016113,
      -0.020511,
      0.020856,
      0.023396,
      -0.018534,
      -0.03591,
      0.026167,
      -0.014683,
      0.019218,
      0.040227,
      -0.013012,
      0.023158,
      0.037013,
      0.01206,
      0.020594,
      0.045012,
      0.055765,
      0.028185,
      -0.041371,
      -0.053169,
      0.012243,
      -0.045435,
      0.026946,
      -0.052157,
      0.000027,
      -0.030273,
      -0.009842,
      -0.029531,
      0.016285,
      -0.003111,
      -0.031506,
      0.0253,
      0.009227,
      -0.060214,
      0.00203,
      0.017007,
      0.005429,
      0.013522,
      0.036033,
      0.009102,
      0.029023,
      0.003713,
      -0.011929,
      -0.023616,
      -0.016932,
      0.046244,
      0.025835,
      -0.01082,
      0.006063,
      -0.000762,
      -0.027718,
      -0.034674,
      0.019554,
      0.039497,
      -0.018217,
      -0.026257,
      0.004907,
      -0.005253,
      -0.020755,
      -0.033009,
      0.021721,
      0.01709,
      -0.030666,
      -0.040838,
      0.00512,
      0.034362,
      0.035645,
      0.005615,
      -0.002445,
      0.004972,
      0.046296,
      0.006702,
      -0.004323,
      -0.037833,
      -0.012565,
      -0.002031,
      0.013278,
      0.015164,
      0.009306,
      -0.003609,
      -0.028227,
      -0.064438,
      -0.00349,
      -0.005383,
      -0.00533,
      0.012545,
      0.020617,
      0.003065,
      -0.019837,
      0.011044,
      0.021131,
      -0.049236,
      0.080632,
      0.011621,
      0.00201,
      0.006856,
      0.01654,
      0.066031,
      0.038038,
      0.029926,
      0.003788,
      -0.012317,
      -0.006088,
      0.020766,
      -0.004525,
      -0.013106,
      0.047991,
      -0.027585,
      -0.052191,
      0.038575,
      0.013109,
      -0.142168,
      -0.019932,
      0.028968,
      -0.00042,
      0.024992,
      0.03385,
      -0.06699,
      0.014596,
      -0.082504,
      0.005696,
      -0.005341,
      -0.048096,
      -0.041849,
      0.013133,
      0.007559,
      0.013837,
      -0.033548,
      0.001887,
      0.03593,
      -0.025724,
      -0.042507,
      -0.018032,
      0.039289,
      0.032127,
      0.014075,
      0.004442,
      0.019123,
      0.006643,
      -0.032169,
      -0.000632,
      -0.021183,
      -0.018969,
      -0.00509,
      0.019305,
      -0.03011,
      -0.005099,
      0.021161,
      -0.001452,
      0.013243,
      -0.037663,
      0.000351,
      0.068563,
      0.004692,
      0.024378,
      0.020479,
      0.010136,
      0.0274,
      0.038174,
      -0.017864,
      -0.009726,
      0.017145,
      -0.022674,
      -0.012457,
      0.001285,
      -0.027229,
      -0.007227,
      -0.000483,
      0.030597,
      0.010168,
      0.012763,
      -0.01221,
      -0.010403,
      0.050456,
      -0.03558,
      -0.019575,
      -0.001581,
      0.003988,
      0.006929,
      0.012034,
      -0.031362,
      0.036892,
      -0.042673,
      -0.016353,
      -0.011633,
      -0.014156,
      0.010104,
      -0.021852,
      0.005858,
      -0.039692,
      -0.109482,
      -0.045901,
      0.01442,
      -0.004086,
      0.022371,
      -0.0079,
      -0.050608,
      -0.054014,
      -0.012011,
      0.060781,
      0.226609,
      -0.015878,
      0.003932,
      0.005467,
      0.050425,
      -0.052918,
      0.029141,
      0.063434,
      0.01539,
      -0.027559,
      0.03254,
      -0.002349,
      0.024153,
      -0.007348,
      -0.00499,
      -0.007102,
      -0.075078,
      0.014374,
      0.060543,
      -0.013106,
      0.018838,
      -0.030359,
      0.049759,
      0.01733,
      -0.081807,
      -0.06261,
      -0.051288,
      0.028842,
      -0.041647,
      -0.008667,
      -0.011995,
      0.023852,
      0.052289,
      -0.056813,
      -0.023814,
      0.014264,
      -0.011261,
      -0.01688,
      -0.027323,
      0.000547,
      -0.026871,
      -0.027048,
      0.053216,
      -0.032279,
      -0.035177,
      0.018076,
      -0.017613,
      0.012858,
      -0.035062,
      -0.058603,
      -0.032049,
      0.004051,
      -0.044681,
      -0.014529,
      0.012165,
      -0.00501,
      0.025715,
      -0.04175,
      0.015273,
      0.003257,
      0.045928,
      -0.006629,
      -0.028375,
      0.08454,
      -0.030103,
      0.01618,
      0.029356,
      -0.059497,
      0.020229,
      0.059906,
      -0.00759,
      -0.009116,
      0.015969,
      0.011634,
      0.005144,
      0.033666,
      0.069343,
      0.06014,
      -0.034663,
      0.047117,
      -0.013526,
      0.043139,
      -0.008781,
      0.025353,
      0.01606,
      0.025132,
      -0.028802,
      0.006891,
      -0.009813,
      -0.005426,
      -0.007159,
      -0.003432,
      -0.015239,
      0.027274,
      -0.003012,
      0.024354,
      0.043253,
      -0.027094,
      -0.049298,
      -0.043872,
      -0.011607,
      0.019352,
      0.00054,
      0.007141,
      0.052164,
      -0.007219,
      -0.007661,
      0.012232,
      0.032577,
      0.036925,
      0.005219,
      -0.005121,
      -0.009451,
      -0.044845,
      0.003135,
      -0.008366,
      0.058359,
      -0.00541,
      0.054319,
      -0.009232,
      0.023777,
      0.00969,
      -0.030624,
      0.008271,
      -0.00672,
      -0.046415,
      -0.011137,
      -0.017972,
      -0.023354,
      0.036919,
      0.074006,
      -0.029636,
      0.024396,
      0.034314,
      0.023621,
      0.025527,
      0.084805,
      0.026034,
      -0.007967,
      0.002463,
      -0.042521,
      -0.027828,
      -0.006424,
      0.038543,
      0.011178,
      0.024442,
      0.02239,
      0.005138,
      0.020933,
      -0.019749,
      0.003229,
      0.034981,
      0.032746,
      -0.032568,
      -0.011148,
      -0.073501,
      0.000606,
      0.035064,
      0.017398,
      -0.035929,
      -0.038263,
      0.024799,
      0.041585,
      0.024897,
      0.039887,
      -0.024963,
      0.024162,
      0.030694,
      0.004084,
      -0.059019,
      -0.005114,
      -0.03122,
      -0.03552,
      0.040128,
      -0.016318,
      -0.063138,
      -0.047851,
      0.001934,
      0.000351,
      -0.043245,
      0.02899,
      0.021295,
      -0.026406,
      0.009986,
      0.025657,
      -0.012312,
      0.013003,
      -0.018798,
      0.020576,
      -0.006203,
      -0.037716,
      0.078688,
      0.018024,
      0.003185,
      0.029807,
      -0.019138,
      0.012565,
      -0.004245,
      -0.005511,
      -0.003598,
      0.021044,
      -0.008426,
      -0.029266,
      -0.01635,
      -0.027463,
      -0.037231,
      0.037581,
      0.005926,
      -0.054104,
      0.034516,
      -0.017329,
      0.040534,
      -0.024882,
      -0.021959,
      0.004237,
      -0.035896,
      0.031634,
      0.055712,
      -0.021978,
      0.002505,
      -0.020934,
      -0.030646,
      0.014056,
      -0.016658,
      -0.000207,
      0.007401,
      0.01936,
      -0.013181,
      -0.002846,
      0.001261,
      -0.007619,
      -0.028459,
      0.014375,
      -0.032667,
      0.019357,
      0.001303,
      0.021166,
      0.003348,
      -0.005461,
      -0.02115,
      0.017844,
      -0.002768,
      0.078659,
      0.078941,
      -0.027933,
      0.048674,
      0.000981,
      0.008626,
      -0.030002,
      0.023198,
      -0.011677,
      -0.010263,
      0.008499,
      -0.020132,
      0.016259,
      0.00663,
      0.011804,
      -0.0239,
      -0.027828,
      -0.013723,
      -0.013333,
      0.012571,
      0.01388,
      0.013584,
      -0.021229,
      -0.027299,
      -0.006082,
      -0.051588,
      -0.045114,
      0.014629,
      -0.030921,
      -0.015221,
      -0.004917,
      -0.043073,
      0.044168,
      -0.043072,
      -0.031823,
      -0.019219,
      0.019901,
      0.020306,
      -0.038097,
      -0.006704,
      0.018056,
      -0.007606,
      0.029421,
      0.056378,
      0.047777,
      -0.004758,
      0.013369,
      -0.048153,
      -0.034366,
      0.00173,
      -0.066886,
      0.010558,
      -0.021121,
      -0.017573,
      -0.019032,
      0.015888,
      0.009514,
      0.010435,
      -0.028306,
      0.034433,
      -0.023818,
      -0.033003,
      -0.04209,
      0.053775,
      0.002612,
      -0.071063,
      0.020501,
      0.013546,
      0.050554,
      -0.012335,
      0.028973,
      0.000489,
      0.046527,
      -0.026115,
      0.046396,
      -0.013465,
      0.025114,
      -0.009476,
      0.027702,
      0.006308,
      -0.022195,
      -0.0403,
      -0.013932,
      -0.014505,
      0.000713,
      0.014618,
      -0.011121,
      -0.000518,
      -0.049676,
      -0.011416,
      -0.001338,
      -0.00554,
      -0.028534,
      -0.020423,
      0.029211,
      -0.056447,
      0.044745,
      -0.030602,
      0.015396,
      0.034099,
      0.045597,
      -0.014461,
      0.015874,
      -0.0521,
      -0.012426,
      -0.019338,
      -0.030172,
      -0.01794,
      -0.032894,
      0.000387,
      0.020084,
      -0.038519,
      0.064981,
      -0.03016,
      -0.06774,
      0.007829,
      -0.007364,
      -0.006428,
      -0.042058,
      0.083172,
      0.00724,
      -0.038973,
      -0.000251,
      -0.022146,
      0.044246,
      -0.026175,
      -0.016299,
      -0.072027,
      -0.03489,
      -0.005064,
      -0.010684,
      -0.001274,
      -0.037466,
      -0.00855,
      -0.042666,
      0.022225,
      0.024739,
      -0.023285,
      -0.031218,
      0.010197,
      -0.005841,
      -0.0339,
      -0.044696,
      -0.022179,
      0.000751,
      0.020589,
      -0.005358,
      -0.021366,
      -0.019827,
      0.023948,
      -0.010831,
      -0.001744,
      -0.135671,
      0.01547,
      0.020372,
      0.028058,
      0.017713,
      0.009581,
      0.00396,
      -0.000608,
      0.020959,
      -0.02885,
      -0.01395,
      -0.001372,
      0.016896,
      -0.02234,
      0.023422,
      0.017376,
      -0.0145,
      0.009294,
      0.009216,
      -0.023648,
      0.011972,
      0.006163,
      0.053108,
      -0.008159,
      -0.004491,
      0.004101,
      -0.017368,
      0.006247,
      -0.028237,
      0.042446,
      -0.012855,
      -0.015989,
      0.006749,
      0.032788,
      -0.010085,
      -0.012017,
      -0.023953,
      0.030889,
      -0.028521,
      0.037668,
      -0.045382,
      0.008409,
      -0.052985,
      0.077025,
      0.041479,
      0.025451,
      -0.02329,
      -0.030274,
      0.004237,
      0.011709,
      -0.034231,
      -0.000357,
      0.026285,
      0.059609,
      0.016082,
      -0.004604,
      -0.043327,
      -0.018944,
      -0.039278,
      0.033335,
      -0.015822,
      0.066931,
      -0.037482,
      -0.005656,
      0.027195,
      -0.007759,
      -0.05325,
      0.036759,
      0.032854,
      0.021134,
      0.025821,
      -0.020069,
      -0.07388,
      0.008992,
      0.026658,
      -0.016954,
      0.045358,
      0.013027,
      -0.032228,
      0.016608,
      -0.02044,
      -0.007356,
      -0.05393,
      0.052646,
      0.047996,
      0.02791,
      0.011106,
      0.026961,
      0.012412,
      -0.010485,
      -0.009131,
      -0.051415,
      0.004067,
      0.00127,
      -0.012067,
      0.073271,
      0.025217,
      -0.007115,
      -0.00044,
      -0.007462,
      -0.057909,
      0.037605,
      0.008314,
      -0.001852,
      -0.011048,
      -0.006246,
      -0.028885,
      -0.000464,
      0.018821,
      0.021592,
      -0.003269,
      -0.000911,
      -0.031275,
      0.011278,
      -0.057959,
      -0.006352,
      0.006576,
      -0.01322,
      -0.034433,
      -0.012677,
      0.03545,
      0.004099,
      -0.004541,
      -0.01132,
      0.033878,
      0.040545,
      0.027762,
      0.007858,
      0.077384,
      0.022885,
      -0.012434,
      -0.045382,
      -0.002482,
      -0.007722,
      0.043758,
      -0.074969,
      -0.031041,
      0.050606,
      -0.03616,
      0.014816,
      -0.044959,
      0.009994,
      0.007492,
      -0.027447,
      0.000686,
      -0.063154,
      -0.005246,
      -0.000029,
      -0.023159,
      -0.017703,
      -0.016451,
      0.028024,
      -0.004563,
      0.055836,
      0.019192,
      0.049319,
      -0.011865,
      -0.021315,
      -0.01696,
      0.054203,
      0.013025,
      -0.087877,
      -0.008766,
      -0.024711,
      -0.010955,
      0.016742,
      0.004992,
      -0.003083,
      -0.020633,
      0.022127,
      0.00121,
      0.035694,
      -0.029518,
      0.015872,
      0.050023,
      -0.004812,
      0.000482,
      -0.024557,
      0.017589,
      -0.00778,
      0.053267,
      -0.030581,
      0.020468,
      0.030698,
      0.044619,
      -0.015264,
      -0.008057,
      0.010311,
      0.017128,
      0.011751,
      0.002203,
      0.032401,
      0.032545,
      0.005833,
      0.006429,
      -0.01023,
      -0.00315,
      -0.031465,
      0.026971,
      0.043243,
      -0.00595,
      -0.010645,
      -0.032798,
      -0.037179,
      -0.011591,
      -0.007473,
      -0.025706,
      -0.004836,
      0.026298,
      0.003487,
      -0.008532,
      0.003597,
      -0.006716,
      0.013583,
      -0.022486,
      -0.012443,
      0.034292,
      -0.002263,
      -0.024807,
      -0.025318,
      0.004977,
      0.019824,
      -0.01044,
      -0.060482,
      -0.0215,
      0.006378,
      -0.022178,
      -0.003251,
      0.001771,
      -0.011613,
      0.004741,
      -0.0188,
      -0.002226,
      0.036403,
      0.020546,
      -0.043405,
      -0.004261,
      0.051746,
      -0.036899,
      0.00982,
      0.034459,
      0.023405,
      -0.01439,
      -0.000448
    ]
  },
  {
    "id": "v5-knexfile-0",
    "content": "# Knexfile\nBreadcrumb: Knexfile\nCovers: Migrations\nTopics: create, database, knex, http, configuration, generate, migration\n\n## Migrations\n\nMigrations are a best practise for SQL databases to roll out and undo changes to the data model and are set up automatically with an SQL database connection. The generated `knexfile.ts` imports the [app object](./app.md) to establish the connection to the database. To run migration scripts for the connection from the [configuration environment](./configuration.md#environment-variables) use:\n\n```\nnpm run migrate\n```\n\nTo create a new migration, run\n\n```\nnpm run migrate:make -- <name>\n```\n\nand replace `<name>` with the name of the migration you want to create. This will create a new file in the `migrations/` folder.\n\n> **tip:**\n>  \n> For more information on what is available in migration files, see the [Knex migrations documentation](https://knexjs.org/guide/migrations.html).\n>",
    "rawContent": "## Migrations\n\nMigrations are a best practise for SQL databases to roll out and undo changes to the data model and are set up automatically with an SQL database connection. The generated `knexfile.ts` imports the [app object](./app.md) to establish the connection to the database. To run migration scripts for the connection from the [configuration environment](./configuration.md#environment-variables) use:\n\n```\nnpm run migrate\n```\n\nTo create a new migration, run\n\n```\nnpm run migrate:make -- <name>\n```\n\nand replace `<name>` with the name of the migration you want to create. This will create a new file in the `migrations/` folder.\n\n> **tip:**\n>  \n> For more information on what is available in migration files, see the [Knex migrations documentation](https://knexjs.org/guide/migrations.html).\n>",
    "breadcrumb": "Knexfile",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/knexfile.md",
    "heading": "Knexfile",
    "subHeadings": [
      "Migrations"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text"
    ],
    "tokens": 200,
    "category": "cli",
    "tags": [
      "create",
      "database",
      "knex",
      "http",
      "configuration",
      "generate",
      "migration"
    ],
    "embedding": [
      -0.030818,
      0.039326,
      -0.060872,
      0.053917,
      -0.023232,
      0.005606,
      0.010484,
      0.003138,
      0.005933,
      0.038038,
      -0.002876,
      -0.005512,
      -0.058188,
      0.051512,
      0.008972,
      0.017797,
      -0.019542,
      -0.015091,
      0.0182,
      -0.028448,
      0.008496,
      -0.007924,
      0.068603,
      -0.016618,
      0.021962,
      0.012358,
      0.009534,
      0.000285,
      0.043277,
      -0.000144,
      0.024601,
      -0.012665,
      -0.019184,
      0.036216,
      -0.025293,
      0.008419,
      0.00654,
      -0.008857,
      -0.019192,
      0.040528,
      -0.025143,
      0.005373,
      0.02279,
      -0.023244,
      0.039828,
      -0.009198,
      0.016471,
      -0.00967,
      0.006264,
      -0.014505,
      -0.039168,
      -0.008831,
      0.021237,
      -0.057852,
      0.07827,
      0.048278,
      -0.059961,
      0.024909,
      -0.045171,
      -0.033134,
      -0.027876,
      0.046318,
      0.000385,
      0.016284,
      -0.035959,
      0.04197,
      -0.026228,
      0.000289,
      0.000958,
      -0.086417,
      -0.017085,
      0.009591,
      -0.003289,
      -0.07131,
      -0.024919,
      0.020618,
      0.022344,
      -0.029873,
      -0.007509,
      0.03656,
      -0.01546,
      -0.002505,
      -0.010011,
      0.040698,
      0.028909,
      -0.041313,
      -0.031043,
      0.094573,
      0.019947,
      0.025252,
      0.002156,
      -0.02831,
      0.034509,
      -0.061231,
      -0.045295,
      -0.040769,
      -0.01879,
      0.041166,
      0.026966,
      -0.017691,
      0.017878,
      -0.009847,
      -0.005365,
      -0.01146,
      0.063346,
      0.028676,
      0.021359,
      0.01883,
      -0.023473,
      -0.044927,
      0.028584,
      0.004383,
      0.000092,
      -0.006608,
      -0.027317,
      -0.034592,
      0.055504,
      -0.035223,
      0.009693,
      -0.001177,
      0.011028,
      -0.02221,
      0.078973,
      0.016536,
      0.013014,
      -0.004175,
      0.02322,
      0.024461,
      -0.021315,
      0.02668,
      0.014185,
      0.045759,
      0.036629,
      -0.006099,
      0.022956,
      0.005605,
      0.028086,
      0.015354,
      0.030885,
      -0.035197,
      -0.030925,
      -0.013624,
      0.011157,
      -0.024542,
      0.01575,
      -0.014646,
      0.091705,
      0.025001,
      -0.043216,
      -0.033464,
      -0.006005,
      -0.020951,
      0.033624,
      0.008576,
      0.044052,
      -0.039794,
      -0.013292,
      0.031972,
      0.0309,
      -0.009319,
      -0.028556,
      0.035245,
      -0.050789,
      0.027538,
      0.073865,
      -0.047795,
      0.020917,
      -0.000851,
      -0.012929,
      -0.056602,
      0.015502,
      0.005638,
      0.059742,
      0.061792,
      0.069939,
      0.035694,
      0.062318,
      0.002666,
      0.046371,
      -0.028141,
      -0.062261,
      0.021872,
      0.003249,
      -0.02213,
      -0.004405,
      -0.010283,
      -0.012765,
      -0.035019,
      0.007281,
      -0.023014,
      -0.002087,
      0.002998,
      0.051725,
      -0.00358,
      0.05542,
      0.008178,
      0.037989,
      0.03571,
      0.002468,
      0.013121,
      0.003214,
      0.030477,
      -0.004417,
      0.004489,
      -0.02803,
      -0.046117,
      -0.017321,
      0.005892,
      0.017225,
      -0.052408,
      0.001372,
      0.007402,
      -0.030213,
      -0.024517,
      -0.023435,
      0.010291,
      -0.012933,
      0.006627,
      -0.013427,
      -0.045777,
      -0.011514,
      -0.013082,
      -0.010394,
      -0.013284,
      0.002692,
      0.014464,
      0.058878,
      0.026627,
      0.038249,
      -0.011604,
      -0.042073,
      0.031608,
      0.012374,
      -0.007085,
      0.015613,
      -0.021778,
      -0.0387,
      -0.012188,
      0.012999,
      -0.007974,
      -0.014884,
      -0.014846,
      0.01091,
      -0.000382,
      0.001684,
      -0.024851,
      0.010668,
      0.00425,
      -0.004361,
      -0.040782,
      -0.024701,
      0.016916,
      0.009225,
      0.027572,
      0.037813,
      0.016095,
      0.005349,
      0.004385,
      0.011003,
      -0.04556,
      0.001737,
      0.066446,
      0.025292,
      0.019254,
      0.043737,
      0.045489,
      -0.04303,
      -0.038833,
      0.056925,
      -0.00533,
      -0.034937,
      0.013704,
      0.039786,
      0.009317,
      -0.023688,
      -0.027448,
      0.010958,
      -0.001773,
      0.073321,
      0.035007,
      -0.029013,
      -0.002343,
      0.026821,
      0.012579,
      -0.003604,
      -0.004881,
      0.003815,
      -0.033017,
      -0.001156,
      -0.025064,
      -0.04121,
      -0.029501,
      0.045667,
      -0.022363,
      -0.059371,
      0.054872,
      0.004921,
      -0.14629,
      -0.001429,
      0.052587,
      0.010356,
      0.008712,
      0.033346,
      -0.047722,
      -0.023239,
      -0.068043,
      0.033672,
      0.014529,
      -0.052321,
      -0.011309,
      0.007702,
      0.034504,
      0.006117,
      0.026697,
      0.007603,
      0.000264,
      -0.027092,
      -0.032191,
      -0.059058,
      0.016956,
      0.068557,
      0.018483,
      -0.036612,
      0.036954,
      0.036794,
      0.009866,
      0.017315,
      -0.013943,
      -0.024244,
      0.007056,
      -0.010901,
      -0.017259,
      -0.014117,
      0.026918,
      -0.034134,
      -0.010835,
      -0.007539,
      0.014262,
      0.029869,
      -0.025865,
      0.017041,
      0.024854,
      0.010203,
      -0.012929,
      0.020618,
      -0.027461,
      0.010006,
      0.02677,
      -0.002696,
      -0.02738,
      -0.017374,
      -0.032117,
      0.005054,
      -0.026315,
      0.029495,
      -0.036671,
      -0.008162,
      0.004555,
      0.016466,
      0.018121,
      -0.009578,
      -0.010776,
      0.030923,
      0.024093,
      0.020461,
      0.02918,
      -0.020775,
      0.039528,
      -0.032797,
      -0.009695,
      0.032111,
      -0.009411,
      0.031974,
      -0.051646,
      -0.039008,
      -0.023511,
      -0.095492,
      -0.007892,
      0.020611,
      -0.009934,
      0.002095,
      -0.008753,
      -0.003385,
      -0.032047,
      -0.005629,
      0.00524,
      0.208971,
      0.013494,
      -0.008119,
      0.026429,
      0.028728,
      0.008829,
      0.015527,
      0.023133,
      0.055147,
      -0.057128,
      0.00543,
      -0.030756,
      -0.001994,
      -0.014937,
      -0.009379,
      0.004686,
      -0.037081,
      0.003716,
      0.032284,
      -0.022889,
      0.041253,
      -0.06824,
      0.014844,
      0.055719,
      -0.03769,
      -0.038388,
      -0.034336,
      0.019654,
      -0.076097,
      0.01874,
      -0.007452,
      0.058671,
      0.025668,
      -0.044221,
      -0.046435,
      0.018107,
      0.033839,
      -0.007417,
      -0.018431,
      0.029274,
      -0.001956,
      -0.008041,
      0.003962,
      0.007455,
      -0.013609,
      -0.030866,
      0.029555,
      0.032338,
      0.016373,
      -0.01193,
      -0.01244,
      -0.024516,
      -0.036679,
      0.001753,
      0.020799,
      -0.008755,
      0.043646,
      -0.00485,
      0.003827,
      0.032678,
      0.031077,
      -0.024905,
      -0.032666,
      0.008347,
      0.004396,
      0.00592,
      -0.008797,
      -0.060992,
      0.027985,
      0.08759,
      0.038104,
      -0.029303,
      -0.012706,
      -0.039822,
      -0.001143,
      0.043347,
      0.056791,
      0.014622,
      -0.021399,
      0.027526,
      0.002357,
      0.001827,
      -0.056247,
      0.004445,
      0.016959,
      0.030529,
      0.005032,
      0.027905,
      0.023958,
      -0.002658,
      -0.00381,
      -0.010514,
      0.023104,
      0.02792,
      0.008271,
      -0.025422,
      0.023328,
      -0.001693,
      -0.036048,
      -0.016888,
      0.00355,
      -0.026203,
      0.048084,
      -0.054758,
      0.024003,
      -0.012888,
      0.020064,
      -0.014319,
      0.01064,
      0.029526,
      -0.037325,
      0.015512,
      -0.02939,
      -0.017177,
      0.020386,
      0.008823,
      0.024623,
      0.036198,
      0.026606,
      -0.021229,
      -0.007027,
      0.0175,
      -0.031733,
      0.019004,
      0.006626,
      -0.038269,
      -0.037081,
      -0.034319,
      -0.046807,
      0.013496,
      0.032199,
      -0.039732,
      -0.017832,
      0.000626,
      -0.008034,
      0.014165,
      0.037411,
      0.042143,
      -0.04027,
      0.025347,
      -0.058209,
      0.046484,
      0.006076,
      0.01673,
      -0.036306,
      0.004853,
      0.045359,
      -0.014279,
      -0.017385,
      0.009971,
      0.014007,
      0.032272,
      0.0047,
      -0.009628,
      -0.02403,
      0.006361,
      -0.013148,
      0.022181,
      0.055199,
      -0.001121,
      -0.047249,
      -0.008895,
      0.05999,
      0.039207,
      0.033777,
      -0.027735,
      0.002539,
      0.018481,
      -0.030011,
      -0.036089,
      -0.005836,
      -0.012835,
      -0.06082,
      0.054077,
      0.062232,
      -0.005138,
      -0.050893,
      -0.04002,
      -0.018897,
      -0.041109,
      0.033903,
      -0.014231,
      -0.022051,
      -0.037663,
      -0.010392,
      0.051249,
      -0.028384,
      -0.030971,
      0.041436,
      -0.011793,
      -0.020622,
      0.094487,
      -0.008422,
      0.007704,
      -0.012047,
      0.012179,
      0.041634,
      0.016237,
      0.03047,
      -0.010453,
      0.011759,
      -0.050088,
      -0.036284,
      0.008235,
      0.011456,
      -0.038367,
      0.00325,
      0.025622,
      -0.009857,
      0.000945,
      -0.044151,
      0.013989,
      -0.053525,
      -0.004517,
      0.040277,
      -0.049078,
      0.042915,
      0.017563,
      -0.045001,
      -0.041821,
      -0.017961,
      0.024694,
      -0.000359,
      0.004545,
      -0.02452,
      -0.019534,
      0.008457,
      -0.01986,
      0.029015,
      0.025358,
      -0.003254,
      0.003588,
      -0.002838,
      -0.009225,
      -0.003262,
      0.04846,
      0.055699,
      0.00671,
      0.015671,
      -0.015323,
      -0.019934,
      0.005405,
      0.022593,
      0.029634,
      -0.001834,
      -0.02227,
      -0.017307,
      -0.046437,
      -0.074793,
      0.011865,
      -0.010323,
      -0.013011,
      0.029373,
      -0.011881,
      -0.006229,
      0.03487,
      0.028042,
      -0.012563,
      0.013305,
      -0.023238,
      -0.048446,
      -0.032623,
      0.007215,
      -0.040498,
      -0.001072,
      -0.032646,
      0.024755,
      -0.073045,
      -0.010874,
      -0.04419,
      -0.020706,
      -0.018693,
      -0.044827,
      0.000238,
      0.012194,
      -0.033424,
      -0.050104,
      -0.020915,
      -0.0178,
      -0.01038,
      -0.054094,
      0.016747,
      0.010575,
      -0.015772,
      0.011948,
      0.007626,
      0.070318,
      -0.031769,
      0.015865,
      -0.061122,
      -0.020373,
      0.011454,
      -0.050451,
      -0.033393,
      0.02977,
      0.000574,
      0.006287,
      0.046399,
      -0.018287,
      -0.004146,
      -0.027271,
      0.037559,
      -0.029483,
      -0.018186,
      -0.003853,
      0.036891,
      -0.002725,
      -0.049942,
      0.040652,
      -0.012303,
      0.026279,
      0.004929,
      -0.001351,
      0.051717,
      0.052199,
      0.013508,
      0.050675,
      -0.01645,
      0.034351,
      -0.028853,
      -0.027973,
      0.017022,
      -0.027813,
      -0.051208,
      -0.022515,
      -0.017663,
      0.028955,
      0.022876,
      -0.032383,
      0.013685,
      -0.03987,
      0.021042,
      0.022089,
      -0.007576,
      -0.03906,
      -0.075151,
      0.049193,
      -0.023999,
      0.014796,
      -0.025161,
      0.06205,
      -0.020499,
      0.064602,
      -0.015481,
      0.046651,
      -0.038326,
      -0.030641,
      0.006051,
      -0.042439,
      -0.016651,
      -0.018381,
      0.009084,
      -0.012683,
      -0.010837,
      0.003853,
      -0.050726,
      -0.056652,
      0.007128,
      0.000319,
      0.046235,
      0.0005,
      0.095592,
      -0.034688,
      -0.019335,
      0.027095,
      -0.027007,
      0.01227,
      -0.042118,
      -0.026341,
      -0.030441,
      0.011909,
      0.003183,
      -0.01214,
      0.00106,
      -0.037951,
      -0.028298,
      -0.062978,
      0.025148,
      0.014894,
      -0.02522,
      0.004022,
      -0.008539,
      -0.020377,
      -0.020152,
      -0.033234,
      0.011268,
      -0.040607,
      -0.0003,
      -0.037047,
      0.001806,
      -0.016072,
      -0.001381,
      -0.032617,
      -0.006002,
      -0.127354,
      -0.01385,
      -0.001382,
      0.026697,
      -0.028509,
      0.014812,
      0.010863,
      -0.010895,
      -0.002114,
      -0.028917,
      -0.064968,
      -0.006116,
      -0.031734,
      -0.015514,
      0.025005,
      0.048505,
      -0.008741,
      -0.014089,
      -0.009971,
      -0.020655,
      0.001642,
      -0.039115,
      -0.001326,
      -0.009295,
      -0.042206,
      -0.0047,
      -0.011128,
      -0.035132,
      -0.003241,
      -0.030049,
      0.002696,
      -0.052912,
      0.034766,
      0.018212,
      -0.006706,
      0.002463,
      -0.026271,
      -0.043106,
      -0.021712,
      -0.021816,
      -0.016115,
      0.011327,
      -0.02269,
      0.005953,
      0.036007,
      0.009002,
      -0.021078,
      -0.043677,
      0.009662,
      -0.029911,
      0.015539,
      0.034047,
      -0.018669,
      -0.008494,
      0.010685,
      0.001257,
      0.014209,
      -0.043615,
      -0.038415,
      0.031902,
      -0.018085,
      0.047417,
      0.002063,
      -0.037663,
      -0.022286,
      0.002549,
      0.005552,
      0.047015,
      0.026476,
      0.073416,
      0.004893,
      -0.070324,
      -0.012167,
      -0.004026,
      0.005298,
      -0.022174,
      0.031463,
      0.012334,
      -0.037988,
      -0.017728,
      -0.019475,
      0.009171,
      -0.032158,
      0.049106,
      0.032584,
      -0.014529,
      0.00145,
      -0.01788,
      -0.006187,
      -0.010011,
      -0.007744,
      -0.044014,
      -0.004033,
      -0.010063,
      -0.046616,
      0.05379,
      -0.046354,
      -0.023541,
      0.004833,
      -0.039652,
      -0.012271,
      -0.012153,
      -0.004349,
      0.015166,
      -0.021815,
      0.038327,
      0.016315,
      -0.02392,
      0.015525,
      -0.001761,
      0.034346,
      0.012801,
      -0.007625,
      -0.015878,
      -0.027596,
      0.00024,
      0.032754,
      -0.040485,
      -0.004652,
      -0.004812,
      0.047192,
      -0.02836,
      0.012137,
      -0.033754,
      0.033909,
      0.022558,
      0.017872,
      0.013426,
      0.001839,
      -0.006936,
      -0.026899,
      -0.048617,
      -0.036263,
      -0.023228,
      0.008103,
      -0.017638,
      -0.016055,
      0.047695,
      -0.048445,
      -0.031872,
      -0.000683,
      -0.052046,
      0.014877,
      -0.052149,
      0.024899,
      -0.037879,
      -0.010317,
      -0.047937,
      0.012749,
      -0.05598,
      -0.005691,
      0.016706,
      0.004134,
      0.048351,
      0.019285,
      0.011292,
      -0.03271,
      0.017799,
      -0.016218,
      0.051829,
      0.035888,
      -0.028718,
      0.027427,
      -0.024721,
      -0.014747,
      0.047923,
      0.023473,
      -0.003187,
      -0.026768,
      0.022728,
      -0.008543,
      0.035908,
      0.007104,
      0.027305,
      0.043558,
      -0.028666,
      0.029013,
      -0.020504,
      0.04213,
      -0.008642,
      -0.008927,
      -0.006233,
      0.056005,
      0.058397,
      0.022734,
      0.043754,
      -0.013972,
      -0.001463,
      -0.020877,
      0.008824,
      0.009086,
      0.015409,
      0.014704,
      0.032716,
      0.014812,
      0.006924,
      0.011317,
      -0.001051,
      -0.002883,
      0.019865,
      -0.025771,
      -0.02529,
      -0.013152,
      0.028756,
      -0.018506,
      0.023039,
      -0.021672,
      0.014737,
      0.015663,
      0.02575,
      0.016016,
      0.01284,
      0.027361,
      0.060199,
      0.014794,
      -0.011179,
      0.013255,
      -0.013807,
      0.001641,
      -0.024858,
      0.013412,
      0.024153,
      -0.012952,
      -0.027111,
      -0.02015,
      0.006852,
      -0.048993,
      -0.01632,
      -0.010385,
      0.022195,
      -0.0051,
      -0.020872,
      0.003784,
      0.022658,
      0.060393,
      -0.046565,
      0.036865,
      0.034531,
      0.005641,
      0.031019,
      -0.025402,
      0.007041,
      0.009028,
      -0.052743
    ]
  },
  {
    "id": "v5-log-error-0",
    "content": "# Error logging hook\nBreadcrumb: Error logging hook\n\n",
    "rawContent": "",
    "breadcrumb": "Error logging hook",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/log-error.md",
    "heading": "Error logging hook",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "cli",
    "tags": [],
    "embedding": [
      -0.017168,
      0.001278,
      -0.043156,
      0.037399,
      -0.039997,
      -0.002359,
      -0.030644,
      0.022187,
      -0.025632,
      -0.008205,
      0.025802,
      -0.037521,
      -0.001783,
      0.021317,
      -0.008846,
      -0.013604,
      -0.029889,
      -0.021083,
      -0.000859,
      -0.018409,
      -0.02383,
      -0.008323,
      -0.024353,
      0.032883,
      -0.003901,
      0.007061,
      0.030577,
      -0.04957,
      -0.069108,
      -0.022289,
      0.00867,
      0.062292,
      0.013122,
      -0.065662,
      -0.00849,
      -0.016009,
      -0.009792,
      0.054939,
      -0.056364,
      0.053603,
      -0.021129,
      -0.017648,
      0.023288,
      -0.05098,
      0.026118,
      0.001971,
      -0.024978,
      0.00636,
      0.000067,
      0.026942,
      0.013558,
      -0.00105,
      0.055524,
      -0.032555,
      0.041385,
      -0.015357,
      -0.002975,
      -0.055684,
      -0.09563,
      -0.025866,
      -0.0246,
      0.01394,
      0.010455,
      0.028638,
      0.025018,
      0.072404,
      -0.026027,
      0.008302,
      -0.010082,
      0.005557,
      -0.004595,
      0.01561,
      -0.011848,
      -0.014355,
      -0.041234,
      0.08118,
      0.036081,
      -0.002689,
      0.026616,
      0.052538,
      0.03134,
      -0.000798,
      0.013008,
      -0.006239,
      0.007467,
      -0.00428,
      -0.001576,
      -0.025611,
      -0.032888,
      -0.029801,
      0.005591,
      -0.021144,
      0.003071,
      0.01292,
      0.001498,
      -0.001841,
      0.014558,
      -0.022843,
      -0.02353,
      0.065089,
      0.005835,
      0.011311,
      0.006293,
      -0.016347,
      -0.019463,
      0.017781,
      -0.002651,
      0.000025,
      -0.008519,
      -0.017036,
      -0.002701,
      0.001436,
      0.00707,
      0.024426,
      0.010748,
      -0.001772,
      -0.020293,
      -0.00555,
      -0.026084,
      -0.033321,
      0.020696,
      0.025876,
      0.017925,
      -0.030608,
      0.028938,
      -0.002797,
      0.008806,
      0.001994,
      0.009658,
      0.02613,
      0.006599,
      0.017239,
      -0.028188,
      0.034684,
      -0.004079,
      0.01853,
      0.035043,
      -0.018741,
      0.01746,
      -0.007143,
      -0.037494,
      0.041033,
      -0.043655,
      -0.002141,
      0.015636,
      -0.042012,
      0.055285,
      0.007194,
      0.029352,
      0.022683,
      0.001286,
      -0.01798,
      0.052713,
      -0.020654,
      0.032558,
      -0.065218,
      -0.060371,
      0.041669,
      0.057571,
      0.034306,
      0.01294,
      0.048257,
      0.015266,
      -0.022552,
      0.047495,
      -0.01441,
      0.040477,
      0.017647,
      -0.005858,
      -0.026065,
      0.020877,
      -0.034608,
      -0.008205,
      -0.053501,
      0.013216,
      0.041393,
      -0.002731,
      0.022159,
      0.015185,
      -0.049477,
      -0.047586,
      -0.003254,
      0.005176,
      -0.019639,
      -0.039459,
      0.017062,
      0.019515,
      -0.017503,
      0.00519,
      0.032651,
      0.017455,
      0.011686,
      0.002307,
      -0.026898,
      -0.011178,
      0.008441,
      -0.049221,
      0.009278,
      -0.012858,
      -0.004954,
      0.006551,
      0.016852,
      0.010347,
      -0.007384,
      -0.040812,
      0.01633,
      0.007582,
      0.001526,
      0.005564,
      -0.033478,
      0.02418,
      0.035791,
      -0.012351,
      -0.051427,
      -0.069763,
      -0.045589,
      -0.014478,
      -0.01339,
      -0.00353,
      0.0282,
      -0.00519,
      -0.003098,
      0.006854,
      0.008556,
      0.043706,
      0.016118,
      0.015217,
      0.005912,
      0.032949,
      -0.029168,
      -0.051401,
      -0.042013,
      0.042021,
      0.017286,
      0.029846,
      0.002563,
      0.023596,
      0.010259,
      0.052902,
      -0.011523,
      -0.025216,
      -0.03744,
      0.063237,
      -0.01217,
      -0.017066,
      -0.046979,
      0.015728,
      0.063858,
      -0.03175,
      -0.019541,
      0.020158,
      -0.028182,
      -0.008214,
      -0.018649,
      -0.014614,
      -0.008493,
      -0.022761,
      -0.023967,
      -0.008063,
      -0.021563,
      0.014333,
      0.0311,
      -0.001793,
      0.007669,
      0.029435,
      -0.018694,
      -0.030847,
      -0.025611,
      0.027112,
      -0.020274,
      0.003664,
      0.009599,
      -0.001071,
      -0.006693,
      -0.01801,
      -0.015253,
      -0.010173,
      -0.027124,
      0.085674,
      0.024245,
      0.000996,
      0.074943,
      0.051155,
      -0.01178,
      0.003127,
      0.008805,
      0.012174,
      -0.041489,
      0.033481,
      -0.003147,
      0.007793,
      -0.001045,
      0.065567,
      0.006675,
      -0.052116,
      0.012787,
      -0.002458,
      -0.136203,
      -0.023815,
      0.01466,
      0.003288,
      0.042619,
      0.004932,
      -0.007086,
      0.008445,
      -0.04891,
      0.056086,
      -0.004472,
      -0.061395,
      0.001068,
      -0.012959,
      -0.013357,
      -0.037957,
      -0.026921,
      0.011824,
      0.038198,
      -0.041446,
      -0.010514,
      -0.015778,
      0.013373,
      -0.000692,
      -0.004758,
      -0.005834,
      0.088709,
      -0.057257,
      -0.064296,
      -0.015653,
      -0.043965,
      0.018092,
      0.018664,
      -0.006454,
      0.017623,
      0.047847,
      0.030886,
      0.045734,
      0.048283,
      -0.012574,
      0.028708,
      -0.036124,
      -0.026503,
      0.006342,
      0.022645,
      -0.038212,
      0.026717,
      -0.016799,
      0.003437,
      -0.035307,
      0.014843,
      -0.047936,
      0.010157,
      -0.010352,
      0.020185,
      0.035276,
      0.014266,
      0.005587,
      -0.041565,
      0.030559,
      -0.020377,
      -0.0666,
      0.033268,
      0.001851,
      -0.052916,
      -0.037287,
      -0.016448,
      -0.044041,
      0.018703,
      -0.049878,
      0.012033,
      -0.068827,
      0.005943,
      -0.006065,
      -0.027184,
      -0.025077,
      0.016091,
      -0.019061,
      -0.0299,
      -0.100223,
      -0.065398,
      -0.001204,
      -0.031429,
      0.00586,
      -0.035075,
      -0.00505,
      -0.008636,
      0.057734,
      0.02401,
      0.181228,
      0.055264,
      0.008982,
      -0.038182,
      0.055804,
      -0.002701,
      -0.06811,
      0.041529,
      -0.000239,
      -0.043891,
      -0.063835,
      -0.022354,
      -0.017149,
      -0.039902,
      -0.001973,
      -0.024242,
      -0.03865,
      -0.02976,
      0.091597,
      0.014783,
      0.019178,
      -0.010112,
      0.062533,
      0.020852,
      -0.030941,
      -0.080816,
      -0.046373,
      -0.006914,
      -0.027627,
      0.030916,
      0.005849,
      0.017684,
      0.019812,
      -0.045424,
      -0.014244,
      -0.015058,
      0.014794,
      -0.010291,
      -0.01726,
      0.039237,
      -0.022591,
      -0.031584,
      0.01076,
      0.020155,
      -0.021943,
      0.011785,
      -0.008766,
      0.021838,
      0.025219,
      0.026202,
      -0.044216,
      -0.029975,
      -0.028701,
      -0.013636,
      0.007218,
      -0.008685,
      -0.040486,
      -0.031883,
      -0.033066,
      0.021429,
      0.06837,
      -0.002618,
      -0.052376,
      0.052922,
      0.034262,
      0.056441,
      0.011945,
      -0.040013,
      0.000647,
      0.045231,
      0.01745,
      0.01533,
      -0.01909,
      -0.037445,
      0.019106,
      -0.030778,
      0.044426,
      0.065588,
      -0.01174,
      0.032042,
      -0.008053,
      -0.010788,
      -0.029043,
      0.073424,
      0.008812,
      -0.029205,
      -0.002476,
      0.038249,
      -0.045743,
      -0.027969,
      -0.023262,
      -0.010753,
      0.002175,
      0.007262,
      -0.056663,
      0.046117,
      -0.003734,
      -0.0045,
      -0.047421,
      -0.038212,
      0.014938,
      -0.038664,
      -0.005874,
      -0.0256,
      0.026297,
      -0.018448,
      -0.027324,
      -0.024532,
      0.035592,
      -0.014018,
      0.022598,
      0.024464,
      0.035811,
      -0.032592,
      0.041801,
      -0.022278,
      0.019259,
      0.006183,
      0.038456,
      0.021099,
      0.017275,
      -0.034298,
      0.023828,
      0.002461,
      0.002246,
      -0.053084,
      0.018599,
      -0.011302,
      -0.029067,
      0.031836,
      0.015492,
      -0.030974,
      -0.038059,
      0.009679,
      0.048449,
      0.029651,
      0.02052,
      0.01732,
      0.015051,
      -0.0122,
      0.028178,
      0.00164,
      -0.02082,
      -0.021823,
      -0.045935,
      -0.006257,
      -0.006498,
      -0.031159,
      0.010016,
      0.035417,
      0.047995,
      0.03013,
      -0.01199,
      -0.038243,
      -0.024435,
      -0.063888,
      -0.016224,
      0.037172,
      -0.030334,
      -0.021256,
      -0.0075,
      0.044045,
      0.026494,
      0.038116,
      0.001859,
      0.011785,
      0.05248,
      0.008404,
      0.02049,
      -0.016193,
      0.028549,
      -0.014072,
      -0.052716,
      0.089213,
      -0.018898,
      -0.062997,
      0.009537,
      0.006843,
      0.038608,
      0.024859,
      0.033595,
      -0.03323,
      -0.029552,
      -0.004792,
      -0.002011,
      0.028521,
      -0.025275,
      -0.042421,
      -0.029621,
      0.018695,
      -0.036095,
      0.103456,
      0.028946,
      0.001925,
      0.003724,
      0.00687,
      -0.011104,
      -0.005741,
      0.009478,
      -0.002832,
      -0.01276,
      0.001501,
      -0.008921,
      -0.016935,
      -0.04412,
      -0.010916,
      -0.014886,
      0.020286,
      -0.021236,
      0.010082,
      0.042926,
      0.011651,
      -0.047587,
      0.00053,
      0.015747,
      0.041076,
      0.098135,
      0.035399,
      -0.003939,
      -0.02171,
      -0.036029,
      -0.021088,
      0.059313,
      -0.043466,
      -0.002154,
      0.020567,
      0.010455,
      -0.043872,
      0.03678,
      0.01171,
      0.009091,
      -0.041451,
      -0.010986,
      -0.01584,
      0.013402,
      0.014924,
      0.050911,
      0.050781,
      0.015703,
      -0.004854,
      0.018967,
      -0.057124,
      -0.001032,
      0.064301,
      -0.036666,
      0.032465,
      0.060013,
      -0.074852,
      0.03322,
      -0.001439,
      -0.023218,
      0.026109,
      -0.036064,
      -0.014406,
      -0.007647,
      0.008494,
      0.020952,
      0.009762,
      -0.012351,
      0.010748,
      -0.012215,
      0.033585,
      0.011534,
      0.010919,
      -0.021306,
      -0.003012,
      0.005877,
      -0.020343,
      -0.01527,
      -0.019957,
      -0.033679,
      0.002513,
      -0.02536,
      -0.054923,
      0.003951,
      -0.008147,
      -0.038988,
      -0.009086,
      0.040495,
      -0.005788,
      -0.021041,
      -0.006093,
      0.023231,
      0.007014,
      0.007381,
      0.067805,
      0.003773,
      0.034042,
      0.019746,
      -0.041979,
      0.023164,
      -0.058106,
      -0.059162,
      -0.015176,
      -0.042374,
      0.012084,
      0.005513,
      0.014975,
      0.007672,
      -0.005076,
      -0.004004,
      0.029391,
      -0.01236,
      -0.04863,
      -0.014577,
      0.007535,
      0.024149,
      -0.025861,
      -0.024479,
      0.028248,
      0.016311,
      -0.00351,
      -0.022679,
      0.025147,
      0.044116,
      -0.0347,
      0.098331,
      -0.01624,
      0.039317,
      -0.035142,
      -0.022231,
      -0.00794,
      0.005765,
      0.020391,
      -0.010117,
      -0.032612,
      -0.044577,
      -0.007713,
      -0.038945,
      -0.033345,
      -0.073991,
      -0.004669,
      -0.00894,
      -0.015751,
      0.041185,
      0.003159,
      0.011562,
      -0.008896,
      -0.00356,
      0.01514,
      -0.019921,
      0.002912,
      0.050144,
      -0.020477,
      0.001649,
      -0.002759,
      -0.028539,
      -0.042896,
      -0.006208,
      0.010562,
      -0.038439,
      0.034269,
      -0.042502,
      -0.030946,
      0.000292,
      0.023477,
      0.04786,
      0.038992,
      -0.015497,
      -0.035995,
      -0.016308,
      0.048821,
      0.01177,
      -0.019184,
      0.056517,
      -0.003809,
      0.00943,
      -0.030346,
      0.039403,
      -0.012023,
      -0.046418,
      0.010603,
      -0.003616,
      0.019764,
      0.001146,
      0.02493,
      -0.009185,
      -0.00962,
      0.029261,
      0.004814,
      -0.043974,
      0.0302,
      -0.062806,
      -0.00646,
      -0.000635,
      0.008387,
      -0.034457,
      0.008843,
      0.049083,
      0.043681,
      0.008996,
      -0.015241,
      -0.037777,
      -0.010641,
      -0.108884,
      0.011664,
      -0.055764,
      0.008004,
      -0.003581,
      0.00782,
      -0.005041,
      -0.005681,
      0.007226,
      -0.050453,
      -0.010745,
      0.043111,
      0.01413,
      -0.00635,
      -0.022555,
      0.022914,
      0.008749,
      -0.004255,
      -0.018794,
      0.021261,
      0.011436,
      -0.010923,
      0.030398,
      -0.011055,
      -0.015741,
      -0.009426,
      -0.020335,
      -0.042337,
      -0.04428,
      0.003506,
      0.001952,
      -0.047667,
      0.013944,
      0.019133,
      0.012861,
      0.032004,
      -0.005782,
      0.019989,
      -0.025945,
      0.017157,
      -0.015576,
      0.021144,
      -0.025842,
      0.051008,
      0.048026,
      0.001635,
      0.009448,
      -0.011628,
      0.001574,
      -0.008807,
      -0.000354,
      0.055639,
      -0.036436,
      0.051702,
      0.04086,
      -0.00758,
      -0.086616,
      -0.006185,
      -0.020249,
      -0.005445,
      -0.028022,
      0.055521,
      -0.023376,
      -0.056415,
      -0.029664,
      0.006311,
      -0.031483,
      0.00172,
      -0.01289,
      0.027594,
      0.010426,
      0.006216,
      -0.015222,
      -0.021756,
      0.032341,
      0.002603,
      0.02807,
      -0.00728,
      -0.01318,
      0.015766,
      -0.07898,
      0.048995,
      -0.019714,
      0.069104,
      0.031499,
      0.04879,
      0.009061,
      0.031228,
      -0.077951,
      0.013102,
      -0.070614,
      -0.017737,
      -0.011297,
      -0.017781,
      -0.001643,
      0.059688,
      -0.016559,
      0.005491,
      0.006822,
      0.015186,
      -0.033902,
      -0.023691,
      -0.020158,
      0.002323,
      0.014867,
      -0.03325,
      0.004739,
      -0.00752,
      0.008621,
      -0.029469,
      -0.00286,
      -0.008322,
      0.030897,
      0.000663,
      -0.050641,
      -0.012851,
      0.001332,
      0.025184,
      -0.006442,
      -0.002799,
      0.03068,
      -0.023188,
      0.027571,
      -0.015892,
      -0.018826,
      -0.020707,
      0.035153,
      0.034535,
      0.019742,
      0.027277,
      0.001116,
      -0.006481,
      -0.003524,
      0.02024,
      0.031574,
      -0.040162,
      -0.030396,
      0.055482,
      -0.02198,
      -0.043282,
      -0.016556,
      0.013191,
      -0.002424,
      -0.015975,
      -0.014362,
      -0.021482,
      0.006291,
      -0.003589,
      -0.038856,
      -0.014182,
      -0.022945,
      0.041843,
      -0.025757,
      0.032538,
      0.004229,
      0.002544,
      -0.041603,
      0.020188,
      -0.02983,
      0.018925,
      -0.03151,
      -0.004012,
      -0.002483,
      -0.034759,
      0.017318,
      -0.015801,
      -0.013363,
      0.009111,
      -0.014317,
      0.020664,
      0.022545,
      0.039689,
      -0.041279,
      0.024478,
      0.053284,
      -0.005251,
      -0.00362,
      0.006891,
      0.069995,
      -0.001017,
      0.030976,
      0.023403,
      0.016098,
      0.060075,
      0.043949,
      0.010504,
      0.027801,
      -0.00202,
      -0.022027,
      -0.006757,
      -0.027965,
      -0.020622,
      -0.048164,
      0.021362,
      0.038545,
      0.012406,
      -0.022713,
      0.052836,
      0.009682,
      0.078039,
      0.003517,
      -0.011482,
      -0.02052,
      0.004229,
      -0.003808,
      0.006504,
      -0.01243,
      0.020685,
      -0.005992,
      0.028128,
      0.009568,
      -0.033796,
      0.015231,
      -0.006735,
      -0.011079,
      -0.005498,
      0.02087,
      0.030918,
      -0.004831,
      0.041312,
      0.053419,
      0.005178,
      -0.006857,
      -0.025349,
      -0.016924,
      -0.012539,
      -0.019774,
      -0.018029,
      0.026498,
      -0.014844,
      -0.007214,
      -0.028106,
      -0.013099,
      0.039171,
      -0.012354,
      -0.011702,
      -0.014828,
      0.002085,
      -0.040205,
      -0.028271,
      0.0159,
      0.019906,
      0.026216,
      0.034417
    ]
  },
  {
    "id": "v5-logger-0",
    "content": "# Logging\nBreadcrumb: Logging\nCovers: Logger\nTopics: create, github, http, transport, errors, logging, logger\n\n## Logger\n\nThe `src/logger.ts` file initialises the widely used [Winston logger](https://github.com/winstonjs/winston) library, by default with the `info` log level, logging to the console.\n\n```ts\nimport { createLogger, format, transports } from 'winston'\n\n// Configure the Winston logger. For the complete documentation see https://github.com/winstonjs/winston\nexport const logger = createLogger({\n  // To see more detailed errors, change this to 'debug'\n  level: 'info',\n  format: format.combine(format.splat(), format.simple()),\n  transports: [new transports.Console()]\n})\n```\n\nYou can import the logger directly in any file where you want to add logging information.\n\n```ts\nimport { logger } from './logger'\n\nlogger.info('Log some information here')\n```",
    "rawContent": "## Logger\n\nThe `src/logger.ts` file initialises the widely used [Winston logger](https://github.com/winstonjs/winston) library, by default with the `info` log level, logging to the console.\n\n```ts\nimport { createLogger, format, transports } from 'winston'\n\n// Configure the Winston logger. For the complete documentation see https://github.com/winstonjs/winston\nexport const logger = createLogger({\n  // To see more detailed errors, change this to 'debug'\n  level: 'info',\n  format: format.combine(format.splat(), format.simple()),\n  transports: [new transports.Console()]\n})\n```\n\nYou can import the logger directly in any file where you want to add logging information.\n\n```ts\nimport { logger } from './logger'\n\nlogger.info('Log some information here')\n```",
    "breadcrumb": "Logging",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/logger.md",
    "heading": "Logging",
    "subHeadings": [
      "Logger"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 190,
    "category": "cli",
    "tags": [
      "create",
      "github",
      "http",
      "transport",
      "errors",
      "logging",
      "logger"
    ],
    "embedding": [
      -0.007688,
      -0.038276,
      -0.04925,
      0.059317,
      0.013093,
      -0.007857,
      -0.041313,
      -0.020451,
      0.018299,
      0.017663,
      0.028463,
      0.011435,
      -0.012361,
      0.043947,
      -0.017383,
      0.003475,
      -0.031145,
      0.027529,
      0.009928,
      -0.033483,
      -0.017376,
      -0.010626,
      0.015018,
      0.023851,
      -0.005733,
      0.024592,
      0.010077,
      -0.028919,
      0.029078,
      -0.054237,
      0.047276,
      -0.001538,
      -0.015629,
      -0.008106,
      -0.038354,
      -0.019268,
      0.021833,
      0.005513,
      -0.027547,
      0.045165,
      -0.00947,
      -0.025836,
      0.006862,
      -0.033029,
      0.011843,
      -0.031125,
      0.019717,
      -0.00157,
      0.047376,
      -0.02225,
      -0.041952,
      -0.000746,
      0.036693,
      -0.031635,
      -0.01163,
      0.053948,
      -0.059451,
      -0.034554,
      -0.046224,
      -0.003683,
      -0.030001,
      0.017045,
      -0.027438,
      -0.000203,
      -0.017095,
      0.040056,
      -0.012163,
      -0.04172,
      -0.01507,
      0.019121,
      -0.018061,
      0.003695,
      -0.062464,
      0.020217,
      -0.043827,
      -0.00084,
      -0.003242,
      -0.011948,
      0.004249,
      0.004505,
      0.00278,
      0.004495,
      -0.013646,
      -0.019372,
      0.050414,
      0.020474,
      0.015022,
      0.037355,
      -0.025144,
      0.011367,
      -0.015637,
      -0.050061,
      0.062114,
      0.001043,
      -0.004808,
      -0.034895,
      0.022335,
      0.033836,
      0.016167,
      0.017837,
      0.022028,
      -0.00313,
      0.002411,
      -0.000692,
      0.03146,
      0.02212,
      0.028104,
      -0.006234,
      -0.017407,
      -0.033464,
      -0.014144,
      0.00864,
      0.018479,
      -0.010132,
      -0.030825,
      -0.026699,
      0.006778,
      -0.015631,
      -0.009886,
      -0.018675,
      0.022396,
      0.015596,
      0.037995,
      -0.006341,
      0.017242,
      -0.019708,
      0.006317,
      -0.001974,
      0.050379,
      0.01156,
      0.013937,
      0.033914,
      0.00146,
      0.021568,
      -0.009973,
      -0.019822,
      0.035317,
      0.003669,
      -0.007295,
      -0.008447,
      0.004207,
      0.034513,
      -0.049572,
      -0.05359,
      0.022569,
      -0.0554,
      0.037374,
      0.015759,
      0.009334,
      0.005174,
      -0.049244,
      -0.00079,
      -0.007427,
      0.012856,
      0.014396,
      -0.018859,
      -0.014906,
      -0.028912,
      -0.03396,
      0.02988,
      -0.016423,
      0.029279,
      -0.020492,
      -0.003655,
      0.057785,
      -0.055377,
      0.009838,
      -0.023122,
      -0.003674,
      -0.04971,
      -0.014281,
      0.003941,
      0.00425,
      0.021575,
      0.01319,
      0.03667,
      0.055318,
      0.013838,
      0.094359,
      -0.030684,
      -0.023716,
      0.018435,
      0.025524,
      -0.021474,
      -0.006186,
      0.036251,
      -0.001786,
      -0.036398,
      0.008488,
      0.009404,
      -0.006103,
      0.022708,
      -0.021256,
      0.025068,
      0.000225,
      0.02378,
      0.003847,
      0.02138,
      -0.05846,
      -0.040237,
      -0.035492,
      -0.015285,
      0.010651,
      0.012415,
      -0.025622,
      0.014428,
      -0.016201,
      -0.027781,
      0.008105,
      -0.078497,
      -0.005096,
      0.041107,
      -0.026676,
      -0.003194,
      -0.022498,
      0.009685,
      -0.011205,
      0.016348,
      -0.004033,
      -0.038926,
      -0.033391,
      0.02225,
      0.021328,
      -0.021057,
      0.04472,
      -0.015202,
      0.048438,
      -0.020074,
      0.027291,
      0.028126,
      -0.043871,
      0.005104,
      0.014839,
      -0.01968,
      0.019263,
      -0.002564,
      -0.023047,
      0.008648,
      0.005303,
      0.006632,
      0.000882,
      -0.045285,
      0.040839,
      -0.020972,
      -0.041662,
      -0.049073,
      0.044528,
      0.022746,
      -0.034636,
      -0.002609,
      -0.013812,
      0.023792,
      0.022656,
      0.029599,
      0.050877,
      0.040852,
      0.04083,
      -0.000929,
      -0.066072,
      -0.036674,
      0.012943,
      0.003213,
      -0.002072,
      0.001578,
      0.020737,
      0.033459,
      -0.042077,
      -0.100161,
      0.009154,
      -0.009178,
      -0.000619,
      0.007753,
      0.008086,
      0.005546,
      -0.023383,
      0.022851,
      -0.004595,
      -0.003967,
      0.087383,
      0.018959,
      -0.056445,
      0.015998,
      0.02526,
      0.034354,
      0.007908,
      0.013578,
      0.030873,
      -0.035491,
      0.032013,
      -0.017971,
      -0.020159,
      0.014729,
      0.050862,
      -0.016514,
      -0.008316,
      -0.002461,
      0.042686,
      -0.145127,
      -0.012757,
      0.030675,
      0.045626,
      -0.003215,
      0.020317,
      -0.033519,
      -0.007918,
      -0.062472,
      0.009879,
      0.034915,
      -0.038849,
      -0.004423,
      -0.011553,
      0.024428,
      -0.015224,
      -0.015207,
      -0.001381,
      -0.007725,
      -0.016923,
      0.016638,
      -0.070014,
      0.0659,
      0.011846,
      0.0122,
      -0.03116,
      0.092206,
      0.010067,
      -0.034411,
      0.011131,
      -0.010249,
      0.023547,
      0.009835,
      -0.009338,
      -0.002353,
      0.00449,
      0.026195,
      -0.01339,
      0.022983,
      0.022459,
      0.025598,
      0.024014,
      0.001952,
      0.027769,
      0.014443,
      -0.017711,
      0.058423,
      -0.039934,
      -0.002563,
      0.013008,
      0.003938,
      -0.032645,
      -0.047358,
      -0.022828,
      -0.044376,
      -0.026673,
      -0.015769,
      0.009069,
      -0.034407,
      -0.026094,
      -0.023654,
      -0.080956,
      0.038515,
      0.008893,
      -0.018713,
      -0.006977,
      0.070282,
      -0.01558,
      0.025646,
      -0.020549,
      0.016234,
      -0.036338,
      0.051661,
      0.026046,
      0.02211,
      -0.001708,
      -0.00413,
      0.000591,
      0.015305,
      -0.122586,
      -0.046982,
      -0.004312,
      -0.022086,
      0.022988,
      0.007604,
      0.018165,
      -0.021411,
      0.036638,
      0.021918,
      0.242851,
      0.075064,
      -0.011722,
      -0.00978,
      0.013155,
      -0.034847,
      -0.056636,
      0.031114,
      -0.035636,
      -0.010819,
      -0.044844,
      0.004004,
      0.031463,
      -0.032195,
      0.000645,
      -0.015184,
      -0.030483,
      0.012255,
      0.048411,
      -0.024151,
      0.039601,
      -0.036429,
      0.065953,
      0.068139,
      -0.05791,
      -0.007054,
      0.010347,
      0.017089,
      -0.006692,
      0.019455,
      0.006744,
      0.038948,
      0.001715,
      -0.048569,
      -0.018737,
      -0.004091,
      -0.003931,
      -0.041016,
      0.027631,
      0.052893,
      -0.016545,
      -0.01683,
      0.021816,
      -0.008696,
      0.012409,
      -0.027592,
      0.019788,
      0.038676,
      -0.011009,
      -0.024641,
      -0.027135,
      -0.059723,
      -0.037909,
      0.005054,
      0.01223,
      -0.020498,
      -0.010469,
      -0.030911,
      -0.011316,
      0.03135,
      0.042387,
      0.010518,
      -0.041031,
      0.015405,
      0.020424,
      0.035151,
      0.013649,
      -0.053143,
      0.005374,
      0.042058,
      -0.050924,
      -0.016423,
      -0.014365,
      -0.0201,
      0.022345,
      -0.001038,
      0.071958,
      0.004666,
      -0.01308,
      0.06634,
      -0.039746,
      0.001492,
      0.029039,
      0.025122,
      0.018836,
      -0.02319,
      0.007722,
      0.033443,
      0.003007,
      -0.028326,
      -0.005289,
      -0.025093,
      0.014638,
      -0.016102,
      -0.040238,
      0.007906,
      -0.003194,
      -0.031596,
      -0.016772,
      -0.012451,
      0.025541,
      0.010459,
      -0.019278,
      -0.017768,
      0.054628,
      -0.027114,
      -0.015408,
      -0.009371,
      0.059227,
      -0.01494,
      -0.026381,
      0.016028,
      0.025425,
      -0.012559,
      0.03025,
      -0.003745,
      0.052416,
      -0.013427,
      0.015098,
      0.009877,
      0.023715,
      0.06647,
      -0.017862,
      -0.015197,
      0.018401,
      -0.026878,
      0.008023,
      -0.071007,
      -0.011242,
      0.027494,
      0.051176,
      -0.026697,
      -0.039359,
      0.034615,
      0.036275,
      0.037294,
      -0.013617,
      0.027998,
      0.026752,
      0.001861,
      -0.032016,
      0.016498,
      -0.024368,
      -0.025546,
      -0.013575,
      0.002512,
      0.010238,
      -0.048748,
      -0.053582,
      0.023671,
      0.054181,
      0.041133,
      0.046245,
      -0.005984,
      -0.030726,
      -0.010688,
      -0.021387,
      -0.004042,
      -0.029334,
      -0.001034,
      -0.008123,
      0.014545,
      0.063937,
      0.041471,
      -0.012921,
      -0.037122,
      -0.033496,
      0.010142,
      -0.017327,
      -0.01306,
      0.037004,
      -0.057447,
      -0.044277,
      0.03803,
      0.001987,
      -0.032958,
      -0.067959,
      -0.017157,
      -0.022113,
      0.036316,
      0.005346,
      0.013901,
      -0.043225,
      -0.017785,
      0.015006,
      -0.046194,
      -0.035956,
      -0.018749,
      -0.005819,
      -0.016184,
      -0.02609,
      0.090377,
      0.009821,
      0.016174,
      0.017104,
      -0.014869,
      0.040105,
      -0.013487,
      0.022664,
      0.021206,
      0.024286,
      0.014906,
      -0.008005,
      0.012801,
      -0.018972,
      -0.034244,
      -0.004379,
      0.012689,
      -0.038038,
      0.003328,
      0.015993,
      -0.032218,
      -0.047747,
      -0.003726,
      0.055894,
      -0.017407,
      0.090423,
      0.084614,
      -0.014557,
      -0.059059,
      0.016686,
      0.010201,
      0.029142,
      -0.052935,
      -0.003565,
      0.029533,
      -0.001898,
      -0.013189,
      0.038198,
      -0.001777,
      0.000061,
      -0.014178,
      -0.002719,
      0.000346,
      0.030851,
      0.007969,
      0.0312,
      0.03021,
      0.040688,
      0.024677,
      0.048263,
      -0.004446,
      0.01561,
      -0.008486,
      0.008072,
      0.021034,
      0.049024,
      -0.019705,
      -0.045113,
      0.01355,
      -0.012204,
      -0.04387,
      -0.013726,
      -0.024307,
      -0.015908,
      0.082174,
      -0.014646,
      -0.014891,
      -0.004167,
      0.037788,
      -0.005789,
      0.012,
      -0.010475,
      0.014338,
      0.039271,
      -0.040924,
      -0.007112,
      -0.03442,
      -0.024557,
      -0.032902,
      -0.001101,
      0.021545,
      -0.016025,
      -0.018544,
      0.011692,
      0.005415,
      -0.010367,
      -0.018288,
      0.022007,
      -0.034344,
      -0.056651,
      -0.038686,
      0.028916,
      0.027419,
      -0.002368,
      0.021957,
      -0.00976,
      -0.033991,
      -0.013742,
      -0.022427,
      0.016085,
      0.022581,
      -0.002161,
      0.020979,
      -0.008068,
      -0.020098,
      0.006774,
      0.01479,
      -0.023847,
      0.018003,
      -0.012039,
      0.025055,
      0.006977,
      -0.017294,
      -0.037345,
      0.037085,
      -0.038276,
      0.035917,
      0.025289,
      0.033436,
      0.014435,
      -0.062429,
      0.019082,
      0.028939,
      0.030731,
      0.024943,
      0.06714,
      -0.013864,
      -0.023924,
      0.003016,
      -0.020917,
      0.005223,
      -0.027909,
      0.047949,
      -0.00882,
      -0.004111,
      -0.02358,
      -0.010651,
      -0.052746,
      -0.023553,
      -0.023429,
      -0.016014,
      -0.002909,
      -0.013957,
      0.00441,
      -0.059544,
      0.038414,
      -0.012906,
      0.012823,
      0.014392,
      0.023931,
      -0.011734,
      0.042234,
      -0.022006,
      0.038426,
      -0.024631,
      -0.018059,
      0.000537,
      -0.011557,
      0.019869,
      0.007936,
      0.065279,
      -0.03294,
      -0.015516,
      -0.0091,
      -0.033822,
      0.023145,
      0.026758,
      0.020145,
      -0.014963,
      0.000548,
      0.03325,
      -0.025192,
      -0.039105,
      0.026871,
      0.011718,
      0.053472,
      -0.00887,
      0.01252,
      0.007017,
      -0.023181,
      0.006437,
      -0.02663,
      0.017996,
      -0.007975,
      0.024593,
      -0.021355,
      0.007753,
      0.027598,
      0.031126,
      -0.041041,
      0.006629,
      -0.059318,
      -0.007013,
      0.052006,
      0.000682,
      -0.016685,
      0.010705,
      0.018087,
      -0.019179,
      0.014503,
      -0.002747,
      -0.049267,
      0.020705,
      -0.137879,
      0.003377,
      -0.056857,
      0.02874,
      -0.02147,
      -0.035055,
      -0.029939,
      -0.043009,
      0.00824,
      -0.057179,
      -0.006631,
      0.020388,
      0.029284,
      0.006384,
      -0.013358,
      0.006961,
      0.015179,
      -0.005057,
      -0.013385,
      -0.012422,
      -0.00151,
      -0.036539,
      -0.024085,
      -0.01633,
      0.00446,
      -0.028997,
      0.025742,
      -0.055629,
      -0.018375,
      0.013128,
      -0.020566,
      -0.095142,
      0.000311,
      0.049762,
      -0.03924,
      0.034464,
      0.009546,
      0.013008,
      -0.004518,
      0.007614,
      -0.017946,
      0.000161,
      -0.014846,
      0.002187,
      0.04265,
      0.053648,
      -0.013592,
      -0.043803,
      -0.022464,
      -0.005076,
      0.010911,
      0.081318,
      -0.047497,
      0.004159,
      -0.007934,
      0.046466,
      -0.045871,
      -0.040839,
      -0.026023,
      0.007725,
      -0.000295,
      0.011568,
      -0.030472,
      -0.018254,
      -0.011542,
      0.001701,
      -0.033883,
      0.036595,
      -0.009764,
      0.01415,
      -0.009349,
      -0.010571,
      -0.011036,
      -0.007714,
      0.015988,
      -0.004728,
      0.037304,
      -0.010055,
      -0.012932,
      -0.022332,
      -0.015018,
      0.022034,
      -0.020432,
      0.075751,
      0.048796,
      0.058512,
      0.021955,
      0.026888,
      -0.034555,
      -0.031163,
      -0.016552,
      -0.038135,
      -0.041002,
      0.035783,
      -0.02671,
      -0.014918,
      -0.008284,
      -0.026132,
      0.002579,
      -0.013354,
      -0.037234,
      -0.060414,
      0.006578,
      0.00893,
      -0.025284,
      -0.003886,
      0.00786,
      -0.025072,
      0.016745,
      -0.034154,
      -0.009325,
      -0.014581,
      0.010019,
      -0.031293,
      -0.048779,
      -0.011613,
      0.006041,
      -0.010486,
      -0.021902,
      -0.046145,
      0.054333,
      -0.045757,
      -0.008181,
      -0.012673,
      0.008414,
      -0.015602,
      0.040617,
      -0.014503,
      -0.000345,
      0.002672,
      -0.000841,
      -0.020945,
      0.025603,
      0.037067,
      -0.00047,
      -0.045799,
      -0.071724,
      0.047676,
      -0.010482,
      -0.025093,
      -0.018541,
      -0.003459,
      -0.014584,
      -0.040629,
      0.000503,
      -0.0357,
      -0.002776,
      -0.035975,
      -0.022681,
      -0.05788,
      -0.027025,
      -0.014242,
      -0.023733,
      0.060094,
      -0.033014,
      0.010883,
      -0.018713,
      0.062949,
      0.007751,
      0.077517,
      0.019715,
      -0.009489,
      -0.011958,
      -0.033711,
      0.000219,
      0.041142,
      -0.013191,
      -0.019845,
      -0.011523,
      -0.003079,
      0.008725,
      0.012325,
      -0.030088,
      0.00033,
      0.016019,
      -0.032101,
      -0.005136,
      -0.009104,
      0.056046,
      -0.00153,
      0.058597,
      -0.016639,
      0.027845,
      0.055258,
      0.044372,
      0.026344,
      0.005309,
      0.019431,
      -0.005942,
      -0.002948,
      -0.007418,
      -0.012785,
      -0.012892,
      -0.009469,
      0.025307,
      -0.042779,
      0.006352,
      -0.008098,
      -0.010172,
      0.082282,
      0.018248,
      -0.003872,
      -0.006966,
      -0.020576,
      -0.016823,
      0.025674,
      0.009102,
      -0.03979,
      0.021482,
      0.031111,
      -0.022496,
      0.008815,
      0.024477,
      0.010358,
      0.001552,
      -0.01808,
      0.031104,
      0.055404,
      -0.00685,
      0.012591,
      0.051293,
      0.030126,
      0.006204,
      -0.042684,
      -0.041522,
      -0.021504,
      -0.013433,
      0.00855,
      0.004422,
      0.012504,
      -0.029109,
      0.000617,
      -0.041962,
      0.049695,
      -0.002043,
      0.004636,
      0.004577,
      0.043468,
      -0.038365,
      0.003206,
      0.002953,
      -0.015435,
      0.010207,
      -0.041397
    ]
  },
  {
    "id": "v5-package-0",
    "content": "# package.json\nBreadcrumb: package.json\nCovers: Folders\nTopics: update, generate, test\n\n## Folders\n\nThe source and test folders to which files are generated is set in the `package.json`. To change them, rename the `src/` or `test/` folder to what you want it to and then update `package.json` `directories` section accordingly:\n\n```json\n{\n  \"directories\": {\n    \"lib\": \"api/src\",\n    \"test\": \"api/test\"\n  }\n}\n```",
    "rawContent": "## Folders\n\nThe source and test folders to which files are generated is set in the `package.json`. To change them, rename the `src/` or `test/` folder to what you want it to and then update `package.json` `directories` section accordingly:\n\n```json\n{\n  \"directories\": {\n    \"lib\": \"api/src\",\n    \"test\": \"api/test\"\n  }\n}\n```",
    "breadcrumb": "package.json",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/package.md",
    "heading": "package.json",
    "subHeadings": [
      "Folders"
    ],
    "hasCode": true,
    "codeLanguages": [
      "json",
      "text"
    ],
    "tokens": 81,
    "category": "cli",
    "tags": [
      "update",
      "generate",
      "test"
    ],
    "embedding": [
      -0.045337,
      0.002762,
      -0.020555,
      0.025877,
      -0.012387,
      -0.049641,
      -0.008164,
      0.018402,
      -0.006991,
      0.006251,
      0.004203,
      0.00761,
      -0.054521,
      0.00243,
      -0.031887,
      -0.014688,
      -0.00828,
      0.007226,
      0.024385,
      -0.030793,
      0.003625,
      -0.036346,
      0.020705,
      0.015443,
      0.038028,
      0.019524,
      0.007308,
      -0.008687,
      0.044303,
      -0.014406,
      -0.020013,
      -0.024535,
      0.020004,
      0.017595,
      -0.057958,
      0.026452,
      0.000655,
      -0.025351,
      -0.029306,
      0.020395,
      -0.004968,
      0.009885,
      0.010972,
      -0.025562,
      -0.004217,
      0.003178,
      -0.007496,
      -0.009831,
      -0.019439,
      -0.004391,
      -0.017628,
      0.017631,
      0.059171,
      -0.096318,
      0.017877,
      0.050742,
      -0.037615,
      -0.028902,
      -0.058607,
      0.045004,
      -0.005134,
      0.014517,
      -0.051132,
      0.049435,
      0.024378,
      0.011123,
      0.01615,
      0.033897,
      -0.015027,
      -0.010879,
      -0.009996,
      -0.00384,
      -0.050786,
      -0.008043,
      -0.020532,
      0.022005,
      -0.008522,
      -0.080949,
      -0.030298,
      0.0195,
      -0.002452,
      0.014472,
      -0.00425,
      -0.039963,
      0.016665,
      -0.059635,
      -0.033678,
      0.035856,
      0.006725,
      0.029236,
      -0.003605,
      0.005848,
      -0.002444,
      -0.036557,
      -0.085214,
      0.005268,
      0.005664,
      0.02704,
      0.032646,
      -0.030048,
      0.019866,
      -0.054026,
      0.010476,
      -0.01564,
      0.071909,
      0.04588,
      0.015479,
      0.005472,
      -0.03044,
      -0.060863,
      0.043794,
      0.007161,
      0.012601,
      0.029529,
      0.003408,
      -0.002643,
      -0.000671,
      -0.047794,
      0.029167,
      0.017915,
      0.024233,
      0.017344,
      0.019468,
      -0.016139,
      -0.004523,
      0.002441,
      0.04442,
      0.040953,
      0.025861,
      -0.010837,
      0.004743,
      0.042984,
      0.006872,
      0.043306,
      -0.019819,
      0.010996,
      -0.020483,
      0.009602,
      0.002646,
      -0.066537,
      0.00265,
      0.012385,
      0.046895,
      -0.01915,
      0.043117,
      -0.06106,
      0.074791,
      -0.001191,
      0.041225,
      -0.00324,
      -0.002753,
      -0.017889,
      0.016154,
      -0.035026,
      0.051246,
      0.007608,
      -0.003589,
      0.017028,
      -0.000407,
      -0.012817,
      0.076148,
      0.009757,
      -0.011054,
      0.02115,
      0.037348,
      -0.052535,
      0.046498,
      0.031667,
      -0.051038,
      -0.024832,
      0.004928,
      -0.011576,
      -0.026847,
      -0.010893,
      0.02775,
      0.0475,
      -0.001915,
      0.002204,
      0.004437,
      -0.020979,
      -0.011361,
      0.040958,
      -0.019867,
      -0.056832,
      -0.040257,
      -0.032681,
      -0.016729,
      0.014109,
      0.01726,
      0.00363,
      -0.014825,
      -0.012564,
      0.038533,
      0.063522,
      0.009563,
      -0.035651,
      -0.011261,
      0.007022,
      0.010691,
      -0.019136,
      -0.022862,
      0.024302,
      0.041616,
      0.020525,
      0.000438,
      0.006075,
      0.005927,
      -0.061319,
      0.056273,
      -0.061127,
      -0.010299,
      -0.027019,
      -0.030777,
      -0.027244,
      0.008728,
      0.013912,
      -0.004167,
      -0.025132,
      -0.012852,
      -0.012342,
      -0.007649,
      0.022652,
      0.003236,
      -0.010538,
      0.038282,
      -0.042953,
      0.010809,
      0.020685,
      0.032876,
      -0.010163,
      -0.030928,
      -0.029432,
      0.042681,
      -0.047532,
      0.032759,
      -0.009456,
      -0.050759,
      0.007482,
      0.026969,
      -0.012115,
      -0.002398,
      -0.042015,
      -0.013594,
      -0.016142,
      -0.052286,
      -0.022282,
      0.044542,
      0.021001,
      -0.021466,
      -0.056672,
      0.000919,
      0.024006,
      0.000378,
      0.0244,
      0.059261,
      0.008496,
      0.031043,
      -0.025781,
      -0.020152,
      -0.017651,
      0.018118,
      0.034462,
      -0.01477,
      0.019475,
      0.018507,
      0.028052,
      -0.047108,
      -0.063604,
      0.020018,
      -0.024691,
      -0.038619,
      0.014196,
      0.069722,
      -0.025565,
      -0.015594,
      0.003771,
      0.025113,
      -0.055237,
      0.082767,
      0.026237,
      -0.023734,
      0.015047,
      0.057026,
      0.046847,
      0.017881,
      -0.028388,
      0.047587,
      -0.028433,
      0.031177,
      0.053305,
      -0.008975,
      0.00126,
      0.042225,
      0.000984,
      -0.03946,
      0.047263,
      0.01687,
      -0.168074,
      -0.085137,
      0.021107,
      -0.010203,
      0.023095,
      0.017814,
      -0.052452,
      0.036427,
      -0.047375,
      0.040288,
      -0.044186,
      -0.0272,
      -0.030799,
      0.001033,
      0.014452,
      0.0214,
      -0.059543,
      0.044364,
      -0.025967,
      -0.0181,
      0.000285,
      -0.043177,
      0.00896,
      -0.008831,
      0.010678,
      0.018025,
      0.045209,
      -0.007127,
      -0.034115,
      0.024095,
      -0.007075,
      0.055542,
      0.012523,
      0.006756,
      -0.018323,
      0.031058,
      0.00123,
      -0.022493,
      0.008104,
      0.012331,
      0.024349,
      0.079252,
      0.008672,
      0.000967,
      0.014572,
      0.007813,
      0.001417,
      -0.005193,
      0.00726,
      -0.016218,
      0.020215,
      -0.04198,
      -0.011904,
      -0.000168,
      -0.05002,
      0.021597,
      -0.006175,
      0.011626,
      -0.023214,
      -0.003708,
      -0.022192,
      -0.026607,
      0.05379,
      -0.022677,
      -0.031371,
      -0.026857,
      0.041237,
      -0.022848,
      0.009666,
      -0.008877,
      0.033677,
      -0.004766,
      0.016978,
      0.019746,
      0.005637,
      0.03411,
      0.008234,
      -0.02683,
      -0.008407,
      -0.082657,
      -0.002086,
      0.01086,
      -0.053732,
      0.022287,
      -0.029235,
      -0.016494,
      -0.001351,
      0.039281,
      -0.007543,
      0.222932,
      0.023438,
      0.006599,
      -0.018686,
      0.072426,
      -0.038988,
      0.025852,
      -0.028409,
      0.015202,
      -0.038428,
      0.000328,
      0.025175,
      0.000287,
      -0.006135,
      0.033906,
      0.023789,
      -0.047796,
      0.010524,
      0.046848,
      -0.004831,
      0.043837,
      -0.065735,
      0.04927,
      0.014487,
      -0.05289,
      -0.022609,
      -0.045056,
      0.003405,
      -0.033622,
      0.011264,
      -0.021382,
      -0.01145,
      0.072583,
      -0.020142,
      -0.052265,
      0.020505,
      0.04085,
      0.0011,
      -0.000164,
      0.031305,
      -0.034635,
      -0.005198,
      0.02824,
      0.011254,
      0.008619,
      -0.029483,
      -0.004318,
      0.009029,
      0.004935,
      -0.008013,
      0.005013,
      -0.063468,
      -0.022656,
      -0.017651,
      0.021052,
      0.004469,
      -0.005872,
      -0.006474,
      -0.013818,
      0.054323,
      0.040861,
      -0.009533,
      0.002005,
      0.031589,
      -0.011814,
      0.015979,
      0.024208,
      -0.016937,
      -0.011517,
      0.087667,
      0.023749,
      -0.012301,
      0.040712,
      0.010339,
      0.011427,
      -0.030482,
      0.040014,
      0.015737,
      -0.044124,
      0.038809,
      -0.018361,
      0.031955,
      -0.011612,
      0.025573,
      -0.01062,
      -0.031412,
      0.030741,
      0.012437,
      0.012585,
      -0.022214,
      0.012899,
      0.014264,
      -0.000592,
      0.029355,
      -0.010469,
      0.01596,
      0.019111,
      -0.00292,
      -0.027105,
      0.001385,
      0.019691,
      -0.004626,
      -0.010649,
      -0.015278,
      0.028589,
      -0.062967,
      -0.008845,
      0.006689,
      0.042081,
      0.020594,
      -0.026951,
      0.019032,
      0.007379,
      -0.037993,
      0.019085,
      0.017517,
      0.031485,
      0.001051,
      0.022726,
      0.033073,
      0.009101,
      0.032916,
      -0.014838,
      0.024093,
      0.002129,
      -0.041425,
      0.035419,
      0.00878,
      -0.040574,
      0.06251,
      0.034829,
      -0.018106,
      0.029605,
      0.040322,
      -0.011192,
      -0.008102,
      0.074803,
      0.058221,
      -0.014507,
      -0.032325,
      -0.030157,
      -0.027521,
      -0.006842,
      -0.012398,
      -0.002876,
      0.042877,
      0.051823,
      -0.020884,
      -0.035488,
      -0.003277,
      0.034494,
      0.023286,
      0.041076,
      -0.034342,
      -0.026408,
      -0.017191,
      -0.005776,
      -0.006867,
      -0.013925,
      -0.029966,
      -0.015153,
      0.039783,
      0.056651,
      0.040449,
      0.029581,
      -0.005538,
      0.004671,
      0.004194,
      0.009152,
      -0.052373,
      0.022794,
      -0.016932,
      -0.042884,
      -0.02144,
      0.005465,
      -0.070482,
      -0.067331,
      -0.006468,
      -0.052227,
      -0.031372,
      0.012835,
      -0.008552,
      -0.020721,
      -0.047118,
      -0.009644,
      -0.029487,
      -0.023568,
      -0.010797,
      0.016748,
      -0.007042,
      -0.002279,
      0.096069,
      0.024567,
      0.009864,
      0.069061,
      0.007734,
      0.092811,
      0.013081,
      0.017933,
      0.020027,
      0.008887,
      -0.004531,
      -0.027948,
      -0.022595,
      -0.004789,
      0.017752,
      -0.082911,
      0.017043,
      -0.012013,
      -0.010017,
      -0.015198,
      -0.055251,
      -0.005235,
      -0.00375,
      0.01645,
      0.017508,
      0.064006,
      0.054775,
      -0.010319,
      0.034571,
      -0.011373,
      -0.033277,
      0.000341,
      0.019685,
      -0.014458,
      -0.000667,
      0.047056,
      -0.007503,
      0.029614,
      -0.031379,
      -0.007317,
      0.001912,
      -0.005607,
      -0.037292,
      0.001095,
      0.027277,
      0.007177,
      0.018565,
      0.003657,
      -0.014459,
      -0.042753,
      0.017814,
      0.009951,
      0.030868,
      0.022145,
      0.027077,
      -0.0131,
      -0.043852,
      0.023022,
      0.027428,
      0.010997,
      -0.051708,
      -0.001192,
      -0.041667,
      -0.030998,
      0.046544,
      -0.010029,
      0.009723,
      -0.020455,
      0.01848,
      -0.031307,
      -0.003665,
      0.001257,
      0.033699,
      0.021463,
      -0.03889,
      -0.01529,
      -0.055708,
      -0.012828,
      -0.044511,
      -0.08421,
      0.002672,
      -0.018544,
      -0.023462,
      0.035308,
      -0.077451,
      -0.034351,
      0.053608,
      -0.030078,
      -0.027291,
      -0.028556,
      -0.000852,
      0.010112,
      0.038182,
      -0.005338,
      -0.007731,
      0.018961,
      0.014425,
      0.008898,
      -0.011786,
      -0.016104,
      0.011245,
      -0.040546,
      -0.035695,
      0.037058,
      -0.007755,
      0.013721,
      -0.005246,
      -0.009165,
      0.008851,
      -0.021864,
      0.003512,
      -0.034305,
      -0.015688,
      -0.018175,
      0.043643,
      -0.005722,
      -0.01911,
      0.043573,
      0.030907,
      0.046857,
      -0.066501,
      0.022563,
      -0.000539,
      0.033286,
      -0.00292,
      0.02168,
      -0.019004,
      -0.007512,
      -0.003683,
      -0.028829,
      -0.024901,
      -0.055405,
      -0.001814,
      -0.019333,
      -0.034498,
      0.032943,
      -0.015972,
      -0.04786,
      -0.001137,
      -0.016757,
      -0.015433,
      0.00869,
      -0.014128,
      -0.035688,
      -0.049346,
      -0.000189,
      0.005969,
      0.006937,
      0.012474,
      0.014254,
      0.023902,
      0.04155,
      0.001575,
      0.024586,
      -0.025106,
      -0.031985,
      0.005331,
      -0.016186,
      -0.001459,
      0.00994,
      0.006249,
      -0.001598,
      -0.006732,
      0.047311,
      -0.043758,
      0.008802,
      0.033845,
      -0.003156,
      0.018114,
      -0.036671,
      0.021415,
      0.011341,
      -0.061598,
      -0.012778,
      -0.007441,
      -0.003149,
      -0.035182,
      -0.031344,
      -0.056304,
      -0.018463,
      0.019836,
      0.024181,
      0.036709,
      -0.007556,
      -0.000613,
      -0.032812,
      0.008624,
      0.016019,
      0.005674,
      -0.001291,
      -0.00841,
      -0.052646,
      -0.012954,
      -0.026673,
      0.032897,
      0.032701,
      -0.015628,
      0.003981,
      0.026304,
      0.013219,
      -0.004705,
      -0.020771,
      -0.018579,
      -0.121035,
      0.008697,
      -0.012935,
      -0.010614,
      -0.020884,
      -0.063369,
      -0.002087,
      0.000286,
      0.011506,
      -0.035725,
      -0.013266,
      -0.008745,
      -0.001119,
      0.000052,
      0.046432,
      0.01498,
      -0.013442,
      0.016377,
      -0.015094,
      0.019535,
      -0.017834,
      -0.042675,
      0.023199,
      -0.001015,
      0.037386,
      -0.00708,
      0.022519,
      -0.060157,
      -0.033183,
      0.026747,
      0.026133,
      0.001191,
      -0.005547,
      0.031252,
      -0.045182,
      0.019948,
      -0.021237,
      0.01652,
      0.012777,
      0.017778,
      -0.008102,
      0.007428,
      -0.010844,
      -0.003968,
      0.041694,
      0.066135,
      -0.025593,
      -0.013862,
      0.011808,
      0.006639,
      -0.018003,
      0.017709,
      -0.013812,
      0.01914,
      -0.013083,
      0.010392,
      -0.024936,
      -0.006528,
      0.012079,
      0.012802,
      -0.040314,
      0.042282,
      -0.034524,
      -0.049122,
      0.025463,
      0.021178,
      -0.038579,
      0.009143,
      0.010912,
      -0.003563,
      -0.002091,
      0.015806,
      0.010051,
      -0.028452,
      0.008874,
      -0.006351,
      -0.004487,
      -0.005775,
      0.009066,
      -0.007869,
      0.006444,
      -0.028312,
      -0.033491,
      0.051328,
      0.028852,
      0.019323,
      0.00035,
      0.010218,
      -0.053198,
      -0.02199,
      0.035344,
      -0.047418,
      0.029283,
      0.020664,
      -0.023051,
      0.059886,
      -0.021153,
      -0.031282,
      -0.024192,
      -0.039467,
      0.003533,
      -0.017813,
      -0.005115,
      0.034143,
      0.004889,
      0.017692,
      0.057655,
      -0.005403,
      0.021949,
      -0.010785,
      0.032495,
      -0.017768,
      -0.021544,
      -0.02,
      -0.040564,
      0.000998,
      -0.029913,
      0.016481,
      -0.004809,
      0.00315,
      0.041747,
      0.009516,
      -0.006419,
      -0.023044,
      0.049582,
      -0.034002,
      0.028808,
      0.011072,
      0.025049,
      0.01486,
      -0.039003,
      -0.054804,
      0.025012,
      0.028736,
      -0.018888,
      -0.036005,
      -0.041601,
      0.033462,
      -0.067421,
      -0.033186,
      -0.024819,
      -0.027845,
      -0.010809,
      -0.05405,
      0.064754,
      -0.013426,
      0.003616,
      0.031843,
      -0.023986,
      -0.024969,
      -0.000742,
      -0.003109,
      -0.000245,
      0.047548,
      -0.032845,
      0.044746,
      -0.015444,
      0.034927,
      -0.03403,
      0.021075,
      -0.018817,
      0.013992,
      -0.002844,
      0.013371,
      0.013278,
      0.069415,
      -0.008973,
      -0.02876,
      -0.057755,
      0.010604,
      0.027287,
      -0.007035,
      -0.002245,
      -0.02113,
      0.032644,
      -0.014609,
      0.006385,
      0.032104,
      0.034515,
      -0.03584,
      0.01295,
      0.025838,
      0.062613,
      -0.012817,
      0.036267,
      -0.035632,
      -0.043165,
      0.014172,
      0.03796,
      -0.043232,
      -0.014644,
      0.01612,
      -0.010091,
      0.039063,
      0.032885,
      -0.043644,
      0.002468,
      -0.021102,
      -0.020562,
      0.053501,
      -0.006927,
      -0.017696,
      -0.037703,
      -0.021655,
      -0.025415,
      -0.010269,
      -0.032636,
      -0.008254,
      0.017073,
      0.021592,
      -0.030372,
      0.00765,
      -0.027825,
      0.00187,
      -0.017543,
      -0.026678,
      0.003894,
      0.037555,
      -0.03701,
      -0.010011,
      0.045042,
      -0.013574,
      -0.027948,
      -0.022404,
      -0.028467,
      -0.035422,
      -0.069236,
      0.043148,
      0.02423,
      0.014114,
      -0.02616,
      0.014217,
      -0.012973,
      0.046859,
      0.003419,
      -0.005372,
      0.009147,
      0.015801,
      -0.012158,
      -0.000106,
      0.008948,
      -0.055464,
      -0.035723,
      -0.032981
    ]
  },
  {
    "id": "v5-prettierrc-0",
    "content": "# Prettier\nBreadcrumb: Prettier\n\n",
    "rawContent": "",
    "breadcrumb": "Prettier",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/prettierrc.md",
    "heading": "Prettier",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "cli",
    "tags": [],
    "embedding": [
      -0.021229,
      -0.002933,
      -0.024344,
      0.00975,
      -0.037373,
      -0.00612,
      -0.007901,
      0.011463,
      0.015395,
      0.048271,
      -0.004762,
      -0.01218,
      -0.029817,
      0.002068,
      0.00636,
      0.000551,
      0.004926,
      0.020515,
      0.006317,
      -0.044337,
      -0.000758,
      0.014264,
      -0.039357,
      0.042942,
      -0.031775,
      -0.012624,
      0.010152,
      -0.01143,
      -0.061439,
      -0.011039,
      0.025506,
      0.059212,
      0.019819,
      -0.039124,
      -0.004339,
      -0.032016,
      0.018879,
      0.001209,
      -0.052192,
      0.072836,
      -0.006582,
      -0.025676,
      0.024659,
      -0.016462,
      0.020845,
      -0.028325,
      -0.025314,
      -0.016274,
      0.019731,
      0.016916,
      0.005113,
      -0.006183,
      0.040054,
      -0.070559,
      0.005058,
      -0.018576,
      -0.03952,
      -0.021907,
      -0.075506,
      0.012335,
      -0.069871,
      0.038811,
      0.020017,
      -0.011644,
      0.025092,
      0.053869,
      -0.029186,
      -0.002866,
      0.007812,
      -0.007276,
      -0.018897,
      0.009397,
      -0.013236,
      -0.010899,
      -0.045381,
      0.041445,
      -0.0102,
      -0.039858,
      0.017349,
      0.0439,
      0.015089,
      0.018076,
      0.034294,
      -0.003176,
      -0.01585,
      0.043269,
      -0.000645,
      0.012422,
      -0.021091,
      -0.041265,
      0.011749,
      -0.005976,
      -0.001882,
      -0.018337,
      -0.011654,
      0.004222,
      -0.037671,
      0.008562,
      -0.001015,
      0.046181,
      0.02064,
      0.010229,
      -0.021092,
      -0.006624,
      0.015064,
      -0.018549,
      0.015727,
      0.040006,
      0.015705,
      -0.018461,
      0.027823,
      0.058683,
      0.023374,
      -0.003668,
      0.003618,
      0.018125,
      0.03024,
      0.004754,
      -0.042503,
      -0.042893,
      0.039658,
      0.00735,
      0.011143,
      -0.038309,
      0.03888,
      -0.025871,
      0.010145,
      0.010597,
      0.006151,
      -0.008888,
      0.0169,
      -0.00382,
      -0.013286,
      0.047156,
      0.025814,
      -0.021495,
      0.027157,
      -0.018863,
      -0.025427,
      -0.005315,
      -0.002484,
      0.051709,
      -0.022934,
      -0.013722,
      0.005593,
      -0.028735,
      0.045189,
      0.025787,
      0.013226,
      -0.031002,
      0.012959,
      -0.005718,
      0.043495,
      -0.012691,
      0.020586,
      -0.0086,
      -0.007023,
      0.057625,
      0.024678,
      0.028183,
      -0.032849,
      0.021673,
      -0.009823,
      -0.035086,
      0.032168,
      -0.003343,
      0.072278,
      0.029706,
      -0.03028,
      -0.02073,
      0.012217,
      -0.004701,
      -0.073342,
      -0.053596,
      0.04774,
      0.021555,
      0.026154,
      -0.001588,
      0.005241,
      -0.040638,
      -0.014116,
      -0.021792,
      0.009758,
      -0.029903,
      -0.065079,
      0.023469,
      -0.003535,
      -0.035154,
      0.026696,
      0.081822,
      0.029814,
      -0.017842,
      -0.005774,
      -0.056227,
      0.004049,
      -0.030329,
      -0.030186,
      -0.038351,
      0.005766,
      -0.008911,
      0.046152,
      0.037602,
      -0.017122,
      -0.029356,
      -0.053165,
      0.015644,
      -0.015202,
      0.018448,
      0.012794,
      -0.048523,
      -0.019421,
      -0.006523,
      0.022183,
      -0.036015,
      -0.040244,
      -0.011457,
      -0.024185,
      0.021373,
      -0.012619,
      0.028481,
      0.034959,
      -0.015063,
      0.004882,
      0.020454,
      0.042769,
      0.02297,
      0.023235,
      0.023995,
      -0.01668,
      0.018578,
      -0.041651,
      -0.029109,
      0.023476,
      0.00902,
      -0.032305,
      -0.000765,
      0.02521,
      0.055753,
      0.011327,
      0.005778,
      -0.017364,
      0.019497,
      0.030793,
      0.026947,
      -0.039655,
      -0.029265,
      -0.007398,
      0.058665,
      0.010318,
      -0.019764,
      0.044276,
      -0.002652,
      -0.030807,
      -0.004789,
      -0.07327,
      -0.002693,
      -0.010068,
      -0.028865,
      -0.00529,
      -0.030906,
      0.026434,
      0.026672,
      0.002579,
      -0.011003,
      0.038329,
      -0.003383,
      -0.032946,
      -0.02219,
      0.021976,
      0.030971,
      0.018474,
      -0.018613,
      0.004217,
      0.022964,
      -0.036947,
      -0.01601,
      -0.034533,
      -0.001813,
      0.067613,
      0.044195,
      0.04432,
      0.03576,
      0.037047,
      0.003442,
      0.046074,
      -0.007241,
      0.025982,
      0.028174,
      0.0309,
      -0.045314,
      0.006671,
      0.031794,
      0.062705,
      0.027398,
      -0.045739,
      -0.001127,
      -0.011013,
      -0.146039,
      -0.004431,
      -0.010368,
      -0.015336,
      0.01039,
      -0.009105,
      -0.035083,
      0.024896,
      -0.018998,
      0.050982,
      0.006533,
      -0.05156,
      0.039625,
      -0.007327,
      -0.035258,
      -0.034216,
      -0.044122,
      0.007661,
      -0.02889,
      -0.043985,
      0.003367,
      -0.027999,
      0.009426,
      -0.015439,
      0.000804,
      -0.016321,
      0.055354,
      -0.022173,
      -0.075234,
      -0.05265,
      -0.031206,
      -0.023588,
      0.012998,
      0.035992,
      0.019133,
      0.061736,
      0.015635,
      0.008623,
      0.028511,
      -0.029439,
      0.040269,
      0.020195,
      -0.01726,
      0.01863,
      -0.01717,
      0.019135,
      -0.012978,
      0.012087,
      -0.023011,
      -0.025232,
      0.003377,
      -0.04343,
      -0.028444,
      -0.008879,
      -0.046261,
      0.058066,
      0.021578,
      -0.016662,
      0.003583,
      0.017445,
      -0.020049,
      -0.064905,
      0.016187,
      -0.007986,
      -0.056757,
      0.000948,
      -0.030932,
      -0.050174,
      0.036395,
      -0.043526,
      0.002796,
      -0.058196,
      0.011615,
      -0.001477,
      -0.042455,
      0.007316,
      -0.015032,
      -0.036359,
      -0.018349,
      -0.061373,
      -0.061459,
      -0.021159,
      -0.027386,
      0.019178,
      -0.043555,
      -0.035561,
      -0.024463,
      0.044414,
      0.000009,
      0.187458,
      0.076538,
      0.042856,
      -0.035085,
      0.0244,
      0.02029,
      -0.005732,
      0.036218,
      0.012704,
      -0.016673,
      -0.005177,
      -0.008536,
      -0.025701,
      -0.006215,
      -0.005901,
      -0.018696,
      -0.037282,
      -0.037622,
      0.07687,
      0.023641,
      0.019239,
      -0.051562,
      0.010309,
      -0.005638,
      -0.029454,
      -0.024661,
      0.007138,
      0.005434,
      -0.019176,
      -0.008353,
      0.023568,
      0.007409,
      0.043265,
      -0.002376,
      -0.036088,
      -0.041454,
      0.018331,
      -0.025865,
      -0.030197,
      0.06784,
      -0.048526,
      -0.030753,
      0.016553,
      -0.022638,
      0.000941,
      0.006976,
      0.024732,
      -0.004731,
      0.003225,
      0.007955,
      -0.003852,
      -0.028584,
      -0.007945,
      -0.016036,
      0.008721,
      -0.007655,
      -0.022849,
      -0.008942,
      -0.031027,
      0.036493,
      0.048309,
      -0.022205,
      -0.018214,
      0.036223,
      0.051189,
      0.063963,
      -0.006245,
      -0.029936,
      -0.021347,
      -0.00086,
      -0.01481,
      0.004129,
      -0.010529,
      -0.022815,
      0.051634,
      -0.008902,
      0.016281,
      0.0448,
      0.013993,
      0.024149,
      -0.007955,
      -0.01354,
      0.001081,
      0.0451,
      0.013169,
      -0.036939,
      -0.002485,
      -0.013132,
      0.003757,
      -0.072828,
      -0.004915,
      0.00676,
      -0.011836,
      -0.009844,
      -0.037996,
      -0.047605,
      0.010859,
      0.02083,
      -0.065279,
      -0.043135,
      0.03047,
      -0.025406,
      -0.004523,
      -0.070902,
      0.018133,
      -0.026795,
      0.035124,
      -0.003155,
      0.014714,
      -0.005561,
      0.026817,
      0.017672,
      -0.002978,
      0.017908,
      0.055796,
      0.010791,
      0.032018,
      0.000544,
      0.053815,
      0.001554,
      -0.000209,
      0.006349,
      0.017789,
      0.009907,
      -0.000911,
      -0.048078,
      0.015983,
      0.026891,
      -0.035254,
      0.028556,
      0.007394,
      -0.01549,
      -0.08696,
      0.052985,
      0.047379,
      0.000106,
      0.045813,
      -0.004575,
      0.036935,
      -0.045402,
      0.002908,
      0.015317,
      -0.007829,
      0.009599,
      -0.020348,
      0.037482,
      -0.003515,
      -0.014011,
      0.000166,
      0.05165,
      0.042146,
      0.018955,
      0.021084,
      -0.068388,
      0.001307,
      -0.022495,
      -0.006949,
      0.019529,
      -0.021511,
      -0.010597,
      -0.003226,
      0.046893,
      0.040191,
      0.045284,
      0.004393,
      0.001174,
      0.013461,
      0.003334,
      -0.017311,
      -0.071946,
      0.040395,
      -0.027951,
      -0.033943,
      0.066669,
      0.00601,
      -0.047527,
      0.03885,
      0.047909,
      0.042538,
      -0.024986,
      0.015527,
      -0.050961,
      -0.014352,
      -0.018074,
      -0.034084,
      -0.001124,
      -0.039139,
      -0.04381,
      -0.042339,
      0.019745,
      -0.050293,
      0.092734,
      -0.021918,
      -0.022534,
      0.038468,
      0.003227,
      0.000753,
      -0.013653,
      0.01299,
      -0.010023,
      -0.020313,
      -0.016904,
      -0.039755,
      -0.038464,
      -0.02062,
      -0.01364,
      -0.041806,
      0.058167,
      -0.019348,
      -0.054505,
      0.029253,
      0.016424,
      -0.015778,
      0.018077,
      -0.014598,
      0.015318,
      0.069896,
      0.047426,
      -0.043105,
      -0.028111,
      -0.035712,
      -0.027268,
      0.08229,
      -0.073692,
      -0.031826,
      0.013102,
      0.011792,
      -0.009125,
      0.012588,
      -0.01134,
      0.000079,
      -0.00658,
      -0.051185,
      0.01037,
      0.026176,
      -0.006311,
      0.037829,
      0.029346,
      0.0398,
      -0.007424,
      -0.022734,
      -0.006933,
      -0.012807,
      0.088408,
      -0.003601,
      0.054421,
      0.033921,
      -0.063136,
      0.045034,
      0.033216,
      0.001079,
      -0.00289,
      0.004939,
      -0.034296,
      0.004983,
      -0.048794,
      0.041527,
      -0.010874,
      0.007367,
      -0.013657,
      -0.033714,
      0.064569,
      0.01529,
      0.001715,
      -0.073728,
      0.017147,
      0.010991,
      -0.023686,
      -0.014409,
      0.012195,
      -0.022427,
      -0.012004,
      -0.027787,
      -0.075845,
      0.051814,
      -0.00008,
      -0.049063,
      0.005052,
      0.050898,
      0.038991,
      -0.030909,
      0.00246,
      -0.006312,
      -0.005409,
      0.020965,
      0.066177,
      -0.008077,
      0.00388,
      0.033338,
      -0.056013,
      0.013367,
      -0.025367,
      -0.037015,
      0.076019,
      -0.035629,
      0.014558,
      -0.019598,
      0.023809,
      0.010501,
      -0.020639,
      -0.011042,
      0.018932,
      -0.040884,
      -0.074485,
      0.006066,
      0.005568,
      0.05736,
      -0.043913,
      -0.038579,
      0.033697,
      -0.005432,
      0.022588,
      0.04394,
      -0.007117,
      -0.009606,
      -0.023706,
      0.067201,
      -0.032425,
      0.029715,
      0.02312,
      0.048517,
      0.02012,
      -0.034295,
      -0.013611,
      -0.024946,
      -0.02723,
      -0.012645,
      0.002154,
      0.00646,
      0.024008,
      -0.077285,
      -0.016323,
      -0.03775,
      -0.030945,
      0.030004,
      -0.001444,
      0.05388,
      0.018651,
      0.035342,
      0.027002,
      -0.007538,
      -0.009628,
      0.030674,
      -0.020661,
      0.010211,
      -0.00285,
      -0.042609,
      0.015661,
      -0.018904,
      -0.028637,
      -0.011198,
      0.040691,
      0.001048,
      -0.034026,
      0.024634,
      -0.015964,
      -0.025427,
      0.00276,
      -0.01798,
      -0.03334,
      -0.032767,
      0.000099,
      -0.010197,
      -0.012007,
      -0.002277,
      0.047142,
      0.001094,
      -0.029869,
      0.027833,
      -0.004691,
      -0.022361,
      0.015863,
      -0.049424,
      0.009797,
      -0.014821,
      0.004122,
      0.020173,
      -0.021622,
      0.014454,
      0.021412,
      -0.01926,
      0.034094,
      -0.027486,
      -0.000111,
      -0.0234,
      -0.008734,
      -0.014859,
      0.00135,
      0.043846,
      0.047067,
      -0.008155,
      -0.059864,
      -0.019241,
      -0.007404,
      -0.113245,
      0.022139,
      -0.027323,
      -0.012808,
      -0.008594,
      0.004342,
      -0.003069,
      -0.027251,
      0.031097,
      -0.001484,
      -0.002276,
      -0.000513,
      0.009701,
      0.009447,
      0.002985,
      0.003654,
      -0.004724,
      0.010501,
      -0.010404,
      0.026721,
      0.047205,
      0.01361,
      -0.000278,
      0.012681,
      -0.007691,
      -0.021337,
      -0.050712,
      0.018658,
      -0.05627,
      -0.028185,
      0.005808,
      -0.041594,
      0.020935,
      0.003862,
      0.008126,
      0.015225,
      -0.00592,
      -0.018565,
      -0.020921,
      0.043292,
      0.020835,
      0.008836,
      -0.040211,
      0.02819,
      -0.001511,
      0.011688,
      0.023883,
      -0.005544,
      -0.006884,
      0.03383,
      0.002198,
      0.044467,
      -0.010276,
      0.036304,
      0.005656,
      -0.020702,
      -0.03986,
      -0.029584,
      0.007367,
      0.013968,
      -0.073395,
      0.035086,
      -0.021242,
      -0.058432,
      -0.000829,
      0.021605,
      -0.011692,
      -0.021406,
      0.012544,
      0.035399,
      0.003299,
      -0.004939,
      0.022449,
      -0.032013,
      0.021833,
      -0.00529,
      0.03677,
      0.018329,
      0.000419,
      0.008844,
      -0.066561,
      0.032727,
      0.001418,
      0.057764,
      -0.003607,
      0.022946,
      -0.031033,
      0.0434,
      -0.128934,
      0.029642,
      -0.066085,
      0.008614,
      0.013038,
      -0.034526,
      -0.002933,
      0.035163,
      -0.001767,
      0.006457,
      -0.001377,
      0.013676,
      -0.01351,
      -0.013775,
      -0.024409,
      0.00119,
      0.007014,
      0.000111,
      0.001706,
      -0.038355,
      0.024869,
      -0.020739,
      -0.017436,
      0.001783,
      -0.017418,
      -0.018221,
      -0.041431,
      -0.007117,
      0.004346,
      0.029056,
      0.014338,
      0.005507,
      0.033,
      0.00359,
      0.0377,
      -0.062961,
      -0.002555,
      0.024415,
      0.015216,
      0.036242,
      0.017714,
      0.022662,
      0.000593,
      -0.015274,
      -0.009063,
      -0.011517,
      -0.007742,
      -0.024926,
      -0.021727,
      0.030421,
      -0.025846,
      -0.038677,
      -0.062203,
      -0.007402,
      -0.028506,
      -0.028336,
      -0.012548,
      -0.009939,
      -0.042098,
      -0.008331,
      -0.004267,
      -0.010065,
      -0.021471,
      0.030807,
      -0.00812,
      -0.04155,
      -0.01458,
      0.034107,
      -0.021032,
      0.031474,
      0.012969,
      0.011708,
      -0.026521,
      0.040835,
      0.004603,
      0.006892,
      -0.014435,
      -0.045547,
      0.001032,
      0.011676,
      0.024614,
      0.00016,
      0.025727,
      0.023152,
      -0.034623,
      -0.014045,
      0.048837,
      0.018019,
      0.003207,
      -0.013182,
      0.018168,
      -0.003804,
      0.026824,
      0.000087,
      0.06841,
      0.051737,
      0.072698,
      0.030162,
      -0.005105,
      0.005429,
      0.005049,
      -0.018124,
      -0.009397,
      -0.008832,
      -0.058065,
      -0.020242,
      0.005501,
      -0.001549,
      -0.015099,
      0.046918,
      0.021003,
      0.041224,
      -0.000882,
      0.023538,
      -0.017618,
      0.017634,
      -0.024927,
      0.027435,
      -0.046456,
      -0.001283,
      -0.00846,
      0.026504,
      -0.006641,
      -0.018554,
      0.010562,
      0.00741,
      0.034496,
      -0.008979,
      0.01052,
      0.050664,
      0.009529,
      0.033812,
      0.017799,
      0.018119,
      0.008213,
      -0.026552,
      -0.029724,
      -0.00047,
      -0.030771,
      -0.011495,
      0.004637,
      -0.016248,
      0.052934,
      -0.016996,
      0.020419,
      0.050825,
      0.013369,
      -0.017181,
      0.004463,
      0.003283,
      -0.010175,
      -0.076815,
      0.04246,
      0.006329,
      0.013419,
      -0.003954
    ]
  },
  {
    "id": "v5-service.class-0",
    "content": "# Service classes\nBreadcrumb: Service classes\nCovers: Database services | Overriding methods | Other service methods | Custom methods | Custom services | getOptions\nTopics: hooks, services, application, params, find, get, create, update, patch, remove, custom methods, database, adapter, mongodb, knex, rest, client, types, cli, custom service\n\n## Database services\n\nWhen using a database, the service class will be extended from the [Feathers database adapter service](../../api/databases/common.md). Like any class, existing methods can be overriden or you can add your own methods (which can also be made available externally [as custom methods when registering the service](./service.md#registration)).\n\n<BlockQuote type=\"tip\" label=\"Note\">\nThe generic types for a database service are always `AdapterService<MessageType, DataType, ParamsType, PatchType>`. The `MessageService<ServiceParams extends Params = MessageParams>` generic is used to change the parameter type when using this service interface as a [client side service](./client.md).\n</BlockQuote>\n\n### Overriding methods\n\nWhen overriding an existing [service method](../../api/services.md#service-methods) on a database adapter the method and overload signatures have to match. The following example shows how to override every service method. Only the methods you want to customize have to be added.\n\n<DatabaseBlock global-id=\"sql\">\n\nThe [SQL Knex service](../../api/databases/knex.md) methods can be customized like this:\n\n```ts\nimport { Id, NullableId, Paginated } from '@feathersjs/feathers'\n\nexport interface MessageParams extends KnexAdapterParams<MessageQuery> {}\n\n// By default calls the standard Knex adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends KnexService<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async find(\n    params?: MessageParams & { paginate?: { default?: number; max?: number } }\n  ): Promise<Paginated<Message>>\n  async find(params?: ServiceParams & { paginate: false }): Promise<Message[]>\n  async find(params?: ServiceParams): Promise<Paginated<Message> | Message[]>\n  async find(params?: ServiceParams): Promise<Paginated<Message> | Message[]> {\n    return super.find(params)\n  }\n\n  async get(id: Id, params?: ServiceParams): Promise<Message> {\n    return super.get(id, params)\n  }\n\n  async create(data: MessageData, params?: ServiceParams): Promise<Message>\n  async create(data: MessageData[], params?: ServiceParams): Promise<Message[]>\n  async create(data: MessageData | MessageData[], params?: ServiceParams): Promise<Message | Message[]> {\n    return super.create(data, params)\n  }\n\n  async update(id: Id, data: Data, params?: ServiceParams): Promise<Message> {\n    return super.update(id, data, params)\n  }\n\n  async patch(id: Id, data: MessagePatch, params?: ServiceParams): Promise<Message>\n  async patch(id: null, data: MessagePatch, params?: ServiceParams): Promise<Message[]>\n  async patch(id: NullableId, data: MessagePatch, params?: ServiceParams): Promise<Message | Message[]> {\n    return super.patch(id, data, params)\n  }\n\n  async remove(id: Id, params?: ServiceParams): Promise<Message>\n  async remove(id: null, params?: ServiceParams): Promise<Message[]>\n  async remove(id: NullableId, params?: ServiceParams): Promise<Message | Message[]> {\n    return super.remove(id, params)\n  }\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\nThe [MongoDB service](../../api/databases/mongodb.md) methods can be customized like this:\n\n```ts\nimport { Paginated } from '@feathersjs/feathers'\nimport { AdapterId } from '@feathersjs/mongodb'\n\nexport interface MessageParams extends MongoDBAdapterParams<MessageQuery> {}\n\n// By default calls the standard MongoDB adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends MongoDBService<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async find(\n    params?: ServiceParams & { paginate?: { paginate?: { default?: number; max?: number } } }\n  ): Promise<Paginated<Message>>\n  async find(params?: ServiceParams & { paginate: false }): Promise<Message[]>\n  async find(params?: ServiceParams): Promise<Paginated<Message> | Message[]>\n  async find(params?: ServiceParams): Promise<Paginated<Message> | Message[]> {\n    return super.find(params)\n  }\n\n  async get(id: AdapterId, params?: ServiceParams): Promise<Message> {\n    return super.get(id, params)\n  }\n\n  async create(data: MessageData, params?: ServiceParams): Promise<Message>\n  async create(data: MessageData[], params?: ServiceParams): Promise<Message[]>\n  async create(data: MessageData | MessageData[], params?: ServiceParams): Promise<Message | Message[]> {\n    return super.create(data, params)\n  }\n\n  async update(id: AdapterId, data: MessageData, params?: ServiceParams): Promise<Message> {\n    return super.update(id, data, params)\n  }\n\n  async patch(id: null, data: MessagePatch, params?: ServiceParams): Promise<Message[]>\n  async patch(id: AdapterId, data: MessagePatch, params?: ServiceParams): Promise<Message>\n  async patch(\n    id: NullableAdapterId,\n    data: MessagePatch,\n    params?: ServiceParams\n  ): Promise<Message | Message[]> {\n    return super.patch(id, data, params)\n  }\n\n  async remove(id: AdapterId, params?: ServiceParams): Promise<Message>\n  async remove(id: null, params?: ServiceParams): Promise<Message[]>\n  async remove(id: NullableAdapterId, params?: ServiceParams): Promise<Message | Message[]> {\n    return super.remove(id, params)\n  }\n}\n```\n\n</DatabaseBlock>\n\n### Other service methods\n\n<DatabaseBlock global-id=\"sql\">\n\nIt is also possible to write your own service methods where the signatures don't have to match by extending from the `KnexAdapter` (instead of the `KnexService`) class. It does not have any of the service methods implemented but you can use the internal `_find`, `_get`, `_update`, `_patch` and `_remove` [adapter methods](../../api/databases/common.md#methods-without-hooks) to work with the database and implement the service method in the way you need.\n\n```ts\nimport { Id } from '@feathersjs/feathers'\nimport { KnexAdapter } from '@feathersjs/knex'\n\nexport interface MessageParams extends KnexAdapterParams<MessageQuery> {}\n\n// By default calls the standard Knex adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends KnexAdapter<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async find(params: ServiceParams) {\n    const page = this._find(params)\n\n    return {\n      status: 'ok',\n      ...page\n    }\n  }\n\n  async get(id: Id, params: ServiceParams) {\n    return {\n      message: `Hello ${id}`\n    }\n  }\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\nIt is also possible to write your own service methods where the signatures don't have to match by extending from the `MongoDbAdapter` (instead of the `MongoDBService`) class. It does not have any of the service methods implemented but you can use the internal `_find`, `_get`, `_update`, `_patch` and `_remove` [adapter methods](../../api/databases/common.md#methods-without-hooks) to work with the database and implement the service method the way you need.\n\n```ts\nimport { Id } from '@feathersjs/feathers'\nimport { MongoDbAdapter } from '@feathersjs/mongodb'\n\nexport interface MessageParams extends MongoDBAdapterParams<MessageQuery> {}\n\n// By default calls the standard MongoDB adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends MongoDbAdapter<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async find(params: ServiceParams) {\n    const page = this._find(params)\n\n    return {\n      status: 'ok',\n      ...page\n    }\n  }\n\n  async get(id: Id, params: ServiceParams) {\n    return {\n      message: `Hello ${id}`\n    }\n  }\n}\n```\n\n</DatabaseBlock>\n\n### Custom methods\n\n<DatabaseBlock global-id=\"sql\">\n\n[Custom service methods](../../api/services.md#custom-methods) can be added to an [SQL Knex service](../../api/databases/knex.md) as follows:\n\n```ts\nexport interface MessageParams extends KnexAdapterParams<MessageQuery> {}\n\nexport type MyMethodData = { greeting: string }\n\n// By default calls the standard Knex adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends KnexService<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async myMethod(data: MyMethodData, params: ServiceParams) {\n    return {\n      message: `${data.greeting || 'Hello'} ${params.user.name}!`\n    }\n  }\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n[Custom service methods](../../api/services.md#custom-methods) can be added to a [MongoDB service](../../api/databases/mongodb.md) like this:\n\n```ts\nexport interface MessageParams extends MongoDBAdapterParams<MessageQuery> {}\n\nexport type MyMethodData = { name: string }\n\n// By default calls the standard MongoDB adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends MongoDBService<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async myMethod(data: MyMethodData, params: ServiceParams) {\n    return {\n      message: `${data.greeting || 'Hello'} ${params.user.name}!`\n    }\n  }\n}\n```\n\n</DatabaseBlock>\n\n## Custom services\n\nAs shown in the [Quick start](../basics/starting.md), Feathers can work with any database, third party API or custom functionality by implementing your own [services](../../api/services.md). When generating a custom service, a basic skeleton service will be created. You can remove the methods you don't need and add others you need.\n\nWhile service methods still have to follow the [standard](../../api/services.md#service-methods) or [custom](../../api/services.md#custom-methods) method signatures, the parameter and return types can be whatever works best for the service you are implementing. If a service method is only for internal use (and not for clients to call) there are no method signature or return value restrictions.\n```ts\nimport type { Id, NullableId, Params } from '@feathersjs/feathers'\ninterface MyParams extends Params {}\nclass MyService {\n  async find(params: MyParams) {\n    return {\n      message: 'This type is inferred'\n    }\n  }\n  async get(id: Id) {\n    return [\n      {\n        id\n      }\n    ]\n  }\n  async create(data: Message, params: MyParams) {\n    return data\n  }\n  // Custom method made available to clients needs to have `data` and `params`\n  async customMethod(data: CustomMethodData, params: MyParams) {}\n  // A method that is only available internally can do anything\n  async anyOtherMethod() {\n    const [entry] = await this.get('david')\n    return entry.id\n  }\n}\n```\n\n## getOptions\n\nThe `getOptions` function is a function that returns the options based on the [application](./app.md) that will be passed to the service class constructor. This is where you can pass [common adapter options](../../api/databases/common.md#options) as well as [MongoDB](../../api/databases/mongodb.md#serviceoptions) or [SQL](../../api/databases/knex.md#serviceoptions) specific or custom service options.",
    "rawContent": "## Database services\n\nWhen using a database, the service class will be extended from the [Feathers database adapter service](../../api/databases/common.md). Like any class, existing methods can be overriden or you can add your own methods (which can also be made available externally [as custom methods when registering the service](./service.md#registration)).\n\n<BlockQuote type=\"tip\" label=\"Note\">\nThe generic types for a database service are always `AdapterService<MessageType, DataType, ParamsType, PatchType>`. The `MessageService<ServiceParams extends Params = MessageParams>` generic is used to change the parameter type when using this service interface as a [client side service](./client.md).\n</BlockQuote>\n\n### Overriding methods\n\nWhen overriding an existing [service method](../../api/services.md#service-methods) on a database adapter the method and overload signatures have to match. The following example shows how to override every service method. Only the methods you want to customize have to be added.\n\n<DatabaseBlock global-id=\"sql\">\n\nThe [SQL Knex service](../../api/databases/knex.md) methods can be customized like this:\n\n```ts\nimport { Id, NullableId, Paginated } from '@feathersjs/feathers'\n\nexport interface MessageParams extends KnexAdapterParams<MessageQuery> {}\n\n// By default calls the standard Knex adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends KnexService<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async find(\n    params?: MessageParams & { paginate?: { default?: number; max?: number } }\n  ): Promise<Paginated<Message>>\n  async find(params?: ServiceParams & { paginate: false }): Promise<Message[]>\n  async find(params?: ServiceParams): Promise<Paginated<Message> | Message[]>\n  async find(params?: ServiceParams): Promise<Paginated<Message> | Message[]> {\n    return super.find(params)\n  }\n\n  async get(id: Id, params?: ServiceParams): Promise<Message> {\n    return super.get(id, params)\n  }\n\n  async create(data: MessageData, params?: ServiceParams): Promise<Message>\n  async create(data: MessageData[], params?: ServiceParams): Promise<Message[]>\n  async create(data: MessageData | MessageData[], params?: ServiceParams): Promise<Message | Message[]> {\n    return super.create(data, params)\n  }\n\n  async update(id: Id, data: Data, params?: ServiceParams): Promise<Message> {\n    return super.update(id, data, params)\n  }\n\n  async patch(id: Id, data: MessagePatch, params?: ServiceParams): Promise<Message>\n  async patch(id: null, data: MessagePatch, params?: ServiceParams): Promise<Message[]>\n  async patch(id: NullableId, data: MessagePatch, params?: ServiceParams): Promise<Message | Message[]> {\n    return super.patch(id, data, params)\n  }\n\n  async remove(id: Id, params?: ServiceParams): Promise<Message>\n  async remove(id: null, params?: ServiceParams): Promise<Message[]>\n  async remove(id: NullableId, params?: ServiceParams): Promise<Message | Message[]> {\n    return super.remove(id, params)\n  }\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\nThe [MongoDB service](../../api/databases/mongodb.md) methods can be customized like this:\n\n```ts\nimport { Paginated } from '@feathersjs/feathers'\nimport { AdapterId } from '@feathersjs/mongodb'\n\nexport interface MessageParams extends MongoDBAdapterParams<MessageQuery> {}\n\n// By default calls the standard MongoDB adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends MongoDBService<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async find(\n    params?: ServiceParams & { paginate?: { paginate?: { default?: number; max?: number } } }\n  ): Promise<Paginated<Message>>\n  async find(params?: ServiceParams & { paginate: false }): Promise<Message[]>\n  async find(params?: ServiceParams): Promise<Paginated<Message> | Message[]>\n  async find(params?: ServiceParams): Promise<Paginated<Message> | Message[]> {\n    return super.find(params)\n  }\n\n  async get(id: AdapterId, params?: ServiceParams): Promise<Message> {\n    return super.get(id, params)\n  }\n\n  async create(data: MessageData, params?: ServiceParams): Promise<Message>\n  async create(data: MessageData[], params?: ServiceParams): Promise<Message[]>\n  async create(data: MessageData | MessageData[], params?: ServiceParams): Promise<Message | Message[]> {\n    return super.create(data, params)\n  }\n\n  async update(id: AdapterId, data: MessageData, params?: ServiceParams): Promise<Message> {\n    return super.update(id, data, params)\n  }\n\n  async patch(id: null, data: MessagePatch, params?: ServiceParams): Promise<Message[]>\n  async patch(id: AdapterId, data: MessagePatch, params?: ServiceParams): Promise<Message>\n  async patch(\n    id: NullableAdapterId,\n    data: MessagePatch,\n    params?: ServiceParams\n  ): Promise<Message | Message[]> {\n    return super.patch(id, data, params)\n  }\n\n  async remove(id: AdapterId, params?: ServiceParams): Promise<Message>\n  async remove(id: null, params?: ServiceParams): Promise<Message[]>\n  async remove(id: NullableAdapterId, params?: ServiceParams): Promise<Message | Message[]> {\n    return super.remove(id, params)\n  }\n}\n```\n\n</DatabaseBlock>\n\n### Other service methods\n\n<DatabaseBlock global-id=\"sql\">\n\nIt is also possible to write your own service methods where the signatures don't have to match by extending from the `KnexAdapter` (instead of the `KnexService`) class. It does not have any of the service methods implemented but you can use the internal `_find`, `_get`, `_update`, `_patch` and `_remove` [adapter methods](../../api/databases/common.md#methods-without-hooks) to work with the database and implement the service method in the way you need.\n\n```ts\nimport { Id } from '@feathersjs/feathers'\nimport { KnexAdapter } from '@feathersjs/knex'\n\nexport interface MessageParams extends KnexAdapterParams<MessageQuery> {}\n\n// By default calls the standard Knex adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends KnexAdapter<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async find(params: ServiceParams) {\n    const page = this._find(params)\n\n    return {\n      status: 'ok',\n      ...page\n    }\n  }\n\n  async get(id: Id, params: ServiceParams) {\n    return {\n      message: `Hello ${id}`\n    }\n  }\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\nIt is also possible to write your own service methods where the signatures don't have to match by extending from the `MongoDbAdapter` (instead of the `MongoDBService`) class. It does not have any of the service methods implemented but you can use the internal `_find`, `_get`, `_update`, `_patch` and `_remove` [adapter methods](../../api/databases/common.md#methods-without-hooks) to work with the database and implement the service method the way you need.\n\n```ts\nimport { Id } from '@feathersjs/feathers'\nimport { MongoDbAdapter } from '@feathersjs/mongodb'\n\nexport interface MessageParams extends MongoDBAdapterParams<MessageQuery> {}\n\n// By default calls the standard MongoDB adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends MongoDbAdapter<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async find(params: ServiceParams) {\n    const page = this._find(params)\n\n    return {\n      status: 'ok',\n      ...page\n    }\n  }\n\n  async get(id: Id, params: ServiceParams) {\n    return {\n      message: `Hello ${id}`\n    }\n  }\n}\n```\n\n</DatabaseBlock>\n\n### Custom methods\n\n<DatabaseBlock global-id=\"sql\">\n\n[Custom service methods](../../api/services.md#custom-methods) can be added to an [SQL Knex service](../../api/databases/knex.md) as follows:\n\n```ts\nexport interface MessageParams extends KnexAdapterParams<MessageQuery> {}\n\nexport type MyMethodData = { greeting: string }\n\n// By default calls the standard Knex adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends KnexService<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async myMethod(data: MyMethodData, params: ServiceParams) {\n    return {\n      message: `${data.greeting || 'Hello'} ${params.user.name}!`\n    }\n  }\n}\n```\n\n</DatabaseBlock>\n\n<DatabaseBlock global-id=\"mongodb\">\n\n[Custom service methods](../../api/services.md#custom-methods) can be added to a [MongoDB service](../../api/databases/mongodb.md) like this:\n\n```ts\nexport interface MessageParams extends MongoDBAdapterParams<MessageQuery> {}\n\nexport type MyMethodData = { name: string }\n\n// By default calls the standard MongoDB adapter service methods but can be customized with your own functionality.\nexport class MessageService<ServiceParams extends Params = MessageParams> extends MongoDBService<\n  Message,\n  MessageData,\n  MessageParams,\n  MessagePatch\n> {\n  async myMethod(data: MyMethodData, params: ServiceParams) {\n    return {\n      message: `${data.greeting || 'Hello'} ${params.user.name}!`\n    }\n  }\n}\n```\n\n</DatabaseBlock>\n\n## Custom services\n\nAs shown in the [Quick start](../basics/starting.md), Feathers can work with any database, third party API or custom functionality by implementing your own [services](../../api/services.md). When generating a custom service, a basic skeleton service will be created. You can remove the methods you don't need and add others you need.\n\nWhile service methods still have to follow the [standard](../../api/services.md#service-methods) or [custom](../../api/services.md#custom-methods) method signatures, the parameter and return types can be whatever works best for the service you are implementing. If a service method is only for internal use (and not for clients to call) there are no method signature or return value restrictions.\n```ts\nimport type { Id, NullableId, Params } from '@feathersjs/feathers'\ninterface MyParams extends Params {}\nclass MyService {\n  async find(params: MyParams) {\n    return {\n      message: 'This type is inferred'\n    }\n  }\n  async get(id: Id) {\n    return [\n      {\n        id\n      }\n    ]\n  }\n  async create(data: Message, params: MyParams) {\n    return data\n  }\n  // Custom method made available to clients needs to have `data` and `params`\n  async customMethod(data: CustomMethodData, params: MyParams) {}\n  // A method that is only available internally can do anything\n  async anyOtherMethod() {\n    const [entry] = await this.get('david')\n    return entry.id\n  }\n}\n```\n\n## getOptions\n\nThe `getOptions` function is a function that returns the options based on the [application](./app.md) that will be passed to the service class constructor. This is where you can pass [common adapter options](../../api/databases/common.md#options) as well as [MongoDB](../../api/databases/mongodb.md#serviceoptions) or [SQL](../../api/databases/knex.md#serviceoptions) specific or custom service options.",
    "breadcrumb": "Service classes",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/service.class.md",
    "heading": "Service classes",
    "subHeadings": [
      "Database services",
      "Overriding methods",
      "Other service methods",
      "Custom methods",
      "Custom services",
      "getOptions"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 2778,
    "category": "cli",
    "tags": [
      "hooks",
      "services",
      "application",
      "params",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "custom methods",
      "database",
      "adapter",
      "mongodb",
      "knex",
      "rest",
      "client",
      "types",
      "cli",
      "custom service"
    ],
    "embedding": [
      0.00507,
      0.014066,
      -0.049199,
      0.01321,
      0.008924,
      -0.042875,
      0.039704,
      0.020948,
      0.009919,
      -0.002585,
      -0.016305,
      0.014638,
      -0.030961,
      0.021344,
      -0.009397,
      0.013958,
      -0.031282,
      -0.040552,
      0.02029,
      -0.016515,
      -0.028216,
      0.031908,
      0.05148,
      0.06177,
      -0.005062,
      0.002585,
      -0.018253,
      -0.022153,
      0.015765,
      0.025823,
      -0.013822,
      -0.000957,
      -0.005082,
      0.006486,
      -0.019123,
      -0.030658,
      -0.011907,
      -0.007641,
      -0.03702,
      0.015779,
      -0.002769,
      -0.019378,
      -0.001647,
      -0.040938,
      0.009476,
      -0.036648,
      -0.024506,
      0.001636,
      0.012104,
      -0.006652,
      -0.032984,
      -0.036195,
      0.043581,
      -0.074663,
      0.007533,
      0.042,
      -0.000863,
      -0.021112,
      -0.054841,
      0.016551,
      -0.026449,
      0.019269,
      -0.017626,
      0.013596,
      -0.01293,
      0.031559,
      -0.033004,
      0.011732,
      -0.004407,
      -0.008218,
      0.003173,
      0.030984,
      -0.049031,
      -0.00613,
      -0.045296,
      0.007198,
      0.044704,
      0.016363,
      -0.013424,
      0.028043,
      -0.024838,
      -0.026,
      -0.005502,
      -0.024826,
      -0.026592,
      0.026738,
      -0.011114,
      -0.012902,
      0.030905,
      0.039334,
      0.030489,
      -0.010613,
      0.036157,
      -0.074347,
      -0.024657,
      -0.029649,
      -0.015771,
      -0.001016,
      0.00785,
      0.003461,
      -0.004549,
      -0.001385,
      0.007787,
      0.007237,
      0.011591,
      0.01228,
      0.014761,
      -0.006506,
      -0.016392,
      -0.046752,
      0.008568,
      0.00434,
      0.011934,
      0.01455,
      -0.003819,
      -0.041872,
      0.007928,
      -0.038877,
      0.031236,
      0.000345,
      -0.007507,
      0.017728,
      0.031968,
      -0.0006,
      -0.017584,
      0.013551,
      -0.005407,
      0.055289,
      -0.02144,
      0.019016,
      0.04421,
      -0.011768,
      0.011612,
      -0.002817,
      -0.026835,
      0.026111,
      0.014001,
      -0.012452,
      0.009555,
      -0.059455,
      0.003887,
      -0.049686,
      -0.01117,
      -0.027703,
      0.049616,
      -0.046604,
      0.124307,
      0.033221,
      -0.035371,
      -0.034984,
      0.033008,
      0.014149,
      0.021015,
      -0.056103,
      0.019129,
      -0.085698,
      -0.001953,
      0.035655,
      0.044435,
      -0.006305,
      -0.031542,
      0.034341,
      -0.070903,
      0.010386,
      0.061391,
      -0.041464,
      0.036343,
      -0.028727,
      -0.025886,
      -0.009701,
      0.023195,
      0.014448,
      0.061874,
      -0.004261,
      0.02472,
      0.027804,
      0.087982,
      0.040681,
      0.044824,
      -0.013095,
      -0.042612,
      0.026735,
      0.000175,
      -0.061695,
      -0.020263,
      0.032275,
      -0.012863,
      -0.018077,
      -0.013103,
      -0.00648,
      0.009711,
      0.002794,
      0.047146,
      0.007674,
      -0.004995,
      0.017678,
      -0.004304,
      0.035257,
      0.004842,
      0.005266,
      0.030871,
      0.041315,
      0.037801,
      0.022012,
      -0.034411,
      -0.046161,
      -0.041025,
      -0.019715,
      -0.000572,
      -0.046334,
      0.018215,
      0.008895,
      -0.02031,
      0.019623,
      -0.034761,
      0.01158,
      -0.016389,
      0.008503,
      -0.031997,
      -0.014983,
      0.01546,
      0.029257,
      0.001297,
      -0.010919,
      0.012755,
      -0.017562,
      0.051072,
      -0.01004,
      0.015067,
      0.010083,
      -0.048224,
      0.005506,
      0.020519,
      -0.014075,
      0.035917,
      -0.014885,
      -0.044024,
      0.009383,
      0.039762,
      0.037087,
      -0.077278,
      -0.044423,
      -0.018367,
      0.007645,
      -0.02743,
      -0.016401,
      0.00678,
      0.00369,
      -0.029858,
      -0.0212,
      -0.010551,
      0.031774,
      -0.015323,
      -0.004586,
      0.026277,
      -0.033281,
      0.025035,
      0.002822,
      -0.012618,
      -0.013388,
      -0.002833,
      0.032027,
      0.005113,
      0.033752,
      -0.012966,
      -0.01368,
      -0.030771,
      -0.018895,
      -0.012033,
      0.025503,
      0.000742,
      -0.043304,
      0.057175,
      0.009732,
      0.007488,
      0.022154,
      0.024106,
      -0.024582,
      0.144431,
      0.01479,
      0.02368,
      0.020976,
      0.052736,
      0.004642,
      0.016942,
      0.01102,
      -0.013406,
      -0.006577,
      -0.013307,
      -0.026772,
      0.003037,
      0.00072,
      0.062091,
      0.020455,
      -0.017197,
      -0.028993,
      -0.006977,
      -0.143509,
      0.011935,
      0.048754,
      0.000471,
      -0.009443,
      0.002213,
      -0.018614,
      0.054122,
      -0.033443,
      0.030126,
      -0.005609,
      -0.045733,
      0.010958,
      -0.027807,
      0.031358,
      -0.030098,
      0.002951,
      0.007558,
      0.028263,
      -0.058178,
      -0.040888,
      -0.054145,
      -0.003709,
      0.053372,
      0.010017,
      -0.015874,
      0.034744,
      0.007882,
      -0.043897,
      -0.010678,
      0.008478,
      0.047499,
      0.017736,
      -0.003619,
      -0.011581,
      0.002835,
      -0.024757,
      -0.024661,
      0.007605,
      -0.032365,
      0.031504,
      0.064986,
      -0.01401,
      -0.005579,
      0.018228,
      0.013075,
      0.01346,
      0.006545,
      -0.00706,
      -0.00939,
      0.015242,
      -0.03383,
      0.011142,
      -0.007407,
      -0.040056,
      0.012494,
      0.039942,
      0.079313,
      0.014935,
      -0.000209,
      -0.001281,
      0.02395,
      0.029498,
      -0.013487,
      -0.016539,
      -0.009081,
      0.022263,
      -0.011607,
      0.013174,
      -0.057659,
      0.055174,
      -0.038865,
      0.000851,
      0.007514,
      -0.036238,
      -0.014182,
      -0.029503,
      -0.018358,
      -0.035846,
      -0.116062,
      0.007596,
      0.004622,
      0.012063,
      0.043385,
      -0.030186,
      -0.036408,
      -0.011882,
      -0.017804,
      0.012946,
      0.244013,
      0.010734,
      0.004013,
      0.040808,
      0.066608,
      -0.024267,
      0.064246,
      0.059857,
      0.01974,
      -0.014561,
      0.008658,
      0.030571,
      -0.021855,
      0.005555,
      -0.021939,
      -0.02288,
      -0.064044,
      -0.002428,
      0.038435,
      -0.017045,
      0.006487,
      0.026446,
      0.002585,
      0.03561,
      -0.073627,
      -0.060683,
      -0.020724,
      0.023505,
      -0.029408,
      0.030553,
      -0.012211,
      -0.016304,
      0.01833,
      -0.088343,
      -0.061308,
      -0.04028,
      0.011434,
      -0.016036,
      0.018055,
      0.031213,
      -0.009438,
      0.008207,
      0.02681,
      0.011713,
      -0.027089,
      -0.023204,
      0.007966,
      -0.011118,
      -0.06755,
      -0.03936,
      -0.009912,
      -0.033587,
      -0.015606,
      -0.012779,
      -0.027565,
      -0.027557,
      0.009731,
      0.016895,
      0.000248,
      0.010083,
      0.014816,
      0.015174,
      -0.032401,
      0.066113,
      0.008082,
      0.022325,
      0.001535,
      -0.031993,
      -0.015015,
      0.032234,
      0.010482,
      0.022484,
      0.03189,
      -0.025511,
      0.030346,
      0.027268,
      0.059479,
      0.059854,
      -0.012747,
      0.007912,
      -0.006271,
      -0.004935,
      -0.027701,
      0.017503,
      0.01097,
      0.015839,
      -0.034337,
      0.027276,
      -0.004774,
      -0.018011,
      -0.024847,
      -0.021704,
      0.009921,
      0.027838,
      0.005939,
      0.019665,
      0.002953,
      -0.008009,
      -0.000483,
      -0.023011,
      0.001593,
      0.0061,
      0.031908,
      -0.009838,
      0.051976,
      -0.017839,
      0.03305,
      0.006015,
      0.043631,
      0.006419,
      -0.026986,
      0.019459,
      -0.02798,
      -0.038375,
      0.009976,
      0.009695,
      0.024509,
      0.014902,
      0.049463,
      -0.00321,
      -0.037044,
      0.033467,
      0.031056,
      -0.020803,
      0.010788,
      -0.042217,
      -0.019875,
      -0.025427,
      -0.02456,
      0.023382,
      0.037224,
      -0.031463,
      -0.000977,
      0.033876,
      -0.020415,
      -0.00843,
      -0.001151,
      0.035216,
      0.026329,
      0.016486,
      0.001091,
      -0.042827,
      -0.009622,
      0.011628,
      0.022498,
      0.022726,
      0.035573,
      -0.009448,
      0.00672,
      -0.015058,
      0.04008,
      0.069458,
      -0.016924,
      -0.050077,
      -0.018896,
      -0.019433,
      0.006007,
      0.021767,
      0.025417,
      -0.029653,
      -0.031394,
      -0.001011,
      -0.010452,
      0.013696,
      0.036017,
      -0.021435,
      0.060139,
      0.060076,
      -0.025009,
      -0.043123,
      -0.006584,
      -0.034614,
      -0.035737,
      0.041697,
      -0.006036,
      -0.002478,
      -0.038662,
      0.009814,
      0.007361,
      -0.037657,
      0.014645,
      0.024504,
      -0.033327,
      -0.004875,
      -0.014986,
      0.059658,
      0.003944,
      -0.014701,
      -0.01586,
      -0.003618,
      -0.053201,
      0.104225,
      -0.036393,
      0.017959,
      0.045259,
      0.044102,
      0.045603,
      0.012696,
      0.027381,
      -0.000425,
      -0.007446,
      -0.005919,
      0.012905,
      0.01636,
      -0.027378,
      -0.030812,
      -0.000972,
      0.020823,
      -0.011867,
      -0.017272,
      -0.029413,
      0.016696,
      -0.03714,
      -0.014265,
      0.04315,
      -0.019717,
      0.070023,
      0.050993,
      0.012453,
      0.033835,
      -0.031393,
      0.008365,
      0.014439,
      -0.033152,
      0.014047,
      0.006624,
      0.027276,
      -0.010022,
      -0.013263,
      0.005262,
      -0.008295,
      0.059705,
      -0.003631,
      -0.035153,
      0.010305,
      -0.016427,
      0.05367,
      0.013578,
      -0.022638,
      -0.008123,
      0.01522,
      0.027825,
      0.050268,
      0.041358,
      -0.030363,
      0.007728,
      -0.061045,
      -0.002365,
      -0.017494,
      0.017165,
      -0.004604,
      -0.016797,
      0.032404,
      -0.033939,
      -0.06287,
      0.011953,
      0.029441,
      -0.010995,
      -0.030515,
      0.006683,
      -0.017354,
      0.025181,
      -0.014458,
      -0.029326,
      -0.003361,
      -0.021016,
      0.01536,
      -0.047125,
      -0.039635,
      -0.019414,
      -0.009402,
      -0.005919,
      -0.038872,
      -0.064629,
      -0.008895,
      0.01396,
      -0.003985,
      -0.006429,
      0.009496,
      0.016764,
      -0.059805,
      -0.024137,
      0.05155,
      -0.018789,
      0.043229,
      -0.012242,
      0.050075,
      -0.017211,
      0.009322,
      -0.041127,
      0.022051,
      0.016671,
      -0.030168,
      -0.00094,
      0.020998,
      0.012115,
      -0.015859,
      0.042502,
      -0.009663,
      -0.004479,
      -0.001736,
      0.016571,
      -0.01182,
      0.011164,
      0.003272,
      0.015766,
      0.002487,
      -0.05084,
      0.002729,
      0.016731,
      0.00979,
      0.006545,
      -0.004076,
      0.012861,
      -0.001864,
      -0.033525,
      0.060534,
      -0.039696,
      -0.016969,
      -0.049221,
      0.024828,
      0.002011,
      -0.041103,
      0.002561,
      0.016097,
      0.013411,
      0.000406,
      -0.016718,
      -0.04442,
      0.00001,
      -0.040168,
      -0.004253,
      0.02015,
      -0.039939,
      -0.00281,
      -0.026626,
      0.051261,
      -0.038819,
      0.019537,
      -0.046163,
      0.035209,
      -0.011649,
      0.041718,
      -0.018949,
      0.016274,
      -0.005335,
      0.002264,
      0.007759,
      -0.042605,
      -0.006085,
      -0.012197,
      0.004351,
      -0.019105,
      -0.026863,
      0.027949,
      -0.076934,
      -0.072012,
      0.024492,
      0.015973,
      -0.019871,
      -0.038688,
      0.035749,
      -0.006725,
      -0.042621,
      0.017036,
      -0.014671,
      0.006001,
      -0.032374,
      -0.038554,
      -0.03865,
      -0.027262,
      0.028025,
      -0.028779,
      0.027928,
      -0.017081,
      0.029583,
      -0.026193,
      0.047091,
      0.039122,
      -0.056351,
      -0.033123,
      -0.024842,
      -0.040805,
      -0.018395,
      -0.023956,
      0.010229,
      -0.023706,
      -0.008283,
      -0.011854,
      0.009503,
      0.013568,
      -0.009061,
      -0.00431,
      -0.009704,
      -0.136935,
      -0.001366,
      0.012572,
      0.043743,
      0.005561,
      0.016603,
      0.009011,
      -0.045574,
      0.00826,
      -0.032582,
      -0.061812,
      -0.001457,
      0.007987,
      -0.033143,
      0.012788,
      0.035147,
      -0.010185,
      -0.026141,
      -0.022594,
      -0.014763,
      -0.011346,
      -0.013958,
      0.044908,
      0.023887,
      0.027494,
      0.013919,
      0.004724,
      -0.000321,
      -0.009636,
      -0.009281,
      -0.001666,
      0.015989,
      0.010563,
      -0.004592,
      0.012959,
      0.023376,
      -0.002,
      0.019191,
      -0.018827,
      0.015552,
      -0.047877,
      0.017539,
      -0.055551,
      0.047727,
      0.00283,
      -0.008358,
      -0.042694,
      -0.05793,
      0.013249,
      -0.002586,
      -0.017527,
      0.003573,
      -0.037788,
      -0.004983,
      -0.000304,
      -0.043052,
      -0.018635,
      -0.029114,
      -0.033734,
      0.061283,
      -0.007804,
      0.072388,
      -0.030365,
      -0.017796,
      0.036315,
      0.000516,
      -0.039828,
      0.010252,
      -0.000803,
      0.016875,
      0.030027,
      -0.026222,
      -0.005005,
      -0.009015,
      0.028793,
      -0.015343,
      0.04397,
      0.011415,
      -0.05695,
      -0.015956,
      -0.016906,
      0.009068,
      -0.075508,
      0.060054,
      0.029794,
      -0.016853,
      -0.009692,
      -0.001103,
      -0.026879,
      0.021927,
      -0.033428,
      -0.046694,
      0.000757,
      0.041187,
      -0.002639,
      0.012637,
      -0.027073,
      0.000795,
      -0.012314,
      -0.011852,
      -0.039464,
      0.000478,
      -0.005268,
      -0.00051,
      -0.03266,
      0.009313,
      -0.00494,
      0.013105,
      0.01776,
      -0.018804,
      0.017854,
      0.014565,
      -0.027242,
      0.001028,
      -0.089487,
      0.008704,
      0.016368,
      0.012367,
      -0.01544,
      0.027126,
      0.039109,
      -0.000111,
      0.008751,
      -0.016083,
      0.022368,
      0.053678,
      0.032604,
      -0.000305,
      0.055518,
      -0.028481,
      -0.000636,
      -0.044122,
      -0.010288,
      -0.006845,
      -0.011686,
      -0.06302,
      -0.039565,
      0.06844,
      -0.017827,
      -0.035814,
      -0.045967,
      -0.019219,
      -0.01925,
      -0.026339,
      0.012011,
      0.014091,
      -0.029896,
      0.009145,
      -0.015721,
      -0.034198,
      0.032004,
      0.00356,
      -0.001664,
      0.075704,
      0.046232,
      0.00886,
      -0.008098,
      0.010754,
      -0.02741,
      0.040688,
      0.021092,
      -0.074306,
      0.004644,
      -0.035122,
      -0.00286,
      0.017156,
      0.011104,
      -0.025595,
      -0.024628,
      -0.004846,
      -0.041014,
      0.017056,
      -0.012946,
      -0.017103,
      0.037449,
      -0.026949,
      0.024076,
      -0.0088,
      0.059469,
      0.003435,
      0.010712,
      0.033655,
      0.059538,
      -0.002623,
      0.039806,
      0.022665,
      0.013473,
      -0.017217,
      0.041844,
      -0.01212,
      -0.017169,
      0.007448,
      0.026155,
      0.002973,
      0.01855,
      0.001391,
      0.029239,
      0.035464,
      -0.016986,
      0.04775,
      -0.002617,
      -0.054006,
      0.015039,
      0.021835,
      -0.005952,
      0.03899,
      0.010381,
      -0.051286,
      -0.011388,
      0.026173,
      0.015342,
      -0.003146,
      -0.016671,
      0.016872,
      0.002863,
      -0.007937,
      0.022194,
      0.004971,
      0.00351,
      -0.042381,
      0.019292,
      0.009114,
      0.009941,
      -0.065165,
      -0.060028,
      -0.041968,
      0.043148,
      -0.013118,
      -0.020029,
      -0.017878,
      0.009739,
      -0.041307,
      -0.009834,
      0.043038,
      0.04067,
      -0.016952,
      0.003315,
      0.01474,
      -0.043076,
      -0.007728,
      0.012565,
      0.020478,
      0.003617,
      0.003733
    ]
  },
  {
    "id": "v5-service-0",
    "content": "# Service\nBreadcrumb: Service\nCovers: Registration | Registering hooks\nTopics: hooks, services, application, find, get, create, update, patch, remove, custom methods, authentication, jwt, schema, resolver, events, http, client, typescript, types, declarations, cli, testing, test, custom events\n\n## Registration\n\nThe service is added to the main application via [app.use](../../api/application.md#usepath-service--options) under the path you chose when creating the service. It usses the following options:\n\n- `methods` - A list of methods available for external clients. You can remove methods that are not used or add your own [custom methods](../../api/services.md#custom-methods). Not that this list also has to be updated in the [client file](./client.md).\n- `events` - A list of additional [custom events](../../api/events.md#custom-events) sent to clients.\n\nIn TypeScript the `ServiceTypes` interface defined in the [declarations](./declarations.md) will also be extended with the correct service class type using the [shared path](./service.shared.md) as a key:\n```ts\ndeclare module '../../../declarations' {\n  interface ServiceTypes {\n    [testingPath]: TestingService\n  }\n}\n```\n\n## Registering hooks\n\nThis file is also where service [hooks](../../api/hooks.md) are registered on the service. Depending on the selection, it commonly includes the [authentication hook](../../api/authentication/hook.md) and hooks that validate and resolve the schemas from the [service.schemas file](./service.schemas.md).\n\n```ts\n// Initialize hooks\napp.service(messagePath).hooks({\n  around: {\n    all: [\n      authenticate('jwt'),\n      schemaHooks.resolveExternal(messageExternalResolver),\n      schemaHooks.resolveResult(messageResolver)\n    ]\n  },\n  before: {\n    all: [schemaHooks.validateQuery(messageQueryValidator), schemaHooks.resolveQuery(messageQueryResolver)],\n    find: [],\n    get: [],\n    create: [schemaHooks.validateData(messageDataValidator), schemaHooks.resolveData(messageDataResolver)],\n    patch: [schemaHooks.validateData(messagePatchValidator), schemaHooks.resolveData(messagePatchResolver)],\n    remove: []\n  },\n  after: {\n    all: []\n  },\n  error: {\n    all: []\n  }\n})\n```\n\nNote that you can add hooks to a specific method as documented in the [hook registration API](../../api/hooks.md#registering-hooks). For example, to use the [profiling hook](./hook.md#profiling-example) only for `find` and `get` the registration can be updated like this:\n\n```ts{12-13}\nimport { profiler } from '../../hooks/profiler'\n// ...\n\n// Initialize hooks\napp.service(messagePath).hooks({\n  around: {\n    all: [\n      authenticate('jwt'),\n      schemaHooks.resolveExternal(messageExternalResolver),\n      schemaHooks.resolveResult(messageResolver)\n    ],\n    find: [profiler],\n    get: [profiler]\n  },\n  before: {\n    all: [schemaHooks.validateQuery(messageQueryValidator), schemaHooks.resolveQuery(messageQueryResolver)],\n    find: [],\n    get: [],\n    create: [schemaHooks.validateData(messageDataValidator), schemaHooks.resolveData(messageDataResolver)],\n    patch: [schemaHooks.validateData(messagePatchValidator), schemaHooks.resolveData(messagePatchResolver)],\n    remove: []\n  },\n  after: {\n    all: []\n  },\n  error: {\n    all: []\n  }\n})\n```\n\nThis also applies to any hook plugins like [feathers-hooks-common](https://hooks-common.feathersjs.com/).",
    "rawContent": "## Registration\n\nThe service is added to the main application via [app.use](../../api/application.md#usepath-service--options) under the path you chose when creating the service. It usses the following options:\n\n- `methods` - A list of methods available for external clients. You can remove methods that are not used or add your own [custom methods](../../api/services.md#custom-methods). Not that this list also has to be updated in the [client file](./client.md).\n- `events` - A list of additional [custom events](../../api/events.md#custom-events) sent to clients.\n\nIn TypeScript the `ServiceTypes` interface defined in the [declarations](./declarations.md) will also be extended with the correct service class type using the [shared path](./service.shared.md) as a key:\n```ts\ndeclare module '../../../declarations' {\n  interface ServiceTypes {\n    [testingPath]: TestingService\n  }\n}\n```\n\n## Registering hooks\n\nThis file is also where service [hooks](../../api/hooks.md) are registered on the service. Depending on the selection, it commonly includes the [authentication hook](../../api/authentication/hook.md) and hooks that validate and resolve the schemas from the [service.schemas file](./service.schemas.md).\n\n```ts\n// Initialize hooks\napp.service(messagePath).hooks({\n  around: {\n    all: [\n      authenticate('jwt'),\n      schemaHooks.resolveExternal(messageExternalResolver),\n      schemaHooks.resolveResult(messageResolver)\n    ]\n  },\n  before: {\n    all: [schemaHooks.validateQuery(messageQueryValidator), schemaHooks.resolveQuery(messageQueryResolver)],\n    find: [],\n    get: [],\n    create: [schemaHooks.validateData(messageDataValidator), schemaHooks.resolveData(messageDataResolver)],\n    patch: [schemaHooks.validateData(messagePatchValidator), schemaHooks.resolveData(messagePatchResolver)],\n    remove: []\n  },\n  after: {\n    all: []\n  },\n  error: {\n    all: []\n  }\n})\n```\n\nNote that you can add hooks to a specific method as documented in the [hook registration API](../../api/hooks.md#registering-hooks). For example, to use the [profiling hook](./hook.md#profiling-example) only for `find` and `get` the registration can be updated like this:\n\n```ts{12-13}\nimport { profiler } from '../../hooks/profiler'\n// ...\n\n// Initialize hooks\napp.service(messagePath).hooks({\n  around: {\n    all: [\n      authenticate('jwt'),\n      schemaHooks.resolveExternal(messageExternalResolver),\n      schemaHooks.resolveResult(messageResolver)\n    ],\n    find: [profiler],\n    get: [profiler]\n  },\n  before: {\n    all: [schemaHooks.validateQuery(messageQueryValidator), schemaHooks.resolveQuery(messageQueryResolver)],\n    find: [],\n    get: [],\n    create: [schemaHooks.validateData(messageDataValidator), schemaHooks.resolveData(messageDataResolver)],\n    patch: [schemaHooks.validateData(messagePatchValidator), schemaHooks.resolveData(messagePatchResolver)],\n    remove: []\n  },\n  after: {\n    all: []\n  },\n  error: {\n    all: []\n  }\n})\n```\n\nThis also applies to any hook plugins like [feathers-hooks-common](https://hooks-common.feathersjs.com/).",
    "breadcrumb": "Service",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/service.md",
    "heading": "Service",
    "subHeadings": [
      "Registration",
      "Registering hooks"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 765,
    "category": "cli",
    "tags": [
      "hooks",
      "services",
      "application",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "custom methods",
      "authentication",
      "jwt",
      "schema",
      "resolver",
      "events",
      "http",
      "client",
      "typescript",
      "types",
      "declarations",
      "cli",
      "testing",
      "test",
      "custom events"
    ],
    "embedding": [
      -0.024646,
      0.020613,
      -0.046248,
      0.009931,
      -0.014119,
      -0.02255,
      0.00251,
      0.006126,
      -0.002568,
      0.005749,
      0.000637,
      0.012209,
      0.006986,
      0.016908,
      -0.048875,
      -0.004579,
      -0.025041,
      -0.023889,
      0.059114,
      -0.006877,
      -0.045824,
      0.010704,
      -0.015467,
      -0.010028,
      0.009906,
      0.016862,
      -0.006024,
      -0.019129,
      0.023811,
      -0.013701,
      0.006059,
      0.028868,
      -0.019332,
      -0.016989,
      -0.021633,
      -0.015747,
      -0.019961,
      0.009334,
      -0.0304,
      0.001175,
      -0.023353,
      -0.004199,
      -0.0037,
      -0.022627,
      0.031199,
      -0.012211,
      -0.012788,
      -0.002693,
      0.026834,
      -0.014515,
      -0.001052,
      0.016872,
      0.04579,
      -0.054419,
      0.049119,
      0.041204,
      -0.020373,
      -0.039855,
      -0.067019,
      -0.004058,
      -0.027767,
      0.029096,
      -0.004799,
      -0.007634,
      0.00394,
      0.042121,
      -0.026806,
      0.007452,
      -0.027393,
      -0.029924,
      -0.01325,
      -0.006794,
      -0.033443,
      -0.010204,
      -0.059401,
      0.022868,
      0.061394,
      0.001665,
      0.017833,
      0.035348,
      -0.037968,
      -0.037294,
      0.013048,
      0.004681,
      0.031825,
      -0.013917,
      0.014036,
      0.036722,
      -0.010014,
      -0.021375,
      0.008189,
      -0.023904,
      0.047771,
      -0.03207,
      -0.006743,
      -0.005261,
      0.009737,
      0.005,
      0.01124,
      0.03413,
      -0.016725,
      -0.007139,
      0.013606,
      -0.032882,
      0.054642,
      0.035155,
      0.0058,
      0.020179,
      0.002731,
      -0.0235,
      0.007903,
      -0.04661,
      0.01784,
      0.031391,
      -0.003201,
      -0.063858,
      0.024007,
      -0.035802,
      -0.024365,
      -0.000749,
      0.01462,
      0.026854,
      0.04435,
      -0.012768,
      -0.004377,
      0.034257,
      0.014767,
      0.041845,
      0.003762,
      -0.003615,
      0.021276,
      0.002431,
      -0.004995,
      0.021028,
      -0.04424,
      0.038821,
      0.032543,
      0.000619,
      0.012729,
      -0.027835,
      0.015091,
      0.021371,
      0.00556,
      -0.021998,
      0.033089,
      -0.033022,
      0.069939,
      0.017625,
      0.025505,
      0.026711,
      0.017367,
      0.002243,
      -0.023626,
      -0.000577,
      0.007445,
      -0.102187,
      -0.029786,
      0.033675,
      0.056862,
      -0.027799,
      -0.017166,
      0.026011,
      -0.010036,
      -0.020752,
      0.050572,
      -0.060887,
      0.012781,
      0.005809,
      -0.004014,
      -0.004251,
      0.034437,
      -0.03628,
      0.020323,
      -0.026334,
      0.01808,
      0.029772,
      0.061496,
      0.022069,
      0.020865,
      -0.01308,
      -0.06054,
      0.016037,
      -0.019394,
      -0.047974,
      -0.001128,
      0.045042,
      -0.01657,
      -0.024237,
      -0.00296,
      0.016645,
      -0.023983,
      0.007488,
      0.030271,
      0.025632,
      -0.022783,
      0.014609,
      -0.004639,
      0.011025,
      0.041092,
      0.02433,
      -0.00868,
      0.058049,
      0.033511,
      0.026891,
      -0.055473,
      -0.042546,
      0.018322,
      -0.022798,
      0.011526,
      -0.053677,
      0.021804,
      0.016761,
      0.002578,
      -0.022712,
      -0.011767,
      0.02452,
      0.015236,
      0.028688,
      -0.037169,
      -0.028883,
      -0.0048,
      0.022779,
      0.028841,
      0.020373,
      0.023616,
      0.022394,
      0.036889,
      0.010635,
      -0.012316,
      0.013716,
      -0.037737,
      0.027688,
      0.022832,
      -0.034212,
      0.028017,
      -0.013913,
      -0.042809,
      -0.00317,
      0.045224,
      0.011572,
      -0.033746,
      -0.015964,
      0.037359,
      -0.014605,
      -0.032999,
      -0.005413,
      0.016973,
      0.044031,
      -0.034441,
      -0.040916,
      -0.049969,
      0.017524,
      -0.033725,
      0.015291,
      0.024164,
      -0.008834,
      0.006274,
      -0.003426,
      -0.025354,
      -0.037282,
      -0.011435,
      0.020953,
      0.001106,
      0.003109,
      0.010696,
      -0.009615,
      -0.046656,
      -0.081624,
      0.002533,
      -0.0074,
      -0.022202,
      -0.012355,
      0.031392,
      0.033222,
      -0.010218,
      -0.035891,
      0.007289,
      -0.053203,
      0.098471,
      -0.007219,
      -0.016114,
      0.023674,
      0.060245,
      0.020494,
      -0.017324,
      0.01606,
      -0.019973,
      -0.046556,
      0.010611,
      -0.013653,
      0.021674,
      -0.014689,
      0.072793,
      -0.007585,
      -0.041529,
      0.024316,
      -0.008245,
      -0.162023,
      -0.045536,
      0.026353,
      0.020118,
      0.011018,
      -0.000513,
      -0.074273,
      0.03618,
      -0.030892,
      0.044181,
      -0.008099,
      -0.05499,
      -0.001336,
      -0.001813,
      -0.016684,
      -0.020737,
      -0.026836,
      0.004392,
      0.030984,
      -0.056327,
      -0.047844,
      -0.032402,
      0.027127,
      0.030175,
      0.021754,
      -0.001339,
      0.037027,
      -0.026777,
      -0.034165,
      0.016811,
      -0.028905,
      0.011623,
      0.013889,
      0.015362,
      0.008645,
      -0.026649,
      -0.008137,
      0.005757,
      0.004336,
      -0.043254,
      0.010209,
      0.007423,
      -0.006009,
      0.002081,
      0.010117,
      -0.034877,
      0.056311,
      -0.006353,
      0.023848,
      0.004526,
      0.002539,
      -0.016834,
      -0.013822,
      -0.04177,
      -0.02923,
      0.016833,
      0.032896,
      0.051146,
      -0.005998,
      0.015207,
      0.003182,
      -0.022537,
      0.060241,
      -0.041018,
      -0.003235,
      -0.017069,
      -0.004114,
      -0.017581,
      -0.012173,
      -0.027291,
      0.030467,
      -0.073255,
      -0.034299,
      -0.014606,
      -0.039119,
      -0.027167,
      0.032992,
      -0.005627,
      -0.034888,
      -0.109508,
      -0.03659,
      0.041857,
      -0.003933,
      0.030203,
      -0.018308,
      -0.021732,
      -0.004707,
      -0.027795,
      0.018581,
      0.250902,
      0.020177,
      0.02482,
      0.011048,
      0.080041,
      -0.014414,
      0.027465,
      0.081106,
      0.001482,
      -0.022891,
      0.004433,
      0.005923,
      -0.001928,
      0.012962,
      -0.018845,
      0.030323,
      -0.046078,
      0.030576,
      0.062771,
      -0.014041,
      0.025657,
      -0.02343,
      0.014158,
      0.034226,
      -0.051317,
      -0.04933,
      -0.022025,
      0.046358,
      -0.037158,
      0.026486,
      0.023552,
      0.01566,
      0.02998,
      -0.067758,
      -0.031175,
      -0.008785,
      0.029618,
      -0.004286,
      -0.030601,
      0.03797,
      -0.003064,
      -0.007338,
      0.052912,
      -0.026589,
      -0.005596,
      0.00165,
      -0.01717,
      0.024023,
      0.006699,
      -0.0508,
      -0.051159,
      -0.007256,
      -0.015592,
      -0.026011,
      -0.014722,
      -0.007642,
      -0.027244,
      -0.022717,
      -0.010845,
      -0.00029,
      0.04636,
      0.030935,
      -0.042754,
      0.06088,
      0.016847,
      0.011423,
      0.015601,
      -0.08206,
      0.035295,
      0.059777,
      0.009558,
      0.009898,
      0.018559,
      -0.013318,
      0.025575,
      -0.003222,
      0.060939,
      0.032305,
      -0.021912,
      0.037689,
      -0.005499,
      0.027039,
      -0.020501,
      0.079581,
      0.021148,
      -0.002393,
      -0.016831,
      0.050355,
      -0.001846,
      -0.030244,
      -0.012967,
      -0.030999,
      -0.020863,
      0.044721,
      0.000264,
      0.015499,
      0.022616,
      -0.014261,
      -0.004125,
      -0.019458,
      0.032263,
      0.034781,
      0.010267,
      -0.021246,
      0.072245,
      0.018012,
      0.008242,
      0.01185,
      -0.002173,
      0.033716,
      -0.019754,
      0.005995,
      0.009609,
      -0.026248,
      0.001464,
      0.006755,
      0.023675,
      -0.011247,
      0.031345,
      0.034712,
      -0.017149,
      0.026047,
      -0.001363,
      0.017306,
      0.012913,
      -0.0633,
      -0.028448,
      -0.034565,
      -0.057707,
      0.054769,
      0.036227,
      -0.023814,
      0.023223,
      0.045984,
      0.027472,
      0.051033,
      0.032801,
      0.04165,
      0.00736,
      0.001331,
      -0.015111,
      -0.029391,
      -0.007681,
      0.021798,
      -0.000407,
      0.017211,
      -0.016131,
      -0.015492,
      -0.01651,
      0.010294,
      0.041114,
      0.028639,
      -0.012901,
      -0.034018,
      -0.028896,
      -0.019627,
      0.017853,
      0.006051,
      0.024053,
      -0.008529,
      -0.030818,
      0.028407,
      0.01124,
      0.035394,
      0.001281,
      -0.068655,
      0.05996,
      0.04955,
      0.020855,
      -0.008709,
      0.016305,
      -0.041603,
      -0.052498,
      0.068645,
      0.02175,
      -0.010954,
      -0.029972,
      0.015113,
      0.028363,
      -0.029068,
      0.012761,
      0.023045,
      -0.055357,
      0.000711,
      -0.007218,
      -0.021787,
      -0.033578,
      -0.014652,
      0.020535,
      -0.021986,
      -0.034693,
      0.123546,
      -0.030034,
      0.004795,
      0.011059,
      0.005128,
      0.037833,
      -0.006338,
      -0.008977,
      0.017543,
      -0.039477,
      0.019106,
      -0.018676,
      0.022602,
      -0.054829,
      -0.023602,
      0.015812,
      -0.012538,
      -0.046406,
      -0.004479,
      0.003964,
      0.008597,
      -0.029955,
      0.005885,
      0.038838,
      -0.019303,
      0.052296,
      0.053673,
      0.011499,
      0.028869,
      -0.05247,
      -0.028178,
      -0.004337,
      -0.052633,
      0.024812,
      0.019634,
      0.003831,
      -0.013844,
      -0.0027,
      -0.00127,
      -0.005045,
      0.010935,
      0.025169,
      -0.033356,
      0.022154,
      -0.020241,
      0.029808,
      0.014327,
      0.007979,
      -0.000578,
      0.028793,
      -0.006551,
      0.061229,
      0.020287,
      0.008352,
      0.017497,
      -0.024832,
      -0.033748,
      -0.034347,
      0.019074,
      -0.014673,
      -0.014769,
      -0.01405,
      -0.047545,
      -0.012088,
      0.047114,
      0.01022,
      -0.034237,
      -0.092437,
      0.005959,
      0.011542,
      0.024377,
      -0.00844,
      -0.024593,
      0.025678,
      -0.069839,
      -0.002414,
      -0.023793,
      -0.04781,
      0.003569,
      -0.04502,
      0.002009,
      0.010877,
      -0.03318,
      -0.015212,
      0.00201,
      -0.01615,
      -0.002112,
      0.02702,
      0.014817,
      -0.066679,
      -0.000861,
      0.038038,
      0.00818,
      0.004388,
      0.034436,
      0.01246,
      0.014689,
      0.011785,
      -0.04553,
      -0.001026,
      0.000609,
      -0.014388,
      0.006931,
      -0.005654,
      -0.0042,
      -0.032283,
      0.020627,
      0.023968,
      0.018428,
      -0.018691,
      0.030232,
      0.017465,
      -0.043438,
      -0.001882,
      0.009742,
      -0.018214,
      -0.021642,
      -0.015557,
      0.007627,
      -0.001921,
      -0.039375,
      -0.003403,
      0.030627,
      0.036603,
      -0.009113,
      0.071387,
      -0.003717,
      0.014505,
      -0.03865,
      -0.024356,
      -0.009384,
      -0.028183,
      -0.00192,
      0.014038,
      -0.007485,
      -0.020675,
      -0.001273,
      -0.043455,
      0.04676,
      -0.067606,
      -0.004169,
      0.006249,
      -0.055218,
      -0.007661,
      -0.003612,
      0.034666,
      -0.027316,
      0.017803,
      -0.033838,
      0.013989,
      -0.002634,
      0.037978,
      -0.015934,
      0.021326,
      -0.066797,
      -0.007621,
      -0.022079,
      -0.027707,
      0.016897,
      -0.022135,
      0.006159,
      -0.038412,
      -0.034402,
      0.044203,
      -0.027689,
      -0.002845,
      0.020512,
      0.009625,
      -0.01083,
      -0.012083,
      0.055556,
      -0.026901,
      -0.011027,
      0.034141,
      0.007483,
      0.035391,
      -0.038492,
      -0.015132,
      -0.003507,
      0.000704,
      -0.000544,
      -0.01103,
      0.015787,
      -0.012443,
      0.008299,
      -0.01017,
      0.01176,
      0.00709,
      -0.02918,
      -0.044053,
      -0.013748,
      -0.060042,
      -0.012774,
      -0.027205,
      0.010827,
      -0.023126,
      0.010203,
      0.020585,
      0.021086,
      0.0016,
      0.009663,
      -0.006572,
      -0.002599,
      -0.1499,
      0.024717,
      -0.008296,
      0.030538,
      0.017286,
      -0.001416,
      -0.003126,
      -0.037459,
      0.02666,
      -0.054574,
      -0.047371,
      -0.005955,
      0.006325,
      -0.026104,
      0.014272,
      0.039331,
      0.003731,
      0.000911,
      -0.050631,
      -0.03325,
      0.012893,
      -0.005553,
      0.02583,
      -0.003799,
      0.004883,
      0.006936,
      -0.052439,
      -0.016225,
      -0.031207,
      -0.00311,
      -0.041124,
      -0.000037,
      0.004171,
      0.00078,
      -0.025278,
      0.003503,
      -0.000644,
      0.023578,
      -0.029055,
      0.006621,
      -0.039588,
      0.035087,
      -0.084901,
      0.056325,
      0.025766,
      0.03698,
      -0.029881,
      -0.045151,
      -0.000901,
      -0.051315,
      -0.020594,
      0.012088,
      -0.015409,
      0.019204,
      0.010229,
      0.002255,
      -0.049069,
      0.011422,
      -0.06814,
      0.025222,
      -0.018219,
      0.042137,
      -0.01711,
      -0.00606,
      -0.002754,
      0.009836,
      -0.033366,
      0.004636,
      0.027597,
      -0.014852,
      0.035734,
      -0.003016,
      -0.030489,
      -0.006902,
      0.034851,
      -0.005589,
      0.031895,
      0.000875,
      -0.026769,
      0.007331,
      -0.014042,
      -0.031087,
      -0.052865,
      0.086195,
      0.03846,
      0.01149,
      0.016357,
      0.013364,
      -0.039917,
      0.013618,
      -0.035299,
      -0.051942,
      -0.018321,
      0.027457,
      -0.001213,
      0.033504,
      -0.010774,
      0.004375,
      0.015197,
      -0.018176,
      -0.028586,
      0.00327,
      0.02859,
      0.01563,
      -0.034213,
      -0.031937,
      -0.02339,
      -0.009055,
      0.012957,
      -0.007737,
      -0.01039,
      0.002793,
      -0.006029,
      0.011273,
      -0.070714,
      0.016719,
      0.012161,
      0.006766,
      -0.012728,
      0.021833,
      0.048518,
      -0.01797,
      0.013744,
      -0.030257,
      0.027591,
      0.020244,
      0.060224,
      0.019788,
      0.030117,
      -0.016316,
      0.021085,
      -0.044664,
      -0.020547,
      0.000488,
      0.001264,
      -0.058285,
      -0.029046,
      0.051957,
      -0.011129,
      -0.014383,
      -0.061476,
      -0.00094,
      0.011952,
      -0.000924,
      -0.024629,
      -0.000239,
      -0.033634,
      0.004703,
      0.015236,
      -0.022663,
      0.007258,
      0.020251,
      -0.032383,
      0.042337,
      0.00752,
      0.025965,
      0.012293,
      0.011178,
      -0.035095,
      0.054173,
      -0.007915,
      -0.057953,
      -0.008869,
      -0.082243,
      -0.021898,
      0.022216,
      -0.009526,
      -0.011933,
      -0.007681,
      0.021177,
      -0.023747,
      0.069815,
      -0.020398,
      0.01458,
      0.023296,
      0.002696,
      -0.019,
      -0.001105,
      0.067785,
      -0.019946,
      0.051922,
      0.032232,
      0.038981,
      -0.010102,
      0.05007,
      0.01044,
      0.022204,
      0.001524,
      0.024371,
      -0.019927,
      -0.035098,
      0.016209,
      -0.016046,
      0.00573,
      -0.007535,
      0.025725,
      0.011236,
      -0.014665,
      -0.009092,
      0.056435,
      0.009591,
      -0.045509,
      -0.027993,
      -0.008283,
      -0.005793,
      -0.000051,
      0.009588,
      -0.026784,
      -0.010948,
      0.031902,
      -0.007244,
      -0.01912,
      0.000448,
      0.011007,
      0.007558,
      0.01891,
      0.067396,
      0.022817,
      0.004098,
      -0.032382,
      0.037559,
      0.002758,
      -0.025007,
      -0.028448,
      -0.054317,
      -0.05379,
      0.021918,
      -0.004306,
      0.005312,
      0.001142,
      -0.028701,
      -0.036589,
      -0.014237,
      0.052949,
      0.011037,
      -0.009223,
      0.012282,
      0.009222,
      -0.045055,
      -0.000049,
      0.004253,
      0.015443,
      0.017089,
      0.005739
    ]
  },
  {
    "id": "v5-service.schemas-0",
    "content": "# Service Schemas and Resolvers\nBreadcrumb: Service Schemas and Resolvers\nCovers: Patterns | Main schema and resolvers | External Resolvers | Data schema and resolvers | Patch schema and Resolvers | Query Schema and Resolvers\nTopics: services, context, params, get, create, patch, schema, resolver, typebox, database, mongodb, knex, querying, client, typescript, types, cli\n\n## Patterns\n\nThere a four main types of schemas and resolvers. The schemas, resolvers and types are declared as follows:\n\n```ts\n// The schema definition\nexport const nameSchema = Type.Object({\n  text: Type.String()\n})\n// The TypeScript type inferred from the schema\nexport type Name = Static<typeof nameSchema>\n// The validator for the schema\nexport const nameValidator = getValidator(nameSchema, dataValidator)\n// The resolver for the schema\nexport const nameResolver = resolve<Name, HookContext>({})\n```\n\n## Main schema and resolvers\n\nThis schema defines the main data model of all properties and is normally the shape of the data that is returned. This includes database properties as well as associations and other computed properties.\n\n```ts\n// Main data model schema\nexport const messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String()\n  },\n  { $id: 'Message', additionalProperties: false }\n)\nexport type Message = Static<typeof messageSchema>\nexport const messageValidator = getValidator(messageSchema, dataValidator)\nexport const messageResolver = resolve<Message, HookContext>({})\n```\n\n## External Resolvers\n\nThe external resolver defines the data that is sent to a client and is often use to e.g. hide protected properties they should not see:\n\n```ts\nexport const messagesExternalResolver = resolve<Messages, HookContext>({\n  someSecretProperty: async () => undefined\n})\n```\n\n## Data schema and resolvers\n\nThe data schema validates the data when creating a new entry calling [service.create](../../api/services.md#createdata-params). It usually picks its properties from the [main schema](#main-schemas-and-resolvers) but can be changed to whatever is needed.\n\n```ts\n// Schema for creating new entries\nexport const messageDataSchema = Type.Pick(messageSchema, ['text'], {\n  $id: 'MessageData'\n})\nexport type MessageData = Static<typeof messageDataSchema>\nexport const messageDataValidator = getValidator(messageDataSchema, dataValidator)\nexport const messageDataResolver = resolve<Message, HookContext>({})\n```\n\n## Patch schema and Resolvers\n\nThe patch schema is used for updating existing entries calling [service.patch](../../api/services.md#patchid-data-params). This is often different then the data schema for new entries and by default is a partial of the [main schema](#main-schemas-and-resolvers).\n\n```ts\n// Schema for updating existing entries\nexport const messagePatchSchema = Type.Partial(messageSchema, {\n  $id: 'MessagePatch'\n})\nexport type MessagePatch = Static<typeof messagePatchSchema>\nexport const messagePatchValidator = getValidator(messagePatchSchema, dataValidator)\nexport const messagePatchResolver = resolve<Message, HookContext>({})\n```\n\n## Query Schema and Resolvers\n\nThe query schema defines what can be sent in queries in [params.query](../../api/services.md#params) and also converts strings to the correct type.\n\n```ts\n// Schema for allowed query properties\nexport const messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'])\nexport const messageQuerySchema = Type.Intersect(\n  [\n    querySyntax(messageQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type MessageQuery = Static<typeof messageQuerySchema>\nexport const messageQueryValidator = getValidator(messageQuerySchema, queryValidator)\nexport const messageQueryResolver = resolve<MessageQuery, HookContext>({})\n```\n\nTo add additional operators like `$like` see the [querySyntax](../../api/schema/typebox.md#querysyntax) documentation. You can also add your own query parameters in the `Type.Object({}, { additionalProperties: false })` definition.\n\n> **Important:**\n> \n> Note that references (`Type.Ref`) can not be used in a query schema. Association querying is usually done by dot separated properties which have to be added manually in [MongoDB](../../api/databases/mongodb.md#querying) and [SQL](../../api/databases/knex.md#associations).\n>",
    "rawContent": "## Patterns\n\nThere a four main types of schemas and resolvers. The schemas, resolvers and types are declared as follows:\n\n```ts\n// The schema definition\nexport const nameSchema = Type.Object({\n  text: Type.String()\n})\n// The TypeScript type inferred from the schema\nexport type Name = Static<typeof nameSchema>\n// The validator for the schema\nexport const nameValidator = getValidator(nameSchema, dataValidator)\n// The resolver for the schema\nexport const nameResolver = resolve<Name, HookContext>({})\n```\n\n## Main schema and resolvers\n\nThis schema defines the main data model of all properties and is normally the shape of the data that is returned. This includes database properties as well as associations and other computed properties.\n\n```ts\n// Main data model schema\nexport const messageSchema = Type.Object(\n  {\n    id: Type.Number(),\n    text: Type.String()\n  },\n  { $id: 'Message', additionalProperties: false }\n)\nexport type Message = Static<typeof messageSchema>\nexport const messageValidator = getValidator(messageSchema, dataValidator)\nexport const messageResolver = resolve<Message, HookContext>({})\n```\n\n## External Resolvers\n\nThe external resolver defines the data that is sent to a client and is often use to e.g. hide protected properties they should not see:\n\n```ts\nexport const messagesExternalResolver = resolve<Messages, HookContext>({\n  someSecretProperty: async () => undefined\n})\n```\n\n## Data schema and resolvers\n\nThe data schema validates the data when creating a new entry calling [service.create](../../api/services.md#createdata-params). It usually picks its properties from the [main schema](#main-schemas-and-resolvers) but can be changed to whatever is needed.\n\n```ts\n// Schema for creating new entries\nexport const messageDataSchema = Type.Pick(messageSchema, ['text'], {\n  $id: 'MessageData'\n})\nexport type MessageData = Static<typeof messageDataSchema>\nexport const messageDataValidator = getValidator(messageDataSchema, dataValidator)\nexport const messageDataResolver = resolve<Message, HookContext>({})\n```\n\n## Patch schema and Resolvers\n\nThe patch schema is used for updating existing entries calling [service.patch](../../api/services.md#patchid-data-params). This is often different then the data schema for new entries and by default is a partial of the [main schema](#main-schemas-and-resolvers).\n\n```ts\n// Schema for updating existing entries\nexport const messagePatchSchema = Type.Partial(messageSchema, {\n  $id: 'MessagePatch'\n})\nexport type MessagePatch = Static<typeof messagePatchSchema>\nexport const messagePatchValidator = getValidator(messagePatchSchema, dataValidator)\nexport const messagePatchResolver = resolve<Message, HookContext>({})\n```\n\n## Query Schema and Resolvers\n\nThe query schema defines what can be sent in queries in [params.query](../../api/services.md#params) and also converts strings to the correct type.\n\n```ts\n// Schema for allowed query properties\nexport const messageQueryProperties = Type.Pick(messageSchema, ['id', 'text', 'createdAt', 'userId'])\nexport const messageQuerySchema = Type.Intersect(\n  [\n    querySyntax(messageQueryProperties),\n    // Add additional query properties here\n    Type.Object({}, { additionalProperties: false })\n  ],\n  { additionalProperties: false }\n)\nexport type MessageQuery = Static<typeof messageQuerySchema>\nexport const messageQueryValidator = getValidator(messageQuerySchema, queryValidator)\nexport const messageQueryResolver = resolve<MessageQuery, HookContext>({})\n```\n\nTo add additional operators like `$like` see the [querySyntax](../../api/schema/typebox.md#querysyntax) documentation. You can also add your own query parameters in the `Type.Object({}, { additionalProperties: false })` definition.\n\n> **Important:**\n> \n> Note that references (`Type.Ref`) can not be used in a query schema. Association querying is usually done by dot separated properties which have to be added manually in [MongoDB](../../api/databases/mongodb.md#querying) and [SQL](../../api/databases/knex.md#associations).\n>",
    "breadcrumb": "Service Schemas and Resolvers",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/service.schemas.md",
    "heading": "Service Schemas and Resolvers",
    "subHeadings": [
      "Patterns",
      "Main schema and resolvers",
      "External Resolvers",
      "Data schema and resolvers",
      "Patch schema and Resolvers",
      "Query Schema and Resolvers"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 1004,
    "category": "cli",
    "tags": [
      "services",
      "context",
      "params",
      "get",
      "create",
      "patch",
      "schema",
      "resolver",
      "typebox",
      "database",
      "mongodb",
      "knex",
      "querying",
      "client",
      "typescript",
      "types",
      "cli"
    ],
    "embedding": [
      0.000526,
      0.003233,
      -0.04921,
      0.002523,
      0.009752,
      -0.000757,
      -0.007561,
      0.024606,
      0.014006,
      -0.015738,
      -0.012665,
      0.030912,
      -0.01087,
      0.018727,
      -0.042259,
      0.016564,
      -0.03624,
      -0.039536,
      0.054208,
      -0.003219,
      -0.038359,
      0.002147,
      -0.006575,
      0.003595,
      0.011676,
      0.022397,
      0.019053,
      -0.02245,
      -0.007242,
      0.033187,
      -0.007637,
      -0.001306,
      0.015806,
      -0.013505,
      0.010021,
      -0.008486,
      -0.019049,
      -0.035679,
      -0.031032,
      0.029308,
      -0.027166,
      -0.008943,
      0.015247,
      -0.071919,
      0.046981,
      -0.036237,
      -0.005596,
      -0.03024,
      0.003333,
      -0.040966,
      -0.039905,
      -0.006817,
      0.012538,
      -0.061486,
      0.037684,
      0.012115,
      -0.0621,
      0.025142,
      -0.028203,
      -0.002222,
      -0.011895,
      0.011684,
      0.007634,
      0.016681,
      0.007349,
      0.02495,
      -0.02256,
      0.007959,
      -0.031243,
      -0.027788,
      -0.022106,
      0.003177,
      -0.089047,
      -0.015924,
      -0.052329,
      0.030026,
      0.016653,
      0.007214,
      -0.020045,
      0.028144,
      -0.019974,
      -0.015993,
      -0.001185,
      -0.01718,
      0.000669,
      0.033699,
      0.008593,
      0.024376,
      0.007838,
      0.017298,
      -0.006082,
      -0.014829,
      0.03425,
      -0.049794,
      -0.022728,
      0.010661,
      -0.031943,
      0.028751,
      -0.012822,
      0.007901,
      -0.023664,
      -0.008421,
      -0.005132,
      -0.003184,
      0.074172,
      0.011369,
      0.032846,
      -0.032639,
      -0.025614,
      -0.019747,
      0.025237,
      -0.033756,
      0.023289,
      0.012861,
      -0.013376,
      -0.045909,
      0.035244,
      -0.030947,
      0.028199,
      0.037916,
      0.023139,
      0.054253,
      0.038668,
      -0.030368,
      -0.033534,
      -0.00319,
      -0.005686,
      0.050371,
      -0.013496,
      -0.012688,
      0.014705,
      -0.010371,
      -0.00756,
      0.01163,
      -0.006589,
      0.022905,
      0.015657,
      0.014973,
      0.021871,
      -0.049555,
      0.04337,
      -0.026103,
      -0.003677,
      -0.026779,
      0.049954,
      -0.015886,
      0.116563,
      0.033611,
      -0.003332,
      0.003425,
      0.069671,
      0.033921,
      0.005042,
      0.009438,
      0.027534,
      -0.090011,
      -0.014589,
      0.010382,
      0.054542,
      -0.027478,
      -0.046778,
      0.021782,
      0.008216,
      -0.012217,
      0.066725,
      -0.048332,
      -0.004094,
      0.035665,
      -0.009698,
      -0.037788,
      0.043059,
      -0.011167,
      0.001982,
      -0.013085,
      0.009535,
      0.032835,
      0.071097,
      0.029621,
      0.058508,
      -0.010925,
      -0.024759,
      -0.001972,
      -0.01764,
      -0.037639,
      -0.001834,
      0.016658,
      -0.00606,
      -0.024882,
      0.000541,
      0.019035,
      -0.03359,
      0.010732,
      0.04115,
      0.013603,
      -0.021013,
      0.013147,
      0.006914,
      -0.020341,
      0.021008,
      -0.002598,
      -0.016456,
      0.028035,
      0.031523,
      0.01661,
      -0.05838,
      -0.055893,
      -0.001172,
      -0.046104,
      -0.009382,
      -0.049874,
      0.035984,
      0.028169,
      -0.006887,
      -0.007159,
      -0.016332,
      0.013997,
      -0.005778,
      0.00543,
      -0.012763,
      -0.028875,
      0.044741,
      0.031385,
      0.003456,
      0.028087,
      0.020902,
      0.01282,
      0.050071,
      -0.005101,
      -0.008734,
      0.019464,
      -0.026324,
      -0.016617,
      0.025229,
      0.012192,
      0.016206,
      -0.044118,
      -0.004157,
      -0.004618,
      0.033792,
      0.009572,
      -0.038901,
      -0.021305,
      0.007523,
      -0.003225,
      -0.040418,
      -0.002566,
      0.024315,
      0.009343,
      -0.050453,
      -0.05503,
      0.011434,
      0.010476,
      -0.006944,
      -0.009505,
      0.034003,
      -0.012714,
      0.03242,
      -0.003239,
      0.023148,
      0.000895,
      0.001363,
      -0.009728,
      0.022042,
      0.010892,
      0.03266,
      -0.012008,
      -0.064668,
      -0.054884,
      -0.00401,
      0.024822,
      -0.039953,
      -0.024912,
      0.043218,
      0.008958,
      -0.035901,
      0.008301,
      -0.008989,
      -0.021474,
      0.114441,
      0.02497,
      0.01464,
      -0.005476,
      0.023973,
      0.000125,
      0.023374,
      0.006013,
      -0.051845,
      -0.038832,
      0.010321,
      -0.024264,
      0.01082,
      0.000804,
      0.063995,
      0.024316,
      0.027998,
      0.0073,
      -0.002774,
      -0.158249,
      -0.022177,
      0.019922,
      0.004039,
      -0.000233,
      -0.00038,
      -0.026971,
      0.030546,
      -0.048707,
      0.042055,
      -0.010352,
      -0.034261,
      -0.018534,
      -0.010761,
      -0.010567,
      -0.029838,
      -0.016396,
      0.035382,
      0.028653,
      -0.048085,
      -0.053399,
      -0.054694,
      0.03793,
      -0.019813,
      0.026524,
      0.012467,
      0.006542,
      0.006521,
      -0.040647,
      0.009266,
      -0.017242,
      0.004872,
      0.012918,
      0.035007,
      -0.006173,
      -0.034918,
      0.000015,
      -0.014652,
      -0.006262,
      -0.048158,
      0.012484,
      0.029468,
      -0.031668,
      0.017987,
      -0.001472,
      0.01808,
      0.054454,
      0.012375,
      0.007889,
      0.013041,
      -0.01619,
      -0.030594,
      -0.013264,
      -0.037826,
      -0.046341,
      0.016842,
      0.007379,
      0.047462,
      0.012481,
      0.014576,
      0.027465,
      -0.036481,
      0.043233,
      -0.031623,
      -0.034053,
      -0.038808,
      0.039343,
      -0.001606,
      -0.015697,
      -0.034224,
      0.031202,
      -0.070936,
      -0.03869,
      -0.020446,
      -0.038793,
      -0.00835,
      0.023983,
      0.010734,
      -0.030046,
      -0.09584,
      -0.023537,
      0.001251,
      0.022238,
      -0.019434,
      -0.018551,
      0.003808,
      0.001717,
      -0.007938,
      0.045491,
      0.262546,
      0.042968,
      -0.016271,
      -0.023607,
      0.04652,
      0.00095,
      0.056062,
      0.051902,
      0.002869,
      -0.02421,
      0.009581,
      0.006723,
      0.027484,
      0.023015,
      0.005727,
      0.015618,
      -0.048925,
      0.009506,
      0.048288,
      -0.012799,
      -0.005576,
      -0.06064,
      0.002805,
      0.017052,
      -0.060446,
      -0.043782,
      0.009942,
      0.042284,
      -0.056155,
      0.036156,
      0.007418,
      0.009037,
      0.046142,
      -0.086013,
      -0.044718,
      -0.032411,
      0.028788,
      -0.039683,
      -0.029222,
      0.030471,
      -0.029769,
      0.016145,
      0.040655,
      -0.018704,
      -0.023462,
      -0.032352,
      0.018773,
      0.000149,
      -0.021311,
      -0.056801,
      -0.050251,
      -0.037963,
      -0.0018,
      0.007989,
      -0.013316,
      -0.035567,
      -0.012903,
      0.00337,
      -0.031615,
      0.017238,
      0.039071,
      0.025342,
      -0.056455,
      0.022627,
      -0.010392,
      0.031362,
      -0.004994,
      -0.082623,
      0.022766,
      0.02748,
      0.015775,
      0.024582,
      0.026005,
      -0.015851,
      0.028297,
      0.0083,
      0.034152,
      0.034444,
      0.018679,
      0.036066,
      -0.018575,
      0.010996,
      -0.023138,
      0.012311,
      0.037272,
      0.013754,
      0.013847,
      0.031089,
      -0.005149,
      -0.030175,
      -0.018401,
      -0.037877,
      0.005246,
      0.015466,
      0.031282,
      0.022881,
      0.019961,
      -0.012643,
      -0.011768,
      -0.032162,
      0.055892,
      0.032965,
      0.01309,
      -0.021776,
      0.041514,
      -0.047819,
      0.014994,
      0.047623,
      -0.022581,
      0.030538,
      -0.054659,
      0.015434,
      -0.004607,
      -0.016032,
      0.000336,
      0.020718,
      -0.020393,
      -0.005491,
      0.043757,
      0.0221,
      -0.008221,
      0.029218,
      0.01988,
      -0.004243,
      0.021524,
      -0.051149,
      -0.008448,
      -0.035311,
      -0.066788,
      0.043944,
      0.021147,
      -0.024853,
      0.009207,
      0.035213,
      -0.013394,
      -0.021725,
      0.025539,
      0.026826,
      0.001574,
      -0.003661,
      -0.01298,
      -0.011438,
      -0.001653,
      0.038364,
      0.004331,
      0.05931,
      -0.010174,
      -0.012252,
      -0.032811,
      0.024346,
      0.015222,
      0.023449,
      0.001644,
      -0.033047,
      -0.016308,
      -0.005751,
      -0.006762,
      -0.012951,
      0.010175,
      0.013833,
      -0.023488,
      0.006378,
      -0.007346,
      0.038263,
      0.010822,
      -0.023823,
      0.060211,
      0.022275,
      0.005786,
      -0.00276,
      -0.002735,
      -0.062346,
      -0.036974,
      0.035427,
      0.006756,
      0.031212,
      -0.05436,
      0.038343,
      0.041604,
      -0.029657,
      -0.0186,
      0.012877,
      -0.058103,
      0.0263,
      -0.021678,
      0.017,
      0.007368,
      -0.017909,
      0.031675,
      -0.016548,
      -0.064131,
      0.09644,
      -0.075356,
      0.013858,
      0.031093,
      -0.002719,
      0.023533,
      0.031056,
      0.004562,
      0.010308,
      0.015846,
      0.00418,
      0.010484,
      0.039914,
      -0.073797,
      -0.012144,
      -0.046333,
      -0.006079,
      -0.053116,
      -0.015929,
      -0.006421,
      0.021802,
      -0.032924,
      0.008091,
      0.038937,
      -0.036005,
      0.041319,
      0.030957,
      0.002496,
      0.016692,
      -0.00796,
      0.001563,
      0.033943,
      -0.015794,
      -0.013753,
      0.021005,
      0.039411,
      -0.019488,
      -0.017075,
      0.01422,
      0.004816,
      0.000822,
      0.02064,
      -0.043871,
      -0.004818,
      -0.030601,
      0.054041,
      0.01168,
      -0.006838,
      0.027341,
      0.010114,
      -0.005022,
      0.073568,
      0.025765,
      -0.029706,
      0.008591,
      -0.046689,
      -0.016842,
      -0.016613,
      0.056205,
      -0.010013,
      0.006172,
      -0.000517,
      -0.00807,
      -0.029705,
      0.015105,
      0.013847,
      0.001412,
      -0.049332,
      0.004327,
      0.003149,
      0.00828,
      -0.007076,
      -0.023779,
      0.024681,
      -0.074932,
      0.014042,
      -0.035528,
      -0.053441,
      0.01058,
      -0.053393,
      -0.019927,
      -0.015428,
      -0.004439,
      -0.026577,
      -0.008005,
      -0.002904,
      0.026298,
      -0.016249,
      0.025943,
      -0.025326,
      0.013051,
      0.019173,
      0.039995,
      0.034832,
      0.005826,
      0.035895,
      -0.013744,
      0.015386,
      -0.047912,
      0.005222,
      -0.000502,
      -0.002476,
      0.053051,
      -0.022849,
      0.02041,
      -0.036867,
      0.006213,
      0.037565,
      0.000876,
      -0.007084,
      0.016803,
      -0.012116,
      -0.017225,
      -0.018364,
      0.003034,
      -0.011511,
      -0.017634,
      -0.033766,
      0.012954,
      -0.017986,
      -0.061316,
      0.022658,
      0.028738,
      0.011561,
      -0.031743,
      0.046761,
      -0.005948,
      0.011065,
      -0.01349,
      0.019684,
      0.007707,
      -0.041802,
      -0.013284,
      0.061533,
      -0.000718,
      0.01288,
      -0.042813,
      -0.035086,
      -0.000456,
      -0.063179,
      -0.003846,
      0.021843,
      -0.042844,
      0.021484,
      -0.010472,
      0.024698,
      0.001003,
      0.054823,
      -0.041166,
      0.032547,
      -0.035057,
      0.045067,
      -0.02177,
      0.038555,
      -0.022302,
      -0.009453,
      -0.01526,
      -0.030208,
      -0.02712,
      -0.014619,
      0.020824,
      -0.015231,
      -0.023332,
      0.01716,
      -0.036338,
      -0.009507,
      0.019862,
      0.061024,
      0.004389,
      -0.017601,
      0.044678,
      -0.004778,
      -0.03073,
      0.045326,
      -0.006396,
      0.022144,
      -0.020049,
      -0.018218,
      -0.001058,
      -0.000929,
      0.026756,
      -0.005652,
      -0.006977,
      -0.008012,
      0.02152,
      -0.021468,
      0.001981,
      -0.001256,
      -0.034916,
      -0.023726,
      -0.006013,
      -0.032748,
      0.000447,
      -0.026995,
      0.017561,
      -0.013384,
      0.01186,
      -0.014229,
      0.009409,
      0.014366,
      -0.003365,
      -0.009636,
      -0.023925,
      -0.124555,
      0.030951,
      0.010928,
      0.049764,
      0.005415,
      0.000663,
      0.043687,
      -0.03072,
      0.014426,
      -0.051209,
      -0.036354,
      0.008346,
      0.019972,
      -0.021137,
      0.022961,
      0.014896,
      -0.01496,
      -0.021265,
      -0.040398,
      0.000405,
      -0.001669,
      0.004957,
      0.017142,
      -0.006318,
      0.028687,
      -0.020981,
      -0.016132,
      -0.020961,
      -0.006772,
      0.000307,
      -0.016308,
      -0.044587,
      0.028527,
      0.015201,
      -0.052422,
      0.02617,
      -0.001804,
      0.014926,
      -0.040749,
      0.016448,
      -0.012625,
      -0.001926,
      -0.031127,
      0.014004,
      -0.02253,
      0.05398,
      0.019177,
      -0.051493,
      -0.022301,
      -0.022301,
      -0.018102,
      0.033152,
      -0.040791,
      0.020975,
      -0.009135,
      -0.032227,
      -0.059831,
      -0.005744,
      -0.068449,
      0.02306,
      -0.024016,
      0.072745,
      0.00155,
      -0.062264,
      0.039635,
      0.011464,
      -0.023507,
      -0.00206,
      0.022122,
      0.039151,
      0.039138,
      -0.012628,
      -0.010391,
      -0.003158,
      0.023962,
      0.013047,
      0.03514,
      -0.008369,
      -0.008751,
      -0.002592,
      0.007357,
      -0.022067,
      -0.057671,
      0.081344,
      0.008567,
      0.007221,
      0.010068,
      0.017234,
      -0.058912,
      0.012716,
      0.002954,
      -0.030581,
      -0.001346,
      0.084705,
      -0.040793,
      0.035811,
      -0.031613,
      0.024221,
      0.007748,
      -0.022397,
      -0.013467,
      -0.008902,
      0.007095,
      0.013053,
      0.007092,
      -0.027962,
      0.014646,
      -0.005428,
      0.041365,
      0.007622,
      0.016778,
      0.000224,
      -0.031959,
      -0.027215,
      -0.054085,
      0.001887,
      -0.001385,
      0.016586,
      -0.027658,
      0.020956,
      0.001778,
      0.002552,
      -0.001435,
      -0.029252,
      0.019066,
      0.02361,
      0.099328,
      0.025353,
      0.04519,
      -0.033523,
      0.024731,
      -0.045806,
      -0.05494,
      -0.000013,
      0.030717,
      -0.010718,
      -0.052025,
      0.043156,
      -0.037731,
      -0.013536,
      -0.015034,
      -0.038288,
      0.011223,
      -0.007105,
      -0.022517,
      -0.009312,
      -0.056112,
      -0.013707,
      -0.029808,
      -0.039127,
      0.026598,
      0.009581,
      0.005834,
      0.01073,
      -0.009024,
      0.006749,
      -0.016654,
      0.011541,
      -0.006161,
      0.069188,
      0.009834,
      -0.025213,
      -0.02253,
      -0.037103,
      -0.012495,
      0.032282,
      -0.007715,
      0.005083,
      -0.001605,
      -0.015986,
      -0.006985,
      0.009077,
      -0.008791,
      -0.011003,
      0.03498,
      -0.027147,
      0.005543,
      0.01018,
      0.040121,
      0.008329,
      0.024424,
      0.010595,
      0.018561,
      0.010445,
      0.06435,
      0.029049,
      0.003059,
      0.001462,
      0.014793,
      -0.010427,
      -0.050067,
      -0.012533,
      0.011014,
      0.012026,
      0.029972,
      -0.007196,
      0.034991,
      0.01546,
      -0.043437,
      0.045492,
      -0.032424,
      -0.028294,
      -0.036546,
      -0.013391,
      0.013078,
      -0.014519,
      0.000142,
      -0.028019,
      -0.03005,
      0.048875,
      -0.017798,
      -0.001529,
      -0.024243,
      0.0148,
      -0.008488,
      0.005384,
      0.031795,
      0.053849,
      0.02096,
      -0.006074,
      0.0301,
      0.013304,
      -0.005896,
      -0.039872,
      -0.071063,
      -0.043577,
      0.020695,
      -0.007839,
      0.003551,
      -0.034564,
      -0.045641,
      -0.035483,
      0.001257,
      0.032995,
      0.016618,
      -0.012558,
      0.015611,
      0.012872,
      0.005598,
      -0.002522,
      0.024605,
      0.021904,
      0.073093,
      -0.032095
    ]
  },
  {
    "id": "v5-service.shared-0",
    "content": "# Service Shared\nBreadcrumb: Service Shared\nCovers: Variables | Client setup\nTopics: application, update, custom methods, setup, client, types, cli\n\n## Variables\n\nBy default two shared variables are exported:\n\n- `<name>Path` - The path of the service. Changing this will change the path for the service in all places like the application, the client and types\n- `<name>Methods` - The list of service methods available to the client. This can be updated with service and custom methods a client should be able to use.\n\n## Client setup\n\nThis file also includes the client side service registration which will be included in the [client](./client.md). It will register a client side service based on the shared path and methods.",
    "rawContent": "## Variables\n\nBy default two shared variables are exported:\n\n- `<name>Path` - The path of the service. Changing this will change the path for the service in all places like the application, the client and types\n- `<name>Methods` - The list of service methods available to the client. This can be updated with service and custom methods a client should be able to use.\n\n## Client setup\n\nThis file also includes the client side service registration which will be included in the [client](./client.md). It will register a client side service based on the shared path and methods.",
    "breadcrumb": "Service Shared",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/service.shared.md",
    "heading": "Service Shared",
    "subHeadings": [
      "Variables",
      "Client setup"
    ],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 144,
    "category": "cli",
    "tags": [
      "application",
      "update",
      "custom methods",
      "setup",
      "client",
      "types",
      "cli"
    ],
    "embedding": [
      -0.033509,
      -0.008992,
      -0.058091,
      0.042581,
      -0.011653,
      0.003187,
      0.022099,
      0.03128,
      0.001703,
      0.014665,
      0.012229,
      0.026831,
      0.003737,
      -0.007886,
      -0.002615,
      0.002732,
      -0.020093,
      -0.005438,
      0.017256,
      0.003374,
      -0.012574,
      0.029563,
      0.010987,
      0.041815,
      0.014545,
      0.020176,
      -0.034559,
      -0.013054,
      0.007977,
      0.02709,
      -0.019116,
      0.006858,
      0.020576,
      -0.001142,
      -0.025098,
      -0.022895,
      -0.029331,
      -0.006892,
      -0.03006,
      0.014959,
      -0.034531,
      -0.005353,
      0.013699,
      -0.04143,
      0.007338,
      -0.015527,
      -0.011314,
      -0.022656,
      -0.002289,
      0.00428,
      -0.037287,
      -0.015735,
      0.040146,
      -0.093258,
      0.013393,
      0.04624,
      -0.032171,
      -0.030894,
      -0.074488,
      0.029008,
      0.004308,
      0.026167,
      -0.013047,
      -0.003593,
      0.018598,
      0.013573,
      -0.025231,
      -0.003011,
      -0.024153,
      -0.002978,
      -0.004442,
      0.012732,
      -0.040689,
      0.003624,
      -0.056553,
      0.021761,
      0.003446,
      -0.00523,
      -0.030559,
      -0.020067,
      -0.022473,
      -0.038615,
      0.026995,
      0.00617,
      0.057322,
      -0.017508,
      -0.012103,
      0.059988,
      0.032442,
      -0.012566,
      -0.003724,
      -0.045457,
      0.045701,
      -0.028287,
      -0.002667,
      -0.012629,
      -0.023584,
      0.022199,
      0.007892,
      0.05627,
      0.030147,
      -0.007468,
      -0.004743,
      -0.029531,
      0.024536,
      0.027578,
      0.019422,
      0.016962,
      -0.019636,
      -0.043529,
      0.00637,
      -0.001782,
      0.000156,
      0.004507,
      -0.03224,
      -0.019003,
      0.012654,
      -0.024762,
      0.025312,
      0.037068,
      0.023166,
      0.03727,
      0.018344,
      0.025052,
      -0.014907,
      0.029945,
      0.004535,
      0.035405,
      -0.000302,
      -0.007909,
      0.001895,
      0.012457,
      0.001182,
      0.009972,
      -0.031017,
      0.028411,
      0.041452,
      0.009872,
      -0.053219,
      -0.031705,
      0.023584,
      0.024101,
      -0.007977,
      -0.053616,
      0.028767,
      -0.03606,
      0.103605,
      -0.001034,
      -0.000924,
      -0.010586,
      0.009806,
      -0.00065,
      0.008365,
      -0.013815,
      -0.004712,
      -0.076323,
      0.005671,
      -0.018691,
      0.069234,
      -0.033727,
      0.054133,
      0.035388,
      -0.000854,
      -0.041729,
      0.04928,
      -0.044326,
      0.03525,
      0.036544,
      -0.018992,
      -0.075085,
      0.027794,
      -0.015457,
      -0.03264,
      -0.01711,
      0.005028,
      0.038546,
      0.076521,
      0.010601,
      0.043532,
      -0.033137,
      -0.018113,
      0.034035,
      -0.02034,
      -0.011665,
      -0.015618,
      0.021246,
      -0.027261,
      -0.059061,
      0.008169,
      0.023436,
      0.011562,
      0.018336,
      0.020455,
      0.026017,
      -0.015612,
      -0.00926,
      -0.033822,
      0.035819,
      0.023368,
      0.002071,
      -0.019958,
      0.03619,
      0.05072,
      0.063328,
      -0.033739,
      -0.028515,
      -0.011218,
      -0.026278,
      0.017923,
      -0.054755,
      0.026282,
      -0.063356,
      -0.03198,
      -0.065071,
      -0.042109,
      0.024246,
      0.046061,
      0.042803,
      0.005788,
      -0.016503,
      0.020958,
      0.019877,
      0.006986,
      0.016783,
      -0.022377,
      -0.011875,
      0.013373,
      0.009731,
      0.003064,
      0.022698,
      -0.045208,
      0.019034,
      0.023712,
      -0.043967,
      0.044636,
      0.006882,
      -0.033708,
      0.011751,
      0.018854,
      -0.014926,
      -0.023222,
      -0.019099,
      0.005301,
      -0.025038,
      -0.017891,
      0.037414,
      -0.025387,
      0.041458,
      -0.03433,
      -0.032276,
      -0.017741,
      0.039386,
      0.010691,
      -0.011586,
      0.010521,
      -0.016779,
      0.018784,
      -0.008231,
      -0.030417,
      -0.040018,
      -0.021025,
      0.050027,
      0.004704,
      0.01209,
      0.0309,
      0.001867,
      -0.076411,
      -0.034446,
      0.009008,
      0.01181,
      -0.012754,
      0.010521,
      0.02991,
      0.002564,
      0.026547,
      0.042526,
      -0.015974,
      -0.020584,
      0.106419,
      0.039547,
      0.024304,
      0.06059,
      0.044196,
      -0.008068,
      0.030057,
      -0.048734,
      -0.059879,
      -0.008746,
      0.010051,
      0.004885,
      -0.008625,
      0.00643,
      0.060668,
      -0.014764,
      -0.04599,
      -0.031641,
      0.022618,
      -0.157734,
      -0.004491,
      0.017008,
      0.020556,
      0.01676,
      0.007841,
      -0.057338,
      0.000737,
      -0.038026,
      0.040467,
      -0.015514,
      -0.051061,
      -0.019915,
      -0.017212,
      0.011583,
      -0.043405,
      -0.034673,
      0.009365,
      0.027135,
      -0.023919,
      -0.016941,
      -0.025718,
      0.029877,
      0.037975,
      -0.004338,
      0.036633,
      0.029065,
      0.032193,
      -0.015674,
      0.036932,
      0.010857,
      0.031109,
      0.024182,
      0.005541,
      0.0305,
      -0.029048,
      0.01209,
      -0.010289,
      0.041463,
      -0.006642,
      0.001301,
      0.046793,
      -0.049747,
      0.02306,
      0.013174,
      0.006428,
      0.020843,
      -0.010713,
      0.0299,
      0.018918,
      0.03401,
      -0.049207,
      -0.012455,
      -0.024669,
      -0.057212,
      0.041044,
      0.009025,
      0.047537,
      -0.007042,
      0.017092,
      -0.041611,
      0.004493,
      0.015833,
      -0.038723,
      -0.025423,
      0.016126,
      0.074355,
      -0.032487,
      0.012749,
      -0.051108,
      0.032404,
      -0.015471,
      0.008153,
      0.00901,
      -0.036929,
      -0.002454,
      0.007275,
      -0.023539,
      -0.051477,
      -0.071487,
      0.000377,
      -0.012484,
      0.00842,
      0.019147,
      -0.031509,
      -0.041689,
      0.002127,
      -0.035,
      0.026644,
      0.227835,
      0.028519,
      -0.051308,
      0.037514,
      0.106051,
      -0.008038,
      0.033475,
      0.031359,
      -0.00832,
      -0.023007,
      0.001058,
      0.048486,
      -0.026545,
      0.004312,
      0.002303,
      0.0397,
      -0.079126,
      0.001064,
      0.028781,
      -0.025434,
      0.018225,
      -0.02846,
      0.038904,
      0.006919,
      -0.061752,
      -0.004657,
      -0.004672,
      -0.001002,
      -0.034599,
      0.000894,
      -0.019266,
      0.020544,
      0.051107,
      -0.0582,
      -0.039743,
      -0.030825,
      0.053606,
      -0.069191,
      0.014576,
      0.060492,
      0.023789,
      -0.024466,
      0.028346,
      -0.032814,
      -0.011089,
      -0.040658,
      0.031424,
      -0.002852,
      0.000923,
      -0.017284,
      -0.010932,
      -0.039017,
      -0.003286,
      -0.006038,
      -0.01456,
      -0.009042,
      -0.008176,
      0.004064,
      0.011693,
      -0.026881,
      0.024531,
      -0.026573,
      -0.010528,
      0.006808,
      0.013427,
      0.004807,
      -0.00998,
      -0.049128,
      0.003338,
      0.061008,
      -0.017138,
      0.01043,
      0.007259,
      0.010781,
      0.030567,
      -0.033972,
      0.031718,
      0.019268,
      0.015969,
      0.013754,
      -0.003421,
      -0.00925,
      -0.013467,
      0.032541,
      0.004373,
      -0.028986,
      -0.004605,
      0.07538,
      0.012775,
      -0.022355,
      0.015705,
      0.005782,
      0.023407,
      0.04897,
      0.027277,
      -0.024388,
      0.021503,
      -0.02292,
      -0.011088,
      0.019042,
      0.002058,
      0.006634,
      -0.038389,
      -0.03163,
      0.051215,
      -0.000666,
      0.003855,
      -0.035944,
      -0.006796,
      0.03497,
      -0.048604,
      0.017755,
      -0.046598,
      -0.026273,
      0.009628,
      0.000962,
      0.01231,
      -0.020819,
      0.025226,
      -0.002338,
      -0.021324,
      0.009247,
      -0.009224,
      0.016886,
      0.002255,
      -0.048521,
      -0.015784,
      -0.026351,
      -0.001922,
      0.009834,
      0.03723,
      -0.021775,
      -0.037739,
      0.034231,
      0.022805,
      0.020482,
      0.021326,
      -0.005002,
      0.007611,
      0.027093,
      -0.042629,
      0.035626,
      -0.003401,
      -0.036556,
      0.028747,
      0.027696,
      0.035756,
      0.027827,
      -0.044968,
      -0.018376,
      0.016146,
      0.019637,
      0.009811,
      -0.044715,
      -0.006224,
      -0.027634,
      -0.010493,
      0.019343,
      0.029147,
      -0.022077,
      -0.014389,
      0.009877,
      0.014675,
      0.04348,
      0.038889,
      0.008296,
      -0.005935,
      0.017445,
      -0.001853,
      -0.000132,
      0.035472,
      -0.017558,
      -0.003487,
      0.012466,
      0.001848,
      0.023567,
      -0.034192,
      0.01814,
      -0.006398,
      -0.02954,
      0.014045,
      0.018185,
      -0.028974,
      -0.042731,
      -0.001812,
      -0.031614,
      -0.023655,
      0.005351,
      -0.009351,
      0.012907,
      -0.010328,
      0.102684,
      -0.015658,
      -0.005046,
      -0.014456,
      0.027219,
      0.063227,
      0.032823,
      -0.013244,
      -0.001571,
      0.005512,
      0.011329,
      0.011155,
      -0.011133,
      -0.029826,
      -0.003525,
      -0.006583,
      0.008386,
      -0.030932,
      0.022481,
      -0.034326,
      0.00331,
      -0.036187,
      0.03305,
      0.03461,
      -0.019979,
      0.046478,
      0.049845,
      -0.01022,
      -0.023647,
      -0.046334,
      0.0134,
      0.001922,
      -0.036338,
      -0.036017,
      -0.03291,
      0.04929,
      0.000084,
      -0.025269,
      0.003881,
      -0.004753,
      0.035402,
      0.045556,
      0.005119,
      0.018239,
      -0.037165,
      0.022121,
      -0.007851,
      0.01917,
      -0.005254,
      0.050186,
      0.010087,
      -0.001603,
      0.040906,
      0.019104,
      0.004211,
      -0.072006,
      -0.04998,
      -0.04,
      0.027837,
      0.007967,
      -0.038112,
      -0.012538,
      -0.042209,
      -0.009914,
      0.048088,
      0.051387,
      0.010956,
      -0.061732,
      0.018006,
      -0.014835,
      0.019298,
      0.000422,
      0.002114,
      0.06016,
      -0.053184,
      0.025386,
      -0.057184,
      -0.026936,
      -0.018021,
      -0.045529,
      0.011634,
      -0.026882,
      -0.052679,
      -0.004991,
      -0.039488,
      -0.003067,
      0.011408,
      -0.004707,
      0.021689,
      -0.042954,
      0.010925,
      0.02499,
      -0.027174,
      0.005619,
      -0.00384,
      -0.016538,
      0.001841,
      0.044862,
      -0.055842,
      -0.005153,
      -0.00031,
      -0.017834,
      0.047649,
      0.002639,
      -0.010113,
      0.006598,
      0.055735,
      -0.005272,
      0.01198,
      -0.003005,
      0.005937,
      0.012625,
      -0.025427,
      0.020095,
      -0.002276,
      -0.013215,
      -0.006466,
      0.02737,
      0.015128,
      0.036529,
      -0.039531,
      -0.005091,
      0.026691,
      0.012427,
      -0.035945,
      0.018542,
      0.020455,
      0.009225,
      -0.026748,
      -0.026683,
      -0.026679,
      -0.059383,
      -0.002036,
      -0.017139,
      -0.017996,
      -0.002177,
      -0.019889,
      -0.039445,
      0.009233,
      -0.02897,
      0.006535,
      0.046356,
      -0.006957,
      -0.023534,
      -0.035856,
      0.043973,
      -0.013111,
      0.037582,
      -0.030698,
      0.009305,
      -0.035958,
      0.010726,
      -0.027425,
      -0.002657,
      -0.044423,
      -0.007806,
      0.002298,
      -0.039525,
      -0.014834,
      -0.00516,
      -0.005882,
      -0.007487,
      -0.028944,
      0.014527,
      -0.088793,
      0.044546,
      0.008764,
      0.027672,
      -0.001295,
      -0.04563,
      0.049287,
      0.020091,
      -0.067984,
      0.016824,
      -0.008532,
      0.01154,
      -0.055674,
      -0.012087,
      0.019308,
      0.020384,
      0.015558,
      -0.02514,
      0.06388,
      0.011161,
      0.043833,
      -0.039566,
      0.00833,
      0.029841,
      -0.040217,
      -0.019958,
      -0.027859,
      -0.06538,
      -0.002185,
      -0.009814,
      0.014963,
      0.00477,
      0.008188,
      0.005184,
      0.05441,
      -0.02878,
      -0.008564,
      0.004975,
      -0.040856,
      -0.156011,
      0.017856,
      0.03333,
      0.022138,
      -0.00945,
      -0.016988,
      -0.000802,
      -0.037552,
      0.029886,
      -0.051815,
      -0.000865,
      -0.009762,
      0.027273,
      0.009763,
      0.055875,
      0.013534,
      0.046882,
      -0.031608,
      -0.047588,
      -0.012072,
      0.017695,
      -0.002911,
      0.091533,
      -0.007268,
      0.025601,
      -0.048973,
      -0.005011,
      -0.0176,
      -0.022647,
      -0.019308,
      -0.007958,
      -0.027816,
      0.035423,
      0.00107,
      -0.007507,
      0.008976,
      0.003459,
      0.025303,
      -0.033613,
      0.014368,
      -0.018133,
      0.007278,
      -0.054281,
      0.010333,
      0.008351,
      0.04611,
      -0.024172,
      -0.046908,
      0.000241,
      -0.021605,
      -0.024357,
      0.048849,
      -0.016398,
      0.012763,
      -0.021811,
      0.014864,
      0.010177,
      -0.006581,
      -0.014074,
      0.037831,
      -0.037965,
      0.048442,
      -0.024498,
      -0.003914,
      0.06527,
      0.016454,
      -0.053632,
      -0.020551,
      0.033362,
      -0.028257,
      0.002172,
      0.02626,
      -0.004313,
      0.001641,
      0.02296,
      -0.045674,
      0.006096,
      0.021425,
      -0.021253,
      -0.010436,
      -0.023403,
      -0.006376,
      -0.06265,
      0.04155,
      0.020403,
      -0.009014,
      -0.019478,
      -0.003709,
      -0.021123,
      -0.00662,
      -0.028391,
      -0.039897,
      0.014664,
      0.014778,
      -0.019422,
      0.033355,
      -0.020997,
      -0.012253,
      0.008464,
      -0.016036,
      -0.010349,
      -0.036376,
      0.012731,
      0.018363,
      -0.026817,
      0.003585,
      -0.009206,
      -0.023188,
      -0.03261,
      -0.007866,
      -0.038653,
      -0.02307,
      -0.034616,
      -0.00767,
      -0.05131,
      -0.003658,
      0.024927,
      0.037927,
      -0.005379,
      0.018894,
      0.039106,
      0.023057,
      -0.006253,
      -0.048505,
      0.056087,
      0.04957,
      0.047266,
      0.025496,
      0.032852,
      -0.03453,
      0.006609,
      -0.027071,
      -0.000686,
      -0.018908,
      -0.004924,
      -0.036785,
      -0.008308,
      0.036609,
      -0.033371,
      -0.054334,
      -0.062942,
      -0.027767,
      -0.007604,
      -0.036362,
      0.000339,
      -0.033359,
      -0.028438,
      0.063513,
      -0.008223,
      -0.075577,
      0.002098,
      -0.012377,
      -0.029503,
      0.049738,
      0.032852,
      0.016046,
      -0.003614,
      0.014271,
      -0.003796,
      0.036896,
      -0.008532,
      0.009642,
      -0.020697,
      -0.049385,
      -0.037201,
      0.012957,
      -0.029091,
      0.021499,
      0.00954,
      0.028503,
      0.016627,
      0.064442,
      -0.011809,
      -0.018635,
      0.014813,
      -0.042876,
      0.006327,
      -0.011639,
      0.020043,
      -0.030953,
      0.020092,
      0.025939,
      0.019056,
      -0.004476,
      0.087171,
      0.013399,
      0.009945,
      -0.022895,
      0.00347,
      -0.032266,
      -0.025281,
      0.031816,
      0.004969,
      0.034252,
      0.06768,
      -0.029458,
      -0.014958,
      0.002722,
      0.037682,
      0.050682,
      0.022512,
      -0.01757,
      -0.009654,
      0.01293,
      0.003733,
      -0.020314,
      -0.040551,
      0.01616,
      -0.021054,
      0.040838,
      0.004695,
      0.021624,
      -0.025289,
      0.020072,
      -0.024334,
      -0.011445,
      0.006544,
      0.022206,
      0.010893,
      -0.004248,
      0.026255,
      0.002716,
      -0.021042,
      -0.027992,
      -0.049372,
      0.001433,
      -0.01366,
      -0.022162,
      0.006436,
      -0.006344,
      -0.01009,
      -0.052548,
      0.017554,
      0.008532,
      -0.028721,
      0.026736,
      0.027333,
      0.00968,
      -0.039601,
      0.012371,
      -0.012725,
      -0.014887,
      0.014257,
      -0.012617
    ]
  },
  {
    "id": "v5-service.test-0",
    "content": "# Service tests\nBreadcrumb: Service tests\nCovers: Testing the service | Authenticated tests\nTopics: services, application, params, find, create, remove, authentication, http, client, cli, testing, test, users\n\n## Testing the service\n\nServices can be tested by using the [application](./app.md) object through Feathers standard APIs:\n\n```ts\n// For more information about this file see https://dove.feathersjs.com/guides/cli/service.test.html\nimport assert from 'assert'\nimport { app } from '../../../src/app'\n\ndescribe('users service', () => {\n  it('registered the service', () => {\n    const service = app.service('users')\n\n    assert.ok(service, 'Registered the service')\n  })\n\n  it('finds all users', async () => {\n    const users = await app.service('users').find({\n      paginate: false\n    })\n\n    assert.ok(Array.isArray(users))\n  })\n})\n```\n\n## Authenticated tests\n\nTo test service internals that require a logged in user, it is not necessary to go through the full authentication flow. Instead a test user can be created and then passed as `params.user` just like it would when authenticated:\n\n```ts\n// For more information about this file see https://dove.feathersjs.com/guides/cli/service.test.html\nimport assert from 'assert'\nimport { app } from '../../../src/app'\n\ndescribe('messages service', () => {\n  it('registered the service', () => {\n    const service = app.service('messages')\n\n    assert.ok(service, 'Registered the service')\n  })\n\n  it('can create a new message for a user', async () => {\n    const user = await app.service('users').create({\n      email: 'test@feathersjs.com',\n      password: 'supersecret'\n    })\n\n    const message = await app.service('messages').create(\n      {\n        text: 'Hello world'\n      },\n      { user }\n    )\n\n    assert.strictEqual(message.userId, user.id)\n\n    await app.service('messages').remove(message.id)\n    await app.service('users').remove(user.id)\n  })\n})\n```\n\n<BlockQuote label=\"tip\">\n\nIf you want to test the full authentication and external access flow the [client.test](./client.test.md) can be used.\n\n</BlockQuote>",
    "rawContent": "## Testing the service\n\nServices can be tested by using the [application](./app.md) object through Feathers standard APIs:\n\n```ts\n// For more information about this file see https://dove.feathersjs.com/guides/cli/service.test.html\nimport assert from 'assert'\nimport { app } from '../../../src/app'\n\ndescribe('users service', () => {\n  it('registered the service', () => {\n    const service = app.service('users')\n\n    assert.ok(service, 'Registered the service')\n  })\n\n  it('finds all users', async () => {\n    const users = await app.service('users').find({\n      paginate: false\n    })\n\n    assert.ok(Array.isArray(users))\n  })\n})\n```\n\n## Authenticated tests\n\nTo test service internals that require a logged in user, it is not necessary to go through the full authentication flow. Instead a test user can be created and then passed as `params.user` just like it would when authenticated:\n\n```ts\n// For more information about this file see https://dove.feathersjs.com/guides/cli/service.test.html\nimport assert from 'assert'\nimport { app } from '../../../src/app'\n\ndescribe('messages service', () => {\n  it('registered the service', () => {\n    const service = app.service('messages')\n\n    assert.ok(service, 'Registered the service')\n  })\n\n  it('can create a new message for a user', async () => {\n    const user = await app.service('users').create({\n      email: 'test@feathersjs.com',\n      password: 'supersecret'\n    })\n\n    const message = await app.service('messages').create(\n      {\n        text: 'Hello world'\n      },\n      { user }\n    )\n\n    assert.strictEqual(message.userId, user.id)\n\n    await app.service('messages').remove(message.id)\n    await app.service('users').remove(user.id)\n  })\n})\n```\n\n<BlockQuote label=\"tip\">\n\nIf you want to test the full authentication and external access flow the [client.test](./client.test.md) can be used.\n\n</BlockQuote>",
    "breadcrumb": "Service tests",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/service.test.md",
    "heading": "Service tests",
    "subHeadings": [
      "Testing the service",
      "Authenticated tests"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 468,
    "category": "cli",
    "tags": [
      "services",
      "application",
      "params",
      "find",
      "create",
      "remove",
      "authentication",
      "http",
      "client",
      "cli",
      "testing",
      "test",
      "users"
    ],
    "embedding": [
      -0.022404,
      0.012197,
      -0.057761,
      0.001149,
      0.019861,
      -0.024932,
      0.006786,
      0.006431,
      -0.001836,
      0.033892,
      -0.015878,
      0.000376,
      -0.006782,
      0.007219,
      -0.025229,
      0.002809,
      -0.011582,
      -0.005255,
      0.021066,
      -0.048581,
      -0.032364,
      0.022641,
      0.009555,
      -0.013666,
      0.052078,
      0.018706,
      -0.038293,
      -0.037393,
      0.040767,
      -0.009729,
      0.021281,
      -0.013937,
      -0.029673,
      -0.002922,
      -0.02948,
      -0.004362,
      -0.025486,
      -0.002375,
      -0.027432,
      0.006194,
      0.011905,
      -0.007936,
      -0.006203,
      -0.047813,
      0.008292,
      -0.024915,
      -0.003109,
      -0.008312,
      -0.017151,
      0.009589,
      -0.006747,
      0.023438,
      0.054744,
      -0.056722,
      0.005252,
      0.052814,
      -0.003017,
      0.017993,
      -0.074196,
      0.037538,
      -0.01647,
      -0.002014,
      -0.023267,
      0.013603,
      0.020738,
      0.024426,
      -0.005965,
      -0.018849,
      -0.025045,
      -0.026372,
      -0.013276,
      0.017531,
      -0.040383,
      0.017225,
      -0.05453,
      0.015816,
      0.044504,
      0.012494,
      -0.016013,
      0.020373,
      -0.011656,
      0.018613,
      -0.008304,
      -0.027238,
      0.016991,
      -0.018398,
      -0.01969,
      0.015424,
      0.032693,
      0.008364,
      -0.001425,
      -0.032569,
      0.088888,
      -0.013263,
      -0.027806,
      -0.004803,
      0.000223,
      0.010829,
      0.035822,
      0.017888,
      -0.004758,
      -0.049851,
      0.006113,
      -0.037594,
      0.014222,
      0.03672,
      0.016893,
      0.031055,
      -0.002698,
      -0.033996,
      -0.019191,
      0.020287,
      0.00472,
      0.039133,
      0.006023,
      0.03856,
      0.024346,
      0.008453,
      -0.021522,
      0.017879,
      0.012985,
      0.062692,
      -0.017165,
      -0.004808,
      -0.022147,
      0.041723,
      -0.024219,
      0.037789,
      0.02132,
      -0.010645,
      0.021228,
      -0.041244,
      0.001333,
      -0.003141,
      0.002099,
      0.035326,
      0.003164,
      0.007347,
      -0.008248,
      -0.022354,
      0.044584,
      0.023669,
      -0.007947,
      -0.027034,
      0.034955,
      -0.081271,
      0.089352,
      -0.00565,
      -0.033587,
      0.004541,
      0.03363,
      -0.011864,
      0.00901,
      -0.036905,
      0.00741,
      -0.041242,
      -0.028336,
      -0.007664,
      0.056948,
      -0.020802,
      0.042915,
      0.02367,
      -0.025644,
      0.059286,
      0.060191,
      -0.044992,
      0.007196,
      -0.03306,
      -0.016347,
      -0.029949,
      0.017141,
      -0.011001,
      -0.046179,
      -0.012326,
      0.025834,
      0.043185,
      0.05053,
      0.04517,
      0.000235,
      -0.037964,
      -0.043824,
      -0.010831,
      -0.034505,
      -0.042108,
      0.000415,
      -0.027014,
      -0.006323,
      -0.034841,
      -0.004309,
      -0.00789,
      -0.058056,
      -0.028973,
      0.034588,
      0.009656,
      0.017956,
      -0.005264,
      0.013128,
      0.033077,
      0.014339,
      -0.013306,
      -0.025197,
      0.037508,
      0.07276,
      0.000015,
      -0.010142,
      -0.034057,
      0.02626,
      -0.048112,
      0.02593,
      -0.056809,
      0.005166,
      -0.007909,
      -0.041504,
      -0.011653,
      -0.029065,
      0.023659,
      -0.001558,
      0.037171,
      0.009051,
      0.00815,
      0.033489,
      0.010125,
      0.023416,
      -0.02871,
      0.054533,
      -0.023235,
      0.009517,
      -0.003462,
      0.012768,
      -0.023406,
      -0.021514,
      -0.011777,
      0.001917,
      -0.002741,
      -0.001879,
      -0.006091,
      -0.031072,
      -0.016425,
      0.026449,
      0.046364,
      -0.029278,
      -0.036651,
      0.049281,
      -0.008843,
      -0.025486,
      0.006839,
      0.02434,
      0.00507,
      -0.030362,
      -0.028676,
      -0.007065,
      -0.002115,
      -0.015409,
      0.032232,
      0.014265,
      -0.021849,
      0.027353,
      -0.001636,
      -0.004633,
      -0.017373,
      -0.007443,
      -0.014366,
      -0.019376,
      0.005322,
      -0.0081,
      -0.01011,
      -0.06116,
      -0.042329,
      -0.009309,
      -0.028946,
      -0.01164,
      -0.034697,
      0.012079,
      -0.003242,
      -0.017801,
      0.023054,
      0.034416,
      -0.044143,
      0.127628,
      0.019322,
      0.004539,
      0.043718,
      0.046667,
      0.042493,
      0.011165,
      -0.03603,
      0.021173,
      -0.040944,
      0.048314,
      -0.045205,
      0.008415,
      0.010948,
      0.064725,
      -0.012195,
      -0.023007,
      -0.002273,
      0.011425,
      -0.149011,
      -0.039385,
      0.041179,
      0.02616,
      -0.001655,
      0.029639,
      -0.039792,
      0.03955,
      -0.034832,
      0.008395,
      -0.010346,
      -0.039861,
      -0.025818,
      -0.033344,
      0.013499,
      -0.010796,
      -0.034626,
      0.0095,
      0.027138,
      -0.041943,
      -0.041637,
      -0.03078,
      0.076796,
      0.001155,
      -0.00667,
      -0.002456,
      0.022213,
      -0.002214,
      -0.019507,
      0.030703,
      -0.008599,
      0.031293,
      0.001047,
      0.013965,
      0.003619,
      0.020393,
      0.046334,
      0.007962,
      -0.001807,
      0.006647,
      -0.004521,
      0.039981,
      -0.001775,
      -0.021487,
      0.023709,
      0.000231,
      0.073837,
      0.004023,
      0.009632,
      -0.012843,
      0.034073,
      -0.042459,
      0.011244,
      0.001572,
      -0.054265,
      0.009118,
      0.020943,
      0.041271,
      -0.014126,
      -0.018739,
      -0.044057,
      -0.033101,
      0.057428,
      -0.009572,
      -0.026529,
      -0.012616,
      -0.001952,
      0.023991,
      -0.011018,
      -0.033205,
      0.035806,
      -0.065777,
      -0.019274,
      0.012062,
      -0.022413,
      -0.012419,
      0.011242,
      -0.029431,
      -0.03316,
      -0.082302,
      -0.019005,
      0.039555,
      -0.024965,
      0.008475,
      -0.020779,
      -0.032495,
      -0.046337,
      -0.021377,
      0.033642,
      0.226963,
      0.038243,
      0.002822,
      -0.024276,
      0.079025,
      -0.016902,
      0.024955,
      0.061402,
      -0.00058,
      -0.021573,
      0.003986,
      -0.040089,
      -0.000074,
      0.003728,
      -0.016559,
      -0.001272,
      -0.044928,
      0.01286,
      0.082806,
      -0.014344,
      0.035787,
      0.003954,
      0.047694,
      0.024554,
      -0.082676,
      -0.02356,
      0.002479,
      0.004675,
      -0.055908,
      0.006223,
      0.009206,
      0.017589,
      0.044135,
      -0.054938,
      -0.00561,
      -0.019771,
      0.013227,
      -0.045904,
      -0.022264,
      0.02581,
      -0.011494,
      -0.011644,
      0.060358,
      -0.037492,
      -0.000508,
      0.044871,
      0.01504,
      0.009878,
      -0.018282,
      -0.020959,
      -0.010407,
      -0.036234,
      0.004123,
      -0.003904,
      -0.006801,
      -0.017887,
      -0.012031,
      -0.034524,
      -0.011167,
      0.026906,
      0.054436,
      0.017484,
      -0.061576,
      0.079232,
      0.012504,
      0.023624,
      -0.017483,
      -0.077828,
      0.0216,
      0.073174,
      -0.008633,
      -0.013052,
      0.011425,
      0.002829,
      0.022769,
      0.018452,
      0.029339,
      0.011108,
      -0.023229,
      0.054079,
      0.015353,
      0.01664,
      -0.023795,
      0.02342,
      0.008669,
      0.014028,
      -0.025568,
      0.026549,
      0.002523,
      -0.023431,
      -0.032005,
      0.003869,
      -0.030031,
      0.020974,
      0.01992,
      0.014328,
      0.006801,
      -0.001474,
      0.009395,
      -0.044528,
      0.032808,
      0.025494,
      0.02609,
      0.004393,
      0.054331,
      -0.041243,
      0.014551,
      -0.000428,
      0.029752,
      0.052433,
      -0.034754,
      0.003471,
      0.00679,
      -0.015139,
      -0.011727,
      0.007728,
      0.034577,
      0.001261,
      0.063542,
      0.033436,
      0.017197,
      0.02426,
      -0.013019,
      0.01745,
      -0.002993,
      -0.049208,
      -0.018567,
      0.01807,
      0.000361,
      0.047852,
      0.043972,
      -0.030284,
      -0.000755,
      0.056574,
      0.024717,
      -0.012112,
      0.067344,
      0.038999,
      0.041936,
      0.018197,
      -0.028433,
      -0.051005,
      -0.029173,
      -0.000232,
      -0.003714,
      0.038887,
      -0.030908,
      0.004669,
      -0.033916,
      0.027005,
      0.068705,
      0.030197,
      0.026374,
      -0.055329,
      0.000634,
      -0.090507,
      -0.007983,
      -0.022069,
      0.011641,
      -0.026357,
      -0.027281,
      0.011437,
      -0.010711,
      0.058046,
      0.038296,
      -0.004025,
      0.012617,
      0.032201,
      0.013173,
      -0.018307,
      0.034266,
      -0.023606,
      -0.065527,
      0.043918,
      0.000056,
      -0.077713,
      -0.072196,
      0.016245,
      0.0399,
      -0.016518,
      -0.002126,
      0.002204,
      -0.032549,
      0.001057,
      0.004835,
      0.010165,
      0.03982,
      -0.028234,
      0.032691,
      -0.022001,
      -0.050994,
      0.08158,
      -0.034604,
      0.012165,
      0.04871,
      -0.021992,
      0.06478,
      0.010079,
      0.015322,
      0.035918,
      0.001887,
      -0.00097,
      -0.005075,
      0.004612,
      -0.037825,
      -0.026924,
      -0.019372,
      0.023763,
      -0.026234,
      0.027843,
      -0.016812,
      0.033262,
      -0.039468,
      -0.006635,
      -0.011333,
      -0.035474,
      0.040283,
      0.034614,
      0.031857,
      0.021423,
      -0.060429,
      -0.022017,
      0.019135,
      -0.032389,
      0.022483,
      0.004836,
      0.003855,
      -0.036414,
      -0.027942,
      0.02023,
      -0.010728,
      0.004685,
      0.021554,
      -0.044061,
      0.011905,
      -0.030434,
      0.032684,
      -0.009012,
      -0.002125,
      0.001856,
      0.029821,
      0.025261,
      0.040362,
      0.018157,
      -0.007362,
      0.00602,
      -0.009299,
      -0.038003,
      -0.054878,
      0.025499,
      -0.001617,
      -0.038212,
      0.018049,
      -0.052931,
      0.007204,
      0.057365,
      0.028917,
      -0.027118,
      -0.041524,
      0.012005,
      0.004633,
      0.01425,
      0.008682,
      -0.018382,
      0.007041,
      -0.054615,
      -0.00196,
      -0.071586,
      -0.036956,
      -0.043428,
      -0.046174,
      -0.000463,
      0.013906,
      -0.050478,
      0.018633,
      -0.005594,
      -0.019024,
      -0.009501,
      -0.020486,
      0.032619,
      -0.010503,
      0.001454,
      0.029623,
      0.026369,
      0.022139,
      0.034307,
      0.028149,
      -0.023495,
      0.021571,
      -0.015176,
      -0.005439,
      0.013281,
      -0.025663,
      0.023526,
      0.003909,
      -0.008352,
      -0.049109,
      0.012421,
      -0.022826,
      0.004291,
      -0.02807,
      -0.001694,
      -0.027536,
      -0.030955,
      -0.019129,
      0.057349,
      -0.027207,
      -0.004577,
      0.024407,
      0.052266,
      0.019782,
      -0.064656,
      0.026254,
      0.01293,
      0.034186,
      -0.049863,
      0.052571,
      0.017016,
      -0.025928,
      -0.01438,
      0.050819,
      -0.027251,
      -0.022535,
      0.031768,
      -0.038699,
      -0.035048,
      -0.036484,
      -0.021072,
      0.010007,
      -0.01169,
      -0.027799,
      -0.020174,
      -0.029121,
      -0.038102,
      -0.026291,
      0.015427,
      0.005394,
      -0.034259,
      0.017491,
      -0.035079,
      0.021316,
      0.002734,
      0.045335,
      -0.017558,
      0.008107,
      -0.017206,
      -0.015061,
      -0.011922,
      -0.071923,
      0.005011,
      -0.027261,
      -0.00401,
      -0.006105,
      -0.029197,
      0.039555,
      -0.03142,
      -0.050967,
      0.04037,
      -0.009109,
      -0.00066,
      0.009627,
      0.091701,
      -0.016381,
      -0.042223,
      0.021486,
      -0.010726,
      0.02976,
      -0.031729,
      0.00063,
      -0.027035,
      -0.009204,
      0.069126,
      0.011453,
      -0.025359,
      -0.010402,
      0.03881,
      -0.037367,
      0.021283,
      -0.01044,
      -0.001221,
      -0.022808,
      -0.001995,
      -0.027922,
      -0.006479,
      -0.014372,
      -0.008213,
      -0.015322,
      -0.00213,
      0.019932,
      -0.00582,
      0.015797,
      0.000574,
      0.006595,
      -0.028533,
      -0.138431,
      0.021293,
      0.001438,
      -0.017453,
      -0.018902,
      0.005103,
      -0.000779,
      -0.033561,
      0.011729,
      -0.027845,
      -0.049705,
      -0.001174,
      0.025061,
      -0.014949,
      0.008734,
      0.02382,
      0.016803,
      -0.016159,
      -0.021036,
      -0.045994,
      0.018945,
      0.004527,
      0.032138,
      -0.005969,
      -0.01631,
      0.002122,
      -0.031518,
      -0.006517,
      -0.026532,
      0.002835,
      -0.023282,
      0.006644,
      -0.014409,
      -0.014237,
      -0.010397,
      0.010789,
      0.001848,
      0.026079,
      -0.015412,
      0.035167,
      -0.043333,
      0.014009,
      -0.074946,
      0.034728,
      0.042109,
      0.040083,
      -0.033223,
      -0.041378,
      0.005178,
      -0.032577,
      -0.020414,
      0.0218,
      -0.03527,
      0.006075,
      -0.012151,
      0.005152,
      -0.055361,
      -0.029039,
      -0.062204,
      0.031172,
      -0.007307,
      0.040731,
      -0.021299,
      -0.008612,
      -0.004576,
      0.016149,
      -0.072699,
      0.036285,
      0.018563,
      -0.000735,
      0.013133,
      0.026958,
      -0.01648,
      -0.017765,
      0.004465,
      -0.00133,
      0.057681,
      0.019522,
      -0.049056,
      -0.009301,
      -0.02751,
      0.006489,
      -0.021021,
      0.090395,
      0.015088,
      0.007785,
      0.017809,
      0.006201,
      -0.043766,
      -0.012542,
      -0.022507,
      -0.042561,
      0.024556,
      0.059299,
      0.007632,
      0.027542,
      0.02797,
      -0.032897,
      0.014439,
      0.012511,
      -0.019071,
      0.011853,
      0.012587,
      -0.016462,
      -0.043028,
      0.020556,
      0.03183,
      -0.006066,
      0.00235,
      0.0244,
      0.039689,
      0.023116,
      -0.036805,
      -0.019522,
      -0.099405,
      -0.009544,
      -0.016848,
      0.005783,
      -0.021872,
      -0.000914,
      0.043507,
      -0.026599,
      -0.03471,
      -0.016826,
      0.025238,
      0.02385,
      0.023808,
      -0.018719,
      0.052494,
      -0.030401,
      0.005621,
      -0.051338,
      0.000559,
      0.023708,
      -0.003327,
      -0.050158,
      -0.060744,
      0.036673,
      0.004298,
      -0.042353,
      -0.057746,
      -0.002885,
      0.007735,
      -0.035453,
      0.02772,
      -0.002422,
      -0.008136,
      -0.000104,
      0.007004,
      -0.014426,
      -0.001668,
      -0.027959,
      -0.017399,
      0.040463,
      0.011931,
      0.028844,
      0.017824,
      0.023567,
      -0.000701,
      0.050034,
      0.006953,
      -0.035216,
      -0.031424,
      -0.034056,
      -0.014786,
      0.028744,
      -0.000694,
      -0.027973,
      -0.000221,
      0.027831,
      0.017011,
      0.016429,
      -0.023979,
      -0.026947,
      0.033805,
      0.004175,
      -0.007851,
      -0.006444,
      0.042873,
      -0.012713,
      0.052276,
      0.015089,
      0.017231,
      0.034667,
      0.029463,
      0.01603,
      -0.002948,
      -0.023871,
      0.034884,
      -0.00312,
      -0.018299,
      0.017358,
      0.005678,
      -0.016351,
      0.008954,
      -0.028196,
      -0.004622,
      -0.015539,
      -0.006982,
      0.058067,
      0.000471,
      0.000947,
      -0.043723,
      -0.010048,
      -0.007535,
      0.008211,
      0.0232,
      -0.010584,
      -0.012272,
      0.038539,
      -0.042082,
      -0.014445,
      0.003761,
      0.019958,
      -0.011287,
      0.03328,
      0.034107,
      0.030925,
      0.001019,
      -0.00186,
      0.001004,
      -0.005355,
      0.013725,
      -0.039988,
      -0.043247,
      0.00755,
      -0.006008,
      0.009196,
      0.009514,
      0.000905,
      -0.035799,
      -0.018135,
      0.000202,
      0.047103,
      -0.000489,
      -0.027581,
      0.030153,
      -0.023043,
      -0.028933,
      -0.017435,
      0.006253,
      0.018112,
      -0.010433,
      0.003714
    ]
  },
  {
    "id": "v5-tsconfig-0",
    "content": "# tsconfig.json\nBreadcrumb: tsconfig.json\n\n",
    "rawContent": "",
    "breadcrumb": "tsconfig.json",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/tsconfig.md",
    "heading": "tsconfig.json",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 0,
    "category": "cli",
    "tags": [],
    "embedding": [
      -0.036583,
      0.002447,
      -0.049521,
      0.025502,
      -0.016538,
      -0.003653,
      0.000809,
      0.006307,
      0.007899,
      0.023648,
      0.033142,
      -0.026098,
      -0.011822,
      0.025711,
      -0.026013,
      -0.019118,
      -0.015361,
      0.006693,
      -0.005018,
      -0.044415,
      -0.010902,
      0.005163,
      -0.052364,
      0.028332,
      -0.027931,
      -0.00349,
      0.036727,
      -0.052357,
      -0.040839,
      0.012838,
      0.050551,
      -0.003652,
      0.039528,
      -0.027608,
      0.017874,
      -0.025339,
      0.00571,
      -0.001171,
      -0.055164,
      0.039296,
      -0.016437,
      -0.038462,
      0.015009,
      -0.046299,
      0.000455,
      -0.024363,
      -0.007116,
      -0.01401,
      0.002547,
      0.041665,
      0.027201,
      -0.02169,
      0.039434,
      -0.035445,
      0.013377,
      -0.018985,
      -0.048812,
      -0.027991,
      -0.084373,
      -0.014247,
      -0.037631,
      0.030618,
      -0.016157,
      -0.012473,
      0.035366,
      0.054985,
      -0.00194,
      -0.009331,
      -0.005662,
      0.010142,
      -0.008263,
      -0.009979,
      -0.05162,
      -0.019831,
      -0.048994,
      0.054869,
      0.028071,
      -0.020971,
      0.024707,
      0.035952,
      0.013028,
      0.002827,
      0.018093,
      -0.027644,
      -0.010682,
      0.014509,
      0.020593,
      0.019004,
      -0.039635,
      -0.014982,
      0.005688,
      -0.023213,
      0.027075,
      -0.014301,
      -0.002029,
      -0.033977,
      0.012501,
      0.023238,
      -0.033122,
      0.043943,
      0.011626,
      -0.024368,
      -0.012021,
      0.000857,
      0.015381,
      0.019278,
      0.005478,
      0.013584,
      -0.017505,
      -0.019741,
      0.000587,
      0.037846,
      -0.040612,
      0.031649,
      -0.009792,
      -0.003569,
      0.010731,
      -0.012284,
      -0.000207,
      -0.01993,
      0.034544,
      -0.010317,
      -0.001185,
      -0.029357,
      0.066015,
      -0.026947,
      0.035624,
      0.047603,
      0.018827,
      -0.000032,
      -0.000876,
      0.034751,
      0.024792,
      0.04223,
      0.016533,
      -0.013635,
      0.035616,
      -0.016617,
      0.010612,
      -0.036118,
      -0.002721,
      0.062927,
      0.008691,
      -0.016759,
      0.017576,
      -0.022873,
      0.05069,
      -0.006438,
      0.044728,
      0.010426,
      -0.030302,
      -0.032457,
      0.072019,
      -0.010923,
      0.040724,
      -0.054094,
      -0.049236,
      0.010941,
      0.068763,
      0.009074,
      0.009813,
      0.039464,
      0.040282,
      -0.029678,
      0.058907,
      -0.036444,
      0.054402,
      0.01099,
      -0.029196,
      -0.05185,
      -0.00766,
      -0.021238,
      -0.081356,
      -0.027479,
      0.028976,
      0.0128,
      0.022872,
      0.00349,
      0.011362,
      -0.029762,
      -0.049165,
      0.024308,
      0.006987,
      0.023127,
      -0.028132,
      -0.012223,
      -0.004034,
      -0.000708,
      0.029613,
      0.016421,
      0.03849,
      0.006612,
      0.022405,
      -0.034773,
      0.021605,
      0.029715,
      -0.051802,
      -0.001216,
      -0.00965,
      -0.02376,
      0.044465,
      0.020117,
      0.017802,
      -0.00012,
      -0.021393,
      0.032745,
      0.011323,
      -0.000726,
      0.017035,
      -0.002585,
      -0.006049,
      0.003466,
      -0.008327,
      -0.006702,
      -0.04994,
      -0.031704,
      -0.009398,
      -0.001509,
      -0.016387,
      0.006407,
      -0.003657,
      -0.013151,
      0.016611,
      0.0049,
      0.043333,
      0.002563,
      0.05224,
      -0.022289,
      -0.002853,
      0.008232,
      -0.051677,
      -0.02994,
      0.036673,
      0.046216,
      0.034286,
      0.018341,
      -0.030361,
      0.018289,
      0.068705,
      -0.028823,
      -0.053225,
      -0.003032,
      0.050976,
      -0.022476,
      -0.017533,
      -0.04212,
      -0.0001,
      0.035376,
      -0.024665,
      -0.033833,
      0.015221,
      -0.005351,
      -0.03671,
      -0.006116,
      0.003862,
      -0.010306,
      -0.009628,
      -0.030602,
      -0.00569,
      0.001711,
      0.014041,
      0.04284,
      -0.015733,
      0.013791,
      0.03132,
      -0.003581,
      -0.036439,
      -0.020025,
      0.019372,
      -0.00078,
      -0.025818,
      0.006254,
      -0.001539,
      0.008632,
      -0.011494,
      -0.013335,
      -0.015589,
      -0.027043,
      0.080819,
      0.032137,
      -0.016369,
      0.034188,
      0.041234,
      -0.006961,
      0.01284,
      -0.059323,
      0.028214,
      -0.033537,
      0.010085,
      0.023119,
      -0.050593,
      0.04813,
      0.071296,
      -0.001106,
      -0.039728,
      -0.004939,
      -0.012871,
      -0.131945,
      0.000655,
      0.038332,
      -0.013104,
      0.027949,
      -0.0137,
      -0.01996,
      0.051837,
      -0.049777,
      0.01572,
      0.039411,
      -0.055429,
      -0.016055,
      -0.039494,
      -0.020784,
      -0.031871,
      -0.040685,
      0.010445,
      0.038016,
      -0.042167,
      0.000428,
      -0.034319,
      -0.005343,
      0.03367,
      -0.026875,
      0.017276,
      0.079945,
      -0.056727,
      -0.068678,
      -0.047609,
      -0.046624,
      0.036818,
      0.001177,
      0.020396,
      0.0187,
      0.025718,
      0.049058,
      0.022009,
      0.033735,
      -0.006072,
      0.030111,
      -0.028223,
      -0.03172,
      0.000728,
      0.000739,
      -0.005297,
      0.02699,
      0.006604,
      0.020857,
      0.015771,
      0.000289,
      -0.032833,
      -0.012278,
      0.007325,
      -0.034775,
      0.064433,
      -0.001289,
      -0.004198,
      -0.004879,
      0.001372,
      -0.013048,
      -0.042819,
      0.055765,
      -0.030569,
      -0.050781,
      -0.022126,
      -0.037781,
      -0.028151,
      0.049651,
      -0.028492,
      0.002055,
      -0.058139,
      0.010169,
      -0.000432,
      -0.064147,
      0.017095,
      0.018915,
      -0.041076,
      -0.014229,
      -0.092546,
      -0.045984,
      0.011742,
      -0.039445,
      0.010445,
      -0.04911,
      -0.069231,
      -0.032085,
      0.035116,
      -0.014832,
      0.20745,
      0.072251,
      0.024848,
      -0.014943,
      0.025004,
      0.005593,
      -0.039688,
      0.017429,
      0.017357,
      -0.022301,
      -0.036603,
      -0.031417,
      -0.013364,
      -0.027968,
      -0.004249,
      0.000425,
      -0.016325,
      -0.053226,
      0.054834,
      0.011693,
      0.035778,
      -0.03526,
      0.05555,
      0.002844,
      -0.041889,
      -0.030264,
      -0.013246,
      0.002802,
      -0.016021,
      0.025508,
      -0.010342,
      0.023682,
      0.033631,
      -0.022981,
      -0.044618,
      -0.045082,
      0.036016,
      0.004201,
      -0.007326,
      0.06472,
      -0.056446,
      -0.032452,
      -0.005373,
      -0.000085,
      -0.027649,
      0.001776,
      0.017098,
      -0.015777,
      -0.004775,
      -0.008822,
      0.008058,
      -0.068876,
      -0.029322,
      0.001091,
      0.013227,
      -0.025801,
      -0.044888,
      -0.037975,
      -0.027723,
      0.04521,
      0.0454,
      -0.001442,
      -0.016119,
      0.089953,
      0.045984,
      0.051277,
      0.047642,
      -0.045736,
      0.017673,
      0.054509,
      0.009879,
      -0.001795,
      -0.01802,
      -0.02579,
      0.048539,
      -0.021378,
      0.031176,
      0.024279,
      -0.009763,
      0.036603,
      0.001453,
      -0.033403,
      -0.041421,
      0.06925,
      0.012767,
      -0.021653,
      -0.011847,
      0.037925,
      -0.041751,
      -0.054251,
      -0.02042,
      0.00287,
      0.026043,
      -0.016024,
      0.001604,
      0.024479,
      0.009827,
      0.015368,
      -0.050862,
      -0.007209,
      0.03275,
      -0.030279,
      -0.016099,
      -0.040516,
      0.016414,
      -0.062009,
      0.057309,
      -0.0219,
      0.030655,
      0.002763,
      -0.013064,
      0.01355,
      0.032561,
      0.00504,
      0.044029,
      -0.006753,
      0.016895,
      0.020505,
      0.055386,
      0.014161,
      -0.003046,
      0.002553,
      0.01948,
      0.001678,
      0.009667,
      -0.061112,
      0.00803,
      0.012009,
      -0.03064,
      0.011861,
      0.029626,
      -0.025984,
      -0.053579,
      0.008459,
      0.023052,
      -0.017058,
      0.020326,
      0.023681,
      0.045506,
      -0.011846,
      -0.000199,
      -0.000391,
      -0.001267,
      0.004815,
      -0.036196,
      -0.015805,
      0.013084,
      -0.043498,
      -0.027633,
      0.031565,
      0.047067,
      0.025696,
      0.002529,
      -0.055018,
      0.025571,
      -0.051571,
      -0.019647,
      0.023183,
      -0.046961,
      -0.011214,
      -0.003357,
      0.058697,
      0.033019,
      0.035048,
      0.014466,
      0.012864,
      0.031467,
      -0.009733,
      0.037391,
      -0.026852,
      0.064554,
      -0.021752,
      -0.065539,
      0.066485,
      -0.01421,
      -0.07624,
      -0.008714,
      0.012859,
      0.008427,
      -0.010094,
      0.020502,
      -0.029825,
      -0.022075,
      -0.019477,
      0.010806,
      0.006331,
      -0.029418,
      -0.028923,
      -0.005522,
      -0.002816,
      -0.007241,
      0.09542,
      0.018758,
      -0.003373,
      0.020849,
      0.003182,
      -0.021227,
      0.025483,
      -0.007663,
      0.029439,
      -0.024497,
      -0.005899,
      -0.041669,
      -0.035492,
      -0.007047,
      0.019111,
      -0.034684,
      -0.00023,
      0.002068,
      -0.029394,
      0.019576,
      -0.003888,
      -0.021166,
      0.001428,
      0.008649,
      -0.001035,
      0.072949,
      0.035336,
      -0.040165,
      0.007485,
      -0.027202,
      -0.016641,
      0.034021,
      -0.048005,
      -0.006006,
      -0.010752,
      0.031245,
      -0.010294,
      0.02595,
      0.035681,
      0.003633,
      -0.054881,
      -0.038144,
      -0.037382,
      0.028835,
      0.029253,
      0.042407,
      0.06281,
      0.042052,
      -0.020609,
      -0.03926,
      -0.052426,
      -0.00455,
      0.057009,
      -0.027627,
      0.052114,
      -0.009007,
      -0.040618,
      0.03145,
      -0.005238,
      -0.026821,
      -0.002333,
      0.008437,
      -0.036683,
      -0.034822,
      0.005276,
      0.01162,
      -0.004384,
      0.018064,
      -0.001462,
      -0.048985,
      0.006548,
      0.011856,
      0.028271,
      0.016271,
      -0.017232,
      0.015267,
      -0.042026,
      -0.035531,
      -0.005554,
      -0.039459,
      -0.005378,
      -0.027518,
      -0.016705,
      0.042951,
      0.015124,
      -0.051675,
      0.014306,
      0.057106,
      0.003639,
      -0.045042,
      0.012416,
      0.023094,
      0.011328,
      -0.000644,
      0.024239,
      0.020927,
      0.008271,
      0.028302,
      -0.07005,
      0.016,
      -0.027379,
      -0.035677,
      0.013083,
      0.017377,
      0.005507,
      0.012233,
      -0.012439,
      0.003391,
      -0.01155,
      0.003863,
      0.067895,
      -0.027006,
      -0.043117,
      -0.01839,
      0.046734,
      0.028874,
      -0.036928,
      -0.067104,
      0.040172,
      0.005155,
      0.014155,
      -0.006083,
      0.019321,
      0.027454,
      -0.012197,
      0.050832,
      0.006848,
      0.015206,
      0.005298,
      -0.034896,
      -0.037769,
      -0.004744,
      0.001473,
      0.004931,
      -0.02731,
      -0.028372,
      -0.029516,
      -0.003421,
      -0.028904,
      -0.081644,
      -0.018935,
      0.027388,
      -0.012405,
      0.027237,
      0.007706,
      0.005269,
      0.032091,
      0.022703,
      0.010531,
      0.006972,
      -0.031786,
      0.070212,
      -0.025139,
      0.012674,
      -0.008144,
      -0.033779,
      -0.028362,
      -0.042851,
      0.015246,
      -0.024541,
      0.02213,
      -0.048579,
      0.000752,
      -0.012264,
      -0.00551,
      0.027122,
      0.035567,
      -0.010677,
      -0.024899,
      -0.027573,
      0.054744,
      0.000001,
      -0.035631,
      0.01359,
      -0.006046,
      0.005735,
      -0.044746,
      0.086342,
      0.030282,
      -0.03074,
      0.029568,
      -0.005473,
      0.03432,
      -0.01947,
      0.01739,
      -0.009919,
      -0.027729,
      -0.008298,
      0.039873,
      -0.015811,
      0.010916,
      -0.039858,
      -0.014242,
      -0.008922,
      0.006061,
      -0.040458,
      -0.010935,
      0.061293,
      0.045193,
      -0.007034,
      -0.036265,
      -0.027742,
      -0.058494,
      -0.102235,
      0.02561,
      -0.006393,
      0.006126,
      -0.013917,
      0.011995,
      -0.014638,
      -0.00344,
      0.017745,
      -0.024485,
      -0.018444,
      0.039094,
      0.008637,
      -0.010802,
      -0.010544,
      0.0184,
      0.00233,
      -0.005377,
      -0.019267,
      0.012735,
      -0.006612,
      -0.023223,
      0.026426,
      0.011343,
      -0.013338,
      -0.028698,
      -0.035395,
      -0.023036,
      -0.041615,
      -0.014315,
      0.06189,
      -0.018536,
      0.026865,
      0.038916,
      0.013259,
      0.02731,
      0.000004,
      0.006687,
      -0.02997,
      0.02882,
      -0.000354,
      0.015473,
      -0.042954,
      -0.012494,
      0.035958,
      0.012666,
      0.027975,
      -0.001174,
      0.00696,
      0.023317,
      0.003274,
      0.018345,
      -0.036727,
      0.029887,
      0.020358,
      -0.006495,
      -0.043248,
      -0.008992,
      -0.015598,
      0.024278,
      -0.026027,
      0.065592,
      -0.022837,
      -0.046274,
      -0.022537,
      0.026276,
      -0.045303,
      0.016702,
      0.004104,
      0.026565,
      0.006434,
      -0.017941,
      -0.007823,
      -0.013119,
      0.022632,
      -0.011121,
      0.010201,
      0.020472,
      -0.04575,
      -0.024723,
      -0.064059,
      0.024752,
      -0.025308,
      0.09233,
      0.00256,
      0.034551,
      -0.001896,
      -0.013305,
      -0.084036,
      0.017637,
      -0.017598,
      -0.017062,
      -0.017141,
      0.026691,
      0.010045,
      0.066312,
      -0.015523,
      0.012272,
      0.013538,
      0.023481,
      -0.002665,
      -0.034719,
      -0.01979,
      0.007528,
      -0.008484,
      -0.02498,
      0.028299,
      -0.025946,
      0.017768,
      -0.05927,
      0.031649,
      -0.007056,
      -0.001088,
      -0.022001,
      -0.06124,
      -0.023083,
      0.004299,
      0.001555,
      -0.012604,
      -0.026898,
      0.045545,
      -0.006436,
      0.02877,
      -0.040436,
      -0.008234,
      -0.038614,
      0.017698,
      0.059166,
      0.013393,
      0.022976,
      0.001272,
      -0.018796,
      0.018502,
      0.029122,
      0.032243,
      -0.029706,
      -0.051432,
      0.03139,
      -0.019235,
      -0.044987,
      -0.049821,
      0.015474,
      -0.009557,
      -0.041204,
      0.016207,
      -0.004329,
      -0.010136,
      -0.015922,
      -0.008629,
      -0.011726,
      -0.017768,
      0.005968,
      0.020698,
      0.024817,
      -0.003772,
      0.006189,
      -0.031049,
      0.073087,
      0.002295,
      0.019772,
      -0.03071,
      0.025005,
      -0.019762,
      -0.006014,
      -0.008958,
      -0.015771,
      -0.013146,
      -0.000716,
      0.012067,
      0.034293,
      0.019175,
      0.004479,
      -0.016502,
      -0.001159,
      0.043016,
      0.003079,
      -0.00129,
      -0.02577,
      0.032115,
      -0.005695,
      0.050904,
      0.009836,
      0.064378,
      0.043125,
      0.037889,
      0.017484,
      0.02687,
      -0.004075,
      -0.001531,
      -0.051899,
      0.011984,
      -0.011534,
      -0.034091,
      -0.004286,
      -0.000236,
      -0.018202,
      -0.013267,
      -0.000787,
      0.000803,
      0.071942,
      0.002197,
      0.002428,
      -0.007785,
      0.003141,
      -0.015444,
      -0.022442,
      0.00164,
      0.021514,
      -0.016559,
      0.039119,
      0.014053,
      -0.02497,
      -0.001054,
      0.023589,
      0.012525,
      -0.027052,
      -0.000284,
      0.016019,
      0.015077,
      0.043083,
      0.039165,
      0.016876,
      -0.01575,
      -0.014362,
      -0.001347,
      -0.033516,
      0.002432,
      -0.014073,
      0.02474,
      -0.026951,
      0.024514,
      -0.029561,
      -0.009886,
      0.044649,
      0.016175,
      0.011406,
      -0.015591,
      -0.020543,
      -0.062305,
      -0.007241,
      0.001451,
      -0.032833,
      0.028697,
      -0.003233
    ]
  },
  {
    "id": "v5-validators-0",
    "content": "# Validators\nBreadcrumb: Validators\nCovers: AJV validators | MongoDB ObjectIds\nTopics: find, schema, validators, database, mongodb, collection, http, types\n\n## AJV validators\n\nThe `src/validators.ts` file sets up two Ajv instances for data and querys (for which string types will be coerced automatically). It also sets up a collection of additional formats using [ajv-formats](https://ajv.js.org/packages/ajv-formats.html). The validators in this file can be customized according to the [Ajv documentation](https://ajv.js.org/) and [its plugins](https://ajv.js.org/packages/). You can find the available Ajv options in the [Ajs class API docs](https://ajv.js.org/options.html).\n\n```ts\nimport { Ajv, addFormats } from '@feathersjs/schema'\nimport type { FormatsPluginOptions } from '@feathersjs/schema'\n\nconst formats: FormatsPluginOptions = [\n  'date-time',\n  'time',\n  'date',\n  'email',\n  'hostname',\n  'ipv4',\n  'ipv6',\n  'uri',\n  'uri-reference',\n  'uuid',\n  'uri-template',\n  'json-pointer',\n  'relative-json-pointer',\n  'regex'\n]\n\nexport const dataValidator = addFormats(new Ajv({}), formats)\n\nexport const queryValidator = addFormats(\n  new Ajv({\n    coerceTypes: true\n  }),\n  formats\n)\n```\n\n## MongoDB ObjectIds\n\nWhen choosing MongoDB, the validators file will also register the [`objectid` keyword](../../api/databases/mongodb.md#ajv-keyword) to convert strings to MongoDB Object ids.",
    "rawContent": "## AJV validators\n\nThe `src/validators.ts` file sets up two Ajv instances for data and querys (for which string types will be coerced automatically). It also sets up a collection of additional formats using [ajv-formats](https://ajv.js.org/packages/ajv-formats.html). The validators in this file can be customized according to the [Ajv documentation](https://ajv.js.org/) and [its plugins](https://ajv.js.org/packages/). You can find the available Ajv options in the [Ajs class API docs](https://ajv.js.org/options.html).\n\n```ts\nimport { Ajv, addFormats } from '@feathersjs/schema'\nimport type { FormatsPluginOptions } from '@feathersjs/schema'\n\nconst formats: FormatsPluginOptions = [\n  'date-time',\n  'time',\n  'date',\n  'email',\n  'hostname',\n  'ipv4',\n  'ipv6',\n  'uri',\n  'uri-reference',\n  'uuid',\n  'uri-template',\n  'json-pointer',\n  'relative-json-pointer',\n  'regex'\n]\n\nexport const dataValidator = addFormats(new Ajv({}), formats)\n\nexport const queryValidator = addFormats(\n  new Ajv({\n    coerceTypes: true\n  }),\n  formats\n)\n```\n\n## MongoDB ObjectIds\n\nWhen choosing MongoDB, the validators file will also register the [`objectid` keyword](../../api/databases/mongodb.md#ajv-keyword) to convert strings to MongoDB Object ids.",
    "breadcrumb": "Validators",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/cli/validators.md",
    "heading": "Validators",
    "subHeadings": [
      "AJV validators",
      "MongoDB ObjectIds"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 309,
    "category": "cli",
    "tags": [
      "find",
      "schema",
      "validators",
      "database",
      "mongodb",
      "collection",
      "http",
      "types"
    ],
    "embedding": [
      0.007138,
      -0.020809,
      -0.019531,
      0.035712,
      -0.00493,
      -0.01545,
      0.000897,
      -0.040137,
      0.013048,
      -0.003382,
      -0.006094,
      -0.036813,
      -0.047962,
      0.002004,
      -0.029058,
      0.009636,
      -0.014482,
      -0.016142,
      0.023315,
      -0.013732,
      -0.098334,
      -0.006189,
      -0.028343,
      -0.026587,
      -0.011325,
      0.005849,
      -0.026576,
      -0.032569,
      0.013649,
      -0.001444,
      -0.005456,
      0.009242,
      0.003269,
      -0.011486,
      0.019259,
      0.017997,
      0.000547,
      0.015592,
      -0.028962,
      0.053695,
      -0.007307,
      -0.053203,
      -0.000422,
      -0.063971,
      0.014281,
      -0.012029,
      0.01859,
      -0.017043,
      0.01384,
      -0.002567,
      -0.023476,
      0.009202,
      0.074731,
      -0.013934,
      0.040299,
      0.027063,
      -0.027122,
      -0.042595,
      -0.012381,
      -0.012564,
      0.023845,
      0.010054,
      -0.055268,
      0.007604,
      -0.042079,
      0.014952,
      -0.020572,
      -0.017419,
      -0.024042,
      0.015224,
      0.006926,
      0.015207,
      -0.047716,
      0.051778,
      -0.047686,
      -0.006236,
      -0.00085,
      -0.018648,
      -0.021852,
      0.00165,
      -0.030211,
      0.015719,
      0.021311,
      -0.009586,
      0.024057,
      0.017232,
      0.008603,
      0.049662,
      0.025516,
      0.06849,
      0.003256,
      -0.024516,
      0.034234,
      -0.062099,
      -0.036939,
      -0.002925,
      -0.017623,
      -0.002632,
      0.043552,
      0.03334,
      -0.013328,
      -0.02232,
      -0.017966,
      0.012504,
      0.042763,
      -0.004541,
      0.031847,
      0.001553,
      -0.016832,
      -0.023624,
      -0.05064,
      0.01241,
      0.037167,
      -0.007273,
      -0.039579,
      -0.013353,
      -0.017372,
      0.003927,
      0.052388,
      0.012891,
      0.040897,
      -0.043361,
      0.04237,
      -0.047673,
      -0.001436,
      0.022413,
      0.032899,
      0.052207,
      0.001181,
      0.002134,
      0.035905,
      -0.000268,
      -0.008691,
      -0.018763,
      -0.047524,
      -0.028646,
      -0.004725,
      0.0629,
      -0.01721,
      -0.059576,
      0.035551,
      0.027967,
      -0.036854,
      -0.020243,
      0.060151,
      -0.048991,
      0.081437,
      -0.018739,
      0.026949,
      -0.039678,
      0.014363,
      -0.002203,
      -0.014165,
      -0.0223,
      0.022965,
      -0.028716,
      0.007036,
      0.031995,
      0.020413,
      0.01871,
      -0.026079,
      0.021404,
      -0.005206,
      0.029046,
      0.023057,
      -0.02105,
      0.034908,
      0.008758,
      0.007821,
      -0.006548,
      0.039811,
      -0.00786,
      -0.022939,
      0.006963,
      0.031502,
      0.018796,
      0.044014,
      0.022007,
      0.014154,
      -0.017503,
      0.027806,
      0.059294,
      0.005119,
      -0.03943,
      -0.028092,
      -0.0066,
      -0.041746,
      -0.026142,
      0.020813,
      0.019023,
      -0.038896,
      0.023355,
      0.029544,
      0.032785,
      0.017937,
      0.055697,
      -0.016909,
      0.029302,
      -0.057958,
      -0.009709,
      -0.022011,
      0.006683,
      -0.010404,
      -0.024781,
      -0.056463,
      -0.024666,
      -0.037035,
      -0.013049,
      0.00406,
      -0.021127,
      0.022558,
      -0.009978,
      0.00744,
      0.009393,
      -0.02194,
      -0.022157,
      -0.021411,
      -0.010184,
      -0.036845,
      0.029256,
      0.011707,
      -0.003402,
      0.050164,
      -0.013444,
      0.041732,
      -0.014132,
      0.009632,
      -0.02164,
      0.005734,
      -0.011533,
      0.008896,
      0.005269,
      -0.007927,
      -0.015225,
      0.024062,
      -0.004704,
      -0.069977,
      0.0275,
      0.046862,
      0.029359,
      -0.014945,
      0.001862,
      0.041901,
      0.024455,
      -0.015574,
      -0.018214,
      -0.023099,
      0.0165,
      -0.02905,
      -0.049783,
      0.013778,
      0.012897,
      -0.052772,
      0.010843,
      0.01026,
      0.017891,
      0.044684,
      -0.009487,
      0.030144,
      -0.017298,
      0.014761,
      0.003852,
      -0.001625,
      0.034982,
      0.018166,
      -0.006562,
      -0.016903,
      -0.039032,
      0.025565,
      -0.02806,
      -0.021053,
      -0.007784,
      0.04564,
      -0.007124,
      -0.020109,
      0.023641,
      -0.007143,
      -0.039835,
      0.115027,
      0.026799,
      -0.010904,
      0.015596,
      0.037353,
      -0.048739,
      0.033476,
      0.004268,
      0.005669,
      -0.02446,
      0.011359,
      -0.01937,
      0.02747,
      -0.044947,
      0.073077,
      -0.012886,
      -0.049968,
      -0.042576,
      -0.011472,
      -0.156212,
      -0.012815,
      -0.003442,
      0.001286,
      0.002061,
      0.039464,
      -0.047657,
      0.018547,
      -0.047725,
      0.010349,
      0.026681,
      -0.059702,
      0.036091,
      -0.029598,
      0.009835,
      -0.006207,
      0.013876,
      0.028117,
      0.031255,
      -0.022168,
      -0.03551,
      -0.094097,
      0.055247,
      0.002187,
      0.038197,
      -0.013892,
      0.06446,
      0.050945,
      0.003182,
      -0.000249,
      -0.011253,
      0.030358,
      0.011025,
      0.005219,
      -0.013651,
      0.030975,
      0.048534,
      -0.018803,
      -0.009747,
      0.006027,
      0.062429,
      0.0592,
      0.015769,
      0.015641,
      0.005777,
      -0.013777,
      0.05584,
      0.020228,
      -0.006461,
      0.017111,
      0.00789,
      0.018483,
      0.00471,
      -0.001087,
      -0.057548,
      0.017431,
      -0.048791,
      0.008146,
      0.017631,
      -0.038733,
      -0.012426,
      -0.00154,
      0.05295,
      0.008893,
      -0.035576,
      0.000164,
      0.068668,
      -0.011614,
      0.023025,
      -0.005573,
      0.041349,
      -0.045355,
      -0.035858,
      -0.021011,
      -0.005667,
      -0.02064,
      0.032027,
      -0.002251,
      -0.011045,
      -0.090176,
      0.00126,
      0.029003,
      0.015111,
      -0.001986,
      -0.033913,
      -0.035443,
      -0.021554,
      0.011133,
      -0.025976,
      0.219217,
      0.032489,
      -0.010756,
      0.025206,
      0.066987,
      -0.015228,
      0.010669,
      0.04968,
      0.038398,
      -0.011032,
      0.049516,
      0.032686,
      0.00567,
      -0.010241,
      0.020064,
      -0.017047,
      -0.028853,
      0.051991,
      0.036253,
      0.028531,
      0.078242,
      -0.049726,
      0.026563,
      0.022939,
      -0.08459,
      -0.00258,
      0.020816,
      -0.009636,
      -0.028535,
      0.002273,
      -0.017976,
      0.036297,
      0.042316,
      -0.022801,
      0.002575,
      -0.013451,
      -0.009718,
      0.018133,
      0.004209,
      0.015054,
      -0.059086,
      0.005983,
      -0.019796,
      0.02002,
      0.024758,
      0.021562,
      0.019363,
      -0.001919,
      -0.017322,
      -0.044681,
      -0.027723,
      -0.074697,
      -0.019024,
      0.005861,
      -0.020612,
      -0.019956,
      -0.004677,
      0.008782,
      -0.039171,
      0.010931,
      0.045209,
      0.028385,
      -0.077224,
      0.034939,
      0.061278,
      0.043254,
      0.009831,
      -0.013846,
      0.024329,
      0.04932,
      0.05383,
      0.039691,
      0.022245,
      -0.042163,
      0.027733,
      0.004193,
      0.003548,
      -0.002338,
      -0.013473,
      0.007834,
      0.015048,
      0.015361,
      -0.016903,
      0.014767,
      0.058764,
      -0.028223,
      -0.00898,
      -0.014125,
      -0.021842,
      0.018141,
      -0.022992,
      -0.001805,
      0.044961,
      -0.045694,
      0.029986,
      0.009732,
      0.005567,
      0.01015,
      -0.004214,
      -0.01516,
      0.02018,
      0.02413,
      -0.021196,
      -0.027273,
      0.047475,
      -0.016941,
      0.008588,
      -0.012515,
      -0.009844,
      -0.007042,
      -0.036444,
      0.003624,
      0.020141,
      -0.008045,
      0.031074,
      0.063966,
      0.012069,
      -0.02632,
      0.034907,
      0.011156,
      -0.023929,
      0.03786,
      -0.033111,
      0.012367,
      0.015101,
      -0.065213,
      -0.000079,
      0.05329,
      -0.036359,
      0.004421,
      0.02266,
      -0.025006,
      0.000972,
      0.050007,
      -0.035049,
      -0.006999,
      0.020326,
      0.037401,
      -0.033936,
      0.003653,
      -0.037201,
      -0.035523,
      0.015623,
      0.022031,
      -0.012898,
      -0.019942,
      -0.025638,
      0.008422,
      -0.01009,
      0.005004,
      0.044046,
      0.070607,
      0.012927,
      -0.035132,
      0.001433,
      -0.034315,
      -0.017189,
      0.005053,
      -0.01128,
      -0.023332,
      -0.013465,
      0.024872,
      -0.005803,
      0.037617,
      0.001543,
      0.007481,
      0.026126,
      0.019253,
      -0.041856,
      0.000046,
      -0.016638,
      -0.043908,
      -0.03802,
      0.04988,
      0.019425,
      0.015025,
      -0.062107,
      -0.010684,
      -0.019477,
      -0.087969,
      0.011805,
      0.034643,
      -0.053511,
      0.015187,
      0.017503,
      0.01753,
      -0.007573,
      -0.015819,
      0.029841,
      -0.009728,
      -0.036436,
      0.060969,
      -0.017401,
      0.002319,
      0.018616,
      0.047315,
      0.006161,
      0.019986,
      -0.025483,
      -0.00103,
      -0.017416,
      -0.04299,
      0.039128,
      0.011117,
      0.018032,
      0.028465,
      -0.068159,
      -0.041663,
      -0.013598,
      -0.025528,
      0.003983,
      -0.028217,
      -0.019871,
      0.013995,
      0.057991,
      -0.054129,
      0.063854,
      0.016815,
      0.008802,
      0.008871,
      0.004788,
      0.015711,
      0.0185,
      -0.009333,
      -0.025137,
      0.001257,
      0.000314,
      0.013661,
      0.036785,
      0.010722,
      -0.000922,
      0.039706,
      -0.009844,
      -0.031195,
      0.027498,
      0.016021,
      0.035462,
      0.034128,
      0.018492,
      -0.005039,
      0.062479,
      0.014111,
      0.00268,
      0.013777,
      -0.003849,
      0.015132,
      -0.01254,
      -0.009559,
      0.012437,
      0.052375,
      0.026916,
      -0.039215,
      0.013028,
      -0.023039,
      0.004527,
      0.042299,
      0.013202,
      -0.016232,
      -0.007171,
      -0.010353,
      -0.00759,
      0.007834,
      -0.037999,
      -0.013459,
      0.034644,
      -0.050714,
      0.016886,
      -0.048256,
      0.00262,
      -0.019418,
      -0.057156,
      0.022698,
      0.005869,
      -0.070822,
      -0.026421,
      -0.005583,
      -0.007345,
      -0.011332,
      -0.013802,
      -0.003904,
      -0.026164,
      0.029598,
      0.006332,
      0.027832,
      0.015278,
      -0.007569,
      0.001224,
      -0.034685,
      0.001674,
      -0.021978,
      0.006803,
      0.028667,
      -0.000738,
      0.019982,
      0.008692,
      -0.024276,
      -0.028024,
      0.042763,
      -0.005608,
      0.020282,
      -0.023442,
      0.007334,
      0.00239,
      0.018831,
      -0.008325,
      0.014386,
      0.023639,
      -0.008105,
      0.042501,
      0.008425,
      -0.014997,
      -0.039811,
      0.018555,
      0.015657,
      -0.015825,
      -0.035368,
      0.03434,
      -0.050398,
      0.013215,
      -0.008264,
      0.000653,
      -0.006208,
      -0.052041,
      0.053464,
      0.023366,
      -0.020008,
      -0.002009,
      -0.00316,
      -0.053318,
      -0.008273,
      -0.031712,
      -0.043692,
      -0.019796,
      -0.02145,
      0.006504,
      0.004879,
      -0.001335,
      0.009248,
      0.003772,
      -0.038187,
      -0.030471,
      -0.047765,
      0.042182,
      -0.014645,
      -0.015565,
      -0.020904,
      -0.01085,
      -0.041933,
      -0.055596,
      -0.002689,
      0.036799,
      0.005233,
      -0.015029,
      -0.042348,
      0.008744,
      0.028121,
      -0.038152,
      0.029882,
      -0.004716,
      0.022383,
      -0.000301,
      0.027113,
      -0.061607,
      -0.00207,
      0.027862,
      -0.015068,
      0.054699,
      0.008806,
      0.003929,
      -0.009286,
      -0.00345,
      0.032967,
      -0.02348,
      -0.004724,
      -0.02497,
      0.031851,
      -0.032423,
      0.031543,
      0.029413,
      0.010293,
      -0.012656,
      -0.015674,
      -0.045823,
      -0.025306,
      0.021385,
      0.011718,
      0.014664,
      0.020258,
      -0.04003,
      0.023689,
      0.012811,
      0.031843,
      0.015676,
      0.038263,
      -0.138227,
      -0.003791,
      -0.002014,
      -0.000787,
      -0.018856,
      -0.017451,
      0.009881,
      -0.05192,
      -0.015414,
      -0.028556,
      -0.062162,
      -0.029351,
      0.015185,
      -0.000947,
      0.033334,
      -0.019721,
      0.020368,
      0.020939,
      -0.027877,
      0.023539,
      -0.013118,
      -0.022055,
      0.020584,
      -0.028561,
      -0.0569,
      -0.002584,
      0.016763,
      -0.049555,
      -0.007541,
      0.003938,
      -0.017413,
      -0.018154,
      0.01579,
      0.072941,
      -0.036978,
      -0.012155,
      0.002464,
      0.009816,
      0.008707,
      0.032676,
      0.023364,
      0.006809,
      -0.007039,
      0.004592,
      0.04285,
      0.037817,
      -0.019836,
      -0.051707,
      -0.050056,
      0.002334,
      -0.002252,
      0.027636,
      -0.0164,
      0.003221,
      -0.018448,
      -0.015359,
      -0.021234,
      -0.046339,
      -0.065096,
      0.021937,
      0.035421,
      0.005059,
      -0.037913,
      -0.059355,
      -0.006257,
      0.02543,
      -0.026137,
      0.009304,
      -0.0303,
      -0.015932,
      0.008345,
      -0.016788,
      -0.0257,
      -0.022799,
      0.006046,
      -0.023026,
      0.036681,
      -0.035095,
      0.013057,
      -0.021868,
      -0.02121,
      -0.03432,
      -0.042494,
      0.076016,
      0.027421,
      -0.003386,
      0.021094,
      0.027494,
      -0.079128,
      0.005965,
      -0.017274,
      -0.053697,
      -0.001066,
      0.034887,
      0.017014,
      -0.001204,
      -0.059797,
      0.011302,
      0.015928,
      -0.020658,
      -0.016702,
      0.000903,
      0.024113,
      0.010043,
      -0.004202,
      0.020174,
      0.004878,
      -0.032575,
      0.00068,
      -0.032712,
      0.057868,
      0.016168,
      -0.019229,
      -0.012058,
      -0.050315,
      0.023613,
      -0.008692,
      -0.003227,
      -0.044438,
      -0.006656,
      0.046035,
      0.000052,
      0.028608,
      -0.016312,
      0.031945,
      -0.003485,
      0.012453,
      0.031498,
      0.019852,
      -0.061334,
      0.002379,
      -0.041993,
      -0.023546,
      0.002535,
      -0.004893,
      -0.02275,
      -0.063597,
      0.031455,
      -0.015932,
      -0.034625,
      -0.043498,
      -0.049274,
      -0.044322,
      -0.009336,
      -0.000625,
      -0.040396,
      -0.030655,
      -0.01137,
      -0.024468,
      -0.067353,
      0.006112,
      -0.05395,
      -0.018223,
      0.013141,
      -0.00839,
      0.009769,
      0.043697,
      -0.022827,
      0.005848,
      0.082681,
      -0.01821,
      -0.04744,
      0.000419,
      0.020592,
      -0.05253,
      0.005981,
      0.020576,
      0.000823,
      -0.0169,
      0.015312,
      0.00746,
      0.031466,
      0.006487,
      -0.036159,
      0.019718,
      -0.026066,
      -0.019858,
      0.027461,
      0.026002,
      -0.002381,
      0.007227,
      0.024722,
      0.020688,
      0.006407,
      0.052778,
      0.000456,
      0.016571,
      -0.05222,
      0.075615,
      -0.016674,
      -0.014517,
      0.018818,
      0.016688,
      0.045192,
      -0.016527,
      -0.038542,
      0.00128,
      -0.048132,
      -0.023209,
      0.053889,
      -0.011983,
      -0.01375,
      -0.023307,
      -0.009766,
      -0.026807,
      0.029953,
      0.027819,
      -0.052196,
      -0.011168,
      0.050388,
      -0.029991,
      0.003617,
      -0.01382,
      0.01194,
      0.015143,
      0.000527,
      0.040468,
      0.01641,
      -0.026157,
      0.000344,
      0.046112,
      0.026641,
      -0.013168,
      -0.006345,
      -0.054612,
      -0.03619,
      0.001484,
      0.015726,
      0.011133,
      0.001754,
      -0.066631,
      -0.01264,
      -0.020762,
      0.047252,
      0.030918,
      0.03957,
      0.012306,
      -0.012668,
      -0.008407,
      -0.021502,
      0.036258,
      -0.007497,
      -0.002908,
      -0.06111
    ]
  },
  {
    "id": "v5-frameworks-0",
    "content": "# Frontend Frameworks\nBreadcrumb: Frontend Frameworks\nCovers: Client Side Docs | The Feathers chat | Examples | Framework Integrations\nTopics: application, get, github, http, browser, node.js, feathers client, client, typescript, types, cli\n\n## Client Side Docs\n\nIf you want to learn how to use Feathers as a client in Node.js, React Native, or in the browser with a module loader like Webpack refer to the [client API docs](../api/client.md).\n\n## The Feathers chat\n\nThe [Feathers Chat application](../guides/) from guide gives a basic intro to using the Feathers Client in a vanilla JavaScript environment. That's a good place to start to see how things fit together. Framework specific repositories can be found at:\n\n- JavaScript + plain JS frontend: [feathersjs/feathers-chat](https://github.com/feathersjs/feathers-chat)\n- TypeScript + plain JS frontend: [feathersjs/feathers-chat-ts](https://github.com/feathersjs/feathers-chat-ts)\n- React: [feathersjs-ecosystem/feathers-chat-react](https://github.com/feathersjs-ecosystem/feathers-chat-react)\n- React Native: [feathersjs-ecosystem/feathers-react-native-chat](https://github.com/feathersjs-ecosystem/feathers-react-native-chat)\n- Angular: [feathersjs-ecosystem/feathers-chat-angular](https://github.com/feathersjs-ecosystem/feathers-chat-angular)\n- VueJS with Vuex: [feathersjs-ecosystem/feathers-chat-vuex](https://github.com/feathersjs-ecosystem/feathers-chat-vuex)\n\n## Examples\n\nBeyond the basics, see [this list](https://github.com/feathersjs/awesome-feathersjs#examples) of Feathers examples in [awesome-feathersjs](https://github.com/feathersjs/awesome-feathersjs).\n\n## Framework Integrations\n\nSee [this list](https://github.com/feathersjs/awesome-feathersjs#frontend-frameworks) of Feathers front-end framework integrations if you are looking for something that makes Feathers even easier to use with things like React, Vue or others.",
    "rawContent": "## Client Side Docs\n\nIf you want to learn how to use Feathers as a client in Node.js, React Native, or in the browser with a module loader like Webpack refer to the [client API docs](../api/client.md).\n\n## The Feathers chat\n\nThe [Feathers Chat application](../guides/) from guide gives a basic intro to using the Feathers Client in a vanilla JavaScript environment. That's a good place to start to see how things fit together. Framework specific repositories can be found at:\n\n- JavaScript + plain JS frontend: [feathersjs/feathers-chat](https://github.com/feathersjs/feathers-chat)\n- TypeScript + plain JS frontend: [feathersjs/feathers-chat-ts](https://github.com/feathersjs/feathers-chat-ts)\n- React: [feathersjs-ecosystem/feathers-chat-react](https://github.com/feathersjs-ecosystem/feathers-chat-react)\n- React Native: [feathersjs-ecosystem/feathers-react-native-chat](https://github.com/feathersjs-ecosystem/feathers-react-native-chat)\n- Angular: [feathersjs-ecosystem/feathers-chat-angular](https://github.com/feathersjs-ecosystem/feathers-chat-angular)\n- VueJS with Vuex: [feathersjs-ecosystem/feathers-chat-vuex](https://github.com/feathersjs-ecosystem/feathers-chat-vuex)\n\n## Examples\n\nBeyond the basics, see [this list](https://github.com/feathersjs/awesome-feathersjs#examples) of Feathers examples in [awesome-feathersjs](https://github.com/feathersjs/awesome-feathersjs).\n\n## Framework Integrations\n\nSee [this list](https://github.com/feathersjs/awesome-feathersjs#frontend-frameworks) of Feathers front-end framework integrations if you are looking for something that makes Feathers even easier to use with things like React, Vue or others.",
    "breadcrumb": "Frontend Frameworks",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/frameworks.md",
    "heading": "Frontend Frameworks",
    "subHeadings": [
      "Client Side Docs",
      "The Feathers chat",
      "Examples",
      "Framework Integrations"
    ],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 414,
    "category": "guides",
    "tags": [
      "application",
      "get",
      "github",
      "http",
      "browser",
      "node.js",
      "feathers client",
      "client",
      "typescript",
      "types",
      "cli"
    ],
    "embedding": [
      -0.017299,
      0.019304,
      -0.060103,
      0.002028,
      -0.004419,
      -0.030905,
      0.021229,
      0.007861,
      -0.001794,
      0.02256,
      -0.012726,
      0.002861,
      -0.03922,
      -0.000023,
      0.025428,
      0.025458,
      -0.033606,
      -0.025531,
      0.021039,
      -0.057054,
      -0.034999,
      0.014402,
      0.009994,
      -0.047859,
      0.042372,
      0.030195,
      -0.037267,
      -0.029539,
      0.004963,
      0.007665,
      0.033449,
      0.017818,
      0.013765,
      -0.003808,
      -0.025108,
      -0.024135,
      0.050874,
      0.037491,
      -0.025051,
      0.053207,
      0.002081,
      -0.008374,
      0.014314,
      -0.002413,
      0.002639,
      -0.04713,
      0.020336,
      -0.022151,
      0.002254,
      -0.003281,
      -0.064314,
      0.002708,
      0.024123,
      -0.070362,
      0.00011,
      0.005876,
      -0.047535,
      -0.030793,
      -0.093068,
      0.023479,
      -0.026414,
      0.008031,
      -0.008431,
      -0.014022,
      0.02418,
      0.043977,
      -0.057553,
      -0.007382,
      -0.028258,
      -0.03322,
      0.007046,
      -0.040603,
      -0.026706,
      -0.026747,
      -0.03474,
      -0.00772,
      -0.010579,
      -0.005123,
      -0.039177,
      0.032228,
      -0.009174,
      -0.008805,
      0.026071,
      0.005653,
      -0.016788,
      -0.027361,
      -0.022687,
      0.06332,
      0.065465,
      0.008658,
      -0.011968,
      -0.014207,
      0.061276,
      -0.042727,
      -0.019558,
      0.03008,
      -0.007243,
      0.020071,
      0.059993,
      0.026499,
      -0.020942,
      0.007153,
      -0.027098,
      -0.026948,
      0.031371,
      0.030955,
      0.054204,
      0.024775,
      -0.004815,
      -0.029553,
      0.023303,
      -0.005003,
      -0.009937,
      0.014455,
      -0.002918,
      0.011146,
      0.025438,
      0.000715,
      -0.047074,
      -0.015139,
      -0.004512,
      0.026514,
      0.015143,
      -0.035896,
      0.010145,
      0.001564,
      -0.013233,
      0.026625,
      0.026885,
      0.024226,
      0.008809,
      -0.044834,
      -0.013322,
      0.000764,
      -0.00324,
      0.00249,
      0.027275,
      0.018146,
      0.004289,
      -0.045261,
      0.035782,
      0.042302,
      -0.022798,
      -0.030995,
      0.026581,
      -0.049293,
      0.023603,
      0.045196,
      -0.026062,
      -0.015956,
      0.021544,
      0.005741,
      0.002328,
      -0.010438,
      0.02779,
      -0.027316,
      0.020332,
      0.018398,
      0.029099,
      0.018347,
      -0.013998,
      0.035417,
      -0.035306,
      0.016879,
      0.057132,
      -0.004148,
      0.027913,
      -0.031918,
      -0.023857,
      -0.053257,
      -0.002377,
      0.006302,
      0.028033,
      -0.021135,
      0.060651,
      0.037157,
      0.048553,
      0.029798,
      0.000983,
      -0.048423,
      -0.047543,
      0.004723,
      -0.000383,
      -0.04129,
      -0.02097,
      -0.008584,
      -0.041781,
      -0.063312,
      0.001116,
      0.059714,
      -0.016377,
      -0.08115,
      0.065715,
      0.005504,
      0.016175,
      0.007241,
      0.027101,
      -0.00624,
      0.027231,
      0.011441,
      0.01786,
      0.011823,
      0.016031,
      0.048642,
      -0.010317,
      -0.029858,
      -0.039873,
      -0.061418,
      -0.000727,
      -0.069795,
      0.001478,
      -0.014009,
      0.001941,
      -0.021509,
      -0.021533,
      0.036845,
      -0.028137,
      0.025334,
      0.033187,
      -0.065818,
      0.026531,
      -0.000115,
      0.020144,
      0.023839,
      0.01355,
      -0.042345,
      0.004784,
      0.011301,
      -0.003014,
      -0.010768,
      0.001865,
      0.026076,
      0.025972,
      -0.023898,
      0.028483,
      -0.034873,
      -0.024412,
      -0.003942,
      -0.003981,
      0.013959,
      0.012388,
      -0.0675,
      0.035142,
      -0.006685,
      -0.023971,
      -0.005581,
      0.025386,
      0.017376,
      -0.010523,
      -0.012,
      -0.0246,
      0.024179,
      0.014389,
      -0.019316,
      0.015187,
      0.021608,
      0.041429,
      -0.022876,
      -0.028058,
      -0.053639,
      0.016117,
      0.034216,
      -0.010857,
      0.020258,
      0.005708,
      0.001642,
      -0.047617,
      -0.04202,
      0.014433,
      0.013836,
      -0.039196,
      0.022612,
      0.013214,
      -0.034488,
      -0.038164,
      0.023575,
      -0.01795,
      -0.012693,
      0.075453,
      0.038714,
      -0.016867,
      0.043637,
      0.042758,
      0.06265,
      0.045122,
      -0.004357,
      0.027946,
      0.004024,
      0.023961,
      0.013695,
      0.003539,
      -0.005428,
      0.059869,
      0.009708,
      -0.012421,
      -0.001624,
      0.011557,
      -0.116983,
      -0.044976,
      0.056881,
      -0.01929,
      0.020212,
      0.030095,
      -0.039157,
      -0.034837,
      -0.015678,
      0.01371,
      -0.022882,
      -0.050219,
      -0.00868,
      -0.006487,
      -0.005452,
      0.026657,
      -0.022794,
      -0.02827,
      0.022935,
      -0.036493,
      -0.034439,
      -0.00522,
      0.029008,
      -0.000882,
      0.033785,
      -0.0233,
      -0.009748,
      0.021828,
      -0.008822,
      0.005561,
      -0.001605,
      -0.047492,
      0.006631,
      0.005593,
      -0.004225,
      -0.006907,
      0.002883,
      -0.006982,
      -0.009477,
      -0.060787,
      -0.002598,
      0.045513,
      -0.011114,
      -0.022298,
      0.031455,
      -0.023786,
      0.012806,
      0.019422,
      -0.032294,
      -0.063746,
      0.046076,
      -0.019987,
      -0.005508,
      0.007748,
      -0.035582,
      -0.010159,
      0.027548,
      0.023756,
      0.055072,
      0.004932,
      -0.008741,
      0.012155,
      0.051129,
      -0.048876,
      -0.02111,
      -0.007203,
      0.012092,
      -0.003513,
      0.017457,
      -0.045092,
      0.033532,
      -0.010959,
      0.005533,
      0.004703,
      -0.004892,
      0.031107,
      0.022081,
      0.008662,
      -0.007055,
      -0.088865,
      0.010692,
      0.013575,
      0.015171,
      0.028381,
      -0.041767,
      -0.012446,
      -0.035234,
      -0.000489,
      0.040911,
      0.228096,
      0.025708,
      0.012808,
      0.000175,
      0.059216,
      -0.030929,
      0.038897,
      0.085386,
      0.020081,
      -0.029729,
      0.039578,
      0.001535,
      0.009246,
      -0.016648,
      -0.012691,
      0.023514,
      -0.029652,
      0.000388,
      0.066136,
      -0.042252,
      0.003329,
      -0.009669,
      0.022319,
      0.039775,
      -0.085562,
      -0.020421,
      0.021927,
      0.072384,
      -0.058853,
      0.026008,
      -0.003537,
      0.028775,
      0.010271,
      -0.043009,
      -0.075499,
      -0.028241,
      0.013784,
      -0.033121,
      0.003234,
      -0.003758,
      -0.026384,
      -0.028069,
      0.014647,
      0.007468,
      -0.003378,
      -0.022134,
      -0.007862,
      -0.004799,
      -0.068136,
      -0.047426,
      -0.016836,
      -0.018901,
      -0.00002,
      0.004059,
      -0.007751,
      -0.011522,
      -0.006133,
      -0.018804,
      -0.010146,
      0.017535,
      0.012452,
      0.00698,
      -0.050824,
      0.023459,
      -0.032972,
      0.011267,
      0.065779,
      -0.014506,
      0.036441,
      0.060187,
      -0.058307,
      0.019582,
      0.032244,
      -0.00914,
      -0.011021,
      0.001733,
      0.017881,
      0.032269,
      -0.043221,
      0.053338,
      -0.003723,
      0.025636,
      -0.003109,
      0.020503,
      0.018653,
      0.000404,
      0.002952,
      0.022668,
      -0.021164,
      0.00646,
      -0.00004,
      -0.050143,
      0.026577,
      0.029422,
      0.005176,
      0.025436,
      -0.002637,
      0.00022,
      -0.026799,
      -0.061038,
      0.022818,
      0.008917,
      0.018488,
      -0.051281,
      0.067359,
      -0.025165,
      0.030846,
      -0.000474,
      -0.004378,
      0.011893,
      -0.063399,
      0.027553,
      0.006622,
      -0.026751,
      -0.020311,
      0.010437,
      0.057664,
      -0.00617,
      0.02657,
      0.003263,
      0.029157,
      0.022313,
      -0.025402,
      0.035241,
      0.011546,
      -0.052472,
      -0.005,
      -0.009,
      -0.044275,
      0.054307,
      0.052132,
      -0.045435,
      -0.021951,
      0.065927,
      0.014947,
      0.009198,
      0.03115,
      0.030507,
      0.009911,
      0.019648,
      -0.030495,
      -0.032207,
      0.003719,
      0.002131,
      0.00531,
      0.080548,
      -0.018374,
      0.031175,
      0.021096,
      -0.005182,
      0.013609,
      0.034548,
      0.026138,
      -0.003538,
      0.003959,
      -0.043643,
      0.00021,
      0.027155,
      -0.014562,
      -0.024094,
      -0.055299,
      0.020478,
      0.049143,
      0.005562,
      0.025314,
      -0.010774,
      -0.014271,
      -0.000441,
      0.027677,
      -0.040854,
      -0.02473,
      -0.049133,
      -0.054657,
      0.070804,
      -0.009184,
      -0.033019,
      -0.052187,
      0.005643,
      0.03729,
      -0.046374,
      -0.010641,
      0.002974,
      -0.004082,
      -0.006535,
      0.001492,
      0.013511,
      -0.022155,
      -0.009306,
      0.001398,
      0.003673,
      -0.037488,
      0.081569,
      -0.004498,
      0.006819,
      0.051617,
      -0.048334,
      0.054808,
      0.047093,
      -0.018466,
      -0.018148,
      -0.009395,
      0.020754,
      -0.017837,
      0.023649,
      -0.010355,
      -0.023597,
      -0.018564,
      0.014076,
      -0.067782,
      0.043673,
      0.014371,
      0.029168,
      -0.037828,
      -0.018979,
      0.018909,
      -0.046999,
      0.060855,
      0.037902,
      -0.00365,
      -0.000979,
      -0.028517,
      -0.03114,
      0.005311,
      -0.04851,
      0.008467,
      -0.014585,
      0.006875,
      0.011934,
      -0.020747,
      0.026429,
      -0.007778,
      0.041578,
      -0.000755,
      -0.04444,
      0.00633,
      -0.020869,
      0.036091,
      0.018494,
      0.011636,
      -0.003396,
      0.026685,
      -0.030037,
      0.03622,
      0.048967,
      -0.027982,
      0.002297,
      0.039015,
      0.008206,
      -0.011241,
      -0.003804,
      0.016747,
      -0.027716,
      0.015107,
      0.000959,
      0.059739,
      0.014188,
      0.057872,
      -0.017734,
      -0.011949,
      -0.049147,
      -0.02337,
      -0.000268,
      0.000349,
      -0.001763,
      -0.035717,
      -0.013957,
      0.026128,
      -0.052905,
      -0.024334,
      -0.015192,
      -0.004728,
      0.001013,
      -0.022049,
      -0.026853,
      0.036783,
      0.006919,
      -0.035287,
      -0.015814,
      0.009615,
      0.013583,
      -0.058397,
      0.00237,
      0.028766,
      0.012094,
      -0.004344,
      0.045311,
      0.009536,
      -0.013637,
      -0.016894,
      -0.05836,
      0.000896,
      -0.003177,
      -0.044615,
      -0.023664,
      -0.03638,
      -0.015878,
      -0.017365,
      0.010787,
      -0.006682,
      0.016513,
      -0.01092,
      0.047275,
      0.005397,
      -0.048825,
      -0.000322,
      0.079036,
      0.002134,
      -0.072855,
      0.007893,
      -0.003987,
      -0.023873,
      -0.007889,
      0.035211,
      -0.007148,
      0.028717,
      -0.051768,
      0.038046,
      -0.017098,
      -0.036253,
      0.006708,
      0.019741,
      -0.002471,
      -0.026591,
      -0.00081,
      -0.031127,
      -0.017987,
      0.054087,
      -0.060407,
      0.001583,
      0.002748,
      -0.038986,
      -0.011933,
      -0.022284,
      -0.025667,
      -0.039472,
      0.015571,
      0.03373,
      -0.015574,
      0.025107,
      -0.00153,
      -0.036736,
      -0.013918,
      0.05933,
      -0.03638,
      0.016115,
      0.007481,
      -0.024195,
      -0.024952,
      -0.051209,
      -0.004632,
      -0.016836,
      -0.036565,
      -0.033281,
      -0.0383,
      0.007223,
      -0.031056,
      -0.045767,
      0.028303,
      -0.009839,
      0.030813,
      -0.04782,
      0.042485,
      0.005868,
      -0.013488,
      0.030692,
      0.023081,
      0.010756,
      -0.066599,
      -0.004911,
      -0.041741,
      -0.032043,
      0.046789,
      -0.00391,
      0.008907,
      -0.005876,
      0.011895,
      -0.048157,
      0.051662,
      0.009191,
      -0.009308,
      -0.02673,
      -0.026496,
      0.000017,
      0.003773,
      -0.009133,
      0.009094,
      0.021658,
      0.058653,
      0.007601,
      0.012243,
      0.011995,
      0.050338,
      -0.024764,
      -0.001325,
      -0.132853,
      0.01394,
      -0.00203,
      0.016158,
      -0.010673,
      -0.005267,
      -0.012567,
      -0.013248,
      0.037592,
      -0.019918,
      -0.01955,
      -0.01228,
      0.014781,
      -0.039911,
      0.026339,
      0.006839,
      -0.003392,
      -0.010796,
      0.015242,
      -0.025984,
      0.018024,
      0.013969,
      0.057226,
      -0.032094,
      0.029526,
      0.00717,
      -0.039858,
      0.005162,
      -0.007722,
      0.05154,
      0.015403,
      -0.050663,
      0.000889,
      0.01483,
      -0.035165,
      0.021754,
      -0.017408,
      0.00435,
      -0.000932,
      0.040156,
      -0.002121,
      0.015282,
      -0.045654,
      0.046277,
      0.024485,
      0.043117,
      -0.025572,
      -0.033725,
      -0.03832,
      0.004504,
      -0.011913,
      0.024894,
      0.003817,
      0.060631,
      0.000279,
      -0.017312,
      -0.047652,
      -0.014082,
      -0.089179,
      0.043741,
      -0.039626,
      0.045457,
      -0.013153,
      -0.022103,
      -0.041202,
      0.007775,
      -0.021381,
      0.044755,
      -0.002565,
      -0.007187,
      -0.008703,
      -0.048606,
      -0.033366,
      0.012088,
      0.03479,
      0.000763,
      -0.007441,
      -0.008514,
      -0.036756,
      0.022572,
      -0.023423,
      0.012651,
      -0.050646,
      0.05962,
      0.067953,
      0.034802,
      -0.002155,
      0.008072,
      -0.009837,
      -0.022928,
      -0.040812,
      -0.034651,
      -0.026934,
      0.031097,
      0.015794,
      0.020459,
      0.018836,
      -0.00876,
      -0.010116,
      0.004399,
      -0.060977,
      -0.007458,
      0.008336,
      -0.043575,
      -0.00924,
      0.032865,
      0.032771,
      0.025093,
      -0.014008,
      0.013216,
      0.020867,
      -0.002733,
      0.003416,
      0.003308,
      -0.102683,
      -0.005105,
      -0.000294,
      0.027771,
      -0.029511,
      -0.009225,
      -0.000168,
      0.059396,
      -0.00101,
      -0.044477,
      0.035841,
      -0.004699,
      0.040372,
      -0.00186,
      0.02179,
      0.007949,
      0.008457,
      -0.030943,
      -0.009991,
      0.019523,
      0.040204,
      0.01898,
      -0.055322,
      0.04506,
      -0.026293,
      -0.004926,
      -0.053007,
      0.004987,
      -0.010329,
      -0.007096,
      -0.032128,
      0.005797,
      0.005061,
      0.021858,
      -0.026297,
      0.004224,
      -0.016481,
      0.009404,
      -0.019771,
      0.032196,
      -0.027999,
      0.039023,
      0.01131,
      -0.01829,
      -0.046431,
      0.047013,
      0.001208,
      -0.034087,
      0.020435,
      0.034417,
      -0.011924,
      -0.017994,
      -0.007975,
      -0.004554,
      0.005141,
      0.006265,
      -0.019049,
      0.063644,
      -0.006082,
      -0.035734,
      0.007068,
      0.012424,
      0.019936,
      -0.009418,
      0.022048,
      -0.002322,
      0.030556,
      0.003802,
      0.039987,
      0.002745,
      0.050259,
      0.028068,
      -0.032847,
      -0.017422,
      0.010089,
      0.028733,
      -0.029767,
      -0.015844,
      0.022847,
      0.024608,
      -0.002555,
      -0.005586,
      -0.003248,
      -0.045865,
      0.031358,
      0.076797,
      0.01251,
      -0.019414,
      0.001871,
      0.010397,
      -0.009743,
      0.020467,
      -0.056788,
      -0.057909,
      0.020318,
      0.038699,
      0.016543,
      0.000365,
      -0.016876,
      0.013635,
      0.019292,
      -0.023828,
      -0.000937,
      0.013095,
      -0.039515,
      -0.036564,
      0.026371,
      0.024479,
      -0.013803,
      -0.0414,
      -0.069208,
      -0.00586,
      0.010284,
      -0.028081,
      -0.009953,
      0.00009,
      -0.029979,
      -0.028214,
      -0.004455,
      0.006798,
      0.034319,
      -0.010108,
      0.009731,
      0.02743,
      -0.02267,
      -0.015528,
      0.022723,
      -0.002292,
      -0.018527,
      0.014774
    ]
  },
  {
    "id": "v5-javascript-0",
    "content": "# JavaScript web app\nBreadcrumb: JavaScript web app\nCovers: Set up the page | Connect to the API | Base HTML | Displaying pages | Login and signup | Event listeners and real-time | Using the chat application\nTopics: hooks, application, find, get, create, update, remove, authentication, jwt, oauth, github, collection, real-time, websockets, events, socket.io, http, browser, feathers client, client, cli, test, login, users\n\n## Set up the page\n\nFirst, let's update `public/index.html` to initialize everything we need for the chat frontend:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <title>feathers-chat</title>\n    <meta name=\"description\" content=\"A Feathers chat application\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <link\n      href=\"https://cdn.jsdelivr.net/npm/tailwindcss@2.2/dist/tailwind.min.css\"\n      rel=\"stylesheet\"\n      type=\"text/css\"\n    />\n    <link href=\"https://cdn.jsdelivr.net/npm/daisyui@2.18.1/dist/full.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link rel=\"stylesheet\" href=\"https://dove.feathersjs.com/feathers-chat.css\" />\n  </head>\n  <body>\n    <div id=\"app\" data-theme=\"dracula\"></div>\n    <script src=\"https://unpkg.com/@feathersjs/client@^5.0.0-pre.34/dist/feathers.js\"></script>\n    <script src=\"/socket.io/socket.io.js\"></script>\n    <script type=\"module\" src=\"client.js\"></script>\n  </body>\n</html>\n```\n\nThis will load our chat CSS style, add a container div `#app` and load several libraries:\n\n- The browser version of Feathers (since we are not using a module loader like Webpack or Browserify)\n- Socket.io provided by the chat API\n- [daisyUI](https://daisyui.com/) for a collection of CSS components\n- A `client.js` for our code to live in\n\nLetâ€™s create `public/client.js` where all the following code will live. Each of the following code samples should be added to the end of that file.\n\n## Connect to the API\n\nWeâ€™ll start with the most important thing first, the connection to our Feathers API that connects to our server using websockets and initializes the [authentication client](../basics/authentication.md):\n\n```js\n/* global io, feathers, moment */\n// Establish a Socket.io connection\nconst socket = io()\n// Initialize our Feathers client application through Socket.io\n// with hooks and authentication.\nconst client = feathers()\n\nclient.configure(feathers.socketio(socket))\n// Use localStorage to store our login token\nclient.configure(feathers.authentication())\n```\n\n## Base HTML\n\nNext, we have to define some static and dynamic HTML that we can insert into the page when we want to show the login page (which also doubles as the signup page) and the actual chat interface:\n\n```js\n// Login screen\nconst loginTemplate = (error) => `<div class=\"login flex min-h-screen bg-neutral justify-center items-center\">\n<div class=\"card w-full max-w-sm bg-base-100 px-4 py-8 shadow-xl\">\n  <div class=\"px-4\"><i alt=\"\" class=\"h-32 w-32 block mx-auto i-logos-feathersjs invert\"></i>\n    <h1 class=\"text-5xl font-bold text-center my-5 bg-clip-text bg-gradient-to-br\">\n      Feathers Chat\n    </h1>\n  </div>\n  <form class=\"card-body pt-2\">\n    ${\n      error\n        ? `<div class=\"alert alert-error justify-start\">\n      <i class=\"i-feather-alert-triangle\"></i>\n      <span class=\"flex-grow\">${error.message}</span>\n    </div>`\n        : ''\n    }\n    <div class=\"form-control\">\n      <label for=\"email\" class=\"label\"><span class=\"label-text\">Email</span></label>\n      <input type=\"text\" name=\"email\" placeholder=\"enter email\" class=\"input input-bordered\">\n    </div>\n    <div class=\"form-control mt-0\">\n      <label for=\"password\" class=\"label\"><span class=\"label-text\">Password</span></label>\n      <input type=\"password\" name=\"password\" placeholder=\"enter password\" class=\"input input-bordered\">\n    </div>\n    <div class=\"form-control mt-6\"><button id=\"login\" type=\"button\" class=\"btn\">Login</button></div>\n    <div class=\"form-control mt-6\"><button id=\"signup\" type=\"button\" class=\"btn\">Signup</button></div>\n    <div class=\"form-control mt-6\"><a href=\"/oauth/github\" id=\"github\" class=\"btn\">Login with GitHub</a></div>\n  </form>\n</div>\n</div>`\n\n// Main chat view\nconst chatTemplate =\n  () => `<div class=\"drawer drawer-mobile\"><input id=\"drawer-left\" type=\"checkbox\" class=\"drawer-toggle\">\n  <div class=\"drawer-content flex flex-col\">\n    <div class=\"navbar w-full\">\n      <div class=\"navbar-start\">\n        <label for=\"drawer-left\" class=\"btn btn-square btn-ghost lg:hidden drawer-button\">\n          <i class=\"i-feather-menu text-lg\"></i>\n        </label>\n      </div>\n      <div class=\"navbar-center flex flex-col\">\n        <p>Feathers Chat</p>\n        <label for=\"drawer-right\" class=\"text-xs cursor-pointer\">\n          <span class=\"online-count\">0</span> User(s)\n        </label>\n      </div>\n      <div class=\"navbar-end\">\n        <div class=\"tooltip tooltip-left\" data-tip=\"Logout\">\n        <button type=\"button\" id=\"logout\" class=\"btn btn-ghost\"><i class=\"i-feather-log-out text-lg\"></i></button>\n      </div>\n      </div>\n    </div>\n    <div id=\"chat\" class=\"h-full overflow-y-auto px-3\"></div>\n    <div class=\"form-control w-full py-2 px-3\">\n      <form class=\"input-group overflow-hidden\" id=\"send-message\">\n        <input name=\"text\" type=\"text\" placeholder=\"Compose message\" class=\"input input-bordered w-full\">\n        <button type=\"submit\" class=\"btn\">Send</button>\n      </form>\n    </div>\n  </div>\n  <div class=\"drawer-side\"><label for=\"drawer-left\" class=\"drawer-overlay\"></label>\n    <ul class=\"menu user-list compact p-2 overflow-y-auto w-60 bg-base-300 text-base-content\">\n      <li class=\"menu-title\"><span>Users</span></li>\n    </ul>\n  </div>\n</div>`\n\n// Helper to safely escape HTML\nconst escapeHTML = (str) => str.replace(/&/g, '&amp').replace(/</g, '&lt').replace(/>/g, '&gt')\n\nconst formatDate = (timestamp) =>\n  new Intl.DateTimeFormat('en-US', {\n    timeStyle: 'short',\n    dateStyle: 'medium'\n  }).format(new Date(timestamp))\n\n// Add a new user to the list\nconst addUser = (user) => {\n  const userList = document.querySelector('.user-list')\n\n  if (userList) {\n    // Add the user to the list\n    userList.innerHTML += `<li class=\"user\">\n      <a>\n        <div class=\"avatar indicator\">\n          <div class=\"w-6 rounded\"><img src=\"${user.avatar}\" alt=\"${user.email}\"></div>\n        </div><span>${user.email}</span>\n      </a>\n    </li>`\n\n    // Update the number of users\n    const userCount = document.querySelectorAll('.user-list li.user').length\n\n    document.querySelector('.online-count').innerHTML = userCount\n  }\n}\n\n// Renders a message to the page\nconst addMessage = (message) => {\n  // The user that sent this message (added by the populate-user hook)\n  const { user = {} } = message\n  const chat = document.querySelector('#chat')\n  // Escape HTML to prevent XSS attacks\n  const text = escapeHTML(message.text)\n\n  if (chat) {\n    chat.innerHTML += `<div class=\"chat chat-start py-2\">\n      <div class=\"chat-image avatar\">\n        <div class=\"w-10 rounded-full\">\n          <img src=\"${user.avatar}\" />\n        </div>\n      </div>\n      <div class=\"chat-header pb-1\">\n        ${user.email}\n        <time class=\"text-xs opacity-50\">${formatDate(message.createdAt)}</time>\n      </div>\n      <div class=\"chat-bubble\">${text}</div>\n    </div>`\n\n    // Always scroll to the bottom of our message list\n    chat.scrollTop = chat.scrollHeight - chat.clientHeight\n  }\n}\n```\n\nThis will add the following variables and functions:\n\n- `loginTemplate` - A function that returns static HTML for the login/signup page. We can also pass an error to render an additional error message\n- `chatTemplate` - Returns the HTML for the main chat page content (once a user is logged in)\n- `addUser(user)` is a function to add a new user to the user list on the left\n- `addMessage(message)` is a function to add a new message to the list. It will also make sure that we always scroll to the bottom of the message list as messages get added\n\n## Displaying pages\n\nNext, we'll add two functions to display the login and chat page, where we'll also add a list of the 25 newest chat messages and the registered users.\n\n```js\n// Show the login page\nconst showLogin = () => {\n  document.getElementById('app').innerHTML = loginTemplate()\n}\n\n// Shows the chat page\nconst showChat = async () => {\n  document.getElementById('app').innerHTML = chatTemplate()\n\n  // Find the latest 25 messages. They will come with the newest first\n  const messages = await client.service('messages').find({\n    query: {\n      $sort: { createdAt: -1 },\n      $limit: 25\n    }\n  })\n\n  // We want to show the newest message last\n  messages.data.reverse().forEach(addMessage)\n\n  // Find all users\n  const users = await client.service('users').find()\n\n  // Add each user to the list\n  users.data.forEach(addUser)\n}\n```\n\n- `showLogin(error)` will either show the content of loginTemplate or, if the login page is already showing, add an error message. This will happen when you try to log in with invalid credentials or sign up with a user that already exists.\n- `showChat()` does several things. First, we add the static chatTemplate to the page. Then we get the latest 25 messages from the messages Feathers service (this is the same as the `/messages` endpoint of our chat API) using the Feathers query syntax. Since the list will come back with the newest message first, we need to reverse the data. Then we add each message by calling our `addMessage` function so that it looks like a chat app shouldâ€Šâ€”â€Šwith old messages getting older as you scroll up. After that we get a list of all registered users to show them in the sidebar by calling addUser.\n\n## Login and signup\n\nAlright. Now we can show the login page (including an error message when something goes wrong) and if we are logged in, call the `showChat` we defined above. Weâ€™ve built out the UI, now we have to add the functionality to actually allow people to sign up, log in and also log out.\n\n```js\n// Retrieve email/password object from the login/signup page\nconst getCredentials = () => {\n  const user = {\n    email: document.querySelector('[name=\"email\"]').value,\n    password: document.querySelector('[name=\"password\"]').value\n  }\n\n  return user\n}\n\n// Log in either using the given email/password or the token from storage\nconst login = async (credentials) => {\n  try {\n    if (!credentials) {\n      // Try to authenticate using an existing token\n      await client.reAuthenticate()\n    } else {\n      // Otherwise log in with the `local` strategy using the credentials we got\n      await client.authenticate({\n        strategy: 'local',\n        ...credentials\n      })\n    }\n\n    // If successful, show the chat page\n    showChat()\n  } catch (error) {\n    // If we got an error, show the login page\n    showLogin(error)\n  }\n}\n```\n\n- `getCredentials()` gets us the values of the username (email) and password fields from the login/signup page to be used directly with Feathers authentication.\n- `login(credentials)` will either authenticate the credentials returned by getCredentials against our Feathers API using the local authentication strategy (e.g. username and password) or, if no credentials are given, try to use the JWT stored in localStorage. This will try and get the JWT from localStorage first where it is put automatically once you log in successfully so that we donâ€™t have to log in every time we visit the chat. Only if that doesnâ€™t work will it show the login page. Finally, if the login was successful it will show the chat page.\n\n## Event listeners and real-time\n\nIn the last step we will add event listeners for all buttons and functionality to send new messages and make the user and message list update in real-time.\n\n```js\nconst addEventListener = (selector, event, handler) => {\n  document.addEventListener(event, async (ev) => {\n    if (ev.target.closest(selector)) {\n      handler(ev)\n    }\n  })\n}\n\n// \"Signup and login\" button click handler\naddEventListener('#signup', 'click', async () => {\n  // For signup, create a new user and then log them in\n  const credentials = getCredentials()\n\n  // First create the user\n  await client.service('users').create(credentials)\n  // If successful log them in\n  await login(credentials)\n})\n\n// \"Login\" button click handler\naddEventListener('#login', 'click', async () => {\n  const user = getCredentials()\n\n  await login(user)\n})\n\n// \"Logout\" button click handler\naddEventListener('#logout', 'click', async () => {\n  await client.logout()\n\n  document.getElementById('app').innerHTML = loginTemplate()\n})\n\n// \"Send\" message form submission handler\naddEventListener('#send-message', 'submit', async (ev) => {\n  // This is the message text input field\n  const input = document.querySelector('[name=\"text\"]')\n\n  ev.preventDefault()\n\n  // Create a new message and then clear the input field\n  await client.service('messages').create({\n    text: input.value\n  })\n\n  input.value = ''\n})\n\n// Listen to created events and add the new message in real-time\nclient.service('messages').on('created', addMessage)\n\n// We will also see when new users get created in real-time\nclient.service('users').on('created', addUser)\n\n// Call login right away so we can show the chat window\n// If the user can already be authenticated\nlogin()\n```\n\n- `addEventListener` is a helper function that lets us add listeners to elements that get added or removed dynamically\n- We also added click event listeners for three buttons. `#login` will get the credentials and just log in with those. Clicking `#signup` will signup and log in at the same time. It will first create a new user on our API and then log in with that same user information. Finally, `#logout` will forget the JWT and then show the login page again.\n- The `#submit` button event listener gets the message text from the input field, creates a new message on the messages service and then clears out the field.\n- Next, we added two `created` event listeners. One for `messages` which calls the `addMessage` function to add the new message to the list and one for `users` which adds the user to the list via `addUser`. This is how Feathers does real-time and everything we need to do in order to get everything to update automatically.\n- To kick our application off, we call `login()` which as mentioned above will either show the chat application right away (if we signed in before and the token hasnâ€™t expired) or the login page.\n\n## Using the chat application\n\nThatâ€™s it. We now have a plain JavaScript real-time chat frontend with login and signup. This example demonstrates many of the basic principles of how you interact with a Feathers API. You can log in with the email (`hello@feathersjs.com`) and password (`supersecret`) from the user we registered in the [authentication chapter](../basics/authentication.md) or sign up and log in with a different email address.\n\nIf you run into an issue, remember you can find the complete working example at the [feathersjs/feathers-chat](https://github.com/feathersjs/feathers-chat) repository.",
    "rawContent": "## Set up the page\n\nFirst, let's update `public/index.html` to initialize everything we need for the chat frontend:\n\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <title>feathers-chat</title>\n    <meta name=\"description\" content=\"A Feathers chat application\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <link\n      href=\"https://cdn.jsdelivr.net/npm/tailwindcss@2.2/dist/tailwind.min.css\"\n      rel=\"stylesheet\"\n      type=\"text/css\"\n    />\n    <link href=\"https://cdn.jsdelivr.net/npm/daisyui@2.18.1/dist/full.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link rel=\"stylesheet\" href=\"https://dove.feathersjs.com/feathers-chat.css\" />\n  </head>\n  <body>\n    <div id=\"app\" data-theme=\"dracula\"></div>\n    <script src=\"https://unpkg.com/@feathersjs/client@^5.0.0-pre.34/dist/feathers.js\"></script>\n    <script src=\"/socket.io/socket.io.js\"></script>\n    <script type=\"module\" src=\"client.js\"></script>\n  </body>\n</html>\n```\n\nThis will load our chat CSS style, add a container div `#app` and load several libraries:\n\n- The browser version of Feathers (since we are not using a module loader like Webpack or Browserify)\n- Socket.io provided by the chat API\n- [daisyUI](https://daisyui.com/) for a collection of CSS components\n- A `client.js` for our code to live in\n\nLetâ€™s create `public/client.js` where all the following code will live. Each of the following code samples should be added to the end of that file.\n\n## Connect to the API\n\nWeâ€™ll start with the most important thing first, the connection to our Feathers API that connects to our server using websockets and initializes the [authentication client](../basics/authentication.md):\n\n```js\n/* global io, feathers, moment */\n// Establish a Socket.io connection\nconst socket = io()\n// Initialize our Feathers client application through Socket.io\n// with hooks and authentication.\nconst client = feathers()\n\nclient.configure(feathers.socketio(socket))\n// Use localStorage to store our login token\nclient.configure(feathers.authentication())\n```\n\n## Base HTML\n\nNext, we have to define some static and dynamic HTML that we can insert into the page when we want to show the login page (which also doubles as the signup page) and the actual chat interface:\n\n```js\n// Login screen\nconst loginTemplate = (error) => `<div class=\"login flex min-h-screen bg-neutral justify-center items-center\">\n<div class=\"card w-full max-w-sm bg-base-100 px-4 py-8 shadow-xl\">\n  <div class=\"px-4\"><i alt=\"\" class=\"h-32 w-32 block mx-auto i-logos-feathersjs invert\"></i>\n    <h1 class=\"text-5xl font-bold text-center my-5 bg-clip-text bg-gradient-to-br\">\n      Feathers Chat\n    </h1>\n  </div>\n  <form class=\"card-body pt-2\">\n    ${\n      error\n        ? `<div class=\"alert alert-error justify-start\">\n      <i class=\"i-feather-alert-triangle\"></i>\n      <span class=\"flex-grow\">${error.message}</span>\n    </div>`\n        : ''\n    }\n    <div class=\"form-control\">\n      <label for=\"email\" class=\"label\"><span class=\"label-text\">Email</span></label>\n      <input type=\"text\" name=\"email\" placeholder=\"enter email\" class=\"input input-bordered\">\n    </div>\n    <div class=\"form-control mt-0\">\n      <label for=\"password\" class=\"label\"><span class=\"label-text\">Password</span></label>\n      <input type=\"password\" name=\"password\" placeholder=\"enter password\" class=\"input input-bordered\">\n    </div>\n    <div class=\"form-control mt-6\"><button id=\"login\" type=\"button\" class=\"btn\">Login</button></div>\n    <div class=\"form-control mt-6\"><button id=\"signup\" type=\"button\" class=\"btn\">Signup</button></div>\n    <div class=\"form-control mt-6\"><a href=\"/oauth/github\" id=\"github\" class=\"btn\">Login with GitHub</a></div>\n  </form>\n</div>\n</div>`\n\n// Main chat view\nconst chatTemplate =\n  () => `<div class=\"drawer drawer-mobile\"><input id=\"drawer-left\" type=\"checkbox\" class=\"drawer-toggle\">\n  <div class=\"drawer-content flex flex-col\">\n    <div class=\"navbar w-full\">\n      <div class=\"navbar-start\">\n        <label for=\"drawer-left\" class=\"btn btn-square btn-ghost lg:hidden drawer-button\">\n          <i class=\"i-feather-menu text-lg\"></i>\n        </label>\n      </div>\n      <div class=\"navbar-center flex flex-col\">\n        <p>Feathers Chat</p>\n        <label for=\"drawer-right\" class=\"text-xs cursor-pointer\">\n          <span class=\"online-count\">0</span> User(s)\n        </label>\n      </div>\n      <div class=\"navbar-end\">\n        <div class=\"tooltip tooltip-left\" data-tip=\"Logout\">\n        <button type=\"button\" id=\"logout\" class=\"btn btn-ghost\"><i class=\"i-feather-log-out text-lg\"></i></button>\n      </div>\n      </div>\n    </div>\n    <div id=\"chat\" class=\"h-full overflow-y-auto px-3\"></div>\n    <div class=\"form-control w-full py-2 px-3\">\n      <form class=\"input-group overflow-hidden\" id=\"send-message\">\n        <input name=\"text\" type=\"text\" placeholder=\"Compose message\" class=\"input input-bordered w-full\">\n        <button type=\"submit\" class=\"btn\">Send</button>\n      </form>\n    </div>\n  </div>\n  <div class=\"drawer-side\"><label for=\"drawer-left\" class=\"drawer-overlay\"></label>\n    <ul class=\"menu user-list compact p-2 overflow-y-auto w-60 bg-base-300 text-base-content\">\n      <li class=\"menu-title\"><span>Users</span></li>\n    </ul>\n  </div>\n</div>`\n\n// Helper to safely escape HTML\nconst escapeHTML = (str) => str.replace(/&/g, '&amp').replace(/</g, '&lt').replace(/>/g, '&gt')\n\nconst formatDate = (timestamp) =>\n  new Intl.DateTimeFormat('en-US', {\n    timeStyle: 'short',\n    dateStyle: 'medium'\n  }).format(new Date(timestamp))\n\n// Add a new user to the list\nconst addUser = (user) => {\n  const userList = document.querySelector('.user-list')\n\n  if (userList) {\n    // Add the user to the list\n    userList.innerHTML += `<li class=\"user\">\n      <a>\n        <div class=\"avatar indicator\">\n          <div class=\"w-6 rounded\"><img src=\"${user.avatar}\" alt=\"${user.email}\"></div>\n        </div><span>${user.email}</span>\n      </a>\n    </li>`\n\n    // Update the number of users\n    const userCount = document.querySelectorAll('.user-list li.user').length\n\n    document.querySelector('.online-count').innerHTML = userCount\n  }\n}\n\n// Renders a message to the page\nconst addMessage = (message) => {\n  // The user that sent this message (added by the populate-user hook)\n  const { user = {} } = message\n  const chat = document.querySelector('#chat')\n  // Escape HTML to prevent XSS attacks\n  const text = escapeHTML(message.text)\n\n  if (chat) {\n    chat.innerHTML += `<div class=\"chat chat-start py-2\">\n      <div class=\"chat-image avatar\">\n        <div class=\"w-10 rounded-full\">\n          <img src=\"${user.avatar}\" />\n        </div>\n      </div>\n      <div class=\"chat-header pb-1\">\n        ${user.email}\n        <time class=\"text-xs opacity-50\">${formatDate(message.createdAt)}</time>\n      </div>\n      <div class=\"chat-bubble\">${text}</div>\n    </div>`\n\n    // Always scroll to the bottom of our message list\n    chat.scrollTop = chat.scrollHeight - chat.clientHeight\n  }\n}\n```\n\nThis will add the following variables and functions:\n\n- `loginTemplate` - A function that returns static HTML for the login/signup page. We can also pass an error to render an additional error message\n- `chatTemplate` - Returns the HTML for the main chat page content (once a user is logged in)\n- `addUser(user)` is a function to add a new user to the user list on the left\n- `addMessage(message)` is a function to add a new message to the list. It will also make sure that we always scroll to the bottom of the message list as messages get added\n\n## Displaying pages\n\nNext, we'll add two functions to display the login and chat page, where we'll also add a list of the 25 newest chat messages and the registered users.\n\n```js\n// Show the login page\nconst showLogin = () => {\n  document.getElementById('app').innerHTML = loginTemplate()\n}\n\n// Shows the chat page\nconst showChat = async () => {\n  document.getElementById('app').innerHTML = chatTemplate()\n\n  // Find the latest 25 messages. They will come with the newest first\n  const messages = await client.service('messages').find({\n    query: {\n      $sort: { createdAt: -1 },\n      $limit: 25\n    }\n  })\n\n  // We want to show the newest message last\n  messages.data.reverse().forEach(addMessage)\n\n  // Find all users\n  const users = await client.service('users').find()\n\n  // Add each user to the list\n  users.data.forEach(addUser)\n}\n```\n\n- `showLogin(error)` will either show the content of loginTemplate or, if the login page is already showing, add an error message. This will happen when you try to log in with invalid credentials or sign up with a user that already exists.\n- `showChat()` does several things. First, we add the static chatTemplate to the page. Then we get the latest 25 messages from the messages Feathers service (this is the same as the `/messages` endpoint of our chat API) using the Feathers query syntax. Since the list will come back with the newest message first, we need to reverse the data. Then we add each message by calling our `addMessage` function so that it looks like a chat app shouldâ€Šâ€”â€Šwith old messages getting older as you scroll up. After that we get a list of all registered users to show them in the sidebar by calling addUser.\n\n## Login and signup\n\nAlright. Now we can show the login page (including an error message when something goes wrong) and if we are logged in, call the `showChat` we defined above. Weâ€™ve built out the UI, now we have to add the functionality to actually allow people to sign up, log in and also log out.\n\n```js\n// Retrieve email/password object from the login/signup page\nconst getCredentials = () => {\n  const user = {\n    email: document.querySelector('[name=\"email\"]').value,\n    password: document.querySelector('[name=\"password\"]').value\n  }\n\n  return user\n}\n\n// Log in either using the given email/password or the token from storage\nconst login = async (credentials) => {\n  try {\n    if (!credentials) {\n      // Try to authenticate using an existing token\n      await client.reAuthenticate()\n    } else {\n      // Otherwise log in with the `local` strategy using the credentials we got\n      await client.authenticate({\n        strategy: 'local',\n        ...credentials\n      })\n    }\n\n    // If successful, show the chat page\n    showChat()\n  } catch (error) {\n    // If we got an error, show the login page\n    showLogin(error)\n  }\n}\n```\n\n- `getCredentials()` gets us the values of the username (email) and password fields from the login/signup page to be used directly with Feathers authentication.\n- `login(credentials)` will either authenticate the credentials returned by getCredentials against our Feathers API using the local authentication strategy (e.g. username and password) or, if no credentials are given, try to use the JWT stored in localStorage. This will try and get the JWT from localStorage first where it is put automatically once you log in successfully so that we donâ€™t have to log in every time we visit the chat. Only if that doesnâ€™t work will it show the login page. Finally, if the login was successful it will show the chat page.\n\n## Event listeners and real-time\n\nIn the last step we will add event listeners for all buttons and functionality to send new messages and make the user and message list update in real-time.\n\n```js\nconst addEventListener = (selector, event, handler) => {\n  document.addEventListener(event, async (ev) => {\n    if (ev.target.closest(selector)) {\n      handler(ev)\n    }\n  })\n}\n\n// \"Signup and login\" button click handler\naddEventListener('#signup', 'click', async () => {\n  // For signup, create a new user and then log them in\n  const credentials = getCredentials()\n\n  // First create the user\n  await client.service('users').create(credentials)\n  // If successful log them in\n  await login(credentials)\n})\n\n// \"Login\" button click handler\naddEventListener('#login', 'click', async () => {\n  const user = getCredentials()\n\n  await login(user)\n})\n\n// \"Logout\" button click handler\naddEventListener('#logout', 'click', async () => {\n  await client.logout()\n\n  document.getElementById('app').innerHTML = loginTemplate()\n})\n\n// \"Send\" message form submission handler\naddEventListener('#send-message', 'submit', async (ev) => {\n  // This is the message text input field\n  const input = document.querySelector('[name=\"text\"]')\n\n  ev.preventDefault()\n\n  // Create a new message and then clear the input field\n  await client.service('messages').create({\n    text: input.value\n  })\n\n  input.value = ''\n})\n\n// Listen to created events and add the new message in real-time\nclient.service('messages').on('created', addMessage)\n\n// We will also see when new users get created in real-time\nclient.service('users').on('created', addUser)\n\n// Call login right away so we can show the chat window\n// If the user can already be authenticated\nlogin()\n```\n\n- `addEventListener` is a helper function that lets us add listeners to elements that get added or removed dynamically\n- We also added click event listeners for three buttons. `#login` will get the credentials and just log in with those. Clicking `#signup` will signup and log in at the same time. It will first create a new user on our API and then log in with that same user information. Finally, `#logout` will forget the JWT and then show the login page again.\n- The `#submit` button event listener gets the message text from the input field, creates a new message on the messages service and then clears out the field.\n- Next, we added two `created` event listeners. One for `messages` which calls the `addMessage` function to add the new message to the list and one for `users` which adds the user to the list via `addUser`. This is how Feathers does real-time and everything we need to do in order to get everything to update automatically.\n- To kick our application off, we call `login()` which as mentioned above will either show the chat application right away (if we signed in before and the token hasnâ€™t expired) or the login page.\n\n## Using the chat application\n\nThatâ€™s it. We now have a plain JavaScript real-time chat frontend with login and signup. This example demonstrates many of the basic principles of how you interact with a Feathers API. You can log in with the email (`hello@feathersjs.com`) and password (`supersecret`) from the user we registered in the [authentication chapter](../basics/authentication.md) or sign up and log in with a different email address.\n\nIf you run into an issue, remember you can find the complete working example at the [feathersjs/feathers-chat](https://github.com/feathersjs/feathers-chat) repository.",
    "breadcrumb": "JavaScript web app",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/frontend/javascript.md",
    "heading": "JavaScript web app",
    "subHeadings": [
      "Set up the page",
      "Connect to the API",
      "Base HTML",
      "Displaying pages",
      "Login and signup",
      "Event listeners and real-time",
      "Using the chat application"
    ],
    "hasCode": true,
    "codeLanguages": [
      "html",
      "text",
      "js"
    ],
    "tokens": 3639,
    "category": "frontend",
    "tags": [
      "hooks",
      "application",
      "find",
      "get",
      "create",
      "update",
      "remove",
      "authentication",
      "jwt",
      "oauth",
      "github",
      "collection",
      "real-time",
      "websockets",
      "events",
      "socket.io",
      "http",
      "browser",
      "feathers client",
      "client",
      "cli",
      "test",
      "login",
      "users"
    ],
    "embedding": [
      -0.006248,
      -0.00036,
      -0.062161,
      -0.004216,
      -0.003668,
      -0.044109,
      0.019036,
      -0.00275,
      -0.002936,
      0.035043,
      -0.016498,
      -0.004927,
      -0.039037,
      0.011905,
      0.002992,
      -0.001659,
      0.001528,
      -0.005754,
      0.008299,
      -0.029896,
      -0.054349,
      0.000404,
      -0.015532,
      -0.025991,
      0.027382,
      0.020001,
      -0.023127,
      -0.040911,
      -0.002404,
      -0.005693,
      0.012837,
      0.003866,
      -0.024825,
      -0.006116,
      -0.046003,
      -0.038822,
      -0.003991,
      0.035254,
      -0.040235,
      0.026468,
      0.006193,
      -0.006802,
      -0.006604,
      0.015879,
      0.023499,
      -0.057796,
      0.01965,
      -0.003583,
      0.002122,
      -0.032037,
      -0.051275,
      -0.005166,
      0.023109,
      -0.037684,
      0.040426,
      0.012283,
      -0.02071,
      -0.033556,
      -0.069035,
      0.001004,
      -0.051344,
      0.012436,
      -0.023827,
      -0.025738,
      0.005352,
      0.039921,
      -0.011103,
      -0.000044,
      -0.023002,
      -0.016766,
      0.003302,
      -0.017503,
      -0.020147,
      0.008765,
      -0.045176,
      -0.011399,
      0.016795,
      0.022343,
      -0.030009,
      0.009223,
      -0.014737,
      -0.007175,
      0.039744,
      0.014792,
      0.008588,
      -0.016664,
      -0.009636,
      0.060574,
      0.020649,
      -0.007988,
      -0.000425,
      -0.040429,
      0.087405,
      -0.037549,
      0.003151,
      0.013031,
      0.019441,
      -0.029423,
      0.052094,
      0.027853,
      -0.013971,
      0.00287,
      -0.001822,
      -0.026013,
      0.013277,
      0.046218,
      0.035354,
      0.016878,
      0.017784,
      -0.027342,
      0.002179,
      0.016477,
      0.039112,
      0.006563,
      -0.01168,
      -0.003962,
      0.020308,
      -0.0097,
      -0.069712,
      0.001951,
      0.00753,
      0.010541,
      -0.002622,
      -0.039299,
      0.01629,
      0.008628,
      -0.014936,
      0.02295,
      0.026433,
      0.021194,
      0.029195,
      -0.057975,
      -0.009554,
      0.014083,
      -0.059542,
      0.01784,
      0.023117,
      0.012887,
      0.00469,
      -0.043426,
      0.047622,
      0.016566,
      -0.029113,
      -0.028981,
      0.032045,
      -0.059374,
      0.060625,
      0.026587,
      -0.002523,
      -0.00036,
      0.004537,
      0.012083,
      0.005126,
      -0.045729,
      0.005124,
      -0.041755,
      -0.010348,
      -0.003678,
      -0.00147,
      0.00001,
      -0.013933,
      0.034648,
      -0.061559,
      0.013796,
      0.057383,
      -0.015566,
      0.020674,
      -0.042205,
      -0.015076,
      -0.012518,
      0.005117,
      -0.025563,
      0.039331,
      0.0013,
      0.013793,
      0.032467,
      0.049432,
      0.027788,
      -0.019668,
      -0.020834,
      -0.070251,
      0.021862,
      -0.023242,
      -0.05368,
      -0.016977,
      0.006903,
      -0.028236,
      -0.052505,
      -0.019211,
      0.052219,
      -0.010743,
      -0.052083,
      0.049544,
      -0.004711,
      -0.002548,
      0.016522,
      0.014045,
      0.022439,
      0.033496,
      -0.010213,
      0.029088,
      0.004866,
      0.064569,
      0.039908,
      -0.013648,
      -0.021817,
      -0.003431,
      -0.072795,
      0.043402,
      -0.064993,
      -0.01183,
      -0.014902,
      -0.013668,
      -0.030928,
      -0.034358,
      0.049677,
      -0.025718,
      0.025324,
      0.000109,
      -0.009711,
      0.017139,
      -0.002461,
      0.027351,
      -0.014117,
      0.043346,
      -0.014996,
      0.025063,
      0.007088,
      -0.007977,
      0.012628,
      -0.013015,
      0.040267,
      0.0215,
      -0.018959,
      0.018861,
      -0.038876,
      -0.036351,
      -0.001629,
      -0.016195,
      0.014687,
      0.022901,
      -0.036241,
      0.025269,
      -0.0088,
      -0.02036,
      -0.028434,
      0.044604,
      0.021089,
      -0.021537,
      -0.005166,
      -0.034017,
      0.021329,
      -0.012122,
      -0.00887,
      0.016948,
      0.011019,
      0.025837,
      0.007194,
      -0.02266,
      -0.044158,
      -0.001647,
      0.004487,
      -0.009477,
      0.006306,
      -0.002265,
      -0.012825,
      -0.058315,
      -0.048266,
      -0.012722,
      0.006803,
      -0.024436,
      0.021123,
      0.022949,
      -0.0286,
      -0.022342,
      0.004774,
      0.025216,
      -0.043479,
      0.07905,
      0.053091,
      -0.011133,
      0.021052,
      0.031642,
      0.05996,
      0.000253,
      0.019284,
      0.025838,
      -0.000257,
      0.054916,
      -0.00434,
      -0.01327,
      0.000429,
      0.08104,
      -0.011869,
      -0.004032,
      0.018982,
      -0.010052,
      -0.166936,
      -0.039378,
      0.048545,
      0.006063,
      -0.004425,
      0.023229,
      -0.04759,
      -0.028486,
      -0.03433,
      0.039489,
      0.008826,
      -0.063317,
      -0.028169,
      -0.015249,
      0.011264,
      0.020585,
      -0.024975,
      -0.012055,
      0.001548,
      -0.053116,
      -0.031699,
      -0.029991,
      0.057417,
      0.015189,
      0.00735,
      0.013184,
      -0.00811,
      -0.022905,
      -0.046136,
      0.013117,
      0.011198,
      -0.023227,
      0.010964,
      0.016981,
      -0.014547,
      -0.011991,
      0.010699,
      0.019609,
      -0.005487,
      -0.037773,
      -0.001127,
      0.0465,
      0.017092,
      0.00109,
      0.036106,
      -0.022638,
      0.003798,
      0.015671,
      -0.022329,
      -0.040439,
      0.015409,
      -0.00702,
      0.012453,
      -0.012813,
      -0.062505,
      -0.01354,
      0.022189,
      0.034396,
      0.027322,
      -0.018429,
      -0.01184,
      -0.003202,
      0.055442,
      -0.035984,
      -0.027558,
      -0.016886,
      -0.026804,
      0.002233,
      0.020627,
      -0.047073,
      0.042099,
      -0.03358,
      0.027105,
      0.001087,
      -0.013167,
      0.01121,
      0.016794,
      -0.012114,
      -0.02681,
      -0.112739,
      0.016234,
      0.012902,
      0.013609,
      0.028764,
      -0.025347,
      -0.039125,
      -0.008186,
      0.007927,
      0.035814,
      0.252558,
      -0.017812,
      0.00133,
      -0.017458,
      0.060223,
      -0.058082,
      0.022389,
      0.06382,
      0.005031,
      -0.023016,
      0.012977,
      0.021462,
      -0.019832,
      -0.02899,
      -0.013873,
      0.028322,
      -0.028616,
      0.014267,
      0.077601,
      -0.04255,
      0.000758,
      -0.025713,
      0.023616,
      0.024022,
      -0.078744,
      -0.040962,
      0.001502,
      0.066511,
      -0.02963,
      0.029516,
      -0.020843,
      0.035289,
      0.031385,
      -0.042234,
      -0.045434,
      0.012298,
      0.022379,
      -0.035345,
      -0.028152,
      0.009083,
      -0.029524,
      -0.030288,
      0.04929,
      -0.006057,
      -0.0095,
      -0.014199,
      -0.023045,
      0.013003,
      -0.036234,
      -0.064799,
      -0.014714,
      -0.010922,
      0.007989,
      0.011431,
      -0.012649,
      -0.011446,
      -0.00422,
      -0.048375,
      -0.010209,
      0.010435,
      0.016626,
      0.00589,
      -0.061279,
      0.035963,
      -0.013502,
      0.009711,
      0.055235,
      -0.054566,
      -0.007427,
      0.036406,
      -0.067223,
      -0.002187,
      0.041533,
      -0.007326,
      -0.026427,
      -0.001691,
      0.03521,
      0.037718,
      -0.039478,
      0.064858,
      -0.009065,
      0.006134,
      -0.018278,
      0.027961,
      0.01939,
      0.022765,
      -0.028481,
      0.044651,
      -0.00169,
      -0.048355,
      -0.024202,
      0.002395,
      -0.017095,
      0.056131,
      -0.031327,
      0.032807,
      0.00583,
      -0.006556,
      -0.003738,
      -0.010109,
      0.02078,
      0.028568,
      0.017274,
      -0.012695,
      0.043442,
      -0.037979,
      0.009664,
      -0.018793,
      0.019127,
      0.010385,
      -0.053452,
      0.003913,
      0.028533,
      -0.017063,
      0.005128,
      -0.007379,
      0.037997,
      -0.012953,
      0.042083,
      0.002367,
      0.014541,
      0.020876,
      -0.011822,
      0.034226,
      0.018525,
      -0.070004,
      0.000416,
      -0.033061,
      -0.023404,
      0.084006,
      0.061189,
      -0.046845,
      0.009749,
      0.060937,
      0.026364,
      0.038571,
      0.064733,
      0.017673,
      0.037851,
      -0.000873,
      -0.026834,
      -0.068165,
      -0.010811,
      0.025499,
      -0.000103,
      0.036984,
      -0.008773,
      -0.005468,
      0.007041,
      -0.016186,
      0.040714,
      0.042975,
      0.038631,
      -0.020537,
      -0.015033,
      -0.027587,
      -0.003846,
      0.01429,
      0.00765,
      -0.020027,
      -0.03506,
      0.000446,
      0.050017,
      0.037795,
      0.01843,
      -0.028333,
      -0.004883,
      0.005695,
      0.010853,
      -0.02662,
      -0.017371,
      -0.075228,
      -0.047747,
      0.043971,
      -0.014562,
      -0.031043,
      -0.044589,
      0.010354,
      0.03441,
      -0.032588,
      0.011972,
      0.019473,
      -0.017141,
      -0.034361,
      0.007547,
      0.009754,
      0.002925,
      -0.010726,
      0.019195,
      -0.029899,
      -0.022339,
      0.096274,
      0.009452,
      -0.003016,
      0.089325,
      -0.045699,
      0.03777,
      0.036876,
      -0.002095,
      0.034557,
      0.008574,
      0.024316,
      -0.043639,
      0.006937,
      -0.022788,
      -0.050815,
      -0.016939,
      0.025878,
      -0.057426,
      0.046225,
      0.034685,
      0.021382,
      -0.03607,
      -0.008386,
      0.001474,
      -0.050235,
      0.047309,
      0.066584,
      0.018621,
      0.019249,
      -0.041383,
      -0.011891,
      0.002912,
      -0.04135,
      0.029353,
      0.004705,
      0.029956,
      -0.024821,
      -0.015198,
      0.013088,
      -0.011809,
      0.014646,
      0.010884,
      -0.031089,
      0.000287,
      -0.019136,
      0.024941,
      0.013637,
      0.039183,
      -0.017008,
      0.031611,
      0.013121,
      0.062027,
      0.051804,
      -0.019052,
      0.044356,
      0.007404,
      -0.018527,
      -0.016946,
      0.001644,
      -0.019242,
      -0.023878,
      -0.025858,
      -0.04082,
      0.031935,
      0.034278,
      0.051424,
      -0.020675,
      -0.021575,
      -0.019422,
      0.001592,
      0.017526,
      -0.011766,
      0.008041,
      -0.016393,
      -0.050065,
      0.002866,
      -0.05215,
      -0.022782,
      -0.010877,
      -0.010237,
      -0.0066,
      -0.004478,
      -0.042428,
      0.02869,
      0.005307,
      -0.010808,
      -0.01052,
      0.005879,
      0.00438,
      -0.044974,
      -0.004205,
      -0.0015,
      0.019183,
      0.022707,
      0.03289,
      0.011984,
      -0.017966,
      -0.002703,
      -0.064102,
      -0.002865,
      0.002479,
      -0.010775,
      0.021388,
      -0.001268,
      -0.022808,
      -0.022817,
      0.014832,
      0.006925,
      0.034974,
      -0.004294,
      0.02841,
      0.008518,
      -0.023532,
      -0.009111,
      0.016622,
      -0.012261,
      -0.054292,
      0.011461,
      0.02118,
      -0.021185,
      -0.029104,
      0.027404,
      0.02899,
      0.017867,
      -0.033654,
      0.058019,
      -0.044892,
      -0.020282,
      -0.001182,
      0.026289,
      -0.02729,
      -0.023957,
      0.021587,
      0.01181,
      -0.026051,
      0.032605,
      -0.040683,
      -0.035512,
      0.00583,
      -0.025037,
      -0.003805,
      -0.007134,
      -0.053133,
      -0.046898,
      -0.002215,
      0.03281,
      -0.033388,
      0.030707,
      -0.009462,
      -0.015421,
      0.045109,
      0.04465,
      -0.02432,
      0.032972,
      -0.028288,
      -0.015615,
      -0.016899,
      -0.031416,
      0.025794,
      -0.025921,
      -0.029818,
      -0.010785,
      -0.030853,
      0.026514,
      0.005365,
      -0.036004,
      0.017012,
      -0.018814,
      -0.007825,
      -0.03478,
      0.062035,
      -0.010298,
      -0.031018,
      0.004185,
      0.027471,
      0.006022,
      -0.035884,
      0.000492,
      -0.006986,
      -0.051054,
      0.043761,
      0.002391,
      0.016423,
      -0.039383,
      0.003686,
      -0.008761,
      0.051868,
      0.024159,
      -0.006273,
      -0.028362,
      -0.040106,
      -0.037133,
      -0.003757,
      -0.020488,
      0.005573,
      0.011628,
      0.031596,
      0.02857,
      0.01042,
      0.005126,
      0.012627,
      -0.006269,
      0.005517,
      -0.143382,
      0.061034,
      -0.03163,
      -0.004082,
      0.000011,
      0.004295,
      -0.02475,
      -0.010723,
      0.032136,
      -0.00215,
      -0.017037,
      -0.003432,
      0.021274,
      -0.03832,
      0.013448,
      0.036819,
      0.006505,
      -0.015068,
      0.009939,
      -0.032986,
      -0.00284,
      -0.007943,
      0.016573,
      -0.031703,
      0.015555,
      0.001776,
      -0.011305,
      0.020581,
      -0.013004,
      0.018548,
      -0.000891,
      -0.009976,
      0.001426,
      0.00311,
      -0.006351,
      0.01758,
      -0.012496,
      0.005526,
      -0.005113,
      0.044925,
      -0.017944,
      0.013451,
      -0.039251,
      0.010326,
      0.036378,
      0.050724,
      -0.033548,
      -0.030594,
      -0.029151,
      0.025647,
      -0.014124,
      0.010006,
      0.016336,
      0.052527,
      -0.0183,
      0.001869,
      -0.025382,
      -0.025789,
      -0.06542,
      0.022347,
      -0.044335,
      0.040871,
      -0.046953,
      -0.015295,
      -0.017223,
      0.033686,
      -0.044374,
      0.024837,
      -0.00212,
      -0.01774,
      0.01416,
      -0.073401,
      -0.043347,
      0.033798,
      0.027593,
      -0.001944,
      0.001917,
      -0.031077,
      -0.030578,
      0.01915,
      -0.001379,
      -0.000495,
      -0.045859,
      0.087185,
      0.060288,
      0.047039,
      -0.000949,
      0.001443,
      -0.027997,
      -0.010387,
      -0.035073,
      -0.048814,
      -0.014272,
      0.046279,
      0.020365,
      0.027158,
      0.025693,
      -0.013373,
      0.004997,
      0.023165,
      -0.038671,
      0.001544,
      0.031074,
      0.005242,
      -0.051629,
      0.016692,
      0.001322,
      0.031089,
      -0.002696,
      -0.00264,
      0.008058,
      0.008619,
      -0.005641,
      0.013129,
      -0.080415,
      -0.002692,
      -0.007094,
      0.050415,
      -0.007936,
      0.001705,
      -0.001621,
      0.014129,
      -0.010072,
      -0.021977,
      0.038922,
      0.000971,
      0.036774,
      0.019897,
      0.017262,
      -0.018111,
      0.038187,
      -0.049134,
      0.008334,
      0.026917,
      0.027905,
      -0.015337,
      -0.060026,
      0.055926,
      -0.022513,
      -0.026951,
      -0.054896,
      0.006656,
      0.003648,
      -0.017502,
      -0.018768,
      -0.00207,
      0.016606,
      0.010245,
      -0.020254,
      -0.010278,
      -0.005928,
      -0.000695,
      -0.013968,
      0.021362,
      -0.000146,
      0.039547,
      0.013918,
      0.007842,
      -0.055164,
      0.054699,
      -0.006291,
      -0.008204,
      -0.016627,
      0.003132,
      -0.00088,
      0.012245,
      -0.02112,
      -0.025855,
      0.004244,
      0.015349,
      -0.02123,
      0.057141,
      -0.013074,
      -0.022123,
      0.035369,
      -0.002138,
      0.017232,
      -0.011651,
      0.02719,
      -0.007299,
      0.025772,
      0.005207,
      0.026988,
      0.004903,
      0.030499,
      0.029484,
      -0.004215,
      -0.004217,
      0.030722,
      -0.013741,
      -0.03413,
      -0.013985,
      0.032659,
      0.013794,
      -0.006654,
      -0.011995,
      -0.007657,
      -0.055636,
      0.037542,
      0.100553,
      0.013169,
      -0.001565,
      -0.009048,
      0.01184,
      -0.003063,
      -0.002764,
      -0.053172,
      -0.032934,
      0.02334,
      0.056241,
      0.002806,
      -0.014146,
      0.009518,
      -0.004468,
      0.014895,
      0.014532,
      0.020286,
      0.021452,
      -0.001141,
      -0.018444,
      0.020579,
      -0.012116,
      0.013167,
      -0.054242,
      -0.053626,
      -0.034351,
      -0.004444,
      0.004016,
      -0.017877,
      -0.017213,
      -0.039123,
      -0.04402,
      -0.002992,
      0.028549,
      0.041016,
      -0.006724,
      -0.003227,
      0.040349,
      -0.015775,
      -0.01704,
      0.051962,
      0.029109,
      0.010006,
      0.036184
    ]
  },
  {
    "id": "v5-index-0",
    "content": "# Getting started with Feathers\nBreadcrumb: Getting started with Feathers\nCovers: The Feathers guide | Follow up with | More about Feathers how and why\nTopics: hooks, services, application, get, authentication, github, real-time, http, generator, generate, test, login, users\n\n## The Feathers guide\n\nThe Feathers guide will walk you through all the important parts of Feathers. The [quick start](./basics/starting.md) gets you up and running with a Feathers API and real-time website in less than 15 minutes from scratch to give you an idea what Feathers is about.\n\nIn the next parts we will [generate an application](./basics/generator.md) and then walk through Feathers core concepts like services, hooks and authentication by building a complete real-time chat application with an API and a website that can register users and send and receive messages in real-time. We will also add a login with GitHub and write unit tests for our API.\n\n[Get started with the Feathers guide >](./basics/starting.md)\n\n## Follow up with\n\n[The API documentation >](../api/)\n\n[The cookbook for common tasks and patterns >](../cookbook/)\n\n[The Awesome FeathersJS Ecosystem >](https://github.com/feathersjs/awesome-feathersjs)\n\n[Feathers on YouTube >](https://www.youtube.com/playlist?list=PLwSdIiqnDlf_lb5y1liQK2OW5daXYgKOe)\n\n## More about Feathers how and why\n\n[Read about the philosophy behind Feathers and where it came from >](https://blog.feathersjs.com/why-we-built-the-best-web-framework-you-ve-probably-never-heard-of-until-now-176afc5c6aac)\n\n[Learn about the high level design patterns behind Feathers >](https://blog.feathersjs.com/design-patterns-for-modern-web-apis-1f046635215)\n\n[See how Feathers compares to others >](https://feathersjs.com/comparison)",
    "rawContent": "## The Feathers guide\n\nThe Feathers guide will walk you through all the important parts of Feathers. The [quick start](./basics/starting.md) gets you up and running with a Feathers API and real-time website in less than 15 minutes from scratch to give you an idea what Feathers is about.\n\nIn the next parts we will [generate an application](./basics/generator.md) and then walk through Feathers core concepts like services, hooks and authentication by building a complete real-time chat application with an API and a website that can register users and send and receive messages in real-time. We will also add a login with GitHub and write unit tests for our API.\n\n[Get started with the Feathers guide >](./basics/starting.md)\n\n## Follow up with\n\n[The API documentation >](../api/)\n\n[The cookbook for common tasks and patterns >](../cookbook/)\n\n[The Awesome FeathersJS Ecosystem >](https://github.com/feathersjs/awesome-feathersjs)\n\n[Feathers on YouTube >](https://www.youtube.com/playlist?list=PLwSdIiqnDlf_lb5y1liQK2OW5daXYgKOe)\n\n## More about Feathers how and why\n\n[Read about the philosophy behind Feathers and where it came from >](https://blog.feathersjs.com/why-we-built-the-best-web-framework-you-ve-probably-never-heard-of-until-now-176afc5c6aac)\n\n[Learn about the high level design patterns behind Feathers >](https://blog.feathersjs.com/design-patterns-for-modern-web-apis-1f046635215)\n\n[See how Feathers compares to others >](https://feathersjs.com/comparison)",
    "breadcrumb": "Getting started with Feathers",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/index.md",
    "heading": "Getting started with Feathers",
    "subHeadings": [
      "The Feathers guide",
      "Follow up with",
      "More about Feathers how and why"
    ],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 368,
    "category": "guides",
    "tags": [
      "hooks",
      "services",
      "application",
      "get",
      "authentication",
      "github",
      "real-time",
      "http",
      "generator",
      "generate",
      "test",
      "login",
      "users"
    ],
    "embedding": [
      0.005698,
      0.025847,
      -0.06849,
      -0.001772,
      -0.027401,
      -0.046511,
      -0.017898,
      0.000147,
      -0.008437,
      0.029655,
      -0.012099,
      0.007383,
      -0.033898,
      0.014235,
      -0.020735,
      0.027355,
      -0.027611,
      -0.028133,
      0.043903,
      -0.072722,
      -0.022787,
      0.01718,
      0.018231,
      -0.034032,
      0.048338,
      0.030928,
      -0.025309,
      -0.019266,
      0.026433,
      -0.016462,
      0.011074,
      0.009402,
      -0.002937,
      0.004186,
      -0.055941,
      -0.043015,
      0.005536,
      0.004993,
      -0.025878,
      0.033192,
      0.01308,
      -0.016739,
      -0.007262,
      -0.000253,
      0.02219,
      -0.055926,
      0.009609,
      0.005262,
      0.023203,
      -0.011492,
      -0.016773,
      0.023379,
      0.019437,
      -0.057615,
      0.018074,
      0.041104,
      -0.033764,
      -0.004481,
      -0.085545,
      0.010428,
      -0.038447,
      0.039903,
      -0.015013,
      0.000167,
      -0.009636,
      0.033855,
      -0.028043,
      -0.014031,
      -0.025531,
      -0.038519,
      -0.00059,
      -0.007424,
      0.006917,
      -0.011454,
      -0.034201,
      0.00123,
      -0.00641,
      -0.0077,
      -0.028684,
      0.031403,
      -0.016076,
      -0.010954,
      0.010158,
      -0.003113,
      -0.003015,
      -0.037732,
      -0.054506,
      0.05653,
      0.042318,
      0.018473,
      0.001837,
      -0.009949,
      0.062154,
      -0.036552,
      -0.01395,
      -0.002429,
      -0.004618,
      0.011959,
      0.049858,
      0.013222,
      -0.028806,
      0.00945,
      -0.011648,
      -0.0149,
      0.039553,
      0.038615,
      0.049697,
      0.004612,
      -0.006959,
      -0.028547,
      0.026931,
      0.008508,
      -0.00253,
      0.018931,
      0.000278,
      -0.009882,
      -0.001106,
      -0.009072,
      -0.043394,
      -0.011984,
      0.002495,
      0.051764,
      0.031155,
      -0.050545,
      0.006143,
      -0.015248,
      -0.020608,
      0.003195,
      0.013685,
      0.044703,
      0.03664,
      -0.034194,
      0.001491,
      -0.004081,
      -0.028213,
      0.014312,
      -0.005535,
      0.013529,
      -0.024698,
      -0.00783,
      0.025103,
      0.006706,
      -0.021773,
      -0.029363,
      0.01134,
      -0.066478,
      0.011241,
      0.028334,
      -0.027391,
      0.027794,
      0.020582,
      0.01355,
      0.007314,
      -0.024447,
      0.032973,
      -0.007333,
      0.007055,
      -0.00741,
      0.014091,
      0.017235,
      0.019374,
      0.005219,
      -0.052748,
      0.009192,
      0.060201,
      -0.010691,
      0.007375,
      -0.075695,
      -0.026608,
      -0.017319,
      0.012603,
      0.008884,
      0.009661,
      0.007141,
      0.053707,
      0.036103,
      0.059181,
      0.023552,
      0.002979,
      -0.0342,
      -0.03851,
      0.022346,
      -0.038671,
      -0.071975,
      -0.04808,
      -0.00966,
      -0.020107,
      -0.035511,
      0.000929,
      0.034525,
      -0.00647,
      -0.043948,
      0.06074,
      0.001009,
      0.018879,
      0.010453,
      0.041218,
      0.038741,
      0.036437,
      -0.016845,
      0.036608,
      0.020918,
      0.045599,
      0.050417,
      -0.029713,
      -0.054579,
      -0.014319,
      -0.059214,
      0.033295,
      -0.021635,
      0.018454,
      -0.031517,
      -0.014381,
      -0.047391,
      -0.016202,
      0.039182,
      -0.0234,
      0.00419,
      0.019431,
      -0.031411,
      0.011685,
      0.007709,
      0.021538,
      -0.028687,
      0.027291,
      -0.013555,
      0.002056,
      0.014938,
      -0.009643,
      0.003734,
      0.014913,
      0.051279,
      0.037168,
      -0.036931,
      0.006232,
      -0.01429,
      -0.024379,
      0.013068,
      -0.005793,
      0.025178,
      0.014808,
      -0.035906,
      0.027489,
      -0.01345,
      -0.033355,
      -0.01945,
      0.024146,
      0.009226,
      -0.027444,
      0.003326,
      0.001834,
      0.017652,
      0.002872,
      -0.009172,
      0.003909,
      0.006568,
      0.020553,
      -0.00641,
      -0.020377,
      -0.051707,
      0.003925,
      -0.01313,
      -0.001707,
      0.005184,
      0.014658,
      0.012664,
      -0.039199,
      -0.052795,
      0.01885,
      0.033441,
      0.008261,
      0.008186,
      -0.000746,
      -0.012301,
      -0.005788,
      -0.007122,
      0.027353,
      -0.049857,
      0.071481,
      0.036749,
      -0.004051,
      0.034677,
      0.039971,
      0.07269,
      0.033582,
      0.021996,
      0.020647,
      -0.004241,
      0.02311,
      -0.020106,
      0.003412,
      -0.015983,
      0.055625,
      -0.020508,
      -0.024314,
      0.012209,
      0.000644,
      -0.14043,
      -0.022422,
      0.018247,
      0.025099,
      0.017113,
      0.016752,
      -0.054772,
      0.028386,
      -0.066642,
      0.032781,
      0.015628,
      -0.042541,
      -0.030034,
      0.014249,
      0.005589,
      0.022889,
      0.003179,
      -0.02245,
      0.001081,
      -0.046267,
      -0.02904,
      -0.017041,
      0.071838,
      0.03744,
      -0.004028,
      0.016486,
      -0.007408,
      0.014387,
      -0.026585,
      -0.006091,
      -0.034234,
      -0.012768,
      0.004212,
      0.021299,
      -0.022577,
      -0.012872,
      0.031822,
      0.017618,
      -0.027307,
      -0.014293,
      0.007732,
      0.05848,
      0.029755,
      -0.021395,
      0.029682,
      0.005544,
      0.038359,
      0.015406,
      -0.036421,
      -0.028747,
      0.040297,
      -0.021192,
      0.019455,
      -0.021373,
      -0.050636,
      -0.029734,
      0.004263,
      0.032831,
      0.023595,
      -0.019449,
      -0.036962,
      -0.009342,
      0.046912,
      -0.025933,
      -0.001844,
      -0.003849,
      -0.021846,
      0.009157,
      0.005386,
      -0.040518,
      0.038538,
      -0.047912,
      0.002387,
      -0.002867,
      -0.00084,
      0.022929,
      -0.001756,
      -0.030184,
      -0.019245,
      -0.089333,
      0.01913,
      0.018833,
      -0.006849,
      0.007195,
      -0.01205,
      -0.011425,
      -0.026268,
      0.009246,
      0.061858,
      0.244668,
      -0.015874,
      -0.012768,
      -0.000825,
      0.069351,
      -0.028903,
      -0.005918,
      0.099328,
      0.042514,
      -0.015055,
      0.051508,
      -0.01085,
      -0.010232,
      -0.020268,
      -0.014957,
      -0.002573,
      -0.03297,
      0.014115,
      0.046172,
      -0.013605,
      0.046867,
      -0.023881,
      0.066519,
      0.013976,
      -0.103779,
      -0.041645,
      -0.007926,
      0.037047,
      -0.038359,
      0.025874,
      -0.016495,
      -0.001338,
      -0.004156,
      -0.025927,
      -0.041156,
      0.001209,
      0.005475,
      -0.032753,
      -0.006598,
      0.014233,
      -0.023178,
      -0.0161,
      0.035504,
      -0.042303,
      0.001379,
      0.00891,
      0.015069,
      0.008774,
      -0.023682,
      -0.070843,
      -0.022342,
      -0.004683,
      -0.01707,
      -0.005449,
      -0.00523,
      -0.000145,
      0.01857,
      -0.029621,
      0.001868,
      0.026701,
      0.025609,
      0.017551,
      -0.053784,
      0.035527,
      -0.029952,
      -0.000859,
      0.044972,
      -0.045198,
      0.033274,
      0.016367,
      -0.034161,
      0.007225,
      0.006692,
      -0.007635,
      -0.023827,
      -0.011754,
      0.051446,
      0.044544,
      0.007907,
      0.051405,
      -0.035953,
      0.011889,
      -0.035136,
      0.029582,
      0.043667,
      0.022917,
      -0.015107,
      0.041522,
      -0.015816,
      -0.020925,
      0.007092,
      -0.012123,
      0.00457,
      0.034164,
      0.001406,
      -0.004259,
      -0.034854,
      -0.041982,
      -0.012467,
      -0.051376,
      -0.006562,
      0.029875,
      0.00444,
      -0.018908,
      0.057566,
      -0.035039,
      -0.004059,
      0.024121,
      0.00378,
      -0.014426,
      -0.021268,
      -0.01254,
      0.022175,
      -0.035905,
      0.00328,
      0.029394,
      0.092897,
      -0.000267,
      0.033814,
      -0.037389,
      0.013111,
      0.02368,
      -0.018316,
      0.039612,
      0.019516,
      -0.052856,
      0.016459,
      -0.021669,
      -0.041172,
      0.047732,
      0.031293,
      -0.046989,
      0.00735,
      0.037874,
      0.032108,
      0.025075,
      0.065746,
      -0.013556,
      -0.00539,
      -0.006592,
      -0.029192,
      -0.048963,
      -0.017365,
      -0.020236,
      0.019596,
      0.032004,
      -0.007644,
      0.020465,
      -0.016513,
      -0.026433,
      0.033091,
      0.031225,
      0.021194,
      -0.035954,
      -0.016233,
      -0.042454,
      -0.013541,
      0.05572,
      0.00572,
      -0.038259,
      -0.044512,
      0.014544,
      0.033142,
      0.046713,
      0.028243,
      -0.015995,
      0.030191,
      0.02595,
      0.018615,
      -0.042279,
      -0.043711,
      -0.047563,
      -0.024474,
      0.059384,
      0.002446,
      -0.062287,
      -0.077944,
      -0.007822,
      0.041273,
      -0.033862,
      -0.017295,
      0.026364,
      0.002164,
      0.021603,
      -0.006701,
      -0.028653,
      0.032741,
      -0.001344,
      0.018976,
      -0.018206,
      -0.036664,
      0.101028,
      0.024986,
      0.004168,
      0.046745,
      -0.03188,
      0.080006,
      0.031215,
      0.001704,
      0.009809,
      -0.031258,
      0.023985,
      -0.001181,
      -0.000798,
      -0.00791,
      -0.031591,
      0.017844,
      0.04368,
      -0.070418,
      0.052601,
      0.018751,
      -0.009265,
      -0.03101,
      -0.011908,
      -0.021397,
      -0.037535,
      0.017828,
      0.046774,
      0.004238,
      0.013466,
      -0.029875,
      -0.023334,
      -0.008611,
      -0.030146,
      0.02371,
      0.003174,
      0.029189,
      0.022716,
      -0.016998,
      0.022543,
      -0.005101,
      0.01954,
      0.012504,
      -0.051905,
      0.013914,
      -0.007312,
      0.008535,
      -0.008361,
      0.026515,
      -0.006435,
      0.01634,
      0.008894,
      0.046574,
      0.029112,
      -0.040556,
      0.03469,
      0.081739,
      -0.029917,
      -0.039162,
      0.01666,
      -0.01749,
      -0.044467,
      -0.006084,
      0.002968,
      0.02926,
      -0.019703,
      0.026639,
      -0.032991,
      -0.006656,
      -0.024232,
      -0.003687,
      0.044243,
      0.006923,
      -0.013141,
      -0.044316,
      0.0007,
      0.017516,
      -0.032387,
      -0.042958,
      0.0062,
      -0.001743,
      -0.005365,
      -0.017192,
      -0.091243,
      0.039246,
      0.013258,
      -0.04167,
      -0.012179,
      -0.005716,
      -0.039921,
      -0.058085,
      0.004259,
      0.029818,
      0.014752,
      -0.000886,
      0.024825,
      0.011347,
      0.001138,
      0.004085,
      -0.053248,
      -0.001924,
      0.012459,
      -0.043278,
      0.014193,
      -0.028837,
      -0.008779,
      -0.044578,
      0.026295,
      -0.02252,
      -0.009701,
      -0.016853,
      0.012754,
      0.014139,
      -0.024628,
      0.014619,
      0.052077,
      0.009166,
      -0.066686,
      0.042761,
      0.010714,
      0.01318,
      -0.011807,
      0.0035,
      0.01101,
      0.035668,
      -0.01827,
      0.040735,
      -0.018998,
      -0.001264,
      -0.013539,
      0.023158,
      -0.000195,
      -0.030898,
      0.024415,
      -0.036761,
      -0.015665,
      0.029682,
      -0.025283,
      -0.027953,
      0.022017,
      -0.018045,
      -0.009135,
      -0.01613,
      -0.009284,
      -0.031169,
      -0.038719,
      0.040789,
      -0.028182,
      0.039419,
      -0.027991,
      -0.003062,
      0.018805,
      0.043234,
      -0.032503,
      0.047535,
      -0.014621,
      -0.002941,
      0.003175,
      -0.04101,
      0.027877,
      -0.011531,
      0.000529,
      -0.004744,
      -0.046602,
      0.033501,
      0.004301,
      -0.070861,
      -0.007057,
      0.024902,
      -0.011668,
      -0.021686,
      0.053443,
      0.005829,
      -0.010972,
      0.010451,
      0.02327,
      0.030059,
      -0.059469,
      -0.007408,
      -0.046463,
      -0.023219,
      0.023692,
      0.015785,
      -0.014287,
      -0.024112,
      0.02761,
      -0.016337,
      0.036272,
      0.007929,
      -0.002459,
      -0.031168,
      -0.009778,
      0.002749,
      -0.029301,
      -0.018779,
      -0.040009,
      0.009859,
      0.036914,
      0.032494,
      -0.0013,
      -0.020372,
      0.021789,
      -0.041372,
      -0.005291,
      -0.133097,
      0.031968,
      0.006507,
      -0.01738,
      -0.013253,
      0.001267,
      -0.020923,
      -0.024203,
      0.015956,
      -0.018214,
      -0.010779,
      0.038483,
      0.012945,
      -0.038329,
      -0.002742,
      -0.001104,
      -0.012291,
      0.021268,
      0.027874,
      -0.025163,
      0.014284,
      -0.001059,
      0.025519,
      -0.010062,
      -0.02475,
      0.003484,
      0.008924,
      0.002283,
      -0.009297,
      0.058265,
      -0.033702,
      -0.04532,
      -0.017774,
      0.019697,
      0.00812,
      0.011785,
      0.003146,
      -0.01115,
      0.003914,
      0.043945,
      -0.008704,
      0.022912,
      -0.039037,
      0.055663,
      0.002906,
      0.081576,
      -0.027402,
      -0.03968,
      -0.024538,
      0.0006,
      -0.011503,
      -0.002657,
      0.045821,
      0.073881,
      -0.010392,
      -0.010021,
      -0.066797,
      -0.032766,
      -0.056602,
      0.041732,
      -0.025441,
      0.017745,
      -0.039345,
      0.014804,
      -0.025309,
      0.023084,
      -0.01847,
      0.03039,
      0.01009,
      0.008722,
      0.009579,
      -0.016413,
      -0.08543,
      0.020294,
      0.019407,
      -0.00447,
      0.001538,
      0.001279,
      -0.024312,
      0.011301,
      -0.036619,
      -0.01183,
      -0.069522,
      0.076811,
      0.061509,
      0.060853,
      0.01361,
      -0.003296,
      0.004457,
      -0.017408,
      -0.005622,
      -0.027905,
      0.018244,
      0.016282,
      -0.04523,
      0.03385,
      0.004398,
      -0.027902,
      -0.006488,
      -0.010945,
      -0.036991,
      0.015174,
      0.019752,
      -0.022946,
      -0.043643,
      0.019045,
      -0.000056,
      0.031988,
      -0.01246,
      -0.016425,
      0.024507,
      0.01299,
      0.024342,
      0.02235,
      -0.068619,
      -0.005008,
      -0.000992,
      0.006195,
      -0.022215,
      0.008608,
      -0.017945,
      0.017126,
      -0.004711,
      -0.018912,
      0.030904,
      0.025762,
      -0.000358,
      -0.00746,
      0.029736,
      -0.009822,
      -0.004055,
      -0.072638,
      0.027487,
      0.007634,
      0.048837,
      -0.042229,
      -0.035349,
      0.047477,
      -0.025449,
      -0.015655,
      -0.051542,
      -0.008315,
      -0.012851,
      -0.022475,
      0.000132,
      -0.039469,
      0.014767,
      0.022649,
      -0.020767,
      0.028651,
      -0.014382,
      -0.010396,
      -0.029902,
      0.046841,
      0.006751,
      0.044341,
      0.023832,
      0.004484,
      -0.022169,
      0.074025,
      -0.002213,
      -0.090579,
      -0.016876,
      0.004862,
      0.005989,
      -0.023845,
      0.005031,
      -0.022273,
      -0.015082,
      -0.002801,
      -0.015689,
      0.051441,
      0.000419,
      -0.024459,
      0.006976,
      0.035052,
      0.013528,
      -0.008721,
      0.037748,
      0.001917,
      0.023768,
      0.003553,
      0.022458,
      0.016143,
      0.017652,
      0.014637,
      -0.010015,
      -0.025376,
      0.012715,
      -0.001018,
      -0.020095,
      -0.001557,
      0.00207,
      0.027989,
      0.001158,
      -0.016499,
      0.014737,
      -0.032266,
      -0.001001,
      0.085756,
      0.000088,
      -0.035256,
      -0.02262,
      -0.016224,
      -0.004719,
      0.010515,
      -0.038803,
      -0.045845,
      0.022107,
      0.02268,
      0.004222,
      -0.004507,
      0.022168,
      0.006633,
      0.034874,
      0.011996,
      0.020612,
      0.015106,
      -0.036589,
      -0.062018,
      0.00049,
      0.006231,
      -0.01314,
      -0.026987,
      -0.062551,
      -0.013733,
      -0.014927,
      -0.0043,
      -0.03297,
      0.018137,
      -0.057546,
      -0.026241,
      0.009363,
      0.043579,
      0.013348,
      -0.019365,
      -0.000234,
      0.017976,
      -0.012912,
      -0.028162,
      0.055375,
      0.010272,
      0.000499,
      -0.004328
    ]
  },
  {
    "id": "v5-migrating-0",
    "content": "# Migrating to v5\nBreadcrumb: Migrating to v5\nCovers: Testing the prerelease | New Features | Core SQL and MongoDB | TypeScript | Application and hook context | Service types | Configuration types | Typed params and query | Deprecations and breaking changes | Express middleware order | Core named export | Custom Filters & Operators | Asynchronous setup | Socket.io 4 and Grant 5 | Configuration | Debugging | Client | Removed Primus Transport | Changes to WebSockets | Legacy Socket Format | Timeouts | NotFound for `app.service` | Removed `service.mixin()` | `finally` hook | Other internal changes\nTopics: hooks, services, application, context, params, provider, hook context, get, create, update, remove, setup, authentication, oauth, github, schema, resolver, database, adapter, mongodb, knex, memory, websockets, socket.io, rest, http, transport, express, middleware, bun, deno, browser, feathers client, client, configuration, environment variables, errors, typescript, types, declarations, cli, generate, testing, test, deployment, cors, migration, upgrade, migrating, logger, mixins\n\n## Testing the prerelease\n\nYou can run the following to upgrade all Feathers core packages:\n\n```\nnpx npm-check-updates --upgrade --filter /@feathersjs/\nnpm install\n```\n\nYou can see the migration steps necessary for the Feathers chat [here for Javascript](https://github.com/feathersjs/feathers-chat/compare/dove-pre) and [here for TypeScript](https://github.com/feathersjs/feathers-chat-ts/compare/dove-pre).\n\n## New Features\n\nThere are so many new features in this release that they got their own page! Read about the new features on the [What's New in v5](./whats-new.md) page.\n\n## Core SQL and MongoDB\n\nThe new [schemas and resolvers](../api/schema/index.md) cover most use cases previously provided by higher level ORMs like Sequelize or Mongoose in a more flexible and Feathers friendly way. This allows for a better database integration into Feathers without the overhead of a full ORM which is why the more low level [MongoDB](../api/databases/mongodb.md) and [Knex](../api/databases/knex.md) (SQL) database adapters have been moved into Feathers core for first-class SQL and MongoDB database support.\n\n## TypeScript\n\nYou have selected JavaScript as the language which does not have type information.\n\nThe new version comes with major improvements in TypeScript support from improved service typings, fully typed hook context and typed configuration. You can see the changes necessary in the Feathers chat [here](https://github.com/feathersjs/feathers-chat-ts/compare/dove-pre).\n\n### Application and hook context\n\nTo get the typed hook context and application configuration update your `declarations.ts` as follows:\n```ts\nimport '@feathersjs/transport-commons'\nimport { Application as ExpressFeathers } from '@feathersjs/express'\nimport { HookContext as FeathersHookContext } from '@feathersjs/feathers'\nexport interface Configuration {\n  // Put types for app.get and app.set here\n  port: number\n}\n// A mapping of service names to types. Will be extended in service files.\nexport interface ServiceTypes {}\n// The application instance type that will be used everywhere else\nexport type Application = ExpressFeathers<ServiceTypes, Configuration>\nexport type HookContext = FeathersHookContext<Application>\n```\nNow `import { HookContext } from './declarations'` can be used as the context in hooks.\n\n### Service types\n\nService types now only need the actual service class type and should no longer include the `& ServiceAddons<any>`. E.g. for the messages service like this:\n```ts\n// Add this service to the service type index\ndeclare module '../../declarations' {\n  interface ServiceTypes {\n    messages: Messages\n  }\n}\n```\n\n### Configuration types\n\nA Feathers application can now also include types for the values of `app.set` and `app.get`. The configuration can also be validated and the type inferred from a [Feathers schema](../api/schema/index.md).\n\n### Typed params and query\n\nService `Params` no longer include a catchall property type and need to be explicitly declared for services that use extended `params`. It is also possible to pass your own query type to use with `params.query`:\n```ts\nimport { Params } from '@feathersjs/feathers'\nexport type MyQuery = {\n  name: string\n}\nexport interface MyServiceParams extends Params<MyQuery> {\n  user: User\n}\n```\nYou can revert to the previous behaviour by overriding he `Params` declaration:\n```ts\ndeclare module '@feathersjs/feathers/lib/declarations' {\n  interface Params {\n    [key: string]: any\n  }\n}\n```\n\n## Deprecations and breaking changes\n\n\n\n### Express middleware order\n\nThe Express `rest` adapter now needs to be configured in the correct order, usually right after the `json()` middleware and before any services are registered. This is already the case in generated applications but it may have to be adjusted in a custom setup.\n\n### Core named export\n\nThe import of `feathers` has changed from\n\n```ts\nconst feathers = require('@feathersjs/feathers')\n\nimport feathers from '@feathersjs/feathers'\n```\n\nTo\n\n```ts\nconst { feathers } = require('@feathersjs/feathers')\n\nimport { feathers } from '@feathersjs/feathers'\n```\n\nThe Express exports for TypeScript have changed from\n\n```ts\nimport express from '@feathersjs/express'\n\napp.use(express.json())\napp.use(express.urlencoded())\napp.use(express.notFound())\napp.use(express.errorHandler())\n```\n\nTo\n\n```ts\nimport express, { json, urlencoded, notFound, errorHandler } from '@feathersjs/express'\n\napp.use(json())\napp.use(urlencoded())\napp.use(notFound())\napp.use(errorHandler())\n```\n\n### Custom Filters & Operators\n\n> **pending:**\n> \n> We are exploring the best migration strategy to replace \"whitelisting\" options with a solution based on [Feathers schema](/api/schema/index). We'll update this guide once the solution is in place.\n> \n\nThe `whitelist` option is now split into two options: `operators` and `filters`. To migrate, you need to figure out how you're using each item from your old `whitelist`, then move them to the correct option. You can determine if each one is a filter or an operator based on where it is used in a query.\n\n- `filters` are top-level query properties.\n- `operators` are positioned under an attribute.\n\nIn the below example, `$customFilter` would be a filter, `$regex` and `$options` would be operators.\n\n```ts\nconst query = {\n  $customFilter: 'value',\n  name: {\n    $regex: /pattern/,\n    $options: 'igm'\n  }\n}\n```\n\nFor v5 service adapters, split the `whitelist` options into the `filters` object or the `operators` array.\n\n```ts\n// ðŸ‘Ž`whitelist` and `allow are unsupported.\nconst oldServiceOptions = {\n  whitelist: ['$customFilter', '$ignoreCase', '$regex', '$options']\n}\n\n// ðŸ‘ Separate items into `filters` and `operators` for v5 service adapters\nconst serviceOptions = {\n  filters: {\n    // Map a custom filter to a converter function\n    $ignoreCase: (value: any) => (value === 'true' ? true : false),\n    // Enable a custom param without converting\n    $customQueryOperator: true\n  } as const,\n  operators: ['$regex', '$options']\n}\n```\n\nIf you're using TypeScript, notice the `as const` after the `filters` object in the options, above. That will keep type errors from happening when passing the `serviceOptions` to the service.\n\n<BlockQuote>\n\nThis change only affects service adapters that have been upgraded to v5, like [@feathersjs/mongodb](/api/databases/mongodb), [@feathersjs/knex](/api/databases/knex), and [@feathersjs/memory](/api/databases/memory). This also applies to any community-supported adapters which have been upgraded to v5. If you use a v4 adapter for a service in your v5 app, you do not need to make this change for that service.\n\n</BlockQuote>\n\n### Asynchronous setup\n\n`service.setup`, `app.setup` and `app.listen` return a Promise:\n\n```js\n// Before\nconst server = app.listen(3030)\n\n// Now\napp.listen(3030).then((server) => {})\n```\n\nUsually you would call `app.listen`. In case you are calling `app.setup` instead (e.g. for internal jobs or seed scripts) it is now also asynchronous:\n\n```js\n// Before\napp.setup()\n// Do something here\n\n// Now\nawait app.setup()\n// Do something here\n```\n\n### Socket.io 4 and Grant 5\n\nThe Socket.io and Grant (oAuth) dependencies have been updated to their latest versions. For more information on breaking changes see:\n\n- The Socket.io [version 3](https://socket.io/docs/v3/migrating-from-2-x-to-3-0/index.html#How-to-upgrade-an-existing-production-deployment) and [version 4](https://socket.io/docs/v3/migrating-from-3-x-to-4-0/) upgrade guide. Important points to note are a new improved [CORS policy](https://socket.io/docs/v3/migrating-from-2-x-to-3-0/index.html#CORS-handling) and an [explicit v2 client compatibility opt-in](https://socket.io/docs/v3/migrating-from-2-x-to-3-0/index.html#How-to-upgrade-an-existing-production-deployment)\n- For oAuth authentication the Grant standard configuration should continue to work as is. If you customized any other settings, see the [Grant v4 to v5 migration guide](https://github.com/simov/grant/blob/master/MIGRATION.md) for the changes necessary.\n\n### Configuration\n\nThe automatic environment variable substitution in `@feathersjs/configuration` was causing subtle and hard to debug issues. It has been removed to instead rely on the functionality already provided and battle tested by the underlying [node-config](https://github.com/lorenwest/node-config). To update your configuration:\n\n- Relative paths are no longer relative to the configuration file, but instead to where the application runs. This normally (when running from the application folder) means that paths starting with `../` and `./` have to be replaced with `./` and `./config/`.\n- Configuration through environment variables should be included via the `NODE_CONFIG` JSON string or as [Custom Environment Variable support](https://github.com/lorenwest/node-config/wiki/Environment-Variables#custom-environment-variables). To use existing environment variables add the following configuration file in `config/custom-environment-variables.json` like this:\n\n```json\n// config/custom-environment-variables.json\n{\n  \"hostname\": \"HOSTNAME\",\n  \"port\": \"PORT\",\n  \"someSetting\": {\n    \"apiKey\": \"MY_CUSTOM_API_KEY\"\n  }\n}\n```\n\n### Debugging\n\nThe `debug` module has been removed as a direct dependency. This reduces the the client bundle size and allows to support other platforms (like Deno). The original `debug` functionality can now be initialized as follows:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport debug from 'debug'\n\nfeathers.setDebug(debug)\n```\n\nIt is also possible to set a custom logger like this:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\n\nconst customDebug =\n  (name) =>\n  (...args) => {\n    console.log(name, ...args)\n  }\n\nfeathers.setDebug(customDebug)\n```\n\nSetting the debugger will apply to all `@feathersjs` modules.\n\n### Client\n\n- The `request` library has been deprecated and request support has been removed from the REST client.\n- Since all modern browsers now support built-in [fetch](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API), the Angular and jQuery REST clients have been removed as well.\n- The `@feathersjs/client` package now only comes with a full (`dist/feathers.js`) and core (`dist/core.js`) browser build. Using Feathers [with a module loader](../api/client.md#module-loaders) is recommended for all other use cases.\n\n### Removed Primus Transport\n\nDue to low usage `@feathersjs/primus` and `@feathers/primus-client` have been removed from Feathers core.\n\n### Changes to WebSockets\n\n#### Legacy Socket Format\n\nThe legacy `servicename::method` socket message format has been deprecated since Feathers 3 and has now been removed. Use a v3 or later [Feathers client](../api/client.md) or the [current Socket.io direct connection API](../api/client/socketio.md).\n\n#### Timeouts\n\nThe `timeout` setting for socket services has been removed. It was mainly intended as a fallback for the old message format and interfered with the underlying timeout and retry mechanism provided by the websocket libraries themselves.\n\n### NotFound for `app.service`\n\nBy default, when getting a non existing service via `app.service('something')` on the server, it will now throw a `NotFound` error instead of returning `undefined`. The previous behaviour can be restored by setting [app.defaultService](../api/application.md#defaultservice):\n\n```js\napp.defaultService = () => {\n  return null // undefined\n}\n```\n\n### Removed `service.mixin()`\n\nServices are no longer Uberproto (an ES5 inheritance utility) objects and instead rely on modern JavaScript classes and extension. This means `app.service(name).mixin(data)` is no longer available which can be replaced with a basic `Object.assign(app.service(name), data)`:\n\n```js\n// Before\napp.mixins.push((service, path) => {\n  service.mixin({\n    create(data, params) {\n      // do something here\n      return this._super(data, params)\n    }\n  })\n})\n\n// Now\napp.mixins.push((service, path) => {\n  const { create } = service\n\n  Object.assign(service, {\n    create(data, params) {\n      // do something here, then invoke the old method\n      // through normal JavaScript functionality\n      return create.call(this, data, params)\n    }\n  })\n})\n```\n\n### `finally` hook\n\nThe undocumented `finally` hook type is no longer available and should be replaced by the new `around` hooks which offer the same functionality using plain JavaScript:\n\n```js\napp.service('myservice').hooks([\n  async (context, next) => {\n    try {\n      await next()\n    } finally {\n      // Do finally hook stuff here\n    }\n  }\n])\n```\n\n### Other internal changes\n\n- The undocumented `service._setup` method introduced in v1 will no longer be called. It was used to circumvent middleware inconsistencies from Express 3 and is no longer necessary.\n- The undocumented `app.providers` has been removed since it provided the same functionality as [`app.mixins`](../api/application.md#mixins)\n- `app.disable`, `app.disabled`, `app.enable` and `app.enabled` have been removed from basic Feathers applications. It will still be available in an Express-compatible Feathers application. `app.get()` and `app.set()` should be used instead.\n- The `req.authentication` property is no longer set on the express requests, use `req.feathers.authentication` instead.",
    "rawContent": "## Testing the prerelease\n\nYou can run the following to upgrade all Feathers core packages:\n\n```\nnpx npm-check-updates --upgrade --filter /@feathersjs/\nnpm install\n```\n\nYou can see the migration steps necessary for the Feathers chat [here for Javascript](https://github.com/feathersjs/feathers-chat/compare/dove-pre) and [here for TypeScript](https://github.com/feathersjs/feathers-chat-ts/compare/dove-pre).\n\n## New Features\n\nThere are so many new features in this release that they got their own page! Read about the new features on the [What's New in v5](./whats-new.md) page.\n\n## Core SQL and MongoDB\n\nThe new [schemas and resolvers](../api/schema/index.md) cover most use cases previously provided by higher level ORMs like Sequelize or Mongoose in a more flexible and Feathers friendly way. This allows for a better database integration into Feathers without the overhead of a full ORM which is why the more low level [MongoDB](../api/databases/mongodb.md) and [Knex](../api/databases/knex.md) (SQL) database adapters have been moved into Feathers core for first-class SQL and MongoDB database support.\n\n## TypeScript\n\nYou have selected JavaScript as the language which does not have type information.\n\nThe new version comes with major improvements in TypeScript support from improved service typings, fully typed hook context and typed configuration. You can see the changes necessary in the Feathers chat [here](https://github.com/feathersjs/feathers-chat-ts/compare/dove-pre).\n\n### Application and hook context\n\nTo get the typed hook context and application configuration update your `declarations.ts` as follows:\n```ts\nimport '@feathersjs/transport-commons'\nimport { Application as ExpressFeathers } from '@feathersjs/express'\nimport { HookContext as FeathersHookContext } from '@feathersjs/feathers'\nexport interface Configuration {\n  // Put types for app.get and app.set here\n  port: number\n}\n// A mapping of service names to types. Will be extended in service files.\nexport interface ServiceTypes {}\n// The application instance type that will be used everywhere else\nexport type Application = ExpressFeathers<ServiceTypes, Configuration>\nexport type HookContext = FeathersHookContext<Application>\n```\nNow `import { HookContext } from './declarations'` can be used as the context in hooks.\n\n### Service types\n\nService types now only need the actual service class type and should no longer include the `& ServiceAddons<any>`. E.g. for the messages service like this:\n```ts\n// Add this service to the service type index\ndeclare module '../../declarations' {\n  interface ServiceTypes {\n    messages: Messages\n  }\n}\n```\n\n### Configuration types\n\nA Feathers application can now also include types for the values of `app.set` and `app.get`. The configuration can also be validated and the type inferred from a [Feathers schema](../api/schema/index.md).\n\n### Typed params and query\n\nService `Params` no longer include a catchall property type and need to be explicitly declared for services that use extended `params`. It is also possible to pass your own query type to use with `params.query`:\n```ts\nimport { Params } from '@feathersjs/feathers'\nexport type MyQuery = {\n  name: string\n}\nexport interface MyServiceParams extends Params<MyQuery> {\n  user: User\n}\n```\nYou can revert to the previous behaviour by overriding he `Params` declaration:\n```ts\ndeclare module '@feathersjs/feathers/lib/declarations' {\n  interface Params {\n    [key: string]: any\n  }\n}\n```\n\n## Deprecations and breaking changes\n\n\n\n### Express middleware order\n\nThe Express `rest` adapter now needs to be configured in the correct order, usually right after the `json()` middleware and before any services are registered. This is already the case in generated applications but it may have to be adjusted in a custom setup.\n\n### Core named export\n\nThe import of `feathers` has changed from\n\n```ts\nconst feathers = require('@feathersjs/feathers')\n\nimport feathers from '@feathersjs/feathers'\n```\n\nTo\n\n```ts\nconst { feathers } = require('@feathersjs/feathers')\n\nimport { feathers } from '@feathersjs/feathers'\n```\n\nThe Express exports for TypeScript have changed from\n\n```ts\nimport express from '@feathersjs/express'\n\napp.use(express.json())\napp.use(express.urlencoded())\napp.use(express.notFound())\napp.use(express.errorHandler())\n```\n\nTo\n\n```ts\nimport express, { json, urlencoded, notFound, errorHandler } from '@feathersjs/express'\n\napp.use(json())\napp.use(urlencoded())\napp.use(notFound())\napp.use(errorHandler())\n```\n\n### Custom Filters & Operators\n\n> **pending:**\n> \n> We are exploring the best migration strategy to replace \"whitelisting\" options with a solution based on [Feathers schema](/api/schema/index). We'll update this guide once the solution is in place.\n> \n\nThe `whitelist` option is now split into two options: `operators` and `filters`. To migrate, you need to figure out how you're using each item from your old `whitelist`, then move them to the correct option. You can determine if each one is a filter or an operator based on where it is used in a query.\n\n- `filters` are top-level query properties.\n- `operators` are positioned under an attribute.\n\nIn the below example, `$customFilter` would be a filter, `$regex` and `$options` would be operators.\n\n```ts\nconst query = {\n  $customFilter: 'value',\n  name: {\n    $regex: /pattern/,\n    $options: 'igm'\n  }\n}\n```\n\nFor v5 service adapters, split the `whitelist` options into the `filters` object or the `operators` array.\n\n```ts\n// ðŸ‘Ž`whitelist` and `allow are unsupported.\nconst oldServiceOptions = {\n  whitelist: ['$customFilter', '$ignoreCase', '$regex', '$options']\n}\n\n// ðŸ‘ Separate items into `filters` and `operators` for v5 service adapters\nconst serviceOptions = {\n  filters: {\n    // Map a custom filter to a converter function\n    $ignoreCase: (value: any) => (value === 'true' ? true : false),\n    // Enable a custom param without converting\n    $customQueryOperator: true\n  } as const,\n  operators: ['$regex', '$options']\n}\n```\n\nIf you're using TypeScript, notice the `as const` after the `filters` object in the options, above. That will keep type errors from happening when passing the `serviceOptions` to the service.\n\n<BlockQuote>\n\nThis change only affects service adapters that have been upgraded to v5, like [@feathersjs/mongodb](/api/databases/mongodb), [@feathersjs/knex](/api/databases/knex), and [@feathersjs/memory](/api/databases/memory). This also applies to any community-supported adapters which have been upgraded to v5. If you use a v4 adapter for a service in your v5 app, you do not need to make this change for that service.\n\n</BlockQuote>\n\n### Asynchronous setup\n\n`service.setup`, `app.setup` and `app.listen` return a Promise:\n\n```js\n// Before\nconst server = app.listen(3030)\n\n// Now\napp.listen(3030).then((server) => {})\n```\n\nUsually you would call `app.listen`. In case you are calling `app.setup` instead (e.g. for internal jobs or seed scripts) it is now also asynchronous:\n\n```js\n// Before\napp.setup()\n// Do something here\n\n// Now\nawait app.setup()\n// Do something here\n```\n\n### Socket.io 4 and Grant 5\n\nThe Socket.io and Grant (oAuth) dependencies have been updated to their latest versions. For more information on breaking changes see:\n\n- The Socket.io [version 3](https://socket.io/docs/v3/migrating-from-2-x-to-3-0/index.html#How-to-upgrade-an-existing-production-deployment) and [version 4](https://socket.io/docs/v3/migrating-from-3-x-to-4-0/) upgrade guide. Important points to note are a new improved [CORS policy](https://socket.io/docs/v3/migrating-from-2-x-to-3-0/index.html#CORS-handling) and an [explicit v2 client compatibility opt-in](https://socket.io/docs/v3/migrating-from-2-x-to-3-0/index.html#How-to-upgrade-an-existing-production-deployment)\n- For oAuth authentication the Grant standard configuration should continue to work as is. If you customized any other settings, see the [Grant v4 to v5 migration guide](https://github.com/simov/grant/blob/master/MIGRATION.md) for the changes necessary.\n\n### Configuration\n\nThe automatic environment variable substitution in `@feathersjs/configuration` was causing subtle and hard to debug issues. It has been removed to instead rely on the functionality already provided and battle tested by the underlying [node-config](https://github.com/lorenwest/node-config). To update your configuration:\n\n- Relative paths are no longer relative to the configuration file, but instead to where the application runs. This normally (when running from the application folder) means that paths starting with `../` and `./` have to be replaced with `./` and `./config/`.\n- Configuration through environment variables should be included via the `NODE_CONFIG` JSON string or as [Custom Environment Variable support](https://github.com/lorenwest/node-config/wiki/Environment-Variables#custom-environment-variables). To use existing environment variables add the following configuration file in `config/custom-environment-variables.json` like this:\n\n```json\n// config/custom-environment-variables.json\n{\n  \"hostname\": \"HOSTNAME\",\n  \"port\": \"PORT\",\n  \"someSetting\": {\n    \"apiKey\": \"MY_CUSTOM_API_KEY\"\n  }\n}\n```\n\n### Debugging\n\nThe `debug` module has been removed as a direct dependency. This reduces the the client bundle size and allows to support other platforms (like Deno). The original `debug` functionality can now be initialized as follows:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\nimport debug from 'debug'\n\nfeathers.setDebug(debug)\n```\n\nIt is also possible to set a custom logger like this:\n\n```ts\nimport { feathers } from '@feathersjs/feathers'\n\nconst customDebug =\n  (name) =>\n  (...args) => {\n    console.log(name, ...args)\n  }\n\nfeathers.setDebug(customDebug)\n```\n\nSetting the debugger will apply to all `@feathersjs` modules.\n\n### Client\n\n- The `request` library has been deprecated and request support has been removed from the REST client.\n- Since all modern browsers now support built-in [fetch](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API), the Angular and jQuery REST clients have been removed as well.\n- The `@feathersjs/client` package now only comes with a full (`dist/feathers.js`) and core (`dist/core.js`) browser build. Using Feathers [with a module loader](../api/client.md#module-loaders) is recommended for all other use cases.\n\n### Removed Primus Transport\n\nDue to low usage `@feathersjs/primus` and `@feathers/primus-client` have been removed from Feathers core.\n\n### Changes to WebSockets\n\n#### Legacy Socket Format\n\nThe legacy `servicename::method` socket message format has been deprecated since Feathers 3 and has now been removed. Use a v3 or later [Feathers client](../api/client.md) or the [current Socket.io direct connection API](../api/client/socketio.md).\n\n#### Timeouts\n\nThe `timeout` setting for socket services has been removed. It was mainly intended as a fallback for the old message format and interfered with the underlying timeout and retry mechanism provided by the websocket libraries themselves.\n\n### NotFound for `app.service`\n\nBy default, when getting a non existing service via `app.service('something')` on the server, it will now throw a `NotFound` error instead of returning `undefined`. The previous behaviour can be restored by setting [app.defaultService](../api/application.md#defaultservice):\n\n```js\napp.defaultService = () => {\n  return null // undefined\n}\n```\n\n### Removed `service.mixin()`\n\nServices are no longer Uberproto (an ES5 inheritance utility) objects and instead rely on modern JavaScript classes and extension. This means `app.service(name).mixin(data)` is no longer available which can be replaced with a basic `Object.assign(app.service(name), data)`:\n\n```js\n// Before\napp.mixins.push((service, path) => {\n  service.mixin({\n    create(data, params) {\n      // do something here\n      return this._super(data, params)\n    }\n  })\n})\n\n// Now\napp.mixins.push((service, path) => {\n  const { create } = service\n\n  Object.assign(service, {\n    create(data, params) {\n      // do something here, then invoke the old method\n      // through normal JavaScript functionality\n      return create.call(this, data, params)\n    }\n  })\n})\n```\n\n### `finally` hook\n\nThe undocumented `finally` hook type is no longer available and should be replaced by the new `around` hooks which offer the same functionality using plain JavaScript:\n\n```js\napp.service('myservice').hooks([\n  async (context, next) => {\n    try {\n      await next()\n    } finally {\n      // Do finally hook stuff here\n    }\n  }\n])\n```\n\n### Other internal changes\n\n- The undocumented `service._setup` method introduced in v1 will no longer be called. It was used to circumvent middleware inconsistencies from Express 3 and is no longer necessary.\n- The undocumented `app.providers` has been removed since it provided the same functionality as [`app.mixins`](../api/application.md#mixins)\n- `app.disable`, `app.disabled`, `app.enable` and `app.enabled` have been removed from basic Feathers applications. It will still be available in an Express-compatible Feathers application. `app.get()` and `app.set()` should be used instead.\n- The `req.authentication` property is no longer set on the express requests, use `req.feathers.authentication` instead.",
    "breadcrumb": "Migrating to v5",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/migrating.md",
    "heading": "Migrating to v5",
    "subHeadings": [
      "Testing the prerelease",
      "New Features",
      "Core SQL and MongoDB",
      "TypeScript",
      "Application and hook context",
      "Service types",
      "Configuration types",
      "Typed params and query",
      "Deprecations and breaking changes",
      "Express middleware order",
      "Core named export",
      "Custom Filters & Operators",
      "Asynchronous setup",
      "Socket.io 4 and Grant 5",
      "Configuration",
      "Debugging",
      "Client",
      "Removed Primus Transport",
      "Changes to WebSockets",
      "Legacy Socket Format",
      "Timeouts",
      "NotFound for `app.service`",
      "Removed `service.mixin()`",
      "`finally` hook",
      "Other internal changes"
    ],
    "hasCode": true,
    "codeLanguages": [
      "text",
      "ts",
      "js",
      "json"
    ],
    "tokens": 3310,
    "category": "guides",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "provider",
      "hook context",
      "get",
      "create",
      "update",
      "remove",
      "setup",
      "authentication",
      "oauth",
      "github",
      "schema",
      "resolver",
      "database",
      "adapter",
      "mongodb",
      "knex",
      "memory",
      "websockets",
      "socket.io",
      "rest",
      "http",
      "transport",
      "express",
      "middleware",
      "bun",
      "deno",
      "browser",
      "feathers client",
      "client",
      "configuration",
      "environment variables",
      "errors",
      "typescript",
      "types",
      "declarations",
      "cli",
      "generate",
      "testing",
      "test",
      "deployment",
      "cors",
      "migration",
      "upgrade",
      "migrating",
      "logger",
      "mixins"
    ],
    "embedding": [
      -0.023914,
      -0.021402,
      -0.062283,
      0.030606,
      0.027984,
      -0.037031,
      -0.000826,
      0.026861,
      -0.010808,
      0.032318,
      -0.009505,
      -0.013148,
      -0.046724,
      0.026424,
      -0.034628,
      -0.020407,
      -0.029539,
      -0.030813,
      0.007732,
      -0.029901,
      -0.03653,
      0.009349,
      0.026755,
      0.017647,
      0.000556,
      0.009654,
      -0.030773,
      -0.030798,
      0.012469,
      0.047725,
      0.037736,
      0.016667,
      -0.015219,
      0.015447,
      -0.025385,
      -0.036356,
      0.008647,
      0.004306,
      -0.031314,
      0.035262,
      -0.020077,
      -0.030647,
      -0.00614,
      -0.011106,
      0.008335,
      -0.039011,
      0.001041,
      0.007399,
      0.008905,
      -0.008501,
      -0.007755,
      -0.027443,
      0.012138,
      -0.048609,
      0.076863,
      0.047648,
      -0.045717,
      -0.004,
      -0.065827,
      -0.018162,
      -0.039176,
      0.014224,
      0.018555,
      -0.01746,
      0.008108,
      0.043397,
      -0.012117,
      -0.005516,
      -0.010269,
      -0.022595,
      0.010636,
      -0.028585,
      0.004159,
      -0.009066,
      -0.058017,
      0.012765,
      0.009464,
      -0.018127,
      -0.00626,
      0.030226,
      -0.013747,
      0.002018,
      0.026433,
      -0.001538,
      0.002485,
      0.0115,
      -0.018915,
      0.040772,
      0.031093,
      0.031839,
      -0.013665,
      -0.037943,
      0.050775,
      -0.057719,
      -0.038151,
      0.018505,
      0.002202,
      -0.001453,
      0.024146,
      0.009408,
      0.004908,
      0.021461,
      0.006843,
      -0.030542,
      0.057219,
      0.012858,
      0.008294,
      0.008945,
      -0.003059,
      -0.037334,
      0.008218,
      -0.005974,
      0.00509,
      0.021205,
      -0.023817,
      -0.046219,
      0.034063,
      -0.033916,
      -0.013712,
      -0.011988,
      0.029691,
      0.014773,
      0.052548,
      -0.039711,
      -0.028088,
      0.027093,
      -0.007408,
      0.048049,
      0.002471,
      -0.008212,
      0.000026,
      -0.063775,
      -0.0139,
      -0.030188,
      -0.037498,
      0.021657,
      0.004504,
      0.005465,
      -0.024668,
      -0.039041,
      0.020826,
      -0.006048,
      -0.036105,
      -0.022085,
      0.048061,
      -0.023864,
      0.082104,
      0.029777,
      -0.034416,
      0.002769,
      0.026269,
      0.020902,
      -0.019263,
      -0.028163,
      0.022477,
      -0.053745,
      0.026293,
      0.024722,
      0.026647,
      -0.003696,
      -0.000897,
      0.016416,
      -0.036749,
      0.026866,
      0.043638,
      -0.038573,
      0.016065,
      -0.042456,
      -0.002704,
      -0.028291,
      -0.002237,
      -0.016348,
      0.046353,
      0.01793,
      0.024771,
      0.015737,
      0.102865,
      0.022226,
      0.013241,
      -0.049993,
      -0.053689,
      0.01919,
      -0.025817,
      -0.045763,
      -0.030003,
      -0.048794,
      -0.014013,
      -0.052104,
      -0.0273,
      0.013008,
      -0.017634,
      0.005885,
      0.075752,
      -0.000676,
      0.006917,
      0.037296,
      -0.002532,
      -0.016544,
      0.02534,
      0.01714,
      0.034523,
      0.030176,
      0.046418,
      0.008412,
      -0.041629,
      -0.032313,
      -0.013081,
      -0.039591,
      0.005688,
      -0.058441,
      -0.002488,
      -0.015315,
      -0.014684,
      0.025656,
      0.002918,
      -0.007314,
      -0.023666,
      -0.003406,
      -0.006173,
      -0.018452,
      0.03059,
      0.010923,
      0.053366,
      -0.022475,
      -0.005774,
      0.009352,
      0.025312,
      0.030432,
      -0.015559,
      0.003388,
      0.013451,
      0.045292,
      0.007195,
      -0.035326,
      0.022702,
      -0.013407,
      -0.048997,
      0.008412,
      0.008537,
      0.013064,
      -0.019802,
      -0.040123,
      0.008428,
      0.001533,
      -0.014485,
      -0.016054,
      0.033138,
      -0.00306,
      -0.036242,
      -0.013431,
      -0.033585,
      0.026305,
      -0.001754,
      0.001968,
      0.014231,
      0.012187,
      0.020655,
      -0.021502,
      -0.020698,
      -0.050009,
      0.025168,
      0.042207,
      0.038807,
      0.00184,
      -0.008965,
      -0.004638,
      -0.056329,
      -0.038887,
      0.004275,
      0.0279,
      -0.024235,
      0.002571,
      0.033806,
      0.011903,
      0.003536,
      0.037828,
      0.029614,
      -0.046322,
      0.115073,
      0.03477,
      -0.004067,
      0.040305,
      0.036673,
      0.046472,
      -0.015679,
      0.028298,
      0.02808,
      -0.01836,
      0.015733,
      -0.041355,
      0.000823,
      0.000161,
      0.057456,
      -0.018089,
      -0.037408,
      -0.009845,
      0.026796,
      -0.136009,
      -0.021111,
      0.037661,
      -0.000367,
      0.001602,
      0.00777,
      -0.016025,
      0.025621,
      -0.048836,
      0.010352,
      0.021254,
      -0.060462,
      0.0043,
      0.008023,
      0.000651,
      0.005825,
      0.023283,
      -0.021354,
      0.012275,
      -0.041892,
      -0.023665,
      -0.034095,
      0.021529,
      0.034647,
      0.009903,
      -0.040374,
      0.00441,
      -0.009839,
      -0.02612,
      -0.01747,
      -0.009006,
      -0.003135,
      0.01209,
      0.019947,
      -0.004644,
      -0.019415,
      0.001783,
      -0.004131,
      -0.057823,
      -0.012381,
      0.023571,
      0.04904,
      -0.003033,
      -0.011755,
      -0.000466,
      -0.033316,
      0.025616,
      0.032489,
      -0.02311,
      -0.02368,
      0.028925,
      0.011041,
      0.008598,
      0.001545,
      -0.048468,
      -0.008816,
      0.043792,
      0.068511,
      0.02789,
      -0.042095,
      0.032223,
      0.002548,
      0.091968,
      -0.015268,
      -0.064675,
      0.010778,
      0.008893,
      0.001498,
      0.004274,
      -0.022943,
      0.061818,
      -0.013023,
      0.002622,
      -0.010723,
      -0.010951,
      0.017028,
      0.031476,
      -0.01927,
      -0.048028,
      -0.110246,
      0.004819,
      0.007573,
      -0.005184,
      0.023007,
      -0.021428,
      -0.02007,
      -0.031689,
      0.02644,
      0.041504,
      0.241578,
      0.039264,
      -0.007021,
      0.033546,
      0.056408,
      -0.016196,
      0.014693,
      0.072032,
      0.041143,
      -0.044469,
      0.035989,
      0.009135,
      -0.001311,
      -0.018069,
      -0.029322,
      0.006316,
      -0.026585,
      0.017496,
      0.058147,
      -0.025284,
      -0.008216,
      -0.050215,
      0.012338,
      0.03693,
      -0.077862,
      -0.037346,
      0.015507,
      0.020729,
      -0.047649,
      -0.012667,
      0.017561,
      0.01054,
      0.04115,
      -0.069828,
      -0.088721,
      -0.001081,
      0.000895,
      0.007094,
      -0.015603,
      0.008272,
      -0.044976,
      -0.003347,
      0.03058,
      -0.019743,
      -0.010424,
      -0.021022,
      -0.037594,
      0.010201,
      -0.039846,
      -0.048522,
      -0.046266,
      -0.010941,
      -0.023177,
      -0.007866,
      0.019131,
      -0.013597,
      -0.01099,
      -0.041307,
      0.016952,
      0.001159,
      0.022401,
      0.001001,
      -0.065797,
      0.017137,
      0.007076,
      0.009907,
      0.004764,
      -0.032708,
      0.006883,
      0.064452,
      -0.014529,
      0.018953,
      0.030902,
      -0.020162,
      0.010302,
      0.015173,
      0.032864,
      0.027024,
      -0.00572,
      0.033299,
      -0.003246,
      -0.007637,
      -0.043995,
      0.004308,
      0.030848,
      0.015967,
      0.016609,
      0.057972,
      0.001659,
      -0.005472,
      -0.019809,
      -0.014937,
      -0.014478,
      0.049794,
      0.018906,
      0.014202,
      0.006872,
      -0.001983,
      0.004375,
      -0.042516,
      0.02418,
      0.023571,
      0.03912,
      -0.055387,
      0.06228,
      -0.016859,
      0.009852,
      0.018894,
      0.00874,
      0.026812,
      -0.078516,
      0.011341,
      0.00844,
      -0.02359,
      0.020384,
      0.003316,
      0.055233,
      0.006532,
      0.040828,
      0.007889,
      0.00076,
      0.024214,
      -0.008836,
      0.019128,
      0.01408,
      -0.055361,
      -0.036339,
      0.004466,
      -0.055274,
      0.074453,
      0.049767,
      -0.042563,
      0.014264,
      0.057489,
      0.001829,
      0.010163,
      -0.007669,
      0.049957,
      0.007826,
      -0.006297,
      -0.010281,
      -0.051783,
      -0.005411,
      -0.013685,
      0.017003,
      0.020133,
      -0.007256,
      0.013241,
      0.001964,
      0.011867,
      0.001439,
      0.064729,
      0.01114,
      -0.016524,
      -0.026451,
      -0.016781,
      -0.003459,
      0.017555,
      0.020388,
      -0.00459,
      -0.053588,
      0.008104,
      0.018194,
      0.02127,
      0.012738,
      -0.038192,
      0.02978,
      -0.003337,
      0.013185,
      -0.012192,
      -0.008066,
      -0.053914,
      -0.049554,
      0.073042,
      -0.017132,
      -0.018433,
      -0.030686,
      0.026944,
      0.042596,
      -0.010307,
      0.008899,
      0.034215,
      -0.048979,
      -0.024165,
      -0.015858,
      0.030547,
      -0.019219,
      -0.019325,
      0.053869,
      -0.028249,
      -0.041659,
      0.109515,
      -0.00749,
      0.018764,
      0.055508,
      -0.020101,
      0.085714,
      0.041675,
      0.013987,
      -0.030513,
      -0.011449,
      0.022882,
      -0.013214,
      0.011921,
      -0.028526,
      -0.025474,
      0.000604,
      0.008089,
      -0.049328,
      0.009221,
      -0.009213,
      0.0207,
      -0.012927,
      -0.031352,
      0.006986,
      -0.030945,
      0.064871,
      0.050348,
      -0.031068,
      0.018276,
      -0.012332,
      -0.02144,
      -0.001287,
      -0.038916,
      0.016003,
      0.017846,
      0.020016,
      0.01483,
      -0.018594,
      -0.002193,
      -0.002164,
      0.027155,
      0.018959,
      -0.055058,
      -0.003923,
      -0.028485,
      0.048549,
      0.019408,
      0.009742,
      0.007416,
      0.013693,
      -0.00938,
      0.039247,
      0.056113,
      -0.046195,
      0.015432,
      0.001502,
      -0.018448,
      -0.044303,
      0.01014,
      -0.002931,
      -0.02813,
      0.004441,
      -0.017006,
      0.001801,
      0.027191,
      0.03115,
      -0.021421,
      -0.010943,
      -0.016636,
      -0.019641,
      -0.039123,
      -0.007925,
      -0.017106,
      0.005621,
      -0.042087,
      -0.01204,
      -0.034875,
      -0.01737,
      0.002919,
      0.015628,
      -0.020301,
      -0.002039,
      -0.048945,
      0.024768,
      0.025616,
      -0.02794,
      -0.01198,
      -0.022835,
      0.017141,
      -0.030028,
      0.026997,
      0.031978,
      0.005432,
      0.012327,
      0.033462,
      0.025155,
      -0.01405,
      -0.013524,
      -0.062789,
      -0.007774,
      0.024235,
      -0.027774,
      -0.004935,
      -0.022404,
      0.003636,
      -0.008419,
      0.00426,
      0.003854,
      0.008839,
      0.002498,
      0.029505,
      0.004263,
      -0.026745,
      0.040032,
      0.020089,
      0.011428,
      -0.046929,
      0.011816,
      0.030793,
      -0.002245,
      -0.031757,
      -0.001812,
      0.044611,
      0.064097,
      -0.062104,
      0.04834,
      -0.03325,
      -0.008125,
      -0.013669,
      0.011936,
      0.013465,
      -0.032878,
      -0.01232,
      -0.012352,
      0.006279,
      0.0412,
      -0.022796,
      -0.024249,
      0.019537,
      -0.050558,
      0.012624,
      0.00828,
      -0.020728,
      -0.009788,
      -0.005953,
      0.047144,
      0.003242,
      0.030501,
      -0.037275,
      -0.020976,
      0.019115,
      0.053427,
      -0.022152,
      0.024844,
      -0.068156,
      -0.00846,
      -0.037157,
      -0.039469,
      0.009801,
      -0.015041,
      -0.029027,
      -0.014609,
      -0.038662,
      0.039434,
      0.000645,
      -0.066106,
      0.027915,
      0.010179,
      -0.02392,
      -0.03636,
      0.052066,
      0.003961,
      -0.037305,
      0.021073,
      0.007853,
      0.037958,
      -0.03803,
      -0.014214,
      -0.021964,
      -0.010893,
      0.048877,
      -0.002062,
      0.002186,
      -0.020538,
      0.00508,
      -0.017467,
      0.043151,
      0.009855,
      -0.032449,
      -0.036515,
      -0.02838,
      -0.022523,
      0.016993,
      -0.01301,
      0.037984,
      -0.01076,
      0.056362,
      -0.005474,
      -0.015186,
      0.028598,
      0.005307,
      -0.010224,
      0.00579,
      -0.131612,
      0.020953,
      0.028594,
      0.008472,
      -0.041016,
      0.025622,
      -0.00062,
      -0.008542,
      0.013093,
      -0.05859,
      -0.040116,
      0.02626,
      0.028961,
      -0.027963,
      -0.003719,
      0.02083,
      -0.025247,
      -0.004747,
      -0.009403,
      0.008635,
      0.011939,
      0.004005,
      0.014647,
      -0.009403,
      0.032615,
      0.0303,
      -0.052292,
      -0.03541,
      0.002518,
      0.003123,
      -0.013319,
      -0.007069,
      0.01926,
      -0.003438,
      -0.030572,
      -0.004581,
      -0.006964,
      0.024458,
      -0.044709,
      0.029513,
      -0.039118,
      0.021691,
      -0.041689,
      0.031446,
      0.015173,
      0.023038,
      -0.002373,
      -0.056336,
      -0.057262,
      0.004658,
      -0.013457,
      0.000503,
      0.002442,
      0.027718,
      -0.005248,
      -0.014521,
      -0.029684,
      -0.00964,
      -0.073289,
      0.033783,
      -0.012007,
      0.065283,
      -0.014849,
      -0.037529,
      -0.026277,
      0.01396,
      -0.05756,
      0.038976,
      0.002503,
      0.008938,
      -0.002539,
      -0.057999,
      -0.051313,
      -0.005491,
      0.022851,
      -0.033039,
      0.023661,
      -0.019508,
      -0.030767,
      -0.002206,
      0.006654,
      -0.010237,
      -0.077685,
      0.058426,
      0.044628,
      0.004223,
      0.006246,
      0.026615,
      -0.022123,
      0.011462,
      -0.026319,
      -0.048962,
      0.013399,
      0.043924,
      -0.004954,
      0.020186,
      -0.022273,
      -0.034474,
      -0.000546,
      -0.007447,
      -0.028519,
      0.008031,
      -0.009977,
      -0.004801,
      0.008365,
      0.017995,
      0.023152,
      0.001753,
      0.000565,
      -0.002005,
      0.018868,
      0.037459,
      0.026541,
      -0.003867,
      -0.102208,
      -0.00164,
      -0.002127,
      0.013555,
      -0.040729,
      -0.012653,
      0.023166,
      -0.003069,
      -0.011834,
      -0.0268,
      0.037634,
      0.056629,
      0.031199,
      0.006332,
      0.039733,
      -0.036435,
      0.038162,
      -0.019255,
      -0.042555,
      0.020815,
      0.029726,
      -0.044478,
      -0.051675,
      0.053962,
      -0.031749,
      -0.037937,
      -0.043065,
      -0.014447,
      -0.033269,
      -0.013137,
      -0.001539,
      -0.015999,
      0.007385,
      0.026556,
      -0.026807,
      -0.026533,
      0.023731,
      0.010245,
      -0.010266,
      0.035875,
      0.015874,
      0.038904,
      0.025333,
      0.019462,
      -0.035886,
      0.065119,
      0.016696,
      -0.028398,
      0.004409,
      -0.027921,
      0.001698,
      0.017816,
      0.000667,
      -0.028305,
      -0.029622,
      0.006485,
      -0.013449,
      0.048977,
      -0.0051,
      -0.003578,
      0.029046,
      -0.022764,
      -0.000261,
      -0.030387,
      0.03946,
      -0.025195,
      0.024299,
      0.011061,
      0.061576,
      0.009985,
      0.031878,
      0.023792,
      0.014431,
      -0.02249,
      -0.004531,
      0.009143,
      -0.015989,
      0.007902,
      0.030618,
      0.022869,
      -0.002892,
      -0.029702,
      0.011486,
      -0.037332,
      -0.008177,
      0.05561,
      -0.009691,
      -0.010628,
      -0.004033,
      0.009315,
      0.002918,
      0.012031,
      -0.049726,
      -0.055636,
      0.011579,
      0.038861,
      -0.041782,
      -0.002561,
      -0.011718,
      0.036823,
      0.013175,
      0.034916,
      0.032123,
      0.022972,
      0.003911,
      -0.007147,
      0.024173,
      0.020131,
      -0.003854,
      -0.050185,
      -0.038454,
      -0.018204,
      -0.021325,
      -0.030945,
      -0.005114,
      0.005094,
      -0.040731,
      -0.064381,
      -0.000224,
      0.038658,
      0.016966,
      -0.015808,
      -0.015682,
      0.018329,
      -0.018377,
      0.010998,
      0.020957,
      -0.009999,
      -0.020743,
      -0.004195
    ]
  },
  {
    "id": "v5-security-0",
    "content": "# Security\nBreadcrumb: Security\nCovers: Reporting security issues | Security considerations | Technologies used | XSS attacks\nTopics: hooks, application, params, find, create, update, authentication, jwt, github, discord, database, querying, real-time, channels, rest, http, browser, client, cli, generator, security, upgrade, users\n\n## Reporting security issues\n\nIn order to give the community time to respond and upgrade, we strongly urge you report all security issues to us. Send us a PM on [Discord](https://discord.gg/qa8kez8QBx) or email us at [hello@feathersjs.com](mailto:hello@feathersjs.com) with details, and we will respond ASAP. Security issues always take precedence over bug fixes and feature work; so, we'll work with you to come up with a resolution and plan and document the issue on Github in the appropriate repo.\n\nIssuing releases is typically very quick. Once an issue is resolved it is usually released immediately with the appropriate semantic version.\n\n## Security considerations\n\nHere are some things that you should be aware of when writing your app to make sure it is secure.\n\n- Make sure to set up proper [event channels](../api/channels.md) so that only clients that are allowed to see them can see real-time updates\n- Use hooks to check security roles to make sure users can only access data they should be permitted to. You can find useful hook utilities in [feathers-hooks-common](https://hooks-common.feathersjs.com/) and [feathers-authentication-hooks](https://github.com/feathersjs-ecosystem/feathers-authentication-hooks/).\n- Restrict the [allowed database queries](../api/databases/querying.md) to only the use cases your application requires by sanitizing `params.query` in a hook.\n- When you explicitly allow multiple element changes, make sure queries are secured properly to limit the items that can be changed.\n\n- Escape any HTML and JavaScript to avoid XSS attacks.\n- Escape any SQL (typically done by the SQL library) to avoid SQL injection.\n- JSON Web Tokens (JWT's) are only signed. They are **not** encrypted. Therefore, the payload can be examined on the client. This is by design. **DO NOT** put anything that should be private in the JWT `payload` unless you encrypt it first.\n- Don't use a weak `secret` for your token service. The generator creates a strong one for you automatically. No need to change it.\n\n## Technologies used\n\n- Password storage inside `@feathers/authentication-local` uses [bcrypt](https://github.com/dcodeIO/bcrypt.js). We don't store the salts separately since they are included in the bcrypt hashes.\n- By default, [JWT](https://jwt.io/)'s are stored in Local Storage (instead of cookies) to avoid CSRF attacks. For JWT, we use the `HS256` algorithm by default (HMAC using SHA-256 hash algorithm). If you choose to store JWT's in cookies, your app may have CSRF vulnerabilities.\n\n## XSS attacks\n\nAs with any web application **you** need to guard against XSS attacks. Since Feathers persists the JWT in localstorage in the browser, if your app falls victim to a XSS attack your JWT could be used by an attacker to make malicious requests on your behalf. This is far from ideal. Therefore you need to take extra care in preventing XSS attacks. Our stance on this particular attack vector is that if you are susceptible to XSS attacks, then a compromised JWT is the least of your worries because keystrokes could be logged and attackers can just steal passwords, credit card numbers, or anything else your users type directly.\n\nFor more information see [this issue](https://github.com/feathersjs/authentication/issues/132)",
    "rawContent": "## Reporting security issues\n\nIn order to give the community time to respond and upgrade, we strongly urge you report all security issues to us. Send us a PM on [Discord](https://discord.gg/qa8kez8QBx) or email us at [hello@feathersjs.com](mailto:hello@feathersjs.com) with details, and we will respond ASAP. Security issues always take precedence over bug fixes and feature work; so, we'll work with you to come up with a resolution and plan and document the issue on Github in the appropriate repo.\n\nIssuing releases is typically very quick. Once an issue is resolved it is usually released immediately with the appropriate semantic version.\n\n## Security considerations\n\nHere are some things that you should be aware of when writing your app to make sure it is secure.\n\n- Make sure to set up proper [event channels](../api/channels.md) so that only clients that are allowed to see them can see real-time updates\n- Use hooks to check security roles to make sure users can only access data they should be permitted to. You can find useful hook utilities in [feathers-hooks-common](https://hooks-common.feathersjs.com/) and [feathers-authentication-hooks](https://github.com/feathersjs-ecosystem/feathers-authentication-hooks/).\n- Restrict the [allowed database queries](../api/databases/querying.md) to only the use cases your application requires by sanitizing `params.query` in a hook.\n- When you explicitly allow multiple element changes, make sure queries are secured properly to limit the items that can be changed.\n\n- Escape any HTML and JavaScript to avoid XSS attacks.\n- Escape any SQL (typically done by the SQL library) to avoid SQL injection.\n- JSON Web Tokens (JWT's) are only signed. They are **not** encrypted. Therefore, the payload can be examined on the client. This is by design. **DO NOT** put anything that should be private in the JWT `payload` unless you encrypt it first.\n- Don't use a weak `secret` for your token service. The generator creates a strong one for you automatically. No need to change it.\n\n## Technologies used\n\n- Password storage inside `@feathers/authentication-local` uses [bcrypt](https://github.com/dcodeIO/bcrypt.js). We don't store the salts separately since they are included in the bcrypt hashes.\n- By default, [JWT](https://jwt.io/)'s are stored in Local Storage (instead of cookies) to avoid CSRF attacks. For JWT, we use the `HS256` algorithm by default (HMAC using SHA-256 hash algorithm). If you choose to store JWT's in cookies, your app may have CSRF vulnerabilities.\n\n## XSS attacks\n\nAs with any web application **you** need to guard against XSS attacks. Since Feathers persists the JWT in localstorage in the browser, if your app falls victim to a XSS attack your JWT could be used by an attacker to make malicious requests on your behalf. This is far from ideal. Therefore you need to take extra care in preventing XSS attacks. Our stance on this particular attack vector is that if you are susceptible to XSS attacks, then a compromised JWT is the least of your worries because keystrokes could be logged and attackers can just steal passwords, credit card numbers, or anything else your users type directly.\n\nFor more information see [this issue](https://github.com/feathersjs/authentication/issues/132)",
    "breadcrumb": "Security",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/security.md",
    "heading": "Security",
    "subHeadings": [
      "Reporting security issues",
      "Security considerations",
      "Technologies used",
      "XSS attacks"
    ],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 816,
    "category": "guides",
    "tags": [
      "hooks",
      "application",
      "params",
      "find",
      "create",
      "update",
      "authentication",
      "jwt",
      "github",
      "discord",
      "database",
      "querying",
      "real-time",
      "channels",
      "rest",
      "http",
      "browser",
      "client",
      "cli",
      "generator",
      "security",
      "upgrade",
      "users"
    ],
    "embedding": [
      -0.003118,
      -0.004356,
      -0.064361,
      0.031141,
      -0.024106,
      -0.046503,
      -0.011763,
      -0.00058,
      -0.02848,
      0.020882,
      0.001744,
      0.009712,
      -0.018707,
      -0.013441,
      -0.001889,
      0.008497,
      0.000567,
      -0.006345,
      0.01406,
      -0.048283,
      -0.044422,
      0.002302,
      0.009637,
      -0.003096,
      0.002293,
      0.028885,
      -0.020022,
      -0.039082,
      0.029372,
      -0.010419,
      0.034931,
      0.0196,
      -0.030884,
      0.004534,
      -0.048662,
      -0.030221,
      -0.026121,
      0.00739,
      -0.017235,
      0.012955,
      -0.012051,
      -0.042115,
      0.00534,
      -0.014188,
      0.020838,
      -0.046503,
      -0.018589,
      -0.008529,
      0.020278,
      -0.00544,
      -0.040199,
      -0.002845,
      0.023097,
      -0.063065,
      0.069577,
      0.006826,
      -0.031887,
      -0.036314,
      -0.029267,
      0.011067,
      0.001634,
      0.018392,
      -0.01754,
      -0.01824,
      -0.017513,
      0.046944,
      -0.010465,
      0.019141,
      -0.026843,
      -0.012499,
      0.007541,
      -0.014291,
      -0.030073,
      -0.000595,
      -0.008775,
      -0.003682,
      0.015444,
      0.008885,
      -0.011515,
      0.034572,
      -0.021412,
      -0.022391,
      0.028644,
      0.01529,
      -0.004967,
      0.010591,
      0.006598,
      0.052642,
      0.052502,
      -0.032792,
      0.019153,
      -0.013349,
      0.055994,
      -0.036029,
      0.011452,
      0.024836,
      -0.033032,
      0.016906,
      0.027393,
      0.027925,
      -0.000933,
      0.004114,
      -0.000189,
      -0.058258,
      0.053667,
      0.026113,
      0.064354,
      0.021943,
      -0.016927,
      -0.040351,
      -0.003743,
      0.006396,
      0.027805,
      0.007096,
      -0.023617,
      -0.007291,
      -0.001793,
      -0.000984,
      -0.010392,
      -0.026405,
      0.021732,
      0.010675,
      0.017938,
      -0.034858,
      -0.006997,
      0.00371,
      -0.057238,
      0.058805,
      -0.015147,
      0.017146,
      0.017237,
      -0.02326,
      0.012794,
      -0.009716,
      -0.059797,
      0.012251,
      0.00227,
      0.020028,
      -0.003068,
      -0.041201,
      0.018955,
      0.002514,
      -0.04532,
      -0.016559,
      0.022179,
      -0.053024,
      0.02799,
      0.002899,
      0.01095,
      0.001623,
      0.03844,
      -0.000482,
      -0.006665,
      -0.055285,
      0.034014,
      -0.071925,
      0.018548,
      0.008235,
      -0.002439,
      -0.015355,
      0.041969,
      -0.00313,
      -0.053961,
      0.002261,
      0.041011,
      -0.020199,
      0.027167,
      -0.03873,
      -0.033701,
      -0.007489,
      0.01169,
      -0.057985,
      0.042477,
      -0.007306,
      0.033021,
      0.004587,
      0.082111,
      0.025023,
      -0.003974,
      -0.042619,
      -0.02192,
      0.004787,
      0.017882,
      -0.051261,
      -0.027027,
      -0.026959,
      -0.001501,
      -0.015676,
      0.000255,
      0.008851,
      -0.029099,
      -0.015758,
      0.056486,
      0.013902,
      -0.018716,
      -0.016702,
      0.017638,
      0.005792,
      0.015281,
      -0.013491,
      0.007565,
      0.030974,
      0.044162,
      0.038344,
      -0.033392,
      -0.029749,
      0.006952,
      -0.005132,
      0.032621,
      -0.047654,
      0.035365,
      0.030205,
      0.024749,
      -0.015344,
      -0.024181,
      0.025944,
      -0.016809,
      0.015466,
      -0.04679,
      -0.022952,
      -0.005533,
      0.007892,
      -0.022815,
      -0.024922,
      0.039794,
      0.008448,
      0.011531,
      0.013705,
      0.014401,
      0.000538,
      -0.009813,
      0.056941,
      0.034052,
      -0.019231,
      0.030534,
      -0.024276,
      -0.061061,
      -0.002866,
      -0.009843,
      0.036549,
      0.012865,
      -0.078799,
      0.002679,
      -0.017526,
      -0.048544,
      -0.000774,
      0.043381,
      0.046812,
      -0.024521,
      -0.015703,
      -0.00282,
      0.016646,
      0.025659,
      -0.009086,
      0.030266,
      0.013228,
      0.034243,
      -0.007058,
      -0.01025,
      -0.053369,
      0.011791,
      0.044202,
      0.028524,
      0.011064,
      0.013318,
      0.004092,
      -0.058493,
      -0.087566,
      0.002615,
      0.004373,
      -0.023211,
      0.023334,
      0.027121,
      -0.002965,
      -0.049909,
      0.005496,
      0.027781,
      -0.065177,
      0.097788,
      0.012036,
      0.040085,
      0.009168,
      0.017186,
      0.042756,
      0.007943,
      0.015298,
      0.037521,
      -0.02781,
      0.027749,
      -0.043241,
      -0.003382,
      0.004535,
      0.059121,
      -0.026325,
      -0.034103,
      0.017089,
      -0.024346,
      -0.129129,
      -0.031439,
      0.044677,
      0.029502,
      -0.001739,
      -0.005845,
      -0.078489,
      0.021509,
      -0.081763,
      0.037911,
      -0.018441,
      -0.059687,
      0.021639,
      0.001022,
      0.028615,
      -0.008196,
      -0.021104,
      0.009965,
      0.035965,
      -0.046284,
      -0.010332,
      -0.030697,
      0.037437,
      -0.014694,
      0.006048,
      -0.011025,
      0.055674,
      0.007315,
      -0.041732,
      -0.005067,
      -0.020703,
      0.02379,
      0.006038,
      -0.000357,
      -0.00682,
      -0.000806,
      0.012606,
      0.012136,
      0.00499,
      -0.017179,
      0.040354,
      0.050256,
      -0.006014,
      -0.022086,
      0.029771,
      -0.027586,
      0.054567,
      -0.006007,
      -0.002538,
      0.004416,
      0.015581,
      0.008959,
      0.007842,
      -0.019803,
      -0.040395,
      -0.022657,
      0.014606,
      0.079502,
      -0.020479,
      -0.025527,
      0.022557,
      -0.025105,
      0.059936,
      -0.042095,
      -0.031806,
      -0.006038,
      0.032893,
      -0.045084,
      0.034255,
      -0.029019,
      0.026478,
      -0.089729,
      0.004326,
      0.023502,
      -0.001965,
      0.0097,
      0.028728,
      0.01903,
      0.007181,
      -0.107998,
      -0.003305,
      0.007525,
      -0.00999,
      0.045364,
      -0.034801,
      -0.003825,
      -0.021092,
      0.032265,
      0.029748,
      0.248347,
      -0.005935,
      0.0081,
      -0.00889,
      0.065917,
      -0.022521,
      0.051167,
      0.087776,
      0.022794,
      -0.017262,
      -0.019864,
      0.039135,
      -0.000104,
      -0.037402,
      -0.021749,
      0.035986,
      -0.07683,
      0.04047,
      0.070772,
      -0.014909,
      0.017931,
      -0.010982,
      0.01969,
      0.03146,
      -0.051334,
      -0.015449,
      -0.017855,
      0.065227,
      -0.031988,
      0.013155,
      -0.049231,
      0.011576,
      0.026075,
      -0.006435,
      -0.026112,
      0.005461,
      -0.041594,
      0.000062,
      -0.027427,
      0.015783,
      -0.031985,
      -0.020347,
      0.012966,
      -0.010692,
      0.004892,
      -0.006117,
      -0.0484,
      -0.003348,
      -0.022404,
      -0.018972,
      -0.074268,
      -0.019492,
      -0.018976,
      -0.000442,
      -0.001923,
      -0.048302,
      -0.015887,
      -0.039358,
      0.026583,
      0.021141,
      0.0439,
      0.014933,
      -0.063382,
      0.057709,
      -0.004003,
      0.010669,
      0.02153,
      -0.031407,
      0.028302,
      0.04737,
      -0.014536,
      0.018121,
      0.024995,
      -0.018162,
      0.005303,
      -0.019431,
      0.039503,
      0.024334,
      -0.040573,
      0.051208,
      -0.014976,
      -0.002192,
      -0.018799,
      0.022373,
      0.007673,
      0.032728,
      -0.029494,
      0.040742,
      -0.005248,
      -0.021041,
      -0.018425,
      -0.000666,
      -0.016029,
      0.007085,
      0.000519,
      0.026311,
      0.016964,
      -0.012765,
      -0.009847,
      -0.027265,
      0.041191,
      0.019462,
      0.026232,
      -0.008943,
      0.048992,
      0.004816,
      0.000017,
      0.001661,
      0.033105,
      -0.020534,
      -0.058678,
      0.00237,
      0.011603,
      -0.001251,
      -0.004366,
      0.040772,
      0.026707,
      0.016272,
      0.067465,
      0.049889,
      0.013335,
      0.0452,
      -0.036029,
      0.008803,
      0.020273,
      -0.031385,
      -0.035957,
      -0.021006,
      -0.015885,
      0.066813,
      0.054818,
      -0.039869,
      0.008982,
      0.031119,
      0.024453,
      0.024481,
      -0.011008,
      0.044311,
      0.019569,
      0.021674,
      -0.024253,
      0.004758,
      -0.027848,
      -0.010905,
      -0.020379,
      0.005212,
      -0.022134,
      0.015843,
      -0.002332,
      -0.006166,
      0.032167,
      0.063583,
      0.012403,
      -0.03028,
      -0.020403,
      -0.021501,
      -0.020532,
      0.015392,
      0.002241,
      -0.027758,
      -0.032487,
      -0.006679,
      0.013589,
      0.048301,
      0.030051,
      -0.024686,
      0.020725,
      0.02847,
      0.005639,
      -0.017886,
      -0.007616,
      -0.038216,
      -0.022713,
      0.074777,
      0.002193,
      -0.054265,
      -0.05863,
      0.009771,
      0.00724,
      0.00872,
      0.022,
      0.027344,
      -0.028414,
      -0.012631,
      0.006209,
      0.023176,
      0.000709,
      -0.015313,
      0.006774,
      -0.028816,
      -0.005789,
      0.089663,
      -0.009507,
      0.008784,
      0.05041,
      -0.058623,
      0.019468,
      0.023787,
      0.001175,
      -0.01352,
      -0.035158,
      -0.004045,
      -0.006714,
      0.005706,
      -0.016502,
      -0.037452,
      0.008067,
      -0.007716,
      -0.047771,
      -0.00352,
      -0.006937,
      0.014005,
      -0.015518,
      -0.011442,
      0.012617,
      -0.024108,
      0.020435,
      0.019989,
      0.018415,
      -0.014782,
      -0.00501,
      0.001927,
      0.015235,
      -0.032852,
      0.01801,
      0.019728,
      0.007592,
      -0.023495,
      -0.013257,
      0.011894,
      -0.002647,
      -0.018609,
      0.026569,
      -0.046774,
      0.006535,
      0.000943,
      0.020662,
      0.02349,
      0.063214,
      -0.003199,
      0.001729,
      0.044265,
      0.060331,
      0.02488,
      -0.024156,
      0.019748,
      0.018519,
      0.01955,
      -0.043722,
      0.009218,
      -0.026024,
      -0.023286,
      -0.029821,
      -0.028508,
      0.01876,
      0.044414,
      0.012498,
      -0.031883,
      0.00594,
      -0.021333,
      -0.017988,
      0.010717,
      -0.018961,
      0.010287,
      -0.027171,
      -0.027875,
      -0.002982,
      -0.011129,
      -0.037191,
      -0.029501,
      -0.019893,
      -0.010379,
      -0.005605,
      -0.07372,
      -0.044601,
      -0.02918,
      -0.064055,
      -0.010709,
      0.005865,
      0.012468,
      -0.033781,
      -0.001055,
      0.017139,
      0.058477,
      0.013736,
      0.034912,
      0.028141,
      -0.053708,
      -0.022827,
      -0.039474,
      0.014453,
      0.024638,
      -0.029625,
      0.024306,
      -0.001766,
      -0.017733,
      -0.023561,
      0.047042,
      -0.010077,
      0.02646,
      -0.003547,
      0.01756,
      0.019015,
      0.004376,
      0.008871,
      -0.013826,
      -0.016546,
      -0.034643,
      0.026441,
      -0.003419,
      -0.030008,
      -0.002208,
      0.039961,
      -0.021496,
      0.040184,
      -0.031575,
      0.05181,
      -0.066636,
      -0.016389,
      -0.003199,
      -0.006885,
      -0.005335,
      -0.044853,
      0.028232,
      0.002271,
      -0.029492,
      -0.005828,
      -0.025029,
      -0.020999,
      0.042132,
      -0.040715,
      0.002435,
      -0.006195,
      -0.030894,
      0.027007,
      -0.00127,
      0.017142,
      -0.032845,
      0.037505,
      -0.046256,
      -0.018901,
      0.000927,
      0.082595,
      -0.017127,
      -0.00301,
      -0.053763,
      0.004758,
      -0.011424,
      -0.033284,
      0.001358,
      -0.001513,
      0.002105,
      -0.022815,
      -0.022812,
      0.038462,
      0.033178,
      -0.059919,
      0.012661,
      -0.000911,
      -0.001353,
      -0.022503,
      0.038841,
      0.008493,
      -0.018634,
      -0.008488,
      0.001963,
      0.046311,
      -0.022167,
      -0.019939,
      -0.022353,
      -0.046951,
      0.03707,
      0.001429,
      -0.010363,
      -0.048486,
      0.032513,
      -0.003166,
      -0.004443,
      0.02754,
      -0.003348,
      -0.008916,
      -0.007075,
      -0.04074,
      -0.009549,
      0.009422,
      0.009154,
      -0.04109,
      0.01453,
      0.032967,
      0.011293,
      0.011562,
      0.0277,
      -0.01492,
      0.030768,
      -0.142155,
      0.03902,
      -0.018938,
      0.022492,
      -0.012356,
      -0.013196,
      0.030352,
      -0.025822,
      0.01336,
      -0.011253,
      -0.005244,
      0.016838,
      0.067513,
      -0.046037,
      -0.0256,
      -0.009374,
      -0.026948,
      -0.010525,
      -0.006417,
      -0.003078,
      0.009835,
      -0.029809,
      -0.016906,
      0.01029,
      0.009989,
      -0.001634,
      -0.015485,
      -0.041366,
      -0.008924,
      -0.001049,
      0.001106,
      -0.024184,
      0.013716,
      0.028028,
      0.008096,
      0.002264,
      -0.01692,
      -0.023623,
      -0.021453,
      0.006408,
      -0.027643,
      0.028905,
      -0.049736,
      0.018741,
      0.042568,
      0.075578,
      -0.036286,
      -0.035355,
      -0.008086,
      0.025657,
      -0.01456,
      -0.00005,
      0.028131,
      0.010492,
      -0.023914,
      -0.030755,
      -0.026801,
      -0.033474,
      -0.025827,
      0.034246,
      -0.035058,
      0.041424,
      -0.045074,
      -0.022432,
      -0.027966,
      -0.00517,
      -0.017226,
      0.028729,
      -0.000809,
      0.012251,
      -0.007017,
      -0.036834,
      -0.056701,
      0.022095,
      0.027105,
      -0.032067,
      0.001687,
      -0.029573,
      -0.050081,
      -0.003458,
      0.00418,
      -0.041119,
      -0.043015,
      0.076554,
      0.09513,
      0.046581,
      0.01903,
      0.006566,
      0.004682,
      -0.026009,
      -0.056327,
      -0.050159,
      -0.014961,
      0.041853,
      -0.041324,
      0.033785,
      0.015282,
      -0.017933,
      -0.020599,
      -0.012528,
      0.013333,
      -0.0177,
      0.036417,
      0.003888,
      -0.002498,
      -0.025645,
      0.027177,
      0.015471,
      -0.00715,
      -0.00421,
      0.021909,
      0.001038,
      -0.000114,
      0.022044,
      -0.051354,
      -0.012381,
      0.001576,
      -0.007332,
      -0.022419,
      0.013366,
      0.016439,
      0.016903,
      -0.003546,
      -0.020559,
      0.011577,
      -0.019986,
      0.029019,
      0.007921,
      0.014292,
      -0.054023,
      0.018695,
      -0.064227,
      -0.010862,
      0.011131,
      0.007213,
      -0.063861,
      -0.033679,
      0.034955,
      -0.030367,
      -0.007787,
      -0.017733,
      0.013535,
      0.021584,
      -0.012398,
      0.010832,
      -0.025251,
      0.013608,
      0.017799,
      0.013243,
      -0.057439,
      -0.006543,
      0.039004,
      -0.037273,
      0.039419,
      -0.00602,
      0.030631,
      0.00751,
      0.034228,
      -0.018394,
      0.082966,
      -0.00178,
      -0.051223,
      -0.032318,
      -0.025697,
      0.013957,
      -0.00034,
      -0.026285,
      -0.014928,
      -0.013545,
      0.008397,
      0.009104,
      0.073212,
      -0.02023,
      0.020988,
      -0.018314,
      -0.038343,
      -0.005949,
      0.005675,
      0.055264,
      -0.01166,
      0.0432,
      -0.010824,
      0.029254,
      0.00307,
      0.019127,
      -0.005454,
      -0.007977,
      0.023918,
      0.014032,
      -0.02485,
      -0.020288,
      -0.007534,
      -0.023549,
      -0.003189,
      0.001482,
      0.013168,
      0.004121,
      -0.037734,
      -0.006725,
      0.085343,
      0.022117,
      -0.028581,
      -0.000517,
      0.029561,
      -0.008649,
      0.018993,
      -0.038185,
      -0.027059,
      -0.003616,
      0.062603,
      -0.036064,
      -0.001271,
      0.004892,
      -0.000171,
      -0.005053,
      0.015661,
      0.052886,
      0.036036,
      0.017359,
      -0.071012,
      0.051784,
      0.01444,
      -0.013598,
      -0.030038,
      -0.027616,
      -0.038512,
      0.008893,
      0.028856,
      0.000573,
      0.007442,
      -0.008539,
      -0.012199,
      -0.028503,
      0.065208,
      0.015025,
      -0.030412,
      -0.036217,
      0.043462,
      -0.029598,
      0.021437,
      0.020516,
      0.020013,
      0.025698,
      0.019162
    ]
  },
  {
    "id": "v5-whats-new-0",
    "content": "# What's New in v5\nBreadcrumb: What's New in v5\nCovers: New TypeScript Benefits | Complete TypeScript Rewrite | Typed Client | New Documentation | Framework Agnostic API | KoaJS Support | Lightning-Fast Routing | Service De-Registration | Custom Methods | Official Schemas | Schema-Driven Types | Configuration Schemas | Resolvers | Resolver Utility Hooks | Hooks vs Resolvers | More Powerful Hooks | Before, After, & Error Hooks | Around Hooks | Registering Hooks | When to use Around Hooks | Setup and Teardown Hooks | Rebuilt CLI | State of the Art | Fully TypeScript | Shared Types | New App Structure | The Future\nTopics: hooks, services, application, context, around hooks, error hooks, hook flow, find, get, create, update, patch, remove, custom methods, setup, teardown, github, discord, schema, resolver, typebox, validation, database, adapter, mongodb, memory, real-time, events, rest, http, transport, express, koa, middleware, bun, browser, node.js, feathers client, client, configuration, environment variables, errors, typescript, types, declarations, cli, generator, generate, test, deployment, upgrade, users\n\n## New TypeScript Benefits\n\nFeathers has been a TypeScript-friendly framework for years, but TypeScript support took a huge leap forward with Feathers Dove.\n\n### Complete TypeScript Rewrite\n\nWe've completely rewritten all of Feathers in TypeScript. And we're not talking about a lightweight TypeScript implementation. It's TypeScript all the way down. Everything from the official database adapters, built-in hooks, and utilities, right down to Feathers core. The newly-rebuilt [v5 CLI and generator](#rebuilt-cli) even produces a TypeScript application, by default.\n\nYou can find the shiny new TypeScript packages on GitHub, [here](https://github.com/feathersjs/feathers/tree/dove/packages).\n\n### Typed Client\n\nFeathers has had an isomorphic API - working equally well in browser and server - since 2016. Now with Dove, our [new CLI](#rebuilt-cli) generates **shared types for the Feathers server and client**. We even integrated the types with our new [schemas feature](#official-schemas), so you define your types once, in a single location, and use them everywhere. Everything still uses Feathers tried and proven [standard HTTP and websocket](../api/client.md) communication mechanism. There is no custom protocol or the slow parsing of a domain specific language (like GraphQL) necessary and since it is all plain TypeScript with type information removed at compile time, there is also no bundle size overhead.\n\nThanks to FeathersJS's clean, modular, loosely-coupled architecture, it was pleasantly simple to add this feature. This is another one of the benefits we get from building a pattern-driven framework.\n\nYou can learn more about the Feathers Client, [here](../guides/cli/client.md).\n\n## New Documentation\n\nThe new docs are built on [Vitepress](https://vitepress.vuejs.org/). It had become difficult to maintain all of the examples in two languages: JavaScript and TypeScript. To simplify, we now ONLY write documentation examples in TypeScript. You can still switch languages in the sidebar thanks to our custom highlighter for Vitepress, which transpiles TypeScript examples to JavaScript.\n\nYou can find the `docs` folder, [here](https://github.com/feathersjs/feathers/tree/dove/docs).\n\n## Framework Agnostic API\n\nIn 2016, we realized that we could decouple Feathers from the underlying HTTP transport, resulting in our first framework-agnostic, isomorphic build. As of Feathers v5, we now support three ways of using Feathers:\n\n- The Feathers client, which provides the same API in the browser, React Native and in Node.js.\n- The [KoaJS transport](../api/koa.md) (new in Feathers Dove)\n- The [ExpressJS transport](../api/express.md)\n\n### KoaJS Support\n\nThe CLI's official HTTP integration has always been built on the Express adapter. Lately, Express has been \"showing its age\", so we've made some inviting changes.\n\n- We've released the [`@feathersjs/koa`](../api/koa.md) adapter and utilities. Now Feathers apps can use [KoaJS](https://koajs.com/) as an API base.\n- The Feathers CLI now uses KoaJS as the default transport.\n- The Express adapter will continue to function alongside KoaJS.\n\nFeathersJS has its own, isomorphic middleware layer, based on [hooks](../api/hooks.md), so you likely won't need to tap into the middleware layer of any framework adapter. But, in those cases that you need framework middleware, it's available to you.\n\nRead about the KoaJS adapter, [here](../api/koa.md).\n\n### Lightning-Fast Routing\n\nFeathers just got a huge speed upgrade, now including its own [Radix Trie](https://iq.opengenus.org/radix-tree/) router. This means that the algorithm behind Fastify's speed is now built into Feathers, and it works no matter which framework transport you use under the hood.\n\nThe best part about the new router is that there's not another API you have to learn in order to use Feathers. It just works.\n\nFor those who want to build a custom framework transport, there's a single `.lookup` method which routes requests through Feathers.\n\nLearn about the `lookup` method, [here](/api/application#lookup).\n\n### Service De-Registration\n\nNow that Feathers comes with [its own router](#lightning-fast-routing), it's possible to de-register a service to completely remove it from the application. This allows you to build cleaner, dynamically generated applications. This is a coveted feature for those who want to build, for example, a dynamic CRUD admin application that's driven by some sort of schema.\n\nLearn about service de-registration [here](../api/application.md#unusepath).\n\n## Custom Methods\n\nWhile Feathers [standard service methods](../api/services.md) cover 90% of the functionality you need to create and modify data, a service might also provide other custom functionality making custom Method creation one of the most-requested features for Feathers. Feathers Dove introduces an elegant solution for custom methods on top of the Feathers service interface.\n\nWhen you define your service class, you can specify additional methods on the class to create an internal-only method. To expose the method to the public API, add the method's name to the `methods` options when registering the service. Custom methods are similar to the `create` method, so you can POST to them when using HTTP-based adapters.\n\nRead more about custom methods, [here](../api/services#custom-methods).\n\n## Official Schemas\n\nFeathers Dove (v5) introduces new, official tools for data validation in the new core package, [@feathersjs/schema](../api/schema/index.md). This same package includes schema-based resolvers, which you'll learn about in the next section. Schemas are powered by JSON Schema (an IETF standard) which makes them powerful and portable.\n\n### Schema-Driven Types\n\nOne of the problems we wanted to avoid was the need to define schemas and/or types in multiple places. If we had a motto/slogan for types, it would be\n\n**\"Define it once, use it everywhere.\"**\n\nSo in Feathers Dove, when you create a schema, it dynamically generates validation and proper TypeScript types. You can use the powerful and concise [TypeBox schema format](../api/schema/typebox.md) or [plain JSON schema](../api/schema/schema.md).\n\n### Configuration Schemas\n\nIf you've ever experienced pains of deploying to production, you'll appreciate this feature. When your app starts in production, all of your configuration and environment variables are checked against the configuration schema. The app won't start if the schema validation fails. This keeps bugs from missing environment variables from showing up in production days to weeks after deployment.\n\nConfiguration schemas also produce TypeScript types, so the [TypeScript improvements](#new-typescript-benefits) in Feathers Dove include typed configuration lookup for `app.get()` and `app.set()`. It's really convenient.\n\nRead more about configuration schemas, [here](/api/configuration#configuration-schema)\n\n## Resolvers\n\nCombined with the new [schemas](#official-schemas), resolvers allow to dynamically populate properties. It's a powerful tool that has many use cases from populating associations, securing queries or protecting secure data to easily setting values like the creation date or associated user. See the [chat guide](../guides/basics/generator.md) for an example on how to set the user avatar, populate the user associated with a message and let users only modify their own data.\n\n### Resolver Utility Hooks\n\nResolvers are powered by new hook utilities:\n\n- [resolveData](../api/schema/resolvers.md#data-resolvers) for incoming data.\n- [resolveResult](../api/schema/resolvers.md#result-resolvers) for results coming from databases or other services\n- [resolveDispatch](../api/schema/resolvers.md#safe-data-resolvers) for cleanly defining safe data for WebSocket / Real-time events.\n- [resolveQuery](../api/schema/resolvers.md#query-resolvers) for incoming query parameters\n\nRead about the new hooks using the links, above. These new hook utils allow you to\n\n- More cleanly manage properties on incoming records, query objects, and/or results\n- Perform advanced validation beyond what's possible with JSON Schema.\n- More efficiently write code for populating relational data (often faster than a normal ORM)\n- Save yourself a lot of boilerplate compared to writing the three features, above, manually with hooks.\n\nYou can start using resolvers right away. The new [CLI](../guides/basics/services#generating-a-service) generates them with all new services. Resolvers are one of the new tools provided in the new core package: [@feathersjs/schema](../api/schema/index.md).\n\nYou can read more about resolvers, [here](../api/schema/resolvers.md).\n\n### Hooks vs Resolvers\n\nAt first glance, choosing where to put logic might seem complex. Should the feature go into a hook or a resolver? Here are some general guidelines to assist you:\n\n- Data manipulation and **custom** validation probably fit best in a resolver.\n- Adding or pulling in data from other sources will likely fit best in a resolver.\n- Side effects that manipulate external data should go into a hook with few exceptions.\n\n## More Powerful Hooks\n\nIn Feathers Dove there are now two hook formats. One for `before`, `after`, and `error` hooks, and a new one for `around` hooks:\n\n- **Before, after, and error hooks** have been Feathers' most-used API for years.\n  - Are registered as `before`, `after`, or `error` hooks in the hook object.\n  - Continue to work fully in Feathers Dove.\n  - Are less powerful than the new \"around\" hooks, but visually simpler.\n- **Around Hooks** are new in Feathers Dove.\n  - Are registered in the `around` key of a hook object.\n  - Are capable of handling before, after, and error logic, all within a single hook function.\n  - Have a slightly different function definition than before, after, and error hooks\n  - Are more powerful yet also more visually complex (The \"after\" part of each hook runs in reverse-registered order).\n\nLet's compare the signature of the two types of hooks.\n\n### Before, After, & Error Hooks\n\nLet's look at an example of the before/after/error hook format. These hooks receive the `context` as their only argument. They return either the `context` object or `undefined`.\n\n```ts\nimport type { HookContext } from '../../declarations'\n\nexport const myHook = async (context: HookContext) => {\n  return context\n}\n```\n\nYou can learn more about before/after/error hooks, [here](../api/hooks.md#before-after-and-error)\n\n### Around Hooks\n\nNow let's see an around hook. An around hook receives two arguments: the `context` object and a `next` function.\n\n```ts\nimport type { HookContext, NextFunction } from '../../declarations'\n\nexport const myHook = async (context: HookContext, next: NextFunction) => {\n  await next()\n}\n```\n\nYou can learn more about around hooks, [here](../api/hooks.md#around)\n\n### Registering Hooks\n\nThe hooks object now has a new `around` property, which is specifically for `around` hooks. Since around hooks have different function signatures, they are not interchangeable with before/after/error hooks.\n\n```ts\nexport const serviceHooks = {\n  // `around` hook are new in Feathers Dove\n  around: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n  // before/after/error hooks also continue to work\n  before: {},\n  after: {},\n  error: {}\n}\n```\n\nLearn more about registering hooks, [here](../api/hooks.md#registering-hooks).\n\n### When to use Around Hooks\n\nUsing `around` hooks or `regular` hooks is mostly a matter of preference. There's no imminent need to rewrite all of your regular hooks into around hooks. Both hooks work together, as explained [here](/api/hooks#hook-flow).\n\nStarting with Dove, the CLI templates and new tooling features are written in `around` hooks. The around hooks simplify code in core tools because we can keep the logic for the entire hook flow (before, after, error) all in one file.\n\nHere are a couple of examples of where `around` hooks work really well:\n\n> **Data Caching Example:**\n> \n> One great use case for `around` hooks is data caching. A caching hook typically has the following responsibilities:\n> \n> - Check the cache for existing results. (before the service method executes)\n> - Push new results into the cache, once received. (after the service method executes)\n> - Handle and report errors which occur in the hook.\n> \n> With regular hooks, a cache hook has to be split into three parts, one for each responsibility. Instead, a single `around` hook can handle everything on its own.\n> \n> Below is an example of an overly-simple cache hook using JavaScript's `Map` API. Everything before `await next()` runs before the database call. Everything afterwards runs after the database call. You could also drop in a try/catch to handle possible errors.\n> \n> ```ts\n> import type { HookContext, NextFunction } from '../../declarations'\n> \n> export const simpleCache = new Map()\n> \n> export const myHook = async (context: HookContext, next: NextFunction) => {\n>   // Check the cache for an existing record\n>   const existing = simpleCache.get(context.id)\n> \n>   // If an existing record was found, set it as context.result to skip the database call.\n>   if (existing) {\n>     context.result = existing\n>   }\n> \n>   await next()\n> \n>   // Cache the latest record by its id\n>   simpleCache.set(context.result.id, context.result)\n> }\n> ```\n>\n\n### Setup and Teardown Hooks\n\nFeathers v5 Dove adds built-in support for app-level `setup` and `teardown` hooks. They are special hooks that don't run on the service level but instead directly on [app.setup](../api/application.md#setupserver) or `app.listen` and [app.teardown](../api/application.md#teardownserver). They allow you to perform some async logic while starting and stopping the Feathers server.\n\n```ts\napp.hooks({\n  setup: [connectMongoDB],\n  teardown: [closeMongoDB]\n})\n```\n\nLearn more about `setup` and `teardown` hooks, [here](../api/hooks.md#setup-and-teardown)\n\n## Rebuilt CLI\n\nThe new CLI is completely different under the hood, and very familiar on the surface. There are a few differences in file structure compared to apps generated with previous versions of the CLI.\n\n### State of the Art\n\nWhen creating the new generator, we looked at open-source generators already available. We were very impressed with [Hygen](https://hygen.io). It's absolutely impressive work, for sure, so we even wrote a custom generator to try it out. Then [@fratzinger](https://github.com/fratzinger) came up with the idea of a 100% TypeScript generator based on JavaScript template strings. We couldn't find an existing project, so we made one!\n\nThe new Feathers CLI is built on top of [Pinion](https://github.com/feathershq/pinion), our own generator with TypeScript-based templates. Instead of using some custom templating language, like Handlebars or EJS, Pinion uses Typed [Template Literals](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals), providing some wonderful benefits:\n\n- No more mystery context. You always know the exact context of the templates and what helpers are available.\n- It just worksâ„¢ with existing npm packages. There's no need to make an EJS plugin for some custom helper using an obscure API. Just import the module and use it in your template.\n- Integrates with all existing TypeScript tooling. Hover over a variable and inspect the context like you would any TS code.\n\nNow that we have what we consider the best generator on the planet, we have some exciting plans for the Feathers CLI, which we will announce in the future.\n\nYou can read more about Pinion, [here](https://github.com/feathershq/pinion)\n\n### Fully TypeScript\n\nWe have dramatically reduced the surface area for bugs to be introduced into the app. We've committed 100% to TypeScript, while making sure that you can still generate a JavaScript app.\n\nWhen you select `JavaScript` to generate an app, the CLI works some magic under the hood by\n\n- Compiling the `.ts` templates to JavaScript, in memory\n- Formatting the JavaScript code with Prettier\n- Writing clean `.js` to the file system.\n\nFor Feathers Maintainers, committing to TypeScript means we only contribute to a single set of templates. And they get magically compiled - on the fly - to plain JavaScript when you want it.\n\n### Shared Types\n\nWe covered this [in more detail, earlier](#typed-client), but it's worth briefly mentioning again. The new generator powers Shared Types for both the Feathers server and client. You can make your public-facing API easier to use and give developers a typed client SDK.\n\nRead more about shared types, [here](#typed-client).\n\n### New App Structure\n\nThe file and folder structure of generated apps has changed a little bit. Here's an overview of the changes:\n\n- Each service has its own schema and resolver file\n- The service hooks are now found together with the service registration.\n- The `src/models` folder no longer gets created, since [Feathers schemas](#official-schemas) replace models.\n- Each service has its own folder inside the `tests` folder.\n\nYou can learn more about the generated files in the [CLI guide](./cli/index.md).\n\n## The Future\n\nWe are self-funded and community powered. In every way, Feathers has a solid foundation for a steady, stable future. How did we ever manage to build such a great framework without millions of dollars? Really, we have a wonderful, active community of contributors who share values of good API design, boilerplate elimination, and making development fun. This is rewarding for us!\n\nWe started in 2013 from a core architecture that's unique among frameworks - in **any** language. We offer the same API across multiple transports, which allows us all to build real-time, restful applications. The result is a robust, flexible framework that continues to be unique while showing its maturity. Feathers has made its way into enterprises that serve a large portion of the connected planet. With all of the new features in Feathers v5 (Dove), we're excited to build! And we're even more excited to see what you build!\n\nWe have a few more things to show off in the coming months. Stay tuned!\n\nEnjoy the release! And come chat with us on [Discord](https://discord.gg/qa8kez8QBx) when you feel like it.",
    "rawContent": "## New TypeScript Benefits\n\nFeathers has been a TypeScript-friendly framework for years, but TypeScript support took a huge leap forward with Feathers Dove.\n\n### Complete TypeScript Rewrite\n\nWe've completely rewritten all of Feathers in TypeScript. And we're not talking about a lightweight TypeScript implementation. It's TypeScript all the way down. Everything from the official database adapters, built-in hooks, and utilities, right down to Feathers core. The newly-rebuilt [v5 CLI and generator](#rebuilt-cli) even produces a TypeScript application, by default.\n\nYou can find the shiny new TypeScript packages on GitHub, [here](https://github.com/feathersjs/feathers/tree/dove/packages).\n\n### Typed Client\n\nFeathers has had an isomorphic API - working equally well in browser and server - since 2016. Now with Dove, our [new CLI](#rebuilt-cli) generates **shared types for the Feathers server and client**. We even integrated the types with our new [schemas feature](#official-schemas), so you define your types once, in a single location, and use them everywhere. Everything still uses Feathers tried and proven [standard HTTP and websocket](../api/client.md) communication mechanism. There is no custom protocol or the slow parsing of a domain specific language (like GraphQL) necessary and since it is all plain TypeScript with type information removed at compile time, there is also no bundle size overhead.\n\nThanks to FeathersJS's clean, modular, loosely-coupled architecture, it was pleasantly simple to add this feature. This is another one of the benefits we get from building a pattern-driven framework.\n\nYou can learn more about the Feathers Client, [here](../guides/cli/client.md).\n\n## New Documentation\n\nThe new docs are built on [Vitepress](https://vitepress.vuejs.org/). It had become difficult to maintain all of the examples in two languages: JavaScript and TypeScript. To simplify, we now ONLY write documentation examples in TypeScript. You can still switch languages in the sidebar thanks to our custom highlighter for Vitepress, which transpiles TypeScript examples to JavaScript.\n\nYou can find the `docs` folder, [here](https://github.com/feathersjs/feathers/tree/dove/docs).\n\n## Framework Agnostic API\n\nIn 2016, we realized that we could decouple Feathers from the underlying HTTP transport, resulting in our first framework-agnostic, isomorphic build. As of Feathers v5, we now support three ways of using Feathers:\n\n- The Feathers client, which provides the same API in the browser, React Native and in Node.js.\n- The [KoaJS transport](../api/koa.md) (new in Feathers Dove)\n- The [ExpressJS transport](../api/express.md)\n\n### KoaJS Support\n\nThe CLI's official HTTP integration has always been built on the Express adapter. Lately, Express has been \"showing its age\", so we've made some inviting changes.\n\n- We've released the [`@feathersjs/koa`](../api/koa.md) adapter and utilities. Now Feathers apps can use [KoaJS](https://koajs.com/) as an API base.\n- The Feathers CLI now uses KoaJS as the default transport.\n- The Express adapter will continue to function alongside KoaJS.\n\nFeathersJS has its own, isomorphic middleware layer, based on [hooks](../api/hooks.md), so you likely won't need to tap into the middleware layer of any framework adapter. But, in those cases that you need framework middleware, it's available to you.\n\nRead about the KoaJS adapter, [here](../api/koa.md).\n\n### Lightning-Fast Routing\n\nFeathers just got a huge speed upgrade, now including its own [Radix Trie](https://iq.opengenus.org/radix-tree/) router. This means that the algorithm behind Fastify's speed is now built into Feathers, and it works no matter which framework transport you use under the hood.\n\nThe best part about the new router is that there's not another API you have to learn in order to use Feathers. It just works.\n\nFor those who want to build a custom framework transport, there's a single `.lookup` method which routes requests through Feathers.\n\nLearn about the `lookup` method, [here](/api/application#lookup).\n\n### Service De-Registration\n\nNow that Feathers comes with [its own router](#lightning-fast-routing), it's possible to de-register a service to completely remove it from the application. This allows you to build cleaner, dynamically generated applications. This is a coveted feature for those who want to build, for example, a dynamic CRUD admin application that's driven by some sort of schema.\n\nLearn about service de-registration [here](../api/application.md#unusepath).\n\n## Custom Methods\n\nWhile Feathers [standard service methods](../api/services.md) cover 90% of the functionality you need to create and modify data, a service might also provide other custom functionality making custom Method creation one of the most-requested features for Feathers. Feathers Dove introduces an elegant solution for custom methods on top of the Feathers service interface.\n\nWhen you define your service class, you can specify additional methods on the class to create an internal-only method. To expose the method to the public API, add the method's name to the `methods` options when registering the service. Custom methods are similar to the `create` method, so you can POST to them when using HTTP-based adapters.\n\nRead more about custom methods, [here](../api/services#custom-methods).\n\n## Official Schemas\n\nFeathers Dove (v5) introduces new, official tools for data validation in the new core package, [@feathersjs/schema](../api/schema/index.md). This same package includes schema-based resolvers, which you'll learn about in the next section. Schemas are powered by JSON Schema (an IETF standard) which makes them powerful and portable.\n\n### Schema-Driven Types\n\nOne of the problems we wanted to avoid was the need to define schemas and/or types in multiple places. If we had a motto/slogan for types, it would be\n\n**\"Define it once, use it everywhere.\"**\n\nSo in Feathers Dove, when you create a schema, it dynamically generates validation and proper TypeScript types. You can use the powerful and concise [TypeBox schema format](../api/schema/typebox.md) or [plain JSON schema](../api/schema/schema.md).\n\n### Configuration Schemas\n\nIf you've ever experienced pains of deploying to production, you'll appreciate this feature. When your app starts in production, all of your configuration and environment variables are checked against the configuration schema. The app won't start if the schema validation fails. This keeps bugs from missing environment variables from showing up in production days to weeks after deployment.\n\nConfiguration schemas also produce TypeScript types, so the [TypeScript improvements](#new-typescript-benefits) in Feathers Dove include typed configuration lookup for `app.get()` and `app.set()`. It's really convenient.\n\nRead more about configuration schemas, [here](/api/configuration#configuration-schema)\n\n## Resolvers\n\nCombined with the new [schemas](#official-schemas), resolvers allow to dynamically populate properties. It's a powerful tool that has many use cases from populating associations, securing queries or protecting secure data to easily setting values like the creation date or associated user. See the [chat guide](../guides/basics/generator.md) for an example on how to set the user avatar, populate the user associated with a message and let users only modify their own data.\n\n### Resolver Utility Hooks\n\nResolvers are powered by new hook utilities:\n\n- [resolveData](../api/schema/resolvers.md#data-resolvers) for incoming data.\n- [resolveResult](../api/schema/resolvers.md#result-resolvers) for results coming from databases or other services\n- [resolveDispatch](../api/schema/resolvers.md#safe-data-resolvers) for cleanly defining safe data for WebSocket / Real-time events.\n- [resolveQuery](../api/schema/resolvers.md#query-resolvers) for incoming query parameters\n\nRead about the new hooks using the links, above. These new hook utils allow you to\n\n- More cleanly manage properties on incoming records, query objects, and/or results\n- Perform advanced validation beyond what's possible with JSON Schema.\n- More efficiently write code for populating relational data (often faster than a normal ORM)\n- Save yourself a lot of boilerplate compared to writing the three features, above, manually with hooks.\n\nYou can start using resolvers right away. The new [CLI](../guides/basics/services#generating-a-service) generates them with all new services. Resolvers are one of the new tools provided in the new core package: [@feathersjs/schema](../api/schema/index.md).\n\nYou can read more about resolvers, [here](../api/schema/resolvers.md).\n\n### Hooks vs Resolvers\n\nAt first glance, choosing where to put logic might seem complex. Should the feature go into a hook or a resolver? Here are some general guidelines to assist you:\n\n- Data manipulation and **custom** validation probably fit best in a resolver.\n- Adding or pulling in data from other sources will likely fit best in a resolver.\n- Side effects that manipulate external data should go into a hook with few exceptions.\n\n## More Powerful Hooks\n\nIn Feathers Dove there are now two hook formats. One for `before`, `after`, and `error` hooks, and a new one for `around` hooks:\n\n- **Before, after, and error hooks** have been Feathers' most-used API for years.\n  - Are registered as `before`, `after`, or `error` hooks in the hook object.\n  - Continue to work fully in Feathers Dove.\n  - Are less powerful than the new \"around\" hooks, but visually simpler.\n- **Around Hooks** are new in Feathers Dove.\n  - Are registered in the `around` key of a hook object.\n  - Are capable of handling before, after, and error logic, all within a single hook function.\n  - Have a slightly different function definition than before, after, and error hooks\n  - Are more powerful yet also more visually complex (The \"after\" part of each hook runs in reverse-registered order).\n\nLet's compare the signature of the two types of hooks.\n\n### Before, After, & Error Hooks\n\nLet's look at an example of the before/after/error hook format. These hooks receive the `context` as their only argument. They return either the `context` object or `undefined`.\n\n```ts\nimport type { HookContext } from '../../declarations'\n\nexport const myHook = async (context: HookContext) => {\n  return context\n}\n```\n\nYou can learn more about before/after/error hooks, [here](../api/hooks.md#before-after-and-error)\n\n### Around Hooks\n\nNow let's see an around hook. An around hook receives two arguments: the `context` object and a `next` function.\n\n```ts\nimport type { HookContext, NextFunction } from '../../declarations'\n\nexport const myHook = async (context: HookContext, next: NextFunction) => {\n  await next()\n}\n```\n\nYou can learn more about around hooks, [here](../api/hooks.md#around)\n\n### Registering Hooks\n\nThe hooks object now has a new `around` property, which is specifically for `around` hooks. Since around hooks have different function signatures, they are not interchangeable with before/after/error hooks.\n\n```ts\nexport const serviceHooks = {\n  // `around` hook are new in Feathers Dove\n  around: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n  // before/after/error hooks also continue to work\n  before: {},\n  after: {},\n  error: {}\n}\n```\n\nLearn more about registering hooks, [here](../api/hooks.md#registering-hooks).\n\n### When to use Around Hooks\n\nUsing `around` hooks or `regular` hooks is mostly a matter of preference. There's no imminent need to rewrite all of your regular hooks into around hooks. Both hooks work together, as explained [here](/api/hooks#hook-flow).\n\nStarting with Dove, the CLI templates and new tooling features are written in `around` hooks. The around hooks simplify code in core tools because we can keep the logic for the entire hook flow (before, after, error) all in one file.\n\nHere are a couple of examples of where `around` hooks work really well:\n\n> **Data Caching Example:**\n> \n> One great use case for `around` hooks is data caching. A caching hook typically has the following responsibilities:\n> \n> - Check the cache for existing results. (before the service method executes)\n> - Push new results into the cache, once received. (after the service method executes)\n> - Handle and report errors which occur in the hook.\n> \n> With regular hooks, a cache hook has to be split into three parts, one for each responsibility. Instead, a single `around` hook can handle everything on its own.\n> \n> Below is an example of an overly-simple cache hook using JavaScript's `Map` API. Everything before `await next()` runs before the database call. Everything afterwards runs after the database call. You could also drop in a try/catch to handle possible errors.\n> \n> ```ts\n> import type { HookContext, NextFunction } from '../../declarations'\n> \n> export const simpleCache = new Map()\n> \n> export const myHook = async (context: HookContext, next: NextFunction) => {\n>   // Check the cache for an existing record\n>   const existing = simpleCache.get(context.id)\n> \n>   // If an existing record was found, set it as context.result to skip the database call.\n>   if (existing) {\n>     context.result = existing\n>   }\n> \n>   await next()\n> \n>   // Cache the latest record by its id\n>   simpleCache.set(context.result.id, context.result)\n> }\n> ```\n>\n\n### Setup and Teardown Hooks\n\nFeathers v5 Dove adds built-in support for app-level `setup` and `teardown` hooks. They are special hooks that don't run on the service level but instead directly on [app.setup](../api/application.md#setupserver) or `app.listen` and [app.teardown](../api/application.md#teardownserver). They allow you to perform some async logic while starting and stopping the Feathers server.\n\n```ts\napp.hooks({\n  setup: [connectMongoDB],\n  teardown: [closeMongoDB]\n})\n```\n\nLearn more about `setup` and `teardown` hooks, [here](../api/hooks.md#setup-and-teardown)\n\n## Rebuilt CLI\n\nThe new CLI is completely different under the hood, and very familiar on the surface. There are a few differences in file structure compared to apps generated with previous versions of the CLI.\n\n### State of the Art\n\nWhen creating the new generator, we looked at open-source generators already available. We were very impressed with [Hygen](https://hygen.io). It's absolutely impressive work, for sure, so we even wrote a custom generator to try it out. Then [@fratzinger](https://github.com/fratzinger) came up with the idea of a 100% TypeScript generator based on JavaScript template strings. We couldn't find an existing project, so we made one!\n\nThe new Feathers CLI is built on top of [Pinion](https://github.com/feathershq/pinion), our own generator with TypeScript-based templates. Instead of using some custom templating language, like Handlebars or EJS, Pinion uses Typed [Template Literals](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals), providing some wonderful benefits:\n\n- No more mystery context. You always know the exact context of the templates and what helpers are available.\n- It just worksâ„¢ with existing npm packages. There's no need to make an EJS plugin for some custom helper using an obscure API. Just import the module and use it in your template.\n- Integrates with all existing TypeScript tooling. Hover over a variable and inspect the context like you would any TS code.\n\nNow that we have what we consider the best generator on the planet, we have some exciting plans for the Feathers CLI, which we will announce in the future.\n\nYou can read more about Pinion, [here](https://github.com/feathershq/pinion)\n\n### Fully TypeScript\n\nWe have dramatically reduced the surface area for bugs to be introduced into the app. We've committed 100% to TypeScript, while making sure that you can still generate a JavaScript app.\n\nWhen you select `JavaScript` to generate an app, the CLI works some magic under the hood by\n\n- Compiling the `.ts` templates to JavaScript, in memory\n- Formatting the JavaScript code with Prettier\n- Writing clean `.js` to the file system.\n\nFor Feathers Maintainers, committing to TypeScript means we only contribute to a single set of templates. And they get magically compiled - on the fly - to plain JavaScript when you want it.\n\n### Shared Types\n\nWe covered this [in more detail, earlier](#typed-client), but it's worth briefly mentioning again. The new generator powers Shared Types for both the Feathers server and client. You can make your public-facing API easier to use and give developers a typed client SDK.\n\nRead more about shared types, [here](#typed-client).\n\n### New App Structure\n\nThe file and folder structure of generated apps has changed a little bit. Here's an overview of the changes:\n\n- Each service has its own schema and resolver file\n- The service hooks are now found together with the service registration.\n- The `src/models` folder no longer gets created, since [Feathers schemas](#official-schemas) replace models.\n- Each service has its own folder inside the `tests` folder.\n\nYou can learn more about the generated files in the [CLI guide](./cli/index.md).\n\n## The Future\n\nWe are self-funded and community powered. In every way, Feathers has a solid foundation for a steady, stable future. How did we ever manage to build such a great framework without millions of dollars? Really, we have a wonderful, active community of contributors who share values of good API design, boilerplate elimination, and making development fun. This is rewarding for us!\n\nWe started in 2013 from a core architecture that's unique among frameworks - in **any** language. We offer the same API across multiple transports, which allows us all to build real-time, restful applications. The result is a robust, flexible framework that continues to be unique while showing its maturity. Feathers has made its way into enterprises that serve a large portion of the connected planet. With all of the new features in Feathers v5 (Dove), we're excited to build! And we're even more excited to see what you build!\n\nWe have a few more things to show off in the coming months. Stay tuned!\n\nEnjoy the release! And come chat with us on [Discord](https://discord.gg/qa8kez8QBx) when you feel like it.",
    "breadcrumb": "What's New in v5",
    "version": "v5",
    "sourceFile": "docs/v5_docs/guides/whats-new.md",
    "heading": "What's New in v5",
    "subHeadings": [
      "New TypeScript Benefits",
      "Complete TypeScript Rewrite",
      "Typed Client",
      "New Documentation",
      "Framework Agnostic API",
      "KoaJS Support",
      "Lightning-Fast Routing",
      "Service De-Registration",
      "Custom Methods",
      "Official Schemas",
      "Schema-Driven Types",
      "Configuration Schemas",
      "Resolvers",
      "Resolver Utility Hooks",
      "Hooks vs Resolvers",
      "More Powerful Hooks",
      "Before, After, & Error Hooks",
      "Around Hooks",
      "Registering Hooks",
      "When to use Around Hooks",
      "Setup and Teardown Hooks",
      "Rebuilt CLI",
      "State of the Art",
      "Fully TypeScript",
      "Shared Types",
      "New App Structure",
      "The Future"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text"
    ],
    "tokens": 4555,
    "category": "guides",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "around hooks",
      "error hooks",
      "hook flow",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "remove",
      "custom methods",
      "setup",
      "teardown",
      "github",
      "discord",
      "schema",
      "resolver",
      "typebox",
      "validation",
      "database",
      "adapter",
      "mongodb",
      "memory",
      "real-time",
      "events",
      "rest",
      "http",
      "transport",
      "express",
      "koa",
      "middleware",
      "bun",
      "browser",
      "node.js",
      "feathers client",
      "client",
      "configuration",
      "environment variables",
      "errors",
      "typescript",
      "types",
      "declarations",
      "cli",
      "generator",
      "generate",
      "test",
      "deployment",
      "upgrade",
      "users"
    ],
    "embedding": [
      -0.00378,
      -0.023394,
      -0.060835,
      0.018607,
      0.018299,
      -0.018594,
      0.017593,
      0.049212,
      -0.002101,
      0.029783,
      -0.008517,
      -0.006673,
      -0.004552,
      0.013068,
      -0.040881,
      -0.030286,
      -0.028244,
      -0.034563,
      0.001951,
      -0.062563,
      -0.077149,
      0.003502,
      -0.008832,
      -0.013508,
      0.02005,
      0.016961,
      0.003144,
      -0.03493,
      -0.003321,
      0.039622,
      0.039732,
      0.046307,
      -0.012591,
      0.035646,
      -0.018681,
      -0.045798,
      0.014024,
      0.02181,
      -0.037936,
      0.018546,
      -0.004819,
      -0.003923,
      -0.02549,
      -0.021302,
      0.014923,
      -0.031217,
      0.001061,
      -0.006894,
      0.031446,
      -0.0252,
      -0.00451,
      -0.020925,
      0.039281,
      -0.063277,
      0.051759,
      0.010928,
      -0.040642,
      -0.014193,
      -0.073112,
      -0.009466,
      -0.059766,
      -0.007021,
      -0.002156,
      -0.03015,
      0.022853,
      0.051724,
      -0.019418,
      -0.003514,
      -0.017147,
      -0.015255,
      0.00497,
      0.00431,
      -0.001725,
      0.018115,
      -0.060957,
      0.019119,
      0.015349,
      -0.009113,
      -0.02756,
      0.034857,
      -0.003483,
      -0.011274,
      0.012522,
      0.006021,
      -0.006749,
      0.027653,
      -0.024026,
      0.03044,
      0.020921,
      0.002973,
      -0.030896,
      -0.03771,
      0.060907,
      -0.058326,
      -0.03586,
      0.033682,
      -0.00818,
      0.029427,
      0.023508,
      0.004997,
      -0.006025,
      0.019801,
      -0.002522,
      -0.025631,
      0.037153,
      -0.024472,
      0.019992,
      0.013171,
      0.00113,
      -0.025749,
      -0.008419,
      -0.017334,
      -0.003912,
      -0.00762,
      -0.015746,
      -0.025395,
      0.034726,
      -0.028406,
      -0.006645,
      0.018036,
      0.008333,
      0.026652,
      0.047013,
      -0.04277,
      -0.028407,
      0.018527,
      -0.02032,
      0.035166,
      0.011236,
      0.02906,
      0.035739,
      -0.03982,
      -0.020265,
      -0.011877,
      -0.040886,
      0.015082,
      -0.015687,
      0.032221,
      -0.023317,
      -0.018255,
      0.032861,
      0.005054,
      -0.016343,
      -0.010928,
      0.034264,
      -0.039754,
      0.066425,
      0.014964,
      -0.03884,
      -0.028176,
      0.031706,
      0.010794,
      -0.019195,
      -0.028353,
      0.032116,
      -0.071481,
      0.038547,
      0.019839,
      0.046441,
      0.008239,
      0.017826,
      -0.000659,
      -0.008586,
      0.00026,
      0.088326,
      0.019799,
      0.023938,
      -0.015948,
      0.002129,
      -0.023225,
      -0.009709,
      -0.000129,
      0.018673,
      0.026249,
      0.051186,
      0.00974,
      0.069773,
      0.023108,
      0.038808,
      -0.07699,
      -0.031393,
      0.006186,
      0.00082,
      -0.04747,
      -0.032186,
      -0.052243,
      -0.030117,
      -0.04422,
      -0.016963,
      0.028365,
      -0.014048,
      -0.016568,
      0.067354,
      0.060977,
      0.039245,
      0.034146,
      -0.005846,
      -0.032293,
      0.019939,
      0.006343,
      0.029363,
      0.021503,
      0.049572,
      0.007824,
      -0.052719,
      -0.050562,
      -0.01457,
      -0.039005,
      -0.009905,
      -0.042924,
      0.004059,
      0.012032,
      -0.003481,
      0.016339,
      -0.013508,
      -0.022574,
      -0.03031,
      0.020512,
      0.004831,
      -0.021285,
      0.025542,
      0.009579,
      0.050534,
      -0.01878,
      0.018839,
      0.013982,
      0.004568,
      0.014151,
      -0.030239,
      0.010134,
      0.018473,
      0.045092,
      0.017189,
      -0.013561,
      0.039208,
      -0.028998,
      -0.014854,
      0.015099,
      0.022905,
      0.029115,
      0.022724,
      -0.072666,
      0.035671,
      -0.022474,
      -0.02044,
      -0.010271,
      0.034788,
      -0.002782,
      -0.03554,
      -0.002304,
      0.000244,
      0.03454,
      -0.011539,
      0.011957,
      -0.005286,
      0.013142,
      0.017239,
      -0.025579,
      -0.009823,
      -0.031572,
      0.004883,
      0.029138,
      0.007085,
      0.019045,
      0.015078,
      -0.031061,
      -0.047617,
      -0.061791,
      -0.003282,
      0.011779,
      -0.009124,
      0.011614,
      0.035084,
      0.015399,
      -0.038428,
      0.013299,
      -0.003901,
      -0.052287,
      0.105006,
      0.023056,
      -0.005962,
      0.040828,
      0.047407,
      0.048807,
      0.021388,
      0.036697,
      0.035815,
      -0.016745,
      0.044438,
      -0.028511,
      -0.001166,
      -0.004387,
      0.048333,
      -0.014591,
      -0.019212,
      -0.009263,
      0.035214,
      -0.14961,
      -0.020173,
      0.033188,
      -0.013405,
      0.005106,
      0.011231,
      -0.012528,
      0.009623,
      -0.067569,
      -0.011228,
      -0.000138,
      -0.037572,
      -0.026355,
      0.018833,
      0.013214,
      -0.007888,
      0.00752,
      0.000877,
      -0.001715,
      -0.024088,
      -0.028926,
      -0.018369,
      0.047001,
      0.010226,
      0.041209,
      -0.051506,
      -0.007856,
      0.039137,
      -0.029503,
      -0.001773,
      0.002888,
      0.020079,
      0.003103,
      0.026063,
      0.005562,
      -0.036111,
      -0.020501,
      0.004837,
      -0.02674,
      -0.050158,
      0.015501,
      0.017685,
      0.001989,
      -0.015733,
      0.01055,
      -0.035805,
      0.044424,
      0.02924,
      -0.000636,
      -0.02433,
      0.044026,
      -0.007442,
      0.028303,
      -0.029407,
      -0.022994,
      -0.015342,
      0.005534,
      0.048289,
      0.009684,
      -0.011243,
      0.014336,
      -0.001233,
      0.089313,
      -0.022556,
      -0.038754,
      0.006735,
      0.010453,
      -0.005302,
      -0.000002,
      -0.04418,
      0.044556,
      -0.036925,
      -0.012857,
      -0.00172,
      0.001448,
      0.006075,
      0.035571,
      -0.023154,
      -0.046497,
      -0.106014,
      0.014635,
      0.002993,
      -0.015377,
      0.028792,
      -0.033543,
      -0.018684,
      -0.016579,
      0.035113,
      0.05925,
      0.255085,
      0.021982,
      -0.016623,
      0.04057,
      0.078771,
      -0.005181,
      0.005702,
      0.065204,
      0.008056,
      -0.029257,
      0.01885,
      0.009392,
      0.011999,
      0.003357,
      -0.013718,
      -0.008948,
      -0.028359,
      0.022304,
      0.049828,
      -0.027552,
      0.007922,
      -0.042171,
      0.029038,
      0.044272,
      -0.087066,
      -0.058171,
      0.025253,
      0.052844,
      -0.039075,
      0.01457,
      0.005445,
      0.006226,
      0.018456,
      -0.084918,
      -0.084889,
      -0.042807,
      -0.000197,
      0.006139,
      -0.001947,
      -0.021,
      -0.047558,
      -0.008901,
      0.032472,
      -0.008741,
      -0.020194,
      -0.020095,
      -0.028101,
      0.017869,
      -0.046338,
      -0.079783,
      -0.043679,
      -0.033598,
      -0.036229,
      0.015837,
      0.006985,
      -0.018554,
      -0.008576,
      -0.030829,
      0.020642,
      0.002361,
      0.032902,
      0.028805,
      -0.05949,
      0.014127,
      0.023577,
      0.030048,
      0.030385,
      -0.037859,
      0.018866,
      0.031208,
      0.004626,
      0.019869,
      0.043378,
      -0.005504,
      -0.000527,
      0.003935,
      0.007096,
      0.036036,
      0.001374,
      0.040906,
      -0.022364,
      -0.005789,
      -0.031929,
      0.032467,
      0.033173,
      0.02058,
      -0.012911,
      0.052762,
      0.002134,
      -0.014402,
      -0.010555,
      -0.000479,
      -0.031472,
      0.037693,
      0.01682,
      0.028661,
      -0.024832,
      -0.016256,
      0.00403,
      -0.053726,
      0.002819,
      0.029377,
      0.010393,
      -0.039433,
      0.064028,
      -0.022748,
      0.009687,
      0.009267,
      0.000067,
      0.012509,
      -0.034932,
      0.010812,
      0.003038,
      -0.019255,
      0.006817,
      0.010794,
      0.039133,
      -0.002782,
      0.023499,
      -0.004862,
      -0.006262,
      0.020576,
      -0.002295,
      0.033744,
      -0.011877,
      -0.044356,
      -0.004369,
      0.001803,
      -0.033642,
      0.039117,
      0.050167,
      -0.05117,
      0.029738,
      0.036502,
      0.008333,
      0.011618,
      0.00126,
      0.027581,
      -0.006581,
      0.019658,
      -0.01306,
      -0.060105,
      0.001066,
      -0.005001,
      0.012201,
      0.042419,
      0.00753,
      -0.001804,
      0.003156,
      0.018085,
      0.01893,
      0.065003,
      0.000957,
      -0.044651,
      -0.021918,
      -0.01873,
      -0.01852,
      0.015257,
      0.012751,
      0.007989,
      -0.039275,
      0.022337,
      0.005632,
      0.0103,
      0.021751,
      -0.010809,
      0.014427,
      0.011868,
      0.007661,
      -0.014885,
      -0.05938,
      -0.021795,
      -0.026959,
      0.088191,
      -0.029179,
      0.000564,
      -0.032832,
      0.03075,
      0.044668,
      -0.017111,
      0.003032,
      0.037913,
      -0.048036,
      -0.039083,
      -0.013018,
      0.04552,
      -0.033378,
      -0.014131,
      0.006208,
      -0.029453,
      -0.042474,
      0.094201,
      -0.010513,
      0.005429,
      0.002753,
      0.016153,
      0.061644,
      0.015195,
      0.014165,
      -0.021602,
      -0.04271,
      0.061623,
      -0.001292,
      0.034399,
      -0.03645,
      0.01902,
      -0.023844,
      0.014588,
      -0.062374,
      -0.010356,
      0.015016,
      0.016049,
      -0.020829,
      -0.019496,
      -0.000437,
      -0.055217,
      0.030992,
      0.0037,
      -0.00876,
      0.009627,
      -0.007654,
      -0.024221,
      0.018067,
      -0.022207,
      0.02687,
      0.019039,
      -0.000905,
      -0.009427,
      -0.04199,
      0.000012,
      0.008498,
      0.038766,
      0.044069,
      -0.055596,
      0.031537,
      -0.018269,
      0.060132,
      0.015952,
      0.042968,
      -0.001172,
      0.042673,
      0.008265,
      0.059275,
      0.017516,
      -0.05261,
      -0.02132,
      -0.022446,
      -0.035284,
      -0.008768,
      -0.020744,
      0.000164,
      -0.009432,
      -0.0149,
      0.005842,
      -0.002822,
      0.001659,
      0.006542,
      0.001548,
      -0.009691,
      -0.00427,
      -0.005602,
      -0.020978,
      0.01436,
      0.009189,
      -0.014637,
      -0.030603,
      -0.011252,
      -0.023394,
      -0.017449,
      -0.008165,
      0.014168,
      -0.014319,
      -0.020163,
      -0.053103,
      0.040687,
      0.020282,
      -0.026836,
      -0.006527,
      -0.01306,
      -0.004385,
      -0.0384,
      0.010823,
      0.017349,
      -0.004958,
      0.003505,
      0.043119,
      0.027217,
      -0.032811,
      0.002183,
      -0.066741,
      0.011588,
      0.023874,
      -0.01234,
      -0.014072,
      -0.020662,
      -0.01326,
      -0.042813,
      0.042161,
      -0.030848,
      -0.009498,
      0.003377,
      0.026812,
      -0.000377,
      -0.025639,
      0.004268,
      0.01376,
      0.022517,
      -0.05322,
      0.014668,
      0.020711,
      -0.032722,
      -0.032928,
      -0.006755,
      0.017878,
      0.044628,
      -0.079517,
      0.050803,
      -0.041435,
      -0.015819,
      -0.0088,
      0.027529,
      0.023096,
      -0.001837,
      -0.018736,
      -0.026392,
      0.005763,
      0.018948,
      -0.053707,
      -0.047527,
      0.05785,
      -0.048622,
      0.000633,
      0.007653,
      -0.030415,
      0.0011,
      0.008709,
      0.018514,
      0.021416,
      0.051962,
      -0.014238,
      -0.023817,
      0.01296,
      0.043953,
      0.002112,
      0.039483,
      -0.036448,
      -0.015173,
      -0.020743,
      -0.030408,
      -0.003763,
      -0.010913,
      -0.021975,
      0.001648,
      -0.042605,
      0.035753,
      -0.007258,
      -0.050439,
      0.010546,
      0.036713,
      -0.012664,
      -0.015796,
      0.055733,
      -0.001338,
      -0.023596,
      -0.00639,
      0.015935,
      0.019352,
      -0.028409,
      -0.020913,
      -0.010653,
      0.009617,
      0.038731,
      0.007933,
      0.002122,
      -0.003533,
      0.026793,
      -0.044366,
      0.047089,
      0.005321,
      -0.004105,
      -0.023251,
      -0.026861,
      -0.010704,
      -0.003803,
      -0.007262,
      -0.002299,
      -0.021863,
      0.052687,
      0.034653,
      -0.002037,
      0.017743,
      0.047503,
      -0.02905,
      0.004476,
      -0.118129,
      0.018377,
      0.000855,
      0.015707,
      -0.044078,
      0.008974,
      0.000688,
      -0.015692,
      0.021026,
      -0.086889,
      -0.045883,
      0.007443,
      -0.006584,
      -0.004778,
      0.018213,
      0.005269,
      -0.014834,
      -0.008586,
      0.004992,
      0.02216,
      0.015904,
      -0.011372,
      0.012955,
      -0.021525,
      0.029701,
      0.034331,
      -0.038574,
      -0.023499,
      0.000245,
      0.039254,
      -0.00732,
      0.007181,
      0.016576,
      0.029125,
      -0.000512,
      0.015356,
      0.004947,
      -0.005872,
      -0.02176,
      0.026729,
      -0.001464,
      0.013185,
      -0.051452,
      0.024026,
      -0.022244,
      0.014168,
      0.001755,
      -0.057061,
      -0.034789,
      0.023687,
      -0.024247,
      0.015056,
      0.023532,
      0.055284,
      -0.003576,
      -0.008093,
      -0.030369,
      -0.011585,
      -0.065991,
      0.037966,
      -0.0224,
      0.04175,
      -0.017166,
      -0.026749,
      -0.05215,
      0.008151,
      -0.036625,
      0.03153,
      -0.015967,
      -0.013704,
      -0.040496,
      -0.06102,
      -0.022721,
      0.008394,
      0.027315,
      -0.012169,
      0.026178,
      -0.029391,
      -0.029529,
      0.01082,
      0.016782,
      0.008749,
      -0.105716,
      0.019116,
      0.054207,
      0.01405,
      0.013717,
      0.007525,
      -0.027084,
      0.024698,
      -0.006992,
      -0.047422,
      -0.024628,
      0.042522,
      -0.02962,
      0.030238,
      0.012738,
      -0.019795,
      0.018341,
      -0.019704,
      -0.043107,
      0.038295,
      0.015237,
      -0.031986,
      -0.003733,
      0.003631,
      0.020693,
      0.009382,
      -0.012853,
      0.023559,
      0.001952,
      -0.005582,
      -0.001004,
      -0.000484,
      -0.079207,
      -0.005369,
      0.013206,
      0.026243,
      -0.004684,
      -0.000356,
      0.007803,
      0.024689,
      -0.012566,
      -0.035535,
      0.031838,
      0.053763,
      0.017207,
      -0.005581,
      0.052987,
      -0.058854,
      0.045266,
      -0.029616,
      -0.032813,
      -0.001116,
      0.020653,
      -0.026083,
      -0.044673,
      0.040363,
      -0.023892,
      -0.031524,
      -0.045234,
      -0.007962,
      -0.008572,
      -0.003742,
      -0.016912,
      -0.009984,
      0.00612,
      0.045676,
      -0.040593,
      -0.012879,
      0.010579,
      0.006164,
      -0.042846,
      0.018138,
      -0.002241,
      0.00452,
      0.020789,
      -0.016242,
      -0.029944,
      0.056281,
      0.026853,
      -0.041958,
      0.005354,
      -0.025734,
      0.004068,
      -0.006818,
      -0.009932,
      -0.026601,
      -0.013024,
      0.012005,
      -0.014261,
      0.062107,
      0.010932,
      -0.026261,
      -0.001194,
      -0.018188,
      0.003508,
      0.01373,
      0.028209,
      -0.01739,
      0.037203,
      0.001765,
      0.045895,
      0.016568,
      0.016616,
      -0.016329,
      0.003675,
      -0.010834,
      0.054642,
      -0.01331,
      -0.004905,
      0.002336,
      0.025408,
      0.023861,
      -0.020963,
      -0.011248,
      -0.008007,
      -0.051283,
      -0.004157,
      0.065067,
      -0.016674,
      -0.003311,
      -0.026619,
      0.013386,
      -0.004872,
      0.029587,
      -0.06598,
      -0.049694,
      0.030635,
      0.010289,
      -0.014601,
      0.011062,
      -0.006061,
      0.024424,
      -0.010318,
      0.005775,
      0.038554,
      0.041774,
      -0.005715,
      0.002206,
      0.014192,
      0.044474,
      -0.039775,
      -0.060323,
      -0.046705,
      -0.03552,
      0.031068,
      -0.001746,
      -0.009443,
      -0.020682,
      -0.058945,
      -0.051883,
      0.017493,
      0.028318,
      0.010938,
      -0.016455,
      -0.002065,
      -0.001902,
      -0.015914,
      -0.027503,
      0.004541,
      0.029112,
      -0.007,
      0.018352
    ]
  },
  {
    "id": "v5-faq-0",
    "content": "# FAQ\nBreadcrumb: FAQ\nCovers: Why should I use Feathers? | Is Feathers production ready? | What Node versions does Feathers support | How do I create custom methods? | How do I do nested or custom routes? | Why are you using JWT for sessions | Can you support another database? | How do I watch for database changes? | How do I do search? | Why am I not getting JSON errors? | Why am I not getting the correct HTTP error code | How can I do custom methods like `findOrCreate`? | How do I create channels or rooms | How do I do validation? | How do I do associations? | How do I access the request object in hooks or services? | How do I mount sub apps? | How do I do some processing after sending the response to the user? | How do I debug my app | Why can't I pass `params` from the client? | My queries with null values aren't working | Why are queries with arrays failing? | I always get a 404 for my custom middleware | My configuration isn't loaded | How do I set up HTTPS?\nTopics: hooks, services, application, context, params, find, get, create, update, patch, custom methods, authentication, jwt, stateless, revoke, github, schema, resolver, validation, validators, database, adapter, mongodb, memory, querying, real-time, websockets, channels, events, publish, rest, http, transport, express, koa, middleware, bun, node.js, client, configuration, errors, cli, generator, generate, test, security, logging, users, custom service\n\n## Why should I use Feathers?\n\nThere are many other Frameworks that let you build web applications so this is definitely a justified question. The key part for Feathers is that it takes a different approach to both, traditional MVC frameworks like Rails, Sails or NestJS and low level HTTP frameworks like Sinatra, Express or Fastify. Instead of creating routes, controllers and HTTP request and response handlers, Feathers uses services and workflows (hooks) that let you focus on your application logic independently from how it is being accessed.\n\nThis makes applications easier to understand and test and it allows Feathers to automatically provide REST APIs, websocket real-time APIs (which can often be quite a bit faster) and universal usage on the client and the server. It also makes it possible to add new communication protocols (like HTTP2 or GraphQL) without having to change anything in your application code. Feathers does all that while staying lightweight with a small API surface and codebase and flexible by letting you use it with the backend and frontend technology that best suits your needs.\n\nFor more information\n\n- [Read about the philosophy behind Feathers and where it came from](https://blog.feathersjs.com/why-we-built-the-best-web-framework-you-ve-probably-never-heard-of-until-now-176afc5c6aac)\n- [Learn about the high level design patterns behind Feathers](https://blog.feathersjs.com/design-patterns-for-modern-web-apis-1f046635215)\n- [See how Feathers compares to others](https://feathersjs.com/comparison)\n\n## Is Feathers production ready?\n\nYes! Feathers had its first stable release in 2014 and is being used in production by a bunch of companies from startups to fortune 500s. For some more details see [this answer on Quora](https://www.quora.com/Is-FeathersJS-production-ready).\n\n## What Node versions does Feathers support\n\nFeathers supports all NodeJS versions from the current Active LTS upwards. See [the Node.JS working group release schedule](https://github.com/nodejs/Release#release-schedule) for more information.\n\n## How do I create custom methods?\n\nFeathers is built around the [REST architectural constraints](https://en.wikipedia.org/wiki/Representational_state_transfer#Architectural_constraints) reflected by its standard service methods. There are many benefits using those methods like security, predictability and sending pre-defined real-time events so you should try to structure your application with the [standard service methods](../api/services.md#service-methods). For example:\n\n> Send email action that does not store mail message in database.\n\nResources (services) don't have to be database records. It can be any kind of resource (like the current weather for a city or creating an email which will send it). Sending emails is usually done with either a separate email [service](../api/services.md):\n\n```ts\nclass EmailService {\n  async create(data: EmailData) {\n    return sendEmail(data)\n  }\n}\n\napp.use('/email', new EmailService())\n```\n\n> Place an order in e-commerce web site. Behind the scenes, there are many records will be inserted in one transaction: order_item, order_header, voucher_tracking etc.\n\nThis is what [Feathers hooks](../api/hooks.md) are used for. When creating a new order you also have a well defined hook chain:\n\n```ts\napp.service('orders').hooks({\n  before: {\n    create: [validateData(), checkStock(), checkVoucher()]\n  },\n  after: {\n    create: [\n      chargePayment(), // hook that calls `app.service('payment').create()`\n      sendEmail(), // hook that calls `app.service('email').create()`\n      updateStock() // Update product stock here\n    ]\n  }\n})\n```\n\nHowever, there are some use cases where you might still want to allow additional methods for a client to call (like re-sending a verification email or resetting a password on the user service) and this is what [custom service method](../api/services.md#custom-methods) can be used for.\n\n## How do I do nested or custom routes?\n\nNormally we find that they actually aren't needed and that it is much better to keep your routes as flat as possible. For example something like `users/:userId/posts` is - although nice to read for humans - actually not as easy to parse and process as the equivalent `/posts?userId=<userid>` that is already [supported by Feathers database adapters](../api/databases/querying.md). Additionally, this will also work much better when using Feathers through websocket connections which do not have a concept of routes at all.\n\nHowever, nested routes for services can still be created by registering an existing service on the nested route and mapping the route parameter to a query parameter like this:\n\n```ts\napp.use('/posts', postService)\napp.use('/users', userService)\n\n// re-export the posts service on the /users/:userId/posts route\napp.use('/users/:userId/posts', app.service('posts'))\n\n// A hook that updates `data` with the route parameter\nasync function mapUserIdToData(context: HookContext) {\n  if (context.data && context.params.route.userId) {\n    context.data.userId = context.params.route.userId\n  }\n}\n\n// For the new route, map the `:userId` route parameter to the query in a hook\napp.service('users/:userId/posts').hooks({\n  before: {\n    find: [\n      async (context: HookContext) => {\n        // Map the `userId` route parameter to the query\n        context.params.query = {\n          ...context.params.query,\n          userId: context.params.route.userId\n        }\n      }\n    ],\n    create: mapUserIdToData,\n    update: mapUserIdToData,\n    patch: mapUserIdToData\n  }\n})\n```\n\nNow going to `/users/123/posts` will call `postService.find({ query: { userId: 123 } })` and return all posts for that user.\n\nFor more information about URL routing and parameters, refer to [the Express chapter](../api/express.md).\n\n> **important:**\n> \n> URLs should never contain actions that change data (like `post/publish` or `post/delete`). This has always been an important part of the HTTP protocol and Feathers enforces this more strictly than most other frameworks. For example to publish a post you would call `.patch(id, { published: true })`.\n>\n\n## Why are you using JWT for sessions\n\nFeathers is using [JSON web tokens (JWT)](https://jwt.io/) for its standard authentication mechanism. Some articles like [Stop using JWT for sessions](http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/) promotes using standard cookies and HTTP sessions. While it brings up some valid points, not all of them apply to Feathers and there are other good reasons why Feathers relies on JWT:\n\n- Feathers is designed to support many different transport mechanisms, most of which do not rely on HTTP but do work well with JWT as the authentication mechanism. This is even already the case for websockets where an established connection normally is not secured by a traditional HTTP session.\n- By default the only thing that Feathers stored in the JWT payload is the user id. It is a stateful token. You can change this and make the token stateless by putting more data into the JWT payload but this is at your discretion. Currently the user is looked up on every request after the JWT is verified to not be expired or tampered with.\n- You need to make sure that you revoke JWT tokens or set a low expiration date or add custom logic to verify that a userâ€™s account is still valid/active. Currently the default expiration is 1 day. We chose a reasonable default for most apps but depending on your application this might be too long or too short.\n\nAdditionally, it is still possible to use Feathers with existing _traditional_ Express session mechanism by using [custom Express middleware](../api/express.md). For example, `params.user` for all service calls from a traditional Express session can be passed like this:\n\n```ts\napp.use(function (req, res, next) {\n  // Set service call `param.user` from `session.user`\n  req.feathers.user = req.session.user\n})\n```\n\n## Can you support another database?\n\nFeathers [database adapters](../api/databases/adapters.md) implement 90% of the functionality you may need to use Feathers with certain databases. You can also find a wide variety of community maintained database adapters [in the ecosystem](/ecosystem/?cat=Database&sort=lastPublish). However, even if your favourite database or ORM is not on the list or the adapter does not support specific functionality you are looking for, Feathers can still accommodate all your needs by [writing your own services](../api/services.md).\n\n> **Important:**\n> \n> To use Feathers properly it is very important to understand how services work and that all existing database adapters are just services that talk to the database themselves.\n> \n\nThe why and how to write your own services is covered [in the Feathers guide](../guides/). A custom service can be generated by running `npx feathers generate service`, choosing \"A custom service\" and then editing the `<servicename>/<servicename>.class.js` file to make the database calls.\n\nIf you would like to publish your own database adapter, first make sure there isn't already a [community maintained adapter](/ecosystem/?cat=Database&sort=lastPublish) for that database. If one exists, many maintainers are happy to get some help. If not, you can find a database adapter reference implementation in the [@feathersjs/memory module](https://github.com/feathersjs/feathers/tree/dove/packages/memory). It is always possible for community maintained adapters to graduate into an _official_ Feathers adapter, at the moment there are however no plans to add support for any new databases from the Feathers team directly.\n\n## How do I watch for database changes?\n\nIn order to get real-time updates for a change, all requests have to go through your Feathers application or API server. Feathers **does not** watch the database for changes so if changes in the database are made outside of the Feathers application and clients should be notified, the notification needs to be sent manually.\n\n## How do I do search?\n\nThis depends on the database adapter you are using. See [the search querying chapter](../api/databases/querying.md#search) for more information.\n\n## Why am I not getting JSON errors?\n\nIf you get a plain text error and a 500 status code for errors that should return different status codes, make sure you have the `express.errorHandler()` from the `@feathersjs/express` module configured as described in the [Express errors](../api/express.md#expresserrorhandler) chapter.\n\n## Why am I not getting the correct HTTP error code\n\nSee the above answer.\n\n## How can I do custom methods like `findOrCreate`?\n\nCustom functionality can almost always be mapped to an existing service method using hooks. For example, `findOrCreate` can be implemented as a before-hook on the service's `get` method. [See this gist](https://gist.github.com/marshallswain/9fa3b1e855633af00998) for an example of how to implement this in a before-hook. It is also possible to implement [custom methods](../api/services.md#custom-methods) on the service for functionality that can't be implemented in a hook.\n\n## How do I create channels or rooms\n\nIn Feathers [channels](../api/channels.md) are the way to send [real-time events](../api/events.md) to only certain clients.\n\n## How do I do validation?\n\n[Schemas](../api/schema/index.md) and [validator](../api/schema/validators.md) are the recommended way to implement basic validations based on JSON schema. [Resolvers](../api/schema/resolvers.md) can be used for advanced validation like dynamic password policies.\n\nSchemas and resolvers are then used as [validation hooks](../api/schema/validators.md#hooks) and [resolver hooks](../api/schema/resolvers.md#hooks). Hooks are also the place to perform validation without schemas and resolvers.\n\n## How do I do associations?\n\nThe preferred way for associations are [resolvers](../api/schema/resolvers.md). See [the guide](../guides/basics/schemas.md) for an example on how to do associations.\n\n## How do I access the request object in hooks or services?\n\nIn short, you shouldn't need to. If you look at the [hooks chapter](../api/hooks.md) you'll see all the params that are available on a hook.\n\nIf you still need something from the request object (for example, the requesting IP address) you can tack it on to the `req.feathers` object as described [here for Express](../api/express.md#params), here [for Koa](../api/koa.md#params) or `socket.feathers` when using web sockets as [described here](../api/socketio.md#appconfiguresocketiocallback).\n\n## How do I mount sub apps?\n\nIt's pretty much exactly the same as Express. More information can be found [here](../api/express.md#sub-apps).\n\n## How do I do some processing after sending the response to the user?\n\nThe hooks workflow allows you to handle these situations quite gracefully. It depends if you `await` or not in your hook. Here's an example of a hook that sends an email, but doesn't wait for a success message.\n\n```ts\n;async (context: HookContext) => {\n  // Send an email by calling to the email service.\n  context.app.service('emails').create({\n    to: 'user@email.com',\n    body: 'You are so great!'\n  })\n\n  // Send a message to some logging service.\n  context.app.service('logging').create(context.data)\n\n  return context\n}\n```\n\n## How do I debug my app\n\nIt's really no different than debugging any other NodeJS app but you can refer to [this blog post](https://blog.feathersjs.com/debugging-feathers-with-visual-studio-code-406e6adf2882) for more Feathers specific tips and tricks.\n\n## Why can't I pass `params` from the client?\n\nWhen you make a call like:\n\n```ts\nconst params = { foo: 'bar' }\n\nconst user = await client.service('users').patch(1, { admin: true }, params)\n```\n\non the client the `context.params` object will only be available in your client side hooks. It will not be provided to the server. The reason for this is because `context.params` on the server usually contains information that should be server-side only. This can be database options, whether a request is authenticated, etc. If we passed those directly from the client to the server this would be a big security risk. **Only the client side** `context.params.query` and `context.params.headers` objects are provided to the server.\n\nIf you need to pass info from the client to the server that is not part of the query you need to add it to `context.params.query` on the client side and explicitly pull it out of `context.params.query` on the server side. This can be achieved like so:\n\n```ts\n// client side\nclient.hooks({\n  before: {\n    all: [\n      async (context: HookContext) => {\n        context.params.query = {\n          ...context.params.query,\n          $client: {\n            platform: 'ios',\n            version: '1.0'\n          }\n        }\n      }\n    ]\n  }\n})\n```\n\nOn the server in `src/app`:\n\n```ts\napp.hooks({\n  before: {\n    all: [\n      async (context: HookContext) => {\n        // Pull out `$client` parameter and create a new `query` object\n        const {\n          $client: { platform, version },\n          ...query\n        } = params.query\n\n        // Update context.params with the new information\n        context.params = {\n          ...context.params,\n          platform,\n          version,\n          query\n        }\n      }\n    ]\n  }\n})\n```\n\n> **danger:**\n> \n> Make sure to validate and sanitize any client side values to prevent security issues.\n>\n\n## My queries with null values aren't working\n\n> **tip:**\n> \n> Query values will be converted to the correct type automatically when using a [query schema](../api/schema/index.md). This issue also does not happen when using websockets since it retains all type information.\n> \n\nWhen making a request using REST (HTTP) query _string_ values don't have any type information and will always be strings. Some database adapters that have a schema (like `feathers-mongoose` or `feathers-sequelize`) will try to convert values to the correct type but others (like `feathers-mongodb`) can't. Additionally, `null` will always be a string and always has to be converted if you want to query for `null`. This can be done in a `before` [hook](../api/hooks.md):\n\n```ts\napp.service('myservice').hooks({\n  before: {\n    find: [\n      async (context: HookContext) => {\n        const {\n          params: { query = {} }\n        } = context\n\n        if (query.phone === 'null') {\n          query.phone = null\n        }\n\n        context.params.query = query\n\n        return context\n      }\n    ]\n  }\n})\n```\n\nAlso see [this issue](https://github.com/feathersjs/feathers/issues/894).\n\n## Why are queries with arrays failing?\n\nIf you are using REST and queries with larger arrays (more than 21 items to be exact) are failing, you are probably running into an issue with the [querystring](https://github.com/ljharb/qs) module which [limits the size of arrays to 21 items](https://github.com/ljharb/qs#parsing-arrays) by default. The recommended solution is to implement a custom query string parser function via `app.set('query parser', parserFunction)` with the `arrayLimit` option set to a higher value:\n\n```js\nvar qs = require('qs')\n\napp.set('query parser', function (str) {\n  return qs.parse(str, {\n    arrayLimit: 100\n  })\n})\n```\n\nFor more information see the [Express application settings](http://expressjs.com/en/4x/api.html#app.set) [@feathersjs/rest#88](https://github.com/feathersjs/feathers-rest/issues/88) and [feathers-mongoose#205](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/205).\n\n## I always get a 404 for my custom middleware\n\nJust like in Express itself, the order of middleware matters. If you registered a custom middleware outside of the generator, you have to make sure that it runs before the `notFound()` error midlleware.\n\n## My configuration isn't loaded\n\nIf you are running or requiring the Feathers app from a different folder [Feathers configuration](../api/configuration.md) needs to be instructed where the configuration files for the app are located. Since it uses [node-config](https://github.com/lorenwest/node-config) this can be done by setting the [NODE_CONFIG_DIR envorinment variable](https://github.com/lorenwest/node-config/wiki/Environment-Variables#node_config_dir).\n\n## How do I set up HTTPS?\n\nIn most production environments your Feathers application should be behind an NginX proxy that handles HTTPS. It is also possible to add SSL directly to your Feathers application which is described in the [Express HTTPS docs](../api/express.md#https).",
    "rawContent": "## Why should I use Feathers?\n\nThere are many other Frameworks that let you build web applications so this is definitely a justified question. The key part for Feathers is that it takes a different approach to both, traditional MVC frameworks like Rails, Sails or NestJS and low level HTTP frameworks like Sinatra, Express or Fastify. Instead of creating routes, controllers and HTTP request and response handlers, Feathers uses services and workflows (hooks) that let you focus on your application logic independently from how it is being accessed.\n\nThis makes applications easier to understand and test and it allows Feathers to automatically provide REST APIs, websocket real-time APIs (which can often be quite a bit faster) and universal usage on the client and the server. It also makes it possible to add new communication protocols (like HTTP2 or GraphQL) without having to change anything in your application code. Feathers does all that while staying lightweight with a small API surface and codebase and flexible by letting you use it with the backend and frontend technology that best suits your needs.\n\nFor more information\n\n- [Read about the philosophy behind Feathers and where it came from](https://blog.feathersjs.com/why-we-built-the-best-web-framework-you-ve-probably-never-heard-of-until-now-176afc5c6aac)\n- [Learn about the high level design patterns behind Feathers](https://blog.feathersjs.com/design-patterns-for-modern-web-apis-1f046635215)\n- [See how Feathers compares to others](https://feathersjs.com/comparison)\n\n## Is Feathers production ready?\n\nYes! Feathers had its first stable release in 2014 and is being used in production by a bunch of companies from startups to fortune 500s. For some more details see [this answer on Quora](https://www.quora.com/Is-FeathersJS-production-ready).\n\n## What Node versions does Feathers support\n\nFeathers supports all NodeJS versions from the current Active LTS upwards. See [the Node.JS working group release schedule](https://github.com/nodejs/Release#release-schedule) for more information.\n\n## How do I create custom methods?\n\nFeathers is built around the [REST architectural constraints](https://en.wikipedia.org/wiki/Representational_state_transfer#Architectural_constraints) reflected by its standard service methods. There are many benefits using those methods like security, predictability and sending pre-defined real-time events so you should try to structure your application with the [standard service methods](../api/services.md#service-methods). For example:\n\n> Send email action that does not store mail message in database.\n\nResources (services) don't have to be database records. It can be any kind of resource (like the current weather for a city or creating an email which will send it). Sending emails is usually done with either a separate email [service](../api/services.md):\n\n```ts\nclass EmailService {\n  async create(data: EmailData) {\n    return sendEmail(data)\n  }\n}\n\napp.use('/email', new EmailService())\n```\n\n> Place an order in e-commerce web site. Behind the scenes, there are many records will be inserted in one transaction: order_item, order_header, voucher_tracking etc.\n\nThis is what [Feathers hooks](../api/hooks.md) are used for. When creating a new order you also have a well defined hook chain:\n\n```ts\napp.service('orders').hooks({\n  before: {\n    create: [validateData(), checkStock(), checkVoucher()]\n  },\n  after: {\n    create: [\n      chargePayment(), // hook that calls `app.service('payment').create()`\n      sendEmail(), // hook that calls `app.service('email').create()`\n      updateStock() // Update product stock here\n    ]\n  }\n})\n```\n\nHowever, there are some use cases where you might still want to allow additional methods for a client to call (like re-sending a verification email or resetting a password on the user service) and this is what [custom service method](../api/services.md#custom-methods) can be used for.\n\n## How do I do nested or custom routes?\n\nNormally we find that they actually aren't needed and that it is much better to keep your routes as flat as possible. For example something like `users/:userId/posts` is - although nice to read for humans - actually not as easy to parse and process as the equivalent `/posts?userId=<userid>` that is already [supported by Feathers database adapters](../api/databases/querying.md). Additionally, this will also work much better when using Feathers through websocket connections which do not have a concept of routes at all.\n\nHowever, nested routes for services can still be created by registering an existing service on the nested route and mapping the route parameter to a query parameter like this:\n\n```ts\napp.use('/posts', postService)\napp.use('/users', userService)\n\n// re-export the posts service on the /users/:userId/posts route\napp.use('/users/:userId/posts', app.service('posts'))\n\n// A hook that updates `data` with the route parameter\nasync function mapUserIdToData(context: HookContext) {\n  if (context.data && context.params.route.userId) {\n    context.data.userId = context.params.route.userId\n  }\n}\n\n// For the new route, map the `:userId` route parameter to the query in a hook\napp.service('users/:userId/posts').hooks({\n  before: {\n    find: [\n      async (context: HookContext) => {\n        // Map the `userId` route parameter to the query\n        context.params.query = {\n          ...context.params.query,\n          userId: context.params.route.userId\n        }\n      }\n    ],\n    create: mapUserIdToData,\n    update: mapUserIdToData,\n    patch: mapUserIdToData\n  }\n})\n```\n\nNow going to `/users/123/posts` will call `postService.find({ query: { userId: 123 } })` and return all posts for that user.\n\nFor more information about URL routing and parameters, refer to [the Express chapter](../api/express.md).\n\n> **important:**\n> \n> URLs should never contain actions that change data (like `post/publish` or `post/delete`). This has always been an important part of the HTTP protocol and Feathers enforces this more strictly than most other frameworks. For example to publish a post you would call `.patch(id, { published: true })`.\n>\n\n## Why are you using JWT for sessions\n\nFeathers is using [JSON web tokens (JWT)](https://jwt.io/) for its standard authentication mechanism. Some articles like [Stop using JWT for sessions](http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/) promotes using standard cookies and HTTP sessions. While it brings up some valid points, not all of them apply to Feathers and there are other good reasons why Feathers relies on JWT:\n\n- Feathers is designed to support many different transport mechanisms, most of which do not rely on HTTP but do work well with JWT as the authentication mechanism. This is even already the case for websockets where an established connection normally is not secured by a traditional HTTP session.\n- By default the only thing that Feathers stored in the JWT payload is the user id. It is a stateful token. You can change this and make the token stateless by putting more data into the JWT payload but this is at your discretion. Currently the user is looked up on every request after the JWT is verified to not be expired or tampered with.\n- You need to make sure that you revoke JWT tokens or set a low expiration date or add custom logic to verify that a userâ€™s account is still valid/active. Currently the default expiration is 1 day. We chose a reasonable default for most apps but depending on your application this might be too long or too short.\n\nAdditionally, it is still possible to use Feathers with existing _traditional_ Express session mechanism by using [custom Express middleware](../api/express.md). For example, `params.user` for all service calls from a traditional Express session can be passed like this:\n\n```ts\napp.use(function (req, res, next) {\n  // Set service call `param.user` from `session.user`\n  req.feathers.user = req.session.user\n})\n```\n\n## Can you support another database?\n\nFeathers [database adapters](../api/databases/adapters.md) implement 90% of the functionality you may need to use Feathers with certain databases. You can also find a wide variety of community maintained database adapters [in the ecosystem](/ecosystem/?cat=Database&sort=lastPublish). However, even if your favourite database or ORM is not on the list or the adapter does not support specific functionality you are looking for, Feathers can still accommodate all your needs by [writing your own services](../api/services.md).\n\n> **Important:**\n> \n> To use Feathers properly it is very important to understand how services work and that all existing database adapters are just services that talk to the database themselves.\n> \n\nThe why and how to write your own services is covered [in the Feathers guide](../guides/). A custom service can be generated by running `npx feathers generate service`, choosing \"A custom service\" and then editing the `<servicename>/<servicename>.class.js` file to make the database calls.\n\nIf you would like to publish your own database adapter, first make sure there isn't already a [community maintained adapter](/ecosystem/?cat=Database&sort=lastPublish) for that database. If one exists, many maintainers are happy to get some help. If not, you can find a database adapter reference implementation in the [@feathersjs/memory module](https://github.com/feathersjs/feathers/tree/dove/packages/memory). It is always possible for community maintained adapters to graduate into an _official_ Feathers adapter, at the moment there are however no plans to add support for any new databases from the Feathers team directly.\n\n## How do I watch for database changes?\n\nIn order to get real-time updates for a change, all requests have to go through your Feathers application or API server. Feathers **does not** watch the database for changes so if changes in the database are made outside of the Feathers application and clients should be notified, the notification needs to be sent manually.\n\n## How do I do search?\n\nThis depends on the database adapter you are using. See [the search querying chapter](../api/databases/querying.md#search) for more information.\n\n## Why am I not getting JSON errors?\n\nIf you get a plain text error and a 500 status code for errors that should return different status codes, make sure you have the `express.errorHandler()` from the `@feathersjs/express` module configured as described in the [Express errors](../api/express.md#expresserrorhandler) chapter.\n\n## Why am I not getting the correct HTTP error code\n\nSee the above answer.\n\n## How can I do custom methods like `findOrCreate`?\n\nCustom functionality can almost always be mapped to an existing service method using hooks. For example, `findOrCreate` can be implemented as a before-hook on the service's `get` method. [See this gist](https://gist.github.com/marshallswain/9fa3b1e855633af00998) for an example of how to implement this in a before-hook. It is also possible to implement [custom methods](../api/services.md#custom-methods) on the service for functionality that can't be implemented in a hook.\n\n## How do I create channels or rooms\n\nIn Feathers [channels](../api/channels.md) are the way to send [real-time events](../api/events.md) to only certain clients.\n\n## How do I do validation?\n\n[Schemas](../api/schema/index.md) and [validator](../api/schema/validators.md) are the recommended way to implement basic validations based on JSON schema. [Resolvers](../api/schema/resolvers.md) can be used for advanced validation like dynamic password policies.\n\nSchemas and resolvers are then used as [validation hooks](../api/schema/validators.md#hooks) and [resolver hooks](../api/schema/resolvers.md#hooks). Hooks are also the place to perform validation without schemas and resolvers.\n\n## How do I do associations?\n\nThe preferred way for associations are [resolvers](../api/schema/resolvers.md). See [the guide](../guides/basics/schemas.md) for an example on how to do associations.\n\n## How do I access the request object in hooks or services?\n\nIn short, you shouldn't need to. If you look at the [hooks chapter](../api/hooks.md) you'll see all the params that are available on a hook.\n\nIf you still need something from the request object (for example, the requesting IP address) you can tack it on to the `req.feathers` object as described [here for Express](../api/express.md#params), here [for Koa](../api/koa.md#params) or `socket.feathers` when using web sockets as [described here](../api/socketio.md#appconfiguresocketiocallback).\n\n## How do I mount sub apps?\n\nIt's pretty much exactly the same as Express. More information can be found [here](../api/express.md#sub-apps).\n\n## How do I do some processing after sending the response to the user?\n\nThe hooks workflow allows you to handle these situations quite gracefully. It depends if you `await` or not in your hook. Here's an example of a hook that sends an email, but doesn't wait for a success message.\n\n```ts\n;async (context: HookContext) => {\n  // Send an email by calling to the email service.\n  context.app.service('emails').create({\n    to: 'user@email.com',\n    body: 'You are so great!'\n  })\n\n  // Send a message to some logging service.\n  context.app.service('logging').create(context.data)\n\n  return context\n}\n```\n\n## How do I debug my app\n\nIt's really no different than debugging any other NodeJS app but you can refer to [this blog post](https://blog.feathersjs.com/debugging-feathers-with-visual-studio-code-406e6adf2882) for more Feathers specific tips and tricks.\n\n## Why can't I pass `params` from the client?\n\nWhen you make a call like:\n\n```ts\nconst params = { foo: 'bar' }\n\nconst user = await client.service('users').patch(1, { admin: true }, params)\n```\n\non the client the `context.params` object will only be available in your client side hooks. It will not be provided to the server. The reason for this is because `context.params` on the server usually contains information that should be server-side only. This can be database options, whether a request is authenticated, etc. If we passed those directly from the client to the server this would be a big security risk. **Only the client side** `context.params.query` and `context.params.headers` objects are provided to the server.\n\nIf you need to pass info from the client to the server that is not part of the query you need to add it to `context.params.query` on the client side and explicitly pull it out of `context.params.query` on the server side. This can be achieved like so:\n\n```ts\n// client side\nclient.hooks({\n  before: {\n    all: [\n      async (context: HookContext) => {\n        context.params.query = {\n          ...context.params.query,\n          $client: {\n            platform: 'ios',\n            version: '1.0'\n          }\n        }\n      }\n    ]\n  }\n})\n```\n\nOn the server in `src/app`:\n\n```ts\napp.hooks({\n  before: {\n    all: [\n      async (context: HookContext) => {\n        // Pull out `$client` parameter and create a new `query` object\n        const {\n          $client: { platform, version },\n          ...query\n        } = params.query\n\n        // Update context.params with the new information\n        context.params = {\n          ...context.params,\n          platform,\n          version,\n          query\n        }\n      }\n    ]\n  }\n})\n```\n\n> **danger:**\n> \n> Make sure to validate and sanitize any client side values to prevent security issues.\n>\n\n## My queries with null values aren't working\n\n> **tip:**\n> \n> Query values will be converted to the correct type automatically when using a [query schema](../api/schema/index.md). This issue also does not happen when using websockets since it retains all type information.\n> \n\nWhen making a request using REST (HTTP) query _string_ values don't have any type information and will always be strings. Some database adapters that have a schema (like `feathers-mongoose` or `feathers-sequelize`) will try to convert values to the correct type but others (like `feathers-mongodb`) can't. Additionally, `null` will always be a string and always has to be converted if you want to query for `null`. This can be done in a `before` [hook](../api/hooks.md):\n\n```ts\napp.service('myservice').hooks({\n  before: {\n    find: [\n      async (context: HookContext) => {\n        const {\n          params: { query = {} }\n        } = context\n\n        if (query.phone === 'null') {\n          query.phone = null\n        }\n\n        context.params.query = query\n\n        return context\n      }\n    ]\n  }\n})\n```\n\nAlso see [this issue](https://github.com/feathersjs/feathers/issues/894).\n\n## Why are queries with arrays failing?\n\nIf you are using REST and queries with larger arrays (more than 21 items to be exact) are failing, you are probably running into an issue with the [querystring](https://github.com/ljharb/qs) module which [limits the size of arrays to 21 items](https://github.com/ljharb/qs#parsing-arrays) by default. The recommended solution is to implement a custom query string parser function via `app.set('query parser', parserFunction)` with the `arrayLimit` option set to a higher value:\n\n```js\nvar qs = require('qs')\n\napp.set('query parser', function (str) {\n  return qs.parse(str, {\n    arrayLimit: 100\n  })\n})\n```\n\nFor more information see the [Express application settings](http://expressjs.com/en/4x/api.html#app.set) [@feathersjs/rest#88](https://github.com/feathersjs/feathers-rest/issues/88) and [feathers-mongoose#205](https://github.com/feathersjs-ecosystem/feathers-mongoose/issues/205).\n\n## I always get a 404 for my custom middleware\n\nJust like in Express itself, the order of middleware matters. If you registered a custom middleware outside of the generator, you have to make sure that it runs before the `notFound()` error midlleware.\n\n## My configuration isn't loaded\n\nIf you are running or requiring the Feathers app from a different folder [Feathers configuration](../api/configuration.md) needs to be instructed where the configuration files for the app are located. Since it uses [node-config](https://github.com/lorenwest/node-config) this can be done by setting the [NODE_CONFIG_DIR envorinment variable](https://github.com/lorenwest/node-config/wiki/Environment-Variables#node_config_dir).\n\n## How do I set up HTTPS?\n\nIn most production environments your Feathers application should be behind an NginX proxy that handles HTTPS. It is also possible to add SSL directly to your Feathers application which is described in the [Express HTTPS docs](../api/express.md#https).",
    "breadcrumb": "FAQ",
    "version": "v5",
    "sourceFile": "docs/v5_docs/help/faq.md",
    "heading": "FAQ",
    "subHeadings": [
      "Why should I use Feathers?",
      "Is Feathers production ready?",
      "What Node versions does Feathers support",
      "How do I create custom methods?",
      "How do I do nested or custom routes?",
      "Why are you using JWT for sessions",
      "Can you support another database?",
      "How do I watch for database changes?",
      "How do I do search?",
      "Why am I not getting JSON errors?",
      "Why am I not getting the correct HTTP error code",
      "How can I do custom methods like `findOrCreate`?",
      "How do I create channels or rooms",
      "How do I do validation?",
      "How do I do associations?",
      "How do I access the request object in hooks or services?",
      "How do I mount sub apps?",
      "How do I do some processing after sending the response to the user?",
      "How do I debug my app",
      "Why can't I pass `params` from the client?",
      "My queries with null values aren't working",
      "Why are queries with arrays failing?",
      "I always get a 404 for my custom middleware",
      "My configuration isn't loaded",
      "How do I set up HTTPS?"
    ],
    "hasCode": true,
    "codeLanguages": [
      "ts",
      "text",
      "js"
    ],
    "tokens": 4626,
    "category": "help",
    "tags": [
      "hooks",
      "services",
      "application",
      "context",
      "params",
      "find",
      "get",
      "create",
      "update",
      "patch",
      "custom methods",
      "authentication",
      "jwt",
      "stateless",
      "revoke",
      "github",
      "schema",
      "resolver",
      "validation",
      "validators",
      "database",
      "adapter",
      "mongodb",
      "memory",
      "querying",
      "real-time",
      "websockets",
      "channels",
      "events",
      "publish",
      "rest",
      "http",
      "transport",
      "express",
      "koa",
      "middleware",
      "bun",
      "node.js",
      "client",
      "configuration",
      "errors",
      "cli",
      "generator",
      "generate",
      "test",
      "security",
      "logging",
      "users",
      "custom service"
    ],
    "embedding": [
      0.010567,
      0.006487,
      -0.05786,
      0.023253,
      -0.000173,
      -0.046311,
      0.008485,
      0.014159,
      -0.028175,
      0.046286,
      -0.011467,
      0.023687,
      -0.022084,
      -0.002091,
      -0.018538,
      0.004561,
      -0.028472,
      -0.022583,
      0.005251,
      -0.06582,
      -0.035721,
      0.004486,
      0.014933,
      -0.006285,
      0.025166,
      0.031985,
      -0.014226,
      -0.011457,
      0.059054,
      0.010614,
      0.037805,
      0.03538,
      -0.004547,
      0.033004,
      -0.048008,
      -0.064966,
      0.006398,
      -0.015942,
      -0.026867,
      0.034996,
      -0.000027,
      0.01429,
      -0.000185,
      0.01754,
      0.014326,
      -0.043978,
      0.009704,
      -0.010398,
      0.00838,
      -0.031228,
      -0.026254,
      -0.019003,
      0.01675,
      -0.068707,
      0.036762,
      0.021494,
      -0.040798,
      -0.022316,
      -0.040218,
      0.039877,
      -0.01663,
      0.039659,
      -0.002703,
      -0.019465,
      -0.006997,
      0.025779,
      -0.054839,
      0.007922,
      -0.011532,
      -0.038526,
      0.01136,
      -0.004555,
      -0.0214,
      -0.000486,
      -0.03935,
      0.009163,
      -0.010376,
      -0.019294,
      -0.027702,
      0.027612,
      -0.022485,
      -0.049251,
      0.016718,
      0.00925,
      -0.000865,
      0.001366,
      -0.032266,
      0.0282,
      0.046641,
      0.015266,
      0.025141,
      -0.011081,
      0.07267,
      -0.061043,
      -0.01886,
      0.044339,
      -0.062341,
      0.04009,
      0.024283,
      -0.006728,
      -0.015286,
      0.006871,
      -0.019125,
      -0.034565,
      0.046749,
      0.04131,
      0.049498,
      -0.000931,
      0.005815,
      -0.029639,
      0.013287,
      -0.00544,
      0.012165,
      -0.004194,
      -0.007828,
      -0.019034,
      -0.000569,
      0.002994,
      -0.02122,
      -0.018818,
      -0.010069,
      0.022857,
      0.068579,
      -0.0473,
      -0.054184,
      -0.019744,
      -0.015101,
      0.043982,
      -0.007741,
      0.011439,
      0.034195,
      -0.047031,
      -0.03885,
      -0.028056,
      -0.025763,
      0.000221,
      0.001334,
      0.039881,
      -0.010053,
      -0.010454,
      0.041506,
      -0.003925,
      -0.013249,
      -0.002257,
      0.015985,
      -0.056732,
      0.04266,
      0.029294,
      -0.031258,
      -0.026935,
      0.023005,
      0.012092,
      -0.025423,
      -0.02776,
      0.02715,
      -0.035038,
      0.009361,
      0.003631,
      -0.000098,
      0.029603,
      0.028735,
      0.011418,
      -0.067084,
      0.025589,
      0.048725,
      0.014606,
      0.044126,
      -0.051566,
      -0.023769,
      -0.018981,
      0.017965,
      -0.021715,
      0.035326,
      0.004492,
      0.053874,
      0.012582,
      0.044159,
      0.008474,
      -0.012034,
      -0.034497,
      -0.044684,
      0.012511,
      0.007142,
      -0.067684,
      -0.039764,
      -0.041872,
      -0.023499,
      -0.059829,
      -0.015976,
      0.022378,
      -0.010536,
      -0.059483,
      0.082447,
      0.015445,
      0.021648,
      -0.002453,
      0.023213,
      0.007006,
      0.02268,
      0.004485,
      0.010475,
      0.031623,
      0.034484,
      0.029208,
      -0.04606,
      -0.045195,
      -0.017573,
      -0.040485,
      0.029054,
      -0.006451,
      0.010148,
      -0.018409,
      -0.01367,
      -0.011114,
      -0.022448,
      0.013798,
      -0.036496,
      0.026984,
      -0.024463,
      -0.02294,
      -0.012001,
      0.000004,
      0.004604,
      -0.026807,
      0.003284,
      0.011076,
      0.024215,
      0.016923,
      0.017718,
      -0.013171,
      0.008206,
      0.054947,
      0.024586,
      -0.006394,
      0.024241,
      -0.030764,
      -0.012919,
      0.010452,
      0.002217,
      0.040467,
      0.01574,
      -0.039054,
      0.007191,
      -0.014593,
      -0.031411,
      -0.01054,
      0.036392,
      -0.025496,
      -0.015123,
      -0.004491,
      0.019478,
      0.034045,
      0.004108,
      0.019373,
      0.005299,
      0.003622,
      0.033021,
      -0.016558,
      0.007911,
      -0.054201,
      0.008281,
      0.00186,
      0.018432,
      0.013205,
      0.009111,
      -0.013204,
      -0.058949,
      -0.06038,
      0.002406,
      0.03746,
      -0.009837,
      0.013285,
      0.011749,
      -0.007764,
      -0.028377,
      0.000916,
      0.013796,
      -0.051414,
      0.088446,
      0.053943,
      -0.005563,
      0.043879,
      0.045964,
      0.089424,
      0.02854,
      0.016414,
      0.037085,
      -0.014572,
      0.023368,
      -0.017413,
      0.021253,
      -0.010289,
      0.048534,
      -0.007293,
      -0.030425,
      0.005067,
      0.007135,
      -0.129292,
      -0.014883,
      0.032894,
      0.004652,
      -0.001434,
      0.002961,
      -0.064823,
      0.007674,
      -0.062596,
      0.012053,
      0.029681,
      -0.049713,
      -0.039998,
      0.007082,
      -0.010593,
      -0.000663,
      0.019247,
      0.008988,
      0.034623,
      -0.049053,
      -0.024843,
      -0.033686,
      0.033955,
      -0.004573,
      0.009106,
      -0.033328,
      -0.002514,
      0.0456,
      -0.045912,
      -0.02216,
      -0.007966,
      0.027192,
      -0.001092,
      0.032056,
      -0.006797,
      -0.023879,
      0.035056,
      -0.010489,
      -0.024417,
      -0.022595,
      -0.006014,
      0.069032,
      0.024275,
      -0.01096,
      0.020269,
      -0.010639,
      0.042181,
      -0.002993,
      -0.009456,
      -0.042002,
      0.044847,
      -0.00939,
      0.006849,
      -0.041166,
      -0.057546,
      -0.04178,
      0.011825,
      0.077539,
      0.00375,
      -0.034941,
      0.002483,
      0.000125,
      0.059707,
      -0.029847,
      -0.001302,
      0.006673,
      -0.001174,
      0.011285,
      0.020427,
      -0.033006,
      0.031558,
      -0.023678,
      -0.020816,
      0.003259,
      -0.013859,
      0.018382,
      0.0173,
      -0.009334,
      -0.024688,
      -0.091988,
      0.023253,
      0.041873,
      0.002882,
      0.025233,
      -0.0094,
      -0.016658,
      -0.010745,
      0.006215,
      0.057312,
      0.24883,
      -0.020904,
      -0.001395,
      0.002093,
      0.067917,
      -0.046635,
      0.039786,
      0.077517,
      0.039763,
      -0.025264,
      0.030974,
      0.022035,
      -0.015123,
      -0.022361,
      -0.034442,
      0.020055,
      -0.063668,
      0.011053,
      0.073212,
      -0.037022,
      0.016644,
      -0.015645,
      0.045104,
      0.060018,
      -0.073433,
      -0.029507,
      0.010662,
      0.066776,
      -0.041127,
      0.017591,
      -0.038571,
      -0.018176,
      0.022931,
      -0.062256,
      -0.070966,
      -0.017129,
      -0.014217,
      -0.013912,
      -0.00987,
      0.01719,
      -0.036549,
      -0.015935,
      0.020841,
      0.00362,
      0.013691,
      0.000068,
      -0.043408,
      -0.017362,
      -0.039106,
      -0.061717,
      -0.024919,
      -0.005222,
      -0.038505,
      0.007921,
      -0.016992,
      -0.040393,
      0.018188,
      -0.019111,
      -0.014721,
      0.038045,
      0.027684,
      0.009944,
      -0.065191,
      0.034421,
      -0.027629,
      0.011398,
      0.030145,
      -0.031021,
      0.027619,
      0.025805,
      -0.008694,
      0.023979,
      0.015869,
      -0.005786,
      -0.010875,
      -0.001136,
      0.018966,
      0.062237,
      -0.030226,
      0.074758,
      -0.021465,
      0.007334,
      -0.009205,
      0.021855,
      0.012041,
      0.024057,
      0.001583,
      0.029398,
      -0.008927,
      -0.00596,
      -0.031741,
      -0.008373,
      -0.035669,
      0.0414,
      -0.005061,
      0.009251,
      -0.02,
      -0.040523,
      0.001236,
      -0.036787,
      0.024679,
      0.033458,
      0.00789,
      -0.017911,
      0.020304,
      -0.006144,
      0.006533,
      0.016009,
      0.004765,
      0.043235,
      -0.05515,
      0.009121,
      0.006021,
      -0.032329,
      0.004461,
      -0.001115,
      0.025509,
      0.023867,
      0.042401,
      -0.002405,
      -0.002476,
      0.021799,
      -0.006493,
      0.009792,
      0.017049,
      -0.053158,
      0.011779,
      -0.027028,
      -0.023431,
      0.052782,
      0.03493,
      -0.062173,
      0.016366,
      0.03331,
      0.021041,
      0.017257,
      0.023389,
      0.034384,
      0.009825,
      0.004446,
      -0.014466,
      -0.051647,
      -0.007612,
      0.016164,
      0.013949,
      -0.002823,
      0.012479,
      0.001139,
      -0.00653,
      -0.023212,
      0.044073,
      0.028853,
      0.009638,
      -0.013561,
      0.003505,
      -0.040352,
      0.001009,
      0.036969,
      0.033642,
      -0.015079,
      -0.034255,
      0.011876,
      0.014982,
      0.047814,
      0.036255,
      0.000435,
      0.038044,
      0.020648,
      0.009833,
      -0.059282,
      -0.0105,
      -0.036266,
      -0.044175,
      0.091482,
      -0.013792,
      -0.007487,
      -0.049404,
      -0.009758,
      0.021697,
      -0.016067,
      -0.011034,
      -0.001432,
      -0.017729,
      -0.023267,
      -0.005066,
      0.003655,
      0.008456,
      -0.011566,
      -0.017597,
      -0.026353,
      0.000489,
      0.07243,
      0.017992,
      0.005687,
      0.066033,
      -0.024348,
      0.045739,
      0.00763,
      -0.001511,
      -0.009869,
      -0.040444,
      0.004127,
      -0.00643,
      0.009104,
      0.006486,
      -0.01545,
      0.012002,
      0.034143,
      -0.074902,
      0.027642,
      -0.014378,
      0.042923,
      -0.027043,
      -0.008983,
      0.014008,
      -0.05074,
      0.015825,
      0.042082,
      0.023232,
      0.016981,
      -0.023254,
      -0.010384,
      0.001853,
      -0.021159,
      0.012411,
      0.002935,
      0.010689,
      0.023778,
      0.000655,
      0.018217,
      -0.00492,
      0.033686,
      0.035749,
      -0.064414,
      0.024286,
      0.011121,
      0.038102,
      0.01056,
      -0.002546,
      -0.025161,
      0.036444,
      0.023443,
      0.052627,
      0.023598,
      -0.058988,
      -0.002843,
      0.010761,
      -0.000709,
      -0.034232,
      0.025626,
      0.011216,
      0.006283,
      -0.004901,
      0.004536,
      0.024444,
      0.024369,
      0.028697,
      -0.021673,
      -0.022864,
      -0.01494,
      -0.016465,
      0.00232,
      0.010259,
      0.018476,
      -0.038862,
      -0.043171,
      -0.013297,
      -0.018312,
      -0.020255,
      -0.012446,
      -0.016374,
      -0.00838,
      -0.045972,
      -0.073393,
      0.029034,
      0.021784,
      -0.023652,
      -0.032712,
      -0.00038,
      0.007742,
      -0.036663,
      0.01832,
      0.010123,
      0.010537,
      0.029448,
      0.054752,
      0.045823,
      -0.013455,
      -0.000088,
      -0.044429,
      0.00733,
      0.004721,
      -0.008934,
      -0.0222,
      -0.011422,
      -0.028228,
      -0.059964,
      0.033266,
      -0.01103,
      0.00763,
      -0.020443,
      0.051214,
      0.016708,
      -0.017669,
      -0.014828,
      0.030549,
      0.006427,
      -0.044598,
      0.000248,
      0.001496,
      -0.028875,
      -0.015444,
      0.033352,
      0.02509,
      0.040109,
      -0.057659,
      0.041907,
      -0.039307,
      -0.027168,
      -0.021669,
      0.010221,
      -0.00222,
      -0.015752,
      -0.009092,
      -0.023044,
      -0.042276,
      0.022515,
      -0.016675,
      -0.024925,
      0.01828,
      -0.055128,
      -0.00497,
      -0.01257,
      -0.030422,
      0.006157,
      -0.040942,
      0.019065,
      -0.03232,
      0.060082,
      -0.026544,
      -0.039728,
      -0.009274,
      0.045771,
      -0.02563,
      0.016034,
      -0.041852,
      0.009787,
      0.019179,
      -0.002529,
      0.025897,
      0.006227,
      -0.023264,
      0.000273,
      -0.018419,
      0.042337,
      0.021421,
      -0.070337,
      -0.018201,
      0.005675,
      0.022859,
      -0.042796,
      0.036227,
      0.011527,
      0.005949,
      0.019128,
      -0.006981,
      0.047741,
      -0.053938,
      -0.003636,
      -0.019834,
      -0.013677,
      0.042098,
      0.027453,
      -0.010782,
      -0.012806,
      0.027784,
      -0.034003,
      0.026762,
      0.002683,
      -0.005303,
      -0.026839,
      -0.034573,
      -0.023382,
      -0.003297,
      -0.045647,
      -0.002078,
      -0.022137,
      0.025333,
      0.035269,
      -0.005095,
      -0.011534,
      0.046719,
      -0.041999,
      0.015419,
      -0.136813,
      0.02336,
      0.017225,
      0.025944,
      -0.038209,
      -0.017642,
      0.019036,
      -0.000706,
      0.014161,
      -0.029055,
      -0.015014,
      -0.013623,
      0.013127,
      -0.045027,
      0.012767,
      0.007127,
      -0.025196,
      0.007446,
      0.001944,
      -0.028732,
      0.001297,
      -0.003572,
      -0.010725,
      0.02655,
      -0.019952,
      -0.009264,
      0.013402,
      -0.017302,
      -0.01407,
      0.022755,
      0.00269,
      -0.020942,
      -0.000956,
      0.041743,
      -0.02034,
      0.008037,
      -0.029875,
      -0.017136,
      -0.018045,
      0.047561,
      -0.0259,
      0.030263,
      -0.029375,
      0.025711,
      0.037024,
      0.042809,
      -0.025704,
      -0.037733,
      -0.006741,
      0.014719,
      -0.056735,
      0.023572,
      0.015405,
      0.050796,
      -0.031535,
      0.006767,
      -0.052408,
      -0.026841,
      -0.050538,
      0.001492,
      -0.047073,
      0.036463,
      -0.032334,
      -0.014833,
      -0.03718,
      0.016022,
      -0.03246,
      0.012319,
      -0.001627,
      0.003425,
      -0.028205,
      -0.043616,
      -0.044301,
      0.009173,
      0.015886,
      -0.022942,
      0.017031,
      -0.033608,
      -0.026607,
      0.01553,
      -0.004467,
      -0.010246,
      -0.072165,
      0.068021,
      0.095634,
      0.043334,
      0.020441,
      0.000748,
      0.005441,
      -0.034511,
      -0.039671,
      -0.024836,
      -0.000418,
      0.023543,
      -0.018657,
      0.037133,
      0.000748,
      -0.010231,
      -0.02273,
      -0.007138,
      -0.032365,
      0.042619,
      0.028187,
      -0.039413,
      -0.041548,
      0.007329,
      0.007717,
      0.017504,
      -0.010207,
      0.007236,
      0.034781,
      0.013127,
      -0.011602,
      0.019623,
      -0.081452,
      0.031046,
      0.018014,
      0.015421,
      -0.039104,
      0.011319,
      0.023698,
      0.023713,
      -0.011552,
      -0.042531,
      0.031614,
      0.03812,
      0.046787,
      -0.000694,
      0.021448,
      -0.027598,
      0.010834,
      -0.044352,
      -0.008417,
      -0.001112,
      0.033897,
      -0.038312,
      -0.048309,
      0.044586,
      0.000375,
      0.010835,
      -0.042363,
      0.00628,
      0.00261,
      -0.025115,
      -0.014379,
      -0.027068,
      0.033228,
      0.012519,
      0.009952,
      0.004824,
      0.001664,
      -0.009079,
      -0.030342,
      0.022834,
      0.008577,
      0.028748,
      0.00207,
      -0.003733,
      -0.029285,
      0.052227,
      0.038565,
      -0.063105,
      -0.017668,
      -0.021716,
      0.001808,
      -0.013539,
      -0.000547,
      -0.024038,
      -0.001701,
      0.022207,
      -0.027459,
      0.089831,
      -0.005924,
      -0.017396,
      -0.003545,
      0.000451,
      0.012587,
      0.001062,
      0.044153,
      -0.040144,
      0.034195,
      0.005077,
      0.031485,
      0.023735,
      0.018749,
      -0.015149,
      -0.013285,
      -0.011593,
      0.023807,
      -0.00255,
      0.000452,
      -0.022089,
      -0.009599,
      -0.011133,
      -0.008348,
      -0.001664,
      0.012931,
      -0.020179,
      -0.003976,
      0.080709,
      0.039182,
      -0.037879,
      -0.002895,
      0.011225,
      -0.004106,
      0.039984,
      -0.056503,
      -0.036137,
      -0.008611,
      0.05251,
      -0.00802,
      0.013431,
      0.024716,
      -0.003375,
      0.016467,
      0.001001,
      0.027739,
      0.02146,
      -0.003656,
      -0.07287,
      0.010452,
      0.013729,
      -0.03014,
      -0.047919,
      -0.016646,
      -0.013515,
      -0.019995,
      -0.026581,
      -0.031871,
      0.020445,
      -0.00323,
      -0.027839,
      0.006973,
      0.048454,
      0.012544,
      -0.038543,
      -0.053832,
      0.043212,
      0.000346,
      -0.008164,
      0.04617,
      0.011489,
      -0.01103,
      0.029927
    ]
  },
  {
    "id": "v5-index-0",
    "content": "# Getting Help\nBreadcrumb: Getting Help\nCovers: Resources | Help channels | Consulting and app development | Support Feathers, get help\nTopics: get, github, discord, channels, http\n\n## Resources\n\nExisting resources may already have an answer to your question, so it always makes sense checking them first:\n\n- [API Docs >](../api/)\n- [FAQ >](./faq.md)\n- [GitHub issues >](https://github.com/issues?utf8=%E2%9C%93&q=is%3Aopen+is%3Aissue+user%3Afeathersjs+)\n- [GitHub discussions](https://github.com/feathersjs/feathers/discussions)\n- [Cookbook](/cookbook/)\n- [Blog >](https://blog.feathersjs.com/)\n- [Stack Overflow >](http://stackoverflow.com/questions/tagged/feathersjs)\n\n## Help channels\n\nIf none of those work it's a very real possibility that we screwed something up or it's just not clear. We're sorry :disappointed_relieved: We want to hear about it and are very friendly so feel free to come talk to us:\n\n[Join our Discord server >](https://discord.gg/qa8kez8QBx)\n\n[Submit an issue to GitHub >](https://github.com/feathersjs/feathers/issues/new)\n\n[Ask on StackOverflow using the `feathersjs` tag >](http://stackoverflow.com)\n\n## Consulting and app development\n\n[Feathers Cloud](https://feathers.cloud/) specialize in app development and consulting to get your app on the right track. [Contact us](https://feathers.cloud/consulting.html) to see how we can help.\n\n## Support Feathers, get help\n\nBy [becoming a sponsor](https://github.com/sponsors/daffl/) you support Feathers continued development and get access to a Feathers newsletter and tiers with 30 or 60 minute monthly office hour sessions to walk you through any issues you may be facing using FeathersJS. This may include architecture discussions, debug sessions, patterns, or more.",
    "rawContent": "## Resources\n\nExisting resources may already have an answer to your question, so it always makes sense checking them first:\n\n- [API Docs >](../api/)\n- [FAQ >](./faq.md)\n- [GitHub issues >](https://github.com/issues?utf8=%E2%9C%93&q=is%3Aopen+is%3Aissue+user%3Afeathersjs+)\n- [GitHub discussions](https://github.com/feathersjs/feathers/discussions)\n- [Cookbook](/cookbook/)\n- [Blog >](https://blog.feathersjs.com/)\n- [Stack Overflow >](http://stackoverflow.com/questions/tagged/feathersjs)\n\n## Help channels\n\nIf none of those work it's a very real possibility that we screwed something up or it's just not clear. We're sorry :disappointed_relieved: We want to hear about it and are very friendly so feel free to come talk to us:\n\n[Join our Discord server >](https://discord.gg/qa8kez8QBx)\n\n[Submit an issue to GitHub >](https://github.com/feathersjs/feathers/issues/new)\n\n[Ask on StackOverflow using the `feathersjs` tag >](http://stackoverflow.com)\n\n## Consulting and app development\n\n[Feathers Cloud](https://feathers.cloud/) specialize in app development and consulting to get your app on the right track. [Contact us](https://feathers.cloud/consulting.html) to see how we can help.\n\n## Support Feathers, get help\n\nBy [becoming a sponsor](https://github.com/sponsors/daffl/) you support Feathers continued development and get access to a Feathers newsletter and tiers with 30 or 60 minute monthly office hour sessions to walk you through any issues you may be facing using FeathersJS. This may include architecture discussions, debug sessions, patterns, or more.",
    "breadcrumb": "Getting Help",
    "version": "v5",
    "sourceFile": "docs/v5_docs/help/index.md",
    "heading": "Getting Help",
    "subHeadings": [
      "Resources",
      "Help channels",
      "Consulting and app development",
      "Support Feathers, get help"
    ],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 391,
    "category": "help",
    "tags": [
      "get",
      "github",
      "discord",
      "channels",
      "http"
    ],
    "embedding": [
      0.029151,
      -0.0111,
      -0.051478,
      -0.023813,
      0.00105,
      -0.045712,
      0.005048,
      -0.01094,
      -0.01817,
      0.037729,
      -0.004761,
      -0.016779,
      -0.043227,
      0.019379,
      -0.00686,
      -0.005682,
      -0.020114,
      -0.013524,
      0.005827,
      -0.052017,
      -0.013304,
      0.04228,
      0.037863,
      -0.041087,
      0.026303,
      0.016348,
      -0.008657,
      -0.030874,
      0.042141,
      -0.05473,
      0.015068,
      0.005497,
      0.038067,
      0.024448,
      -0.045828,
      -0.050152,
      -0.006115,
      -0.018596,
      -0.022363,
      0.033546,
      -0.037445,
      -0.011636,
      0.004,
      -0.022873,
      0.022468,
      -0.043579,
      -0.014828,
      -0.008142,
      0.019124,
      -0.006734,
      -0.033613,
      -0.031864,
      0.063262,
      -0.068652,
      -0.00215,
      0.028911,
      -0.01751,
      -0.023551,
      -0.059475,
      0.015057,
      -0.030202,
      0.00646,
      -0.00966,
      -0.028727,
      0.008087,
      0.079872,
      -0.027938,
      0.007185,
      -0.034929,
      -0.036706,
      0.00224,
      -0.000211,
      -0.030465,
      -0.008561,
      -0.021098,
      0.020231,
      0.007263,
      -0.020539,
      -0.010307,
      0.026621,
      -0.004236,
      -0.023449,
      -0.011121,
      -0.031426,
      -0.027491,
      -0.025675,
      -0.015641,
      0.05506,
      0.068825,
      0.011155,
      0.012785,
      -0.022802,
      0.024901,
      -0.011601,
      -0.010139,
      0.012887,
      -0.017927,
      0.025652,
      0.049336,
      -0.004421,
      0.017418,
      0.012319,
      -0.010159,
      -0.033771,
      -0.001878,
      0.041441,
      0.042625,
      0.011082,
      0.002799,
      -0.02881,
      0.002857,
      -0.001603,
      -0.011506,
      0.009327,
      0.000803,
      -0.01776,
      0.00387,
      -0.018105,
      -0.017965,
      -0.010991,
      0.014821,
      0.018558,
      0.036573,
      -0.049691,
      -0.028818,
      0.01251,
      -0.032059,
      0.019585,
      0.027809,
      0.026473,
      0.012205,
      -0.007197,
      -0.008373,
      0.001171,
      -0.020299,
      -0.019302,
      -0.015671,
      -0.009086,
      -0.033352,
      -0.01342,
      0.022465,
      0.008765,
      -0.027423,
      -0.025269,
      0.042369,
      -0.072442,
      0.048264,
      0.008192,
      -0.027978,
      0.009765,
      0.046927,
      0.005707,
      0.034968,
      -0.054946,
      0.011336,
      -0.025356,
      -0.000727,
      -0.001429,
      0.013572,
      -0.002984,
      0.012876,
      0.018511,
      -0.048396,
      0.021572,
      0.061324,
      -0.013471,
      0.030543,
      -0.006175,
      -0.020691,
      -0.040508,
      0.011438,
      0.003077,
      0.047867,
      -0.006218,
      0.039287,
      0.036728,
      0.057504,
      0.023194,
      0.029889,
      -0.040259,
      -0.050468,
      -0.000091,
      -0.012426,
      -0.065443,
      -0.036402,
      -0.019361,
      -0.038976,
      -0.031782,
      0.006174,
      0.023647,
      -0.014167,
      -0.033845,
      0.053947,
      0.00741,
      0.011614,
      -0.014714,
      0.022923,
      0.035191,
      -0.004759,
      -0.011107,
      0.000196,
      0.033533,
      0.039735,
      0.022498,
      -0.016629,
      -0.024786,
      0.005638,
      -0.042318,
      0.019812,
      -0.053971,
      0.013993,
      -0.005118,
      -0.018557,
      0.021637,
      -0.017027,
      0.016517,
      -0.028852,
      0.01001,
      -0.010807,
      -0.003376,
      -0.021782,
      0.019294,
      0.016282,
      -0.032937,
      0.012039,
      -0.035129,
      -0.010949,
      0.034087,
      0.019241,
      0.010932,
      0.013256,
      0.014237,
      0.017762,
      -0.038853,
      0.057898,
      -0.026641,
      -0.015146,
      0.005264,
      0.00252,
      0.020804,
      -0.00541,
      -0.07972,
      -0.007617,
      0.011936,
      -0.037488,
      0.011299,
      0.074053,
      0.039492,
      -0.026325,
      -0.039499,
      0.004219,
      0.033892,
      0.031127,
      -0.017773,
      0.026697,
      -0.00587,
      0.012374,
      -0.028317,
      -0.046201,
      -0.052465,
      0.02153,
      0.040906,
      0.014753,
      0.009571,
      -0.017937,
      -0.000319,
      -0.045715,
      -0.05989,
      0.008465,
      -0.004672,
      -0.036581,
      0.001222,
      0.004457,
      -0.005405,
      -0.057552,
      -0.006937,
      0.049632,
      -0.022083,
      0.071064,
      0.031095,
      0.013919,
      0.020364,
      0.036094,
      0.057945,
      0.039241,
      0.015433,
      0.039891,
      -0.016848,
      0.052746,
      -0.029749,
      -0.0131,
      0.039418,
      0.060094,
      -0.004827,
      -0.011754,
      0.017403,
      0.028151,
      -0.143369,
      -0.010181,
      0.065971,
      0.022102,
      0.003587,
      0.017462,
      -0.054542,
      0.029552,
      -0.062253,
      0.020671,
      0.015114,
      -0.043253,
      -0.019893,
      0.007339,
      0.007575,
      0.019468,
      0.006387,
      0.005761,
      -0.00769,
      -0.034639,
      -0.017377,
      -0.017619,
      0.033406,
      0.000942,
      -0.009276,
      -0.005739,
      0.012002,
      0.024794,
      -0.029265,
      0.009843,
      -0.051228,
      -0.023004,
      0.006319,
      0.006588,
      0.008644,
      0.018762,
      -0.006443,
      -0.043147,
      -0.02389,
      -0.023915,
      0.020361,
      0.075299,
      -0.003252,
      -0.022238,
      0.011727,
      -0.029951,
      0.021886,
      -0.000206,
      -0.002714,
      -0.024983,
      0.002631,
      -0.031434,
      0.022247,
      -0.009753,
      -0.054554,
      -0.008481,
      -0.002907,
      0.044048,
      0.016243,
      -0.030079,
      -0.032547,
      -0.029415,
      0.091481,
      -0.039055,
      -0.022515,
      -0.02616,
      -0.002886,
      -0.035211,
      0.025337,
      -0.022786,
      0.016528,
      -0.041153,
      0.012124,
      -0.003232,
      0.002618,
      0.010839,
      -0.00069,
      -0.033603,
      -0.013495,
      -0.098869,
      0.031144,
      0.01607,
      -0.02565,
      0.018103,
      -0.029178,
      -0.019013,
      -0.027869,
      0.046652,
      0.054556,
      0.246177,
      0.001225,
      0.013303,
      -0.024191,
      0.094701,
      -0.045763,
      0.041386,
      0.083072,
      0.040165,
      -0.040497,
      0.0199,
      0.012185,
      -0.059311,
      -0.00344,
      -0.035351,
      0.02686,
      -0.058774,
      0.000387,
      0.056941,
      -0.027188,
      0.034827,
      -0.039139,
      0.040819,
      -0.012537,
      -0.076876,
      -0.034626,
      0.000462,
      0.043295,
      -0.01481,
      0.035751,
      -0.056265,
      -0.014208,
      0.023207,
      -0.067303,
      -0.050101,
      0.002292,
      -0.019813,
      -0.01457,
      -0.035321,
      -0.002349,
      -0.01127,
      -0.029694,
      0.035353,
      0.003578,
      0.013037,
      -0.018017,
      0.004028,
      0.000891,
      -0.041051,
      -0.056003,
      -0.022857,
      -0.030127,
      -0.01107,
      -0.001387,
      -0.064126,
      -0.01457,
      -0.014166,
      -0.041961,
      0.01691,
      0.029893,
      0.020002,
      0.01781,
      -0.052924,
      0.045947,
      -0.028798,
      -0.009122,
      0.043984,
      -0.021126,
      0.030513,
      0.031834,
      -0.054628,
      0.032612,
      0.026594,
      -0.032011,
      -0.008072,
      -0.029436,
      0.003267,
      0.044598,
      -0.024414,
      0.03517,
      -0.044695,
      0.025516,
      -0.024342,
      -0.003739,
      0.012394,
      0.014456,
      -0.017885,
      0.016667,
      -0.020529,
      -0.011113,
      -0.030779,
      0.010768,
      -0.024374,
      0.023123,
      -0.022673,
      0.018625,
      -0.028158,
      -0.025177,
      -0.015536,
      -0.06811,
      0.010234,
      0.016921,
      0.001168,
      -0.024824,
      0.030172,
      -0.018205,
      0.011312,
      0.013422,
      0.004088,
      0.015852,
      -0.038784,
      0.015644,
      -0.007616,
      -0.031967,
      -0.031873,
      0.029387,
      0.043131,
      -0.006735,
      0.050931,
      -0.018184,
      0.002925,
      0.029063,
      -0.02266,
      0.05889,
      0.034398,
      -0.054226,
      0.008489,
      0.013312,
      -0.000374,
      0.048091,
      0.073677,
      -0.059534,
      0.004179,
      0.060011,
      0.004799,
      0.026053,
      0.027013,
      0.025986,
      0.006769,
      -0.006775,
      -0.02801,
      -0.03118,
      0.000301,
      -0.024619,
      0.010936,
      0.037408,
      -0.044139,
      0.035857,
      0.020553,
      0.020186,
      0.039273,
      0.072696,
      0.023323,
      -0.028216,
      0.012713,
      -0.020926,
      -0.006809,
      0.016709,
      0.010825,
      -0.023037,
      -0.051518,
      0.013301,
      0.009879,
      0.069034,
      0.02386,
      0.021071,
      0.005155,
      0.01158,
      0.01455,
      -0.03903,
      -0.008026,
      -0.052175,
      -0.049726,
      0.058865,
      -0.023825,
      -0.054643,
      -0.042798,
      -0.00046,
      0.032826,
      -0.024075,
      -0.005254,
      0.012527,
      -0.004188,
      0.011404,
      -0.013367,
      0.013701,
      -0.015483,
      -0.017754,
      0.02181,
      -0.026872,
      -0.038863,
      0.092338,
      0.034024,
      0.006275,
      0.049683,
      0.001122,
      0.075573,
      0.050569,
      0.011626,
      -0.007796,
      -0.056499,
      0.020432,
      0.002449,
      -0.010508,
      -0.009722,
      -0.013167,
      -0.000335,
      0.048077,
      -0.055654,
      0.041215,
      0.009332,
      0.004641,
      -0.036277,
      -0.022424,
      -0.003106,
      -0.040077,
      0.040397,
      0.036971,
      -0.000517,
      -0.000491,
      -0.050172,
      -0.014144,
      0.001036,
      -0.016875,
      0.023633,
      0.006532,
      0.017775,
      0.043994,
      -0.015557,
      0.014083,
      -0.006661,
      0.031456,
      0.012725,
      -0.027034,
      -0.006248,
      0.01214,
      0.012216,
      0.008327,
      0.025469,
      -0.00411,
      0.030819,
      -0.01003,
      0.036547,
      0.00073,
      -0.030463,
      0.029065,
      0.014634,
      -0.047423,
      0.001151,
      0.00211,
      -0.018753,
      -0.015636,
      -0.017383,
      0.00759,
      0.04962,
      0.010953,
      0.025638,
      -0.005148,
      0.013886,
      -0.016932,
      -0.013473,
      0.020847,
      0.023298,
      0.013318,
      -0.018807,
      0.006293,
      0.006256,
      -0.022754,
      -0.03416,
      -0.013331,
      -0.006598,
      0.007829,
      0.003075,
      -0.032033,
      0.026088,
      0.00938,
      -0.062311,
      0.035529,
      -0.03757,
      -0.002002,
      -0.050621,
      0.019243,
      0.006652,
      0.02467,
      0.014355,
      0.026224,
      0.035645,
      0.007243,
      -0.002789,
      -0.029827,
      0.020076,
      0.010784,
      -0.016694,
      0.007979,
      -0.013012,
      -0.011995,
      -0.040899,
      0.021207,
      -0.027947,
      -0.012899,
      -0.029601,
      0.035636,
      0.029961,
      -0.028534,
      -0.013083,
      0.014705,
      0.004341,
      -0.044107,
      0.012058,
      0.017986,
      -0.004496,
      -0.05477,
      0.020791,
      0.027321,
      0.047372,
      -0.030006,
      0.038971,
      -0.028858,
      -0.065594,
      -0.004519,
      -0.000135,
      0.00459,
      -0.030576,
      0.011529,
      -0.050185,
      -0.034944,
      -0.013018,
      -0.044438,
      -0.028339,
      0.055196,
      -0.04987,
      0.008003,
      -0.038495,
      -0.047873,
      -0.002749,
      -0.017812,
      0.028398,
      -0.031459,
      0.040658,
      -0.00673,
      -0.035395,
      0.003346,
      0.078369,
      -0.021158,
      0.023773,
      0.007544,
      0.031275,
      0.007574,
      -0.045739,
      -0.009516,
      -0.004973,
      0.002714,
      -0.010322,
      -0.014827,
      0.011981,
      0.021369,
      -0.025871,
      0.002909,
      0.005086,
      0.014767,
      -0.052182,
      0.036583,
      0.011075,
      0.010482,
      0.006418,
      0.02385,
      0.014895,
      -0.030344,
      -0.003696,
      -0.003444,
      -0.020146,
      0.040543,
      0.014045,
      -0.043807,
      -0.029019,
      0.040078,
      -0.002842,
      0.022923,
      0.005423,
      -0.037773,
      -0.030444,
      -0.010737,
      0.009802,
      -0.017698,
      0.012128,
      -0.010277,
      0.001059,
      0.01816,
      0.044129,
      0.02604,
      -0.011568,
      0.040155,
      0.001014,
      0.013279,
      -0.139034,
      0.041118,
      -0.006347,
      -0.006487,
      -0.026723,
      -0.011122,
      -0.00866,
      -0.000962,
      0.02714,
      -0.017743,
      -0.016435,
      0.018016,
      0.050143,
      -0.049324,
      -0.004327,
      0.011129,
      -0.020236,
      -0.022407,
      0.009015,
      0.029661,
      0.012219,
      -0.009981,
      0.043779,
      -0.008444,
      0.001354,
      -0.005679,
      0.003347,
      -0.032472,
      -0.00501,
      0.049958,
      -0.041979,
      -0.070858,
      -0.004846,
      0.043263,
      -0.007756,
      0.003125,
      0.001337,
      0.014601,
      -0.02202,
      0.021482,
      0.002841,
      0.041925,
      -0.016919,
      0.043508,
      0.018066,
      0.075196,
      -0.003904,
      -0.043712,
      -0.007948,
      0.009156,
      -0.008546,
      0.024062,
      0.023653,
      0.053344,
      -0.025315,
      -0.005456,
      -0.060004,
      -0.04873,
      -0.013473,
      0.061898,
      -0.046893,
      0.082849,
      -0.032583,
      -0.054277,
      -0.029566,
      0.028752,
      0.014496,
      0.03696,
      -0.039815,
      -0.014617,
      -0.025242,
      -0.040019,
      -0.034899,
      0.001553,
      -0.005231,
      -0.013833,
      0.015201,
      -0.006693,
      -0.046602,
      -0.002984,
      -0.027772,
      -0.005436,
      -0.082748,
      0.053479,
      0.081802,
      0.052311,
      0.007988,
      -0.013793,
      -0.025296,
      -0.020275,
      -0.045759,
      -0.038646,
      -0.01003,
      0.048077,
      -0.010544,
      0.039693,
      0.016374,
      -0.020783,
      0.001977,
      -0.000595,
      -0.025663,
      -0.011185,
      0.001391,
      -0.02302,
      -0.006437,
      0.010328,
      0.039255,
      0.034167,
      -0.016136,
      -0.02192,
      -0.010976,
      -0.012224,
      0.005404,
      0.015134,
      -0.058082,
      0.009958,
      0.001642,
      0.023015,
      0.018009,
      0.008349,
      -0.006094,
      0.012117,
      0.006291,
      -0.028316,
      0.03169,
      -0.006674,
      0.038123,
      0.011393,
      0.010842,
      -0.036289,
      0.03142,
      -0.034221,
      -0.007203,
      0.039578,
      0.029028,
      -0.019442,
      -0.062273,
      0.028348,
      -0.02262,
      0.002202,
      -0.037974,
      0.015783,
      -0.005038,
      -0.028457,
      -0.021026,
      -0.0193,
      0.001691,
      0.037692,
      0.00679,
      0.009669,
      -0.022451,
      -0.011267,
      -0.032992,
      0.043109,
      0.004659,
      0.007494,
      -0.001142,
      -0.020673,
      -0.031189,
      0.037955,
      0.050344,
      -0.027916,
      -0.038094,
      0.006483,
      -0.034969,
      0.002653,
      -0.006416,
      -0.006895,
      -0.015706,
      -0.030395,
      -0.012371,
      0.049293,
      -0.004772,
      0.01267,
      0.004924,
      -0.016982,
      -0.012034,
      0.025227,
      0.03429,
      -0.014456,
      0.03818,
      0.003511,
      0.036133,
      0.013119,
      0.029748,
      0.02017,
      -0.039654,
      -0.017858,
      0.012688,
      0.022521,
      -0.012882,
      -0.008324,
      -0.007189,
      0.019096,
      0.020623,
      0.012141,
      -0.014943,
      -0.028876,
      0.007289,
      0.063787,
      0.00002,
      0.004894,
      -0.012745,
      -0.002449,
      0.00735,
      0.024005,
      -0.044877,
      -0.053005,
      0.006172,
      0.030205,
      -0.016603,
      -0.002818,
      -0.009303,
      0.009247,
      0.04073,
      -0.005289,
      0.024619,
      0.004397,
      -0.024409,
      -0.025285,
      0.070631,
      0.013382,
      -0.019915,
      -0.035043,
      -0.025887,
      -0.008057,
      -0.006052,
      0.030826,
      -0.001352,
      0.014765,
      -0.049376,
      0.009049,
      0.010202,
      0.033572,
      0.02029,
      -0.00443,
      0.009214,
      0.009352,
      -0.009748,
      -0.01327,
      0.027175,
      -0.014429,
      0.02543,
      0.026957
    ]
  },
  {
    "id": "v5-index-0",
    "content": "# index\nBreadcrumb: index\nTopics: create, setup\n\n<script setup>\nimport HomeHero from './components/HomeHero.vue'\nimport HomeFeature1 from './components/HomeFeature1.vue'\nimport HomeFeature2 from './components/HomeFeature2.vue'\nimport HomeQuickStart from './components/HomeQuickStart.vue'\nimport HomeCreateFirstApp from './components/HomeCreateFirstApp.vue'\nimport HomeFeatureGrid from './components/HomeFeatureGrid.vue'\nimport HomeCTATextSection from './components/HomeCTATextSection.vue'\nimport Footer from './components/Footer.vue'\n</script>\n\n<HomeHero />\n<HomeFeature1 />\n<HomeFeature2 />\n<!-- <HomeQuickStart /> -->\n<HomeCreateFirstApp />\n<HomeFeatureGrid />\n<HomeCTATextSection text=\"Create your first Feathers app, today!\" />",
    "rawContent": "<script setup>\nimport HomeHero from './components/HomeHero.vue'\nimport HomeFeature1 from './components/HomeFeature1.vue'\nimport HomeFeature2 from './components/HomeFeature2.vue'\nimport HomeQuickStart from './components/HomeQuickStart.vue'\nimport HomeCreateFirstApp from './components/HomeCreateFirstApp.vue'\nimport HomeFeatureGrid from './components/HomeFeatureGrid.vue'\nimport HomeCTATextSection from './components/HomeCTATextSection.vue'\nimport Footer from './components/Footer.vue'\n</script>\n\n<HomeHero />\n<HomeFeature1 />\n<HomeFeature2 />\n<!-- <HomeQuickStart /> -->\n<HomeCreateFirstApp />\n<HomeFeatureGrid />\n<HomeCTATextSection text=\"Create your first Feathers app, today!\" />",
    "breadcrumb": "index",
    "version": "v5",
    "sourceFile": "docs/v5_docs/index.md",
    "heading": "index",
    "subHeadings": [],
    "hasCode": false,
    "codeLanguages": [],
    "tokens": 171,
    "category": "general",
    "tags": [
      "create",
      "setup"
    ],
    "embedding": [
      0.005843,
      0.012992,
      -0.027415,
      0.015122,
      -0.010026,
      -0.058967,
      0.023735,
      0.045031,
      -0.01889,
      0.00266,
      -0.012492,
      0.002018,
      -0.037071,
      -0.030967,
      -0.036172,
      -0.012796,
      -0.007571,
      -0.005354,
      0.023978,
      -0.041457,
      -0.038092,
      -0.02887,
      0.032382,
      -0.00654,
      -0.013501,
      -0.005401,
      -0.003544,
      -0.014396,
      0.009383,
      -0.014522,
      0.018459,
      0.007633,
      -0.035451,
      -0.03235,
      -0.030123,
      -0.00282,
      0.021835,
      0.009347,
      -0.055874,
      0.05303,
      0.011606,
      -0.024093,
      -0.01405,
      0.001559,
      0.011195,
      -0.051691,
      0.035805,
      -0.015831,
      0.002688,
      -0.027117,
      -0.008908,
      -0.005646,
      -0.015446,
      -0.062206,
      0.040645,
      0.029576,
      -0.043117,
      -0.016877,
      -0.056706,
      -0.010401,
      -0.035398,
      0.022975,
      -0.000194,
      0.002151,
      0.039406,
      0.02972,
      -0.004447,
      -0.005362,
      -0.011499,
      -0.018677,
      -0.015705,
      -0.001576,
      -0.010134,
      0.009069,
      -0.058661,
      0.008474,
      0.018966,
      -0.001371,
      -0.022642,
      0.003326,
      -0.013942,
      -0.009256,
      0.037609,
      0.016674,
      0.037454,
      -0.009823,
      -0.013553,
      0.04743,
      0.053503,
      -0.030585,
      -0.043857,
      -0.023977,
      0.018578,
      -0.024554,
      -0.020114,
      0.03243,
      -0.002022,
      0.055112,
      0.025928,
      0.01301,
      -0.020864,
      0.033777,
      0.038185,
      -0.030639,
      0.061337,
      -0.010852,
      0.017728,
      -0.015713,
      -0.014901,
      -0.001405,
      0.012271,
      -0.009505,
      0.034623,
      -0.031256,
      0.005849,
      -0.024348,
      0.028778,
      -0.043656,
      -0.018768,
      0.001654,
      0.007043,
      0.063263,
      0.038987,
      -0.034788,
      0.015887,
      -0.019573,
      -0.021473,
      0.01069,
      -0.003246,
      0.02705,
      0.025082,
      -0.029096,
      0.005968,
      -0.002253,
      -0.034281,
      -0.008791,
      -0.005677,
      0.010474,
      -0.001719,
      -0.024001,
      0.025388,
      0.021661,
      0.015623,
      -0.03878,
      0.002676,
      -0.053204,
      0.046226,
      0.011241,
      -0.042044,
      -0.028865,
      0.013505,
      0.031714,
      0.006089,
      -0.040095,
      0.06712,
      -0.029359,
      0.055059,
      0.012169,
      0.034057,
      0.018079,
      0.015667,
      0.011797,
      -0.009902,
      -0.007028,
      0.023673,
      -0.037583,
      -0.008086,
      -0.041199,
      -0.002878,
      -0.026483,
      0.019273,
      0.001529,
      0.000931,
      0.022986,
      0.006527,
      0.02745,
      0.044998,
      0.009355,
      0.036081,
      -0.008322,
      -0.023011,
      -0.016537,
      -0.0501,
      0.006718,
      -0.025319,
      -0.02939,
      0.011917,
      -0.044203,
      0.001871,
      0.076682,
      -0.005775,
      0.004503,
      0.050238,
      -0.014878,
      0.036248,
      0.009697,
      0.045967,
      0.030698,
      0.021859,
      0.056426,
      0.004975,
      0.007711,
      0.067114,
      0.035856,
      -0.006238,
      -0.03462,
      -0.020327,
      -0.062446,
      0.008857,
      -0.009366,
      -0.041443,
      -0.016522,
      -0.038643,
      -0.040998,
      -0.037896,
      -0.009358,
      -0.014147,
      0.008456,
      -0.002052,
      -0.027021,
      0.000625,
      -0.01688,
      0.067442,
      -0.042679,
      0.043708,
      -0.028178,
      0.027296,
      0.015711,
      -0.040286,
      0.005198,
      -0.020035,
      0.007565,
      0.028017,
      -0.034734,
      0.022828,
      -0.026828,
      -0.051601,
      -0.001951,
      -0.013303,
      0.009424,
      0.030861,
      0.025465,
      0.001212,
      -0.032924,
      -0.029521,
      -0.001802,
      0.011877,
      0.008518,
      -0.020491,
      -0.01212,
      -0.000877,
      0.011555,
      0.030692,
      0.016645,
      0.004047,
      0.026597,
      0.036249,
      0.003517,
      -0.022229,
      -0.033374,
      0.013602,
      0.023458,
      -0.016781,
      0.030033,
      0.017758,
      -0.040561,
      -0.017359,
      -0.008204,
      0.002639,
      -0.02247,
      0.020913,
      0.023729,
      0.008481,
      -0.038419,
      0.011553,
      0.016017,
      0.000437,
      -0.018321,
      0.080185,
      0.043099,
      0.015138,
      0.077036,
      0.028391,
      0.093935,
      0.051669,
      0.039045,
      -0.016066,
      -0.010774,
      0.049581,
      -0.016699,
      -0.019398,
      -0.012707,
      0.069193,
      0.002438,
      -0.006167,
      0.040762,
      0.003941,
      -0.163316,
      -0.005249,
      0.009239,
      -0.002517,
      -0.024617,
      0.007267,
      -0.014337,
      -0.006557,
      -0.016143,
      0.05649,
      -0.024147,
      -0.056729,
      -0.002137,
      -0.015783,
      -0.007596,
      0.029112,
      0.004239,
      -0.030644,
      0.022069,
      -0.032333,
      -0.023258,
      -0.027361,
      0.02943,
      -0.007635,
      -0.009187,
      -0.002605,
      0.006706,
      0.051361,
      -0.022008,
      -0.00393,
      -0.028281,
      -0.050263,
      0.007127,
      0.017357,
      -0.023766,
      0.015411,
      0.00199,
      0.007631,
      -0.052298,
      0.001742,
      0.002047,
      0.05311,
      0.017835,
      -0.0171,
      0.038651,
      0.002776,
      0.019758,
      0.018744,
      -0.056951,
      -0.044519,
      0.039131,
      -0.059057,
      -0.011169,
      -0.002882,
      -0.06965,
      0.031307,
      -0.040608,
      0.046605,
      -0.025103,
      0.011344,
      -0.028617,
      -0.021962,
      0.059958,
      -0.029127,
      -0.032869,
      -0.011761,
      -0.019302,
      0.018157,
      0.041321,
      -0.021899,
      0.021898,
      -0.054958,
      0.022107,
      0.005845,
      -0.017478,
      0.026627,
      -0.032686,
      -0.012712,
      -0.037732,
      -0.111166,
      0.015101,
      -0.004696,
      0.014927,
      0.013971,
      -0.024162,
      -0.023735,
      -0.047753,
      0.018891,
      0.047681,
      0.229858,
      -0.000482,
      0.033459,
      0.039222,
      0.041765,
      -0.066337,
      0.00152,
      0.064321,
      0.021396,
      -0.020932,
      -0.010038,
      -0.018761,
      0.018234,
      -0.018753,
      0.003654,
      -0.021575,
      -0.030415,
      0.037186,
      0.040504,
      -0.017994,
      -0.014807,
      -0.056774,
      0.029666,
      0.028111,
      -0.077149,
      -0.046417,
      0.013473,
      -0.009905,
      -0.034326,
      0.007068,
      -0.051213,
      0.030522,
      0.033095,
      -0.02976,
      -0.048779,
      -0.007788,
      0.007498,
      -0.018688,
      -0.029946,
      -0.026614,
      -0.021165,
      -0.030755,
      0.043102,
      -0.01213,
      0.002258,
      0.009636,
      -0.004146,
      -0.007247,
      -0.009327,
      -0.061066,
      -0.040224,
      -0.022868,
      -0.005812,
      0.021727,
      -0.030105,
      0.020211,
      0.014222,
      -0.025173,
      0.013594,
      0.003978,
      0.008976,
      0.007308,
      -0.043274,
      -0.024894,
      -0.015798,
      0.003251,
      0.038584,
      -0.052844,
      0.021119,
      0.02399,
      0.002143,
      -0.008594,
      0.011165,
      0.002269,
      -0.007855,
      0.02766,
      0.022296,
      0.060947,
      -0.015879,
      0.06287,
      -0.023575,
      0.007777,
      -0.043591,
      0.003048,
      0.026136,
      0.022266,
      0.011842,
      0.02946,
      -0.025913,
      -0.044058,
      -0.012298,
      -0.001565,
      0.001058,
      0.050829,
      -0.01974,
      0.001052,
      0.010118,
      0.002544,
      -0.024799,
      0.001843,
      -0.045525,
      0.025354,
      0.004175,
      -0.032929,
      0.03496,
      -0.041486,
      -0.015602,
      -0.002556,
      -0.00827,
      -0.000863,
      -0.034567,
      0.000579,
      0.005789,
      -0.005982,
      0.04743,
      0.002021,
      0.075196,
      -0.015095,
      0.029104,
      0.006477,
      0.019768,
      -0.026022,
      -0.026843,
      0.055954,
      0.010486,
      -0.047832,
      -0.016373,
      0.032726,
      -0.04822,
      0.054749,
      0.030646,
      -0.050729,
      0.000155,
      0.031968,
      0.028889,
      0.032469,
      0.045978,
      -0.005849,
      0.008736,
      -0.00965,
      -0.035649,
      -0.059493,
      -0.026758,
      0.038539,
      0.055882,
      0.021075,
      0.002543,
      0.006565,
      0.013209,
      0.026789,
      -0.006002,
      0.027308,
      0.053948,
      -0.007829,
      -0.01191,
      -0.054054,
      -0.021573,
      0.025692,
      0.019877,
      -0.02154,
      -0.006244,
      0.041337,
      0.050052,
      0.036478,
      0.014502,
      0.000694,
      -0.055462,
      0.010661,
      -0.006422,
      -0.04431,
      -0.011377,
      -0.059931,
      -0.039845,
      0.038992,
      0.012012,
      -0.007203,
      -0.028874,
      -0.030105,
      0.015793,
      0.017024,
      -0.023713,
      0.018431,
      -0.059175,
      -0.010643,
      0.030247,
      -0.017025,
      -0.022016,
      -0.013868,
      0.017238,
      -0.017786,
      -0.050472,
      0.098804,
      0.037966,
      -0.001505,
      0.03862,
      -0.009188,
      0.035489,
      0.01749,
      -0.001818,
      0.0271,
      -0.032664,
      0.007716,
      0.005359,
      0.011934,
      0.043228,
      -0.039108,
      -0.007311,
      0.024343,
      -0.02777,
      0.033335,
      0.035738,
      0.022548,
      0.00956,
      -0.002946,
      0.044614,
      -0.040477,
      0.03104,
      0.054593,
      -0.009112,
      -0.024034,
      0.010167,
      0.023702,
      -0.033374,
      -0.02162,
      0.001356,
      0.017969,
      0.018995,
      0.006269,
      -0.000618,
      0.007052,
      0.002931,
      0.056463,
      0.041902,
      -0.008929,
      0.019527,
      -0.054382,
      -0.002688,
      0.008722,
      0.059485,
      -0.012326,
      0.014779,
      -0.004363,
      0.060105,
      0.076421,
      0.011819,
      -0.013474,
      -0.006414,
      -0.02168,
      -0.021498,
      0.017693,
      -0.048291,
      0.000764,
      0.007582,
      -0.008822,
      -0.007168,
      0.008359,
      0.023504,
      -0.026324,
      -0.027754,
      -0.019172,
      0.018924,
      0.003482,
      0.006716,
      0.020206,
      -0.035346,
      -0.016592,
      0.009132,
      -0.085302,
      -0.031164,
      0.023169,
      -0.015857,
      -0.031258,
      -0.018121,
      -0.040007,
      0.096425,
      0.008432,
      -0.046856,
      -0.017432,
      0.037305,
      -0.056901,
      -0.035494,
      0.001334,
      -0.009024,
      -0.010775,
      0.027092,
      0.03277,
      0.046214,
      0.024467,
      0.006524,
      -0.075661,
      -0.01958,
      0.005994,
      -0.03874,
      0.030608,
      -0.029319,
      -0.009489,
      -0.03332,
      0.003449,
      0.004167,
      -0.003909,
      -0.008413,
      -0.025696,
      0.005398,
      -0.028357,
      0.026005,
      0.037036,
      -0.000893,
      -0.033203,
      0.004318,
      0.051273,
      -0.012825,
      -0.05197,
      0.004291,
      0.033243,
      0.034613,
      -0.0263,
      0.024437,
      -0.022677,
      0.012545,
      -0.022451,
      0.022066,
      -0.019337,
      -0.009286,
      -0.009017,
      -0.038613,
      0.007953,
      0.00669,
      -0.000239,
      -0.025201,
      0.039065,
      -0.069627,
      0.016613,
      -0.027659,
      0.004756,
      -0.022012,
      -0.033646,
      0.056157,
      0.002715,
      0.031144,
      -0.000427,
      -0.007681,
      0.033513,
      0.042998,
      -0.010908,
      0.046067,
      -0.013176,
      -0.049929,
      0.004583,
      -0.024133,
      0.006983,
      -0.024533,
      -0.020749,
      0.005521,
      -0.048826,
      0.041779,
      -0.022932,
      -0.054803,
      0.005198,
      -0.008782,
      -0.01737,
      -0.025399,
      0.004602,
      0.009533,
      -0.039089,
      -0.014079,
      -0.007649,
      0.02386,
      0.005415,
      -0.013001,
      -0.040192,
      -0.001656,
      0.000336,
      0.001683,
      -0.022981,
      -0.017709,
      0.025807,
      -0.000138,
      0.024626,
      0.010701,
      0.007282,
      -0.045866,
      -0.039286,
      0.021549,
      -0.019939,
      -0.018472,
      -0.031867,
      0.027775,
      0.029172,
      0.022643,
      0.037084,
      -0.003244,
      0.028638,
      -0.002741,
      0.013191,
      -0.148484,
      -0.009338,
      -0.020655,
      -0.017396,
      -0.036654,
      0.023352,
      -0.027775,
      -0.020366,
      0.024891,
      -0.000693,
      -0.023803,
      0.035938,
      0.025803,
      -0.022491,
      0.021977,
      -0.008441,
      0.019869,
      -0.016344,
      0.019745,
      0.028471,
      -0.011125,
      -0.019697,
      0.065324,
      -0.007138,
      0.013264,
      0.00324,
      -0.009986,
      -0.015945,
      -0.023689,
      0.050322,
      -0.022763,
      -0.032044,
      -0.014483,
      0.010333,
      -0.01069,
      -0.011517,
      0.038219,
      -0.011962,
      0.035448,
      0.085112,
      -0.038339,
      0.011186,
      -0.006632,
      -0.007025,
      0.039524,
      0.041068,
      -0.019038,
      -0.005276,
      -0.018228,
      -0.061839,
      0.005322,
      -0.026822,
      0.010797,
      0.052654,
      -0.015184,
      0.001968,
      -0.003767,
      -0.009036,
      -0.094433,
      0.034242,
      -0.04241,
      0.028322,
      -0.017458,
      -0.0151,
      0.008831,
      0.001635,
      -0.039697,
      0.030367,
      -0.006997,
      -0.013322,
      0.027119,
      -0.047957,
      -0.068452,
      0.034252,
      0.006812,
      0.008886,
      0.00711,
      -0.01823,
      -0.063434,
      0.010262,
      -0.01674,
      0.020986,
      -0.059971,
      0.024794,
      0.032498,
      0.007736,
      -0.008701,
      0.037927,
      -0.040947,
      0.001599,
      -0.005305,
      -0.051001,
      0.000308,
      0.007604,
      -0.007153,
      0.006285,
      0.021273,
      -0.034033,
      0.001548,
      0.022286,
      -0.061129,
      -0.007489,
      0.015647,
      -0.012178,
      -0.047583,
      0.052026,
      -0.003966,
      0.0245,
      -0.014812,
      -0.010884,
      -0.036072,
      -0.001466,
      0.032192,
      -0.002087,
      -0.026073,
      0.004433,
      0.018891,
      0.022891,
      -0.022024,
      0.016805,
      0.01802,
      0.041139,
      -0.037483,
      -0.043079,
      0.020204,
      -0.013602,
      0.004655,
      0.016719,
      0.046097,
      0.019792,
      -0.009817,
      -0.017242,
      0.04506,
      0.008932,
      0.066734,
      -0.010114,
      -0.015642,
      0.049555,
      -0.040794,
      -0.019442,
      -0.068499,
      0.006035,
      0.017897,
      -0.014329,
      -0.018052,
      -0.027567,
      0.018943,
      0.028861,
      -0.021747,
      0.016756,
      0.018219,
      -0.009625,
      -0.010505,
      0.061707,
      -0.009455,
      0.046202,
      0.029489,
      0.000848,
      -0.068082,
      0.045005,
      -0.008266,
      -0.031101,
      0.000982,
      0.00483,
      0.020981,
      -0.02064,
      -0.000028,
      -0.001722,
      -0.01781,
      0.012406,
      -0.008151,
      0.028489,
      -0.010324,
      -0.019357,
      0.044785,
      0.005235,
      0.002379,
      -0.00926,
      0.026844,
      -0.008833,
      0.029565,
      -0.005385,
      0.03377,
      0.041781,
      0.064725,
      -0.000592,
      0.046524,
      0.018884,
      0.00271,
      -0.012586,
      -0.016497,
      0.005378,
      0.007423,
      -0.016045,
      0.018951,
      -0.026949,
      -0.023872,
      -0.031547,
      -0.028122,
      0.06067,
      -0.029959,
      -0.005279,
      -0.037745,
      -0.031882,
      0.014727,
      -0.01329,
      -0.082181,
      -0.013613,
      0.027151,
      -0.008893,
      -0.009545,
      -0.022784,
      0.001066,
      0.00036,
      -0.026878,
      0.005218,
      0.007914,
      0.00618,
      -0.030747,
      -0.001108,
      0.028391,
      0.030935,
      -0.014615,
      -0.051072,
      0.002289,
      0.000456,
      -0.036223,
      -0.019365,
      0.004391,
      -0.005889,
      -0.059572,
      -0.022104,
      0.031445,
      -0.009812,
      0.008683,
      -0.027716,
      0.019824,
      0.051968,
      -0.019608,
      -0.008823,
      0.03752,
      0.032257,
      -0.033014,
      0.003825
    ]
  }
]
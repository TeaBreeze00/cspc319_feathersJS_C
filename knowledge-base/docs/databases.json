[
  {
    "id": "v5-guides-cli-databases",
    "title": "Databases",
    "content": "Databases | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Databases ​\nDatabaseSQLMongoDB\n## Connection ​\nDepending on the SQL database you selected, a `src/.ts` file will be created that sets up a connection using KnexJS. It uses the connection settings from the `` configuration value and exports a configure function that initializes the database connection. The Knex connection object is then accessible wherever you have access to the app object viats\n```\nconst knex = app.get('Client')\n```\nThe database pool size can be set in the configuration like this:json\n```\n\"postgresql\": {\n  \"client\": \"pg\",\n  \"connection\": \"\",\n  \"pool\": {\n    \"min\": 0,\n    \"max\": 7\n  }\n},\n```\n`connection` can also be an object instead of a connection string:json\n```\n\"postgresql\": {\n  \"client\": \"pg\",\n  \"connection\": {\n    \"host\": \"localhost\",\n    \"port\": 5432,\n    \"user\": \"postgres\",\n    \"password\": \"postgres\",\n    \"database\": \"pgtest\"\n  }\n}\n```\n`src/mongodb.ts` exports a configure function that connects to the MongoDB connection string set as `mongodb` in your configuration. The MongoDB NodeJS client is then accessible wherever you have access to the app object viats\n```\nconst db = await app.get('mongodbClient')\n```\nThe default connection string tries to connect to a local MongoDB instance with no password. To use e.g. MongoDB Atlas change the `mongodb` property in `config/default.json` or add it as an environment variable with the connection string that will look similar to this:\n```\nmongodb+srv://:@cluster0.xyz.mongodb.net/?retryWrites=true&w=majority\n```\n\n## Models ​\nKnexJS does not have a concept of models. Instead a new service is initialized with the table name and `app.get('Client')` as the connection. For more information on how to create custom queries and more, see the SQL database adapter API documentation.The collection for a MongoDB service can be accessed viats\n```\nconst userCollection = await app.service('users').getModel()\n```\nSee the MongoDB service API documentation for more information. Suggest changes to this pageLast updated: Released under the MIT License.Copyright © 2012-2026 FeathersJS contributors feathers About\n• Philosophy\n• Comparison\n• Ecosystem\n• Learn\n• Guides\n• API\n• Blog\n• Ecosystem\n• Become a Backer\n• Find Help\n• Github Issues\n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors",
    "version": "v5",
    "tokens": [
      "databases",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "databasesqlmongodb",
      "connection",
      "depending",
      "the",
      "sql",
      "database",
      "you",
      "selected",
      "src",
      "file",
      "will",
      "created",
      "that",
      "sets",
      "using",
      "knexjs",
      "uses",
      "settings",
      "from",
      "configuration",
      "value",
      "and",
      "exports",
      "configure",
      "function",
      "initializes",
      "knex",
      "object",
      "then",
      "accessible",
      "wherever",
      "have",
      "access",
      "app",
      "viats",
      "const",
      "get",
      "client",
      "pool",
      "size",
      "can",
      "set",
      "like",
      "this",
      "json",
      "postgresql",
      "min",
      "max",
      "also",
      "instead",
      "string",
      "host",
      "localhost",
      "port",
      "user",
      "postgres",
      "password",
      "pgtest",
      "mongodb",
      "connects",
      "your",
      "nodejs",
      "await",
      "mongodbclient",
      "default",
      "tries",
      "connect",
      "local",
      "instance",
      "with",
      "use",
      "atlas",
      "change",
      "property",
      "config",
      "add",
      "environment",
      "variable",
      "look",
      "similar",
      "srv",
      "cluster0",
      "xyz",
      "net",
      "retrywrites",
      "true",
      "majority",
      "models",
      "does",
      "not",
      "concept",
      "new",
      "service",
      "initialized",
      "table",
      "name",
      "for",
      "more",
      "information",
      "how",
      "create",
      "custom",
      "queries",
      "see",
      "adapter",
      "api",
      "documentation",
      "collection",
      "accessed",
      "usercollection",
      "users",
      "getmodel"
    ],
    "category": "databases"
  },
  {
    "id": "v5-guides-cli-knexfile",
    "title": "Knexfile",
    "content": "Knexfile | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Knexfile ​\n\n## Migrations ​\nMigrations are a best practise for SQL databases to roll out and undo changes to the data model and are set up automatically with an SQL database connection. The generated `knexfile.ts` imports the app object to establish the connection to the database. To run migration scripts for the connection from the configuration environment use:\n```\nnpm run migrate\n```\nTo create a new migration, run\n```\nnpm run migrate:make -- \n```\nand replace `` with the name of the migration you want to create. This will create a new file in the `migrations/` folder.tipFor more information on what is available in migration files, see the Knex migrations documentation. Suggest changes to this pageLast updated: Released under the MIT License.Copyright © 2012-2026 FeathersJS contributors feathers About\n• Philosophy\n• Comparison\n• Ecosystem\n• Learn\n• Guides\n• API\n• Blog\n• Ecosystem\n• Become a Backer\n• Find Help\n• Github Issues\n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors",
    "version": "v5",
    "tokens": [
      "knexfile",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "migrations",
      "are",
      "best",
      "practise",
      "for",
      "sql",
      "databases",
      "roll",
      "out",
      "and",
      "undo",
      "changes",
      "the",
      "data",
      "model",
      "set",
      "automatically",
      "with",
      "database",
      "connection",
      "generated",
      "imports",
      "app",
      "object",
      "establish",
      "run",
      "migration",
      "scripts",
      "from",
      "configuration",
      "environment",
      "use",
      "npm",
      "migrate",
      "create",
      "new",
      "make",
      "replace",
      "name",
      "you",
      "want",
      "this",
      "will",
      "file",
      "folder",
      "tipfor",
      "more",
      "information",
      "what",
      "available",
      "files",
      "see",
      "knex",
      "documentation",
      "suggest",
      "pagelast",
      "updated",
      "released",
      "under",
      "mit",
      "license",
      "copyright",
      "feathersjs",
      "contributors",
      "about",
      "philosophy",
      "comparison",
      "ecosystem",
      "learn",
      "guides",
      "api",
      "blog",
      "become",
      "backer",
      "find",
      "help",
      "github",
      "issues"
    ],
    "category": "databases"
  },
  {
    "id": "v5-api-databases-adapters",
    "title": "Overview",
    "content": "Overview | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Overview ​\nFeathers database adapters are modules that provide services that implement standard CRUD functionality for a specific database. They use a common API for initialization and settings, and they provide a common query syntax.tipServices allow to implement access to any database or API. The database adapters listed here are just convenience wrappers with a common API. See the community adapters section for support for other datastores.\n## Core Adapters ​\nThe following data storage adapters are available in Feathers coreCore PackageSupported Data StoresMemoryMemoryMongoDBMongoDBSQL (Knex)MySQL MariaDB  PostgreSQL CockroachDB SQLite Amazon Redshift OracleDB MSSQL\n## Community Adapters ​\nThere are also many community maintained adapters for other databases and ORMs which can be found on the Ecosystem page. Suggest changes to this pageLast updated: Released under the MIT License.Copyright © 2012-2026 FeathersJS contributors feathers About\n• Philosophy\n• Comparison\n• Ecosystem\n• Learn\n• Guides\n• API\n• Blog\n• Ecosystem\n• Become a Backer\n• Find Help\n• Github Issues\n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors",
    "version": "v5",
    "tokens": [
      "overview",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "database",
      "adapters",
      "are",
      "modules",
      "that",
      "provide",
      "services",
      "implement",
      "standard",
      "crud",
      "functionality",
      "for",
      "specific",
      "they",
      "use",
      "common",
      "api",
      "initialization",
      "and",
      "settings",
      "query",
      "syntax",
      "tipservices",
      "allow",
      "access",
      "any",
      "the",
      "listed",
      "here",
      "just",
      "convenience",
      "wrappers",
      "with",
      "see",
      "community",
      "section",
      "support",
      "other",
      "datastores",
      "core",
      "following",
      "data",
      "storage",
      "available",
      "corecore",
      "packagesupported",
      "storesmemorymemorymongodbmongodbsql",
      "knex",
      "mysql",
      "mariadb",
      "postgresql",
      "cockroachdb",
      "sqlite",
      "amazon",
      "redshift",
      "oracledb",
      "mssql",
      "there",
      "also",
      "many",
      "maintained",
      "databases",
      "orms",
      "which",
      "can",
      "found",
      "ecosystem",
      "page",
      "suggest",
      "changes",
      "this",
      "pagelast",
      "updated",
      "released",
      "under",
      "mit",
      "license",
      "copyright",
      "feathersjs",
      "contributors",
      "about",
      "philosophy",
      "comparison",
      "learn",
      "guides",
      "blog",
      "become",
      "backer",
      "find",
      "help",
      "github",
      "issues"
    ],
    "category": "databases"
  },
  {
    "id": "v5-api-databases-common",
    "title": "Common API",
    "content": "Common API | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Common API ​\nThe Feathers database adapters implement a common interface for initialization, pagination, extending and querying. This chapter describes the common adapter initialization and options, how to enable and use pagination, the details on how specific service methods behave and how to extend an adapter with custom functionality.ImportantEvery database adapter is an implementation of the Feathers service interface. If there is no adapter available for your database of choice, you can still use it directly in a custom service. We recommend being familiar with Feathers services, service events and hooks and the database before using a database adapter.\n## Initialization ​\n\n### `new Service(options)` ​\nEach adapter exports a `Service` class that can be exported and extended.ts\n```\nimport { NameService } from 'feathers-'\n\napp.use('/messages', new NameService())\napp.use('/messages', new NameService({ id, events, paginate }))\n```\n\n### Options ​\nThe following options are available for all database adapters:`id {string}` (optional) - The name of the id field property (usually set by default to `id` or `_id`).\n• `paginate {Object}` (optional) - A pagination object containing a `default` and `max` page size\n• `multi {string[]|boolean}` (optional, default: `false`) - Allow `create` with arrays and `patch` and `remove` with id `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)\n\nThe following legacy options are still available but should be avoided:\n• `events {string[]}` (optional, deprecated) - A list of custom service events sent by this service. Use the `events` option when registering the service with app.use instead.\n• `operators {string[]}` (optional, deprecated) - A list of additional non-standard query parameters to allow (e.g `[ '$regex' ]`). Not necessary when using a query schema\n• `filters {Object}` (optional, deprecated) - An object of additional top level query filters, e.g. `{ $populate: true }`. Can also be a converter function like `{ $ignoreCase: (value) => value === 'true' ? true : false }`. Not necessary when using a query schema\n\nFor database specific options see the adapter documentation.\n\n## Pagination ​\n\nWhen initializing an adapter you can set the following pagination options in the `paginate` object:\n• `default` - Sets the default number of items when `$limit` is not set\n• `max` - Sets the maximum allowed number of items per page (even if the `$limit` query parameter is set higher)\n\nWhen `paginate.default` is set, `find` will return a page object (instead of the normal array) in the following form:\n\n```\n{\n  \"total\": \"\",\n  \"limit\": \"\",\n  \"skip\": \"\",\n  \"data\": [/* data */]\n}\n```\n\nThe pagination options can be set as follows:\n\njs\n```\nconst service = require('feathers-')\n\n// Set the `paginate` option during initialization\napp.use(\n  '/todos',\n  service({\n    paginate: {\n      default: 5,\n      max: 25\n    }\n  })\n)\n\n// override pagination in `params.paginate` for this call\napp.service('todos').find({\n  paginate: {\n    default: 100,\n    max: 200\n  }\n})\n\n// disable pagination for this call\napp.service('todos').find({\n  paginate: false\n})\n```\n\nnote\n\nDisabling or changing the default pagination is not available in the client. Only `params.query` is passed to the server (also see a workaround here)\n\n## params.adapter ​\n\nSetting the `adapter` in the service method `params` allows do dynamically modify the database adapter options based on the request. This e.g. allows to temporarily allow multiple entry creation/changes or the pagination settings.\n\nts\n```\nconst messages = [\n  {\n    text: 'message 1'\n  },\n  {\n    text: 'message 2'\n  }\n]\n\n// Enable multiple entry insertion for this request\napp.service('messages').create(messages, {\n  adapter: {\n    multi: true\n  }\n})\n```\n\ntip\n\nIf the adapter has a `Model` option, `params.adapter.Model` can be used to point to different databases based on the request to e.g. allow multi-tenant systems. This is usually done by setting `context.params.adapter` in a hook.\n\n## params.paginate ​\n\nSetting `paginate` in the service method `params` allows to change or disable the default pagination for a single request:\n\nts\n```\n// Get all messages as an array\nconst allMessages = await app.service('messages').find({\n  paginate: false\n})\n```\n\n## Extending Adapters ​\n\nThere are two ways to extend existing database adapters. Either by extending the base class or by adding functionality through hooks.\n\n### Classes ​\n\nAll modules also export an ES6 class as `Service` that can be directly extended. See the Service CLI guide on how to override existing and implement new methods.\n\n## Service methods ​\n\nThis section describes specifics on how the service methods are implemented for all adapters.\n\n### constructor(options) ​\n\nInitializes a new service. Should call `super(options)` when overwritten.\n\n### Methods w",
    "version": "v5",
    "tokens": [
      "common",
      "api",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "the",
      "database",
      "adapters",
      "implement",
      "interface",
      "for",
      "initialization",
      "pagination",
      "extending",
      "and",
      "querying",
      "this",
      "chapter",
      "describes",
      "adapter",
      "options",
      "how",
      "enable",
      "use",
      "details",
      "specific",
      "service",
      "methods",
      "behave",
      "extend",
      "with",
      "custom",
      "functionality",
      "importantevery",
      "implementation",
      "there",
      "available",
      "your",
      "choice",
      "you",
      "can",
      "still",
      "directly",
      "recommend",
      "being",
      "familiar",
      "services",
      "events",
      "hooks",
      "before",
      "using",
      "new",
      "each",
      "exports",
      "class",
      "that",
      "exported",
      "extended",
      "import",
      "nameservice",
      "from",
      "app",
      "messages",
      "paginate",
      "following",
      "are",
      "all",
      "string",
      "optional",
      "name",
      "field",
      "property",
      "usually",
      "set",
      "default",
      "object",
      "containing",
      "max",
      "page",
      "size",
      "multi",
      "boolean",
      "false",
      "allow",
      "create",
      "arrays",
      "patch",
      "remove",
      "null",
      "change",
      "multiple",
      "items",
      "true",
      "array",
      "allowed",
      "legacy",
      "but",
      "should",
      "avoided",
      "deprecated",
      "list",
      "sent",
      "option",
      "when",
      "registering",
      "instead",
      "operators",
      "additional",
      "non",
      "standard",
      "query",
      "parameters",
      "regex",
      "not",
      "necessary"
    ],
    "category": "databases"
  },
  {
    "id": "v5-api-databases-querying",
    "title": "Querying",
    "content": "Querying | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Querying ​\nAll official database adapters support a common way for querying, sorting, limiting and selecting `find` and `get` method calls as part of `params.query`. Querying also applies `update`, `patch` and `remove` method calls.NoteWhen used via REST URLs all query values are strings and may need to be converted to the correct type. In a v5 application this is done automatically using schemas.\n## Filters ​\nFilters are special properties (starting with a `$`) added at the top level of a query. They can determine page settings, the properties to select and more.\n### $limit ​\n`$limit` will return only the number of results you specify:js\n```\n// Retrieves the first two unread messages\napp.service('messages').find({\n  query: {\n    $limit: 2,\n    read: false\n  }\n})\n```\n\n```\nGET /messages?$limit=2&read=false\n```\ntipWith pagination enabled, to just get the number of available records set `$limit` to `0`. This will only run a (fast) counting query against the database and return a page object with the `total` and an empty `data` array.\n### $skip ​\n`$skip` will skip the specified number of results:js\n```\n// Retrieves the next two unread messages\napp.service('messages').find({\n  query: {\n    $limit: 2,\n    $skip: 2,\n    read: false\n  }\n})\n```\n\n```\nGET /messages?$limit=2&$skip=2&read=false\n```\n\n### $sort ​\n`$sort` will sort based on the object you provide. It can contain a list of properties by which to sort mapped to the order (`1` ascending, `-1` descending).js\n```\n// Find the 10 newest messages\napp.service('messages').find({\n  query: {\n    $limit: 10,\n    $sort: {\n      createdAt: -1\n    }\n  }\n})\n```\n\n```\n/messages?$limit=10&$sort[createdAt]=-1\n```\n\n### $select ​\n`$select` allows to pick which fields to include in the result. This will work for any service method.js\n```\n// Only return the `text` and `userId` field in a message\napp.service('messages').find({\n  query: {\n    $select: ['text', 'userId']\n  }\n})\n\napp.service('messages').get(1, {\n  query: {\n    $select: ['text']\n  }\n})\n```\n\n```\nGET /messages?$select[]=text&$select[]=userId\nGET /messages/1?$select[]=text\n```\n\n### $or ​\nFind all records that match any of the given criteria.js\n```\n// Find all messages that are not marked as archived\n// or any message from room 2\napp.service('messages').find({\n  query: {\n    $or: [{ archived: { $ne: true } }, { roomId: 2 }]\n  }\n})\n```\n\n```\nGET /messages?$or[0][archived][$ne]=true&$or[1][roomId]=2\n```\n\n### $and ​\nFind all records that match all of the given criteria.js\n```\n// Find all messages that are not marked as archived and in room 2\napp.service('messages').find({\n  query: {\n    $and: [{ archived: { $ne: true } }, { roomId: 2 }]\n  }\n})\n```\n\n```\nGET /messages?$and[0][archived][$ne]=true&$and[1][roomId]=2\n```\n\n## Operators ​\nOperators either query a property for a specific value or determine nested special properties (starting with a `$`) that allow querying the property for certain conditions. When multiple operators are set, all conditions have to apply for a property to match.\n### Equality ​\nAll fields that do not contain special query parameters are compared directly for equality.js\n```\n// Find all unread messages in room #2\napp.service('messages').find({\n  query: {\n    read: false,\n    roomId: 2\n  }\n})\n```\n\n```\nGET /messages?read=false&roomId=2\n```\n\n### $in, $nin ​\nFind all records where the property does (`$in`) or does not (`$nin`) match any of the given values.js\n```\n// Find all messages in room 2 or 5\napp.service('messages').find({\n  query: {\n    roomId: {\n      $in: [2, 5]\n    }\n  }\n})\n```\n\n```\nGET /messages?roomId[$in][]=2&roomId[$in][]=5\n```\n\n### $lt, $lte ​\nFind all records where the value is less (`$lt`) or less and equal (`$lte`) to a given value.js\n```\n// Find all messages older than a day\nconst DAY_MS = 24 * 60 * 60 * 1000\n\napp.service('messages').find({\n  query: {\n    createdAt: {\n      $lt: new Date().getTime() - DAY_MS\n    }\n  }\n})\n```\n\n```\nGET /messages?createdAt[$lt]=1479664146607\n```\n\n### $gt, $gte ​\nFind all records where the value is more (`$gt`) or more and equal (`$gte`) to a given value.js\n```\n// Find all messages within the last day\nconst DAY_MS = 24 * 60 * 60 * 1000\n\napp.service('messages').find({\n  query: {\n    createdAt: {\n      $gt: new Date().getTime() - DAY_MS\n    }\n  }\n})\n```\n\n```\nGET /messages?createdAt[$gt]=1479664146607\n```\n\n### $ne ​\nFind all records that do not equal the given property value.js\n```\n// Find all messages that are not marked as archived\napp.service('messages').find({\n  query: {\n    archived: {\n      $ne: true\n    }\n  }\n})\n```\n\n```\nGET /messages?archived[$ne]=true\n```\n\n## Search ​\nSearching is not part of the common querying syntax since it is very specific to the database you are using. For built in databases, see the SQL search and MongoDb search documentation. If you are using a community supported adapter their documentation may contain additional information on how",
    "version": "v5",
    "tokens": [
      "querying",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "all",
      "official",
      "database",
      "adapters",
      "support",
      "common",
      "way",
      "for",
      "sorting",
      "limiting",
      "and",
      "selecting",
      "find",
      "get",
      "method",
      "calls",
      "part",
      "params",
      "query",
      "also",
      "applies",
      "update",
      "patch",
      "remove",
      "notewhen",
      "used",
      "via",
      "rest",
      "urls",
      "values",
      "are",
      "strings",
      "may",
      "need",
      "converted",
      "the",
      "correct",
      "type",
      "application",
      "this",
      "done",
      "automatically",
      "using",
      "schemas",
      "filters",
      "special",
      "properties",
      "starting",
      "with",
      "added",
      "level",
      "they",
      "can",
      "determine",
      "page",
      "settings",
      "select",
      "more",
      "limit",
      "will",
      "return",
      "only",
      "number",
      "results",
      "you",
      "specify",
      "retrieves",
      "first",
      "two",
      "unread",
      "messages",
      "app",
      "service",
      "read",
      "false",
      "tipwith",
      "pagination",
      "enabled",
      "just",
      "available",
      "records",
      "set",
      "run",
      "fast",
      "counting",
      "against",
      "object",
      "total",
      "empty",
      "data",
      "array",
      "specified",
      "next",
      "sort",
      "based",
      "provide",
      "contain",
      "list",
      "which",
      "mapped",
      "order",
      "ascending",
      "descending",
      "newest",
      "createdat",
      "allows",
      "pick",
      "fields",
      "include",
      "result",
      "work",
      "any",
      "text",
      "userid",
      "field",
      "message",
      "quer"
    ],
    "category": "databases"
  },
  {
    "id": "v5-api-databases-mongodb",
    "title": "MongoDB",
    "content": "MongoDB | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# MongoDB ​\nSupport for MongoDB is provided in Feathers via the `@feathersjs/mongodb` database adapter which uses the MongoDB Client for Node.js. The adapter uses the MongoDB Aggregation Framework, internally, and enables using Feathers' friendly syntax with the full power of aggregation operators. The adapter automatically uses the MongoDB Query API when you need features like Collation.bash\n```\n$ npm install --save @feathersjs/mongodb\n```\ntipThe MongoDB adapter implements the common database adapter API and querying syntax.\n## API ​\n\n### `MongoDBService(options)` ​\n`new MongoDBService(options)` returns a new service instance initialized with the given options. The following example extends the `MongoDBService` and then uses the `mongodbClient` from the app configuration and provides it to the `Model` option, which is passed to the new `MessagesService`.ts\n```\nimport type { Params } from '@feathersjs/feathers'\nimport { MongoDBService } from '@feathersjs/mongodb'\nimport type { MongoDBAdapterParams, MongoDBAdapterOptions } from '@feathersjs/mongodb'\n\nimport type { Application } from '../../declarations'\nimport type { Messages, MessagesData, MessagesQuery } from './messages.schema'\n\nexport interface MessagesParams extends MongoDBAdapterParams {}\n\nexport class MessagesService extends MongoDBService {}\n\nexport const messages = (app: Application) => {\n  const options: MongoDBAdapterOptions = {\n    paginate: app.get('paginate'),\n    Model: app.get('mongodbClient').then((db) => db.collection('messages'))\n  }\n  app.use('messages', new MessagesService(options))\n}\n```\nHere's an overview of the `options` object:\n### Options ​\nMongoDB adapter specific options are:`Model {Promise}` (required) - A Promise that resolves with the MongoDB collection instance. This can also be the return value of an `async` function without `await`\n• `disableObjectify {boolean}` (optional, default `false`) - This will disable conversion of the id field to a MongoDB ObjectID if you want to e.g. use normal strings\n• `useEstimatedDocumentCount {boolean}` (optional, default `false`) - If `true` document counting will rely on `estimatedDocumentCount` instead of `countDocuments`\n\nThe common API options are:\n• `id {string}` (optional, default: `'_id'`) - The name of the id field property. By design, MongoDB will always add an `_id` property. But you can choose to use a different property as your primary key.\n• `paginate {Object}` (optional) - A pagination object containing a `default` and `max` page size\n• `multi {string[]|boolean}` (optional, default: `false`) - Allow `create` with arrays and `patch` and `remove` with id `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)\n\nThere are additionally several legacy options in the common API options\n\n### getModel() ​\n\n`getModel([params])` returns a Promise that resolves with the MongoDB collection object. The optional `params` is the service parameters which may allow to override the collection via params.adapter.\n\n### aggregateRaw(params) ​\n\nThe `find` method has been split into separate utilities for converting params into different types of MongoDB requests. When using `params.pipeline`, the `aggregateRaw` method is used to convert the Feathers params into a MongoDB aggregation pipeline with the `model.aggregate` method. This method returns a raw MongoDB Cursor object, which can be used to perform custom pagination or in custom server scripts, if desired.\n\n### findRaw(params) ​\n\n`findRaw(params)` This method is used when there is no `params.pipeline` and uses the common `model.find` method. It returns a raw MongoDB Cursor object, which can be used to perform custom pagination or in custom server scripts, if desired.\n\n### makeFeathersPipeline(params) ​\n\n`makeFeathersPipeline(params)` takes a set of Feathers params and converts them to a pipeline array, ready to pass to `model.aggregate`. This utility comprises the bulk of the `aggregateRaw` functionality, but does not use `params.pipeline`.\n\n### Custom Params ​\n\nThe `@feathersjs/mongodb` adapter utilizes three custom params which control adapter-specific features: `params.pipeline`, `params.mongodb`, and `params.adapter`. As mentioned here, these custom params are not intended to be used directly from the client. Directly exposing `params.pipeline` or `params.mongodb` to the client directly would expose the entire database to the client through powerful pipeline queries.\n\n#### params.adapter ​\n\nAllows to dynamically set the adapter options (like the `Model` collection) for a service method call.\n\n#### params.pipeline ​\n\nUsed for aggregation pipelines. Whenever this property is set, the adapter will use the `model.aggregate` method instead of the `model.find` method. The `pipeline` property should be an array of aggregation stages.\n\n#### params.mongodb ​\n\nWhen making a service method ",
    "version": "v5",
    "tokens": [
      "mongodb",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "support",
      "for",
      "provided",
      "via",
      "the",
      "feathersjs",
      "database",
      "adapter",
      "which",
      "uses",
      "client",
      "node",
      "aggregation",
      "framework",
      "internally",
      "and",
      "enables",
      "using",
      "friendly",
      "syntax",
      "with",
      "full",
      "power",
      "operators",
      "automatically",
      "query",
      "api",
      "when",
      "you",
      "need",
      "features",
      "like",
      "collation",
      "bash",
      "npm",
      "install",
      "save",
      "tipthe",
      "implements",
      "common",
      "querying",
      "mongodbservice",
      "options",
      "new",
      "returns",
      "service",
      "instance",
      "initialized",
      "given",
      "following",
      "example",
      "extends",
      "then",
      "mongodbclient",
      "from",
      "app",
      "configuration",
      "provides",
      "model",
      "option",
      "passed",
      "messagesservice",
      "import",
      "type",
      "params",
      "mongodbadapterparams",
      "mongodbadapteroptions",
      "application",
      "declarations",
      "messages",
      "messagesdata",
      "messagesquery",
      "schema",
      "export",
      "interface",
      "messagesparams",
      "class",
      "const",
      "paginate",
      "get",
      "collection",
      "use",
      "here",
      "overview",
      "object",
      "specific",
      "are",
      "promise",
      "required",
      "that",
      "resolves",
      "this",
      "can",
      "also",
      "return",
      "value",
      "async",
      "function",
      "without",
      "await",
      "disableobjectify",
      "boolean",
      "optional",
      "default"
    ],
    "category": "databases"
  },
  {
    "id": "v5-api-databases-knex",
    "title": "SQL Databases",
    "content": "SQL Databases | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# SQL Databases ​\nSupport for SQL databases like PostgreSQL, MySQL, MariaDB, SQLite or MSSQL is provided in Feathers via the `@feathersjs/knex` database adapter which uses KnexJS. Knex is a fast and flexible query builder for SQL and supports many databases without the overhead of a full blown ORM like Sequelize. It still provides an intuitive syntax and more advanced tooling like migration support.bash\n```\n$ npm install --save @feathersjs/knex\n```\ntipThe Knex adapter implements the common database adapter API and querying syntax.\n## API ​\n\n### KnexService(options) ​\n`new KnexService(options)` returns a new service instance initialized with the given options. The following example extends the `KnexService` and then uses the `sqliteClient` (or relevant client for your SQL database type) from the app configuration and provides it to the `Model` option, which is passed to the new `MessagesService`.ts\n```\nimport type { Params } from '@feathersjs/feathers'\nimport { KnexService } from '@feathersjs/knex'\nimport type { KnexAdapterParams, KnexAdapterOptions } from '@feathersjs/knex'\n\nimport type { Application } from '../../declarations'\nimport type { Messages, MessagesData, MessagesQuery } from './messages.schema'\n\nexport interface MessagesParams extends KnexAdapterParams {}\n\nexport class MessagesService extends KnexService {}\n\nexport const messages = (app: Application) => {\n  const options: KnexAdapterOptions = {\n    paginate: app.get('paginate'),\n    Model: app.get('sqliteClient'),\n    name: 'messages'\n  }\n  app.use('messages', new MessagesService(options))\n}\n```\n\n### Options ​\nThe Knex specific adapter options are:`Model {Knex}` (required) - The KnexJS database instance\n• `name {string}` (required) - The name of the table\n• `schema {string}` (optional) - The name of the schema table prefix (example: `schema.table`)\n• `tableOptions {only: boolean` (optional) - For PostgreSQL only. Argument for passing options to knex db builder. ONLY keyword is used before the tableName to discard inheriting tables' data. (https://knexjs.org/guide/query-builder.html#common)\n• `extendedOperators {[string]: string}` (optional) - A map defining additional operators for the query builder. Example: `{ $fulltext: '@@' }` for PostgreSQL full text search. See Knex source for operators supported by Knex.\n\nThe common API options are:\n• `id {string}` (optional, default: `'id'`) - The name of the id field property. By design, Knex will always add an `id` property.\n• `paginate {Object}` (optional) - A pagination object containing a `default` and `max` page size\n• `multi {string[]|boolean}` (optional, default: `false`) - Allow `create` with arrays and `patch` and `remove` with id `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)\n\nThere are additionally several legacy options in the common API options\n\n### getModel([params]) ​\n\n`service.getModel([params])` returns the Knex client for this table.\n\n### db(params) ​\n\n`service.db([params])` returns the Knex database instance for a request. This will include the `schema` table prefix and use a transaction if passed in `params`.\n\n### createQuery(params) ​\n\n`service.createQuery(params)` returns a query builder for a service request, including all conditions matching the query syntax. This method can be overriden to e.g. include associations or used in a hook customize the query and then passing it to the service call as params.knex.\n\nts\n```\napp.service('messages').hooks({\n  before: {\n    find: [\n      async (context: HookContext) => {\n        const query = context.service.createQuery(context.params)\n\n        // do something with query here\n        query.orderBy('name', 'desc')\n\n        context.params.knex = query\n      }\n    ]\n  }\n})\n```\n\n### params.knex ​\n\nWhen making a service method call, `params` can contain an `knex` property which allows to modify the options used to run the KnexJS query. See createQuery for an example.\n\n## Querying ​\n\nIn addition to the common querying mechanism, this adapter also supports the following operators. Note that these operators need to be added for each query-able property to the TypeBox query schema or JSON query schema like this:\n\nts\n```\nconst messageQuerySchema = Type.Intersect(\n  [\n    // This will additionally allow querying for `{ name: { $ilike: 'Dav%' } }`\n    querySyntax(messageQueryProperties, {\n      name: {\n        $ilike: Type.String()\n      }\n    }),\n    // Add additional query properties here\n    Type.Object({})\n  ],\n  { additionalProperties: false }\n)\n```\n\n### $like ​\n\nFind all records where the value matches the given string pattern. The following query retrieves all messages that start with `Hello`:\n\nts\n```\napp.service('messages').find({\n  query: {\n    text: {\n      $like: 'Hello%'\n    }\n  }\n})\n```\n\nThrough the REST API:\n\n```\n/messages?text[$like]=Hello%\n```\n\n### $notlike ​",
    "version": "v5",
    "tokens": [
      "sql",
      "databases",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "support",
      "for",
      "like",
      "postgresql",
      "mysql",
      "mariadb",
      "sqlite",
      "mssql",
      "provided",
      "via",
      "the",
      "feathersjs",
      "knex",
      "database",
      "adapter",
      "which",
      "uses",
      "knexjs",
      "fast",
      "and",
      "flexible",
      "query",
      "builder",
      "supports",
      "many",
      "without",
      "overhead",
      "full",
      "blown",
      "orm",
      "sequelize",
      "still",
      "provides",
      "intuitive",
      "syntax",
      "more",
      "advanced",
      "tooling",
      "migration",
      "bash",
      "npm",
      "install",
      "save",
      "tipthe",
      "implements",
      "common",
      "api",
      "querying",
      "knexservice",
      "options",
      "new",
      "returns",
      "service",
      "instance",
      "initialized",
      "with",
      "given",
      "following",
      "example",
      "extends",
      "then",
      "sqliteclient",
      "relevant",
      "client",
      "your",
      "type",
      "from",
      "app",
      "configuration",
      "model",
      "option",
      "passed",
      "messagesservice",
      "import",
      "params",
      "knexadapterparams",
      "knexadapteroptions",
      "application",
      "declarations",
      "messages",
      "messagesdata",
      "messagesquery",
      "schema",
      "export",
      "interface",
      "messagesparams",
      "class",
      "const",
      "paginate",
      "get",
      "name",
      "use",
      "specific",
      "are",
      "required",
      "string",
      "table",
      "optional",
      "prefix",
      "tableoptions",
      "only",
      "boolean"
    ],
    "category": "databases"
  },
  {
    "id": "v5-api-databases-memory",
    "title": "Memory Adapter",
    "content": "Memory Adapter | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Memory Adapter ​\n`@feathersjs/memory` is a service adatper for in-memory data storage that works on all platforms. It is normally not used to store data on a production server but can be useful for data that isn't persistent and to e.g. cache data in browser or React Native applications.bash\n```\n$ npm install --save @feathersjs/memory\n```\ntipThe memory adapter implements the common database adapter API and querying syntax.\n## API ​\n\n### Usage ​\nts\n```\nimport { MemoryService } from '@feathersjs/memory'\n\ntype Message = {\n  id: number\n  text: string\n}\n\ntype MessageData = Pick\n\nclass MyMessageService extends MemoryService {}\n\napp.use('messages', new MyMessageService({}))\n```\n\n### Options ​\nThe following options are available:`id` (optional, default: `'id'`) - The name of the id field property.\n• `startId` (optional, default: `0`) - An id number to start with that will be incremented for every new record (unless it is already set).\n• `store` (optional) - An object with id to item assignments to pre-initialize the data store\n• `events` (optional) - A list of custom service events sent by this service\n• `paginate` (optional) - A pagination object containing a `default` and `max` page size\n• `allow` (optional) - A list of additional query parameters to allow\n• `multi` (optional) - Allow `create` with arrays and `update` and `remove` with `id` `null` to change multiple items. Can be `true` for all methods or an array of allowed methods (e.g. `[ 'remove', 'create' ]`)\n\n Suggest changes to this page\n\nLast updated: \n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors\n\n feathers \n\n• About\n• Philosophy\n• Comparison\n• Ecosystem\n• Learn\n• Guides\n• API\n• Blog\n• Ecosystem\n• Become a Backer\n• Find Help\n• Github Issues\n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors",
    "version": "v5",
    "tokens": [
      "memory",
      "adapter",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "feathersjs",
      "service",
      "adatper",
      "for",
      "data",
      "storage",
      "that",
      "works",
      "all",
      "platforms",
      "normally",
      "not",
      "used",
      "store",
      "production",
      "server",
      "but",
      "can",
      "useful",
      "isn",
      "persistent",
      "and",
      "cache",
      "browser",
      "react",
      "native",
      "applications",
      "bash",
      "npm",
      "install",
      "save",
      "tipthe",
      "implements",
      "the",
      "common",
      "database",
      "api",
      "querying",
      "syntax",
      "usage",
      "import",
      "memoryservice",
      "from",
      "type",
      "message",
      "number",
      "text",
      "string",
      "messagedata",
      "pick",
      "class",
      "mymessageservice",
      "extends",
      "app",
      "use",
      "messages",
      "new",
      "options",
      "following",
      "are",
      "available",
      "optional",
      "default",
      "name",
      "field",
      "property",
      "startid",
      "start",
      "with",
      "will",
      "incremented",
      "every",
      "record",
      "unless",
      "already",
      "set",
      "object",
      "item",
      "assignments",
      "pre",
      "initialize",
      "events",
      "list",
      "custom",
      "sent",
      "this",
      "paginate",
      "pagination",
      "containing",
      "max",
      "page",
      "size",
      "allow",
      "additional",
      "query",
      "parameters",
      "multi",
      "create",
      "arrays",
      "update",
      "remove",
      "null",
      "change",
      "multiple",
      "items",
      "true",
      "methods",
      "array",
      "allowed",
      "suggest",
      "changes",
      "last",
      "updated",
      "released",
      "under",
      "mit",
      "license",
      "copyright",
      "contributors",
      "about",
      "philosophy",
      "comparison",
      "ecosystem",
      "learn",
      "guides",
      "blog",
      "become",
      "backer",
      "find",
      "help",
      "github",
      "issues"
    ],
    "category": "databases"
  },
  {
    "id": "v4-api-databases-adapters",
    "title": "Overview",
    "content": "# Overview Feathers database adapters are modules that provide services that implement standard CRUD (opens new window) functionality for a specific database using a common API for initialization and settings and providing a common query syntax . Important: Services allow to implement access to any database, the database adapters listed here are just convenience wrappers with a common API. You can still get Feathers functionality for databases that are not listed here. Also have a look at the list of community database adapters (opens new window) The following databases are supported: Database Adapter In memory feathers-memory (opens new window) , feathers-nedb (opens new window) Localstorage, AsyncStorage feathers-localstorage (opens new window) Filesystem feathers-nedb (opens new window) MongoDB feathers-mongodb (opens new window) , feathers-mongoose (opens new window) MySQL, PostgreSQL, MariaDB, SQLite, MSSQL feathers-knex (opens new window) , feathers-sequelize (opens new window) Elasticsearch feathers-elasticsearch (opens new window) Objection feathers-objection (opens new window) Cassandra feathers-cassandra (opens new window) # Memory/Filesystem feathers-memory (opens new window) - An in-memory database adapter feathers-localstorage (opens new window) - An adapter for Client side Feathers that can use the browsers LocalStorage (opens new window) or ReactNative's AsyncStorage (opens new window) . feathers-nedb (opens new window) - A database adapter for NeDB (opens new window) an in-memory or file system based standalone database. # SQL feathers-knex (opens new window) - An adapter for KnexJS (opens new window) , an SQL query builder for NodeJS supporting PostgreSQL, MySQL, SQLite and MSSQL feathers-sequelize (opens new window) - An adapter for Sequelize (opens new window) an ORM for NodeJS supporting PostgreSQL, MySQL, SQLite and MSSQL feathers-objection (opens new window) - A service adapter for Objection.js (opens new window) - A minimal SQL ORM built on top of Knex. # NoSQL feathers-mongoose (opens new window) - A database adapter for Mongoose (opens new window) an Object Modelling library for NodeJS and MongoDB feathers-mongodb (opens new window) - A database adapter for MongoDB (opens new window) using the official NodeJS database driver feathers-elasticsearch (opens new window) - A database adapter for Elasticsearch (opens new window) feathers-cassandra (opens new window) - A database adapter for Cassandra (opens new window)",
    "version": "v4",
    "tokens": [
      "overview",
      "feathers",
      "database",
      "adapters",
      "are",
      "modules",
      "that",
      "provide",
      "services",
      "implement",
      "standard",
      "crud",
      "opens",
      "new",
      "window",
      "functionality",
      "for",
      "specific",
      "using",
      "common",
      "api",
      "initialization",
      "and",
      "settings",
      "providing",
      "query",
      "syntax",
      "important",
      "allow",
      "access",
      "any",
      "the",
      "listed",
      "here",
      "just",
      "convenience",
      "wrappers",
      "with",
      "you",
      "can",
      "still",
      "get",
      "databases",
      "not",
      "also",
      "have",
      "look",
      "list",
      "community",
      "following",
      "supported",
      "adapter",
      "memory",
      "nedb",
      "localstorage",
      "asyncstorage",
      "filesystem",
      "mongodb",
      "mongoose",
      "mysql",
      "postgresql",
      "mariadb",
      "sqlite",
      "mssql",
      "knex",
      "sequelize"
    ],
    "category": "databases"
  },
  {
    "id": "v4-api-databases-common",
    "title": "Common API",
    "content": "# Common API All database adapters implement a common interface for initialization, pagination, extending and querying. This chapter describes the common adapter initialization and options, how to enable and use pagination, the details on how specific service methods behave and how to extend an adapter with custom functionality. Important: Every database adapter is an implementation of the Feathers service interface . We recommend being familiar with services, service events and hooks before using a database adapter. # Initialization # new Service(options) Each adapter exports a Service class that can be exported and extended. const { Service } = require ( 'feathers-<adaptername>' ) ; app . use ( '/messages' , new Service ( ) ) ; app . use ( '/messages' , new Service ( { id , events , paginate } ) ) ;",
    "version": "v4",
    "tokens": [
      "common",
      "api",
      "all",
      "database",
      "adapters",
      "implement",
      "interface",
      "for",
      "initialization",
      "pagination",
      "extending",
      "and",
      "querying",
      "this",
      "chapter",
      "describes",
      "the",
      "adapter",
      "options",
      "how",
      "enable",
      "use",
      "details",
      "specific",
      "service",
      "methods",
      "behave",
      "extend",
      "with",
      "custom",
      "functionality",
      "important",
      "every",
      "implementation",
      "feathers",
      "recommend",
      "being",
      "familiar",
      "services",
      "events",
      "hooks",
      "before",
      "using",
      "new",
      "each",
      "exports",
      "class",
      "that",
      "can",
      "exported",
      "extended",
      "const",
      "require",
      "adaptername",
      "app",
      "messages",
      "paginate"
    ],
    "category": "databases"
  },
  {
    "id": "v4-api-databases-querying",
    "title": "Querying",
    "content": "# Querying All official database adapters support a common way for querying, sorting, limiting and selecting find method calls as part of params.query . Querying also applies update , patch and remove method calls if the id is set to null . Important : When used via REST URLs all query values are strings. Depending on the service the values in params.query might have to be converted to the right type in a before hook . # Equality All fields that do not contain special query parameters are compared directly for equality. // Find all unread messages in room #2 app . service ( 'messages' ) . find ( { query : { read : false , roomId : 2 } } ) ;",
    "version": "v4",
    "tokens": [
      "querying",
      "all",
      "official",
      "database",
      "adapters",
      "support",
      "common",
      "way",
      "for",
      "sorting",
      "limiting",
      "and",
      "selecting",
      "find",
      "method",
      "calls",
      "part",
      "params",
      "query",
      "also",
      "applies",
      "update",
      "patch",
      "remove",
      "the",
      "set",
      "null",
      "important",
      "when",
      "used",
      "via",
      "rest",
      "urls",
      "values",
      "are",
      "strings",
      "depending",
      "service",
      "might",
      "have",
      "converted",
      "right",
      "type",
      "before",
      "hook",
      "equality",
      "fields",
      "that",
      "not",
      "contain",
      "special",
      "parameters",
      "compared",
      "directly",
      "unread",
      "messages",
      "room",
      "app",
      "read",
      "false",
      "roomid"
    ],
    "category": "databases"
  }
]

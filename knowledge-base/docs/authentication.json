[
  {
    "id": "v5-guides-basics-authentication",
    "title": "Authentication",
    "content": "Authentication | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Authentication ​\nAuthentication is an important aspect of any web application that involves user accounts. It allows users to log in and prove their identity, which is critical for keeping the application secure and ensuring that only authorized users can access sensitive information or perform certain actions.The Feathers CLI allows to easily add authentication to our application, including features such as creating and verifying tokens, storing and retrieving user credentials securely, and implementing OAuth-based authentication with third-party providers. The following authentication strategies are included:JWT for authenticating a request with a JSON Web Token. It is an access token that is issued by the Feathers server for a limited time (one day by default). When someone logs in, Feathers issues a JWT that they need to include with every request they make to the application.\n• Local Authentication allows someone to log in and create a JWT using a username (usually an email address) and password that they have already registered with our application. The CLI will also help you set up a database to store this information securely.\n• OAuth Authentication allows someone to log in using their account from a third-party provider like Google, GitHub, or Twitter. The Feathers CLI can set this up too.\n\n## Generating authentication ​\n\nTo initialize a standard authentication setup we can run\n\n```\nnpx feathers generate authentication\n```\n\nFor the first prompt, let's select GitHub in addition to Email + Password by navigating to it with the arrow down key and then pressing space. All other questions can be answered with the default by pressing enter:\n\n## What's next? ​\n\nBy running this command we set up a `users` endpoint to register and store users and an `authentication` endpoint to log them in. It also generated everything necessary for a log in via GitHub.\n\nIf you're not familiar with how the authentication process works, don't worry. We'll cover that in the Logging In chapter of this guide but first let's look at Feathers core concepts of services that our new `users` endpoint already uses.\n\n Suggest changes to this page\n\nLast updated: \n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors\n\n feathers \n\n• About\n• Philosophy\n• Comparison\n• Ecosystem\n• Learn\n• Guides\n• API\n• Blog\n• Ecosystem\n• Become a Backer\n• Find Help\n• Github Issues\n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors",
    "version": "v5",
    "tokens": [
      "authentication",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "important",
      "aspect",
      "any",
      "web",
      "application",
      "that",
      "involves",
      "user",
      "accounts",
      "allows",
      "users",
      "log",
      "and",
      "prove",
      "their",
      "identity",
      "which",
      "critical",
      "for",
      "keeping",
      "the",
      "secure",
      "ensuring",
      "only",
      "authorized",
      "can",
      "access",
      "sensitive",
      "information",
      "perform",
      "certain",
      "actions",
      "cli",
      "easily",
      "add",
      "our",
      "including",
      "features",
      "such",
      "creating",
      "verifying",
      "tokens",
      "storing",
      "retrieving",
      "credentials",
      "securely",
      "implementing",
      "oauth",
      "based",
      "with",
      "third",
      "party",
      "providers",
      "following",
      "strategies",
      "are",
      "included",
      "jwt",
      "authenticating",
      "request",
      "json",
      "token",
      "issued",
      "server",
      "limited",
      "time",
      "one",
      "day",
      "default",
      "when",
      "someone",
      "logs",
      "issues",
      "they",
      "need",
      "include",
      "every",
      "make",
      "local",
      "create",
      "using",
      "username",
      "usually",
      "email",
      "address",
      "password",
      "have",
      "already",
      "registered",
      "will",
      "also",
      "help",
      "you",
      "set",
      "database",
      "store",
      "this",
      "account",
      "from",
      "provider",
      "like",
      "google",
      "github",
      "twitter",
      "too",
      "generating",
      "initialize",
      "standard",
      "setup",
      "run",
      "npx",
      "generate",
      "first",
      "prompt",
      "let",
      "select",
      "addition",
      "navigating",
      "arrow",
      "down",
      "key",
      "then",
      "pressing",
      "space",
      "all",
      "other",
      "questions",
      "answered",
      "enter",
      "what",
      "next",
      "running",
      "command",
      "endpoint",
      "register",
      "them",
      "generated",
      "everything",
      "necessary",
      "via"
    ],
    "category": "authentication"
  },
  {
    "id": "v5-guides-basics-login",
    "title": "Logging in",
    "content": "Logging in | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Logging in ​\nWe now have a fully functional chat application consisting of services and schemas. In the authentication chapter we generated everything necessary for using Feathers authentication so let's look at how to register users and add a log in with GitHub to our chat.\n## Registering a user ​\nThe HTTP REST API can be used directly to register a new user. We can do this by sending a POST request to `http://localhost:3030/users` with JSON data like this as the body:js\n```\n// POST /users\n{\n  \"email\": \"[email protected]\",\n  \"password\": \"supersecret\"\n}\n```\nTry it:sh\n```\ncurl 'http://localhost:3030/users/' \\\n  -H 'Content-Type: application/json' \\\n  --data-binary '{ \"email\": \"[email protected]\", \"password\": \"supersecret\" }'\n```\ninfoFor SQL databases, creating a user with the same email address will only work once, then fail since it already exists. With the default database selection, you can reset your database by removing the `feathers-chat.sqlite` file and running `npm run migrate` to initialise it again.This will return something like this:json\n```\n{\n  \"id\": 123,\n  \"email\": \"[email protected]\",\n  \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n}\n```\njson\n```\n{\n  \"_id\": \"63c00098502debdeec31bd77\",\n  \"email\": \"[email protected]\",\n  \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n}\n```\nWhich means our user has been created successfully.infoThe password has been hashed and stored securely in the database but will never be included in an external response.\n## Logging in ​\nBy default, Feathers uses JSON Web Tokens for authentication. It is an access token that is issued by the Feathers server for a limited time (one day by default) and needs to be sent with every API request that requires authentication. Usually a token is issued for a specific user. Let's see if we can issue a JWT for the user that we just created.tipIf you are wondering why Feathers is using JWT for authentication, have a look at this FAQ.Tokens can be created by sending a POST request to the `/authentication` endpoint (which is the same as calling the `create` method on the `authentication` service set up in `src/authentication`) and passing the authentication strategy you want to use along with any other relevant data. To get a JWT for an existing user through a username (email) and password login, we can use the built-in `local` authentication strategy with a request like this:js\n```\n// POST /authentication\n{\n  \"strategy\": \"local\",\n  \"email\": \"[email protected]\",\n  \"password\": \"supersecret\"\n}\n```\nTry it:sh\n```\ncurl 'http://localhost:3030/authentication/' \\\n  -H 'Content-Type: application/json' \\\n  --data-binary '{ \"strategy\": \"local\", \"email\": \"[email protected]\", \"password\": \"supersecret\" }'\n```\nThis will return something like this:json\n```\n{\n  \"accessToken\": \"\",\n  \"authentication\": {\n    \"strategy\": \"local\"\n  },\n  \"user\": {\n    \"id\": 123,\n    \"email\": \"[email protected]\",\n    \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n  }\n}\n```\njson\n```\n{\n  \"accessToken\": \"\",\n  \"authentication\": {\n    \"strategy\": \"local\"\n  },\n  \"user\": {\n    \"_id\": \"63c00098502debdeec31bd77\",\n    \"email\": \"[email protected]\",\n    \"avatar\": \"https://s.gravatar.com/avatar/ffe2a09df37d7c646e974a2d2b8d3e03?s=60\"\n  }\n}\n```\nThe `accessToken` can now be used for other REST requests that require authentication by sending the `Authorization: Bearer ` HTTP header. For example to create a new message:sh\n```\ncurl 'http://localhost:3030/messages/' \\\n  -H 'Content-Type: application/json' \\\n  -H 'Authorization: Bearer ' \\\n  --data-binary '{ \"text\": \"Hello from the console\" }'\n```\ntipMake sure to replace the `` in the above request. For more information about the direct usage of the REST API see the REST client API and for websockets the Socket.io client API.That's pretty neat, but emails and passwords are boring, let's spice things up a bit.\n## Login with GitHub ​\nOAuth is an open authentication standard supported by almost every major social platform and what gets us the log in with Facebook, Google, GitHub etc. buttons. From the Feathers perspective, the authentication flow with OAuth is pretty similar. Instead of authenticating with the `local` strategy by sending a username and password, Feathers directs the user to authorize the application with the login provider. If it is successful, Feathers authentication finds or creates the user in the `users` service with the information it got back from the provider and then issues a token for them.To allow login with GitHub, we first have to create a new OAuth application on GitHub. You can put anything in the name, homepage and description fields. The callback URL must be set tosh\n```\nhttp://localhost:3030/oauth/github/callback\n```\ninfoYou can find your existing applications in the GitHub OAuth apps developer settings.Once you've clicke",
    "version": "v5",
    "tokens": [
      "logging",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "now",
      "have",
      "fully",
      "functional",
      "chat",
      "application",
      "consisting",
      "services",
      "and",
      "schemas",
      "the",
      "authentication",
      "chapter",
      "generated",
      "everything",
      "necessary",
      "for",
      "using",
      "let",
      "look",
      "how",
      "register",
      "users",
      "add",
      "log",
      "with",
      "github",
      "our",
      "registering",
      "user",
      "http",
      "rest",
      "api",
      "can",
      "used",
      "directly",
      "new",
      "this",
      "sending",
      "post",
      "request",
      "localhost",
      "json",
      "data",
      "like",
      "body",
      "email",
      "protected",
      "password",
      "supersecret",
      "try",
      "curl",
      "content",
      "type",
      "binary",
      "infofor",
      "sql",
      "databases",
      "creating",
      "same",
      "address",
      "will",
      "only",
      "work",
      "once",
      "then",
      "fail",
      "since",
      "already",
      "exists",
      "default",
      "database",
      "selection",
      "you",
      "reset",
      "your",
      "removing",
      "sqlite",
      "file",
      "running",
      "npm",
      "run",
      "migrate",
      "initialise",
      "again",
      "return",
      "something",
      "avatar",
      "https",
      "gravatar",
      "com",
      "ffe2a09df37d7c646e974a2d2b8d3e03",
      "which",
      "means",
      "has",
      "been",
      "created",
      "successfully",
      "infothe",
      "hashed",
      "stored",
      "securely",
      "but",
      "never",
      "included",
      "external",
      "response",
      "uses",
      "web",
      "tokens",
      "access",
      "token",
      "that",
      "issued",
      "server",
      "limited",
      "time",
      "one",
      "day",
      "needs",
      "sent",
      "every",
      "requires",
      "usually",
      "specific",
      "see",
      "issue",
      "jwt"
    ],
    "category": "authentication"
  },
  {
    "id": "v5-guides-cli-authentication",
    "title": "Authentication",
    "content": "Authentication | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Authentication ​\nThe file in `src/authentication.ts` sets up an authentication service and registers authentication strategies. Depending on the strategies you selected it looks similar to this:ts\n```\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\n\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n  authentication.register('local', new LocalStrategy())\n\n  app.use('authentication', authentication)\n}\n```\n\n## oAuth ​\nNote that when selecting oAuth logins (Google, Facebook, GitHub etc.), the standard registered oAuth strategy only uses the `Id` property to create a new user. This will fail validation against the default user schema which requires an `email` property to exist. If the provider (and user) allows fetching the email, you can customize the oAuth strategy like shown for GitHub in the oAuth authentication guide. You can also make the email in the schema optional with `email: Type.Optional(Type.String())`. Suggest changes to this pageLast updated: Released under the MIT License.Copyright © 2012-2026 FeathersJS contributors feathers About\n• Philosophy\n• Comparison\n• Ecosystem\n• Learn\n• Guides\n• API\n• Blog\n• Ecosystem\n• Become a Backer\n• Find Help\n• Github Issues\n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors",
    "version": "v5",
    "tokens": [
      "authentication",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "the",
      "file",
      "src",
      "sets",
      "service",
      "and",
      "registers",
      "strategies",
      "depending",
      "you",
      "selected",
      "looks",
      "similar",
      "this",
      "import",
      "authenticationservice",
      "jwtstrategy",
      "from",
      "feathersjs",
      "localstrategy",
      "local",
      "type",
      "application",
      "declarations",
      "declare",
      "module",
      "interface",
      "servicetypes",
      "export",
      "const",
      "app",
      "new",
      "register",
      "jwt",
      "use",
      "oauth",
      "note",
      "that",
      "when",
      "selecting",
      "logins",
      "google",
      "facebook",
      "github",
      "etc",
      "standard",
      "registered",
      "strategy",
      "only",
      "uses",
      "property",
      "create",
      "user",
      "will",
      "fail",
      "validation",
      "against",
      "default",
      "schema",
      "which",
      "requires",
      "email",
      "exist",
      "provider",
      "allows",
      "fetching",
      "can",
      "customize",
      "like",
      "shown",
      "for",
      "guide",
      "also",
      "make",
      "optional",
      "with",
      "string",
      "suggest",
      "changes",
      "pagelast",
      "updated",
      "released",
      "under",
      "mit",
      "license",
      "copyright",
      "contributors",
      "about",
      "philosophy",
      "comparison",
      "ecosystem",
      "learn",
      "guides",
      "api",
      "blog",
      "become",
      "backer",
      "find",
      "help",
      "issues"
    ],
    "category": "authentication"
  },
  {
    "id": "v5-api-authentication",
    "title": "Authentication Overview",
    "content": "Authentication Overview | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Authentication Overview ​\nThe `@feathersjs/authentication` plugins provide a collection of tools for username/password, JWT and OAuth (GitHub, Facebook etc.) authentication as well as custom authentication mechanisms.It consists of the following core modules:`@feathersjs/authentication` which includes The AuthenticationService that allows to register authentication strategies and create and manage access tokens\n• The JWTStrategy to use JWTs to make authenticated requests\n• The authenticate hook to limit service calls to an authentication strategy.\n• Local authentication for local username/password authentication\n• OAuth authentication for Google, GitHub, Facebook etc. authentication\n• The authentication client to use Feathers authentication on the client.\n\nwarning\n\n`@feathersjs/authentication` is an abstraction for different authentication mechanisms. It does not handle things like user verification or password reset functionality etc. This can be implemented manually, with the help of libraries like feathers-authentication-management or a platform like Auth0.\n\n Suggest changes to this page\n\nLast updated: \n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors\n\n feathers \n\n• About\n• Philosophy\n• Comparison\n• Ecosystem\n• Learn\n• Guides\n• API\n• Blog\n• Ecosystem\n• Become a Backer\n• Find Help\n• Github Issues\n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors",
    "version": "v5",
    "tokens": [
      "authentication",
      "overview",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "the",
      "feathersjs",
      "plugins",
      "provide",
      "collection",
      "tools",
      "for",
      "username",
      "password",
      "jwt",
      "and",
      "oauth",
      "github",
      "facebook",
      "etc",
      "well",
      "custom",
      "mechanisms",
      "consists",
      "following",
      "core",
      "modules",
      "which",
      "includes",
      "authenticationservice",
      "that",
      "allows",
      "register",
      "strategies",
      "create",
      "manage",
      "access",
      "tokens",
      "jwtstrategy",
      "use",
      "jwts",
      "make",
      "authenticated",
      "requests",
      "authenticate",
      "hook",
      "limit",
      "service",
      "calls",
      "strategy",
      "local",
      "google",
      "client",
      "warning",
      "abstraction",
      "different",
      "does",
      "not",
      "handle",
      "things",
      "like",
      "user",
      "verification",
      "reset",
      "functionality",
      "this",
      "can",
      "implemented",
      "manually",
      "with",
      "help",
      "libraries",
      "management",
      "platform",
      "auth0",
      "suggest",
      "changes",
      "page",
      "last",
      "updated",
      "released",
      "under",
      "mit",
      "license",
      "copyright",
      "contributors",
      "about",
      "philosophy",
      "comparison",
      "ecosystem",
      "learn",
      "guides",
      "api",
      "blog",
      "become",
      "backer",
      "find",
      "issues"
    ],
    "category": "authentication"
  },
  {
    "id": "v5-api-authentication-service",
    "title": "Authentication Service",
    "content": "Authentication Service | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Authentication Service ​\n\n```\nnpm install @feathersjs/authentication --save\n```\nThe `AuthenticationService` is a Feathers service that allows to register different authentication strategies and manage access tokens (using JSON web tokens (JWT) by default). This section describesThe standard setup used by the generator\n• How to configure authentication and where the configuration should go\n• The different authentication flows\n• The methods available on the authentication service\n• How to customize the authentication service\n• The Events sent by the authentication service\n\n## Setup ​\n\nThe standard setup initializes an AuthenticationService at the `/authentication` path with a JWT strategy, Local strategy and OAuth authentication (if selected).\n\nts\n```\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n  authentication.register('local', new LocalStrategy())\n\n  app.use('authentication', authentication)\n}\n```\n\n## Configuration ​\n\nThe standard authentication service configuration is normally located in the `authentication` section of a configuration file (default: `config/default.json`).\n\nNote\n\nThe authentication service can also be configured dynamically or without Feathers configuration by using app.set, e.g. `app.set('authentication', config)`.\n\nThe following options are available:\n• `secret`: The JWT signing secret.\n• `service`: The path of the entity service\n• `authStrategies`: A list of authentication strategy names to allow on this authentication service to create access tokens.\n• `parseStrategies`: A list of authentication strategies that should be used to parse HTTP requests. Defaults to the same as `authStrategies`.\n• `entity`: The name of the field that will contain the entity after successful authentication. Will also be used to set `params[entity]` (usually `params.user`) when using the authenticate hook. Can be `null` if no entity is used (see stateless tokens).\n• `entityId`: The id property of an entity object. Only necessary if the entity service does not have an `id` property (e.g. when using a custom entity service).\n• `jwtOptions`: All options available for the node-jsonwebtoken package.\n\nAn authentication service configuration in `config/default.json` can look like this:\n\njson\n```\n{\n  \"authentication\": {\n    \"secret\": \"CHANGE_ME\",\n    \"entity\": \"user\",\n    \"service\": \"users\",\n    \"authStrategies\": [\"jwt\", \"local\"],\n    \"jwtOptions\": {\n      \"header\": { \"typ\": \"access\" },\n      \"audience\": \"https://yourdomain.com\",\n      \"issuer\": \"feathers\",\n      \"algorithm\": \"HS256\",\n      \"expiresIn\": \"1d\"\n    }\n  }\n}\n```\n\ninfo\n\n`typ` in the `header` options is not a typo, it is part of the JWT JOSE header specification.\n\nAdditionally to the above configuration, most strategies will look for their own configuration under the name it was registered. An example can be found in the local strategy configuration.\n\n## Authentication flows ​\n\nBelow are the flows how the authentication service can be used.\n\n### To create a new JWT ​\n\nFor any strategy allowed in `authStrategies`, a user can call `app.service('/authentication').create(data)` or `POST /authentication` with `data` as `{ strategy: name, ...loginData }`. Internally authentication will then\n• Call the strategy `.authenticate` method with `data`\n• Create a JWT for the entity returned by the strategy\n• Return the JWT (`accessToken`) and the additional information from the strategy\n\nFor `local` strategy, the user has to be created before doing auth, otherwise, a 401 `NotAuthenticated` error will be sent.\n\n### To authenticate an external request ​\n\nFor any HTTP request and strategy allowed in `parseStrategies` or - if not set - `authStrategies` authentication will:\n• Call strategy.parse and set the return value of the first strategy that does not return `null` as `params.authentication`\n• Verify `params.authentication` using the authenticate hook which calls the strategy `.authenticate` method with `params.authentication` as the data\n• Merge the return value of the strategy with `params` (e.g. setting `params.user`)\n\n### To authenticate your own service request ​\n\nFor any service that uses the authenticate hook called internally you can set `params.authentication` in the service call which will then:\n• Verify `params.authentication` using the authenticate hook which calls the strategy `.authenticate` method with `params.authentication` as the data\n• Merge the return value of the strategy with `params` (e.g. setting `params.user`)\n\nwarnin",
    "version": "v5",
    "tokens": [
      "authentication",
      "service",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "npm",
      "install",
      "feathersjs",
      "save",
      "the",
      "authenticationservice",
      "that",
      "allows",
      "register",
      "different",
      "strategies",
      "and",
      "manage",
      "access",
      "tokens",
      "using",
      "json",
      "web",
      "jwt",
      "default",
      "this",
      "section",
      "describesthe",
      "standard",
      "setup",
      "used",
      "generator",
      "how",
      "configure",
      "where",
      "configuration",
      "should",
      "flows",
      "methods",
      "available",
      "customize",
      "events",
      "sent",
      "initializes",
      "path",
      "with",
      "strategy",
      "local",
      "oauth",
      "selected",
      "import",
      "jwtstrategy",
      "from",
      "localstrategy",
      "type",
      "application",
      "declarations",
      "declare",
      "module",
      "interface",
      "servicetypes",
      "export",
      "const",
      "app",
      "new",
      "use",
      "normally",
      "located",
      "file",
      "config",
      "note",
      "can",
      "also",
      "configured",
      "dynamically",
      "without",
      "set",
      "following",
      "options",
      "are",
      "secret",
      "signing",
      "entity",
      "authstrategies",
      "list",
      "names"
    ],
    "category": "authentication"
  },
  {
    "id": "v5-api-authentication-hook",
    "title": "Authenticate Hook",
    "content": "Authenticate Hook | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Authenticate Hook ​\nThe `authenticate` hook will use `params.authentication` of the service method call and run authenticationService.authenticate().The hook willThrow an error if the strategy fails\n• Throw an error if no authentication information is set and it is an external call (`params.provider` is set) or do nothing if it is an internal call (`params.provider` is `undefined`)\n• If successful, merge `params` with the return value of the authentication strategy\n\nFor example, a successful JWT strategy authentication will set:\n\njs\n```\nparams.authentication.payload // The decoded payload\nparams.authentication.strategy === 'jwt' // The strategy name\nparams.user // or params[entity] if entity is not `null`\n```\n\nIn the following hooks and for the service method call. It can be used as a `before` or `around` hook.\n\n## authenticate(...strategies) ​\n\nCheck `params.authentication` against a list of authentication strategy names.\n\nts\n```\nimport { authenticate } from '@feathersjs/authentication'\n\n// Authenticate with `jwt` and `api-key` strategy\n// using app.service('authentication') as the authentication service\napp.service('messages').hooks({\n  around: {\n    all: [authenticate('jwt', 'api-key')]\n  }\n})\n```\n\n## authenticate(options) ​\n\nCheck `params.authentication` against a list of strategies and specific authentication service. Available `options` are:\n• `service` - The path to the authentication service\n• `strategies` - A list of strategy names\n\njs\n```\nimport { authenticate } from '@feathersjs/authentication'\n\n// Authenticate with `jwt` and `api-key` strategy\n// using app.service('v1/authentication') as the authentication service\napp.service('messages').hooks({\n  before: {\n    all: [\n      authenticate({\n        service: 'v1/authentication',\n        strategies: ['jwt', 'api-key']\n      })\n    ]\n  }\n})\n```\n\n Suggest changes to this page\n\nLast updated: \n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors\n\n feathers \n\n• About\n• Philosophy\n• Comparison\n• Ecosystem\n• Learn\n• Guides\n• API\n• Blog\n• Ecosystem\n• Become a Backer\n• Find Help\n• Github Issues\n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors",
    "version": "v5",
    "tokens": [
      "authenticate",
      "hook",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "the",
      "will",
      "use",
      "params",
      "authentication",
      "service",
      "method",
      "call",
      "and",
      "run",
      "authenticationservice",
      "willthrow",
      "error",
      "strategy",
      "fails",
      "throw",
      "information",
      "set",
      "external",
      "provider",
      "nothing",
      "internal",
      "undefined",
      "successful",
      "merge",
      "with",
      "return",
      "value",
      "for",
      "example",
      "jwt",
      "payload",
      "decoded",
      "name",
      "user",
      "entity",
      "not",
      "null",
      "following",
      "hooks",
      "can",
      "used",
      "before",
      "around",
      "strategies",
      "check",
      "against",
      "list",
      "names",
      "import",
      "from",
      "feathersjs",
      "api",
      "key",
      "using",
      "app",
      "messages",
      "all",
      "options",
      "specific",
      "available",
      "are",
      "path",
      "suggest",
      "changes",
      "this",
      "page",
      "last",
      "upd"
    ],
    "category": "authentication"
  },
  {
    "id": "v5-api-authentication-strategy",
    "title": "Authentication Strategies",
    "content": "Authentication Strategies | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Authentication Strategies ​\nAn authentication strategy is any object or class that implements at least an authenticate(data, params) method. They can be registered with the AuthenticationService to authenticate service calls and other requests. The following strategies already come with Feathers:JWTStrategy in `@feathersjs/authentication`\n• LocalStrategy in `@feathersjs/authentication-local`\n• OAuthStrategy in `@feathersjs/authentication-oauth`\n\nMore details on how to customize existing strategies can be found in their API documentation. This section describes the common methods for all authentication strategies and how a custom authentication strategy can be implemented.\n\n## setName(name) ​\n\nWill be called with the `name` under which the strategy has been registered on the authentication service. Does not have to be implemented.\n\n## setApplication(app) ​\n\nWill be called with the Feathers application instance. Does not have to be implemented.\n\n## setAuthentication(service) ​\n\nWill be called with the Authentication service this strategy has been registered on. Does not have to be implemented.\n\n## verifyConfiguration() ​\n\nSynchronously verify the configuration for this strategy and throw an error if e.g. required fields are not set. Does not have to be implemented.\n\n## authenticate(authentication, params) ​\n\nAuthenticate `authentication` data with additional `params`. `authenticate` should throw a `NotAuthenticated` if it failed or return an authentication result object.\n\n## parse(req, res) ​\n\nParse a given plain Node HTTP request and response and return `null` or the authentication information it provides. Does not have to be implemented.\n\nThis is called by the authentication service. See AuthService.parse\n\n## AuthenticationBaseStrategy ​\n\nThe `AuthenticationBaseStrategy` class provides a base class that already implements some of the strategy methods below with some common functionality:\n• setName sets `this.name`\n• setApplication sets `this.app`\n• setAuthentication sets `this.authentication`\n• `configuration` getter returns `this.authentication.configuration[this.name]`\n• `entityService` getter returns the entity (usually `/users`) service from `this.app`\n\n## Examples ​\n\nExamples for authentication strategies can be found in the Cookbook:\n• Anonymous strategy\n\n Suggest changes to this page\n\nLast updated: \n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors\n\n feathers \n\n• About\n• Philosophy\n• Comparison\n• Ecosystem\n• Learn\n• Guides\n• API\n• Blog\n• Ecosystem\n• Become a Backer\n• Find Help\n• Github Issues\n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors",
    "version": "v5",
    "tokens": [
      "authentication",
      "strategies",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "strategy",
      "any",
      "object",
      "class",
      "that",
      "implements",
      "least",
      "authenticate",
      "data",
      "params",
      "method",
      "they",
      "can",
      "registered",
      "with",
      "the",
      "authenticationservice",
      "service",
      "calls",
      "and",
      "other",
      "requests",
      "following",
      "already",
      "come",
      "jwtstrategy",
      "feathersjs",
      "localstrategy",
      "local",
      "oauthstrategy",
      "oauth",
      "more",
      "details",
      "how",
      "customize",
      "existing",
      "found",
      "their",
      "api",
      "documentation",
      "this",
      "section",
      "describes",
      "common",
      "methods",
      "for",
      "all",
      "custom",
      "implemented",
      "setname",
      "name",
      "will",
      "called",
      "under",
      "which",
      "has",
      "been",
      "does",
      "not",
      "have",
      "setapplication",
      "app",
      "application",
      "instance",
      "setauthentication",
      "verifyconfiguration",
      "synchronously",
      "verify",
      "configuration",
      "throw",
      "error",
      "required",
      "fields",
      "are",
      "set",
      "additional",
      "should",
      "notauthenticated",
      "failed",
      "return",
      "result",
      "parse",
      "req",
      "res",
      "given",
      "plain",
      "node",
      "http",
      "request",
      "response",
      "null",
      "information",
      "provides",
      "see",
      "authservice",
      "authenticationbasestrategy",
      "base",
      "som"
    ],
    "category": "authentication"
  },
  {
    "id": "v5-api-authentication-jwt",
    "title": "JWT Authentication",
    "content": "JWT Authentication | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# JWT Authentication ​\n\n```\nnpm install @feathersjs/authentication --save\n```\nThe `JWTStrategy` is an authentication strategy included in `@feathersjs/authentication` for authenticating JSON web tokens (JWT):json\n```\n{\n  \"strategy\": \"jwt\",\n  \"accessToken\": \"\"\n}\n```\n\n## Usage ​\nts\n```\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n\n  app.use('authentication', authentication)\n}\n```\n\n## Options ​\nOptions are set in the authentication configuration under the strategy name. Available options are:`header` (default: `'Authorization'`): The HTTP header containing the JWT\n• `schemes` (default: `[ 'Bearer', 'JWT' ]`): An array of schemes to support\n\nThe default settings support passing the JWT through the following HTTP headers:\n\n```\nAuthorization: \nAuthorization: Bearer \nAuthorization: JWT \n```\n\nOptions are usually set under the registered name via Feathers configuration in `config/default.json` or `config/.json`:\n\njson\n```\n{\n  \"authentication\": {\n    \"jwt\": {\n      \"header\": \"X-Auth\"\n    }\n  }\n}\n```\n\nImportant\n\nSince the default options are what most clients expect for JWT authentication they usually don't need to be customized.\n\nTo change the settings for generating and validating a JWT see the authentication service configuration\n\n## JwtStrategy ​\n\n### getEntity(id, params) ​\n\n`jwtStrategy.getEntity(id, params)` returns the entity instance for `id`, usually `entityService.get(id, params)`. It will not be called if `entity` in the authentication configuration is set to `null`.\n\n### authenticate(data, params) ​\n\n`jwtStrategy.authenticate(data, params)` will try to verify `data.accessToken` by calling the strategies authenticationService.verifyAccessToken.\n\nReturns a promise that resolves with the following format:\n\njs\n```\n{\n  [entity],\n  accessToken,\n  authentication: {\n    strategy: 'jwt',\n    payload\n  }\n}\n```\n\nImportant\n\nSince the JWT strategy returns an `accessToken` property (the same as the token sent to this strategy), that access token will also be returned by authenticationService.create instead of creating a new one.\n\n### getEntityQuery(params) ​\n\nReturns the `query` to use when calling `entityService.get` (default: `{}`).\n\n### parse(req, res) ​\n\nParse the HTTP request headers for JWT authentication information. By default in the `Authorization` header. Returns a promise that resolves with either `null` or data in the form of:\n\njs\n```\n{\n  strategy: '',\n  accessToken: ''\n}\n```\n\n## Customization ​\n\nts\n```\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nclass MyJwtStrategy extends JWTStrategy {\n  // Only allow authenticating activated users\n  async getEntityQuery(params: Params) {\n    return {\n      active: true\n    }\n  }\n}\n\nexport default (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new MyJwtStrategy())\n\n  // ...\n  app.use('authentication', authentication)\n}\n```\n\n Suggest changes to this page\n\nLast updated: \n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors\n\n feathers \n\n• About\n• Philosophy\n• Comparison\n• Ecosystem\n• Learn\n• Guides\n• API\n• Blog\n• Ecosystem\n• Become a Backer\n• Find Help\n• Github Issues\n\nReleased under the MIT License.\n\nCopyright © 2012-2026 FeathersJS contributors",
    "version": "v5",
    "tokens": [
      "jwt",
      "authentication",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "npm",
      "install",
      "feathersjs",
      "save",
      "the",
      "jwtstrategy",
      "strategy",
      "included",
      "for",
      "authenticating",
      "json",
      "web",
      "tokens",
      "accesstoken",
      "usage",
      "import",
      "authenticationservice",
      "from",
      "type",
      "application",
      "declarations",
      "declare",
      "module",
      "interface",
      "servicetypes",
      "export",
      "const",
      "app",
      "new",
      "register",
      "use",
      "options",
      "are",
      "set",
      "configuration",
      "under",
      "name",
      "available",
      "header",
      "default",
      "authorization",
      "http",
      "containing",
      "schemes",
      "bearer",
      "array",
      "support",
      "settings",
      "passing",
      "through",
      "following",
      "headers",
      "usually",
      "registered",
      "via",
      "config",
      "auth",
      "important",
      "since",
      "what",
      "most",
      "clients",
      "expect",
      "they",
      "don",
      "need",
      "customized",
      "change",
      "generating",
      "and",
      "validating",
      "see",
      "service",
      "getentity",
      "params",
      "returns",
      "entity",
      "instance",
      "entityservice",
      "get",
      "will",
      "not",
      "called",
      "null",
      "authenticate",
      "dat"
    ],
    "category": "authentication"
  },
  {
    "id": "v5-api-authentication-local",
    "title": "Local Authentication",
    "content": "Local Authentication | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Local Authentication ​\n\n```\nnpm install @feathersjs/authentication-local --save\n```\n`@feathersjs/authentication-local` provides a `LocalStrategy` for authenticating with a username/email and password combination, e.g.json\n```\n{\n  \"strategy\": \"local\",\n  \"email\": \"[email protected]\",\n  \"password\": \"supersecret\"\n}\n```\n\n## Usage ​\nts\n```\nimport { AuthenticationService } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('local', new LocalStrategy())\n\n  app.use('authentication', authentication)\n}\n```\n\n## Options ​\nOptions are set in the authentication configuration under the strategy name. Available options are:`usernameField`: Name of the username field (e.g. `'email'`), may be a nested property (e.g. `'auth.email'`)\n• `passwordField`: Name of the password field (e.g. `'password'`), may be a nested property (e.g. `'auth.password'`)\n• `hashSize` (default: `10`): The BCrypt salt length\n• `errorMessage` (default: `'Invalid login'`): The error message to return on errors\n• `entityUsernameField` (default: `usernameField`): Name of the username field on the entity if authentication request data and entity field names are different\n• `entityPasswordField` (default: `passwordField`): Name of the password field on the entity if authentication request data and entity field names are different\n\nOptions are usually set under the registered name via Feathers configuration in `config/default.json` or `config/.json`:\n\njson\n```\n{\n  \"authentication\": {\n    \"local\": {\n      \"usernameField\": \"email\",\n      \"passwordField\": \"password\"\n    }\n  }\n}\n```\n\n## LocalStrategy ​\n\nNote\n\nThe methods described in this section are intended for customization purposes and internal calls. They usually do not need to be called directly.\n\n### getEntityQuery(query, params) ​\n\n`localStrategy.getEntityQuery(query, params) -> Promise` returns the query for finding the entity. `query` includes the `usernameField` or `entityUsernameField` as `{ [field]: username }` and by default returns a promise that resolves with `{ $limit: 1 }` combined with `query`.\n\n### findEntity(username, params) ​\n\n`localStrategy.findEntity(username, params) -> Promise` return the entity for a given username and service call parameters. It will use the query returned by `getEntityQuery` and call `.find` on the entity (usually `/users`) service. It will return a promise that resolves with the first result of the `.find` call or throw an error if nothing was found.\n\n### getEntity(entity, params) ​\n\n`localStrategy.getEntity(authResult, params) -> Promise` returns the external representation for `entity` that will be sent back to the client.\n\n### hashPassword(password) ​\n\n`localStrategy.hashPassword(password) -> Promise` creates a safe one-way hash of the given plain `password` string. By default bCryptJS is used.\n\n### comparePassword(entity, password) ​\n\n`localStrategy.comparePassword(entity, password) -> Promise` compares a plain text `password` with the hashed password of the `entity` returned by `findEntity`. Returns the `entity` or throws an error if the passwords don't match.\n\n### authenticate(authentication, params) ​\n\n`localStrategy.authenticate(authentication, params)` is the main endpoint implemented by any authentication strategy. It is usually called for authentication requests for this strategy by the AuthenticationService.\n\n## Customization ​\n\nThe `LocalStrategy` can be customized like any ES6 class and then registered on the AuthenticationService:\n\nts\n```\nimport type { Application, Params, Query } from '@feathersjs/feathers'\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\n\nclass MyLocalStrategy extends LocalStrategy {\n  async getEntityQuery(query: Query, params: Params) {\n    // Query for use but only include `active` users\n    return {\n      ...query,\n      active: true,\n      $limit: 1\n    }\n  }\n}\n\nexport default (app: Application) => {\n  const authService = new AuthenticationService(app)\n\n  authService.register('local', new MyLocalStrategy())\n\n  // ...\n  app.use('/authentication', authService)\n}\n```\n\n## Helpers ​\n\n### Protecting fields ​\n\nAs of Feathers v5, external resolvers using the `schemaHooks.resolveExternal` hook are the preferred method to hide or change fields for external requests. The following will always hide the user password for external responses and events:\n\nts\n```\nimport { resolve, schemaHooks } from '@feathersjs/schema'\n\nexport const userExternalResolver = resolve({\n  properties: {\n    // The password ",
    "version": "v5",
    "tokens": [
      "local",
      "authentication",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "npm",
      "install",
      "feathersjs",
      "save",
      "provides",
      "localstrategy",
      "for",
      "authenticating",
      "with",
      "username",
      "email",
      "and",
      "password",
      "combination",
      "json",
      "strategy",
      "protected",
      "supersecret",
      "usage",
      "import",
      "authenticationservice",
      "from",
      "type",
      "application",
      "declarations",
      "declare",
      "module",
      "interface",
      "servicetypes",
      "export",
      "const",
      "app",
      "new",
      "register",
      "use",
      "options",
      "are",
      "set",
      "the",
      "configuration",
      "under",
      "name",
      "available",
      "usernamefield",
      "field",
      "may",
      "nested",
      "property",
      "auth",
      "passwordfield",
      "hashsize",
      "default",
      "bcrypt",
      "salt",
      "length",
      "errormessage",
      "invalid",
      "login",
      "error",
      "message",
      "return",
      "errors",
      "entityusernamefield",
      "entity",
      "request",
      "data",
      "names",
      "different",
      "entitypasswordfield",
      "usually",
      "registered",
      "via",
      "config",
      "passwordfie"
    ],
    "category": "authentication"
  },
  {
    "id": "v5-api-authentication-oauth",
    "title": "OAuth",
    "content": "OAuth | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# OAuth ​\n\n```\nnpm install @feathersjs/authentication-oauth --save\n```\n`@feathersjs/authentication-oauth` allows to authenticate with over 180 OAuth providers (Google, Facebook, GitHub etc.) using grant, an OAuth middleware module for NodeJS.\n## Usage ​\nThe following section covers oAuth authentication strategy setup and a more detailed description of the possible oAuth flows and oAuth URLs.\n### Setup ​\nThe following is a standard oAuth setup. The `OAuthStrategy` often needs to be customized to include additional fields (like the avatar, email address or username) from the oAuth provider.ts\n```\nimport { AuthenticationService, JWTStrategy } from '@feathersjs/authentication'\nimport { LocalStrategy } from '@feathersjs/authentication-local'\nimport { OAuthStrategy, oauth } from '@feathersjs/authentication-oauth'\nimport type { Application } from './declarations'\n\ndeclare module './declarations' {\n  interface ServiceTypes {\n    authentication: AuthenticationService\n  }\n}\n\nexport const authentication = (app: Application) => {\n  const authentication = new AuthenticationService(app)\n\n  authentication.register('jwt', new JWTStrategy())\n  authentication.register('github', new OAuthStrategy())\n  authentication.register('google', new OAuthStrategy())\n\n  app.use('authentication', authentication)\n  app.configure(oauth({}))\n}\n```\nThe following settings for `app.configure(oauth())` are available:`linkStrategy` (default: `'jwt'`) - The name of the stratagy to use for account linking\n• `authService` (default: `app.get('defaultAuthentication')`) - The path of the authentication service to use\n• `expressSession` - An Express middleware for handling sessions. By default will use an HTTP cookie that is only available for the oAuth flow. This normally does not need to be changed.\n• `koaSession` - A Koa middleware for handling sessions. By default will use an HTTP cookie that is only available for the oAuth flow. This normally does not need to be changed.\n\n### Providers ​\n\nFor specific OAuth provider setup see the following cookbook guides:\n• Auth0\n• Facebook\n• Google\n\n### Flow ​\n\nThere are two ways to initiate OAuth authentication:\n• Through the browser (most common)User clicks on link to OAuth URL (`oauth/`)\n• Gets redirected to provider and authorizes the application\n• Callback to the OauthStrategy which Gets the users profile\n• Finds or creates the user (entity) for that profile\n• The AuthenticationService creates an access token for that entity\n• Redirects back to the origin URL including the generated access token\n• The frontend (e.g. the Feathers authentication client) uses the returned access token to authenticate\n• With an existing access token, e.g. obtained through the Facebook mobile SDKAuthenticate normally through the authentication service with `{ strategy: '', accessToken: 'oauth access token' }`.\n• Calls the OauthStrategy which Gets the users profile\n• Finds or creates the entity for that profile\n• Returns the authentication result\n\nImportant\n\nIf you are attempting to authenticate using an existing oAuth access token, ensure that you have added the strategy (e.g. 'facebook') to the allowed authStrategies configuration.\n\n### OAuth URLs ​\n\nThere are two URLs and redirects that are important for OAuth authentication:\n• `http(s):///oauth/`: The main URL to initiate the OAuth flow. Link to this from the browser.\n• `http(s):///oauth//callback`: The callback path that should be set in the OAuth provider application settings.\n\nIn the browser any OAuth flow can be initiated with a link like this:\n\nhtml\n```\nLogin with GitHub\n```\n\n### Account linking ​\n\nTo link an existing user the current access token can be added to the OAuth flow query using the `feathers_token` query parameter:\n\nhtml\n```\n\"> Login with GitHub \n```\n\nThis will use the user (entity) of that access token to link the OAuth account to. Using the authentication client you can get the current access token via `app.get('authentication')`:\n\nts\n```\nconst { accessToken } = await app.get('authentication')\n```\n\n### Redirects ​\n\nThe recommended way to enable redirects is to set a list of allowed `origins` in your application configuration (e.g. `config/default.json`). This will ensure cross origin restrictions across your application and allow oAuth authentication from different frontend applications.\n\njs\n```\n{\n  \"origins\": [\n    // Allow redirect to a local development frontend\n    // (e.g. a create-react-app server) and our production URL\n    \"http://localhost:500\", \"https://myapp.feathersjs.com\"\n  ]\n}\n```\n\nAlternatively, the `redirect` configuration can be used to redirect back to the frontend application after OAuth authentication was successful and an access token for the user has been created by the authentication service or if authentication failed. It works cross domain and by default includes the access token or error message in the window location hash. The following c",
    "version": "v5",
    "tokens": [
      "oauth",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "npm",
      "install",
      "feathersjs",
      "authentication",
      "save",
      "allows",
      "authenticate",
      "with",
      "over",
      "providers",
      "google",
      "facebook",
      "github",
      "etc",
      "using",
      "grant",
      "middleware",
      "module",
      "for",
      "nodejs",
      "usage",
      "the",
      "following",
      "section",
      "covers",
      "strategy",
      "setup",
      "and",
      "more",
      "detailed",
      "description",
      "possible",
      "flows",
      "urls",
      "standard",
      "oauthstrategy",
      "often",
      "needs",
      "customized",
      "include",
      "additional",
      "fields",
      "like",
      "avatar",
      "email",
      "address",
      "username",
      "from",
      "provider",
      "import",
      "authenticationservice",
      "jwtstrategy",
      "localstrategy",
      "local",
      "type",
      "application",
      "declarations",
      "declare",
      "interface",
      "servicetypes",
      "export",
      "const",
      "app",
      "new",
      "register",
      "jwt",
      "use",
      "configure",
      "settings",
      "are",
      "available",
      "linkstrategy",
      "default",
      "name",
      "stratagy",
      "account",
      "linking",
      "authservice",
      "get",
      "defaultauthentication",
      "path",
      "service",
      "expresssession",
      "express",
      "handling",
      "sessions",
      "will",
      "http",
      "cookie",
      "that",
      "only",
      "flow",
      "this",
      "normally",
      "does",
      "not",
      "need",
      "changed",
      "koasession",
      "koa",
      "availabl"
    ],
    "category": "authentication"
  },
  {
    "id": "v5-api-authentication-client",
    "title": "Authentication Client",
    "content": "Authentication Client | feathers\n    \n    \n    • Skip to contentfeathersSearchMetaKAppearanceMenuReturn to top\n# Authentication Client ​\n\n```\nnpm install @feathersjs/authentication-client --save\n```\nThe `@feathersjs/authentication-client` module allows you to easily authenticate a Feathers client against a Feathers server. It is not required, but makes it easier to implement authentication in your client by automatically storing and sending the access token and handling re-authenticating when a websocket disconnects.\n## Usage ​\nts\n```\nimport { feathers } from '@feathersjs/feathers'\nimport socketio from '@feathersjs/socketio-client'\nimport io from 'socket.io-client'\nimport authentication from '@feathersjs/authentication-client'\n\nconst socket = io('http://api.feathersjs.com')\nconst app = feathers()\n\n// Setup the transport (Rest, Socket, etc.) here\napp.configure(socketio(socket))\n\n// Available options are listed in the \"Options\" section\napp.configure(authentication())\n```\n\n## Options ​\nThe following options are available for `app.configure(authentication(options))`:`storage` (default: `localStorage` if available, `MemoryStorage` otherwise) - The storage to store the access token. For React Native use `import { AsyncStorage } from 'react-native'`\n• `path` (default: '/authentication') - The path of the authentication service\n• `locationKey` (default: `'access_token'`) - The name of the window hash parameter to parse for an access token from the `window.location`. Usually used by the OAuth flow.\n• `locationErrorKey` (default: `'error') - The name of the window hash parameter to parse for authentication errors. Usually used by the OAuth flow.\n• `jwtStrategy` (default: `'jwt'`) - The access token authentication strategy\n• `storageKey` (default: `'feathers-jwt'`) - Key for storing the token in `storage`\n• `header` (default: `'Authorization'`) - Name of the accessToken header\n• `scheme` (default: `'Bearer'`) - The HTTP header scheme\n• Authentication (default: `AuthenticationClient`) - Allows to provide a customized authentication client class\n\ninfo\n\nVerifying or parsing the token on the client usually isn't necessary since the server does that on JWT authentication and returns with the token information but it can still be done manually with the jwt-decode package.\n\n## app.reAuthenticate([force]) ​\n\n`app.reAuthenticate() -> Promise` will try to authenticate using the access token from the storage or the window location (e.g. after a successful OAuth login). This is normally called to either show your application (when successful) or showing a login page or redirecting to the appropriate OAuth link.\n\njs\n```\ntry {\n  await app.reAuthenticate()\n  showDashboard()\n} catch (error) {\n  showLoginPage()\n}\n```\n\ndanger\n\n`app.reAuthenticate()` has to be called when you want to use the token from storage. There is no need to call it more than once, so you’d typically only do it once when the application initializes. When successful, all subsequent requests will send their authentication information automatically.\n\nIn some rare cases, for example making sure the user object returned by `app.get('authentication')` is up-to-date after it was changed on the server, you may force reauthentication via `app.reAuthenticate(true)`.\n\n## app.authenticate(data) ​\n\n`app.authenticate(data) -> Promise` will try to authenticate with a Feathers server by passing a `strategy` and other properties as credentials.\n\nts\n```\ntry {\n  // Authenticate with the local email/password strategy\n  await app.authenticate({\n    strategy: 'local',\n    email: '[email protected]',\n    password: 'my-password'\n  })\n  // Show e.g. logged in dashboard page\n} catch (error: any) {\n  // Show login page (potentially with `e.message`)\n  console.error('Authentication error', e)\n}\n```\n\n• `data {Object}` - of the format `{strategy [, ...otherProps]}``strategy {String}` - the name of the strategy to be used to authenticate. Required.\n• `...otherProps {Properties} ` vary depending on the chosen strategy. Above is an example of using the `local` strategy.\n\n## app.logout() ​\n\nRemoves the access token from storage on the client. It also calls the `remove` method of the authentication service.\n\n## app.get('authentication') ​\n\n`app.get('authentication') -> Promise` is a Promise that resolves with the current authentication information. For most strategies this is the best place to get the currently authenticated user:\n\njs\n```\n// Returns the authenticated user\nconst { user } = await app.get('authentication')\n// Gets the authenticated accessToken (JWT)\nconst { accessToken } = await app.get('authentication')\n```\n\n## app.authentication ​\n\nReturns the instance of the AuthenticationClient.\n\n## AuthenticationClient ​\n\n### service ​\n\n`app.authentication.service` returns an instance of the authentication client service, normally `app.service('authentication')`.\n\n### storage ​\n\n`app.authentication.storage` returns the storage instance (e.g. window.LocalStorage, React Native AsyncStorage or an in",
    "version": "v5",
    "tokens": [
      "authentication",
      "client",
      "feathers",
      "skip",
      "contentfeatherssearchmetakappearancemenureturn",
      "top",
      "npm",
      "install",
      "feathersjs",
      "save",
      "the",
      "module",
      "allows",
      "you",
      "easily",
      "authenticate",
      "against",
      "server",
      "not",
      "required",
      "but",
      "makes",
      "easier",
      "implement",
      "your",
      "automatically",
      "storing",
      "and",
      "sending",
      "access",
      "token",
      "handling",
      "authenticating",
      "when",
      "websocket",
      "disconnects",
      "usage",
      "import",
      "from",
      "socketio",
      "socket",
      "const",
      "http",
      "api",
      "com",
      "app",
      "setup",
      "transport",
      "rest",
      "etc",
      "here",
      "configure",
      "available",
      "options",
      "are",
      "listed",
      "section",
      "following",
      "for",
      "storage",
      "default",
      "localstorage",
      "memorystorage",
      "otherwise",
      "store",
      "react",
      "native",
      "use",
      "asyncstorage",
      "path",
      "service",
      "locationkey",
      "name",
      "window",
      "hash",
      "parameter",
      "parse",
      "location",
      "usually",
      "used",
      "oauth",
      "flow",
      "locationerrorkey",
      "error",
      "errors",
      "jwtstrategy",
      "jwt",
      "strategy",
      "storagekey",
      "key",
      "header",
      "authorization",
      "accesstoken",
      "scheme",
      "bearer",
      "def"
    ],
    "category": "authentication"
  },
  {
    "id": "v4-api-authentication-service",
    "title": "Service",
    "content": "# Service (opens new window) (opens new window) npm install @feathersjs/authentication --save",
    "version": "v4",
    "tokens": [
      "service",
      "opens",
      "new",
      "window",
      "npm",
      "install",
      "feathersjs",
      "authentication",
      "save"
    ],
    "category": "authentication"
  },
  {
    "id": "v4-api-authentication-jwt",
    "title": "JWT",
    "content": "# JWT (opens new window) (opens new window) npm install @feathersjs/authentication --save",
    "version": "v4",
    "tokens": [
      "jwt",
      "opens",
      "new",
      "window",
      "npm",
      "install",
      "feathersjs",
      "authentication",
      "save"
    ],
    "category": "authentication"
  },
  {
    "id": "v4-api-authentication-local",
    "title": "Local",
    "content": "# Local (opens new window) (opens new window) npm install @feathersjs/authentication-local --save",
    "version": "v4",
    "tokens": [
      "local",
      "opens",
      "new",
      "window",
      "npm",
      "install",
      "feathersjs",
      "authentication",
      "save"
    ],
    "category": "authentication"
  },
  {
    "id": "v4-api-authentication-oauth",
    "title": "OAuth",
    "content": "# OAuth (opens new window) (opens new window) npm install @feathersjs/authentication-oauth --save",
    "version": "v4",
    "tokens": [
      "oauth",
      "opens",
      "new",
      "window",
      "npm",
      "install",
      "feathersjs",
      "authentication",
      "save"
    ],
    "category": "authentication"
  },
  {
    "id": "v4-api-authentication-client",
    "title": "Client",
    "content": "# Client (opens new window) (opens new window) npm install @feathersjs/authentication-client --save",
    "version": "v4",
    "tokens": [
      "client",
      "opens",
      "new",
      "window",
      "npm",
      "install",
      "feathersjs",
      "authentication",
      "save"
    ],
    "category": "authentication"
  },
  {
    "id": "v4-guides-basics-authentication",
    "title": "Authentication",
    "content": "# Authentication We now have a fully functional chat application consisting of services and hooks . The services come with authentication enabled by default, so before we can use it we need to create a new user and learn how Feathers authentication works. We will look at authenticating our REST API, and then how to authenticate with Feathers in the browser. Finally, we will discuss how to add \"Login with GitHub\" functionality using OAuth 2.0. # Registering a user Although the frontend we will create in the next chapter will allow to register new users, let's have a quick look at how the REST API can be used directly to register a new user. We can do this by sending a POST request to http://localhost:3030/users with JSON data like this as the body: // POST /users { \"email\" : \"hello@feathersjs.com\" , \"password\" : \"supersecret\" }",
    "version": "v4",
    "tokens": [
      "authentication",
      "now",
      "have",
      "fully",
      "functional",
      "chat",
      "application",
      "consisting",
      "services",
      "and",
      "hooks",
      "the",
      "come",
      "with",
      "enabled",
      "default",
      "before",
      "can",
      "use",
      "need",
      "create",
      "new",
      "user",
      "learn",
      "how",
      "feathers",
      "works",
      "will",
      "look",
      "authenticating",
      "our",
      "rest",
      "api",
      "then",
      "authenticate",
      "browser",
      "finally",
      "discuss",
      "add",
      "login",
      "github",
      "functionality",
      "using",
      "oauth",
      "registering",
      "although",
      "frontend",
      "next",
      "chapter",
      "allow",
      "register",
      "users",
      "let",
      "quick",
      "used",
      "directly",
      "this",
      "sending",
      "post",
      "request",
      "http",
      "localhost",
      "json",
      "data",
      "like",
      "body",
      "email",
      "hello",
      "feathersjs",
      "com",
      "password",
      "supersecret"
    ],
    "category": "authentication"
  },
  {
    "id": "v4-api-authentication-strategy",
    "title": "Strategies",
    "content": "# Strategies An authentication strategy is any object or class that implements at least an authenticate(data, params) method. They can be registered with the AuthenticationService to authenticate service calls and other requests. The following strategies already come with Feathers: JWTStrategy in @feathersjs/authentication LocalStrategy in @feathersjs/authentication-local OAuthStrategy in @feathersjs/authentication-oauth More details on how to customize existing strategies can be found in their API documentation. This section describes the APIcommon methods for all authentication strategies and how a custom authentication strategy can implemented. # setName(name) Will be called with the name under which the strategy has been registered on the authentication service . Does not have to be implemented. # setApplication(app) Will be called with the Feathers application instance. Does not have to be implemented. # setAuthentication(service) Will be called with the Authentication service this strategy has been registered on. Does not have to be implemented. # verifyConfiguration() Synchronously verify the configuration for this strategy and throw an error if e.g. required fields are not set. Does not have to be implemented. # authenticate(authentication, params) Authenticate authentication data with additional params . authenticate should throw a NotAuthenticated if it failed or return an authentication result object. # parse(req, res) Parse a given plain Node HTTP request and response and return null or the authentication information it provides. Does not have to be implemented. # AuthenticationBaseStrategy The AuthenticationBaseStrategy class provides a base class that already implements some of the strategy methods below with some common functionality: setName sets this.name setApplication sets this.app setAuthentication sets this.authentication configuration getter returns this.authentication.configuration[this.name] entityService getter returns the entity (usually /users ) service from this.app # Examples Examples for authentication strategies can be found in the Cookbook : Anonymous strategy",
    "version": "v4",
    "tokens": [
      "strategies",
      "authentication",
      "strategy",
      "any",
      "object",
      "class",
      "that",
      "implements",
      "least",
      "authenticate",
      "data",
      "params",
      "method",
      "they",
      "can",
      "registered",
      "with",
      "the",
      "authenticationservice",
      "service",
      "calls",
      "and",
      "other",
      "requests",
      "following",
      "already",
      "come",
      "feathers",
      "jwtstrategy",
      "feathersjs",
      "localstrategy",
      "local",
      "oauthstrategy",
      "oauth",
      "more",
      "details",
      "how",
      "customize",
      "existing",
      "found",
      "their",
      "api",
      "documentation",
      "this",
      "section",
      "describes",
      "apicommon",
      "methods",
      "for",
      "all",
      "custom",
      "implemented",
      "setname",
      "name",
      "will",
      "called",
      "under",
      "which",
      "has",
      "been",
      "does",
      "not",
      "have",
      "setapplication",
      "app",
      "application",
      "instance",
      "setauthentication",
      "thi"
    ],
    "category": "authentication"
  }
]
